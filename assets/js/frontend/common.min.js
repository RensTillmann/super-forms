jQuery(document).ready(function ($) {
    
    var $doc = $(document);
    
    $doc.on('click', '.super-form-button > a', function () {
        var $this = $(this);
        var $form = $this.parents('.super-form');
        var $url = $this.attr('href');
        if($url!=''){
			var $regular_expression = /\{(.*?)\}/g;
		    var $array = [];
			var $i = 0;
		    while (($match = $regular_expression.exec($url)) != null) {
		    	$array[$i] = $match[1];
		    	$i++;
		    }
			for (var $i = 0; $i < $array.length; $i++) {
		        var $name = $array[$i];
		        var $element = $form.find('.super-shortcode-field[name="'+$name+'"]');
		        if($element.length){
					$value = $element.val();
					$url = $url.replace('{'+$name+'}', $value);
					
		        }
		    }
		    $url = $url.replace('{', '').replace('}', '')
		    $this.attr('href', $url);
        }else{
            if(!$this.parent('.super-form-button').hasClass('super-loading')){
            	SUPER.validate_form($form);
        	}
        	return false;
        }
    });

    SUPER.init_tooltips(); 
    SUPER.init_super_form_frontend();
    
});