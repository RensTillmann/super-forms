jQuery(document).ready(function ($) {

    var $doc = $(document);
    
    $('.post-type-super_contact_entry select[name="_status"]').each(function(){
        $(this).html('<option value="-1">— No changes —</option><option value="super_unread">Unread</option><option value="super_read">Read</option>');
    });
    
    $doc.on('click','.super-mark-unread',function(){
        var $this = $(this);
        $.ajax({
            type: 'post',
            url: ajaxurl,
            data: {
                action: 'super_mark_unread',
                contact_entry: $(this).attr('data-contact-entry')
            },
            success: function (data) {
               $this.parents('.status-super_read').removeClass('status-super_read').addClass('status-super_unread');
            }
        });
    });
    $doc.on('click','.super-mark-read',function(){
        var $this = $(this);
        $.ajax({
            type: 'post',
            url: ajaxurl,
            data: {
                action: 'super_mark_read',
                contact_entry: $(this).attr('data-contact-entry')
            },
            success: function (data) {
               $this.parents('.status-super_unread').removeClass('status-super_unread').addClass('status-super_read');
            }
        });
    });
    $doc.on('click','.super-delete-contact-entry',function(){
        $.ajax({
            type: 'post',
            url: ajaxurl,
            data: {
                action: 'super_delete_contact_entry',
                contact_entry: $(this).attr('data-contact-entry')
            },
            success: function (data) {
                window.location.href = "edit.php?post_type=super_contact_entry";
            }
        });
    });  
    
    $doc.on('click','.super-print-contact-entry',function(){
        var myWindow=window.open();
        myWindow.document.write("<style type=\"text/css\">");
        myWindow.document.write("body{font-family:\"Open Sans\",sans-serif;color:#444;-webkit-print-color-adjust:exact;}");
        myWindow.document.write("table{font-size:12px;}");
        myWindow.document.write("table th{font-size:12px;}");
        myWindow.document.write("table td{font-size:12px;}");
        myWindow.document.write("table > tbody > tr:last-child{visibility:hidden;}");
        myWindow.document.write(".super-product-listing > tbody > tr:last-child{visibility:initial;}");
        myWindow.document.write(".super-product-listing {width:100%;border-spacing: 1px;}.super-product-listing thead th {text-align:left;padding:5px 10px;background-color:#444;color:white;}.super-product-listing tbody td,.super-product-listing tfoot td {text-align:left;padding: 5px 10px;}.super-product-listing tfoot td.textright {text-align:right;font-weight:bold;}</style>");
        myWindow.document.write($('#super-contact-entry-data').find('.inside').html());
        myWindow.document.close();
        myWindow.focus();
        myWindow.print();
        myWindow.close();
        return false;
    });

});