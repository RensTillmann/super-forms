"use strict"; // Minimize mutable state :)

// Remove any CSS stylesheets
let i = 0;
[].forEach.call(document.styleSheets, function(el) {
    if(el.href){
        //if(el.href.indexOf('super-forms/assets/css')!=-1){
            //document.styleSheets[i].disabled = true;
        //} 
    }
    i++;
});

// Scroll elements horizontally
(function() {
    function scrollHorizontally(e) {
        e = window.event || e;
        var delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));
        document.querySelector('.sf-elements .sf-items-wrapper').scrollLeft -= (delta*100); // Multiplied by 40
        e.preventDefault();
    }
    if (document.querySelector('.sf-elements .sf-items-wrapper').addEventListener) {
        // IE9, Chrome, Safari, Opera
        document.querySelector('.sf-elements .sf-items-wrapper').addEventListener('mousewheel', scrollHorizontally, false);
        // Firefox
        document.querySelector('.sf-elements .sf-items-wrapper').addEventListener('DOMMouseScroll', scrollHorizontally, false);
    } else {
        // IE 6/7/8
        document.querySelector('.sf-elements .sf-items-wrapper').attachEvent('onmousewheel', scrollHorizontally);
    }
})();



const app = {};

app.elements = {};

app.elements.text = {
    title : 'Text field',
    settings : {
        general : {
            label : {
                value : {
                    type : 'text',
                    title : 'Field label',
                    default : 'Field Label'
                },
                font : {
                    color : {
                        type : 'color_picker',
                        title : 'Color',
                        default : '#000',
                        selector : '.super-label-description > .super-label',
                        style_update : 'color'
                    },
                    family : {
                        type : 'dropdown;font',
                        title : 'Family',
                        default : 'Default',
                        selector : '.super-label-description > .super-label',
                        style_update : 'fontFamily'
                    },
                    size : {
                        type : 'slider',
                        title : 'Size',
                        min : 1,
                        max : 50,
                        step : 1,
                        units : ['px', 'em', 'rem'],
                        default : {
                            value : '12',
                            unit : 'px'
                        },
                        selector : '.super-label-description > .super-label',
                        style_update : 'fontSize'
                    },
                    weight : {
                        type : 'dropdown',
                        title : 'Weight',
                        default : 'default',
                        options : {
                            '100' : '100',
                            '200' : '200',
                            '300' : '300',
                            '400' : '400',
                            '500' : '500',
                            '600' : '600',
                            '700' : '700',
                            '800' : '800',
                            '900' : '900',
                            'default' : 'Default',
                            'normal' : 'Normal',
                            'bold' : 'Bold'
                        },
                        selector : '.super-label-description > .super-label',
                        style_update : 'fontWeight'
                    },
                    transform : {
                        type : 'dropdown',
                        title : 'Transform',
                        default : 'default',
                        options : {
                            'default' : 'Default',
                            'uppercase' : 'Uppercase',
                            'lowercase' : 'Lowercase',
                            'capitalize' : 'Capitalize',
                            'normal' : 'Normal'
                        },
                        selector : '.super-label-description > .super-label',
                        style_update : 'textTransform'
                    },
                    style : {
                        type : 'dropdown',
                        title : 'Style',
                        default : 'default',
                        options : {
                            'default' : 'Default',
                            'normal' : 'Normal',
                            'italic' : 'Italic',
                            'oblique' : 'Oblique'
                        },
                        selector : '.super-label-description > .super-label',
                        style_update : 'fontStyle'
                    },
                    decoration : {
                        type : 'dropdown',
                        title : 'Decoration',
                        default : 'default',
                        options : {
                            'default' : 'Default',
                            'underline' : 'Underline',
                            'overline' : 'Overline',
                            'line-through' : 'Line Through',
                            'none' : 'None'
                        },
                        selector : '.super-label-description > .super-label',
                        style_update : 'textDecoration'
                    },
                    line_height : {
                        type : 'slider',
                        title : 'Line-height',
                        min : 1,
                        max : 50,
                        step : 1,
                        units : ['px', 'em', 'rem'],
                        default : {
                            value : '12',
                            unit : 'px'
                        },
                        selector : '.super-label-description > .super-label',
                        style_update : 'lineHeight'
                    },
                    spacing : {
                        type : 'slider',
                        title : 'Letter spacing',
                        min : -5,
                        max : 10,
                        step : 0.1,
                        units : ['px', 'em', 'rem'],
                        default : {
                            value : '12',
                            unit : 'px'
                        },
                        selector : '.super-label-description > .super-label',
                        style_update : 'letterSpacing'
                    }
                },
                layout : {
                    position : {
                        type : 'position'
                    },
                    alignment : {
                        type : 'alignment'
                    },
                    width : {
                        type : 'width'
                    },
                    flex_size : {
                        type : 'flex_width'
                    },
                    size : {
                        type : 'fixed_width',
                        //unit : '',
                    },
                    padding : {
                        type : 'padding'
                    }
                }
            }
        }
    },
    data : {
        label : {
            value : "",
            font : {
                color : "",
                size : ""
            },
            layout : {
                position : "",
                alignment : "",
                width : "",
                flex_size : "",
                size : {
                    value : "",
                    unit : ""
                },
                padding : {
                    top : "",
                    right : "",
                    bottom : "",
                    left : "",
                    unit : ""
                }
            }
        }
    }
}