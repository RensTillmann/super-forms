!function(y){SUPER.init_dropdowns=function(){y(".super-dropdown-ui").each(function(){if(""==y(this).children(".super-placeholder").html()){var e=y(this).children("li:eq(1)");e.addClass("super-active"),y(this).children(".super-placeholder").attr("data-value",e.attr("data-value")).html(e.html())}})},SUPER.init_skype=function(){y(".super-skype-button").each(function(){var e=y(this).parents(".super-skype:eq(0)");e.hasClass("super-rendered")||(e.addClass("super-rendered"),Skype.ui({name:y(this).data("method"),element:y(this).attr("id"),participants:[y(this).data("username")],imageSize:y(this).data("size"),imageColor:y(this).data("color")}))})},SUPER.init_masked_input=function(){y(".super-shortcode-field[data-mask]").each(function(){y(this).mask(y(this).data("mask"))})},SUPER.init_currency_input=function(){y(".super-currency .super-shortcode-field").each(function(){var e=y(this).data("currency"),t=y(this).data("format"),a=y(this).data("decimals"),r=y(this).data("thousand-separator"),s=y(this).data("decimal-separator");y(this).maskMoney({prefix:e,suffix:t,affixesStay:!0,allowNegative:!0,allowZero:!0,thousands:r,decimal:s,precision:a,allowNegative:!0}).maskMoney("mask")})},SUPER.init_colorpicker=function(){y(".super-color .super-shortcode-field").each(function(){if("function"==typeof y.fn.spectrum&&!y(this).hasClass("super-picker-initialized")){var e=y(this).val();""==e&&(e="#FFFFFF"),y(this).spectrum({containerClassName:"super-forms",replacerClassName:"super-forms",color:e,preferredFormat:"hex",showInput:!0,chooseText:"Accept",cancelText:"Cancel",change:function(e){this.value=e.toHexString()},move:function(e){this.value=e.toHexString()}}).addClass("super-picker-initialized")}})},SUPER.init_datepicker_get_age=function(e,t){var a,r=new Date,s=(new Date(r.getYear(),r.getMonth(),r.getDate()),r.getYear()),i=r.getMonth(),n=r.getDate(),o=new Date(e.substring(6,10),e.substring(0,2)-1,e.substring(3,5)),d=o.getYear(),u=o.getMonth(),l=o.getDate();if(yearAge=s-d,u<=i)var p=i-u;else{yearAge--;p=12+i-u}if(l<=n)var c=n-l;else{c=31+n-l;--p<0&&(p=11,yearAge--)}return a={years:yearAge,months:p,days:c},"years"==t?a.years:"months"==t?a.months:"days"==t?a.days:void 0},SUPER.init_connected_datepicker=function(e,t,a,r){var s=t,i=e.data("jsformat");if(""!=s)if(null!=(g=Date.parseExact(s,a))){var n=g.toString("yyyy"),o=g.toString("MM"),d=g.toString("dd");e.attr("data-math-year",n),e.attr("data-math-month",o),e.attr("data-math-day",d);var u=new Date(Date.UTC(n,o-1,d));Math.round(Math.abs(u.getTime()/r));e.attr("data-math-diff",u.getTime()),e.attr("data-math-age",SUPER.init_datepicker_get_age(o+"/"+d+"/"+n,"years")),e.attr("data-math-age-months",SUPER.init_datepicker_get_age(o+"/"+d+"/"+n,"months")),e.attr("data-math-age-days",SUPER.init_datepicker_get_age(o+"/"+d+"/"+n,"days"));var l=e.data("connected_min");if(void 0!==l)if(""!=l)if((f=y('.super-shortcode-field.super-datepicker[name="'+l+'"]')).length){i=f.data("jsformat");var p=e.data("connected_min_days"),c=Date.parseExact(s,a).add({days:p}).toString(i);if(f.datepicker("option","minDate",c),""==f.val()&&f.val(c),null!=(v=Date.parseExact(f.val(),a))){t=v.toString(i),n=(g=Date.parseExact(t,i)).toString("yyyy"),o=g.toString("MM"),d=g.toString("dd"),t=new Date(Date.UTC(n,o-1,d));f.attr("data-math-diff",t.getTime()),SUPER.init_connected_datepicker(f,f.val(),a,r)}}var f,h=e.data("connected_max");if(void 0!==h)if(""!=h)if((f=y('.super-shortcode-field.super-datepicker[name="'+h+'"]')).length){i=f.data("jsformat");var v,m=e.data("connected_max_days"),_=Date.parseExact(s,a).add({days:m}).toString(i);if(f.datepicker("option","maxDate",_),""==f.val()&&f.val(_),null!=(v=Date.parseExact(f.val(),a))){var g;t=v.toString(i),n=(g=Date.parseExact(t,i)).toString("yyyy"),o=g.toString("MM"),d=g.toString("dd"),t=new Date(Date.UTC(n,o-1,d));f.attr("data-math-diff",t.getTime()),SUPER.init_connected_datepicker(f,f.val(),a,r)}}}else console.log("Error: incorrect date format, parseExact error");SUPER.after_field_change_blur_hook(e)},SUPER.init_datepicker=function(){var k=864e5;new Date;function set_timepicker_dif(e){var t=e.val();if("h:i A"==e.data("format")){""==t&&(t="12:00 AM");var a=Number(t.match(/^(\d+)/)[1]),r=Number(t.match(/:(\d+)/)[1]),s=t.match(/\s(.*)$/)[1];"PM"==s&&a<12&&(a+=12),"AM"==s&&12==a&&(a-=12);var i=a.toString(),n=r.toString();a<10&&(i="0"+i),r<10&&(n="0"+n),t=i+":"+n}void 0===(t=t.split(":"))[0]&&(t[0]="00"),void 0===t[1]&&(t[1]="00");var o=t[0],d=(d=t[1].split(" "))[0];if(void 0===t[2])var u="00";else u=t[2];var l=new Date,p=l.getDate(),c=l.getMonth(),f=l.getFullYear(),h=new Date(Date.UTC(f,c,p,o,d,u)).getTime();e.attr("data-math-diff",h),SUPER.after_field_change_blur_hook(e)}y(".super-datepicker").each(function(){"function"==typeof datepicker&&y(this).datepicker("destroy")}),y(".super-datepicker:not(.super-picker-initialized)").each(function(){var a=y(this),e=a.data("format"),r=a.data("jsformat");a.addClass("super-picker-initialized");var s=[r],t=a.val(),i=a.parents(".super-form:eq(0)").hasClass("super-rtl");if(""!=t){var n=Date.parseExact(t,s);if(null!=n){var o=n.toString("yyyy"),d=n.toString("MM"),u=n.toString("dd");a.attr("data-math-year",o),a.attr("data-math-month",d),a.attr("data-math-day",u);var l=new Date(Date.UTC(o,d-1,u));Math.round(Math.abs(l.getTime()/k));if(a.attr("data-math-diff",l.getTime()),a.attr("data-math-age",SUPER.init_datepicker_get_age(d+"/"+u+"/"+o,"years")),a.attr("data-math-age-months",SUPER.init_datepicker_get_age(d+"/"+u+"/"+o,"months")),a.attr("data-math-age-days",SUPER.init_datepicker_get_age(d+"/"+u+"/"+o,"days")),null!=(p=Date.parseExact(u+"-"+d+"-"+o,s))){var p=p.toString("dd-MM-yyyy");SUPER.init_connected_datepicker(a,p,s,k)}}}else a.attr("data-math-year","0"),a.attr("data-math-month","0"),a.attr("data-math-day","0"),a.attr("data-math-diff","0"),a.attr("data-math-age","0");a.attr("name"),a.data("connected_min_days"),a.data("connected_max_days");var c=a.data("minlength"),f=a.data("maxlength");void 0!==c&&(c=c.toString()),void 0!==f&&(f=f.toString());var h=a.data("work-days"),v=a.data("weekends"),m=a.attr("data-excl-days"),_=a.data("range"),g=a.data("first-day");a.datepicker({onClose:function(e){SUPER.init_connected_datepicker(a,e,s,k)},beforeShowDay:function(e){var t=e.getDay();if(void 0!==m&&-1<m.split(",").indexOf(t.toString()))return[!1,"super-disabled-day"];return 1==v&&1==h?[!0,""]:1==v?[0==t||6==t,""]:1==h?[1==t||2==t||3==t||4==t||5==t,""]:[]},beforeShow:function(e,t){y(t).datepicker("widget").addClass("super-datepicker-dialog"),y('.super-datepicker[data-connected_min="'+y(this).attr("name")+'"]').each(function(){if(""!=y(this).val()){var e=y(this).data("connected_min_days"),t=Date.parseExact(y(this).val(),s).add({days:e}).toString(r);a.datepicker("option","minDate",t)}}),y('.super-datepicker[data-connected_max="'+y(this).attr("name")+'"]').each(function(){if(""!=y(this).val()){var e=y(this).data("connected_max_days"),t=Date.parseExact(y(this).val(),s).add({days:e}).toString(r);a.datepicker("option","maxDate",t)}})},yearRange:_,changeMonth:!0,changeYear:!0,showAnim:"",showOn:y(this).parent().find(".super-icon"),minDate:c,maxDate:f,dateFormat:e,monthNames:super_elements_i18n.monthNames,monthNamesShort:super_elements_i18n.monthNamesShort,dayNames:super_elements_i18n.dayNames,dayNamesShort:super_elements_i18n.dayNamesShort,dayNamesMin:super_elements_i18n.dayNamesMin,weekHeader:super_elements_i18n.weekHeader,firstDay:g,isRTL:i,showMonthAfterYear:!1,yearSuffix:""}),y(this).parent().find(".super-icon").css("cursor","pointer")}),y(".super-datepicker").parent().find(".super-icon").on("click",function(){y(this).parent().find(".super-datepicker").datepicker("show")}),y(".super-datepicker").on("click focus",function(){y(".super-timepicker").length&&y(".super-timepicker").timepicker("hide"),y(this).datepicker("show")}),y(".super-timepicker").each(function(){var e=y(this),t="l";if(1==e.parents(".super-form:eq(0)").hasClass("super-rtl"))t="r";var a=e.data("format"),r=e.data("step"),s=e.data("range"),i=e.data("minlength"),n=e.data("maxlength"),o=e.data("duration"),d=[];if(""!=s&&void 0!==s){s=s.split("\n");y.each(s,function(e,t){d.push(t.split("|"))})}""==i&&(i="00:00"),""==n&&(n="23:59");var u=e.parents(".super-form:eq(0)").attr("id"),l=e.parents(".super-form:eq(0)").data("field-size");e.timepicker({className:u+" super-timepicker-dialog super-field-size-"+l,timeFormat:a,step:r,disableTimeRanges:d,minTime:i,maxTime:n,showDuration:o,orientation:t}),e.parent().find(".super-icon").css("cursor","pointer"),set_timepicker_dif(e)}),y(".super-timepicker").on("changeTime",function(){set_timepicker_dif(y(this))}),y(".super-timepicker").parent().find(".super-icon").on("click",function(){y(this).parent().find(".super-timepicker").timepicker("show")}),y(".super-timepicker").on("click focus",function(){y(".super-datepicker").length&&y(".super-datepicker").datepicker("hide"),y(this).timepicker("show")})},SUPER.init_button_colors=function(e){if(void 0===e)y(".super-button .super-button-wrap").each(function(){SUPER.init_button_colors(y(this))});else{var t=(e=e.parent()).data("type"),a=e.data("color"),r=(e.data("hover-color"),e.data("light")),s=(e.data("hover-light"),e.data("dark")),i=(e.data("hover-dark"),e.data("font")),n=e.data("font-hover"),o=e.find(".super-button-wrap"),d=o.find(".super-button-name");$btn_name_icon=d.find("i"),"diagonal"==t&&(void 0!==a?o.css("border-color",a):o.css("border-color",""),void 0!==i?(d.css("color",i),$btn_name_icon.css("color",i)):(d.css("color",""),$btn_name_icon.css("color","")),e.find(".super-button-wrap .super-after").css("background-color",a)),"outline"==t&&(void 0!==a?o.css("border-color",a):o.css("border-color",""),o.css("background-color",""),void 0!==i?(d.css("color",i),$btn_name_icon.css("color",i)):(d.css("color",""),$btn_name_icon.css("color",""))),"2d"==t&&(o.css("background-color",a),o.css("border-color",r),d.css("color",i),$btn_name_icon.css("color",i)),"3d"==t&&(o.css("background-color",a),o.css("color",s).css("border-color",r),void 0!==n?(d.css("color",i),$btn_name_icon.css("color",i)):void 0!==i?(d.css("color",i),$btn_name_icon.css("color",i)):(d.css("color",""),$btn_name_icon.css("color",""))),"flat"==t&&(o.css("background-color",a),d.css("color",i),$btn_name_icon.css("color",i))}},SUPER.init_button_hover_colors=function(e){var t=e.data("type"),a=e.data("color"),r=e.data("hover-color"),s=(e.data("light"),e.data("hover-light")),i=(e.data("dark"),e.data("hover-dark")),n=e.data("font"),o=e.data("font-hover"),d=e.find(".super-button-wrap"),u=d.find(".super-button-name");return $btn_name_icon=u.find("i"),"2d"==t&&(d.css("background-color",r),d.css("border-color",s),u.css("color",o),$btn_name_icon.css("color",o)),"flat"==t&&(d.css("background-color",r),u.css("color",o),$btn_name_icon.css("color",o)),"outline"==t&&(void 0!==r?d.css("background-color",r):void 0!==a?d.css("background-color",a):d.css("background-color",""),d.css("border-color",r),void 0!==o?(u.css("color",o),$btn_name_icon.css("color",o)):void 0!==n?(u.css("color",n),$btn_name_icon.css("color",n)):(u.css("color",""),$btn_name_icon.css("color",""))),"diagonal"==t?(void 0!==a?d.css("border-color",r):d.css("border-color",""),void 0!==n?(u.css("color",o),$btn_name_icon.css("color",o)):(u.css("color",""),$btn_name_icon.css("color","")),d.find(".super-after").css("background-color",r),!1):"2d"!=t&&void(void 0!==r&&(d.css("background-color",r),"3d"==t&&(d.css("color",i).css("border-color",s),void 0!==o?(u.css("color",o),$btn_name_icon.css("color",o)):void 0!==n?(u.css("color",n),$btn_name_icon.css("color",n)):(u.css("color",""),$btn_name_icon.css("color","")))))},SUPER.unsetFocus=function(){y(".super-field.super-focus").removeClass("super-focus").blur()},SUPER.get_decimal_places=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},jQuery(document).ready(function(_){SUPER.init_dropdowns(),SUPER.init_skype(),SUPER.init_datepicker(),SUPER.init_masked_input(),SUPER.init_currency_input(),SUPER.init_colorpicker();var e=_(document),t=null;e.on("keyup",".super-keyword-tags .super-autosuggest-tags > input",function(){var a=_(this)[0];null!==t&&clearTimeout(t),t=setTimeout(function(){var r=a.value.toString(),e=a.closest(".super-field");if(""==r)e.classList.remove("super-string-found");else{var s=[],i=[],t=a.closest(".super-field-wrapper").querySelectorAll(".super-dropdown-ui > li"),n=!1;[].forEach.call(t,function(e){var t=e.dataset.searchValue.toString();if(-1!=t.toLowerCase().indexOf(r.toLowerCase())){s.push(e),n=!0;var a=RegExp([r].join("|"),"gi");e.innerHTML='<span class="super-wp-tag">'+e.innerText.replace(a,"<span>$&</span>")+"</span>"}else i.push(e),e.innerHTML='<span class="super-wp-tag">'+t+"</span>"}),[].forEach.call(s,function(e){e.style.display="inline-block",e.classList.add("super-active")}),[].forEach.call(i,function(e){e.style.display="none",e.classList.remove("super-active")}),e.classList.add("super-focus"),e.classList.add("super-string-found"),1==n?e.classList.remove("super-no-match"):e.classList.add("super-no-match")}},250)}),e.on("click",".super-autosuggest-tags",function(e){_(this).parents(".super-field:eq(0)").find(".super-autosuggest-tags > input").focus()}),e.on("click",".super-keyword-tags .super-dropdown-ui li",function(e){var t=_(this),a=t.parent(),r=t.parents(".super-field:eq(0)"),s=r.find("input.super-shortcode-field:eq(0)"),i=r.find(".super-autosuggest-tags > input"),n=t.data("value"),o=t.data("search-value");if(""==n)return!0;if(!(-1<s.val().split(",").indexOf(n))){_('<span class="super-noselect" data-value="'+n+'" title="remove this tag">'+o+"</span>").appendTo(r.find(".super-autosuggest-tags > div")),SUPER.set_keyword_tags_width(r),i.val("").focus();var d="",u=0;r.find(".super-autosuggest-tags > div > span").each(function(){0==u&&(d=_(this).text()),0!=u&&(d=d+","+_(this).text()),u++}),s.val(d),""!=d&&i.attr("placeholder",""),a.find("li").removeClass("super-active"),_(this).addClass("super-active"),r.removeClass("super-focus").removeClass("super-string-found"),SUPER.after_field_change_blur_hook(s)}}),e.on("click",".super-autosuggest-tags > div > span",function(e){var t=_(this),a=t.parents(".super-field:eq(0)"),r=a.find("input.super-shortcode-field:eq(0)"),s=a.find(".super-autosuggest-tags > input");t.remove(),SUPER.set_keyword_tags_width(a),s.val("").focus();var i="",n=0;a.find(".super-autosuggest-tags > div > span").each(function(){0==n&&(i=_(this).text()),0!=n&&(i=i+","+_(this).text()),n++}),r.val(i),""==i&&s.attr("placeholder",s.attr("data-placeholder")),SUPER.after_field_change_blur_hook(r)}),_(window).click(function(){_(".super-form .super-keyword-tags.super-string-found.super-focus").removeClass("super-string-found")});var l={version:"0.3.2",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},a=Object.prototype.toString;function isString(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function isArray(e){return"[object Array]"===a.call(e)}function isObject(e){return"[object Object]"===toString.call(e)}function defaults(e,t){var a;for(a in e=e||{},t=t||{})t.hasOwnProperty(a)&&null==e[a]&&(e[a]=t[a]);return e}function checkPrecision(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}var p=l.unformat=l.parse=function(e,t){if(isArray(e))return map(e,function(e){return p(e,t)});if("number"==typeof(e=e||0))return e;t=t||".";var a=new RegExp("[^0-9-"+t+"]",["g"]),r=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(a,"").replace(t,"."));return isNaN(r)?0:r},u=l.toFixed=function(e,t){t=checkPrecision(t,l.settings.number.precision);var a=Math.pow(10,t);return(Math.round(l.unformat(e)*a)/a).toFixed(t)},c=l.formatNumber=function(e,t,a,r){if(isArray(e))return map(e,function(e){return c(e,t,a,r)});e=p(e,r);var s=defaults(isObject(t)?t:{precision:t,thousand:a,decimal:r},l.settings.number),i=checkPrecision(s.precision),n=e<0?"-":"",o=parseInt(u(Math.abs(e||0),i),10)+"",d=3<o.length?o.length%3:0;return n+(d?o.substr(0,d)+s.thousand:"")+o.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+s.thousand)+(i?s.decimal+u(Math.abs(e),i).split(".")[1]:"")},f=l.formatMoney=function(e,t,a,r,s,i){if(isArray(e))return map(e,function(e){return f(e,t,a,r,s,i)});e=p(e,s);var n,o,d=defaults(isObject(t)?t:{symbol:t,precision:a,thousand:r,decimal:s,format:i},l.settings.currency),u=(n=d.format,o=l.settings.currency.format,"function"==typeof n&&(n=n()),isString(n)&&n.match("%v")?{pos:n,neg:n.replace("-","").replace("%v","-%v"),zero:n}:n&&n.pos&&n.pos.match("%v")?n:isString(o)?l.settings.currency.format={pos:o,neg:o.replace("%v","-%v"),zero:o}:o);return(0<e?u.pos:e<0?u.neg:u.zero).replace("%s",d.symbol).replace("%v",c(Math.abs(e),checkPrecision(d.precision),d.thousand,d.decimal))};array_contains_key=function(e,t){return 0<=e.indexOf(t)},e.on("input",".super-form .super-uppercase .super-shortcode-field",function(e){_(this).val(function(e,t){return t.toUpperCase()})});var s=null;e.on("keyup blur","textarea.super-shortcode-field",function(e,t){var a=250;"keyup"!=e.type&&(a=0);var r=_(this);null!==s&&clearTimeout(s),s=setTimeout(function(){var e=(e=r.val().match(/\S+/g))?e.length:0;r.parents(".super-field-wrapper:eq(0)");r.attr("data-word-count",e),SUPER.after_field_change_blur_hook(r)},a)}),e.on("click",".super-quantity .super-minus-button, .super-quantity .super-plus-button",function(){var e=_(this),t=e.parent().find(".super-shortcode-field"),a=parseFloat(t.data("minnumber")),r=parseFloat(t.data("maxnumber"));""==(s=t.val())&&(s=0);var s=parseFloat(s),i=parseFloat(t.data("steps")),n=SUPER.get_decimal_places(i);if(e.hasClass("super-plus-button")){var o=s+i;if(r<(o=parseFloat(o.toFixed(n))))return!1}else{o=s-i;if((o=parseFloat(o.toFixed(n)))<a)return!1}t.val(o),SUPER.after_field_change_blur_hook(t)}),e.on("click",".super-toggle-switch",function(){var e=_(this),t=e.parent().find(".super-shortcode-field"),a=e.find(".super-toggle-on").data("value");if(e.hasClass("super-active"))a=e.find(".super-toggle-off").data("value");e.toggleClass("super-active"),t.val(a),SUPER.after_field_change_blur_hook(t)}),e.on("click",".super-entered-keywords > span",function(){var e=_(this),t=e.parent();e.remove();var a="",r=0;t.children("span").each(function(){a+=0==r?_(this).text():", "+_(this).text(),r++}),t.parent().find(".super-shortcode-field.super-keyword").val(a)}),e.on("keyup keydown",".super-shortcode-field.super-keyword",function(){var e=_(this),t=e.val(),a=e.data("split-method"),r=e.data("keyword-max");if("both"==a)var s=t.split(/[ ,]+/);if("comma"==a)s=t.split(/[,]+/);if("space"==a)s=t.split(/[ ]+/);var i="",n=0,o={};_.each(s,function(e,t){void 0===o[t]&&++n<=r&&("comma"!=a&&(t=t.replace(/ /g,"")),""!=t&&1<t.length&&(i+='<span class="super-noselect">'+t+"</span>")),o[t]=t}),e.parent().find(".super-entered-keywords").html(i)});var r=null;e.on("keyup blur",".super-form .super-currency .super-shortcode-field, .super-form .super-quantity .super-shortcode-field",function(e){var t=_(this),a=0;void 0!==t.attr("data-threshold")&&"keyup"==e.type?(a=parseFloat(t.attr("data-threshold")),null!==r&&clearTimeout(r),r=setTimeout(function(){SUPER.after_field_change_blur_hook(t)},a)):SUPER.after_field_change_blur_hook(t)}),e.on("click",".super-form .super-duplicate-column-fields .super-add-duplicate",function(){var o=_(this),d=o.parents(".super-duplicate-column-fields:eq(0)").parents(".super-column:eq(0)"),h=d.parents(".super-form:eq(0)"),e=d.find(".super-duplicate-column-fields:eq(0)"),t=d.children(".super-duplicate-column-fields").length,a=d.data("duplicate_limit");if(0!=a&&a<=t)return!1;var r={},u={},l={},v=0;e.find(".super-shortcode").each(function(){if((e=_(this).find(".super-shortcode-field")).hasClass("super-fileupload"))var e=e.parent(".super-field-wrapper").find(".super-active-files");var t=e.attr("name");r[t]=t,u[v]=t,l[v]=e.data("email"),v++});v=d.children(".super-duplicate-column-fields").length;var s=e.clone();if(s=_(s).appendTo(d),SUPER.after_appending_duplicated_column_hook(h,r,s),s.find(".super-shortcode.super-slider > .super-field-wrapper > *:not(.super-shortcode-field)").remove(),s.find(".super-address-autopopulate").removeClass("super-autopopulate-init"),s.find(".super-datepicker").removeClass("super-picker-initialized"),s.find(".super-color .super-shortcode-field").removeClass("super-picker-initialized"),s.find(".super-color .sp-replacer").remove(),s.find(".super-auto-suggest").find(".super-dropdown-ui li").removeClass("super-active"),SUPER.init_clear_form(s),SUPER.init_slider_field(),SUPER.rating(),s.find(".super-shortcode[data-super-tab-index]").last().length)var i=s.find(".super-shortcode[data-super-tab-index]").last().attr("data-super-tab-index");else i="";i=parseFloat(i);var n={},p={},c=[],f=0;s.find(".super-shortcode").each(function(){var e=_(this);void 0!==e.attr("data-super-tab-index")&&""!=i&&(i=parseFloat(parseFloat(i)+.001).toFixed(3),e.attr("data-super-tab-index",i));var t=_(this).find(".super-shortcode-field");if((n[t.attr("name")]=t).length){if(t.hasClass("super-fileupload")){t.removeClass("super-rendered");t=t.parent(".super-field-wrapper").find(".super-active-files")}t.attr("name",u[f]+"_"+(v+1)),t.attr("data-email",l[f]+" "+(v+1)),p[u[f]]=u[f]+"_"+(v+1),c.push(u[f]+"_"+(v+1)),t.hasClass("hasDatepicker")&&t.removeClass("hasDatepicker").attr("id","")}f++});var m=[];_.each(p,function(e,t){$html_fields=h.find('.super-html-content[data-fields*="['+e+']"]'),$html_fields.each(function(){var a=_(this);if(!a.parents(".super-duplicate-column-fields:eq(0)").length){var r=!1;_.each(m,function(e,t){t.is(a)&&(r=!0)}),r||m.push(a)}})}),_.each(m,function(e,t){t.attr("data-fields",t.attr("data-fields")+"["+c.join("][")+"]")}),s.find(".super-shortcode").each(function(){var e=_(this);if((t=_(this).find(".super-shortcode-field")).length){if(t.hasClass("super-fileupload"))var t=t.parent(".super-field-wrapper").find(".super-active-files")}else t=_(this);if("true"==d.attr("data-duplicate_dynamically")){if(e.hasClass("super-html")){var i=v+1,a=e.children(".super-html-content").attr("data-fields");a=a.split("]");var n={};_.each(a,function(e,t){if(""!=t){var a=t=t.replace("[",""),r=(t=t.toString().split(";"))[0];if("dynamic_column_counter"==r)return!0;var s=t[1];s=void 0===s?"":";"+s,n[a]=r+"_"+i+s}});var r="";_.each(n,function(e,t){r+="["+t+"]"}),e.children(".super-html-content").attr("data-fields",r);var s=e.children("textarea").val();_.each(n,function(e,t){s=(s=s.split("{"+e+";").join("{"+t+";")).split("{"+e+"}").join("{"+t+"}")}),e.children("textarea").val(s)}e.children(".super-conditional-logic").each(function(){var e=_(this),r=v+1,s=jQuery.parseJSON(e.html());if(void 0!==s){var i={};_.each(s,function(e,t){var a=t.field+"_"+r;void 0===i[t.field]&&0!=h.find('.super-shortcode-field[name="'+a+'"]').length&&(i[t.field]=a);a=t.field_and+"_"+r;void 0===i[t.field_and]&&0!=h.find('.super-shortcode-field[name="'+a+'"]').length&&(i[t.field_and]=a)}),_.each(s,function(a,e){_.each(e,function(e,t){"field"!=e&&"value"!=e&&"field_and"!=e&&"value_and"!=e||void 0!==i[t]&&(s[a][e]=i[t])})});var a=e.attr("data-fields");_.each(i,function(e,t){a=a.replace("["+e+"]","["+t+"]")}),e.attr("data-fields",a).val(JSON.stringify(s))}}),e.children(".super-variable-conditions").each(function(){var e=_(this),p=v+1,c=jQuery.parseJSON(e.html());if(void 0!==c){var f={};_.each(c,function(e,t){var a=t.field+"_"+p;void 0===f[t.field]&&0!=h.find('.super-shortcode-field[name="'+a+'"]').length&&(f[t.field]=a);a=t.field_and+"_"+p;void 0===f[t.field_and]&&0!=h.find('.super-shortcode-field[name="'+a+'"]').length&&(f[t.field_and]=a);var r=t.new_value;if(""!=r){for(var s=/\{(.*?)\}/g,i=[],n=0;null!=($match=s.exec(r));)i[n]=$match[1],n++;for(n=0;n<i.length;n++){var o=i[n];a=o+"_"+p;void 0===f[t.new_value]&&0!=h.find('.super-shortcode-field[name="'+a+'"]').length&&(f[o]=a)}}}),_.each(c,function(l,e){_.each(e,function(e,t){if("field"!=e&&"value"!=e&&"field_and"!=e&&"value_and"!=e||void 0!==f[t]&&(c[l][e]=f[t]),"new_value"==e){var a=c[l][e];if(""!=a){for(var r=/\{(.*?)\}/g,s=[],i=0;null!=($match=r.exec(a));)s[i]=$match[1],i++;for(i=0;i<s.length;i++){var n=s[i].toString().split(";"),o=n[0],d="";if(void 0===n[1]);else d=";"+n[1];var u=o+"_"+p;0!=h.find('.super-shortcode-field[name="'+u+'"]').length&&(a=a.replace("{"+o+d+"}","{"+u+d+"}"))}}c[l][e]=a}})});var a=e.attr("data-fields"),r=e.attr("data-tags");_.each(f,function(e,t){a=(a=a.split("["+e+";").join("["+t+";")).split("["+e+"]").join("["+t+"]"),r=(r=r.split("["+e+";").join("["+t+";")).split("["+e+"]").join("["+t+"]")}),e.attr("data-fields",a).attr("data-tags",r).val(JSON.stringify(c))}}),SUPER.after_duplicate_column_fields_hook(o,e,v,d,u,l)}}),SUPER.init_datepicker(),SUPER.init_masked_input(),SUPER.init_currency_input(),SUPER.init_colorpicker(),SUPER.init_fileupload_fields(),SUPER.google_maps_init(),SUPER.after_duplicating_column_hook(h,r,s),_.each(n,function(e,t){SUPER.after_field_change_blur_hook(t,h)})}),e.on("click",".super-duplicate-column-fields .super-delete-duplicate",function(){var a=_(this).parents(".super-form:eq(0)"),r={},e=_(this).parents(".super-duplicate-column-fields:eq(0)");e.find(".super-shortcode-field").each(function(){r[_(this).attr("name")]=_(this)}),e.remove();var s=[];_.each(r,function(e,t){a.find('.super-html-content[data-fields*="['+e+']"]').each(function(){var a=_(this);if(!a.parents(".super-duplicate-column-fields:eq(0)").length){var r=!1;_.each(s,function(e,t){t.is(a)&&(r=!0)}),r||s.push(a)}})}),_.each(s,function(e,t){var a=t.attr("data-fields");_.each(r,function(e,t){a=a.replace("["+e+"]","")}),t.attr("data-fields",a)}),SUPER.after_duplicating_column_hook(a,r),_.each(r,function(e,t){SUPER.after_field_change_blur_hook(t,a)}),SUPER.init_replace_html_tags()}),e.on("click",".super-msg .close",function(){_(this).parents(".super-msg:eq(0)").fadeOut(500)}),e.on("click",".super-fileupload-button",function(){_(this).parents(".super-field-wrapper:eq(0)").find(".super-fileupload").trigger("click")}),e.on("click",".super-fileupload-delete",function(){var e=_(this),t=e.parents(".super-fileupload-files:eq(0)").parents(".super-field-wrapper:eq(0)"),a=t.children(".super-fileupload").data("total-file-sizes")-e.parent().data("file-size");t.children(".super-fileupload").data("total-file-sizes",a),t.children('input[type="hidden"]').val(""),e.parent("div").remove()});var i=null;e.on("keyup",".super-field.super-auto-suggest .super-shortcode-field",function(){var a=_(this)[0];null!==i&&clearTimeout(i),i=setTimeout(function(){var r=a.value.toString(),e=a.closest(".super-field");if(""==r)e.classList.remove("super-string-found");else{var s=[],i=[],t=a.closest(".super-field-wrapper").querySelectorAll(".super-dropdown-ui > li"),n=!1;[].forEach.call(t,function(e){var t=e.dataset.searchValue.toString();if(-1!=t.toLowerCase().indexOf(r.toLowerCase())){s.push(e),n=!0;var a=RegExp([r].join("|"),"gi");e.innerHTML=e.innerText.replace(a,"<span>$&</span>")}else i.push(e),e.innerHTML=t}),[].forEach.call(s,function(e){e.style.display="block"}),[].forEach.call(i,function(e){e.style.display="none"}),1==n?(e.classList.add("super-string-found"),e.classList.add("super-focus")):e.classList.remove("super-string-found")}},250)}),e.on("click",".super-dropdown-ui:not(.super-autosuggest-tags-list), .super-dropdown-arrow",function(){var e=_(this);e.parents(".super-field:eq(0)").hasClass("super-focus-dropdown")||(_(".super-focus").removeClass("super-focus"),_(".super-focus-dropdown").removeClass("super-focus-dropdown"),e.parents(".super-field:eq(0)").addClass("super-focus").addClass("super-focus-dropdown"),e.parent().find('input[name="super-dropdown-search"]').focus())});var h=null;function super_focus_first_tab_index_field(e,t,a){if(void 0===a.attr("data-disable-autofocus")){var r=a.find(".super-field:not("+super_elements_i18n.tab_index_exclusion+")[data-super-tab-index]"),s=0;r.each(function(){var e=parseFloat(_(this).attr("data-super-tab-index"));s<e&&(s=e)});var i=s;r.each(function(){var e=parseFloat(_(this).attr("data-super-tab-index"));e<i&&(i=e)});var n=a.find(".super-field:not("+super_elements_i18n.tab_index_exclusion+')[data-super-tab-index="'+i+'"]');SUPER.super_focus_next_tab_field(e,n,t,n)}}function super_skip_multipart(e,t,a,r){var s=!0;if(t.find(".super-multipart.active .super-field:not(.super-button)").each(function(){var e=_(this),t=e.find(".super-shortcode-field"),a=!1;if(t.length){t.parents(".super-shortcode.super-column").each(function(){"none"==_(this).css("display")&&(a=!0)});var r=t.parents(".super-shortcode:eq(0)");1==a||"none"==r.css("display")&&!r.hasClass("super-hidden")||(s=!1)}else e.parents(".super-shortcode.super-column").each(function(){"none"==_(this).css("display")&&(a=!0)}),1==a||"none"==e.css("display")&&!e.hasClass("super-hidden")||(s=!1)}),1==s){var i=t.find(".super-multipart.active");e.hasClass("super-prev-multipart")||e.hasClass("super-next-multipart")?e.hasClass("super-prev-multipart")?i.find(".super-prev-multipart").click():i.find(".super-next-multipart").click():a<r?i.find(".super-prev-multipart").click():i.find(".super-next-multipart").click()}return s}e.on("keyup",'input[name="super-dropdown-search"]',function(e){var t=e.keyCode||e.which;if(13==t||40==t||38==t)return!1;var a=_(this);null!==h&&clearTimeout(h),h=setTimeout(function(){a.val("")},1e3);var r=_(this).val().toString(),s=_(this).parents(".super-field:eq(0)"),i=_(this).parents(".super-field-wrapper:eq(0)");if(""==r)s.removeClass("super-string-found");else{var n=i.find(".super-dropdown-ui > li:not(.super-placeholder)"),o=!1,d=null;if(n.each(function(){var e=_(this).data("search-value").toString();if(1==(-1!==e.toLowerCase().indexOf(r.toLowerCase()))){null==d&&(d=_(this)),o=!0;var t=RegExp([r].join("|"),"gi"),a=_(this).text().replace(t,"<span>$&</span>");_(this).html(a),_(this).addClass("super-active")}else _(this).html(e),_(this).removeClass("super-active")}),1==o){s.find(".super-dropdown-ui li.super-active").removeClass("super-active"),d.addClass("super-active"),s.addClass("super-string-found").addClass("super-focus");var u=s.find(".super-dropdown-ui");u.scrollTop(u.scrollTop()-u.offset().top+d.offset().top-50)}else s.removeClass("super-string-found")}}),e.on("mouseleave",".super-dropdown-ui:not(.super-autosuggest-tags-list)",function(){_(this).parents(".super-field:eq(0)").removeClass("super-focus-dropdown").removeClass("super-string-found"),_(this).parents(".super-field:eq(0)").find('input[name="super-dropdown-search"]').val("")}),e.on("focus",".super-text .super-shortcode-field, .super-quantity .super-shortcode-field, .super-password .super-shortcode-field, .super-textarea .super-shortcode-field, .super-dropdown .super-shortcode-field, .super-countries .super-shortcode-field, .super-date .super-shortcode-field, .super-time .super-shortcode-field",function(){SUPER.unsetFocus(),_(this).hasClass("super-datepicker")||_(this).hasClass("super-timepicker")?_(this).hasClass("super-focus")||(_(this).parents(".super-form:eq(0)").hasClass("super-window-first-responsiveness")||_(this).parents(".super-form:eq(0)").hasClass("super-window-second-responsiveness"))&&_("html, body").animate({scrollTop:_(this).offset().top-20},0):(_(".super-datepicker").length&&_(".super-datepicker").datepicker("hide"),_(".super-timepicker").length&&_(".super-timepicker").timepicker("hide")),_(this).parents(".super-field:eq(0)").addClass("super-focus")}),e.on("blur",".super-text .super-shortcode-field, .super-quantity .super-shortcode-field, .super-password .super-shortcode-field, .super-textarea .super-shortcode-field, .super-dropdown .super-shortcode-field, .super-countries .super-shortcode-field, .super-date .super-shortcode-field, .super-time .super-shortcode-field",function(e){_(this).parents(".super-field:eq(0)").hasClass("super-wc-order-search")||_(this).parents(".super-field:eq(0)").hasClass("super-auto-suggest")||_(this).parents(".super-field:eq(0)").hasClass("super-keyword-tags")||SUPER.unsetFocus()}),e.on("click",".super-wc-order-search .super-dropdown-ui li",function(e){var t=_(this),a=t.parents(".super-field-wrapper:eq(0)");if(!a.hasClass("super-overlap")){var r=t.parent(),s=t.parents(".super-field:eq(0)"),i=t.text(),n=s.find(".super-shortcode-field").data("wcosp");r.find("li").removeClass("super-active"),_(this).addClass("super-active"),s.find(".super-shortcode-field").val(i),s.removeClass("super-focus").removeClass("super-string-found"),a.addClass("super-overlap"),SUPER.after_field_change_blur_hook(s.find(".super-shortcode-field")),!0===n&&SUPER.populate_form_data_ajax(s)}}),e.on("click",".super-wc-order-search .super-field-wrapper.super-overlap li",function(e){var t=_(this).parents(".super-field-wrapper:eq(0)");t.find(".super-shortcode-field").val(""),t.find(".super-active").removeClass("super-active"),t.removeClass("super-overlap"),SUPER.after_field_change_blur_hook(t.find(".super-shortcode-field"))}),e.on("click",".super-auto-suggest .super-dropdown-ui li",function(e){var t=_(this),a=t.parents(".super-field:eq(0)"),r=t.parent(),s=t.text();r.find("li").removeClass("super-active"),_(this).addClass("super-active"),a.find(".super-shortcode-field").val(s),a.removeClass("super-focus").removeClass("super-string-found"),SUPER.after_field_change_blur_hook(a.find(".super-shortcode-field"))}),e.on("click",".super-dropdown-ui li:not(.super-placeholder)",function(e){if(e.stopPropagation(),_(this).parents(".super-field:eq(0)").hasClass("super-focus-dropdown")){_(this).parents(".super-field:eq(0)").removeClass("super-focus-dropdown");var t=_(this).parents(".super-field-wrapper:eq(0)").children("input"),a=_(this).parents(".super-dropdown-ui:eq(0)"),r=a.find(".super-placeholder:eq(0)"),s=!1;if(a.hasClass("multiple")&&(s=!0),0==s){var i=_(this).attr("data-value"),n=_(this).html();r.html(n).attr("data-value",i).addClass("super-active"),a.find("li").removeClass("super-active"),_(this).addClass("super-active"),t.val(i);var o=t.data("validation"),d=SUPER.get_duration(t.parents(".super-form"));void 0!==o&&!1!==o&&SUPER.handle_validations(t,o,"",d),SUPER.after_dropdown_change_hook(t)}else{var u=t.attr("data-maxlength"),l=t.attr("data-minlength"),p=a.find("li.super-active:not(.super-placeholder)").length;if(_(this).hasClass("super-active")){if(1<p){if(p<=l)return!1;_(this).removeClass("super-active")}}else{if(u<=p)return!1;_(this).addClass("super-active")}var c="",f="",h=(p=a.find("li.super-active:not(.super-placeholder)").length,1);a.find("li.super-active:not(.super-placeholder)").each(function(){p==h||1==p?(c+=_(this).html(),f+=_(this).attr("data-value")):(c+=_(this).html()+",",f+=_(this).attr("data-value")+","),h++}),r.html(c),t.val(f);o=t.data("validation"),d=SUPER.get_duration(t.parents(".super-form"));void 0!==o&&!1!==o&&SUPER.handle_validations(t,o,"",d),SUPER.after_dropdown_change_hook(t)}}}),e.on("click",".super-back-to-top",function(){_("html, body").animate({scrollTop:0},1e3)}),e.on("change",".super-shortcode-field",function(e){if(9!=(e.keyCode||e.which)){var t=SUPER.get_duration(_(this).parents(".super-form")),a=_(this),r=a.data("validation"),s=a.data("conditional-validation");SUPER.handle_validations(a,r,s,t),SUPER.after_field_change_blur_hook(a)}}),e.on("click",".super-form .super-radio > .super-field-wrapper > label",function(e){if("a"==e.target.localName)"_blank"==e.target.target?window.open(e.target.href,"_blank"):window.location.href=e.target.href;else{var t=_(this),a=t.children('input[type="radio"]');if(t.hasClass("super-active"))return!0;var r=t.parent(".super-field-wrapper"),s=r.children(".super-shortcode-field");r.children("label").removeClass("super-active"),t.addClass("super-active");var i=s.data("validation"),n=SUPER.get_duration(s.parents(".super-form"));s.val(a.val()),void 0!==i&&!1!==i&&SUPER.handle_validations(s,i,"",n),SUPER.after_radio_change_hook(s)}return!1}),e.on("click",".super-form .super-checkbox > .super-field-wrapper > label",function(e){if("a"==e.target.localName)"_blank"==e.target.target?window.open(e.target.href,"_blank"):window.location.href=e.target.href;else{var t=_(this),a=t.children('input[type="checkbox"]').parents(".super-field-wrapper:eq(0)"),r=a.children('input[type="hidden"]'),s=(a.children("input").data("maxlength"),0),i=a.find(".super-shortcode-field").data("maxlength");if(t.hasClass("super-active"))t.removeClass("super-active");else{if((n=a.find("label.super-active")).length>=i)return!1;t.addClass("super-active")}var n=a.find("label.super-active"),o="";n.each(function(){0==s&&(o=_(this).children("input").val()),0!=s&&(o=o+","+_(this).children("input").val()),s++}),r.val(o);var d=r.data("validation"),u=SUPER.get_duration(r.parents(".super-form"));void 0!==d&&!1!==d&&SUPER.handle_validations(r,d,"",u),SUPER.after_checkbox_change_hook(r)}return!1}),e.on("change",".super-form select",function(){var e=_(this),t=SUPER.get_duration(e.parents(".super-form")),a=e.data("minlength"),r=e.data("maxlength");0<a&&null==e.val()?SUPER.handle_errors(e,t):e.val().length>r?SUPER.handle_errors(e,t):e.val().length<a?SUPER.handle_errors(e,t):e.parents(".super-field:eq(0)").children("p").fadeOut(t,function(){_(this).remove()});var s=e.data("validation");t=SUPER.get_duration(e.parents(".super-form"));void 0!==s&&!1!==s&&SUPER.handle_validations(e,s,"",t),SUPER.after_dropdown_change_hook(e)}),SUPER.init_button_colors(),e.on("mouseleave",".super-button .super-button-wrap",function(){_(this).parent().removeClass("super-focus"),SUPER.init_button_colors(_(this))}),e.on("mouseover",".super-button .super-button-wrap",function(){SUPER.init_button_hover_colors(_(this).parent())}),e.on("click",".super-multipart-step",function(e){var t=_(this),a=t.parents(".super-form:eq(0)"),r=a.find(".super-multipart.active"),s=a.find(".super-multipart-step.active").index(),i=t.index(),n=a.find(".super-multipart").length;if(1==r.data("validate")&&0==SUPER.validate_form(r,t,!0,e))return!1;var o=(o=100/n)*(i+1),d=a.find(".super-multipart:eq("+i+")");if(a.find(".super-multipart-progress-bar").css("width",o+"%"),a.find(".super-multipart-step").removeClass("active"),a.find(".super-multipart").removeClass("active"),d.addClass("active"),t.addClass("active"),1==super_skip_multipart(t,a,i,s))return!1;super_focus_first_tab_index_field(e,a,d)}),e.on("click",".super-prev-multipart, .super-next-multipart",function(e){var t=_(this),a=t.parents(".super-form:eq(0)"),r=a.find(".super-multipart").length,s=a.find(".super-multipart-step.active").index();if(t.hasClass("super-prev-multipart")){if(0<s){a.find(".super-multipart").removeClass("active"),a.find(".super-multipart-step").removeClass("active"),a.find(".super-multipart:eq("+(s-1)+")").addClass("active"),a.find(".super-multipart-step:eq("+(s-1)+")").addClass("active");var i=s-1}}else{if(1==a.find(".super-multipart.active").data("validate"))if(0==SUPER.validate_form(a.find(".super-multipart.active"),t,!0,e))return!1;if(s+1<r){a.find(".super-multipart").removeClass("active"),a.find(".super-multipart-step").removeClass("active"),a.find(".super-multipart:eq("+(s+1)+")").addClass("active"),a.find(".super-multipart-step:eq("+(s+1)+")").addClass("active");i=s+1}}if(1==super_skip_multipart(t,a))return!1;var n=(n=100/(r=a.find(".super-multipart").length))*(i+1);a.find(".super-multipart-progress-bar").css("width",n+"%");i=0;a.find(".super-multipart").each(function(){_(this).find(".error-active").length||a.find(".super-multipart-steps").find(".super-multipart-step:eq("+i+")").removeClass("super-error"),i++});var o=a.find(".super-multipart.active");void 0===o.attr("data-disable-scroll-pn")&&_("html, body").animate({scrollTop:a.offset().top-30},500),super_focus_first_tab_index_field(e,a,o)})})}(jQuery);