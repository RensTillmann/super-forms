var X$=Object.defineProperty;var J$=(Io,On,oo)=>On in Io?X$(Io,On,{enumerable:!0,configurable:!0,writable:!0,value:oo}):Io[On]=oo;var ro=(Io,On,oo)=>J$(Io,typeof On!="symbol"?On+"":On,oo);(function(){"use strict";function Io(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(s,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function On(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oo={exports:{}},Ea={},Md={exports:{}},Ae={};var bm;function x1(){if(bm)return Ae;bm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function S(z,T,q){this.props=z,this.context=T,this.refs=N,this.updater=q||b}S.prototype.isReactComponent={},S.prototype.setState=function(z,T){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,T,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=S.prototype;function _(z,T,q){this.props=z,this.context=T,this.refs=N,this.updater=q||b}var w=_.prototype=new C;w.constructor=_,k(w,S.prototype),w.isPureReactComponent=!0;var R=Array.isArray,P=Object.prototype.hasOwnProperty,I={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function M(z,T,q){var G,J={},xe=null,U=null;if(T!=null)for(G in T.ref!==void 0&&(U=T.ref),T.key!==void 0&&(xe=""+T.key),T)P.call(T,G)&&!O.hasOwnProperty(G)&&(J[G]=T[G]);var ge=arguments.length-2;if(ge===1)J.children=q;else if(1<ge){for(var ze=Array(ge),Ee=0;Ee<ge;Ee++)ze[Ee]=arguments[Ee+2];J.children=ze}if(z&&z.defaultProps)for(G in ge=z.defaultProps,ge)J[G]===void 0&&(J[G]=ge[G]);return{$$typeof:e,type:z,key:xe,ref:U,props:J,_owner:I.current}}function B(z,T){return{$$typeof:e,type:z.type,key:T,ref:z.ref,props:z.props,_owner:z._owner}}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function oe(z){var T={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(q){return T[q]})}var ue=/\/+/g;function Ne(z,T){return typeof z=="object"&&z!==null&&z.key!=null?oe(""+z.key):T.toString(36)}function re(z,T,q,G,J){var xe=typeof z;(xe==="undefined"||xe==="boolean")&&(z=null);var U=!1;if(z===null)U=!0;else switch(xe){case"string":case"number":U=!0;break;case"object":switch(z.$$typeof){case e:case t:U=!0}}if(U)return U=z,J=J(U),z=G===""?"."+Ne(U,0):G,R(J)?(q="",z!=null&&(q=z.replace(ue,"$&/")+"/"),re(J,T,q,"",function(Ee){return Ee})):J!=null&&(V(J)&&(J=B(J,q+(!J.key||U&&U.key===J.key?"":(""+J.key).replace(ue,"$&/")+"/")+z)),T.push(J)),1;if(U=0,G=G===""?".":G+":",R(z))for(var ge=0;ge<z.length;ge++){xe=z[ge];var ze=G+Ne(xe,ge);U+=re(xe,T,q,ze,J)}else if(ze=x(z),typeof ze=="function")for(z=ze.call(z),ge=0;!(xe=z.next()).done;)xe=xe.value,ze=G+Ne(xe,ge++),U+=re(xe,T,q,ze,J);else if(xe==="object")throw T=String(z),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return U}function ke(z,T,q){if(z==null)return z;var G=[],J=0;return re(z,G,"","",function(xe){return T.call(q,xe,J++)}),G}function ae(z){if(z._status===-1){var T=z._result;T=T(),T.then(function(q){(z._status===0||z._status===-1)&&(z._status=1,z._result=q)},function(q){(z._status===0||z._status===-1)&&(z._status=2,z._result=q)}),z._status===-1&&(z._status=0,z._result=T)}if(z._status===1)return z._result.default;throw z._result}var ne={current:null},F={transition:null},K={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:F,ReactCurrentOwner:I};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:ke,forEach:function(z,T,q){ke(z,function(){T.apply(this,arguments)},q)},count:function(z){var T=0;return ke(z,function(){T++}),T},toArray:function(z){return ke(z,function(T){return T})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ae.Component=S,Ae.Fragment=n,Ae.Profiler=i,Ae.PureComponent=_,Ae.StrictMode=s,Ae.Suspense=f,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Ae.act=Y,Ae.cloneElement=function(z,T,q){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var G=k({},z.props),J=z.key,xe=z.ref,U=z._owner;if(T!=null){if(T.ref!==void 0&&(xe=T.ref,U=I.current),T.key!==void 0&&(J=""+T.key),z.type&&z.type.defaultProps)var ge=z.type.defaultProps;for(ze in T)P.call(T,ze)&&!O.hasOwnProperty(ze)&&(G[ze]=T[ze]===void 0&&ge!==void 0?ge[ze]:T[ze])}var ze=arguments.length-2;if(ze===1)G.children=q;else if(1<ze){ge=Array(ze);for(var Ee=0;Ee<ze;Ee++)ge[Ee]=arguments[Ee+2];G.children=ge}return{$$typeof:e,type:z.type,key:J,ref:xe,props:G,_owner:U}},Ae.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:l,_context:z},z.Consumer=z},Ae.createElement=M,Ae.createFactory=function(z){var T=M.bind(null,z);return T.type=z,T},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(z){return{$$typeof:u,render:z}},Ae.isValidElement=V,Ae.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ae}},Ae.memo=function(z,T){return{$$typeof:h,type:z,compare:T===void 0?null:T}},Ae.startTransition=function(z){var T=F.transition;F.transition={};try{z()}finally{F.transition=T}},Ae.unstable_act=Y,Ae.useCallback=function(z,T){return ne.current.useCallback(z,T)},Ae.useContext=function(z){return ne.current.useContext(z)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(z){return ne.current.useDeferredValue(z)},Ae.useEffect=function(z,T){return ne.current.useEffect(z,T)},Ae.useId=function(){return ne.current.useId()},Ae.useImperativeHandle=function(z,T,q){return ne.current.useImperativeHandle(z,T,q)},Ae.useInsertionEffect=function(z,T){return ne.current.useInsertionEffect(z,T)},Ae.useLayoutEffect=function(z,T){return ne.current.useLayoutEffect(z,T)},Ae.useMemo=function(z,T){return ne.current.useMemo(z,T)},Ae.useReducer=function(z,T,q){return ne.current.useReducer(z,T,q)},Ae.useRef=function(z){return ne.current.useRef(z)},Ae.useState=function(z){return ne.current.useState(z)},Ae.useSyncExternalStore=function(z,T,q){return ne.current.useSyncExternalStore(z,T,q)},Ae.useTransition=function(){return ne.current.useTransition()},Ae.version="18.3.1",Ae}var wm;function _a(){return wm||(wm=1,Md.exports=x1()),Md.exports}var jm;function y1(){if(jm)return Ea;jm=1;var e=_a(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(u,f,h){var g,v={},x=null,b=null;h!==void 0&&(x=""+h),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(b=f.ref);for(g in f)s.call(f,g)&&!l.hasOwnProperty(g)&&(v[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:t,type:u,key:x,ref:b,props:v,_owner:i.current}}return Ea.Fragment=n,Ea.jsx=d,Ea.jsxs=d,Ea}var Nm;function v1(){return Nm||(Nm=1,oo.exports=y1()),oo.exports}var r=v1(),m=_a();const $e=On(m),Id=Io({__proto__:null,default:$e},[m]);var Gi={},Ld={exports:{}},hn={},Od={exports:{}},Ad={};var km;function b1(){return km||(km=1,(function(e){function t(F,K){var Y=F.length;F.push(K);e:for(;0<Y;){var z=Y-1>>>1,T=F[z];if(0<i(T,K))F[z]=K,F[Y]=T,Y=z;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var K=F[0],Y=F.pop();if(Y!==K){F[0]=Y;e:for(var z=0,T=F.length,q=T>>>1;z<q;){var G=2*(z+1)-1,J=F[G],xe=G+1,U=F[xe];if(0>i(J,Y))xe<T&&0>i(U,J)?(F[z]=U,F[xe]=Y,z=xe):(F[z]=J,F[G]=Y,z=G);else if(xe<T&&0>i(U,Y))F[z]=U,F[xe]=Y,z=xe;else break e}}return K}function i(F,K){var Y=F.sortIndex-K.sortIndex;return Y!==0?Y:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();e.unstable_now=function(){return d.now()-u}}var f=[],h=[],g=1,v=null,x=3,b=!1,k=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var K=n(h);K!==null;){if(K.callback===null)s(h);else if(K.startTime<=F)s(h),K.sortIndex=K.expirationTime,t(f,K);else break;K=n(h)}}function R(F){if(N=!1,w(F),!k)if(n(f)!==null)k=!0,ae(P);else{var K=n(h);K!==null&&ne(R,K.startTime-F)}}function P(F,K){k=!1,N&&(N=!1,C(M),M=-1),b=!0;var Y=x;try{for(w(K),v=n(f);v!==null&&(!(v.expirationTime>K)||F&&!oe());){var z=v.callback;if(typeof z=="function"){v.callback=null,x=v.priorityLevel;var T=z(v.expirationTime<=K);K=e.unstable_now(),typeof T=="function"?v.callback=T:v===n(f)&&s(f),w(K)}else s(f);v=n(f)}if(v!==null)var q=!0;else{var G=n(h);G!==null&&ne(R,G.startTime-K),q=!1}return q}finally{v=null,x=Y,b=!1}}var I=!1,O=null,M=-1,B=5,V=-1;function oe(){return!(e.unstable_now()-V<B)}function ue(){if(O!==null){var F=e.unstable_now();V=F;var K=!0;try{K=O(!0,F)}finally{K?Ne():(I=!1,O=null)}}else I=!1}var Ne;if(typeof _=="function")Ne=function(){_(ue)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ke=re.port2;re.port1.onmessage=ue,Ne=function(){ke.postMessage(null)}}else Ne=function(){S(ue,0)};function ae(F){O=F,I||(I=!0,Ne())}function ne(F,K){M=S(function(){F(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){k||b||(k=!0,ae(P))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(F){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var Y=x;x=K;try{return F()}finally{x=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=x;x=F;try{return K()}finally{x=Y}},e.unstable_scheduleCallback=function(F,K,Y){var z=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?z+Y:z):Y=z,F){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=Y+T,F={id:g++,callback:K,priorityLevel:F,startTime:Y,expirationTime:T,sortIndex:-1},Y>z?(F.sortIndex=Y,t(h,F),n(f)===null&&F===n(h)&&(N?(C(M),M=-1):N=!0,ne(R,Y-z))):(F.sortIndex=T,t(f,F),k||b||(k=!0,ae(P))),F},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(F){var K=x;return function(){var Y=x;x=K;try{return F.apply(this,arguments)}finally{x=Y}}}})(Ad)),Ad}var Sm;function w1(){return Sm||(Sm=1,Od.exports=b1()),Od.exports}var Cm;function j1(){if(Cm)return hn;Cm=1;var e=_a(),t=w1();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(o,a){d(o,a),d(o+"Capture",a)}function d(o,a){for(i[o]=a,o=0;o<a.length;o++)s.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(o){return f.call(v,o)?!0:f.call(g,o)?!1:h.test(o)?v[o]=!0:(g[o]=!0,!1)}function b(o,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,a,c,p){if(a===null||typeof a>"u"||b(o,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(o,a,c,p,y,j,E){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=j,this.removeEmptyString=E}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new N(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];S[a]=new N(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new N(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new N(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new N(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new N(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new N(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new N(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new N(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function _(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(C,_);S[a]=new N(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(C,_);S[a]=new N(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(C,_);S[a]=new N(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new N(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new N(o,1,!1,o.toLowerCase(),null,!0,!0)});function w(o,a,c,p){var y=S.hasOwnProperty(a)?S[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,c,y,p)&&(c=null),p||y===null?x(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?o.setAttributeNS(p,a,c):o.setAttribute(a,c))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),oe=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),F=Symbol.iterator;function K(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var Y=Object.assign,z;function T(o){if(z===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+o}var q=!1;function G(o,a){if(!o||q)return"";q=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var p=Z}Reflect.construct(o,[],a)}else{try{a.call()}catch(Z){p=Z}o.call(a.prototype)}else{try{throw Error()}catch(Z){p=Z}o()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),j=p.stack.split(`
`),E=y.length-1,D=j.length-1;1<=E&&0<=D&&y[E]!==j[D];)D--;for(;1<=E&&0<=D;E--,D--)if(y[E]!==j[D]){if(E!==1||D!==1)do if(E--,D--,0>D||y[E]!==j[D]){var L=`
`+y[E].replace(" at new "," at ");return o.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",o.displayName)),L}while(1<=E&&0<=D);break}}}finally{q=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?T(o):""}function J(o){switch(o.tag){case 5:return T(o.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return o=G(o.type,!1),o;case 11:return o=G(o.type.render,!1),o;case 1:return o=G(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case O:return"Fragment";case I:return"Portal";case B:return"Profiler";case M:return"StrictMode";case Ne:return"Suspense";case re:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case oe:return(o.displayName||"Context")+".Consumer";case V:return(o._context.displayName||"Context")+".Provider";case ue:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ke:return a=o.displayName||null,a!==null?a:xe(o.type)||"Memo";case ae:a=o._payload,o=o._init;try{return xe(o(a))}catch{}}return null}function U(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(a);case 8:return a===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ge(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ze(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ee(o){var a=ze(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,j=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(E){p=""+E,j.call(this,E)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(E){p=""+E},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function rt(o){o._valueTracker||(o._valueTracker=Ee(o))}function qe(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return o&&(p=ze(o)?o.checked?"true":"false":o.value),o=p,o!==c?(a.setValue(o),!0):!1}function ot(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Xe(o,a){var c=a.checked;return Y({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Ct(o,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=ge(a.value!=null?a.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Kt(o,a){a=a.checked,a!=null&&w(o,"checked",a,!1)}function nn(o,a){Kt(o,a);var c=ge(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?le(o,a.type,c):a.hasOwnProperty("defaultValue")&&le(o,a.type,ge(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function cn(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function le(o,a,c){(a!=="number"||ot(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var de=Array.isArray;function he(o,a,c,p){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&p&&(o[c].defaultSelected=!0)}else{for(c=""+ge(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function Ie(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Je(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(de(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:ge(c)}}function We(o,a){var c=ge(a.value),p=ge(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function me(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function xt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?xt(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Qe,zn=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,p,y)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Qe.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function dn(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var Rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_r=["Webkit","ms","Moz","O"];Object.keys(Rt).forEach(function(o){_r.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),Rt[a]=Rt[o]})});function ci(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Rt.hasOwnProperty(o)&&Rt[o]?(""+a).trim():a+"px"}function di(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=ci(c,a[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,y):o[c]=y}}var Jo=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(o,a){if(a){if(Jo[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Rr(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zr=null;function xo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ye=null,Xt=null,ft=null;function Pt(o){if(o=$i(o)){if(typeof Ye!="function")throw Error(n(280));var a=o.stateNode;a&&(a=Kc(a),Ye(o.stateNode,o.type,a))}}function Nt(o){Xt?ft?ft.push(o):ft=[o]:Xt=o}function yt(){if(Xt){var o=Xt,a=ft;if(ft=Xt=null,Pt(o),a)for(o=0;o<a.length;o++)Pt(a[o])}}function pt(o,a){return o(a)}function zt(){}var Mt=!1;function Tn(o,a,c){if(Mt)return o(a,c);Mt=!0;try{return pt(o,a,c)}finally{Mt=!1,(Xt!==null||ft!==null)&&(zt(),yt())}}function Ke(o,a){var c=o.stateNode;if(c===null)return null;var p=Kc(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var un=!1;if(u)try{var It={};Object.defineProperty(It,"passive",{get:function(){un=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{un=!1}function vn(o,a,c,p,y,j,E,D,L){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(c,Z)}catch(ie){this.onError(ie)}}var Jt=!1,fn=null,vt=!1,Ft=null,Js={onError:function(o){Jt=!0,fn=o}};function Wf(o,a,c,p,y,j,E,D,L){Jt=!1,fn=null,vn.apply(Js,arguments)}function Hf(o,a,c,p,y,j,E,D,L){if(Wf.apply(this,arguments),Jt){if(Jt){var Z=fn;Jt=!1,fn=null}else throw Error(n(198));vt||(vt=!0,Ft=Z)}}function dr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function Rc(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function ui(o){if(dr(o)!==o)throw Error(n(188))}function Bf(o){var a=o.alternate;if(!a){if(a=dr(o),a===null)throw Error(n(188));return a!==o?null:o}for(var c=o,p=a;;){var y=c.return;if(y===null)break;var j=y.alternate;if(j===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===j.child){for(j=y.child;j;){if(j===c)return ui(y),o;if(j===p)return ui(y),a;j=j.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=j;else{for(var E=!1,D=y.child;D;){if(D===c){E=!0,c=y,p=j;break}if(D===p){E=!0,p=y,c=j;break}D=D.sibling}if(!E){for(D=j.child;D;){if(D===c){E=!0,c=j,p=y;break}if(D===p){E=!0,p=j,c=y;break}D=D.sibling}if(!E)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?o:a}function Qs(o){return o=Bf(o),o!==null?zc(o):null}function zc(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=zc(o);if(a!==null)return a;o=o.sibling}return null}var fi=t.unstable_scheduleCallback,Zr=t.unstable_cancelCallback,Uf=t.unstable_shouldYield,qn=t.unstable_requestPaint,st=t.unstable_now,pi=t.unstable_getCurrentPriorityLevel,mi=t.unstable_ImmediatePriority,hi=t.unstable_UserBlockingPriority,ea=t.unstable_NormalPriority,Tc=t.unstable_LowPriority,Dc=t.unstable_IdlePriority,Dn=null,He=null;function ta(o){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Dn,o,void 0,(o.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:xi,$c=Math.log,gi=Math.LN2;function xi(o){return o>>>=0,o===0?32:31-($c(o)/gi|0)|0}var qr=64,Qo=4194304;function yo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function $n(o,a){var c=o.pendingLanes;if(c===0)return 0;var p=0,y=o.suspendedLanes,j=o.pingedLanes,E=c&268435455;if(E!==0){var D=E&~y;D!==0?p=yo(D):(j&=E,j!==0&&(p=yo(j)))}else E=c&~y,E!==0?p=yo(E):j!==0&&(p=yo(j));if(p===0)return 0;if(a!==0&&a!==p&&(a&y)===0&&(y=p&-p,j=a&-a,y>=j||y===16&&(j&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)c=31-Wt(a),y=1<<c,p|=o[c],a&=~y;return p}function Pc(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mc(o,a){for(var c=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,j=o.pendingLanes;0<j;){var E=31-Wt(j),D=1<<E,L=y[E];L===-1?((D&c)===0||(D&p)!==0)&&(y[E]=Pc(D,a)):L<=a&&(o.expiredLanes|=D),j&=~D}}function na(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yi(){var o=qr;return qr<<=1,(qr&4194240)===0&&(qr=64),o}function es(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function ur(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Wt(a),o[a]=c}function ra(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-Wt(c),j=1<<y;a[y]=0,p[y]=-1,o[y]=-1,c&=~j}}function vo(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var p=31-Wt(c),y=1<<p;y&a|o[p]&a&&(o[p]|=a),c&=~y}}var Ge=0;function ts(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Tr,fr,vi,Ic,bi,ns=!1,oa=[],Dr=null,pr=null,mr=null,bo=new Map,rs=new Map,$r=[],$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function te(o,a){switch(o){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":bo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(a.pointerId)}}function Q(o,a,c,p,y,j){return o===null||o.nativeEvent!==j?(o={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:j,targetContainers:[y]},a!==null&&(a=$i(a),a!==null&&fr(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function be(o,a,c,p,y){switch(a){case"focusin":return Dr=Q(Dr,o,a,c,p,y),!0;case"dragenter":return pr=Q(pr,o,a,c,p,y),!0;case"mouseover":return mr=Q(mr,o,a,c,p,y),!0;case"pointerover":var j=y.pointerId;return bo.set(j,Q(bo.get(j)||null,o,a,c,p,y)),!0;case"gotpointercapture":return j=y.pointerId,rs.set(j,Q(rs.get(j)||null,o,a,c,p,y)),!0}return!1}function Re(o){var a=os(o.target);if(a!==null){var c=dr(a);if(c!==null){if(a=c.tag,a===13){if(a=Rc(c),a!==null){o.blockedOn=a,bi(o.priority,function(){vi(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Be(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Zf(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);zr=p,c.target.dispatchEvent(p),zr=null}else return a=$i(c),a!==null&&fr(a),o.blockedOn=c,!1;a.shift()}return!0}function Et(o,a,c){Be(o)&&c.delete(a)}function nv(){ns=!1,Dr!==null&&Be(Dr)&&(Dr=null),pr!==null&&Be(pr)&&(pr=null),mr!==null&&Be(mr)&&(mr=null),bo.forEach(Et),rs.forEach(Et)}function Gr(o,a){o.blockedOn===a&&(o.blockedOn=null,ns||(ns=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nv)))}function wi(o){function a(y){return Gr(y,o)}if(0<oa.length){Gr(oa[0],o);for(var c=1;c<oa.length;c++){var p=oa[c];p.blockedOn===o&&(p.blockedOn=null)}}for(Dr!==null&&Gr(Dr,o),pr!==null&&Gr(pr,o),mr!==null&&Gr(mr,o),bo.forEach(a),rs.forEach(a),c=0;c<$r.length;c++)p=$r[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<$r.length&&(c=$r[0],c.blockedOn===null);)Re(c),c.blockedOn===null&&$r.shift()}var sa=R.ReactCurrentBatchConfig,Lc=!0;function jD(o,a,c,p){var y=Ge,j=sa.transition;sa.transition=null;try{Ge=1,Vf(o,a,c,p)}finally{Ge=y,sa.transition=j}}function ND(o,a,c,p){var y=Ge,j=sa.transition;sa.transition=null;try{Ge=4,Vf(o,a,c,p)}finally{Ge=y,sa.transition=j}}function Vf(o,a,c,p){if(Lc){var y=Zf(o,a,c,p);if(y===null)cp(o,a,p,Oc,c),te(o,p);else if(be(y,o,a,c,p))p.stopPropagation();else if(te(o,p),a&4&&-1<$.indexOf(o)){for(;y!==null;){var j=$i(y);if(j!==null&&Tr(j),j=Zf(o,a,c,p),j===null&&cp(o,a,p,Oc,c),j===y)break;y=j}y!==null&&p.stopPropagation()}else cp(o,a,p,null,c)}}var Oc=null;function Zf(o,a,c,p){if(Oc=null,o=xo(p),o=os(o),o!==null)if(a=dr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=Rc(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return Oc=o,null}function rv(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pi()){case mi:return 1;case hi:return 4;case ea:case Tc:return 16;case Dc:return 536870912;default:return 16}default:return 16}}var wo=null,qf=null,Ac=null;function ov(){if(Ac)return Ac;var o,a=qf,c=a.length,p,y="value"in wo?wo.value:wo.textContent,j=y.length;for(o=0;o<c&&a[o]===y[o];o++);var E=c-o;for(p=1;p<=E&&a[c-p]===y[j-p];p++);return Ac=y.slice(o,1<p?1-p:void 0)}function Fc(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Wc(){return!0}function sv(){return!1}function Pn(o){function a(c,p,y,j,E){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=j,this.target=E,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(c=o[D],this[D]=c?c(j):j[D]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Wc:sv,this.isPropagationStopped=sv,this}return Y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Wc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Wc)},persist:function(){},isPersistent:Wc}),a}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gf=Pn(aa),ji=Y({},aa,{view:0,detail:0}),kD=Pn(ji),Yf,Kf,Ni,Hc=Y({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ni&&(Ni&&o.type==="mousemove"?(Yf=o.screenX-Ni.screenX,Kf=o.screenY-Ni.screenY):Kf=Yf=0,Ni=o),Yf)},movementY:function(o){return"movementY"in o?o.movementY:Kf}}),av=Pn(Hc),SD=Y({},Hc,{dataTransfer:0}),CD=Pn(SD),ED=Y({},ji,{relatedTarget:0}),Xf=Pn(ED),_D=Y({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),RD=Pn(_D),zD=Y({},aa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),TD=Pn(zD),DD=Y({},aa,{data:0}),iv=Pn(DD),$D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ID(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=MD[o])?!!a[o]:!1}function Jf(){return ID}var LD=Y({},ji,{key:function(o){if(o.key){var a=$D[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Fc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?PD[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(o){return o.type==="keypress"?Fc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Fc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),OD=Pn(LD),AD=Y({},Hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lv=Pn(AD),FD=Y({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),WD=Pn(FD),HD=Y({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),BD=Pn(HD),UD=Y({},Hc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),VD=Pn(UD),ZD=[9,13,27,32],Qf=u&&"CompositionEvent"in window,ki=null;u&&"documentMode"in document&&(ki=document.documentMode);var qD=u&&"TextEvent"in window&&!ki,cv=u&&(!Qf||ki&&8<ki&&11>=ki),dv=" ",uv=!1;function fv(o,a){switch(o){case"keyup":return ZD.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ia=!1;function GD(o,a){switch(o){case"compositionend":return pv(a);case"keypress":return a.which!==32?null:(uv=!0,dv);case"textInput":return o=a.data,o===dv&&uv?null:o;default:return null}}function YD(o,a){if(ia)return o==="compositionend"||!Qf&&fv(o,a)?(o=ov(),Ac=qf=wo=null,ia=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return cv&&a.locale!=="ko"?null:a.data;default:return null}}var KD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mv(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!KD[o.type]:a==="textarea"}function hv(o,a,c,p){Nt(p),a=qc(a,"onChange"),0<a.length&&(c=new Gf("onChange","change",null,c,p),o.push({event:c,listeners:a}))}var Si=null,Ci=null;function XD(o){$v(o,0)}function Bc(o){var a=fa(o);if(qe(a))return o}function JD(o,a){if(o==="change")return a}var gv=!1;if(u){var ep;if(u){var tp="oninput"in document;if(!tp){var xv=document.createElement("div");xv.setAttribute("oninput","return;"),tp=typeof xv.oninput=="function"}ep=tp}else ep=!1;gv=ep&&(!document.documentMode||9<document.documentMode)}function yv(){Si&&(Si.detachEvent("onpropertychange",vv),Ci=Si=null)}function vv(o){if(o.propertyName==="value"&&Bc(Ci)){var a=[];hv(a,Ci,o,xo(o)),Tn(XD,a)}}function QD(o,a,c){o==="focusin"?(yv(),Si=a,Ci=c,Si.attachEvent("onpropertychange",vv)):o==="focusout"&&yv()}function e$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Bc(Ci)}function t$(o,a){if(o==="click")return Bc(a)}function n$(o,a){if(o==="input"||o==="change")return Bc(a)}function r$(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var hr=typeof Object.is=="function"?Object.is:r$;function Ei(o,a){if(hr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!f.call(a,y)||!hr(o[y],a[y]))return!1}return!0}function bv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function wv(o,a){var c=bv(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=a&&p>=a)return{node:c,offset:a-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=bv(c)}}function jv(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?jv(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Nv(){for(var o=window,a=ot();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=ot(o.document)}return a}function np(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function o$(o){var a=Nv(),c=o.focusedElem,p=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&jv(c.ownerDocument.documentElement,c)){if(p!==null&&np(c)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,j=Math.min(p.start,y);p=p.end===void 0?j:Math.min(p.end,y),!o.extend&&j>p&&(y=p,p=j,j=y),y=wv(c,j);var E=wv(c,p);y&&E&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),j>p?(o.addRange(a),o.extend(E.node,E.offset)):(a.setEnd(E.node,E.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var s$=u&&"documentMode"in document&&11>=document.documentMode,la=null,rp=null,_i=null,op=!1;function kv(o,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;op||la==null||la!==ot(p)||(p=la,"selectionStart"in p&&np(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),_i&&Ei(_i,p)||(_i=p,p=qc(rp,"onSelect"),0<p.length&&(a=new Gf("onSelect","select",null,a,c),o.push({event:a,listeners:p}),a.target=la)))}function Uc(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var ca={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionend:Uc("Transition","TransitionEnd")},sp={},Sv={};u&&(Sv=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Vc(o){if(sp[o])return sp[o];if(!ca[o])return o;var a=ca[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in Sv)return sp[o]=a[c];return o}var Cv=Vc("animationend"),Ev=Vc("animationiteration"),_v=Vc("animationstart"),Rv=Vc("transitionend"),zv=new Map,Tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(o,a){zv.set(o,a),l(a,[o])}for(var ap=0;ap<Tv.length;ap++){var ip=Tv[ap],a$=ip.toLowerCase(),i$=ip[0].toUpperCase()+ip.slice(1);jo(a$,"on"+i$)}jo(Cv,"onAnimationEnd"),jo(Ev,"onAnimationIteration"),jo(_v,"onAnimationStart"),jo("dblclick","onDoubleClick"),jo("focusin","onFocus"),jo("focusout","onBlur"),jo(Rv,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Dv(o,a,c){var p=o.type||"unknown-event";o.currentTarget=c,Hf(p,a,void 0,o),o.currentTarget=null}function $v(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],y=p.event;p=p.listeners;e:{var j=void 0;if(a)for(var E=p.length-1;0<=E;E--){var D=p[E],L=D.instance,Z=D.currentTarget;if(D=D.listener,L!==j&&y.isPropagationStopped())break e;Dv(y,D,Z),j=L}else for(E=0;E<p.length;E++){if(D=p[E],L=D.instance,Z=D.currentTarget,D=D.listener,L!==j&&y.isPropagationStopped())break e;Dv(y,D,Z),j=L}}}if(vt)throw o=Ft,vt=!1,Ft=null,o}function at(o,a){var c=a[hp];c===void 0&&(c=a[hp]=new Set);var p=o+"__bubble";c.has(p)||(Pv(a,o,2,!1),c.add(p))}function lp(o,a,c){var p=0;a&&(p|=4),Pv(c,o,p,a)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function zi(o){if(!o[Zc]){o[Zc]=!0,s.forEach(function(c){c!=="selectionchange"&&(l$.has(c)||lp(c,!1,o),lp(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Zc]||(a[Zc]=!0,lp("selectionchange",!1,a))}}function Pv(o,a,c,p){switch(rv(a)){case 1:var y=jD;break;case 4:y=ND;break;default:y=Vf}c=y.bind(null,a,c,o),y=void 0,!un||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function cp(o,a,c,p,y){var j=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var D=p.stateNode.containerInfo;if(D===y||D.nodeType===8&&D.parentNode===y)break;if(E===4)for(E=p.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===y||L.nodeType===8&&L.parentNode===y))return;E=E.return}for(;D!==null;){if(E=os(D),E===null)return;if(L=E.tag,L===5||L===6){p=j=E;continue e}D=D.parentNode}}p=p.return}Tn(function(){var Z=j,ie=xo(c),ce=[];e:{var se=zv.get(o);if(se!==void 0){var ye=Gf,Se=o;switch(o){case"keypress":if(Fc(c)===0)break e;case"keydown":case"keyup":ye=OD;break;case"focusin":Se="focus",ye=Xf;break;case"focusout":Se="blur",ye=Xf;break;case"beforeblur":case"afterblur":ye=Xf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=CD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=WD;break;case Cv:case Ev:case _v:ye=RD;break;case Rv:ye=BD;break;case"scroll":ye=kD;break;case"wheel":ye=VD;break;case"copy":case"cut":case"paste":ye=TD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=lv}var Ce=(a&4)!==0,_t=!Ce&&o==="scroll",W=Ce?se!==null?se+"Capture":null:se;Ce=[];for(var A=Z,H;A!==null;){H=A;var fe=H.stateNode;if(H.tag===5&&fe!==null&&(H=fe,W!==null&&(fe=Ke(A,W),fe!=null&&Ce.push(Ti(A,fe,H)))),_t)break;A=A.return}0<Ce.length&&(se=new ye(se,Se,null,c,ie),ce.push({event:se,listeners:Ce}))}}if((a&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",ye=o==="mouseout"||o==="pointerout",se&&c!==zr&&(Se=c.relatedTarget||c.fromElement)&&(os(Se)||Se[Yr]))break e;if((ye||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,ye?(Se=c.relatedTarget||c.toElement,ye=Z,Se=Se?os(Se):null,Se!==null&&(_t=dr(Se),Se!==_t||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ye=null,Se=Z),ye!==Se)){if(Ce=av,fe="onMouseLeave",W="onMouseEnter",A="mouse",(o==="pointerout"||o==="pointerover")&&(Ce=lv,fe="onPointerLeave",W="onPointerEnter",A="pointer"),_t=ye==null?se:fa(ye),H=Se==null?se:fa(Se),se=new Ce(fe,A+"leave",ye,c,ie),se.target=_t,se.relatedTarget=H,fe=null,os(ie)===Z&&(Ce=new Ce(W,A+"enter",Se,c,ie),Ce.target=H,Ce.relatedTarget=_t,fe=Ce),_t=fe,ye&&Se)t:{for(Ce=ye,W=Se,A=0,H=Ce;H;H=da(H))A++;for(H=0,fe=W;fe;fe=da(fe))H++;for(;0<A-H;)Ce=da(Ce),A--;for(;0<H-A;)W=da(W),H--;for(;A--;){if(Ce===W||W!==null&&Ce===W.alternate)break t;Ce=da(Ce),W=da(W)}Ce=null}else Ce=null;ye!==null&&Mv(ce,se,ye,Ce,!1),Se!==null&&_t!==null&&Mv(ce,_t,Se,Ce,!0)}}e:{if(se=Z?fa(Z):window,ye=se.nodeName&&se.nodeName.toLowerCase(),ye==="select"||ye==="input"&&se.type==="file")var _e=JD;else if(mv(se))if(gv)_e=n$;else{_e=e$;var Pe=QD}else(ye=se.nodeName)&&ye.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=t$);if(_e&&(_e=_e(o,Z))){hv(ce,_e,c,ie);break e}Pe&&Pe(o,se,Z),o==="focusout"&&(Pe=se._wrapperState)&&Pe.controlled&&se.type==="number"&&le(se,"number",se.value)}switch(Pe=Z?fa(Z):window,o){case"focusin":(mv(Pe)||Pe.contentEditable==="true")&&(la=Pe,rp=Z,_i=null);break;case"focusout":_i=rp=la=null;break;case"mousedown":op=!0;break;case"contextmenu":case"mouseup":case"dragend":op=!1,kv(ce,c,ie);break;case"selectionchange":if(s$)break;case"keydown":case"keyup":kv(ce,c,ie)}var Me;if(Qf)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ia?fv(o,c)&&(Le="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(cv&&c.locale!=="ko"&&(ia||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ia&&(Me=ov()):(wo=ie,qf="value"in wo?wo.value:wo.textContent,ia=!0)),Pe=qc(Z,Le),0<Pe.length&&(Le=new iv(Le,o,null,c,ie),ce.push({event:Le,listeners:Pe}),Me?Le.data=Me:(Me=pv(c),Me!==null&&(Le.data=Me)))),(Me=qD?GD(o,c):YD(o,c))&&(Z=qc(Z,"onBeforeInput"),0<Z.length&&(ie=new iv("onBeforeInput","beforeinput",null,c,ie),ce.push({event:ie,listeners:Z}),ie.data=Me))}$v(ce,a)})}function Ti(o,a,c){return{instance:o,listener:a,currentTarget:c}}function qc(o,a){for(var c=a+"Capture",p=[];o!==null;){var y=o,j=y.stateNode;y.tag===5&&j!==null&&(y=j,j=Ke(o,c),j!=null&&p.unshift(Ti(o,j,y)),j=Ke(o,a),j!=null&&p.push(Ti(o,j,y))),o=o.return}return p}function da(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Mv(o,a,c,p,y){for(var j=a._reactName,E=[];c!==null&&c!==p;){var D=c,L=D.alternate,Z=D.stateNode;if(L!==null&&L===p)break;D.tag===5&&Z!==null&&(D=Z,y?(L=Ke(c,j),L!=null&&E.unshift(Ti(c,L,D))):y||(L=Ke(c,j),L!=null&&E.push(Ti(c,L,D)))),c=c.return}E.length!==0&&o.push({event:a,listeners:E})}var c$=/\r\n?/g,d$=/\u0000|\uFFFD/g;function Iv(o){return(typeof o=="string"?o:""+o).replace(c$,`
`).replace(d$,"")}function Gc(o,a,c){if(a=Iv(a),Iv(o)!==a&&c)throw Error(n(425))}function Yc(){}var dp=null,up=null;function fp(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,u$=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,f$=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(o){return Lv.resolve(null).then(o).catch(p$)}:pp;function p$(o){setTimeout(function(){throw o})}function mp(o,a){var c=a,p=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){o.removeChild(y),wi(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);wi(a)}function No(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function Ov(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var ua=Math.random().toString(36).slice(2),Pr="__reactFiber$"+ua,Di="__reactProps$"+ua,Yr="__reactContainer$"+ua,hp="__reactEvents$"+ua,m$="__reactListeners$"+ua,h$="__reactHandles$"+ua;function os(o){var a=o[Pr];if(a)return a;for(var c=o.parentNode;c;){if(a=c[Yr]||c[Pr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=Ov(o);o!==null;){if(c=o[Pr])return c;o=Ov(o)}return a}o=c,c=o.parentNode}return null}function $i(o){return o=o[Pr]||o[Yr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function fa(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Kc(o){return o[Di]||null}var gp=[],pa=-1;function ko(o){return{current:o}}function it(o){0>pa||(o.current=gp[pa],gp[pa]=null,pa--)}function nt(o,a){pa++,gp[pa]=o.current,o.current=a}var So={},rn=ko(So),bn=ko(!1),ss=So;function ma(o,a){var c=o.type.contextTypes;if(!c)return So;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},j;for(j in c)y[j]=a[j];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function wn(o){return o=o.childContextTypes,o!=null}function Xc(){it(bn),it(rn)}function Av(o,a,c){if(rn.current!==So)throw Error(n(168));nt(rn,a),nt(bn,c)}function Fv(o,a,c){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(n(108,U(o)||"Unknown",y));return Y({},c,p)}function Jc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||So,ss=rn.current,nt(rn,o),nt(bn,bn.current),!0}function Wv(o,a,c){var p=o.stateNode;if(!p)throw Error(n(169));c?(o=Fv(o,a,ss),p.__reactInternalMemoizedMergedChildContext=o,it(bn),it(rn),nt(rn,o)):it(bn),nt(bn,c)}var Kr=null,Qc=!1,xp=!1;function Hv(o){Kr===null?Kr=[o]:Kr.push(o)}function g$(o){Qc=!0,Hv(o)}function Co(){if(!xp&&Kr!==null){xp=!0;var o=0,a=Ge;try{var c=Kr;for(Ge=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}Kr=null,Qc=!1}catch(y){throw Kr!==null&&(Kr=Kr.slice(o+1)),fi(mi,Co),y}finally{Ge=a,xp=!1}}return null}var ha=[],ga=0,ed=null,td=0,Gn=[],Yn=0,as=null,Xr=1,Jr="";function is(o,a){ha[ga++]=td,ha[ga++]=ed,ed=o,td=a}function Bv(o,a,c){Gn[Yn++]=Xr,Gn[Yn++]=Jr,Gn[Yn++]=as,as=o;var p=Xr;o=Jr;var y=32-Wt(p)-1;p&=~(1<<y),c+=1;var j=32-Wt(a)+y;if(30<j){var E=y-y%5;j=(p&(1<<E)-1).toString(32),p>>=E,y-=E,Xr=1<<32-Wt(a)+y|c<<y|p,Jr=j+o}else Xr=1<<j|c<<y|p,Jr=o}function yp(o){o.return!==null&&(is(o,1),Bv(o,1,0))}function vp(o){for(;o===ed;)ed=ha[--ga],ha[ga]=null,td=ha[--ga],ha[ga]=null;for(;o===as;)as=Gn[--Yn],Gn[Yn]=null,Jr=Gn[--Yn],Gn[Yn]=null,Xr=Gn[--Yn],Gn[Yn]=null}var Mn=null,In=null,mt=!1,gr=null;function Uv(o,a){var c=Qn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function Vv(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Mn=o,In=No(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Mn=o,In=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=as!==null?{id:Xr,overflow:Jr}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Qn(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,Mn=o,In=null,!0):!1;default:return!1}}function bp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function jp(o){if(mt){var a=In;if(a){var c=a;if(!Vv(o,a)){if(bp(o))throw Error(n(418));a=No(c.nextSibling);var p=Mn;a&&Vv(o,a)?Uv(p,c):(o.flags=o.flags&-4097|2,mt=!1,Mn=o)}}else{if(bp(o))throw Error(n(418));o.flags=o.flags&-4097|2,mt=!1,Mn=o}}}function Zv(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Mn=o}function nd(o){if(o!==Mn)return!1;if(!mt)return Zv(o),mt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!fp(o.type,o.memoizedProps)),a&&(a=In)){if(bp(o))throw qv(),Error(n(418));for(;a;)Uv(o,a),a=No(a.nextSibling)}if(Zv(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){In=No(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}In=null}}else In=Mn?No(o.stateNode.nextSibling):null;return!0}function qv(){for(var o=In;o;)o=No(o.nextSibling)}function xa(){In=Mn=null,mt=!1}function Np(o){gr===null?gr=[o]:gr.push(o)}var x$=R.ReactCurrentBatchConfig;function Pi(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,o));var y=p,j=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(E){var D=y.refs;E===null?delete D[j]:D[j]=E},a._stringRef=j,a)}if(typeof o!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,o))}return o}function rd(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function Gv(o){var a=o._init;return a(o._payload)}function Yv(o){function a(W,A){if(o){var H=W.deletions;H===null?(W.deletions=[A],W.flags|=16):H.push(A)}}function c(W,A){if(!o)return null;for(;A!==null;)a(W,A),A=A.sibling;return null}function p(W,A){for(W=new Map;A!==null;)A.key!==null?W.set(A.key,A):W.set(A.index,A),A=A.sibling;return W}function y(W,A){return W=Po(W,A),W.index=0,W.sibling=null,W}function j(W,A,H){return W.index=H,o?(H=W.alternate,H!==null?(H=H.index,H<A?(W.flags|=2,A):H):(W.flags|=2,A)):(W.flags|=1048576,A)}function E(W){return o&&W.alternate===null&&(W.flags|=2),W}function D(W,A,H,fe){return A===null||A.tag!==6?(A=mm(H,W.mode,fe),A.return=W,A):(A=y(A,H),A.return=W,A)}function L(W,A,H,fe){var _e=H.type;return _e===O?ie(W,A,H.props.children,fe,H.key):A!==null&&(A.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ae&&Gv(_e)===A.type)?(fe=y(A,H.props),fe.ref=Pi(W,A,H),fe.return=W,fe):(fe=Ed(H.type,H.key,H.props,null,W.mode,fe),fe.ref=Pi(W,A,H),fe.return=W,fe)}function Z(W,A,H,fe){return A===null||A.tag!==4||A.stateNode.containerInfo!==H.containerInfo||A.stateNode.implementation!==H.implementation?(A=hm(H,W.mode,fe),A.return=W,A):(A=y(A,H.children||[]),A.return=W,A)}function ie(W,A,H,fe,_e){return A===null||A.tag!==7?(A=hs(H,W.mode,fe,_e),A.return=W,A):(A=y(A,H),A.return=W,A)}function ce(W,A,H){if(typeof A=="string"&&A!==""||typeof A=="number")return A=mm(""+A,W.mode,H),A.return=W,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case P:return H=Ed(A.type,A.key,A.props,null,W.mode,H),H.ref=Pi(W,null,A),H.return=W,H;case I:return A=hm(A,W.mode,H),A.return=W,A;case ae:var fe=A._init;return ce(W,fe(A._payload),H)}if(de(A)||K(A))return A=hs(A,W.mode,H,null),A.return=W,A;rd(W,A)}return null}function se(W,A,H,fe){var _e=A!==null?A.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return _e!==null?null:D(W,A,""+H,fe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case P:return H.key===_e?L(W,A,H,fe):null;case I:return H.key===_e?Z(W,A,H,fe):null;case ae:return _e=H._init,se(W,A,_e(H._payload),fe)}if(de(H)||K(H))return _e!==null?null:ie(W,A,H,fe,null);rd(W,H)}return null}function ye(W,A,H,fe,_e){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return W=W.get(H)||null,D(A,W,""+fe,_e);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case P:return W=W.get(fe.key===null?H:fe.key)||null,L(A,W,fe,_e);case I:return W=W.get(fe.key===null?H:fe.key)||null,Z(A,W,fe,_e);case ae:var Pe=fe._init;return ye(W,A,H,Pe(fe._payload),_e)}if(de(fe)||K(fe))return W=W.get(H)||null,ie(A,W,fe,_e,null);rd(A,fe)}return null}function Se(W,A,H,fe){for(var _e=null,Pe=null,Me=A,Le=A=0,Ut=null;Me!==null&&Le<H.length;Le++){Me.index>Le?(Ut=Me,Me=null):Ut=Me.sibling;var Ve=se(W,Me,H[Le],fe);if(Ve===null){Me===null&&(Me=Ut);break}o&&Me&&Ve.alternate===null&&a(W,Me),A=j(Ve,A,Le),Pe===null?_e=Ve:Pe.sibling=Ve,Pe=Ve,Me=Ut}if(Le===H.length)return c(W,Me),mt&&is(W,Le),_e;if(Me===null){for(;Le<H.length;Le++)Me=ce(W,H[Le],fe),Me!==null&&(A=j(Me,A,Le),Pe===null?_e=Me:Pe.sibling=Me,Pe=Me);return mt&&is(W,Le),_e}for(Me=p(W,Me);Le<H.length;Le++)Ut=ye(Me,W,Le,H[Le],fe),Ut!==null&&(o&&Ut.alternate!==null&&Me.delete(Ut.key===null?Le:Ut.key),A=j(Ut,A,Le),Pe===null?_e=Ut:Pe.sibling=Ut,Pe=Ut);return o&&Me.forEach(function(Mo){return a(W,Mo)}),mt&&is(W,Le),_e}function Ce(W,A,H,fe){var _e=K(H);if(typeof _e!="function")throw Error(n(150));if(H=_e.call(H),H==null)throw Error(n(151));for(var Pe=_e=null,Me=A,Le=A=0,Ut=null,Ve=H.next();Me!==null&&!Ve.done;Le++,Ve=H.next()){Me.index>Le?(Ut=Me,Me=null):Ut=Me.sibling;var Mo=se(W,Me,Ve.value,fe);if(Mo===null){Me===null&&(Me=Ut);break}o&&Me&&Mo.alternate===null&&a(W,Me),A=j(Mo,A,Le),Pe===null?_e=Mo:Pe.sibling=Mo,Pe=Mo,Me=Ut}if(Ve.done)return c(W,Me),mt&&is(W,Le),_e;if(Me===null){for(;!Ve.done;Le++,Ve=H.next())Ve=ce(W,Ve.value,fe),Ve!==null&&(A=j(Ve,A,Le),Pe===null?_e=Ve:Pe.sibling=Ve,Pe=Ve);return mt&&is(W,Le),_e}for(Me=p(W,Me);!Ve.done;Le++,Ve=H.next())Ve=ye(Me,W,Le,Ve.value,fe),Ve!==null&&(o&&Ve.alternate!==null&&Me.delete(Ve.key===null?Le:Ve.key),A=j(Ve,A,Le),Pe===null?_e=Ve:Pe.sibling=Ve,Pe=Ve);return o&&Me.forEach(function(K$){return a(W,K$)}),mt&&is(W,Le),_e}function _t(W,A,H,fe){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case P:e:{for(var _e=H.key,Pe=A;Pe!==null;){if(Pe.key===_e){if(_e=H.type,_e===O){if(Pe.tag===7){c(W,Pe.sibling),A=y(Pe,H.props.children),A.return=W,W=A;break e}}else if(Pe.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ae&&Gv(_e)===Pe.type){c(W,Pe.sibling),A=y(Pe,H.props),A.ref=Pi(W,Pe,H),A.return=W,W=A;break e}c(W,Pe);break}else a(W,Pe);Pe=Pe.sibling}H.type===O?(A=hs(H.props.children,W.mode,fe,H.key),A.return=W,W=A):(fe=Ed(H.type,H.key,H.props,null,W.mode,fe),fe.ref=Pi(W,A,H),fe.return=W,W=fe)}return E(W);case I:e:{for(Pe=H.key;A!==null;){if(A.key===Pe)if(A.tag===4&&A.stateNode.containerInfo===H.containerInfo&&A.stateNode.implementation===H.implementation){c(W,A.sibling),A=y(A,H.children||[]),A.return=W,W=A;break e}else{c(W,A);break}else a(W,A);A=A.sibling}A=hm(H,W.mode,fe),A.return=W,W=A}return E(W);case ae:return Pe=H._init,_t(W,A,Pe(H._payload),fe)}if(de(H))return Se(W,A,H,fe);if(K(H))return Ce(W,A,H,fe);rd(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,A!==null&&A.tag===6?(c(W,A.sibling),A=y(A,H),A.return=W,W=A):(c(W,A),A=mm(H,W.mode,fe),A.return=W,W=A),E(W)):c(W,A)}return _t}var ya=Yv(!0),Kv=Yv(!1),od=ko(null),sd=null,va=null,kp=null;function Sp(){kp=va=sd=null}function Cp(o){var a=od.current;it(od),o._currentValue=a}function Ep(o,a,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===c)break;o=o.return}}function ba(o,a){sd=o,kp=va=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(jn=!0),o.firstContext=null)}function Kn(o){var a=o._currentValue;if(kp!==o)if(o={context:o,memoizedValue:a,next:null},va===null){if(sd===null)throw Error(n(308));va=o,sd.dependencies={lanes:0,firstContext:o}}else va=va.next=o;return a}var ls=null;function _p(o){ls===null?ls=[o]:ls.push(o)}function Xv(o,a,c,p){var y=a.interleaved;return y===null?(c.next=c,_p(a)):(c.next=y.next,y.next=c),a.interleaved=c,Qr(o,p)}function Qr(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Eo=!1;function Rp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jv(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function eo(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function _o(o,a,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ue&2)!==0){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,Qr(o,c)}return y=p.interleaved,y===null?(a.next=a,_p(p)):(a.next=y.next,y.next=a),p.interleaved=a,Qr(o,c)}function ad(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,vo(o,c)}}function Qv(o,a){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,j=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};j===null?y=j=E:j=j.next=E,c=c.next}while(c!==null);j===null?y=j=a:j=j.next=a}else y=j=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:j,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function id(o,a,c,p){var y=o.updateQueue;Eo=!1;var j=y.firstBaseUpdate,E=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var L=D,Z=L.next;L.next=null,E===null?j=Z:E.next=Z,E=L;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==E&&(D===null?ie.firstBaseUpdate=Z:D.next=Z,ie.lastBaseUpdate=L))}if(j!==null){var ce=y.baseState;E=0,ie=Z=L=null,D=j;do{var se=D.lane,ye=D.eventTime;if((p&se)===se){ie!==null&&(ie=ie.next={eventTime:ye,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Se=o,Ce=D;switch(se=a,ye=c,Ce.tag){case 1:if(Se=Ce.payload,typeof Se=="function"){ce=Se.call(ye,ce,se);break e}ce=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ce.payload,se=typeof Se=="function"?Se.call(ye,ce,se):Se,se==null)break e;ce=Y({},ce,se);break e;case 2:Eo=!0}}D.callback!==null&&D.lane!==0&&(o.flags|=64,se=y.effects,se===null?y.effects=[D]:se.push(D))}else ye={eventTime:ye,lane:se,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(Z=ie=ye,L=ce):ie=ie.next=ye,E|=se;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;se=D,D=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(L=ce),y.baseState=L,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,a=y.shared.interleaved,a!==null){y=a;do E|=y.lane,y=y.next;while(y!==a)}else j===null&&(y.shared.lanes=0);us|=E,o.lanes=E,o.memoizedState=ce}}function eb(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var Mi={},Mr=ko(Mi),Ii=ko(Mi),Li=ko(Mi);function cs(o){if(o===Mi)throw Error(n(174));return o}function zp(o,a){switch(nt(Li,a),nt(Ii,o),nt(Mr,Mi),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:tt(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=tt(a,o)}it(Mr),nt(Mr,a)}function wa(){it(Mr),it(Ii),it(Li)}function tb(o){cs(Li.current);var a=cs(Mr.current),c=tt(a,o.type);a!==c&&(nt(Ii,o),nt(Mr,c))}function Tp(o){Ii.current===o&&(it(Mr),it(Ii))}var bt=ko(0);function ld(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Dp=[];function $p(){for(var o=0;o<Dp.length;o++)Dp[o]._workInProgressVersionPrimary=null;Dp.length=0}var cd=R.ReactCurrentDispatcher,Pp=R.ReactCurrentBatchConfig,ds=0,wt=null,Lt=null,Ht=null,dd=!1,Oi=!1,Ai=0,y$=0;function on(){throw Error(n(321))}function Mp(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!hr(o[c],a[c]))return!1;return!0}function Ip(o,a,c,p,y,j){if(ds=j,wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,cd.current=o===null||o.memoizedState===null?j$:N$,o=c(p,y),Oi){j=0;do{if(Oi=!1,Ai=0,25<=j)throw Error(n(301));j+=1,Ht=Lt=null,a.updateQueue=null,cd.current=k$,o=c(p,y)}while(Oi)}if(cd.current=pd,a=Lt!==null&&Lt.next!==null,ds=0,Ht=Lt=wt=null,dd=!1,a)throw Error(n(300));return o}function Lp(){var o=Ai!==0;return Ai=0,o}function Ir(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?wt.memoizedState=Ht=o:Ht=Ht.next=o,Ht}function Xn(){if(Lt===null){var o=wt.alternate;o=o!==null?o.memoizedState:null}else o=Lt.next;var a=Ht===null?wt.memoizedState:Ht.next;if(a!==null)Ht=a,Lt=o;else{if(o===null)throw Error(n(310));Lt=o,o={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ht===null?wt.memoizedState=Ht=o:Ht=Ht.next=o}return Ht}function Fi(o,a){return typeof a=="function"?a(o):a}function Op(o){var a=Xn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var p=Lt,y=p.baseQueue,j=c.pending;if(j!==null){if(y!==null){var E=y.next;y.next=j.next,j.next=E}p.baseQueue=y=j,c.pending=null}if(y!==null){j=y.next,p=p.baseState;var D=E=null,L=null,Z=j;do{var ie=Z.lane;if((ds&ie)===ie)L!==null&&(L=L.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:o(p,Z.action);else{var ce={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};L===null?(D=L=ce,E=p):L=L.next=ce,wt.lanes|=ie,us|=ie}Z=Z.next}while(Z!==null&&Z!==j);L===null?E=p:L.next=D,hr(p,a.memoizedState)||(jn=!0),a.memoizedState=p,a.baseState=E,a.baseQueue=L,c.lastRenderedState=p}if(o=c.interleaved,o!==null){y=o;do j=y.lane,wt.lanes|=j,us|=j,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Ap(o){var a=Xn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var p=c.dispatch,y=c.pending,j=a.memoizedState;if(y!==null){c.pending=null;var E=y=y.next;do j=o(j,E.action),E=E.next;while(E!==y);hr(j,a.memoizedState)||(jn=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),c.lastRenderedState=j}return[j,p]}function nb(){}function rb(o,a){var c=wt,p=Xn(),y=a(),j=!hr(p.memoizedState,y);if(j&&(p.memoizedState=y,jn=!0),p=p.queue,Fp(ab.bind(null,c,p,o),[o]),p.getSnapshot!==a||j||Ht!==null&&Ht.memoizedState.tag&1){if(c.flags|=2048,Wi(9,sb.bind(null,c,p,y,a),void 0,null),Bt===null)throw Error(n(349));(ds&30)!==0||ob(c,a,y)}return y}function ob(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function sb(o,a,c,p){a.value=c,a.getSnapshot=p,ib(a)&&lb(o)}function ab(o,a,c){return c(function(){ib(a)&&lb(o)})}function ib(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!hr(o,c)}catch{return!0}}function lb(o){var a=Qr(o,1);a!==null&&br(a,o,1,-1)}function cb(o){var a=Ir();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:o},a.queue=o,o=o.dispatch=w$.bind(null,wt,o),[a.memoizedState,o]}function Wi(o,a,c,p){return o={tag:o,create:a,destroy:c,deps:p,next:null},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,a.lastEffect=o)),o}function db(){return Xn().memoizedState}function ud(o,a,c,p){var y=Ir();wt.flags|=o,y.memoizedState=Wi(1|a,c,void 0,p===void 0?null:p)}function fd(o,a,c,p){var y=Xn();p=p===void 0?null:p;var j=void 0;if(Lt!==null){var E=Lt.memoizedState;if(j=E.destroy,p!==null&&Mp(p,E.deps)){y.memoizedState=Wi(a,c,j,p);return}}wt.flags|=o,y.memoizedState=Wi(1|a,c,j,p)}function ub(o,a){return ud(8390656,8,o,a)}function Fp(o,a){return fd(2048,8,o,a)}function fb(o,a){return fd(4,2,o,a)}function pb(o,a){return fd(4,4,o,a)}function mb(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function hb(o,a,c){return c=c!=null?c.concat([o]):null,fd(4,4,mb.bind(null,a,o),c)}function Wp(){}function gb(o,a){var c=Xn();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Mp(a,p[1])?p[0]:(c.memoizedState=[o,a],o)}function xb(o,a){var c=Xn();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Mp(a,p[1])?p[0]:(o=o(),c.memoizedState=[o,a],o)}function yb(o,a,c){return(ds&21)===0?(o.baseState&&(o.baseState=!1,jn=!0),o.memoizedState=c):(hr(c,a)||(c=yi(),wt.lanes|=c,us|=c,o.baseState=!0),a)}function v$(o,a){var c=Ge;Ge=c!==0&&4>c?c:4,o(!0);var p=Pp.transition;Pp.transition={};try{o(!1),a()}finally{Ge=c,Pp.transition=p}}function vb(){return Xn().memoizedState}function b$(o,a,c){var p=Do(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},bb(o))wb(a,c);else if(c=Xv(o,a,c,p),c!==null){var y=mn();br(c,o,p,y),jb(c,a,p)}}function w$(o,a,c){var p=Do(o),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(bb(o))wb(a,y);else{var j=o.alternate;if(o.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var E=a.lastRenderedState,D=j(E,c);if(y.hasEagerState=!0,y.eagerState=D,hr(D,E)){var L=a.interleaved;L===null?(y.next=y,_p(a)):(y.next=L.next,L.next=y),a.interleaved=y;return}}catch{}finally{}c=Xv(o,a,y,p),c!==null&&(y=mn(),br(c,o,p,y),jb(c,a,p))}}function bb(o){var a=o.alternate;return o===wt||a!==null&&a===wt}function wb(o,a){Oi=dd=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function jb(o,a,c){if((c&4194240)!==0){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,vo(o,c)}}var pd={readContext:Kn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},j$={readContext:Kn,useCallback:function(o,a){return Ir().memoizedState=[o,a===void 0?null:a],o},useContext:Kn,useEffect:ub,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,ud(4194308,4,mb.bind(null,a,o),c)},useLayoutEffect:function(o,a){return ud(4194308,4,o,a)},useInsertionEffect:function(o,a){return ud(4,2,o,a)},useMemo:function(o,a){var c=Ir();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var p=Ir();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=b$.bind(null,wt,o),[p.memoizedState,o]},useRef:function(o){var a=Ir();return o={current:o},a.memoizedState=o},useState:cb,useDebugValue:Wp,useDeferredValue:function(o){return Ir().memoizedState=o},useTransition:function(){var o=cb(!1),a=o[0];return o=v$.bind(null,o[1]),Ir().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var p=wt,y=Ir();if(mt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Bt===null)throw Error(n(349));(ds&30)!==0||ob(p,a,c)}y.memoizedState=c;var j={value:c,getSnapshot:a};return y.queue=j,ub(ab.bind(null,p,j,o),[o]),p.flags|=2048,Wi(9,sb.bind(null,p,j,c,a),void 0,null),c},useId:function(){var o=Ir(),a=Bt.identifierPrefix;if(mt){var c=Jr,p=Xr;c=(p&~(1<<32-Wt(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Ai++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=y$++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},N$={readContext:Kn,useCallback:gb,useContext:Kn,useEffect:Fp,useImperativeHandle:hb,useInsertionEffect:fb,useLayoutEffect:pb,useMemo:xb,useReducer:Op,useRef:db,useState:function(){return Op(Fi)},useDebugValue:Wp,useDeferredValue:function(o){var a=Xn();return yb(a,Lt.memoizedState,o)},useTransition:function(){var o=Op(Fi)[0],a=Xn().memoizedState;return[o,a]},useMutableSource:nb,useSyncExternalStore:rb,useId:vb,unstable_isNewReconciler:!1},k$={readContext:Kn,useCallback:gb,useContext:Kn,useEffect:Fp,useImperativeHandle:hb,useInsertionEffect:fb,useLayoutEffect:pb,useMemo:xb,useReducer:Ap,useRef:db,useState:function(){return Ap(Fi)},useDebugValue:Wp,useDeferredValue:function(o){var a=Xn();return Lt===null?a.memoizedState=o:yb(a,Lt.memoizedState,o)},useTransition:function(){var o=Ap(Fi)[0],a=Xn().memoizedState;return[o,a]},useMutableSource:nb,useSyncExternalStore:rb,useId:vb,unstable_isNewReconciler:!1};function xr(o,a){if(o&&o.defaultProps){a=Y({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function Hp(o,a,c,p){a=o.memoizedState,c=c(p,a),c=c==null?a:Y({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var md={isMounted:function(o){return(o=o._reactInternals)?dr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var p=mn(),y=Do(o),j=eo(p,y);j.payload=a,c!=null&&(j.callback=c),a=_o(o,j,y),a!==null&&(br(a,o,y,p),ad(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var p=mn(),y=Do(o),j=eo(p,y);j.tag=1,j.payload=a,c!=null&&(j.callback=c),a=_o(o,j,y),a!==null&&(br(a,o,y,p),ad(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=mn(),p=Do(o),y=eo(c,p);y.tag=2,a!=null&&(y.callback=a),a=_o(o,y,p),a!==null&&(br(a,o,p,c),ad(a,o,p))}};function Nb(o,a,c,p,y,j,E){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,j,E):a.prototype&&a.prototype.isPureReactComponent?!Ei(c,p)||!Ei(y,j):!0}function kb(o,a,c){var p=!1,y=So,j=a.contextType;return typeof j=="object"&&j!==null?j=Kn(j):(y=wn(a)?ss:rn.current,p=a.contextTypes,j=(p=p!=null)?ma(o,y):So),a=new a(c,j),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=md,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=j),a}function Sb(o,a,c,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==o&&md.enqueueReplaceState(a,a.state,null)}function Bp(o,a,c,p){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},Rp(o);var j=a.contextType;typeof j=="object"&&j!==null?y.context=Kn(j):(j=wn(a)?ss:rn.current,y.context=ma(o,j)),y.state=o.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(Hp(o,a,j,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&md.enqueueReplaceState(y,y.state,null),id(o,c,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function ja(o,a){try{var c="",p=a;do c+=J(p),p=p.return;while(p);var y=c}catch(j){y=`
Error generating stack: `+j.message+`
`+j.stack}return{value:o,source:a,stack:y,digest:null}}function Up(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function Vp(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var S$=typeof WeakMap=="function"?WeakMap:Map;function Cb(o,a,c){c=eo(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){wd||(wd=!0,am=p),Vp(o,a)},c}function Eb(o,a,c){c=eo(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){Vp(o,a)}}var j=o.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(c.callback=function(){Vp(o,a),typeof p!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})}),c}function _b(o,a,c){var p=o.pingCache;if(p===null){p=o.pingCache=new S$;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),o=A$.bind(null,o,a,c),a.then(o,o))}function Rb(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function zb(o,a,c,p,y){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=eo(-1,1),a.tag=2,_o(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var C$=R.ReactCurrentOwner,jn=!1;function pn(o,a,c,p){a.child=o===null?Kv(a,null,c,p):ya(a,o.child,c,p)}function Tb(o,a,c,p,y){c=c.render;var j=a.ref;return ba(a,y),p=Ip(o,a,c,p,j,y),c=Lp(),o!==null&&!jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,to(o,a,y)):(mt&&c&&yp(a),a.flags|=1,pn(o,a,p,y),a.child)}function Db(o,a,c,p,y){if(o===null){var j=c.type;return typeof j=="function"&&!pm(j)&&j.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=j,$b(o,a,j,p,y)):(o=Ed(c.type,null,p,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(j=o.child,(o.lanes&y)===0){var E=j.memoizedProps;if(c=c.compare,c=c!==null?c:Ei,c(E,p)&&o.ref===a.ref)return to(o,a,y)}return a.flags|=1,o=Po(j,p),o.ref=a.ref,o.return=a,a.child=o}function $b(o,a,c,p,y){if(o!==null){var j=o.memoizedProps;if(Ei(j,p)&&o.ref===a.ref)if(jn=!1,a.pendingProps=p=j,(o.lanes&y)!==0)(o.flags&131072)!==0&&(jn=!0);else return a.lanes=o.lanes,to(o,a,y)}return Zp(o,a,c,p,y)}function Pb(o,a,c){var p=a.pendingProps,y=p.children,j=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ka,Ln),Ln|=c;else{if((c&1073741824)===0)return o=j!==null?j.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,nt(ka,Ln),Ln|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=j!==null?j.baseLanes:c,nt(ka,Ln),Ln|=p}else j!==null?(p=j.baseLanes|c,a.memoizedState=null):p=c,nt(ka,Ln),Ln|=p;return pn(o,a,y,c),a.child}function Mb(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Zp(o,a,c,p,y){var j=wn(c)?ss:rn.current;return j=ma(a,j),ba(a,y),c=Ip(o,a,c,p,j,y),p=Lp(),o!==null&&!jn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,to(o,a,y)):(mt&&p&&yp(a),a.flags|=1,pn(o,a,c,y),a.child)}function Ib(o,a,c,p,y){if(wn(c)){var j=!0;Jc(a)}else j=!1;if(ba(a,y),a.stateNode===null)gd(o,a),kb(a,c,p),Bp(a,c,p,y),p=!0;else if(o===null){var E=a.stateNode,D=a.memoizedProps;E.props=D;var L=E.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=Kn(Z):(Z=wn(c)?ss:rn.current,Z=ma(a,Z));var ie=c.getDerivedStateFromProps,ce=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function";ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==p||L!==Z)&&Sb(a,E,p,Z),Eo=!1;var se=a.memoizedState;E.state=se,id(a,p,E,y),L=a.memoizedState,D!==p||se!==L||bn.current||Eo?(typeof ie=="function"&&(Hp(a,c,ie,p),L=a.memoizedState),(D=Eo||Nb(a,c,D,p,se,L,Z))?(ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=L),E.props=p,E.state=L,E.context=Z,p=D):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{E=a.stateNode,Jv(o,a),D=a.memoizedProps,Z=a.type===a.elementType?D:xr(a.type,D),E.props=Z,ce=a.pendingProps,se=E.context,L=c.contextType,typeof L=="object"&&L!==null?L=Kn(L):(L=wn(c)?ss:rn.current,L=ma(a,L));var ye=c.getDerivedStateFromProps;(ie=typeof ye=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==ce||se!==L)&&Sb(a,E,p,L),Eo=!1,se=a.memoizedState,E.state=se,id(a,p,E,y);var Se=a.memoizedState;D!==ce||se!==Se||bn.current||Eo?(typeof ye=="function"&&(Hp(a,c,ye,p),Se=a.memoizedState),(Z=Eo||Nb(a,c,Z,p,se,Se,L)||!1)?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,Se,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,Se,L)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),E.props=p,E.state=Se,E.context=L,p=Z):(typeof E.componentDidUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(a.flags|=1024),p=!1)}return qp(o,a,c,p,j,y)}function qp(o,a,c,p,y,j){Mb(o,a);var E=(a.flags&128)!==0;if(!p&&!E)return y&&Wv(a,c,!1),to(o,a,j);p=a.stateNode,C$.current=a;var D=E&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&E?(a.child=ya(a,o.child,null,j),a.child=ya(a,null,D,j)):pn(o,a,D,j),a.memoizedState=p.state,y&&Wv(a,c,!0),a.child}function Lb(o){var a=o.stateNode;a.pendingContext?Av(o,a.pendingContext,a.pendingContext!==a.context):a.context&&Av(o,a.context,!1),zp(o,a.containerInfo)}function Ob(o,a,c,p,y){return xa(),Np(y),a.flags|=256,pn(o,a,c,p),a.child}var Gp={dehydrated:null,treeContext:null,retryLane:0};function Yp(o){return{baseLanes:o,cachePool:null,transitions:null}}function Ab(o,a,c){var p=a.pendingProps,y=bt.current,j=!1,E=(a.flags&128)!==0,D;if((D=E)||(D=o!==null&&o.memoizedState===null?!1:(y&2)!==0),D?(j=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),nt(bt,y&1),o===null)return jp(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(E=p.children,o=p.fallback,j?(p=a.mode,j=a.child,E={mode:"hidden",children:E},(p&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=E):j=_d(E,p,0,null),o=hs(o,p,c,null),j.return=a,o.return=a,j.sibling=o,a.child=j,a.child.memoizedState=Yp(c),a.memoizedState=Gp,o):Kp(a,E));if(y=o.memoizedState,y!==null&&(D=y.dehydrated,D!==null))return E$(o,a,E,p,D,y,c);if(j){j=p.fallback,E=a.mode,y=o.child,D=y.sibling;var L={mode:"hidden",children:p.children};return(E&1)===0&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=L,a.deletions=null):(p=Po(y,L),p.subtreeFlags=y.subtreeFlags&14680064),D!==null?j=Po(D,j):(j=hs(j,E,c,null),j.flags|=2),j.return=a,p.return=a,p.sibling=j,a.child=p,p=j,j=a.child,E=o.child.memoizedState,E=E===null?Yp(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},j.memoizedState=E,j.childLanes=o.childLanes&~c,a.memoizedState=Gp,p}return j=o.child,o=j.sibling,p=Po(j,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=p,a.memoizedState=null,p}function Kp(o,a){return a=_d({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function hd(o,a,c,p){return p!==null&&Np(p),ya(a,o.child,null,c),o=Kp(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function E$(o,a,c,p,y,j,E){if(c)return a.flags&256?(a.flags&=-257,p=Up(Error(n(422))),hd(o,a,E,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(j=p.fallback,y=a.mode,p=_d({mode:"visible",children:p.children},y,0,null),j=hs(j,y,E,null),j.flags|=2,p.return=a,j.return=a,p.sibling=j,a.child=p,(a.mode&1)!==0&&ya(a,o.child,null,E),a.child.memoizedState=Yp(E),a.memoizedState=Gp,j);if((a.mode&1)===0)return hd(o,a,E,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var D=p.dgst;return p=D,j=Error(n(419)),p=Up(j,p,void 0),hd(o,a,E,p)}if(D=(E&o.childLanes)!==0,jn||D){if(p=Bt,p!==null){switch(E&-E){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|E))!==0?0:y,y!==0&&y!==j.retryLane&&(j.retryLane=y,Qr(o,y),br(p,o,y,-1))}return fm(),p=Up(Error(n(421))),hd(o,a,E,p)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=F$.bind(null,o),y._reactRetry=a,null):(o=j.treeContext,In=No(y.nextSibling),Mn=a,mt=!0,gr=null,o!==null&&(Gn[Yn++]=Xr,Gn[Yn++]=Jr,Gn[Yn++]=as,Xr=o.id,Jr=o.overflow,as=a),a=Kp(a,p.children),a.flags|=4096,a)}function Fb(o,a,c){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),Ep(o.return,a,c)}function Xp(o,a,c,p,y){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=p,j.tail=c,j.tailMode=y)}function Wb(o,a,c){var p=a.pendingProps,y=p.revealOrder,j=p.tail;if(pn(o,a,p.children,c),p=bt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Fb(o,c,a);else if(o.tag===19)Fb(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(nt(bt,p),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&ld(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Xp(a,!1,y,c,j);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&ld(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}Xp(a,!0,c,null,j);break;case"together":Xp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function gd(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function to(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),us|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,c=Po(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=Po(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function _$(o,a,c){switch(a.tag){case 3:Lb(a),xa();break;case 5:tb(a);break;case 1:wn(a.type)&&Jc(a);break;case 4:zp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;nt(od,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(nt(bt,bt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Ab(o,a,c):(nt(bt,bt.current&1),o=to(o,a,c),o!==null?o.sibling:null);nt(bt,bt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(o.flags&128)!==0){if(p)return Wb(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),nt(bt,bt.current),p)break;return null;case 22:case 23:return a.lanes=0,Pb(o,a,c)}return to(o,a,c)}var Hb,Jp,Bb,Ub;Hb=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Jp=function(){},Bb=function(o,a,c,p){var y=o.memoizedProps;if(y!==p){o=a.stateNode,cs(Mr.current);var j=null;switch(c){case"input":y=Xe(o,y),p=Xe(o,p),j=[];break;case"select":y=Y({},y,{value:void 0}),p=Y({},p,{value:void 0}),j=[];break;case"textarea":y=Ie(o,y),p=Ie(o,p),j=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=Yc)}go(c,p);var E;c=null;for(Z in y)if(!p.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var D=y[Z];for(E in D)D.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?j||(j=[]):(j=j||[]).push(Z,null));for(Z in p){var L=p[Z];if(D=y?.[Z],p.hasOwnProperty(Z)&&L!==D&&(L!=null||D!=null))if(Z==="style")if(D){for(E in D)!D.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in L)L.hasOwnProperty(E)&&D[E]!==L[E]&&(c||(c={}),c[E]=L[E])}else c||(j||(j=[]),j.push(Z,c)),c=L;else Z==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,D=D?D.__html:void 0,L!=null&&D!==L&&(j=j||[]).push(Z,L)):Z==="children"?typeof L!="string"&&typeof L!="number"||(j=j||[]).push(Z,""+L):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(L!=null&&Z==="onScroll"&&at("scroll",o),j||D===L||(j=[])):(j=j||[]).push(Z,L))}c&&(j=j||[]).push("style",c);var Z=j;(a.updateQueue=Z)&&(a.flags|=4)}},Ub=function(o,a,c,p){c!==p&&(a.flags|=4)};function Hi(o,a){if(!mt)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function sn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=c,a}function R$(o,a,c){var p=a.pendingProps;switch(vp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(a),null;case 1:return wn(a.type)&&Xc(),sn(a),null;case 3:return p=a.stateNode,wa(),it(bn),it(rn),$p(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(nd(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gr!==null&&(cm(gr),gr=null))),Jp(o,a),sn(a),null;case 5:Tp(a);var y=cs(Li.current);if(c=a.type,o!==null&&a.stateNode!=null)Bb(o,a,c,p,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return sn(a),null}if(o=cs(Mr.current),nd(a)){p=a.stateNode,c=a.type;var j=a.memoizedProps;switch(p[Pr]=a,p[Di]=j,o=(a.mode&1)!==0,c){case"dialog":at("cancel",p),at("close",p);break;case"iframe":case"object":case"embed":at("load",p);break;case"video":case"audio":for(y=0;y<Ri.length;y++)at(Ri[y],p);break;case"source":at("error",p);break;case"img":case"image":case"link":at("error",p),at("load",p);break;case"details":at("toggle",p);break;case"input":Ct(p,j),at("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!j.multiple},at("invalid",p);break;case"textarea":Je(p,j),at("invalid",p)}go(c,j),y=null;for(var E in j)if(j.hasOwnProperty(E)){var D=j[E];E==="children"?typeof D=="string"?p.textContent!==D&&(j.suppressHydrationWarning!==!0&&Gc(p.textContent,D,o),y=["children",D]):typeof D=="number"&&p.textContent!==""+D&&(j.suppressHydrationWarning!==!0&&Gc(p.textContent,D,o),y=["children",""+D]):i.hasOwnProperty(E)&&D!=null&&E==="onScroll"&&at("scroll",p)}switch(c){case"input":rt(p),cn(p,j,!0);break;case"textarea":rt(p),me(p);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(p.onclick=Yc)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{E=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=xt(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=E.createElement(c,{is:p.is}):(o=E.createElement(c),c==="select"&&(E=o,p.multiple?E.multiple=!0:p.size&&(E.size=p.size))):o=E.createElementNS(o,c),o[Pr]=a,o[Di]=p,Hb(o,a,!1,!1),a.stateNode=o;e:{switch(E=Rr(c,p),c){case"dialog":at("cancel",o),at("close",o),y=p;break;case"iframe":case"object":case"embed":at("load",o),y=p;break;case"video":case"audio":for(y=0;y<Ri.length;y++)at(Ri[y],o);y=p;break;case"source":at("error",o),y=p;break;case"img":case"image":case"link":at("error",o),at("load",o),y=p;break;case"details":at("toggle",o),y=p;break;case"input":Ct(o,p),y=Xe(o,p),at("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=Y({},p,{value:void 0}),at("invalid",o);break;case"textarea":Je(o,p),y=Ie(o,p),at("invalid",o);break;default:y=p}go(c,y),D=y;for(j in D)if(D.hasOwnProperty(j)){var L=D[j];j==="style"?di(o,L):j==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&zn(o,L)):j==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&dn(o,L):typeof L=="number"&&dn(o,""+L):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?L!=null&&j==="onScroll"&&at("scroll",o):L!=null&&w(o,j,L,E))}switch(c){case"input":rt(o),cn(o,p,!1);break;case"textarea":rt(o),me(o);break;case"option":p.value!=null&&o.setAttribute("value",""+ge(p.value));break;case"select":o.multiple=!!p.multiple,j=p.value,j!=null?he(o,!!p.multiple,j,!1):p.defaultValue!=null&&he(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=Yc)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return sn(a),null;case 6:if(o&&a.stateNode!=null)Ub(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(c=cs(Li.current),cs(Mr.current),nd(a)){if(p=a.stateNode,c=a.memoizedProps,p[Pr]=a,(j=p.nodeValue!==c)&&(o=Mn,o!==null))switch(o.tag){case 3:Gc(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Gc(p.nodeValue,c,(o.mode&1)!==0)}j&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Pr]=a,a.stateNode=p}return sn(a),null;case 13:if(it(bt),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(mt&&In!==null&&(a.mode&1)!==0&&(a.flags&128)===0)qv(),xa(),a.flags|=98560,j=!1;else if(j=nd(a),p!==null&&p.dehydrated!==null){if(o===null){if(!j)throw Error(n(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Pr]=a}else xa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;sn(a),j=!1}else gr!==null&&(cm(gr),gr=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(bt.current&1)!==0?Ot===0&&(Ot=3):fm())),a.updateQueue!==null&&(a.flags|=4),sn(a),null);case 4:return wa(),Jp(o,a),o===null&&zi(a.stateNode.containerInfo),sn(a),null;case 10:return Cp(a.type._context),sn(a),null;case 17:return wn(a.type)&&Xc(),sn(a),null;case 19:if(it(bt),j=a.memoizedState,j===null)return sn(a),null;if(p=(a.flags&128)!==0,E=j.rendering,E===null)if(p)Hi(j,!1);else{if(Ot!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(E=ld(o),E!==null){for(a.flags|=128,Hi(j,!1),p=E.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)j=c,o=p,j.flags&=14680066,E=j.alternate,E===null?(j.childLanes=0,j.lanes=o,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=E.childLanes,j.lanes=E.lanes,j.child=E.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=E.memoizedProps,j.memoizedState=E.memoizedState,j.updateQueue=E.updateQueue,j.type=E.type,o=E.dependencies,j.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return nt(bt,bt.current&1|2),a.child}o=o.sibling}j.tail!==null&&st()>Sa&&(a.flags|=128,p=!0,Hi(j,!1),a.lanes=4194304)}else{if(!p)if(o=ld(E),o!==null){if(a.flags|=128,p=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Hi(j,!0),j.tail===null&&j.tailMode==="hidden"&&!E.alternate&&!mt)return sn(a),null}else 2*st()-j.renderingStartTime>Sa&&c!==1073741824&&(a.flags|=128,p=!0,Hi(j,!1),a.lanes=4194304);j.isBackwards?(E.sibling=a.child,a.child=E):(c=j.last,c!==null?c.sibling=E:a.child=E,j.last=E)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=st(),a.sibling=null,c=bt.current,nt(bt,p?c&1|2:c&1),a):(sn(a),null);case 22:case 23:return um(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Ln&1073741824)!==0&&(sn(a),a.subtreeFlags&6&&(a.flags|=8192)):sn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function z$(o,a){switch(vp(a),a.tag){case 1:return wn(a.type)&&Xc(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return wa(),it(bn),it(rn),$p(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Tp(a),null;case 13:if(it(bt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));xa()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return it(bt),null;case 4:return wa(),null;case 10:return Cp(a.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var xd=!1,an=!1,T$=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Na(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){kt(o,a,p)}else c.current=null}function Qp(o,a,c){try{c()}catch(p){kt(o,a,p)}}var Vb=!1;function D$(o,a){if(dp=Lc,o=Nv(),np(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,j=p.focusNode;p=p.focusOffset;try{c.nodeType,j.nodeType}catch{c=null;break e}var E=0,D=-1,L=-1,Z=0,ie=0,ce=o,se=null;t:for(;;){for(var ye;ce!==c||y!==0&&ce.nodeType!==3||(D=E+y),ce!==j||p!==0&&ce.nodeType!==3||(L=E+p),ce.nodeType===3&&(E+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)se=ce,ce=ye;for(;;){if(ce===o)break t;if(se===c&&++Z===y&&(D=E),se===j&&++ie===p&&(L=E),(ye=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=ye}c=D===-1||L===-1?null:{start:D,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(up={focusedElem:o,selectionRange:c},Lc=!1,ve=a;ve!==null;)if(a=ve,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,ve=o;else for(;ve!==null;){a=ve;try{var Se=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ce=Se.memoizedProps,_t=Se.memoizedState,W=a.stateNode,A=W.getSnapshotBeforeUpdate(a.elementType===a.type?Ce:xr(a.type,Ce),_t);W.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var H=a.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){kt(a,a.return,fe)}if(o=a.sibling,o!==null){o.return=a.return,ve=o;break}ve=a.return}return Se=Vb,Vb=!1,Se}function Bi(o,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var j=y.destroy;y.destroy=void 0,j!==void 0&&Qp(a,c,j)}y=y.next}while(y!==p)}}function yd(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function em(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function Zb(o){var a=o.alternate;a!==null&&(o.alternate=null,Zb(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Pr],delete a[Di],delete a[hp],delete a[m$],delete a[h$])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function qb(o){return o.tag===5||o.tag===3||o.tag===4}function Gb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||qb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function tm(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Yc));else if(p!==4&&(o=o.child,o!==null))for(tm(o,a,c),o=o.sibling;o!==null;)tm(o,a,c),o=o.sibling}function nm(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(nm(o,a,c),o=o.sibling;o!==null;)nm(o,a,c),o=o.sibling}var Qt=null,yr=!1;function Ro(o,a,c){for(c=c.child;c!==null;)Yb(o,a,c),c=c.sibling}function Yb(o,a,c){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Dn,c)}catch{}switch(c.tag){case 5:an||Na(c,a);case 6:var p=Qt,y=yr;Qt=null,Ro(o,a,c),Qt=p,yr=y,Qt!==null&&(yr?(o=Qt,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):Qt.removeChild(c.stateNode));break;case 18:Qt!==null&&(yr?(o=Qt,c=c.stateNode,o.nodeType===8?mp(o.parentNode,c):o.nodeType===1&&mp(o,c),wi(o)):mp(Qt,c.stateNode));break;case 4:p=Qt,y=yr,Qt=c.stateNode.containerInfo,yr=!0,Ro(o,a,c),Qt=p,yr=y;break;case 0:case 11:case 14:case 15:if(!an&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var j=y,E=j.destroy;j=j.tag,E!==void 0&&((j&2)!==0||(j&4)!==0)&&Qp(c,a,E),y=y.next}while(y!==p)}Ro(o,a,c);break;case 1:if(!an&&(Na(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(D){kt(c,a,D)}Ro(o,a,c);break;case 21:Ro(o,a,c);break;case 22:c.mode&1?(an=(p=an)||c.memoizedState!==null,Ro(o,a,c),an=p):Ro(o,a,c);break;default:Ro(o,a,c)}}function Kb(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new T$),a.forEach(function(p){var y=W$.bind(null,o,p);c.has(p)||(c.add(p),p.then(y,y))})}}function vr(o,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var j=o,E=a,D=E;e:for(;D!==null;){switch(D.tag){case 5:Qt=D.stateNode,yr=!1;break e;case 3:Qt=D.stateNode.containerInfo,yr=!0;break e;case 4:Qt=D.stateNode.containerInfo,yr=!0;break e}D=D.return}if(Qt===null)throw Error(n(160));Yb(j,E,y),Qt=null,yr=!1;var L=y.alternate;L!==null&&(L.return=null),y.return=null}catch(Z){kt(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Xb(a,o),a=a.sibling}function Xb(o,a){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(vr(a,o),Lr(o),p&4){try{Bi(3,o,o.return),yd(3,o)}catch(Ce){kt(o,o.return,Ce)}try{Bi(5,o,o.return)}catch(Ce){kt(o,o.return,Ce)}}break;case 1:vr(a,o),Lr(o),p&512&&c!==null&&Na(c,c.return);break;case 5:if(vr(a,o),Lr(o),p&512&&c!==null&&Na(c,c.return),o.flags&32){var y=o.stateNode;try{dn(y,"")}catch(Ce){kt(o,o.return,Ce)}}if(p&4&&(y=o.stateNode,y!=null)){var j=o.memoizedProps,E=c!==null?c.memoizedProps:j,D=o.type,L=o.updateQueue;if(o.updateQueue=null,L!==null)try{D==="input"&&j.type==="radio"&&j.name!=null&&Kt(y,j),Rr(D,E);var Z=Rr(D,j);for(E=0;E<L.length;E+=2){var ie=L[E],ce=L[E+1];ie==="style"?di(y,ce):ie==="dangerouslySetInnerHTML"?zn(y,ce):ie==="children"?dn(y,ce):w(y,ie,ce,Z)}switch(D){case"input":nn(y,j);break;case"textarea":We(y,j);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!j.multiple;var ye=j.value;ye!=null?he(y,!!j.multiple,ye,!1):se!==!!j.multiple&&(j.defaultValue!=null?he(y,!!j.multiple,j.defaultValue,!0):he(y,!!j.multiple,j.multiple?[]:"",!1))}y[Di]=j}catch(Ce){kt(o,o.return,Ce)}}break;case 6:if(vr(a,o),Lr(o),p&4){if(o.stateNode===null)throw Error(n(162));y=o.stateNode,j=o.memoizedProps;try{y.nodeValue=j}catch(Ce){kt(o,o.return,Ce)}}break;case 3:if(vr(a,o),Lr(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{wi(a.containerInfo)}catch(Ce){kt(o,o.return,Ce)}break;case 4:vr(a,o),Lr(o);break;case 13:vr(a,o),Lr(o),y=o.child,y.flags&8192&&(j=y.memoizedState!==null,y.stateNode.isHidden=j,!j||y.alternate!==null&&y.alternate.memoizedState!==null||(sm=st())),p&4&&Kb(o);break;case 22:if(ie=c!==null&&c.memoizedState!==null,o.mode&1?(an=(Z=an)||ie,vr(a,o),an=Z):vr(a,o),Lr(o),p&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!ie&&(o.mode&1)!==0)for(ve=o,ie=o.child;ie!==null;){for(ce=ve=ie;ve!==null;){switch(se=ve,ye=se.child,se.tag){case 0:case 11:case 14:case 15:Bi(4,se,se.return);break;case 1:Na(se,se.return);var Se=se.stateNode;if(typeof Se.componentWillUnmount=="function"){p=se,c=se.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Ce){kt(p,c,Ce)}}break;case 5:Na(se,se.return);break;case 22:if(se.memoizedState!==null){e1(ce);continue}}ye!==null?(ye.return=se,ve=ye):e1(ce)}ie=ie.sibling}e:for(ie=null,ce=o;;){if(ce.tag===5){if(ie===null){ie=ce;try{y=ce.stateNode,Z?(j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(D=ce.stateNode,L=ce.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,D.style.display=ci("display",E))}catch(Ce){kt(o,o.return,Ce)}}}else if(ce.tag===6){if(ie===null)try{ce.stateNode.nodeValue=Z?"":ce.memoizedProps}catch(Ce){kt(o,o.return,Ce)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===o)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===o)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===o)break e;ie===ce&&(ie=null),ce=ce.return}ie===ce&&(ie=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:vr(a,o),Lr(o),p&4&&Kb(o);break;case 21:break;default:vr(a,o),Lr(o)}}function Lr(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(qb(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(dn(y,""),p.flags&=-33);var j=Gb(o);nm(o,j,y);break;case 3:case 4:var E=p.stateNode.containerInfo,D=Gb(o);tm(o,D,E);break;default:throw Error(n(161))}}catch(L){kt(o,o.return,L)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function $$(o,a,c){ve=o,Jb(o)}function Jb(o,a,c){for(var p=(o.mode&1)!==0;ve!==null;){var y=ve,j=y.child;if(y.tag===22&&p){var E=y.memoizedState!==null||xd;if(!E){var D=y.alternate,L=D!==null&&D.memoizedState!==null||an;D=xd;var Z=an;if(xd=E,(an=L)&&!Z)for(ve=y;ve!==null;)E=ve,L=E.child,E.tag===22&&E.memoizedState!==null?t1(y):L!==null?(L.return=E,ve=L):t1(y);for(;j!==null;)ve=j,Jb(j),j=j.sibling;ve=y,xd=D,an=Z}Qb(o)}else(y.subtreeFlags&8772)!==0&&j!==null?(j.return=y,ve=j):Qb(o)}}function Qb(o){for(;ve!==null;){var a=ve;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:an||yd(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!an)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:xr(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&eb(a,j,p);break;case 3:var E=a.updateQueue;if(E!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}eb(a,E,c)}break;case 5:var D=a.stateNode;if(c===null&&a.flags&4){c=D;var L=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var ce=ie.dehydrated;ce!==null&&wi(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}an||a.flags&512&&em(a)}catch(se){kt(a,a.return,se)}}if(a===o){ve=null;break}if(c=a.sibling,c!==null){c.return=a.return,ve=c;break}ve=a.return}}function e1(o){for(;ve!==null;){var a=ve;if(a===o){ve=null;break}var c=a.sibling;if(c!==null){c.return=a.return,ve=c;break}ve=a.return}}function t1(o){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{yd(4,a)}catch(L){kt(a,c,L)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(L){kt(a,y,L)}}var j=a.return;try{em(a)}catch(L){kt(a,j,L)}break;case 5:var E=a.return;try{em(a)}catch(L){kt(a,E,L)}}}catch(L){kt(a,a.return,L)}if(a===o){ve=null;break}var D=a.sibling;if(D!==null){D.return=a.return,ve=D;break}ve=a.return}}var P$=Math.ceil,vd=R.ReactCurrentDispatcher,rm=R.ReactCurrentOwner,Jn=R.ReactCurrentBatchConfig,Ue=0,Bt=null,Tt=null,en=0,Ln=0,ka=ko(0),Ot=0,Ui=null,us=0,bd=0,om=0,Vi=null,Nn=null,sm=0,Sa=1/0,no=null,wd=!1,am=null,zo=null,jd=!1,To=null,Nd=0,Zi=0,im=null,kd=-1,Sd=0;function mn(){return(Ue&6)!==0?st():kd!==-1?kd:kd=st()}function Do(o){return(o.mode&1)===0?1:(Ue&2)!==0&&en!==0?en&-en:x$.transition!==null?(Sd===0&&(Sd=yi()),Sd):(o=Ge,o!==0||(o=window.event,o=o===void 0?16:rv(o.type)),o)}function br(o,a,c,p){if(50<Zi)throw Zi=0,im=null,Error(n(185));ur(o,c,p),((Ue&2)===0||o!==Bt)&&(o===Bt&&((Ue&2)===0&&(bd|=c),Ot===4&&$o(o,en)),kn(o,p),c===1&&Ue===0&&(a.mode&1)===0&&(Sa=st()+500,Qc&&Co()))}function kn(o,a){var c=o.callbackNode;Mc(o,a);var p=$n(o,o===Bt?en:0);if(p===0)c!==null&&Zr(c),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(c!=null&&Zr(c),a===1)o.tag===0?g$(r1.bind(null,o)):Hv(r1.bind(null,o)),f$(function(){(Ue&6)===0&&Co()}),c=null;else{switch(ts(p)){case 1:c=mi;break;case 4:c=hi;break;case 16:c=ea;break;case 536870912:c=Dc;break;default:c=ea}c=u1(c,n1.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function n1(o,a){if(kd=-1,Sd=0,(Ue&6)!==0)throw Error(n(327));var c=o.callbackNode;if(Ca()&&o.callbackNode!==c)return null;var p=$n(o,o===Bt?en:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||a)a=Cd(o,p);else{a=p;var y=Ue;Ue|=2;var j=s1();(Bt!==o||en!==a)&&(no=null,Sa=st()+500,ps(o,a));do try{L$();break}catch(D){o1(o,D)}while(!0);Sp(),vd.current=j,Ue=y,Tt!==null?a=0:(Bt=null,en=0,a=Ot)}if(a!==0){if(a===2&&(y=na(o),y!==0&&(p=y,a=lm(o,y))),a===1)throw c=Ui,ps(o,0),$o(o,p),kn(o,st()),c;if(a===6)$o(o,p);else{if(y=o.current.alternate,(p&30)===0&&!M$(y)&&(a=Cd(o,p),a===2&&(j=na(o),j!==0&&(p=j,a=lm(o,j))),a===1))throw c=Ui,ps(o,0),$o(o,p),kn(o,st()),c;switch(o.finishedWork=y,o.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:ms(o,Nn,no);break;case 3:if($o(o,p),(p&130023424)===p&&(a=sm+500-st(),10<a)){if($n(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){mn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=pp(ms.bind(null,o,Nn,no),a);break}ms(o,Nn,no);break;case 4:if($o(o,p),(p&4194240)===p)break;for(a=o.eventTimes,y=-1;0<p;){var E=31-Wt(p);j=1<<E,E=a[E],E>y&&(y=E),p&=~j}if(p=y,p=st()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*P$(p/1960))-p,10<p){o.timeoutHandle=pp(ms.bind(null,o,Nn,no),p);break}ms(o,Nn,no);break;case 5:ms(o,Nn,no);break;default:throw Error(n(329))}}}return kn(o,st()),o.callbackNode===c?n1.bind(null,o):null}function lm(o,a){var c=Vi;return o.current.memoizedState.isDehydrated&&(ps(o,a).flags|=256),o=Cd(o,a),o!==2&&(a=Nn,Nn=c,a!==null&&cm(a)),o}function cm(o){Nn===null?Nn=o:Nn.push.apply(Nn,o)}function M$(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],j=y.getSnapshot;y=y.value;try{if(!hr(j(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $o(o,a){for(a&=~om,a&=~bd,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-Wt(a),p=1<<c;o[c]=-1,a&=~p}}function r1(o){if((Ue&6)!==0)throw Error(n(327));Ca();var a=$n(o,0);if((a&1)===0)return kn(o,st()),null;var c=Cd(o,a);if(o.tag!==0&&c===2){var p=na(o);p!==0&&(a=p,c=lm(o,p))}if(c===1)throw c=Ui,ps(o,0),$o(o,a),kn(o,st()),c;if(c===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,ms(o,Nn,no),kn(o,st()),null}function dm(o,a){var c=Ue;Ue|=1;try{return o(a)}finally{Ue=c,Ue===0&&(Sa=st()+500,Qc&&Co())}}function fs(o){To!==null&&To.tag===0&&(Ue&6)===0&&Ca();var a=Ue;Ue|=1;var c=Jn.transition,p=Ge;try{if(Jn.transition=null,Ge=1,o)return o()}finally{Ge=p,Jn.transition=c,Ue=a,(Ue&6)===0&&Co()}}function um(){Ln=ka.current,it(ka)}function ps(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,u$(c)),Tt!==null)for(c=Tt.return;c!==null;){var p=c;switch(vp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Xc();break;case 3:wa(),it(bn),it(rn),$p();break;case 5:Tp(p);break;case 4:wa();break;case 13:it(bt);break;case 19:it(bt);break;case 10:Cp(p.type._context);break;case 22:case 23:um()}c=c.return}if(Bt=o,Tt=o=Po(o.current,null),en=Ln=a,Ot=0,Ui=null,om=bd=us=0,Nn=Vi=null,ls!==null){for(a=0;a<ls.length;a++)if(c=ls[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,j=c.pending;if(j!==null){var E=j.next;j.next=y,p.next=E}c.pending=p}ls=null}return o}function o1(o,a){do{var c=Tt;try{if(Sp(),cd.current=pd,dd){for(var p=wt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}dd=!1}if(ds=0,Ht=Lt=wt=null,Oi=!1,Ai=0,rm.current=null,c===null||c.return===null){Ot=1,Ui=a,Tt=null;break}e:{var j=o,E=c.return,D=c,L=a;if(a=en,D.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=L,ie=D,ce=ie.tag;if((ie.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ye=Rb(E);if(ye!==null){ye.flags&=-257,zb(ye,E,D,j,a),ye.mode&1&&_b(j,Z,a),a=ye,L=Z;var Se=a.updateQueue;if(Se===null){var Ce=new Set;Ce.add(L),a.updateQueue=Ce}else Se.add(L);break e}else{if((a&1)===0){_b(j,Z,a),fm();break e}L=Error(n(426))}}else if(mt&&D.mode&1){var _t=Rb(E);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),zb(_t,E,D,j,a),Np(ja(L,D));break e}}j=L=ja(L,D),Ot!==4&&(Ot=2),Vi===null?Vi=[j]:Vi.push(j),j=E;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var W=Cb(j,L,a);Qv(j,W);break e;case 1:D=L;var A=j.type,H=j.stateNode;if((j.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(zo===null||!zo.has(H)))){j.flags|=65536,a&=-a,j.lanes|=a;var fe=Eb(j,D,a);Qv(j,fe);break e}}j=j.return}while(j!==null)}i1(c)}catch(_e){a=_e,Tt===c&&c!==null&&(Tt=c=c.return);continue}break}while(!0)}function s1(){var o=vd.current;return vd.current=pd,o===null?pd:o}function fm(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Bt===null||(us&268435455)===0&&(bd&268435455)===0||$o(Bt,en)}function Cd(o,a){var c=Ue;Ue|=2;var p=s1();(Bt!==o||en!==a)&&(no=null,ps(o,a));do try{I$();break}catch(y){o1(o,y)}while(!0);if(Sp(),Ue=c,vd.current=p,Tt!==null)throw Error(n(261));return Bt=null,en=0,Ot}function I$(){for(;Tt!==null;)a1(Tt)}function L$(){for(;Tt!==null&&!Uf();)a1(Tt)}function a1(o){var a=d1(o.alternate,o,Ln);o.memoizedProps=o.pendingProps,a===null?i1(o):Tt=a,rm.current=null}function i1(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=R$(c,a,Ln),c!==null){Tt=c;return}}else{if(c=z$(c,a),c!==null){c.flags&=32767,Tt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ot=6,Tt=null;return}}if(a=a.sibling,a!==null){Tt=a;return}Tt=a=o}while(a!==null);Ot===0&&(Ot=5)}function ms(o,a,c){var p=Ge,y=Jn.transition;try{Jn.transition=null,Ge=1,O$(o,a,c,p)}finally{Jn.transition=y,Ge=p}return null}function O$(o,a,c,p){do Ca();while(To!==null);if((Ue&6)!==0)throw Error(n(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var j=c.lanes|c.childLanes;if(ra(o,j),o===Bt&&(Tt=Bt=null,en=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||jd||(jd=!0,u1(ea,function(){return Ca(),null})),j=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||j){j=Jn.transition,Jn.transition=null;var E=Ge;Ge=1;var D=Ue;Ue|=4,rm.current=null,D$(o,c),Xb(c,o),o$(up),Lc=!!dp,up=dp=null,o.current=c,$$(c),qn(),Ue=D,Ge=E,Jn.transition=j}else o.current=c;if(jd&&(jd=!1,To=o,Nd=y),j=o.pendingLanes,j===0&&(zo=null),ta(c.stateNode),kn(o,st()),a!==null)for(p=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(wd)throw wd=!1,o=am,am=null,o;return(Nd&1)!==0&&o.tag!==0&&Ca(),j=o.pendingLanes,(j&1)!==0?o===im?Zi++:(Zi=0,im=o):Zi=0,Co(),null}function Ca(){if(To!==null){var o=ts(Nd),a=Jn.transition,c=Ge;try{if(Jn.transition=null,Ge=16>o?16:o,To===null)var p=!1;else{if(o=To,To=null,Nd=0,(Ue&6)!==0)throw Error(n(331));var y=Ue;for(Ue|=4,ve=o.current;ve!==null;){var j=ve,E=j.child;if((ve.flags&16)!==0){var D=j.deletions;if(D!==null){for(var L=0;L<D.length;L++){var Z=D[L];for(ve=Z;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:Bi(8,ie,j)}var ce=ie.child;if(ce!==null)ce.return=ie,ve=ce;else for(;ve!==null;){ie=ve;var se=ie.sibling,ye=ie.return;if(Zb(ie),ie===Z){ve=null;break}if(se!==null){se.return=ye,ve=se;break}ve=ye}}}var Se=j.alternate;if(Se!==null){var Ce=Se.child;if(Ce!==null){Se.child=null;do{var _t=Ce.sibling;Ce.sibling=null,Ce=_t}while(Ce!==null)}}ve=j}}if((j.subtreeFlags&2064)!==0&&E!==null)E.return=j,ve=E;else e:for(;ve!==null;){if(j=ve,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Bi(9,j,j.return)}var W=j.sibling;if(W!==null){W.return=j.return,ve=W;break e}ve=j.return}}var A=o.current;for(ve=A;ve!==null;){E=ve;var H=E.child;if((E.subtreeFlags&2064)!==0&&H!==null)H.return=E,ve=H;else e:for(E=A;ve!==null;){if(D=ve,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:yd(9,D)}}catch(_e){kt(D,D.return,_e)}if(D===E){ve=null;break e}var fe=D.sibling;if(fe!==null){fe.return=D.return,ve=fe;break e}ve=D.return}}if(Ue=y,Co(),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Dn,o)}catch{}p=!0}return p}finally{Ge=c,Jn.transition=a}}return!1}function l1(o,a,c){a=ja(c,a),a=Cb(o,a,1),o=_o(o,a,1),a=mn(),o!==null&&(ur(o,1,a),kn(o,a))}function kt(o,a,c){if(o.tag===3)l1(o,o,c);else for(;a!==null;){if(a.tag===3){l1(a,o,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(zo===null||!zo.has(p))){o=ja(c,o),o=Eb(a,o,1),a=_o(a,o,1),o=mn(),a!==null&&(ur(a,1,o),kn(a,o));break}}a=a.return}}function A$(o,a,c){var p=o.pingCache;p!==null&&p.delete(a),a=mn(),o.pingedLanes|=o.suspendedLanes&c,Bt===o&&(en&c)===c&&(Ot===4||Ot===3&&(en&130023424)===en&&500>st()-sm?ps(o,0):om|=c),kn(o,a)}function c1(o,a){a===0&&((o.mode&1)===0?a=1:(a=Qo,Qo<<=1,(Qo&130023424)===0&&(Qo=4194304)));var c=mn();o=Qr(o,a),o!==null&&(ur(o,a,c),kn(o,c))}function F$(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),c1(o,c)}function W$(o,a){var c=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),c1(o,c)}var d1;d1=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||bn.current)jn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return jn=!1,_$(o,a,c);jn=(o.flags&131072)!==0}else jn=!1,mt&&(a.flags&1048576)!==0&&Bv(a,td,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;gd(o,a),o=a.pendingProps;var y=ma(a,rn.current);ba(a,c),y=Ip(null,a,p,o,y,c);var j=Lp();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,wn(p)?(j=!0,Jc(a)):j=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Rp(a),y.updater=md,a.stateNode=y,y._reactInternals=a,Bp(a,p,o,c),a=qp(null,a,p,!0,j,c)):(a.tag=0,mt&&j&&yp(a),pn(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(gd(o,a),o=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=B$(p),o=xr(p,o),y){case 0:a=Zp(null,a,p,o,c);break e;case 1:a=Ib(null,a,p,o,c);break e;case 11:a=Tb(null,a,p,o,c);break e;case 14:a=Db(null,a,p,xr(p.type,o),c);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:xr(p,y),Zp(o,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:xr(p,y),Ib(o,a,p,y,c);case 3:e:{if(Lb(a),o===null)throw Error(n(387));p=a.pendingProps,j=a.memoizedState,y=j.element,Jv(o,a),id(a,p,null,c);var E=a.memoizedState;if(p=E.element,j.isDehydrated)if(j={element:p,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){y=ja(Error(n(423)),a),a=Ob(o,a,p,c,y);break e}else if(p!==y){y=ja(Error(n(424)),a),a=Ob(o,a,p,c,y);break e}else for(In=No(a.stateNode.containerInfo.firstChild),Mn=a,mt=!0,gr=null,c=Kv(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(xa(),p===y){a=to(o,a,c);break e}pn(o,a,p,c)}a=a.child}return a;case 5:return tb(a),o===null&&jp(a),p=a.type,y=a.pendingProps,j=o!==null?o.memoizedProps:null,E=y.children,fp(p,y)?E=null:j!==null&&fp(p,j)&&(a.flags|=32),Mb(o,a),pn(o,a,E,c),a.child;case 6:return o===null&&jp(a),null;case 13:return Ab(o,a,c);case 4:return zp(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=ya(a,null,p,c):pn(o,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:xr(p,y),Tb(o,a,p,y,c);case 7:return pn(o,a,a.pendingProps,c),a.child;case 8:return pn(o,a,a.pendingProps.children,c),a.child;case 12:return pn(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,j=a.memoizedProps,E=y.value,nt(od,p._currentValue),p._currentValue=E,j!==null)if(hr(j.value,E)){if(j.children===y.children&&!bn.current){a=to(o,a,c);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var D=j.dependencies;if(D!==null){E=j.child;for(var L=D.firstContext;L!==null;){if(L.context===p){if(j.tag===1){L=eo(-1,c&-c),L.tag=2;var Z=j.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?L.next=L:(L.next=ie.next,ie.next=L),Z.pending=L}}j.lanes|=c,L=j.alternate,L!==null&&(L.lanes|=c),Ep(j.return,c,a),D.lanes|=c;break}L=L.next}}else if(j.tag===10)E=j.type===a.type?null:j.child;else if(j.tag===18){if(E=j.return,E===null)throw Error(n(341));E.lanes|=c,D=E.alternate,D!==null&&(D.lanes|=c),Ep(E,c,a),E=j.sibling}else E=j.child;if(E!==null)E.return=j;else for(E=j;E!==null;){if(E===a){E=null;break}if(j=E.sibling,j!==null){j.return=E.return,E=j;break}E=E.return}j=E}pn(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,ba(a,c),y=Kn(y),p=p(y),a.flags|=1,pn(o,a,p,c),a.child;case 14:return p=a.type,y=xr(p,a.pendingProps),y=xr(p.type,y),Db(o,a,p,y,c);case 15:return $b(o,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:xr(p,y),gd(o,a),a.tag=1,wn(p)?(o=!0,Jc(a)):o=!1,ba(a,c),kb(a,p,y),Bp(a,p,y,c),qp(null,a,p,!0,o,c);case 19:return Wb(o,a,c);case 22:return Pb(o,a,c)}throw Error(n(156,a.tag))};function u1(o,a){return fi(o,a)}function H$(o,a,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(o,a,c,p){return new H$(o,a,c,p)}function pm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function B$(o){if(typeof o=="function")return pm(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ue)return 11;if(o===ke)return 14}return 2}function Po(o,a){var c=o.alternate;return c===null?(c=Qn(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Ed(o,a,c,p,y,j){var E=2;if(p=o,typeof o=="function")pm(o)&&(E=1);else if(typeof o=="string")E=5;else e:switch(o){case O:return hs(c.children,y,j,a);case M:E=8,y|=8;break;case B:return o=Qn(12,c,a,y|2),o.elementType=B,o.lanes=j,o;case Ne:return o=Qn(13,c,a,y),o.elementType=Ne,o.lanes=j,o;case re:return o=Qn(19,c,a,y),o.elementType=re,o.lanes=j,o;case ne:return _d(c,y,j,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case V:E=10;break e;case oe:E=9;break e;case ue:E=11;break e;case ke:E=14;break e;case ae:E=16,p=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=Qn(E,c,a,y),a.elementType=o,a.type=p,a.lanes=j,a}function hs(o,a,c,p){return o=Qn(7,o,p,a),o.lanes=c,o}function _d(o,a,c,p){return o=Qn(22,o,p,a),o.elementType=ne,o.lanes=c,o.stateNode={isHidden:!1},o}function mm(o,a,c){return o=Qn(6,o,null,a),o.lanes=c,o}function hm(o,a,c){return a=Qn(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function U$(o,a,c,p,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=es(0),this.expirationTimes=es(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function gm(o,a,c,p,y,j,E,D,L){return o=new U$(o,a,c,D,L),a===1?(a=1,j===!0&&(a|=8)):a=0,j=Qn(3,null,null,a),o.current=j,j.stateNode=o,j.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rp(j),o}function V$(o,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:p==null?null:""+p,children:o,containerInfo:a,implementation:c}}function f1(o){if(!o)return So;o=o._reactInternals;e:{if(dr(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(wn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var c=o.type;if(wn(c))return Fv(o,c,a)}return a}function p1(o,a,c,p,y,j,E,D,L){return o=gm(c,p,!0,o,y,j,E,D,L),o.context=f1(null),c=o.current,p=mn(),y=Do(c),j=eo(p,y),j.callback=a??null,_o(c,j,y),o.current.lanes=y,ur(o,y,p),kn(o,p),o}function Rd(o,a,c,p){var y=a.current,j=mn(),E=Do(y);return c=f1(c),a.context===null?a.context=c:a.pendingContext=c,a=eo(j,E),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=_o(y,a,E),o!==null&&(br(o,y,E,j),ad(o,y,E)),E}function zd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function m1(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function xm(o,a){m1(o,a),(o=o.alternate)&&m1(o,a)}function Z$(){return null}var h1=typeof reportError=="function"?reportError:function(o){console.error(o)};function ym(o){this._internalRoot=o}Td.prototype.render=ym.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));Rd(o,a,null,null)},Td.prototype.unmount=ym.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;fs(function(){Rd(null,o,null,null)}),a[Yr]=null}};function Td(o){this._internalRoot=o}Td.prototype.unstable_scheduleHydration=function(o){if(o){var a=Ic();o={blockedOn:null,target:o,priority:a};for(var c=0;c<$r.length&&a!==0&&a<$r[c].priority;c++);$r.splice(c,0,o),c===0&&Re(o)}};function vm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Dd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function g1(){}function q$(o,a,c,p,y){if(y){if(typeof p=="function"){var j=p;p=function(){var Z=zd(E);j.call(Z)}}var E=p1(a,p,o,0,null,!1,!1,"",g1);return o._reactRootContainer=E,o[Yr]=E.current,zi(o.nodeType===8?o.parentNode:o),fs(),E}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var D=p;p=function(){var Z=zd(L);D.call(Z)}}var L=gm(o,0,!1,null,null,!1,!1,"",g1);return o._reactRootContainer=L,o[Yr]=L.current,zi(o.nodeType===8?o.parentNode:o),fs(function(){Rd(a,L,c,p)}),L}function $d(o,a,c,p,y){var j=c._reactRootContainer;if(j){var E=j;if(typeof y=="function"){var D=y;y=function(){var L=zd(E);D.call(L)}}Rd(a,E,o,y)}else E=q$(c,a,o,y,p);return zd(E)}Tr=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=yo(a.pendingLanes);c!==0&&(vo(a,c|1),kn(a,st()),(Ue&6)===0&&(Sa=st()+500,Co()))}break;case 13:fs(function(){var p=Qr(o,1);if(p!==null){var y=mn();br(p,o,1,y)}}),xm(o,1)}},fr=function(o){if(o.tag===13){var a=Qr(o,134217728);if(a!==null){var c=mn();br(a,o,134217728,c)}xm(o,134217728)}},vi=function(o){if(o.tag===13){var a=Do(o),c=Qr(o,a);if(c!==null){var p=mn();br(c,o,a,p)}xm(o,a)}},Ic=function(){return Ge},bi=function(o,a){var c=Ge;try{return Ge=o,a()}finally{Ge=c}},Ye=function(o,a,c){switch(a){case"input":if(nn(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==o&&p.form===o.form){var y=Kc(p);if(!y)throw Error(n(90));qe(p),nn(p,y)}}}break;case"textarea":We(o,c);break;case"select":a=c.value,a!=null&&he(o,!!c.multiple,a,!1)}},pt=dm,zt=fs;var G$={usingClientEntryPoint:!1,Events:[$i,fa,Kc,Nt,yt,dm]},qi={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y$={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Qs(o),o===null?null:o.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||Z$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{Dn=Pd.inject(Y$),He=Pd}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G$,hn.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(a))throw Error(n(200));return V$(o,a,null,c)},hn.createRoot=function(o,a){if(!vm(o))throw Error(n(299));var c=!1,p="",y=h1;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=gm(o,1,!1,null,null,c,!1,p,y),o[Yr]=a.current,zi(o.nodeType===8?o.parentNode:o),new ym(a)},hn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Qs(a),o=o===null?null:o.stateNode,o},hn.flushSync=function(o){return fs(o)},hn.hydrate=function(o,a,c){if(!Dd(a))throw Error(n(200));return $d(null,o,a,!0,c)},hn.hydrateRoot=function(o,a,c){if(!vm(o))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,y=!1,j="",E=h1;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(j=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),a=p1(a,null,o,1,c??null,y,!1,j,E),o[Yr]=a.current,zi(o),p)for(o=0;o<p.length;o++)c=p[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Td(a)},hn.render=function(o,a,c){if(!Dd(a))throw Error(n(200));return $d(null,o,a,!1,c)},hn.unmountComponentAtNode=function(o){if(!Dd(o))throw Error(n(40));return o._reactRootContainer?(fs(function(){$d(null,null,o,!1,function(){o._reactRootContainer=null,o[Yr]=null})}),!0):!1},hn.unstable_batchedUpdates=dm,hn.unstable_renderSubtreeIntoContainer=function(o,a,c,p){if(!Dd(c))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return $d(o,a,c,!1,p)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var Em;function _m(){if(Em)return Ld.exports;Em=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ld.exports=j1(),Ld.exports}var Rm;function N1(){if(Rm)return Gi;Rm=1;var e=_m();return Gi.createRoot=e.createRoot,Gi.hydrateRoot=e.hydrateRoot,Gi}var k1=N1();const S1=On(k1),Q$="modulepreload",e6=function(e){return"/"+e},t6={},er=function(t,n,s){let i=Promise.resolve();function l(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return i.then(d=>{for(const u of d||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};var zm="popstate";function C1(e={}){function t(i,l){let{pathname:d="/",search:u="",hash:f=""}=Lo(i.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Fd("",{pathname:d,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let d=i.document.querySelector("base"),u="";if(d&&d.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof l=="string"?l:Ra(l))}function s(i,l){Sn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return _1(t,n,s,e)}function lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E1(){return Math.random().toString(36).substring(2,10)}function Tm(e,t){return{usr:e.state,key:e.key,idx:t}}function Fd(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Lo(t):t,state:n,key:t&&t.key||s||E1()}}function Ra({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Lo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function _1(e,t,n,s={}){let{window:i=document.defaultView,v5Compat:l=!1}=s,d=i.history,u="POP",f=null,h=g();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function g(){return(d.state||{idx:null}).idx}function v(){u="POP";let S=g(),C=S==null?null:S-h;h=S,f&&f({action:u,location:N.location,delta:C})}function x(S,C){u="PUSH";let _=Fd(N.location,S,C);n&&n(_,S),h=g()+1;let w=Tm(_,h),R=N.createHref(_);try{d.pushState(w,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(R)}l&&f&&f({action:u,location:N.location,delta:1})}function b(S,C){u="REPLACE";let _=Fd(N.location,S,C);n&&n(_,S),h=g();let w=Tm(_,h),R=N.createHref(_);d.replaceState(w,"",R),l&&f&&f({action:u,location:N.location,delta:0})}function k(S){return R1(S)}let N={get action(){return u},get location(){return e(i,d)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(zm,v),f=S,()=>{i.removeEventListener(zm,v),f=null}},createHref(S){return t(i,S)},createURL:k,encodeLocation(S){let C=k(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:b,go(S){return d.go(S)}};return N}function R1(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Ra(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Dm(e,t,n="/"){return z1(e,t,n,!1)}function z1(e,t,n,s){let i=typeof t=="string"?Lo(t):t,l=Or(i.pathname||"/",n);if(l==null)return null;let d=$m(e);T1(d);let u=null;for(let f=0;u==null&&f<d.length;++f){let h=H1(l);u=F1(d[f],h,s)}return u}function $m(e,t=[],n=[],s="",i=!1){let l=(d,u,f=i,h)=>{let g={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&f)return;lt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let v=Ar([s,g.relativePath]),x=n.concat(g);d.children&&d.children.length>0&&(lt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),$m(d.children,t,x,v,f)),!(d.path==null&&!d.index)&&t.push({path:v,score:O1(v,d.index),routesMeta:x})};return e.forEach((d,u)=>{if(d.path===""||!d.path?.includes("?"))l(d,u);else for(let f of Pm(d.path))l(d,u,!0,f)}),t}function Pm(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return i?[l,""]:[l];let d=Pm(s.join("/")),u=[];return u.push(...d.map(f=>f===""?l:[l,f].join("/"))),i&&u.push(...d),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function T1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:A1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var D1=/^:[\w-]+$/,$1=3,P1=2,M1=1,I1=10,L1=-2,Mm=e=>e==="*";function O1(e,t){let n=e.split("/"),s=n.length;return n.some(Mm)&&(s+=L1),t&&(s+=P1),n.filter(i=>!Mm(i)).reduce((i,l)=>i+(D1.test(l)?$1:l===""?M1:I1),s)}function A1(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function F1(e,t,n=!1){let{routesMeta:s}=e,i={},l="/",d=[];for(let u=0;u<s.length;++u){let f=s[u],h=u===s.length-1,g=l==="/"?t:t.slice(l.length)||"/",v=Yi({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),x=f.route;if(!v&&h&&n&&!s[s.length-1].route.index&&(v=Yi({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),d.push({params:i,pathname:Ar([l,v.pathname]),pathnameBase:q1(Ar([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=Ar([l,v.pathnameBase]))}return d}function Yi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=W1(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:s.reduce((h,{paramName:g,isOptional:v},x)=>{if(g==="*"){let k=u[x]||"";d=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const b=u[x];return v&&!b?h[g]=void 0:h[g]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:d,pattern:e}}function W1(e,t=!1,n=!0){Sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,f)=>(s.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function H1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Or(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var B1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U1=e=>B1.test(e);function V1(e,t="/"){let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Lo(e):e,l;if(n)if(U1(n))l=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?l=Im(n.substring(1),"/"):l=Im(n,t)}else l=t;return{pathname:l,search:G1(s),hash:Y1(i)}}function Im(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wd(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Hd(e){let t=Z1(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Bd(e,t,n,s=!1){let i;typeof e=="string"?i=Lo(e):(i={...e},lt(!i.pathname||!i.pathname.includes("?"),Wd("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),Wd("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),Wd("#","search","hash",i)));let l=e===""||i.pathname==="",d=l?"/":i.pathname,u;if(d==null)u=n;else{let v=t.length-1;if(!s&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}u=v>=0?t[v]:"/"}let f=V1(i,u),h=d&&d!=="/"&&d.endsWith("/"),g=(l||d===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var Ar=e=>e.join("/").replace(/\/\/+/g,"/"),q1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Y1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function K1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Lm=["POST","PUT","PATCH","DELETE"];new Set(Lm);var X1=["GET",...Lm];new Set(X1);var gs=m.createContext(null);gs.displayName="DataRouter";var Ki=m.createContext(null);Ki.displayName="DataRouterState",m.createContext(!1);var Om=m.createContext({isTransitioning:!1});Om.displayName="ViewTransition";var J1=m.createContext(new Map);J1.displayName="Fetchers";var Q1=m.createContext(null);Q1.displayName="Await";var tr=m.createContext(null);tr.displayName="Navigation";var za=m.createContext(null);za.displayName="Location";var nr=m.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var Ud=m.createContext(null);Ud.displayName="RouteError";function ew(e,{relative:t}={}){lt(xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=m.useContext(tr),{hash:i,pathname:l,search:d}=Ta(e,{relative:t}),u=l;return n!=="/"&&(u=l==="/"?n:Ar([n,l])),s.createHref({pathname:u,search:d,hash:i})}function xs(){return m.useContext(za)!=null}function so(){return lt(xs(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(za).location}var Am="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fm(e){m.useContext(tr).static||m.useLayoutEffect(e)}function Wm(){let{isDataRoute:e}=m.useContext(nr);return e?hw():tw()}function tw(){lt(xs(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(gs),{basename:t,navigator:n}=m.useContext(tr),{matches:s}=m.useContext(nr),{pathname:i}=so(),l=JSON.stringify(Hd(s)),d=m.useRef(!1);return Fm(()=>{d.current=!0}),m.useCallback((f,h={})=>{if(Sn(d.current,Am),!d.current)return;if(typeof f=="number"){n.go(f);return}let g=Bd(f,JSON.parse(l),i,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ar([t,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[t,n,l,i,e])}var nw=m.createContext(null);function rw(e){let t=m.useContext(nr).outlet;return m.useMemo(()=>t&&m.createElement(nw.Provider,{value:e},t),[t,e])}function Ta(e,{relative:t}={}){let{matches:n}=m.useContext(nr),{pathname:s}=so(),i=JSON.stringify(Hd(n));return m.useMemo(()=>Bd(e,JSON.parse(i),s,t==="path"),[e,i,s,t])}function ow(e,t){return Hm(e,t)}function Hm(e,t,n,s,i){lt(xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=m.useContext(tr),{matches:d}=m.useContext(nr),u=d[d.length-1],f=u?u.params:{},h=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let _=v&&v.path||"";Um(h,!v||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=so(),b;if(t){let _=typeof t=="string"?Lo(t):t;lt(g==="/"||_.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=x;let k=b.pathname||"/",N=k;if(g!=="/"){let _=g.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=Dm(e,{pathname:N});Sn(v||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Sn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=cw(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},f,_.params),pathname:Ar([g,l.encodeLocation?l.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?g:Ar([g,l.encodeLocation?l.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),d,n,s,i);return t&&C?m.createElement(za.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function sw(){let e=mw(),t=K1(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:l},"ErrorBoundary")," or"," ",m.createElement("code",{style:l},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,d)}var aw=m.createElement(sw,null),iw=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?m.createElement(nr.Provider,{value:this.props.routeContext},m.createElement(Ud.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lw({routeContext:e,match:t,children:n}){let s=m.useContext(gs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(nr.Provider,{value:e},n)}function cw(e,t=[],n=null,s=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,d=n?.errors;if(d!=null){let g=l.findIndex(v=>v.route.id&&d?.[v.route.id]!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let u=!1,f=-1;if(n)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:x,errors:b}=n,k=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||k){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let h=n&&s?(g,v)=>{s(g,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((g,v,x)=>{let b,k=!1,N=null,S=null;n&&(b=d&&v.route.id?d[v.route.id]:void 0,N=v.route.errorElement||aw,u&&(f<0&&x===0?(Um("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,S=null):f===x&&(k=!0,S=v.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,x+1)),_=()=>{let w;return b?w=N:k?w=S:v.route.Component?w=m.createElement(v.route.Component,null):v.route.element?w=v.route.element:w=g,m.createElement(lw,{match:v,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:w})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?m.createElement(iw,{location:n.location,revalidation:n.revalidation,component:N,error:b,children:_(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):_()},null)}function Vd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dw(e){let t=m.useContext(gs);return lt(t,Vd(e)),t}function uw(e){let t=m.useContext(Ki);return lt(t,Vd(e)),t}function fw(e){let t=m.useContext(nr);return lt(t,Vd(e)),t}function Zd(e){let t=fw(e),n=t.matches[t.matches.length-1];return lt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pw(){return Zd("useRouteId")}function mw(){let e=m.useContext(Ud),t=uw("useRouteError"),n=Zd("useRouteError");return e!==void 0?e:t.errors?.[n]}function hw(){let{router:e}=dw("useNavigate"),t=Zd("useNavigate"),n=m.useRef(!1);return Fm(()=>{n.current=!0}),m.useCallback(async(i,l={})=>{Sn(n.current,Am),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...l}))},[e,t])}var Bm={};function Um(e,t,n){!t&&!Bm[e]&&(Bm[e]=!0,Sn(!1,n))}m.memo(gw);function gw({routes:e,future:t,state:n,unstable_onError:s}){return Hm(e,void 0,n,s,t)}function Vm({to:e,replace:t,state:n,relative:s}){lt(xs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=m.useContext(tr);Sn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=m.useContext(nr),{pathname:d}=so(),u=Wm(),f=Bd(e,Hd(l),d,s==="path"),h=JSON.stringify(f);return m.useEffect(()=>{u(JSON.parse(h),{replace:t,state:n,relative:s})},[u,h,s,t,n]),null}function xw(e){return rw(e.context)}function wr(e){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yw({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:i,static:l=!1}){lt(!xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:d,navigator:i,static:l,future:{}}),[d,i,l]);typeof n=="string"&&(n=Lo(n));let{pathname:f="/",search:h="",hash:g="",state:v=null,key:x="default"}=n,b=m.useMemo(()=>{let k=Or(f,d);return k==null?null:{location:{pathname:k,search:h,hash:g,state:v,key:x},navigationType:s}},[d,f,h,g,v,x,s]);return Sn(b!=null,`<Router basename="${d}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:m.createElement(tr.Provider,{value:u},m.createElement(za.Provider,{children:t,value:b}))}function qd({children:e,location:t}){return ow(Gd(e),t)}function Gd(e,t=[]){let n=[];return m.Children.forEach(e,(s,i)=>{if(!m.isValidElement(s))return;let l=[...t,i];if(s.type===m.Fragment){n.push.apply(n,Gd(s.props.children,l));return}lt(s.type===wr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Gd(s.props.children,l)),n.push(d)}),n}var Xi="get",Ji="application/x-www-form-urlencoded";function Qi(e){return e!=null&&typeof e.tagName=="string"}function vw(e){return Qi(e)&&e.tagName.toLowerCase()==="button"}function bw(e){return Qi(e)&&e.tagName.toLowerCase()==="form"}function ww(e){return Qi(e)&&e.tagName.toLowerCase()==="input"}function jw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Nw(e,t){return e.button===0&&(!t||t==="_self")&&!jw(e)}var el=null;function kw(){if(el===null)try{new FormData(document.createElement("form"),0),el=!1}catch{el=!0}return el}var Sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yd(e){return e!=null&&!Sw.has(e)?(Sn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ji}"`),null):e}function Cw(e,t){let n,s,i,l,d;if(bw(e)){let u=e.getAttribute("action");s=u?Or(u,t):null,n=e.getAttribute("method")||Xi,i=Yd(e.getAttribute("enctype"))||Ji,l=new FormData(e)}else if(vw(e)||ww(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(s=f?Or(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Xi,i=Yd(e.getAttribute("formenctype"))||Yd(u.getAttribute("enctype"))||Ji,l=new FormData(u,e),!kw()){let{name:h,type:g,value:v}=e;if(g==="image"){let x=h?`${h}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else h&&l.append(h,v)}}else{if(Qi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xi,s=null,i=Ji,d=e}return l&&i==="text/plain"&&(d=l,l=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ew(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Or(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function _w(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function zw(e,t,n){let s=await Promise.all(e.map(async i=>{let l=t.routes[i.route.id];if(l){let d=await _w(l,n);return d.links?d.links():[]}return[]}));return Pw(s.flat(1).filter(Rw).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zm(e,t,n,s,i,l){let d=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,h)=>d(f,h)||u(f,h)):l==="data"?t.filter((f,h)=>{let g=s.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(d(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Tw(e,t,{includeHydrateFallback:n}={}){return Dw(e.map(s=>{let i=t.routes[s.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function Dw(e){return[...new Set(e)]}function $w(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function Pw(e,t){let n=new Set;return new Set(t),e.reduce((s,i)=>{let l=JSON.stringify($w(i));return n.has(l)||(n.add(l),s.push({key:l,link:i})),s},[])}function qm(){let e=m.useContext(gs);return Kd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Mw(){let e=m.useContext(Ki);return Kd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xd=m.createContext(void 0);Xd.displayName="FrameworkContext";function Gm(){let e=m.useContext(Xd);return Kd(e,"You must render this element inside a <HydratedRouter> element"),e}function Iw(e,t){let n=m.useContext(Xd),[s,i]=m.useState(!1),[l,d]=m.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:v}=t,x=m.useRef(null);m.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let N=C=>{C.forEach(_=>{d(_.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[e]),m.useEffect(()=>{if(s){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[s]);let b=()=>{i(!0)},k=()=>{i(!1),d(!1)};return n?e!=="intent"?[l,x,{}]:[l,x,{onFocus:Da(u,b),onBlur:Da(f,k),onMouseEnter:Da(h,b),onMouseLeave:Da(g,k),onTouchStart:Da(v,b)}]:[!1,x,{}]}function Da(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Lw({page:e,...t}){let{router:n}=qm(),s=m.useMemo(()=>Dm(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?m.createElement(Aw,{page:e,matches:s,...t}):null}function Ow(e){let{manifest:t,routeModules:n}=Gm(),[s,i]=m.useState([]);return m.useEffect(()=>{let l=!1;return zw(e,t,n).then(d=>{l||i(d)}),()=>{l=!0}},[e,t,n]),s}function Aw({page:e,matches:t,...n}){let s=so(),{manifest:i,routeModules:l}=Gm(),{basename:d}=qm(),{loaderData:u,matches:f}=Mw(),h=m.useMemo(()=>Zm(e,t,f,i,s,"data"),[e,t,f,i,s]),g=m.useMemo(()=>Zm(e,t,f,i,s,"assets"),[e,t,f,i,s]),v=m.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,N=!1;if(t.forEach(C=>{let _=i.routes[C.route.id];!_||!_.hasLoader||(!h.some(w=>w.route.id===C.route.id)&&C.route.id in u&&l[C.route.id]?.shouldRevalidate||_.hasClientLoader?N=!0:k.add(C.route.id))}),k.size===0)return[];let S=Ew(e,d,"data");return N&&k.size>0&&S.searchParams.set("_routes",t.filter(C=>k.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[d,u,s,i,h,t,e,l]),x=m.useMemo(()=>Tw(g,i),[g,i]),b=Ow(g);return m.createElement(m.Fragment,null,v.map(k=>m.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),x.map(k=>m.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),b.map(({key:k,link:N})=>m.createElement("link",{key:k,nonce:n.nonce,...N})))}function Fw(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ym=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ym&&(window.__reactRouterVersion="7.9.6")}catch{}function Jd({basename:e,children:t,window:n}){let s=m.useRef();s.current==null&&(s.current=C1({window:n,v5Compat:!0}));let i=s.current,[l,d]=m.useState({action:i.action,location:i.location}),u=m.useCallback(f=>{m.startTransition(()=>d(f))},[d]);return m.useLayoutEffect(()=>i.listen(u),[i,u]),m.createElement(yw,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i})}var Km=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xm=m.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:i,reloadDocument:l,replace:d,state:u,target:f,to:h,preventScrollReset:g,viewTransition:v,...x},b){let{basename:k}=m.useContext(tr),N=typeof h=="string"&&Km.test(h),S,C=!1;if(typeof h=="string"&&N&&(S=h,Ym))try{let B=new URL(window.location.href),V=h.startsWith("//")?new URL(B.protocol+h):new URL(h),oe=Or(V.pathname,k);V.origin===B.origin&&oe!=null?h=oe+V.search+V.hash:C=!0}catch{Sn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=ew(h,{relative:i}),[w,R,P]=Iw(s,x),I=Bw(h,{replace:d,state:u,target:f,preventScrollReset:g,relative:i,viewTransition:v});function O(B){t&&t(B),B.defaultPrevented||I(B)}let M=m.createElement("a",{...x,...P,href:S||_,onClick:C||l?t:O,ref:Fw(b,R),target:f,"data-discover":!N&&n==="render"?"true":void 0});return w&&!N?m.createElement(m.Fragment,null,M,m.createElement(Lw,{page:_})):M});Xm.displayName="Link";var $a=m.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:i=!1,style:l,to:d,viewTransition:u,children:f,...h},g){let v=Ta(d,{relative:h.relative}),x=so(),b=m.useContext(Ki),{navigator:k,basename:N}=m.useContext(tr),S=b!=null&&Gw(v)&&u===!0,C=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,_=x.pathname,w=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(_=_.toLowerCase(),w=w?w.toLowerCase():null,C=C.toLowerCase()),w&&N&&(w=Or(w,N)||w);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let P=_===C||!i&&_.startsWith(C)&&_.charAt(R)==="/",I=w!=null&&(w===C||!i&&w.startsWith(C)&&w.charAt(C.length)==="/"),O={isActive:P,isPending:I,isTransitioning:S},M=P?t:void 0,B;typeof s=="function"?B=s(O):B=[s,P?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(O):l;return m.createElement(Xm,{...h,"aria-current":M,className:B,ref:g,style:V,to:d,viewTransition:u},typeof f=="function"?f(O):f)});$a.displayName="NavLink";var Ww=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:i,state:l,method:d=Xi,action:u,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:v,...x},b)=>{let k=Zw(),N=qw(u,{relative:h}),S=d.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&Km.test(u),_=w=>{if(f&&f(w),w.defaultPrevented)return;w.preventDefault();let R=w.nativeEvent.submitter,P=R?.getAttribute("formmethod")||d;k(R||w.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:l,relative:h,preventScrollReset:g,viewTransition:v})};return m.createElement("form",{ref:b,method:S,action:N,onSubmit:s?f:_,...x,"data-discover":!C&&e==="render"?"true":void 0})});Ww.displayName="Form";function Hw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jm(e){let t=m.useContext(gs);return lt(t,Hw(e)),t}function Bw(e,{target:t,replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:d}={}){let u=Wm(),f=so(),h=Ta(e,{relative:l});return m.useCallback(g=>{if(Nw(g,t)){g.preventDefault();let v=n!==void 0?n:Ra(f)===Ra(h);u(e,{replace:v,state:s,preventScrollReset:i,relative:l,viewTransition:d})}},[f,u,h,n,s,t,e,i,l,d])}var Uw=0,Vw=()=>`__${String(++Uw)}__`;function Zw(){let{router:e}=Jm("useSubmit"),{basename:t}=m.useContext(tr),n=pw();return m.useCallback(async(s,i={})=>{let{action:l,method:d,encType:u,formData:f,body:h}=Cw(s,t);if(i.navigate===!1){let g=i.fetcherKey||Vw();await e.fetch(g,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||d,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||d,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function qw(e,{relative:t}={}){let{basename:n}=m.useContext(tr),s=m.useContext(nr);lt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),l={...Ta(e||".",{relative:t})},d=so();if(e==null){l.search=d.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(g=>g==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ar([n,l.pathname])),Ra(l)}function Gw(e,{relative:t}={}){let n=m.useContext(Om);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Jm("useViewTransitionState"),i=Ta(e,{relative:t});if(!n.isTransitioning)return!1;let l=Or(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=Or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Yi(i.pathname,d)!=null||Yi(i.pathname,l)!=null}var Oo=_m();const Yw=On(Oo);function Qm(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Qm(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function pe(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Qm(e))&&(s&&(s+=" "),s+=t);return s}const Kw=(e,t)=>{const n=new Array(e.length+t.length);for(let s=0;s<e.length;s++)n[s]=e[s];for(let s=0;s<t.length;s++)n[e.length+s]=t[s];return n},Xw=(e,t)=>({classGroupId:e,validator:t}),eh=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),tl="-",th=[],Jw="arbitrary..",Qw=e=>{const t=t2(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return e2(d);const u=d.split(tl),f=u[0]===""&&u.length>1?1:0;return nh(u,f,t)},getConflictingClassGroupIds:(d,u)=>{if(u){const f=s[d],h=n[d];return f?h?Kw(h,f):f:h||th}return n[d]||th}}},nh=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],l=n.nextPart.get(i);if(l){const h=nh(e,t+1,l);if(h)return h}const d=n.validators;if(d===null)return;const u=t===0?e.join(tl):e.slice(t).join(tl),f=d.length;for(let h=0;h<f;h++){const g=d[h];if(g.validator(u))return g.classGroupId}},e2=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),s=t.slice(0,n);return s?Jw+s:void 0})(),t2=e=>{const{theme:t,classGroups:n}=e;return n2(n,t)},n2=(e,t)=>{const n=eh();for(const s in e){const i=e[s];Qd(i,n,s,t)}return n},Qd=(e,t,n,s)=>{const i=e.length;for(let l=0;l<i;l++){const d=e[l];r2(d,t,n,s)}},r2=(e,t,n,s)=>{if(typeof e=="string"){o2(e,t,n);return}if(typeof e=="function"){s2(e,t,n,s);return}a2(e,t,n,s)},o2=(e,t,n)=>{const s=e===""?t:rh(t,e);s.classGroupId=n},s2=(e,t,n,s)=>{if(i2(e)){Qd(e(s),t,n,s);return}t.validators===null&&(t.validators=[]),t.validators.push(Xw(n,e))},a2=(e,t,n,s)=>{const i=Object.entries(e),l=i.length;for(let d=0;d<l;d++){const[u,f]=i[d];Qd(f,rh(t,u),n,s)}},rh=(e,t)=>{let n=e;const s=t.split(tl),i=s.length;for(let l=0;l<i;l++){const d=s[l];let u=n.nextPart.get(d);u||(u=eh(),n.nextPart.set(d,u)),n=u}return n},i2=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,l2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),s=Object.create(null);const i=(l,d)=>{n[l]=d,t++,t>e&&(t=0,s=n,n=Object.create(null))};return{get(l){let d=n[l];if(d!==void 0)return d;if((d=s[l])!==void 0)return i(l,d),d},set(l,d){l in n?n[l]=d:i(l,d)}}},eu="!",oh=":",c2=[],sh=(e,t,n,s,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:s,isExternal:i}),d2=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=i=>{const l=[];let d=0,u=0,f=0,h;const g=i.length;for(let N=0;N<g;N++){const S=i[N];if(d===0&&u===0){if(S===oh){l.push(i.slice(f,N)),f=N+1;continue}if(S==="/"){h=N;continue}}S==="["?d++:S==="]"?d--:S==="("?u++:S===")"&&u--}const v=l.length===0?i:i.slice(f);let x=v,b=!1;v.endsWith(eu)?(x=v.slice(0,-1),b=!0):v.startsWith(eu)&&(x=v.slice(1),b=!0);const k=h&&h>f?h-f:void 0;return sh(l,b,x,k)};if(t){const i=t+oh,l=s;s=d=>d.startsWith(i)?l(d.slice(i.length)):sh(c2,!1,d,void 0,!0)}if(n){const i=s;s=l=>n({className:l,parseClassName:i})}return s},u2=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,s)=>{t.set(n,1e6+s)}),n=>{const s=[];let i=[];for(let l=0;l<n.length;l++){const d=n[l],u=d[0]==="[",f=t.has(d);u||f?(i.length>0&&(i.sort(),s.push(...i),i=[]),s.push(d)):i.push(d)}return i.length>0&&(i.sort(),s.push(...i)),s}},f2=e=>({cache:l2(e.cacheSize),parseClassName:d2(e),sortModifiers:u2(e),...Qw(e)}),p2=/\s+/,m2=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:l}=t,d=[],u=e.trim().split(p2);let f="";for(let h=u.length-1;h>=0;h-=1){const g=u[h],{isExternal:v,modifiers:x,hasImportantModifier:b,baseClassName:k,maybePostfixModifierPosition:N}=n(g);if(v){f=g+(f.length>0?" "+f:f);continue}let S=!!N,C=s(S?k.substring(0,N):k);if(!C){if(!S){f=g+(f.length>0?" "+f:f);continue}if(C=s(k),!C){f=g+(f.length>0?" "+f:f);continue}S=!1}const _=x.length===0?"":x.length===1?x[0]:l(x).join(":"),w=b?_+eu:_,R=w+C;if(d.indexOf(R)>-1)continue;d.push(R);const P=i(C,S);for(let I=0;I<P.length;++I){const O=P[I];d.push(w+O)}f=g+(f.length>0?" "+f:f)}return f},h2=(...e)=>{let t=0,n,s,i="";for(;t<e.length;)(n=e[t++])&&(s=ah(n))&&(i&&(i+=" "),i+=s);return i},ah=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=ah(e[s]))&&(n&&(n+=" "),n+=t);return n},g2=(e,...t)=>{let n,s,i,l;const d=f=>{const h=t.reduce((g,v)=>v(g),e());return n=f2(h),s=n.cache.get,i=n.cache.set,l=u,u(f)},u=f=>{const h=s(f);if(h)return h;const g=m2(f,n);return i(f,g),g};return l=d,(...f)=>l(h2(...f))},x2=[],Dt=e=>{const t=n=>n[e]||x2;return t.isThemeGetter=!0,t},ih=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lh=/^\((?:(\w[\w-]*):)?(.+)\)$/i,y2=/^\d+\/\d+$/,v2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,j2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ys=e=>y2.test(e),Oe=e=>!!e&&!Number.isNaN(Number(e)),ao=e=>!!e&&Number.isInteger(Number(e)),tu=e=>e.endsWith("%")&&Oe(e.slice(0,-1)),Fr=e=>v2.test(e),k2=()=>!0,S2=e=>b2.test(e)&&!w2.test(e),ch=()=>!1,C2=e=>j2.test(e),E2=e=>N2.test(e),_2=e=>!we(e)&&!je(e),R2=e=>vs(e,mh,ch),we=e=>ih.test(e),Ao=e=>vs(e,hh,S2),nu=e=>vs(e,P2,Oe),dh=e=>vs(e,fh,ch),z2=e=>vs(e,ph,E2),nl=e=>vs(e,gh,C2),je=e=>lh.test(e),Pa=e=>bs(e,hh),T2=e=>bs(e,M2),uh=e=>bs(e,fh),D2=e=>bs(e,mh),$2=e=>bs(e,ph),rl=e=>bs(e,gh,!0),vs=(e,t,n)=>{const s=ih.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},bs=(e,t,n=!1)=>{const s=lh.exec(e);return s?s[1]?t(s[1]):n:!1},fh=e=>e==="position"||e==="percentage",ph=e=>e==="image"||e==="url",mh=e=>e==="length"||e==="size"||e==="bg-size",hh=e=>e==="length",P2=e=>e==="number",M2=e=>e==="family-name",gh=e=>e==="shadow",I2=g2(()=>{const e=Dt("color"),t=Dt("font"),n=Dt("text"),s=Dt("font-weight"),i=Dt("tracking"),l=Dt("leading"),d=Dt("breakpoint"),u=Dt("container"),f=Dt("spacing"),h=Dt("radius"),g=Dt("shadow"),v=Dt("inset-shadow"),x=Dt("text-shadow"),b=Dt("drop-shadow"),k=Dt("blur"),N=Dt("perspective"),S=Dt("aspect"),C=Dt("ease"),_=Dt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...R(),je,we],I=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],M=()=>[je,we,f],B=()=>[ys,"full","auto",...M()],V=()=>[ao,"none","subgrid",je,we],oe=()=>["auto",{span:["full",ao,je,we]},ao,je,we],ue=()=>[ao,"auto",je,we],Ne=()=>["auto","min","max","fr",je,we],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...M()],ne=()=>[ys,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],F=()=>[e,je,we],K=()=>[...R(),uh,dh,{position:[je,we]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",D2,R2,{size:[je,we]}],T=()=>[tu,Pa,Ao],q=()=>["","none","full",h,je,we],G=()=>["",Oe,Pa,Ao],J=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>[Oe,tu,uh,dh],ge=()=>["","none",k,je,we],ze=()=>["none",Oe,je,we],Ee=()=>["none",Oe,je,we],rt=()=>[Oe,je,we],qe=()=>[ys,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fr],breakpoint:[Fr],color:[k2],container:[Fr],"drop-shadow":[Fr],ease:["in","out","in-out"],font:[_2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fr],shadow:[Fr],spacing:["px",Oe],text:[Fr],"text-shadow":[Fr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ys,we,je,S]}],container:["container"],columns:[{columns:[Oe,we,je,u]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[ao,"auto",je,we]}],basis:[{basis:[ys,"full","auto",u,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,ys,"auto","initial","none",we]}],grow:[{grow:["",Oe,je,we]}],shrink:[{shrink:["",Oe,je,we]}],order:[{order:[ao,"first","last","none",je,we]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:oe()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:oe()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ne()}],"auto-rows":[{"auto-rows":Ne()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[u,"screen",...ne()]}],"min-w":[{"min-w":[u,"screen","none",...ne()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[d]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,Pa,Ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,je,nu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",tu,we]}],"font-family":[{font:[T2,we,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,je,we]}],"line-clamp":[{"line-clamp":[Oe,"none",je,nu]}],leading:[{leading:[l,...M()]}],"list-image":[{"list-image":["none",je,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",je,Ao]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Oe,"auto",je,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ao,je,we],radial:["",je,we],conic:[ao,je,we]},$2,z2]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,je,we]}],"outline-w":[{outline:["",Oe,Pa,Ao]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",g,rl,nl]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",v,rl,nl]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Oe,Ao]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",x,rl,nl]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Oe,je,we]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":U()}],"mask-image-linear-to-pos":[{"mask-linear-to":U()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":U()}],"mask-image-t-to-pos":[{"mask-t-to":U()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":U()}],"mask-image-r-to-pos":[{"mask-r-to":U()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":U()}],"mask-image-b-to-pos":[{"mask-b-to":U()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":U()}],"mask-image-l-to-pos":[{"mask-l-to":U()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":U()}],"mask-image-x-to-pos":[{"mask-x-to":U()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":U()}],"mask-image-y-to-pos":[{"mask-y-to":U()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[je,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":U()}],"mask-image-radial-to-pos":[{"mask-radial-to":U()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":U()}],"mask-image-conic-to-pos":[{"mask-conic-to":U()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,we]}],filter:[{filter:["","none",je,we]}],blur:[{blur:ge()}],brightness:[{brightness:[Oe,je,we]}],contrast:[{contrast:[Oe,je,we]}],"drop-shadow":[{"drop-shadow":["","none",b,rl,nl]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Oe,je,we]}],"hue-rotate":[{"hue-rotate":[Oe,je,we]}],invert:[{invert:["",Oe,je,we]}],saturate:[{saturate:[Oe,je,we]}],sepia:[{sepia:["",Oe,je,we]}],"backdrop-filter":[{"backdrop-filter":["","none",je,we]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,je,we]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,je,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,je,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,je,we]}],"backdrop-invert":[{"backdrop-invert":["",Oe,je,we]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,je,we]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,je,we]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,je,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",je,we]}],ease:[{ease:["linear","initial",C,je,we]}],delay:[{delay:[Oe,je,we]}],animate:[{animate:["none",_,je,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,je,we]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:ze()}],"rotate-x":[{"rotate-x":ze()}],"rotate-y":[{"rotate-y":ze()}],"rotate-z":[{"rotate-z":ze()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:rt()}],"skew-x":[{"skew-x":rt()}],"skew-y":[{"skew-y":rt()}],transform:[{transform:[je,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:qe()}],"translate-x":[{"translate-x":qe()}],"translate-y":[{"translate-y":qe()}],"translate-z":[{"translate-z":qe()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,we]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Oe,Pa,Ao,nu]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function De(...e){return I2(pe(e))}function Fo({className:e,...t}){return r.jsx("div",{className:De("animate-pulse rounded-md bg-muted",e),...t})}function L2(){return r.jsxs("div",{className:"sfui-form-builder","data-testid":"form-builder-layout",children:[r.jsx("nav",{className:"sfui-tabs border-b border-gray-200 mb-6",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx($a,{to:"/emails",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-emails",children:" Emails"}),r.jsx($a,{to:"/builder",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-builder",children:" Form Builder"}),r.jsx($a,{to:"/automations",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-automations",children:" Automations"}),r.jsx($a,{to:"/settings",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-settings",children:" Settings"})]})}),r.jsx("div",{className:"sfui-tab-content",children:r.jsx(xw,{})})]})}const O2=m.lazy(()=>er(()=>Promise.resolve().then(()=>bT),void 0)),A2=m.lazy(()=>er(()=>Promise.resolve().then(()=>xD),void 0));function ru(){return r.jsxs("div",{className:"flex h-full gap-4 p-4","data-testid":"page-skeleton",children:[r.jsxs("div",{className:"w-72 space-y-3",children:[r.jsx(Fo,{className:"h-10 w-full"}),r.jsx(Fo,{className:"h-16 w-full"}),r.jsx(Fo,{className:"h-16 w-full"}),r.jsx(Fo,{className:"h-16 w-full"})]}),r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsx(Fo,{className:"h-12 w-full"}),r.jsx(Fo,{className:"h-64 w-full"}),r.jsx(Fo,{className:"h-32 w-full"})]})]})}function xh(){return r.jsx(Jd,{children:r.jsx(m.Suspense,{fallback:r.jsx(ru,{}),children:r.jsx(qd,{children:r.jsxs(wr,{element:r.jsx(L2,{}),children:[r.jsx(wr,{index:!0,element:r.jsx(Vm,{to:"/emails",replace:!0})}),r.jsx(wr,{path:"/emails",element:r.jsx(O2,{...window.sfuiData})}),r.jsx(wr,{path:"/automations",element:r.jsx(A2,{...window.sfuiData})}),r.jsx(wr,{path:"/builder",element:r.jsx(F2,{})}),r.jsx(wr,{path:"/settings",element:r.jsx(W2,{})}),r.jsx(wr,{path:"*",element:r.jsx(Vm,{to:"/emails",replace:!0})})]})})})})}function F2(){return r.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-lg","data-testid":"builder-placeholder",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:" Form Builder"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The form builder will be available here soon."}),r.jsx("p",{className:"text-sm text-gray-500",children:"This tab will either show the legacy jQuery builder in an iframe, or a new React-based builder in future phases."})]})})}function W2(){return r.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-lg","data-testid":"settings-placeholder",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:" Settings"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Form settings will be available here soon."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Settings configuration UI is planned for future migration phases."})]})})}function H2(){return r.jsx(Jd,{children:r.jsx(m.Suspense,{fallback:r.jsx(ru,{}),children:r.jsx(qd,{children:r.jsx(wr,{path:"/",element:r.jsx("div",{children:"Settings Page (coming soon)"})})})})})}function B2(){return r.jsx(Jd,{children:r.jsx(m.Suspense,{fallback:r.jsx(ru,{}),children:r.jsx(qd,{children:r.jsx(wr,{path:"/",element:r.jsx("div",{children:"Entries Page (coming soon)"})})})})})}let ol;const U2=new Uint8Array(16);function V2(){if(!ol&&(ol=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ol))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ol(U2)}const Vt=[];for(let e=0;e<256;++e)Vt.push((e+256).toString(16).slice(1));function Z2(e,t=0){return Vt[e[t+0]]+Vt[e[t+1]]+Vt[e[t+2]]+Vt[e[t+3]]+"-"+Vt[e[t+4]]+Vt[e[t+5]]+"-"+Vt[e[t+6]]+Vt[e[t+7]]+"-"+Vt[e[t+8]]+Vt[e[t+9]]+"-"+Vt[e[t+10]]+Vt[e[t+11]]+Vt[e[t+12]]+Vt[e[t+13]]+Vt[e[t+14]]+Vt[e[t+15]]}const yh={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function An(e,t,n){if(yh.randomUUID&&!e)return yh.randomUUID();e=e||{};const s=e.random||(e.rng||V2)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Z2(s)}const q2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G2=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),vh=e=>{const t=G2(e);return t.charAt(0).toUpperCase()+t.slice(1)},bh=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),Y2=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var K2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const X2=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:d,...u},f)=>m.createElement("svg",{ref:f,...K2,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:bh("lucide",i),...!l&&!Y2(u)&&{"aria-hidden":"true"},...u},[...d.map(([h,g])=>m.createElement(h,g)),...Array.isArray(l)?l:[l]]));const X=(e,t)=>{const n=m.forwardRef(({className:s,...i},l)=>m.createElement(X2,{ref:l,iconNode:t,className:bh(`lucide-${q2(vh(e))}`,`lucide-${e}`,s),...i}));return n.displayName=vh(e),n};const wh=X("align-center",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const jh=X("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const Nh=X("align-right",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const J2=X("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Q2=X("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const ej=X("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const kh=X("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);const Sh=X("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);const tj=X("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const Ma=X("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const nj=X("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const rj=X("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const sl=X("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const al=X("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);const Ia=X("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const gn=X("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const oj=X("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Wr=X("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const La=X("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Wo=X("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const il=X("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const sj=X("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const aj=X("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const ou=X("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const ij=X("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const rr=X("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Zt=X("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);const su=X("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);const Ch=X("container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);const Oa=X("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const au=X("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const ll=X("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const lj=X("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Aa=X("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);const Eh=X("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const cl=X("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const iu=X("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const ws=X("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const dl=X("file-archive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);const ul=X("file-audio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);const fl=X("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);const pl=X("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);const ml=X("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const io=X("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const hl=X("file-type",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);const gl=X("file-video",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);const _h=X("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const cj=X("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const Rh=X("forward",[["path",{d:"m15 17 5-5-5-5",key:"nf172w"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);const zh=X("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);const Th=X("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const lu=X("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const dj=X("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const uj=X("grip-horizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);const xl=X("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const fj=X("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);X("highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);const pj=X("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const cu=X("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const mj=X("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Dh=X("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);const hj=X("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const gj=X("layers-2",[["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74z",key:"15q6uc"}],["path",{d:"m20 14.285 1.5.845a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74l1.5-.845",key:"byia6g"}]]);const Fa=X("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);const xj=X("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const Wa=X("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const yj=X("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const yl=X("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Hr=X("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);const vj=X("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const du=X("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);const bj=X("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const $h=X("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const Ha=X("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const Ph=X("move-vertical",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]]);const uu=X("move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);const wj=X("paint-bucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);const Fn=X("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);const fu=X("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const Mh=X("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);const jj=X("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const pu=X("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const Nj=X("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);const jr=X("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const kj=X("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);const mu=X("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const js=X("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ih=X("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const Lh=X("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Sj=X("rectangle-ellipsis",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]]);const Cj=X("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);const Ho=X("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Ej=X("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);const vl=X("reply",[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]]);const bl=X("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Ns=X("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Oh=X("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const ks=X("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const Ss=X("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const wl=X("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Ah=X("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const _j=X("share",[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]]);const Fh=X("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Rj=X("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const zj=X("sliders-vertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const Ba=X("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const Wh=X("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Tj=X("square-chevron-down",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m16 10-4 4-4-4",key:"894hmk"}]]);const Hh=X("square-stack",[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);const Bh=X("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const Uh=X("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const Dj=X("step-forward",[["line",{x1:"6",x2:"6",y1:"4",y2:"20",key:"fy8qot"}],["polygon",{points:"10,4 20,12 10,20",key:"1mc1pf"}]]);const hu=X("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);const lo=X("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const $j=X("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const Wn=X("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Vh=X("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);const jl=X("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);const Cs=X("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);const Zh=X("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);const Pj=X("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);const Mj=X("unlink-2",[["path",{d:"M15 7h2a5 5 0 0 1 0 10h-2m-6 0H7A5 5 0 0 1 7 7h2",key:"1re2ne"}]]);const Ij=X("unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);const Bo=X("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);const Ua=X("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const gu=X("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);const Nl=X("webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);const qh=X("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);const qt=X("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const kl=X("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);const Lj=X("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const Oj=X("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Aj={},Gh=e=>{let t;const n=new Set,s=(g,v)=>{const x=typeof g=="function"?g(t):g;if(!Object.is(x,t)){const b=t;t=v??(typeof x!="object"||x===null)?x:Object.assign({},t,x),n.forEach(k=>k(t,b))}},i=()=>t,f={setState:s,getState:i,getInitialState:()=>h,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{(Aj?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=t=e(s,i,f);return f},Yh=e=>e?Gh(e):Gh;var xu={exports:{}},yu={},vu={exports:{}},bu={};var Kh;function Fj(){if(Kh)return bu;Kh=1;var e=_a();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,i=e.useEffect,l=e.useLayoutEffect,d=e.useDebugValue;function u(v,x){var b=x(),k=s({inst:{value:b,getSnapshot:x}}),N=k[0].inst,S=k[1];return l(function(){N.value=b,N.getSnapshot=x,f(N)&&S({inst:N})},[v,b,x]),i(function(){return f(N)&&S({inst:N}),v(function(){f(N)&&S({inst:N})})},[v]),d(b),b}function f(v){var x=v.getSnapshot;v=v.value;try{var b=x();return!n(v,b)}catch{return!0}}function h(v,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return bu.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,bu}var Xh;function Wj(){return Xh||(Xh=1,vu.exports=Fj()),vu.exports}var Jh;function Hj(){if(Jh)return yu;Jh=1;var e=_a(),t=Wj();function n(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var s=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,l=e.useRef,d=e.useEffect,u=e.useMemo,f=e.useDebugValue;return yu.useSyncExternalStoreWithSelector=function(h,g,v,x,b){var k=l(null);if(k.current===null){var N={hasValue:!1,value:null};k.current=N}else N=k.current;k=u(function(){function C(I){if(!_){if(_=!0,w=I,I=x(I),b!==void 0&&N.hasValue){var O=N.value;if(b(O,I))return R=O}return R=I}if(O=R,s(w,I))return O;var M=x(I);return b!==void 0&&b(O,M)?(w=I,O):(w=I,R=M)}var _=!1,w,R,P=v===void 0?null:v;return[function(){return C(g())},P===null?void 0:function(){return C(P())}]},[g,v,x,b]);var S=i(h,k[0],k[1]);return d(function(){N.hasValue=!0,N.value=S},[S]),f(S),S},yu}var Qh;function Bj(){return Qh||(Qh=1,xu.exports=Hj()),xu.exports}var Uj=Bj();const eg=On(Uj),tg={},{useDebugValue:Vj}=$e,{useSyncExternalStoreWithSelector:Zj}=eg;let ng=!1;const qj=e=>e;function Gj(e,t=qj,n){(tg?"production":void 0)!=="production"&&n&&!ng&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ng=!0);const s=Zj(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Vj(s),s}const rg=e=>{(tg?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Yh(e):e,n=(s,i)=>Gj(t,s,i);return Object.assign(n,t),n},Sl=e=>e?rg(e):rg,co=Sl((e,t)=>({items:{},order:[],deviceVisibility:{},addElement:(n,s)=>{e(i=>{const l={...i.items,[n.id]:n},d=[...i.order];s!==void 0?d.splice(s,0,n.id):d.push(n.id);const u={...i.deviceVisibility,[n.id]:{desktop:!0,tablet:!0,mobile:!0}};return{items:l,order:d,deviceVisibility:u}})},removeElement:n=>{e(s=>{const i=s.items[n];if(!i)return s;const l={...s.items},d={...s.deviceVisibility};let u=[...s.order];i.parent&&l[i.parent]?.children&&(l[i.parent]={...l[i.parent],children:l[i.parent].children.filter(h=>h!==n)});const f=h=>{const g=l[h];g?.children&&g.children.forEach(v=>f(v)),delete l[h],delete d[h],u=u.filter(v=>v!==h)};return f(n),{items:l,order:u,deviceVisibility:d}})},updateElement:(n,s)=>{e(i=>i.items[n]?{items:{...i.items,[n]:{...i.items[n],...s}}}:i)},moveElement:(n,s,i,l)=>{e(d=>{const u=d.items[n];if(!u)return d;const f={...d.items};let h=d.order.filter(g=>g!==n);if(u.parent&&f[u.parent]?.children&&(f[u.parent]={...f[u.parent],children:f[u.parent].children.filter(g=>g!==n)}),f[n]={...u,parent:void 0},s&&i==="inside"){const g=f[s];if(g){const v=g.children?[...g.children]:[];v.push(n),f[s]={...g,children:v},f[n]={...f[n],parent:s}}}else if(s){const g=h.indexOf(s);if(g!==-1){const v=i==="before"?g:g+1;h.splice(v,0,n)}}else l!==void 0?h.splice(l,0,n):h.push(n);return{items:f,order:h}})},updateDeviceVisibility:(n,s,i)=>{e(l=>({deviceVisibility:{...l.deviceVisibility,[n]:{...l.deviceVisibility[n]||{desktop:!0,tablet:!0,mobile:!0},[s]:i}}}))},reorderElements:n=>{e({order:n})},loadElements:n=>{e(n)},setStyleOverride:(n,s,i,l)=>{e(d=>{const u=d.items[n];if(!u)return d;const f=u.styleOverrides??{},h=f[s]??{};return{items:{...d.items,[n]:{...u,styleOverrides:{...f,[s]:{...h,[i]:l}}}}}})},setStyleOverrides:(n,s,i)=>{e(l=>{const d=l.items[n];if(!d)return l;const u=d.styleOverrides??{},f=u[s]??{};return{items:{...l.items,[n]:{...d,styleOverrides:{...u,[s]:{...f,...i}}}}}})},removeStyleOverride:(n,s,i)=>{e(l=>{const d=l.items[n];if(!d?.styleOverrides?.[s])return l;const u={...d.styleOverrides[s]};delete u[i];const f={...d.styleOverrides};return Object.keys(u).length===0?delete f[s]:f[s]=u,{items:{...l.items,[n]:{...d,styleOverrides:Object.keys(f).length>0?f:void 0}}}})},clearNodeStyleOverrides:(n,s)=>{e(i=>{const l=i.items[n];if(!l?.styleOverrides?.[s])return i;const d={...l.styleOverrides};return delete d[s],{items:{...i.items,[n]:{...l,styleOverrides:Object.keys(d).length>0?d:void 0}}}})},clearAllStyleOverrides:n=>{e(s=>{const i=s.items[n];return i?.styleOverrides?{items:{...s.items,[n]:{...i,styleOverrides:void 0}}}:s})},copyStyleOverrides:(n,s)=>{e(i=>{const l=i.items[n],d=i.items[s];return!l||!d?i:{items:{...i.items,[s]:{...d,styleOverrides:l.styleOverrides?JSON.parse(JSON.stringify(l.styleOverrides)):void 0}}}})}})),Yj=Sl(e=>({draggedElement:null,hoveredElement:null,selectedElements:[],dropZoneActive:!1,dropTarget:null,setDraggedElement:t=>{e({draggedElement:t,dropZoneActive:t!==null,dropTarget:t===null?null:void 0})},setHoveredElement:t=>{e({hoveredElement:t})},setSelectedElements:t=>{e({selectedElements:t})},addSelectedElement:t=>{e(n=>({selectedElements:n.selectedElements.includes(t)?n.selectedElements:[...n.selectedElements,t]}))},removeSelectedElement:t=>{e(n=>({selectedElements:n.selectedElements.filter(s=>s!==t)}))},clearSelection:()=>{e({selectedElements:[]})},setDropTarget:t=>{e({dropTarget:t})}})),og=({element:e,styles:t})=>{const{properties:n={}}=e,s=()=>{switch(e.type){case"password":return"password";case"number":case"number-formatted":return"number";case"email":return"email";case"phone":return"tel";case"url":return"url";default:return"text"}},i=()=>{if(n.placeholder)return n.placeholder;switch(e.type){case"password":return"Enter password";case"email":return"Enter email address";case"phone":return"Enter phone number";case"url":return"Enter URL";case"number":case"number-formatted":return"Enter number";default:return"Enter text"}};return r.jsxs("div",{children:[n.label&&r.jsxs("label",{style:t.label,className:"block mb-1",children:[n.label,n.required&&r.jsx("span",{style:t.required,className:"ml-1",children:"*"})]}),n.description&&r.jsx("p",{style:t.description,className:"text-sm mb-2",children:n.description}),r.jsx("input",{type:s(),placeholder:i(),disabled:!0,style:t.input,className:"form-input w-full border rounded-md px-3 py-2"})]})},Kj=Object.freeze(Object.defineProperty({__proto__:null,TextInput:og,default:og},Symbol.toStringTag,{value:"Module"})),sg=({element:e,styles:t})=>{const{properties:n={}}=e;return r.jsxs("div",{children:[n.label&&r.jsxs("label",{style:t.label,className:"block mb-1",children:[n.label,n.required&&r.jsx("span",{style:t.required,className:"ml-1",children:"*"})]}),n.description&&r.jsx("p",{style:t.description,className:"text-sm mb-2",children:n.description}),r.jsx("textarea",{placeholder:n.placeholder||"Enter text",rows:n.rows||3,disabled:!0,style:t.input,className:"form-input w-full border rounded-md px-3 py-2"})]})},Xj=Object.freeze(Object.defineProperty({__proto__:null,TextArea:sg,default:sg},Symbol.toStringTag,{value:"Module"})),ag=({element:e,styles:t})=>{const{properties:n={}}=e;return r.jsxs("div",{children:[n.label&&r.jsxs("label",{style:t.label,className:"block mb-1",children:[n.label,n.required&&r.jsx("span",{style:t.required,className:"ml-1",children:"*"})]}),n.description&&r.jsx("p",{style:t.description,className:"text-sm mb-2",children:n.description}),r.jsxs("select",{disabled:!0,style:t.input,className:"form-input w-full border rounded-md px-3 py-2",children:[r.jsx("option",{children:n.placeholder||"Choose an option"}),n.options?.map((s,i)=>r.jsx("option",{value:s,children:s},i))]})]})},Jj=Object.freeze(Object.defineProperty({__proto__:null,Select:ag,default:ag},Symbol.toStringTag,{value:"Module"})),Qj=({position:e,onClose:t,onFormat:n,selectedText:s})=>r.jsxs("div",{className:"floating-toolbar",style:{position:"absolute",left:e.x,top:e.y-40,background:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"4px",zIndex:1e3},children:[r.jsx("button",{onClick:()=>n("bold"),children:"B"}),r.jsx("button",{onClick:()=>n("italic"),children:"I"}),r.jsx("button",{onClick:t,children:""})]}),ig=({value:e,onChange:t,className:n="",placeholder:s="",multiline:i=!1,onFormat:l})=>{const[d,u]=m.useState(!1),[f,h]=m.useState(e),[g,v]=m.useState(!1),[x,b]=m.useState({x:0,y:0}),[k,N]=m.useState(""),S=m.useRef(null);m.useEffect(()=>{h(e)},[e]);const C=()=>{u(!0),setTimeout(()=>{S.current?.focus()},0)},_=()=>{u(!1),t(f),v(!1)},w=P=>{P.key==="Enter"&&!i&&_(),P.key==="Escape"&&(h(e),u(!1),v(!1))},R=()=>{const P=window.getSelection();if(P&&P.toString().length>0){const O=P.getRangeAt(0).getBoundingClientRect();b({x:O.left,y:O.top}),N(P.toString()),v(!0)}else v(!1)};return d?r.jsxs(r.Fragment,{children:[i?r.jsx("textarea",{ref:S,value:f,onChange:P=>h(P.target.value),onBlur:_,onKeyDown:w,onMouseUp:R,className:`inline-editable-input ${n}`,placeholder:s,rows:3}):r.jsx("input",{ref:S,type:"text",value:f,onChange:P=>h(P.target.value),onBlur:_,onKeyDown:w,onMouseUp:R,className:`inline-editable-input ${n}`,placeholder:s}),g&&l&&r.jsx(Qj,{position:x,onClose:()=>v(!1),onFormat:l,selectedText:k})]}):r.jsxs("div",{onClick:C,className:`inline-editable-text ${n}`,title:"Click to edit",children:[e||s,r.jsx(pu,{size:12,className:"inline-edit-icon"})]})},lg=({element:e,updateElementProperty:t,styles:n})=>{const{properties:s={}}=e;return r.jsxs("div",{children:[s.label&&r.jsxs("label",{style:n.label,className:"block mb-2",children:[s.label,s.required&&r.jsx("span",{style:n.required,className:"ml-1",children:"*"})]}),s.description&&r.jsx("p",{style:n.description,className:"text-sm mb-3",children:s.description}),r.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${s.columnsPerRow||2}, 1fr)`},children:s.options?.map((i,l)=>r.jsx("div",{style:n.cardContainer,className:"radio-card border-2 border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:border-blue-300 hover:shadow-md",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"radio-card-icon mb-2",children:r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(Lh,{size:16,className:"text-gray-400"})})}),r.jsxs("div",{className:"radio-card-content",children:[r.jsx(ig,{value:i,onChange:d=>{const u=[...s.options||[]];u[l]=d,t(e.id,"options",u)},className:"font-medium text-gray-900 text-sm leading-tight",placeholder:"Option title"}),s.showDescriptions!==!1&&r.jsx("p",{style:n.optionLabel,className:"text-xs text-gray-500 mt-1",children:"Description for this option"})]})]}),r.jsx("input",{type:"radio",name:e.id,className:"radio-card-input mt-1",disabled:!0})]})},l))})]})},eN=Object.freeze(Object.defineProperty({__proto__:null,RadioCards:lg,default:lg},Symbol.toStringTag,{value:"Module"})),cg=({element:e,updateElementProperty:t,styles:n})=>{const{properties:s={}}=e;return r.jsxs("div",{children:[s.label&&r.jsxs("label",{style:n.label,className:"block mb-2",children:[s.label,s.required&&r.jsx("span",{style:n.required,className:"ml-1",children:"*"})]}),s.description&&r.jsx("p",{style:n.description,className:"text-sm mb-3",children:s.description}),r.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${s.columnsPerRow||2}, 1fr)`},children:s.options?.map((i,l)=>r.jsx("div",{style:n.cardContainer,className:"checkbox-card border-2 border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:border-blue-300 hover:shadow-md",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"checkbox-card-icon mb-2",children:r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(Wh,{size:16,className:"text-gray-400"})})}),r.jsxs("div",{className:"checkbox-card-content",children:[r.jsx(ig,{value:i,onChange:d=>{const u=[...s.options||[]];u[l]=d,t(e.id,"options",u)},className:"font-medium text-gray-900 text-sm leading-tight",placeholder:"Option title"}),s.showDescriptions!==!1&&r.jsx("p",{style:n.optionLabel,className:"text-xs text-gray-500 mt-1",children:"Description for this option"})]})]}),r.jsx("input",{type:"checkbox",className:"checkbox-card-input mt-1",disabled:!0})]})},l))})]})},tN=Object.freeze(Object.defineProperty({__proto__:null,CheckboxCards:cg,default:cg},Symbol.toStringTag,{value:"Module"})),dg=({element:e})=>{const t=e.properties?.columnCount||2,n=e.properties?.gap||"20px";return r.jsx("div",{className:"columns-container",style:{display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,gap:n,minHeight:"80px",border:"2px dashed #e5e7eb",borderRadius:"8px",padding:"16px"},children:Array.from({length:t}).map((s,i)=>r.jsxs("div",{className:"column-drop-zone",style:{border:"1px dashed #d1d5db",borderRadius:"4px",minHeight:"60px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f9fafb",color:"#6b7280",fontSize:"14px"},children:["Column ",i+1]},i))})},nN=Object.freeze(Object.defineProperty({__proto__:null,ColumnsContainer:dg,default:dg},Symbol.toStringTag,{value:"Module"}));function ee(e,t,n){function s(u,f){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:f,constr:d,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,f);const h=d.prototype,g=Object.keys(h);for(let v=0;v<g.length;v++){const x=g[v];x in u||(u[x]=h[x].bind(u))}}const i=n?.Parent??Object;class l extends i{}Object.defineProperty(l,"name",{value:e});function d(u){var f;const h=n?.Parent?new l:this;s(h,u),(f=h._zod).deferred??(f.deferred=[]);for(const g of h._zod.deferred)g();return h}return Object.defineProperty(d,"init",{value:s}),Object.defineProperty(d,Symbol.hasInstance,{value:u=>n?.Parent&&u instanceof n.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(d,"name",{value:e}),d}class Es extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ug extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const fg={};function uo(e){return fg}function rN(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,i])=>t.indexOf(+s)===-1).map(([s,i])=>i)}function wu(e,t){return typeof t=="bigint"?t.toString():t}function ju(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Nu(e){return e==null}function ku(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function oN(e,t){const n=(e.toString().split(".")[1]||"").length,s=t.toString();let i=(s.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(s)){const f=s.match(/\d?e-(\d?)/);f?.[1]&&(i=Number.parseInt(f[1]))}const l=n>i?n:i,d=Number.parseInt(e.toFixed(l).replace(".","")),u=Number.parseInt(t.toFixed(l).replace(".",""));return d%u/10**l}const pg=Symbol("evaluating");function et(e,t,n){let s;Object.defineProperty(e,t,{get(){if(s!==pg)return s===void 0&&(s=pg,s=n()),s},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Uo(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Vo(...e){const t={};for(const n of e){const s=Object.getOwnPropertyDescriptors(n);Object.assign(t,s)}return Object.defineProperties({},t)}function mg(e){return JSON.stringify(e)}function sN(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const hg="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Cl(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const aN=ju(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function _s(e){if(Cl(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Cl(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function gg(e){return _s(e)?{...e}:Array.isArray(e)?[...e]:e}const iN=new Set(["string","number","symbol"]);function El(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fo(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(s._zod.parent=e),s}function Te(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function lN(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const cN={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function dN(e,t){const n=e._zod.def,s=Vo(e._zod.def,{get shape(){const i={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=n.shape[l])}return Uo(this,"shape",i),i},checks:[]});return fo(e,s)}function uN(e,t){const n=e._zod.def,s=Vo(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete i[l]}return Uo(this,"shape",i),i},checks:[]});return fo(e,s)}function fN(e,t){if(!_s(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Vo(e._zod.def,{get shape(){const l={...e._zod.def.shape,...t};return Uo(this,"shape",l),l},checks:[]});return fo(e,i)}function pN(e,t){if(!_s(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const s={...e._zod.def.shape,...t};return Uo(this,"shape",s),s},checks:e._zod.def.checks};return fo(e,n)}function mN(e,t){const n=Vo(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t._zod.def.shape};return Uo(this,"shape",s),s},get catchall(){return t._zod.def.catchall},checks:[]});return fo(e,n)}function hN(e,t,n){const s=Vo(t._zod.def,{get shape(){const i=t._zod.def.shape,l={...i};if(n)for(const d in n){if(!(d in i))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(l[d]=e?new e({type:"optional",innerType:i[d]}):i[d])}else for(const d in i)l[d]=e?new e({type:"optional",innerType:i[d]}):i[d];return Uo(this,"shape",l),l},checks:[]});return fo(t,s)}function gN(e,t,n){const s=Vo(t._zod.def,{get shape(){const i=t._zod.def.shape,l={...i};if(n)for(const d in n){if(!(d in l))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(l[d]=new e({type:"nonoptional",innerType:i[d]}))}else for(const d in i)l[d]=new e({type:"nonoptional",innerType:i[d]});return Uo(this,"shape",l),l},checks:[]});return fo(t,s)}function Rs(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function zs(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function _l(e){return typeof e=="string"?e:e?.message}function po(e,t,n){const s={...e,path:e.path??[]};if(!e.message){const i=_l(e.inst?._zod.def?.error?.(e))??_l(t?.error?.(e))??_l(n.customError?.(e))??_l(n.localeError?.(e))??"Invalid input";s.message=i}return delete s.inst,delete s.continue,t?.reportInput||delete s.input,s}function Su(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Va(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const xg=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,wu,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},yg=ee("$ZodError",xg),vg=ee("$ZodError",xg,{Parent:Error});function xN(e,t=n=>n.message){const n={},s=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):s.push(t(i));return{formErrors:s,fieldErrors:n}}function yN(e,t=n=>n.message){const n={_errors:[]},s=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(d=>s({issues:d}));else if(l.code==="invalid_key")s({issues:l.issues});else if(l.code==="invalid_element")s({issues:l.issues});else if(l.path.length===0)n._errors.push(t(l));else{let d=n,u=0;for(;u<l.path.length;){const f=l.path[u];u===l.path.length-1?(d[f]=d[f]||{_errors:[]},d[f]._errors.push(t(l))):d[f]=d[f]||{_errors:[]},d=d[f],u++}}};return s(e),n}const Cu=e=>(t,n,s,i)=>{const l=s?Object.assign(s,{async:!1}):{async:!1},d=t._zod.run({value:n,issues:[]},l);if(d instanceof Promise)throw new Es;if(d.issues.length){const u=new(i?.Err??e)(d.issues.map(f=>po(f,l,uo())));throw hg(u,i?.callee),u}return d.value},Eu=e=>async(t,n,s,i)=>{const l=s?Object.assign(s,{async:!0}):{async:!0};let d=t._zod.run({value:n,issues:[]},l);if(d instanceof Promise&&(d=await d),d.issues.length){const u=new(i?.Err??e)(d.issues.map(f=>po(f,l,uo())));throw hg(u,i?.callee),u}return d.value},Rl=e=>(t,n,s)=>{const i=s?{...s,async:!1}:{async:!1},l=t._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new Es;return l.issues.length?{success:!1,error:new(e??yg)(l.issues.map(d=>po(d,i,uo())))}:{success:!0,data:l.value}},vN=Rl(vg),zl=e=>async(t,n,s)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new e(l.issues.map(d=>po(d,i,uo())))}:{success:!0,data:l.value}},bN=zl(vg),wN=e=>(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Cu(e)(t,n,i)},jN=e=>(t,n,s)=>Cu(e)(t,n,s),NN=e=>async(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Eu(e)(t,n,i)},kN=e=>async(t,n,s)=>Eu(e)(t,n,s),SN=e=>(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Rl(e)(t,n,i)},CN=e=>(t,n,s)=>Rl(e)(t,n,s),EN=e=>async(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return zl(e)(t,n,i)},_N=e=>async(t,n,s)=>zl(e)(t,n,s),RN=/^[cC][^\s-]{8,}$/,zN=/^[0-9a-z]+$/,TN=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,DN=/^[0-9a-vA-V]{20}$/,$N=/^[A-Za-z0-9]{27}$/,PN=/^[a-zA-Z0-9_-]{21}$/,MN=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,IN=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bg=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,LN=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ON="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function AN(){return new RegExp(ON,"u")}const FN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,WN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,HN=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,BN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UN=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,wg=/^[A-Za-z0-9_-]*$/,VN=/^\+(?:[0-9]){6,14}[0-9]$/,jg="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",ZN=new RegExp(`^${jg}$`);function Ng(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function qN(e){return new RegExp(`^${Ng(e)}$`)}function GN(e){const t=Ng({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${jg}T(?:${s})$`)}const YN=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},KN=/^-?\d+$/,XN=/^-?\d+(?:\.\d+)?/,JN=/^(?:true|false)$/i,QN=/^[^A-Z]*$/,ek=/^[^a-z]*$/,xn=ee("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),kg={number:"number",bigint:"bigint",object:"date"},Sg=ee("$ZodCheckLessThan",(e,t)=>{xn.init(e,t);const n=kg[typeof t.value];e._zod.onattach.push(s=>{const i=s._zod.bag,l=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<l&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:n,code:"too_big",maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Cg=ee("$ZodCheckGreaterThan",(e,t)=>{xn.init(e,t);const n=kg[typeof t.value];e._zod.onattach.push(s=>{const i=s._zod.bag,l=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>l&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:n,code:"too_small",minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tk=ee("$ZodCheckMultipleOf",(e,t)=>{xn.init(e,t),e._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):oN(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),nk=ee("$ZodCheckNumberFormat",(e,t)=>{xn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),s=n?"int":"number",[i,l]=cN[t.format];e._zod.onattach.push(d=>{const u=d._zod.bag;u.format=t.format,u.minimum=i,u.maximum=l,n&&(u.pattern=KN)}),e._zod.check=d=>{const u=d.value;if(n){if(!Number.isInteger(u)){d.issues.push({expected:s,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?d.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}):d.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort});return}}u<i&&d.issues.push({origin:"number",input:u,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),u>l&&d.issues.push({origin:"number",input:u,code:"too_big",maximum:l,inst:e})}}),rk=ee("$ZodCheckMaxLength",(e,t)=>{var n;xn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const i=s.value;return!Nu(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const i=s.value;if(i.length<=t.maximum)return;const d=Su(i);s.issues.push({origin:d,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),ok=ee("$ZodCheckMinLength",(e,t)=>{var n;xn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const i=s.value;return!Nu(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const i=s.value;if(i.length>=t.minimum)return;const d=Su(i);s.issues.push({origin:d,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),sk=ee("$ZodCheckLengthEquals",(e,t)=>{var n;xn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const i=s.value;return!Nu(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=s=>{const i=s.value,l=i.length;if(l===t.length)return;const d=Su(i),u=l>t.length;s.issues.push({origin:d,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),Tl=ee("$ZodCheckStringFormat",(e,t)=>{var n,s;xn.init(e,t),e._zod.onattach.push(i=>{const l=i._zod.bag;l.format=t.format,t.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),ak=ee("$ZodCheckRegex",(e,t)=>{Tl.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),ik=ee("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=QN),Tl.init(e,t)}),lk=ee("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=ek),Tl.init(e,t)}),ck=ee("$ZodCheckIncludes",(e,t)=>{xn.init(e,t);const n=El(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(s)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),dk=ee("$ZodCheckStartsWith",(e,t)=>{xn.init(e,t);const n=new RegExp(`^${El(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),uk=ee("$ZodCheckEndsWith",(e,t)=>{xn.init(e,t);const n=new RegExp(`.*${El(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),fk=ee("$ZodCheckOverwrite",(e,t)=>{xn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class pk{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(d=>d),i=Math.min(...s.map(d=>d.length-d.trimStart().length)),l=s.map(d=>d.slice(i)).map(d=>" ".repeat(this.indent*2)+d);for(const d of l)this.content.push(d)}compile(){const t=Function,n=this?.args,i=[...(this?.content??[""]).map(l=>`  ${l}`)];return new t(...n,i.join(`
`))}}const mk={major:4,minor:1,patch:13},jt=ee("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=mk;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const i of s)for(const l of i._zod.onattach)l(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(d,u,f)=>{let h=Rs(d),g;for(const v of u){if(v._zod.def.when){if(!v._zod.def.when(d))continue}else if(h)continue;const x=d.issues.length,b=v._zod.check(d);if(b instanceof Promise&&f?.async===!1)throw new Es;if(g||b instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await b,d.issues.length!==x&&(h||(h=Rs(d,x)))});else{if(d.issues.length===x)continue;h||(h=Rs(d,x))}}return g?g.then(()=>d):d},l=(d,u,f)=>{if(Rs(d))return d.aborted=!0,d;const h=i(u,s,f);if(h instanceof Promise){if(f.async===!1)throw new Es;return h.then(g=>e._zod.parse(g,f))}return e._zod.parse(h,f)};e._zod.run=(d,u)=>{if(u.skipChecks)return e._zod.parse(d,u);if(u.direction==="backward"){const h=e._zod.parse({value:d.value,issues:[]},{...u,skipChecks:!0});return h instanceof Promise?h.then(g=>l(g,d,u)):l(h,d,u)}const f=e._zod.parse(d,u);if(f instanceof Promise){if(u.async===!1)throw new Es;return f.then(h=>i(h,s,u))}return i(f,s,u)}}e["~standard"]={validate:i=>{try{const l=vN(e,i);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return bN(e,i).then(d=>d.success?{value:d.data}:{issues:d.error?.issues})}},vendor:"zod",version:1}}),_u=ee("$ZodString",(e,t)=>{jt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??YN(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ct=ee("$ZodStringFormat",(e,t)=>{Tl.init(e,t),_u.init(e,t)}),hk=ee("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=IN),ct.init(e,t)}),gk=ee("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=bg(s))}else t.pattern??(t.pattern=bg());ct.init(e,t)}),xk=ee("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=LN),ct.init(e,t)}),yk=ee("$ZodURL",(e,t)=>{ct.init(e,t),e._zod.check=n=>{try{const s=n.value.trim(),i=new URL(s);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),vk=ee("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=AN()),ct.init(e,t)}),bk=ee("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=PN),ct.init(e,t)}),wk=ee("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=RN),ct.init(e,t)}),jk=ee("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=zN),ct.init(e,t)}),Nk=ee("$ZodULID",(e,t)=>{t.pattern??(t.pattern=TN),ct.init(e,t)}),kk=ee("$ZodXID",(e,t)=>{t.pattern??(t.pattern=DN),ct.init(e,t)}),Sk=ee("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=$N),ct.init(e,t)}),Ck=ee("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=GN(t)),ct.init(e,t)}),Ek=ee("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=ZN),ct.init(e,t)}),_k=ee("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=qN(t)),ct.init(e,t)}),Rk=ee("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=MN),ct.init(e,t)}),zk=ee("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=FN),ct.init(e,t),e._zod.bag.format="ipv4"}),Tk=ee("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=WN),ct.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Dk=ee("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=HN),ct.init(e,t)}),$k=ee("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=BN),ct.init(e,t),e._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[i,l]=s;if(!l)throw new Error;const d=Number(l);if(`${d}`!==l)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Eg(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Pk=ee("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=UN),ct.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Eg(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Mk(e){if(!wg.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Eg(n)}const Ik=ee("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=wg),ct.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Mk(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Lk=ee("$ZodE164",(e,t)=>{t.pattern??(t.pattern=VN),ct.init(e,t)});function Ok(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const i=JSON.parse(atob(s));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const Ak=ee("$ZodJWT",(e,t)=>{ct.init(e,t),e._zod.check=n=>{Ok(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),_g=ee("$ZodNumber",(e,t)=>{jt.init(e,t),e._zod.pattern=e._zod.bag.pattern??XN,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const l=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...l?{received:l}:{}}),n}}),Fk=ee("$ZodNumberFormat",(e,t)=>{nk.init(e,t),_g.init(e,t)}),Wk=ee("$ZodBoolean",(e,t)=>{jt.init(e,t),e._zod.pattern=JN,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),Hk=ee("$ZodUnknown",(e,t)=>{jt.init(e,t),e._zod.parse=n=>n}),Bk=ee("$ZodNever",(e,t)=>{jt.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Rg(e,t,n){e.issues.length&&t.issues.push(...zs(n,e.issues)),t.value[n]=e.value}const Uk=ee("$ZodArray",(e,t)=>{jt.init(e,t),e._zod.parse=(n,s)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const l=[];for(let d=0;d<i.length;d++){const u=i[d],f=t.element._zod.run({value:u,issues:[]},s);f instanceof Promise?l.push(f.then(h=>Rg(h,n,d))):Rg(f,n,d)}return l.length?Promise.all(l).then(()=>n):n}});function Dl(e,t,n,s){e.issues.length&&t.issues.push(...zs(n,e.issues)),e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}function zg(e){const t=Object.keys(e.shape);for(const s of t)if(!e.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const n=lN(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Tg(e,t,n,s,i,l){const d=[],u=i.keySet,f=i.catchall._zod,h=f.def.type;for(const g in t){if(u.has(g))continue;if(h==="never"){d.push(g);continue}const v=f.run({value:t[g],issues:[]},s);v instanceof Promise?e.push(v.then(x=>Dl(x,n,g,t))):Dl(v,n,g,t)}return d.length&&n.issues.push({code:"unrecognized_keys",keys:d,input:t,inst:l}),e.length?Promise.all(e).then(()=>n):n}const Vk=ee("$ZodObject",(e,t)=>{if(jt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...u};return Object.defineProperty(t,"shape",{value:f}),f}})}const s=ju(()=>zg(t));et(e._zod,"propValues",()=>{const u=t.shape,f={};for(const h in u){const g=u[h]._zod;if(g.values){f[h]??(f[h]=new Set);for(const v of g.values)f[h].add(v)}}return f});const i=Cl,l=t.catchall;let d;e._zod.parse=(u,f)=>{d??(d=s.value);const h=u.value;if(!i(h))return u.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),u;u.value={};const g=[],v=d.shape;for(const x of d.keys){const k=v[x]._zod.run({value:h[x],issues:[]},f);k instanceof Promise?g.push(k.then(N=>Dl(N,u,x,h))):Dl(k,u,x,h)}return l?Tg(g,h,u,f,s.value,e):g.length?Promise.all(g).then(()=>u):u}}),Zk=ee("$ZodObjectJIT",(e,t)=>{Vk.init(e,t);const n=e._zod.parse,s=ju(()=>zg(t)),i=x=>{const b=new pk(["shape","payload","ctx"]),k=s.value,N=w=>{const R=mg(w);return`shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`};b.write("const input = payload.value;");const S=Object.create(null);let C=0;for(const w of k.keys)S[w]=`key_${C++}`;b.write("const newResult = {};");for(const w of k.keys){const R=S[w],P=mg(w);b.write(`const ${R} = ${N(w)};`),b.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${P}, ...iss.path] : [${P}]
          })));
        }
        
        
        if (${R}.value === undefined) {
          if (${P} in input) {
            newResult[${P}] = undefined;
          }
        } else {
          newResult[${P}] = ${R}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const _=b.compile();return(w,R)=>_(x,w,R)};let l;const d=Cl,u=!fg.jitless,h=u&&aN.value,g=t.catchall;let v;e._zod.parse=(x,b)=>{v??(v=s.value);const k=x.value;return d(k)?u&&h&&b?.async===!1&&b.jitless!==!0?(l||(l=i(t.shape)),x=l(x,b),g?Tg([],k,x,b,v,e):x):n(x,b):(x.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),x)}});function Dg(e,t,n,s){for(const l of e)if(l.issues.length===0)return t.value=l.value,t;const i=e.filter(l=>!Rs(l));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(l=>l.issues.map(d=>po(d,s,uo())))}),t)}const qk=ee("$ZodUnion",(e,t)=>{jt.init(e,t),et(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),et(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),et(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),et(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>ku(l.source)).join("|")})$`)}});const n=t.options.length===1,s=t.options[0]._zod.run;e._zod.parse=(i,l)=>{if(n)return s(i,l);let d=!1;const u=[];for(const f of t.options){const h=f._zod.run({value:i.value,issues:[]},l);if(h instanceof Promise)u.push(h),d=!0;else{if(h.issues.length===0)return h;u.push(h)}}return d?Promise.all(u).then(f=>Dg(f,i,e,l)):Dg(u,i,e,l)}}),Gk=ee("$ZodIntersection",(e,t)=>{jt.init(e,t),e._zod.parse=(n,s)=>{const i=n.value,l=t.left._zod.run({value:i,issues:[]},s),d=t.right._zod.run({value:i,issues:[]},s);return l instanceof Promise||d instanceof Promise?Promise.all([l,d]).then(([f,h])=>$g(n,f,h)):$g(n,l,d)}});function Ru(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(_s(e)&&_s(t)){const n=Object.keys(t),s=Object.keys(e).filter(l=>n.indexOf(l)!==-1),i={...e,...t};for(const l of s){const d=Ru(e[l],t[l]);if(!d.valid)return{valid:!1,mergeErrorPath:[l,...d.mergeErrorPath]};i[l]=d.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const i=e[s],l=t[s],d=Ru(i,l);if(!d.valid)return{valid:!1,mergeErrorPath:[s,...d.mergeErrorPath]};n.push(d.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function $g(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Rs(e))return e;const s=Ru(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const Yk=ee("$ZodRecord",(e,t)=>{jt.init(e,t),e._zod.parse=(n,s)=>{const i=n.value;if(!_s(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const l=[],d=t.keyType._zod.values;if(d){n.value={};const u=new Set;for(const h of d)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){u.add(typeof h=="number"?h.toString():h);const g=t.valueType._zod.run({value:i[h],issues:[]},s);g instanceof Promise?l.push(g.then(v=>{v.issues.length&&n.issues.push(...zs(h,v.issues)),n.value[h]=v.value})):(g.issues.length&&n.issues.push(...zs(h,g.issues)),n.value[h]=g.value)}let f;for(const h in i)u.has(h)||(f=f??[],f.push(h));f&&f.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:f})}else{n.value={};for(const u of Reflect.ownKeys(i)){if(u==="__proto__")continue;const f=t.keyType._zod.run({value:u,issues:[]},s);if(f instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(f.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:f.issues.map(g=>po(g,s,uo())),input:u,path:[u],inst:e}),n.value[f.value]=f.value;continue}const h=t.valueType._zod.run({value:i[u],issues:[]},s);h instanceof Promise?l.push(h.then(g=>{g.issues.length&&n.issues.push(...zs(u,g.issues)),n.value[f.value]=g.value})):(h.issues.length&&n.issues.push(...zs(u,h.issues)),n.value[f.value]=h.value)}}return l.length?Promise.all(l).then(()=>n):n}}),Kk=ee("$ZodEnum",(e,t)=>{jt.init(e,t);const n=rN(t.entries),s=new Set(n);e._zod.values=s,e._zod.pattern=new RegExp(`^(${n.filter(i=>iN.has(typeof i)).map(i=>typeof i=="string"?El(i):i.toString()).join("|")})$`),e._zod.parse=(i,l)=>{const d=i.value;return s.has(d)||i.issues.push({code:"invalid_value",values:n,input:d,inst:e}),i}}),Xk=ee("$ZodTransform",(e,t)=>{jt.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new ug(e.constructor.name);const i=t.transform(n.value,n);if(s.async)return(i instanceof Promise?i:Promise.resolve(i)).then(d=>(n.value=d,n));if(i instanceof Promise)throw new Es;return n.value=i,n}});function Pg(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Jk=ee("$ZodOptional",(e,t)=>{jt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",et(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),et(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ku(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(l=>Pg(l,n.value)):Pg(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,s)}}),Qk=ee("$ZodNullable",(e,t)=>{jt.init(e,t),et(e._zod,"optin",()=>t.innerType._zod.optin),et(e._zod,"optout",()=>t.innerType._zod.optout),et(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ku(n.source)}|null)$`):void 0}),et(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),eS=ee("$ZodDefault",(e,t)=>{jt.init(e,t),e._zod.optin="optional",et(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(l=>Mg(l,t)):Mg(i,t)}});function Mg(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const tS=ee("$ZodPrefault",(e,t)=>{jt.init(e,t),e._zod.optin="optional",et(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),nS=ee("$ZodNonOptional",(e,t)=>{jt.init(e,t),et(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(l=>Ig(l,e)):Ig(i,e)}});function Ig(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const rS=ee("$ZodCatch",(e,t)=>{jt.init(e,t),et(e._zod,"optin",()=>t.innerType._zod.optin),et(e._zod,"optout",()=>t.innerType._zod.optout),et(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=t.catchValue({...n,error:{issues:l.issues.map(d=>po(d,s,uo()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(l=>po(l,s,uo()))},input:n.value}),n.issues=[]),n)}}),oS=ee("$ZodPipe",(e,t)=>{jt.init(e,t),et(e._zod,"values",()=>t.in._zod.values),et(e._zod,"optin",()=>t.in._zod.optin),et(e._zod,"optout",()=>t.out._zod.optout),et(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{if(s.direction==="backward"){const l=t.out._zod.run(n,s);return l instanceof Promise?l.then(d=>$l(d,t.in,s)):$l(l,t.in,s)}const i=t.in._zod.run(n,s);return i instanceof Promise?i.then(l=>$l(l,t.out,s)):$l(i,t.out,s)}});function $l(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const sS=ee("$ZodReadonly",(e,t)=>{jt.init(e,t),et(e._zod,"propValues",()=>t.innerType._zod.propValues),et(e._zod,"values",()=>t.innerType._zod.values),et(e._zod,"optin",()=>t.innerType?._zod?.optin),et(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(Lg):Lg(i)}});function Lg(e){return e.value=Object.freeze(e.value),e}const aS=ee("$ZodCustom",(e,t)=>{xn.init(e,t),jt.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,i=t.fn(s);if(i instanceof Promise)return i.then(l=>Og(l,n,s,e));Og(i,n,s,e)}});function Og(e,t,n,s){if(!e){const i={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(i.params=s._zod.def.params),t.issues.push(Va(i))}}var Ag;class iS{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const s=n[0];if(this._map.set(t,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const i={...s,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function lS(){return new iS}(Ag=globalThis).__zod_globalRegistry??(Ag.__zod_globalRegistry=lS());const Pl=globalThis.__zod_globalRegistry;function cS(e,t){return new e({type:"string",...Te(t)})}function dS(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Te(t)})}function Fg(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Te(t)})}function uS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Te(t)})}function fS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Te(t)})}function pS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Te(t)})}function mS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Te(t)})}function hS(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Te(t)})}function gS(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Te(t)})}function xS(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Te(t)})}function yS(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Te(t)})}function vS(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Te(t)})}function bS(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Te(t)})}function wS(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Te(t)})}function jS(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Te(t)})}function NS(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Te(t)})}function kS(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Te(t)})}function SS(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Te(t)})}function CS(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Te(t)})}function ES(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Te(t)})}function _S(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Te(t)})}function RS(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Te(t)})}function zS(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Te(t)})}function TS(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Te(t)})}function DS(e,t){return new e({type:"string",format:"date",check:"string_format",...Te(t)})}function $S(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Te(t)})}function PS(e,t){return new e({type:"string",format:"duration",check:"string_format",...Te(t)})}function MS(e,t){return new e({type:"number",checks:[],...Te(t)})}function IS(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Te(t)})}function LS(e,t){return new e({type:"boolean",...Te(t)})}function OS(e){return new e({type:"unknown"})}function AS(e,t){return new e({type:"never",...Te(t)})}function Wg(e,t){return new Sg({check:"less_than",...Te(t),value:e,inclusive:!1})}function zu(e,t){return new Sg({check:"less_than",...Te(t),value:e,inclusive:!0})}function Hg(e,t){return new Cg({check:"greater_than",...Te(t),value:e,inclusive:!1})}function Tu(e,t){return new Cg({check:"greater_than",...Te(t),value:e,inclusive:!0})}function Bg(e,t){return new tk({check:"multiple_of",...Te(t),value:e})}function Ug(e,t){return new rk({check:"max_length",...Te(t),maximum:e})}function Ml(e,t){return new ok({check:"min_length",...Te(t),minimum:e})}function Vg(e,t){return new sk({check:"length_equals",...Te(t),length:e})}function FS(e,t){return new ak({check:"string_format",format:"regex",...Te(t),pattern:e})}function WS(e){return new ik({check:"string_format",format:"lowercase",...Te(e)})}function HS(e){return new lk({check:"string_format",format:"uppercase",...Te(e)})}function BS(e,t){return new ck({check:"string_format",format:"includes",...Te(t),includes:e})}function US(e,t){return new dk({check:"string_format",format:"starts_with",...Te(t),prefix:e})}function VS(e,t){return new uk({check:"string_format",format:"ends_with",...Te(t),suffix:e})}function Ts(e){return new fk({check:"overwrite",tx:e})}function ZS(e){return Ts(t=>t.normalize(e))}function qS(){return Ts(e=>e.trim())}function GS(){return Ts(e=>e.toLowerCase())}function YS(){return Ts(e=>e.toUpperCase())}function KS(){return Ts(e=>sN(e))}function XS(e,t,n){return new e({type:"array",element:t,...Te(n)})}function JS(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Te(n)})}function QS(e){const t=eC(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(Va(s,n.value,t._zod.def));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Va(i))}},e(n.value,n)));return t}function eC(e,t){const n=new xn({check:"custom",...Te(t)});return n._zod.check=e,n}const tC=ee("ZodISODateTime",(e,t)=>{Ck.init(e,t),ht.init(e,t)});function nC(e){return TS(tC,e)}const rC=ee("ZodISODate",(e,t)=>{Ek.init(e,t),ht.init(e,t)});function oC(e){return DS(rC,e)}const sC=ee("ZodISOTime",(e,t)=>{_k.init(e,t),ht.init(e,t)});function aC(e){return $S(sC,e)}const iC=ee("ZodISODuration",(e,t)=>{Rk.init(e,t),ht.init(e,t)});function lC(e){return PS(iC,e)}const Hn=ee("ZodError",(e,t)=>{yg.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>yN(e,n)},flatten:{value:n=>xN(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,wu,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,wu,2)}},isEmpty:{get(){return e.issues.length===0}}})},{Parent:Error}),cC=Cu(Hn),dC=Eu(Hn),uC=Rl(Hn),fC=zl(Hn),pC=wN(Hn),mC=jN(Hn),hC=NN(Hn),gC=kN(Hn),xC=SN(Hn),yC=CN(Hn),vC=EN(Hn),bC=_N(Hn),St=ee("ZodType",(e,t)=>(jt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Vo(t,{checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),e.clone=(n,s)=>fo(e,n,s),e.brand=()=>e,e.register=((n,s)=>(n.add(e,s),e)),e.parse=(n,s)=>cC(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>uC(e,n,s),e.parseAsync=async(n,s)=>dC(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>fC(e,n,s),e.spa=e.safeParseAsync,e.encode=(n,s)=>pC(e,n,s),e.decode=(n,s)=>mC(e,n,s),e.encodeAsync=async(n,s)=>hC(e,n,s),e.decodeAsync=async(n,s)=>gC(e,n,s),e.safeEncode=(n,s)=>xC(e,n,s),e.safeDecode=(n,s)=>yC(e,n,s),e.safeEncodeAsync=async(n,s)=>vC(e,n,s),e.safeDecodeAsync=async(n,s)=>bC(e,n,s),e.refine=(n,s)=>e.check(uE(n,s)),e.superRefine=n=>e.check(fE(n)),e.overwrite=n=>e.check(Ts(n)),e.optional=()=>Xg(e),e.nullable=()=>Jg(e),e.nullish=()=>Xg(Jg(e)),e.nonoptional=n=>oE(e,n),e.array=()=>Zo(e),e.or=n=>qC([e,n]),e.and=n=>YC(e,n),e.transform=n=>e0(e,JC(n)),e.default=n=>tE(e,n),e.prefault=n=>rE(e,n),e.catch=n=>aE(e,n),e.pipe=n=>e0(e,n),e.readonly=()=>cE(e),e.describe=n=>{const s=e.clone();return Pl.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){return Pl.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Pl.get(e);const s=e.clone();return Pl.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Zg=ee("_ZodString",(e,t)=>{_u.init(e,t),St.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(FS(...s)),e.includes=(...s)=>e.check(BS(...s)),e.startsWith=(...s)=>e.check(US(...s)),e.endsWith=(...s)=>e.check(VS(...s)),e.min=(...s)=>e.check(Ml(...s)),e.max=(...s)=>e.check(Ug(...s)),e.length=(...s)=>e.check(Vg(...s)),e.nonempty=(...s)=>e.check(Ml(1,...s)),e.lowercase=s=>e.check(WS(s)),e.uppercase=s=>e.check(HS(s)),e.trim=()=>e.check(qS()),e.normalize=(...s)=>e.check(ZS(...s)),e.toLowerCase=()=>e.check(GS()),e.toUpperCase=()=>e.check(YS()),e.slugify=()=>e.check(KS())}),wC=ee("ZodString",(e,t)=>{_u.init(e,t),Zg.init(e,t),e.email=n=>e.check(dS(jC,n)),e.url=n=>e.check(hS(NC,n)),e.jwt=n=>e.check(zS(OC,n)),e.emoji=n=>e.check(gS(kC,n)),e.guid=n=>e.check(Fg(qg,n)),e.uuid=n=>e.check(uS(Il,n)),e.uuidv4=n=>e.check(fS(Il,n)),e.uuidv6=n=>e.check(pS(Il,n)),e.uuidv7=n=>e.check(mS(Il,n)),e.nanoid=n=>e.check(xS(SC,n)),e.guid=n=>e.check(Fg(qg,n)),e.cuid=n=>e.check(yS(CC,n)),e.cuid2=n=>e.check(vS(EC,n)),e.ulid=n=>e.check(bS(_C,n)),e.base64=n=>e.check(ES(MC,n)),e.base64url=n=>e.check(_S(IC,n)),e.xid=n=>e.check(wS(RC,n)),e.ksuid=n=>e.check(jS(zC,n)),e.ipv4=n=>e.check(NS(TC,n)),e.ipv6=n=>e.check(kS(DC,n)),e.cidrv4=n=>e.check(SS($C,n)),e.cidrv6=n=>e.check(CS(PC,n)),e.e164=n=>e.check(RS(LC,n)),e.datetime=n=>e.check(nC(n)),e.date=n=>e.check(oC(n)),e.time=n=>e.check(aC(n)),e.duration=n=>e.check(lC(n))});function Ze(e){return cS(wC,e)}const ht=ee("ZodStringFormat",(e,t)=>{ct.init(e,t),Zg.init(e,t)}),jC=ee("ZodEmail",(e,t)=>{xk.init(e,t),ht.init(e,t)}),qg=ee("ZodGUID",(e,t)=>{hk.init(e,t),ht.init(e,t)}),Il=ee("ZodUUID",(e,t)=>{gk.init(e,t),ht.init(e,t)}),NC=ee("ZodURL",(e,t)=>{yk.init(e,t),ht.init(e,t)}),kC=ee("ZodEmoji",(e,t)=>{vk.init(e,t),ht.init(e,t)}),SC=ee("ZodNanoID",(e,t)=>{bk.init(e,t),ht.init(e,t)}),CC=ee("ZodCUID",(e,t)=>{wk.init(e,t),ht.init(e,t)}),EC=ee("ZodCUID2",(e,t)=>{jk.init(e,t),ht.init(e,t)}),_C=ee("ZodULID",(e,t)=>{Nk.init(e,t),ht.init(e,t)}),RC=ee("ZodXID",(e,t)=>{kk.init(e,t),ht.init(e,t)}),zC=ee("ZodKSUID",(e,t)=>{Sk.init(e,t),ht.init(e,t)}),TC=ee("ZodIPv4",(e,t)=>{zk.init(e,t),ht.init(e,t)}),DC=ee("ZodIPv6",(e,t)=>{Tk.init(e,t),ht.init(e,t)}),$C=ee("ZodCIDRv4",(e,t)=>{Dk.init(e,t),ht.init(e,t)}),PC=ee("ZodCIDRv6",(e,t)=>{$k.init(e,t),ht.init(e,t)}),MC=ee("ZodBase64",(e,t)=>{Pk.init(e,t),ht.init(e,t)}),IC=ee("ZodBase64URL",(e,t)=>{Ik.init(e,t),ht.init(e,t)}),LC=ee("ZodE164",(e,t)=>{Lk.init(e,t),ht.init(e,t)}),OC=ee("ZodJWT",(e,t)=>{Ak.init(e,t),ht.init(e,t)}),Gg=ee("ZodNumber",(e,t)=>{_g.init(e,t),St.init(e,t),e.gt=(s,i)=>e.check(Hg(s,i)),e.gte=(s,i)=>e.check(Tu(s,i)),e.min=(s,i)=>e.check(Tu(s,i)),e.lt=(s,i)=>e.check(Wg(s,i)),e.lte=(s,i)=>e.check(zu(s,i)),e.max=(s,i)=>e.check(zu(s,i)),e.int=s=>e.check(Yg(s)),e.safe=s=>e.check(Yg(s)),e.positive=s=>e.check(Hg(0,s)),e.nonnegative=s=>e.check(Tu(0,s)),e.negative=s=>e.check(Wg(0,s)),e.nonpositive=s=>e.check(zu(0,s)),e.multipleOf=(s,i)=>e.check(Bg(s,i)),e.step=(s,i)=>e.check(Bg(s,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Gt(e){return MS(Gg,e)}const AC=ee("ZodNumberFormat",(e,t)=>{Fk.init(e,t),Gg.init(e,t)});function Yg(e){return IS(AC,e)}const FC=ee("ZodBoolean",(e,t)=>{Wk.init(e,t),St.init(e,t)});function gt(e){return LS(FC,e)}const WC=ee("ZodUnknown",(e,t)=>{Hk.init(e,t),St.init(e,t)});function Za(){return OS(WC)}const HC=ee("ZodNever",(e,t)=>{Bk.init(e,t),St.init(e,t)});function BC(e){return AS(HC,e)}const UC=ee("ZodArray",(e,t)=>{Uk.init(e,t),St.init(e,t),e.element=t.element,e.min=(n,s)=>e.check(Ml(n,s)),e.nonempty=n=>e.check(Ml(1,n)),e.max=(n,s)=>e.check(Ug(n,s)),e.length=(n,s)=>e.check(Vg(n,s)),e.unwrap=()=>e.element});function Zo(e,t){return XS(UC,e,t)}const VC=ee("ZodObject",(e,t)=>{Zk.init(e,t),St.init(e,t),et(e,"shape",()=>t.shape),e.keyof=()=>or(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Za()}),e.loose=()=>e.clone({...e._zod.def,catchall:Za()}),e.strict=()=>e.clone({...e._zod.def,catchall:BC()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>fN(e,n),e.safeExtend=n=>pN(e,n),e.merge=n=>mN(e,n),e.pick=n=>dN(e,n),e.omit=n=>uN(e,n),e.partial=(...n)=>hN(Kg,e,n[0]),e.required=(...n)=>gN(Qg,e,n[0])});function Cn(e,t){const n={type:"object",shape:e??{},...Te(t)};return new VC(n)}const ZC=ee("ZodUnion",(e,t)=>{qk.init(e,t),St.init(e,t),e.options=t.options});function qC(e,t){return new ZC({type:"union",options:e,...Te(t)})}const GC=ee("ZodIntersection",(e,t)=>{Gk.init(e,t),St.init(e,t)});function YC(e,t){return new GC({type:"intersection",left:e,right:t})}const KC=ee("ZodRecord",(e,t)=>{Yk.init(e,t),St.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Ll(e,t,n){return new KC({type:"record",keyType:e,valueType:t,...Te(n)})}const Du=ee("ZodEnum",(e,t)=>{Kk.init(e,t),St.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,i)=>{const l={};for(const d of s)if(n.has(d))l[d]=t.entries[d];else throw new Error(`Key ${d} not found in enum`);return new Du({...t,checks:[],...Te(i),entries:l})},e.exclude=(s,i)=>{const l={...t.entries};for(const d of s)if(n.has(d))delete l[d];else throw new Error(`Key ${d} not found in enum`);return new Du({...t,checks:[],...Te(i),entries:l})}});function or(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new Du({type:"enum",entries:n,...Te(t)})}const XC=ee("ZodTransform",(e,t)=>{Xk.init(e,t),St.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new ug(e.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Va(l,n.value,t));else{const d=l;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=n.value),d.inst??(d.inst=e),n.issues.push(Va(d))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function JC(e){return new XC({type:"transform",transform:e})}const Kg=ee("ZodOptional",(e,t)=>{Jk.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Xg(e){return new Kg({type:"optional",innerType:e})}const QC=ee("ZodNullable",(e,t)=>{Qk.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Jg(e){return new QC({type:"nullable",innerType:e})}const eE=ee("ZodDefault",(e,t)=>{eS.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function tE(e,t){return new eE({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():gg(t)}})}const nE=ee("ZodPrefault",(e,t)=>{tS.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rE(e,t){return new nE({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():gg(t)}})}const Qg=ee("ZodNonOptional",(e,t)=>{nS.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oE(e,t){return new Qg({type:"nonoptional",innerType:e,...Te(t)})}const sE=ee("ZodCatch",(e,t)=>{rS.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function aE(e,t){return new sE({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const iE=ee("ZodPipe",(e,t)=>{oS.init(e,t),St.init(e,t),e.in=t.in,e.out=t.out});function e0(e,t){return new iE({type:"pipe",in:e,out:t})}const lE=ee("ZodReadonly",(e,t)=>{sS.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType});function cE(e){return new lE({type:"readonly",innerType:e})}const dE=ee("ZodCustom",(e,t)=>{aS.init(e,t),St.init(e,t)});function uE(e,t={}){return JS(dE,e,t)}function fE(e){return QS(e)}const pE=or(["label","description","input","placeholder","error","required","fieldContainer","heading","paragraph","button","divider","optionLabel","cardContainer"]),$u=Cn({top:Gt().min(0).max(200).default(0),right:Gt().min(0).max(200).default(0),bottom:Gt().min(0).max(200).default(0),left:Gt().min(0).max(200).default(0)}),Pu={top:0,right:0,bottom:0,left:0},Mu=Cn({fontSize:Gt().min(8).max(72).optional(),fontFamily:Ze().optional(),fontWeight:or(["400","500","600","700"]).optional(),fontStyle:or(["normal","italic"]).optional(),textAlign:or(["left","center","right"]).optional(),textDecoration:or(["none","underline","line-through"]).optional(),lineHeight:Gt().min(.5).max(3).optional(),letterSpacing:Gt().min(-2).max(10).optional(),color:Ze().regex(/^#[0-9A-Fa-f]{6}$/).optional(),margin:$u.optional(),padding:$u.optional(),border:$u.optional(),borderStyle:or(["none","solid","dashed","dotted"]).optional(),borderColor:Ze().regex(/^#[0-9A-Fa-f]{6}$/).optional(),borderRadius:Gt().min(0).max(50).optional(),backgroundColor:Ze().regex(/^#[0-9A-Fa-f]{6}$/).optional(),width:Ze().optional(),minHeight:Gt().min(0).optional()});Cn({fontSize:gt().default(!1),fontFamily:gt().default(!1),fontWeight:gt().default(!1),fontStyle:gt().default(!1),textAlign:gt().default(!1),textDecoration:gt().default(!1),lineHeight:gt().default(!1),letterSpacing:gt().default(!1),color:gt().default(!1),margin:gt().default(!1),padding:gt().default(!1),border:gt().default(!1),borderRadius:gt().default(!1),backgroundColor:gt().default(!1),width:gt().default(!1),minHeight:gt().default(!1)}),Ll(pE,Mu.partial()).optional();const Ol={label:{fontSize:!0,fontFamily:!0,fontWeight:!0,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!0,letterSpacing:!1,color:!0,margin:!0,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},description:{fontSize:!0,fontFamily:!0,fontWeight:!1,fontStyle:!0,textAlign:!1,textDecoration:!1,lineHeight:!0,letterSpacing:!1,color:!0,margin:!0,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},input:{fontSize:!0,fontFamily:!0,fontWeight:!1,fontStyle:!1,textAlign:!0,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!0,margin:!1,padding:!0,border:!0,borderRadius:!0,backgroundColor:!0,width:!0,minHeight:!0},placeholder:{fontSize:!1,fontFamily:!1,fontWeight:!1,fontStyle:!0,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!0,margin:!1,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},error:{fontSize:!0,fontFamily:!1,fontWeight:!0,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!0,margin:!0,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},required:{fontSize:!0,fontFamily:!1,fontWeight:!0,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!0,margin:!1,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},fieldContainer:{fontSize:!1,fontFamily:!1,fontWeight:!1,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!1,margin:!0,padding:!0,border:!0,borderRadius:!0,backgroundColor:!0,width:!0,minHeight:!1},heading:{fontSize:!0,fontFamily:!0,fontWeight:!0,fontStyle:!1,textAlign:!0,textDecoration:!0,lineHeight:!0,letterSpacing:!0,color:!0,margin:!0,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},paragraph:{fontSize:!0,fontFamily:!0,fontWeight:!1,fontStyle:!0,textAlign:!0,textDecoration:!0,lineHeight:!0,letterSpacing:!1,color:!0,margin:!0,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},button:{fontSize:!0,fontFamily:!0,fontWeight:!0,fontStyle:!1,textAlign:!0,textDecoration:!1,lineHeight:!1,letterSpacing:!0,color:!0,margin:!0,padding:!0,border:!0,borderRadius:!0,backgroundColor:!0,width:!0,minHeight:!0},divider:{fontSize:!1,fontFamily:!1,fontWeight:!1,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!0,margin:!0,padding:!1,border:!0,borderRadius:!1,backgroundColor:!1,width:!0,minHeight:!1},optionLabel:{fontSize:!0,fontFamily:!0,fontWeight:!1,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!0,letterSpacing:!1,color:!0,margin:!1,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},cardContainer:{fontSize:!1,fontFamily:!1,fontWeight:!1,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!1,margin:!0,padding:!0,border:!0,borderRadius:!0,backgroundColor:!0,width:!0,minHeight:!0}};function mE(e,t){return Ol[e]?.[t]??!1}const t0={label:{fontSize:14,fontFamily:"inherit",fontWeight:"500",lineHeight:1.4,color:"#1f2937",margin:{top:0,right:0,bottom:4,left:0}},description:{fontSize:13,fontFamily:"inherit",fontStyle:"normal",lineHeight:1.4,color:"#6b7280",margin:{top:4,right:0,bottom:0,left:0}},input:{fontSize:14,fontFamily:"inherit",textAlign:"left",color:"#1f2937",padding:{top:8,right:12,bottom:8,left:12},border:{top:1,right:1,bottom:1,left:1},borderStyle:"solid",borderColor:"#d1d5db",borderRadius:6,backgroundColor:"#ffffff",width:"100%",minHeight:40},placeholder:{fontStyle:"normal",color:"#9ca3af"},error:{fontSize:13,fontWeight:"500",color:"#dc2626",margin:{top:4,right:0,bottom:0,left:0}},required:{fontSize:14,fontWeight:"400",color:"#dc2626"},fieldContainer:{margin:{top:0,right:0,bottom:16,left:0},padding:Pu,border:Pu,borderRadius:0,backgroundColor:"#ffffff00",width:"100%"},heading:{fontSize:24,fontFamily:"inherit",fontWeight:"600",textAlign:"left",textDecoration:"none",lineHeight:1.3,letterSpacing:0,color:"#111827",margin:{top:0,right:0,bottom:8,left:0}},paragraph:{fontSize:14,fontFamily:"inherit",fontStyle:"normal",textAlign:"left",textDecoration:"none",lineHeight:1.6,color:"#4b5563",margin:{top:0,right:0,bottom:12,left:0}},button:{fontSize:14,fontFamily:"inherit",fontWeight:"500",textAlign:"center",letterSpacing:0,color:"#ffffff",margin:{top:8,right:0,bottom:0,left:0},padding:{top:10,right:20,bottom:10,left:20},border:Pu,borderRadius:6,backgroundColor:"#2563eb",minHeight:40},divider:{color:"#e5e7eb",margin:{top:16,right:0,bottom:16,left:0},border:{top:1,right:0,bottom:0,left:0},width:"100%"},optionLabel:{fontSize:14,fontFamily:"inherit",lineHeight:1.4,color:"#374151"},cardContainer:{margin:{top:0,right:8,bottom:8,left:0},padding:{top:16,right:16,bottom:16,left:16},border:{top:2,right:2,bottom:2,left:2},borderRadius:8,backgroundColor:"#ffffff",width:"auto",minHeight:80}};function Iu(e){return t0[e]??{}}const hE={text:["fieldContainer","label","description","input","placeholder","error","required"],email:["fieldContainer","label","description","input","placeholder","error","required"],phone:["fieldContainer","label","description","input","placeholder","error","required"],url:["fieldContainer","label","description","input","placeholder","error","required"],password:["fieldContainer","label","description","input","placeholder","error","required"],number:["fieldContainer","label","description","input","placeholder","error","required"],textarea:["fieldContainer","label","description","input","placeholder","error","required"],select:["fieldContainer","label","description","input","optionLabel","error","required"],multiselect:["fieldContainer","label","description","input","optionLabel","error","required"],checkbox:["fieldContainer","label","description","optionLabel","error","required"],radio:["fieldContainer","label","description","optionLabel","error","required"],"checkbox-cards":["fieldContainer","label","description","cardContainer","optionLabel","error","required"],"radio-cards":["fieldContainer","label","description","cardContainer","optionLabel","error","required"],toggle:["fieldContainer","label","description","error"],date:["fieldContainer","label","description","input","error","required"],datetime:["fieldContainer","label","description","input","error","required"],time:["fieldContainer","label","description","input","error","required"],rating:["fieldContainer","label","description","error","required"],slider:["fieldContainer","label","description","error","required"],signature:["fieldContainer","label","description","error","required"],location:["fieldContainer","label","description","input","error","required"],file:["fieldContainer","label","description","error","required"],image:["fieldContainer","label","description","error","required"],divider:["divider"],spacer:["fieldContainer"],heading:["heading"],paragraph:["paragraph"],"html-block":["fieldContainer"],columns:["fieldContainer"],section:["fieldContainer","heading"],tabs:["fieldContainer","label"],accordion:["fieldContainer","heading"],repeater:["fieldContainer","label","button"],"page-break":["fieldContainer"],"step-wizard":["fieldContainer","heading","button"],button:["button"],submit:["button"],hidden:[],calculation:["fieldContainer","label","description"],webhook:["fieldContainer"],payment:["fieldContainer","label","description","button"],embed:["fieldContainer"]};function gE(e){return hE[e]??["fieldContainer"]}class xE{constructor(){ro(this,"globalStyles");ro(this,"listeners");ro(this,"version");ro(this,"cachedAllStyles");ro(this,"cachedVersion");this.globalStyles=new Map,this.listeners=new Set,this.version=0,this.cachedAllStyles=null,this.cachedVersion=-1,this.resetAllToDefaults()}getGlobalStyle(t){return this.globalStyles.get(t)??Iu(t)}getGlobalProperty(t,n){return this.globalStyles.get(t)?.[n]}getAllGlobalStyles(){if(this.cachedAllStyles!==null&&this.cachedVersion===this.version)return this.cachedAllStyles;const t={};return this.globalStyles.forEach((n,s)=>{t[s]={...n}}),this.cachedAllStyles=t,this.cachedVersion=this.version,this.cachedAllStyles}getVersion(){return this.version}setGlobalProperty(t,n,s){if(!mE(t,n)){console.warn(`Node type '${t}' does not support property '${String(n)}'`);return}const l=this.globalStyles.get(t)??{};this.globalStyles.set(t,{...l,[n]:s}),this.incrementVersion(),this.notifyListeners()}setGlobalStyle(t,n){const s=this.globalStyles.get(t)??{};this.globalStyles.set(t,{...s,...n}),this.incrementVersion(),this.notifyListeners()}removeGlobalProperty(t,n){const s=this.globalStyles.get(t);if(!s||!(n in s))return;const i=Iu(t),l={...s};delete l[n],n in i&&Object.assign(l,{[n]:i[n]}),this.globalStyles.set(t,l),this.incrementVersion(),this.notifyListeners()}resetToDefault(t){this.globalStyles.set(t,{...Iu(t)}),this.incrementVersion(),this.notifyListeners()}resetAllToDefaults(){this.globalStyles.clear();for(const[t,n]of Object.entries(t0))this.globalStyles.set(t,{...n});this.incrementVersion(),this.notifyListeners()}resolveStyle(t,n){const s=this.getGlobalStyle(t);return n?{...s,...n}:{...s}}isPropertyOverridden(t,n,s){const i=this.getGlobalProperty(t,n);return s!==void 0&&s!==i}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notifyListeners(){this.listeners.forEach(t=>{try{t()}catch(n){console.error("Style listener error:",n)}})}incrementVersion(){this.version++}exportStyles(){return JSON.stringify(this.getAllGlobalStyles(),null,2)}importStyles(t){try{const n=JSON.parse(t);for(const[s,i]of Object.entries(n)){const l=Mu.partial().safeParse(i);l.success?this.globalStyles.set(s,l.data):console.warn(`Invalid styles for node type '${s}':`,l.error)}return this.incrementVersion(),this.notifyListeners(),!0}catch(n){return console.error("Failed to import styles:",n),!1}}toJSON(){return this.getAllGlobalStyles()}fromJSON(t){try{for(const[n,s]of Object.entries(t)){const i=Mu.partial().safeParse(s);i.success&&this.globalStyles.set(n,i.data)}return this.incrementVersion(),this.notifyListeners(),!0}catch(n){return console.error("Failed to load styles:",n),!1}}getStats(){let t=0;return this.globalStyles.forEach(n=>{t+=Object.keys(n).length}),{nodeTypeCount:this.globalStyles.size,totalProperties:t,version:this.version,listenerCount:this.listeners.size}}}const sr=new xE;function yE(){const e=m.useCallback(n=>sr.subscribe(n),[]),t=m.useCallback(()=>sr.getAllGlobalStyles(),[]);return m.useSyncExternalStore(e,t,t)}function n0(e){const t=m.useCallback(s=>sr.subscribe(s),[]),n=m.useCallback(()=>sr.getGlobalStyle(e),[e]);return m.useSyncExternalStore(t,n,n)}function En(e,t){const n=co(l=>l.items[e]),s=n0(t),i=n?.styleOverrides?.[t];return m.useMemo(()=>i?{...s,...i}:s,[s,i])}function vE(e,t,n){const s=n0(t),i=co(f=>f.items[e]),l=s[n],d=i?.styleOverrides?.[t]?.[n],u=d!==void 0;return{globalValue:l,resolvedValue:u?d:l,isOverridden:u}}function r0(e){if(e)return`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`}function _n(e){const t={};if(e.fontSize!==void 0&&(t.fontSize=`${e.fontSize}px`),e.fontFamily!==void 0&&(t.fontFamily=e.fontFamily),e.fontWeight!==void 0&&(t.fontWeight=e.fontWeight),e.fontStyle!==void 0&&(t.fontStyle=e.fontStyle),e.textAlign!==void 0&&(t.textAlign=e.textAlign),e.textDecoration!==void 0&&(t.textDecoration=e.textDecoration),e.lineHeight!==void 0&&(t.lineHeight=e.lineHeight),e.letterSpacing!==void 0&&(t.letterSpacing=`${e.letterSpacing}px`),e.color!==void 0&&(t.color=e.color),e.backgroundColor!==void 0&&(t.backgroundColor=e.backgroundColor),e.margin!==void 0&&(t.margin=r0(e.margin)),e.padding!==void 0&&(t.padding=r0(e.padding)),e.border!==void 0){const n=e.border;t.borderWidth=`${n.top}px ${n.right}px ${n.bottom}px ${n.left}px`}return e.borderStyle!==void 0&&(t.borderStyle=e.borderStyle),e.borderColor!==void 0&&(t.borderColor=e.borderColor),e.borderRadius!==void 0&&(t.borderRadius=`${e.borderRadius}px`),e.width!==void 0&&(t.width=typeof e.width=="number"?`${e.width}px`:e.width),e.minHeight!==void 0&&(t.minHeight=`${e.minHeight}px`),t}function bE(e,t={}){const n={...e};return t.width!==void 0&&(n.width=t.width==="full"?"100%":`${t.width}%`),n}const wE=m.lazy(()=>er(()=>Promise.resolve().then(()=>Kj),void 0)),jE=m.lazy(()=>er(()=>Promise.resolve().then(()=>Xj),void 0)),NE=m.lazy(()=>er(()=>Promise.resolve().then(()=>Jj),void 0)),kE=m.lazy(()=>er(()=>Promise.resolve().then(()=>eN),void 0)),SE=m.lazy(()=>er(()=>Promise.resolve().then(()=>tN),void 0)),CE=m.lazy(()=>er(()=>Promise.resolve().then(()=>nN),void 0)),o0=({element:e,updateElementProperty:t})=>{const n=En(e.id,"label"),s=En(e.id,"input"),i=En(e.id,"error"),l=En(e.id,"description"),d=En(e.id,"placeholder"),u=En(e.id,"required"),f=En(e.id,"fieldContainer"),h=En(e.id,"heading"),g=En(e.id,"paragraph"),v=En(e.id,"button"),x=En(e.id,"divider"),b=En(e.id,"optionLabel"),k=En(e.id,"cardContainer"),N=m.useMemo(()=>({label:_n(n),input:bE(_n(s),e.properties),error:_n(i),description:_n(l),placeholder:_n(d),required:_n(u),fieldContainer:_n(f),heading:_n(h),paragraph:_n(g),button:_n(v),divider:_n(x),optionLabel:_n(b),cardContainer:_n(k)}),[n,s,i,l,d,u,f,h,g,v,x,b,k,e.properties]),S=()=>{switch(e.type){case"text":case"email":case"phone":case"url":case"password":case"number":case"number-formatted":return r.jsx(wE,{element:e,styles:N});case"textarea":return r.jsx(jE,{element:e,styles:N});case"select":return r.jsx(NE,{element:e,styles:N});case"radio-cards":return r.jsx(kE,{element:e,updateElementProperty:t,styles:N});case"checkbox-cards":return r.jsx(SE,{element:e,updateElementProperty:t,styles:N});case"columns":return r.jsx(CE,{element:e});default:return r.jsxs("div",{className:"border border-gray-300 rounded-md p-4 text-center text-gray-500",children:["Element type: ",e.type," (not yet styled)"]})}};return r.jsx(m.Suspense,{fallback:r.jsx("div",{className:"border border-gray-200 rounded-md p-4 text-center text-gray-400",children:"Loading element..."}),children:r.jsx("div",{style:N.fieldContainer,children:S()})})},yn=({label:e,children:t,className:n=""})=>r.jsxs("div",{className:`property-field ${n}`,children:[r.jsx("label",{className:"property-label",children:e}),t]}),EE=({element:e,onUpdate:t})=>r.jsxs(r.Fragment,{children:[r.jsx(yn,{label:"Label",children:r.jsx("input",{type:"text",value:e.properties?.label||"",onChange:n=>t("label",n.target.value),className:"form-input",placeholder:"Field label"})}),r.jsx(yn,{label:"Placeholder",children:r.jsx("input",{type:"text",value:e.properties?.placeholder||"",onChange:n=>t("placeholder",n.target.value),className:"form-input",placeholder:"Enter placeholder text"})}),r.jsx(yn,{label:"Help Text",children:r.jsx("input",{type:"text",value:e.properties?.helpText||"",onChange:n=>t("helpText",n.target.value),className:"form-input",placeholder:"Additional guidance for users"})}),r.jsx(yn,{label:"Required",children:r.jsx("input",{type:"checkbox",checked:e.properties?.required||!1,onChange:n=>t("required",n.target.checked),className:"form-checkbox"})}),r.jsx(yn,{label:"Disabled",children:r.jsx("input",{type:"checkbox",checked:e.properties?.disabled||!1,onChange:n=>t("disabled",n.target.checked),className:"form-checkbox"})}),r.jsx(yn,{label:"Read Only",children:r.jsx("input",{type:"checkbox",checked:e.properties?.readOnly||!1,onChange:n=>t("readOnly",n.target.checked),className:"form-checkbox"})})]}),_E=({element:e,onUpdate:t})=>{const n=e.properties?.validation||{},s=(i,l)=>{const d={...n,[i]:l};t("validation",d)};return r.jsxs(r.Fragment,{children:[r.jsx(yn,{label:"Minimum Length",children:r.jsx("input",{type:"number",value:n.minLength||"",onChange:i=>s("minLength",i.target.value?parseInt(i.target.value):void 0),className:"form-input",min:"0",placeholder:"0"})}),r.jsx(yn,{label:"Maximum Length",children:r.jsx("input",{type:"number",value:n.maxLength||"",onChange:i=>s("maxLength",i.target.value?parseInt(i.target.value):void 0),className:"form-input",min:"1",placeholder:"100"})}),(e.type==="number"||e.type==="slider")&&r.jsxs(r.Fragment,{children:[r.jsx(yn,{label:"Minimum Value",children:r.jsx("input",{type:"number",value:n.min||"",onChange:i=>s("min",i.target.value?parseFloat(i.target.value):void 0),className:"form-input",placeholder:"0"})}),r.jsx(yn,{label:"Maximum Value",children:r.jsx("input",{type:"number",value:n.max||"",onChange:i=>s("max",i.target.value?parseFloat(i.target.value):void 0),className:"form-input",placeholder:"100"})})]}),r.jsx(yn,{label:"Pattern (RegEx)",children:r.jsx("input",{type:"text",value:n.pattern||"",onChange:i=>s("pattern",i.target.value),className:"form-input",placeholder:"^[a-zA-Z0-9]+$"})}),r.jsx(yn,{label:"Custom Error Message",children:r.jsx("input",{type:"text",value:n.errorMessage||"",onChange:i=>s("errorMessage",i.target.value),className:"form-input",placeholder:"Please enter a valid value"})}),r.jsx(yn,{label:"Email Validation",children:r.jsx("input",{type:"checkbox",checked:n.email||!1,onChange:i=>s("email",i.target.checked),className:"form-checkbox"})}),r.jsx(yn,{label:"URL Validation",children:r.jsx("input",{type:"checkbox",checked:n.url||!1,onChange:i=>s("url",i.target.checked),className:"form-checkbox"})})]})},RE=or(["string","number","boolean","select","multi_select","color","icon","array","object","conditional_rules","columns_config","items_config","rich_text","code","date","time","datetime","file","image","range","key_value","repeater_config","step_config","email_template","calculation","tag_input"]),zE=Cn({property:Ze(),operator:or(["equals","not_equals","contains","not_contains","gt","lt","gte","lte","empty","not_empty"]),value:Za().optional()}),TE=Cn({value:Ze(),label:Ze(),icon:Ze().optional(),description:Ze().optional()}),qo=Cn({type:RE,label:Ze(),description:Ze().optional(),default:Za().optional(),required:gt().optional(),translatable:gt().optional(),supportsTags:gt().optional(),readonly:gt().optional(),options:Zo(TE).optional(),min:Gt().optional(),max:Gt().optional(),step:Gt().optional(),minLength:Gt().optional(),maxLength:Gt().optional(),pattern:Ze().optional(),conditions:Zo(zE).optional(),group:Ze().optional()}),DE=or(["general","validation","appearance","advanced","conditions"]),$E=or(["basic","choice","advanced","layout","content"]),PE=Cn({accepts:Zo(Ze()).optional(),rejects:Zo(Ze()).optional(),maxChildren:Gt().optional(),minChildren:Gt().optional(),allowReorder:gt().optional().default(!0)}),ME=Cn({type:Ze().regex(/^[a-z][a-z0-9-]*$/,"Type must be lowercase alphanumeric with dashes"),name:Ze().min(1),description:Ze(),category:$E,icon:Ze(),container:PE.nullable(),properties:Ll(DE,Ll(Ze(),qo)),defaults:Ll(Ze(),Za()),translatable:Zo(Ze()),supportsTags:Zo(Ze())});Cn({general:Cn({name:qo.parse({type:"string",label:"Field Name",description:"Unique identifier for this field",required:!0,pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$"}),label:qo.parse({type:"string",label:"Label",description:"Label shown above the field",translatable:!0}),width:qo.parse({type:"select",label:"Width",description:"Field width in the form layout",options:[{value:"full",label:"Full Width"},{value:"1/2",label:"Half (1/2)"},{value:"1/3",label:"Third (1/3)"},{value:"2/3",label:"Two Thirds (2/3)"},{value:"1/4",label:"Quarter (1/4)"},{value:"3/4",label:"Three Quarters (3/4)"}],default:"full"})}),appearance:Cn({hideLabel:qo.parse({type:"boolean",label:"Hide Label",description:"Hide the field label",default:!1}),cssClass:qo.parse({type:"string",label:"CSS Class",description:"Additional CSS classes for styling"})}),conditions:Cn({conditionalLogic:qo.parse({type:"conditional_rules",label:"Conditional Logic",description:"Show/hide this field based on conditions"})})});const Al=new Map;function IE(e){const t=ME.parse(e);if(Al.has(t.type))throw new Error(`Element type '${t.type}' is already registered. Each element type can only be registered once.`);return Al.set(t.type,t),t}function Fl(e){return Al.get(e)}function LE(e){return Al.has(e)}const qa={general:{name:{type:"string",label:"Field Name",description:"Unique identifier for this field",required:!0,pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$"},label:{type:"string",label:"Label",description:"Label shown above the field",translatable:!0},width:{type:"select",label:"Width",description:"Field width in the form layout",options:[{value:"full",label:"Full Width"},{value:"1/2",label:"Half (1/2)"},{value:"1/3",label:"Third (1/3)"},{value:"2/3",label:"Two Thirds (2/3)"},{value:"1/4",label:"Quarter (1/4)"},{value:"3/4",label:"Three Quarters (3/4)"}],default:"full"}},validation:{},appearance:{hideLabel:{type:"boolean",label:"Hide Label",description:"Hide the field label",default:!1},cssClass:{type:"string",label:"CSS Class",description:"Additional CSS classes for styling"}},advanced:{},conditions:{conditionalLogic:{type:"conditional_rules",label:"Conditional Logic",description:"Show/hide this field based on conditions"}}};function OE(e){return{general:{...qa.general,...e.general||{}},validation:{...qa.validation,...e.validation||{}},appearance:{...qa.appearance,...e.appearance||{}},advanced:{...qa.advanced,...e.advanced||{}},conditions:{...qa.conditions,...e.conditions||{}}}}const AE=({name:e,schema:t,value:n,onChange:s})=>{const i=()=>{switch(t.type){case"string":return r.jsx("input",{type:"text",value:n||"",onChange:d=>s(d.target.value),placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"});case"number":case"range":return r.jsx("input",{type:"number",value:n??"",onChange:d=>s(d.target.value?Number(d.target.value):void 0),min:t.min,max:t.max,step:t.step,placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"});case"boolean":return r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:!!n,onChange:d=>s(d.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.description&&r.jsx("span",{className:"text-sm text-gray-500",children:t.description})]});case"select":return r.jsxs("select",{value:n||"",onChange:d=>s(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select..."}),t.options?.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))]});case"multi_select":const l=n||[];return r.jsx("div",{className:"space-y-1",children:t.options?.map(d=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l.includes(d.value),onChange:u=>{u.target.checked?s([...l,d.value]):s(l.filter(f=>f!==d.value))},className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm",children:d.label})]},d.value))});case"color":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"color",value:n||"#000000",onChange:d=>s(d.target.value),className:"w-10 h-10 rounded border border-gray-300 cursor-pointer"}),r.jsx("input",{type:"text",value:n||"",onChange:d=>s(d.target.value),placeholder:"#000000",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]});case"icon":return r.jsx("input",{type:"text",value:n||"",onChange:d=>s(d.target.value),placeholder:"Icon name (e.g., user, mail)",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"});case"rich_text":return r.jsx("textarea",{value:n||"",onChange:d=>s(d.target.value),rows:4,placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y"});case"code":return r.jsx("textarea",{value:n||"",onChange:d=>s(d.target.value),rows:6,placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y"});case"conditional_rules":case"columns_config":case"items_config":case"repeater_config":case"step_config":case"email_template":case"calculation":case"key_value":return r.jsxs("div",{className:"px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-sm text-gray-500",children:['Complex editor for "',t.type,'" (not yet implemented)']});default:return r.jsx("input",{type:"text",value:String(n??""),onChange:d=>s(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}};return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[t.label,t.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),t.translatable&&r.jsx("span",{className:"ml-2 text-xs text-blue-500",title:"Translatable field",children:""}),t.supportsTags&&r.jsxs("span",{className:"ml-1 text-xs text-purple-500",title:"Supports dynamic tags",children:["{","...","}"]})]}),i()]})},FE=({elementType:e,properties:t,onPropertyChange:n,categories:s})=>{const i=m.useMemo(()=>Fl(e),[e]),[l,d]=m.useState("general");if(!i)return r.jsxs("div",{className:"p-4 text-sm text-red-600 bg-red-50 rounded-md",children:["Unknown element type: ",e]});const f=(s||["general","validation","appearance","advanced","conditions"]).filter(x=>i.properties[x]&&Object.keys(i.properties[x]).length>0),h={general:"General",validation:"Validation",appearance:"Appearance",advanced:"Advanced",conditions:"Conditions"},g=i.properties[l]||{},v=x=>!x.conditions||x.conditions.length===0?!0:x.conditions.every(b=>{const k=t[b.property];switch(b.operator){case"equals":return k===b.value;case"not_equals":return k!==b.value;case"contains":return Array.isArray(k)&&k.includes(b.value);case"not_contains":return!Array.isArray(k)||!k.includes(b.value);case"empty":return k==null||k==="";case"not_empty":return k!=null&&k!=="";case"gt":return typeof k=="number"&&k>b.value;case"lt":return typeof k=="number"&&k<b.value;case"gte":return typeof k=="number"&&k>=b.value;case"lte":return typeof k=="number"&&k<=b.value;default:return!0}});return r.jsxs("div",{className:"schema-property-panel",children:[f.length>1&&r.jsx("div",{className:"flex border-b border-gray-200 mb-4",children:f.map(x=>r.jsx("button",{onClick:()=>d(x),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l===x?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:h[x]},x))}),r.jsxs("div",{className:"space-y-4",children:[Object.entries(g).map(([x,b])=>v(b)?r.jsx(AE,{name:x,schema:b,value:t[x],onChange:k=>n(x,k)},x):null),Object.keys(g).length===0&&r.jsx("div",{className:"text-sm text-gray-500 italic",children:"No properties in this category."})]}),!1]})};IE({type:"text",name:"Text Input",description:"Single-line text input field for short text entries",category:"basic",icon:"type",container:null,properties:OE({general:{placeholder:{type:"string",label:"Placeholder",description:"Hint text shown when field is empty",translatable:!0,supportsTags:!0},defaultValue:{type:"string",label:"Default Value",description:"Pre-filled value for the field",supportsTags:!0}},validation:{required:{type:"boolean",label:"Required",description:"User must fill this field to submit",default:!1},minLength:{type:"number",label:"Minimum Length",description:"Minimum number of characters",min:0},maxLength:{type:"number",label:"Maximum Length",description:"Maximum number of characters",min:1},pattern:{type:"string",label:"Pattern (Regex)",description:"Regular expression for validation"},customError:{type:"string",label:"Custom Error Message",description:"Error message shown when validation fails",translatable:!0}},appearance:{inputIcon:{type:"icon",label:"Input Icon",description:"Icon shown inside the input"},iconPosition:{type:"select",label:"Icon Position",options:[{value:"left",label:"Left"},{value:"right",label:"Right"}],default:"left",conditions:[{property:"inputIcon",operator:"not_empty"}]}},advanced:{autocomplete:{type:"select",label:"Autocomplete",description:"Browser autocomplete hint",options:[{value:"off",label:"Off"},{value:"on",label:"On"},{value:"name",label:"Full Name"},{value:"given-name",label:"First Name"},{value:"family-name",label:"Last Name"},{value:"organization",label:"Organization"},{value:"street-address",label:"Street Address"},{value:"postal-code",label:"Postal Code"}],default:"off"},readOnly:{type:"boolean",label:"Read Only",description:"Field cannot be edited by user",default:!1}}}),defaults:{label:"Text Field",name:"",width:"full",required:!1},translatable:["label","placeholder","customError"],supportsTags:["placeholder","defaultValue"]});const Nr=m.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));Nr.displayName="Input";function Ds({value:e,onChange:t,disabled:n=!1,className:s}){const[i,l]=m.useState(e),d=m.useRef(null);m.useEffect(()=>{l(e)},[e]);const u=m.useCallback(f=>{l(f),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{t(f)},150)},[t]);return m.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]),r.jsxs("div",{className:De("flex items-center gap-2",s),children:[r.jsx("input",{type:"color",value:i,onChange:f=>u(f.target.value),disabled:n,className:De("w-10 h-10 rounded border-2 cursor-pointer transition-all",n?"opacity-50 cursor-not-allowed border-muted":"border-border hover:border-primary")}),r.jsx(Nr,{type:"text",value:i,onChange:f=>u(f.target.value),disabled:n,className:"w-24 font-mono text-sm",placeholder:"#000000"})]})}const WE=({elementId:e,nodeType:t,onOverrideChange:n,onRemoveOverride:s})=>{const i=Ol[t];return i?r.jsxs("div",{className:"space-y-3 bg-gray-50 rounded-lg p-3",children:[i.fontSize&&r.jsx(Go,{label:"Font Size",property:"fontSize",elementId:e,nodeType:t,onOverride:n,onUnlink:s,children:(l,d)=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("input",{type:"number",value:l??"",onChange:u=>d(Number(u.target.value)||void 0),className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded",placeholder:"14",min:8,max:72}),r.jsx("span",{className:"text-xs text-gray-500",children:"px"})]})}),i.fontWeight&&r.jsx(Go,{label:"Font Weight",property:"fontWeight",elementId:e,nodeType:t,onOverride:n,onUnlink:s,children:(l,d)=>r.jsxs("select",{value:l??"",onChange:u=>d(u.target.value||void 0),className:"w-24 px-2 py-1 text-sm border border-gray-300 rounded",children:[r.jsx("option",{value:"",children:"Default"}),r.jsx("option",{value:"400",children:"Normal"}),r.jsx("option",{value:"500",children:"Medium"}),r.jsx("option",{value:"600",children:"Semibold"}),r.jsx("option",{value:"700",children:"Bold"})]})}),i.color&&r.jsx(Go,{label:"Text Color",property:"color",elementId:e,nodeType:t,onOverride:n,onUnlink:s,children:(l,d)=>r.jsx(Ds,{value:l??"#000000",onChange:u=>d(u)})}),i.backgroundColor&&r.jsx(Go,{label:"Background",property:"backgroundColor",elementId:e,nodeType:t,onOverride:n,onUnlink:s,children:(l,d)=>r.jsx(Ds,{value:l??"#ffffff",onChange:u=>d(u)})}),i.borderRadius&&r.jsx(Go,{label:"Border Radius",property:"borderRadius",elementId:e,nodeType:t,onOverride:n,onUnlink:s,children:(l,d)=>r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("input",{type:"number",value:l??"",onChange:u=>d(Number(u.target.value)||void 0),className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded",placeholder:"6",min:0,max:50}),r.jsx("span",{className:"text-xs text-gray-500",children:"px"})]})}),i.border&&r.jsx(Go,{label:"Border Color",property:"borderColor",elementId:e,nodeType:t,onOverride:n,onUnlink:s,children:(l,d)=>r.jsx(Ds,{value:l??"#d1d5db",onChange:u=>d(u)})}),i.lineHeight&&r.jsx(Go,{label:"Line Height",property:"lineHeight",elementId:e,nodeType:t,onOverride:n,onUnlink:s,children:(l,d)=>r.jsx("input",{type:"number",value:l??"",onChange:u=>d(parseFloat(u.target.value)||void 0),className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded",placeholder:"1.4",min:1,max:3,step:.1})})]}):r.jsx("p",{className:"text-xs text-gray-500",children:"Unknown node type"})},Go=({label:e,property:t,elementId:n,nodeType:s,onOverride:i,onUnlink:l,children:d})=>{const{globalValue:u,resolvedValue:f,isOverridden:h}=vE(n,s,t),g=x=>{i(t,x)},v=()=>{h?l(t):i(t,u)};return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-xs text-gray-600 w-24 flex-shrink-0",children:e}),r.jsx("div",{className:"flex-1",children:d(f,g)}),r.jsx("button",{onClick:v,className:De("p-1 rounded transition-colors",h?"text-orange-500 hover:bg-orange-50":"text-gray-400 hover:bg-gray-100"),title:h?"Link to global (remove override)":"Unlink from global (create override)",children:h?r.jsx(Mj,{className:"h-3.5 w-3.5"}):r.jsx(xj,{className:"h-3.5 w-3.5"})})]})},HE={label:"Label",description:"Description",input:"Input",placeholder:"Placeholder",error:"Error",required:"Required",fieldContainer:"Container",heading:"Heading",paragraph:"Paragraph",button:"Button",divider:"Divider",optionLabel:"Option",cardContainer:"Card"},s0=({elementId:e,elementType:t,styleOverrides:n={},onOverrideChange:s,onResetToGlobal:i})=>{const[l,d]=m.useState(!1),[u,f]=m.useState(null),h=gE(t),g=Object.values(n).reduce((v,x)=>v+Object.keys(x||{}).length,0);return h.length===0?null:r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsxs("button",{className:"w-full flex items-center justify-between text-left",onClick:()=>d(!l),children:[r.jsxs("div",{className:"flex items-center gap-2",children:[l?r.jsx(gn,{className:"h-4 w-4 text-gray-400"}):r.jsx(Wr,{className:"h-4 w-4 text-gray-400"}),r.jsx(Fn,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Element Styles"}),g>0&&r.jsxs("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-orange-600 bg-orange-50 rounded",children:[g," override",g!==1?"s":""]})]}),g>0&&r.jsxs("button",{onClick:v=>{v.stopPropagation(),i()},className:"text-xs text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[r.jsx(bl,{className:"h-3 w-3"}),"Reset all"]})]}),l&&r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsx("div",{className:"flex flex-wrap gap-1",children:h.map(v=>{const x=n[v],b=x&&Object.keys(x).length>0;return r.jsxs("button",{onClick:()=>f(u===v?null:v),className:De("px-2.5 py-1 text-xs rounded-md transition-colors",u===v?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200",b&&u!==v&&"ring-1 ring-orange-300"),children:[HE[v]||v,b&&r.jsx("span",{className:"ml-1 text-orange-400",children:""})]},v)})}),u&&r.jsx(WE,{elementId:e,nodeType:u,onOverrideChange:(v,x)=>s(u,v,x),onRemoveOverride:v=>s(u,v,void 0)}),!u&&r.jsx("p",{className:"text-xs text-gray-500 italic",children:"Select a node type above to customize its styles for this element only."})]})]})},BE=({element:e,position:t,onClose:n,onPropertyChange:s,onDelete:i})=>{const l=m.useRef(null),d=co(C=>C.setStyleOverride),u=co(C=>C.removeStyleOverride),f=co(C=>C.clearAllStyleOverrides),h=co(C=>C.clearNodeStyleOverrides),g=m.useMemo(()=>LE(e.type),[e.type]),v=m.useMemo(()=>g?Fl(e.type):null,[e.type,g]),x=m.useCallback((C,_,w)=>{w===void 0?u(e.id,C,_):d(e.id,C,_,w)},[e.id,d,u]),b=m.useCallback(C=>{C?h(e.id,C):f(e.id)},[e.id,h,f]);m.useEffect(()=>{const C=w=>{l.current&&!l.current.contains(w.target)&&n()},_=setTimeout(()=>{document.addEventListener("mousedown",C)},100);return()=>{clearTimeout(_),document.removeEventListener("mousedown",C)}},[n]),m.useEffect(()=>{const C=_=>{_.key==="Escape"&&n()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[n]);const k=m.useMemo(()=>({left:Math.min(Math.max(16,t.x),window.innerWidth-480-16),top:Math.min(Math.max(16,t.y),window.innerHeight-600-16)}),[t]),N=v?.name||e.label||e.type,S=e.icon;return r.jsxs("div",{ref:l,className:"fixed z-50 w-[480px] max-w-[calc(100vw-32px)] bg-white border border-gray-200 rounded-lg shadow-xl flex flex-col max-h-[600px]",style:{left:k.left,top:k.top},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[S&&r.jsx(S,{size:18}),r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:N}),g&&r.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-blue-600 bg-blue-50 rounded",children:"Schema"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:i,className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"Delete element",children:r.jsx(Wn,{size:16})}),r.jsx("button",{onClick:n,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Close panel",children:r.jsx(qt,{size:16})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:g?r.jsxs(r.Fragment,{children:[r.jsx(FE,{elementType:e.type,properties:e.properties||{},onPropertyChange:s}),r.jsx(s0,{elementId:e.id,elementType:e.type,styleOverrides:e.styleOverrides,onOverrideChange:x,onResetToGlobal:b})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-md",children:r.jsxs("p",{className:"text-xs text-amber-700",children:["This element type (",e.type,") doesn't have a schema yet. Using legacy property panels."]})}),r.jsx(EE,{element:e,onUpdate:s}),r.jsx(_E,{element:e,onUpdate:s}),r.jsx(s0,{elementId:e.id,elementType:e.type,styleOverrides:e.styleOverrides,onOverrideChange:x,onResetToGlobal:b})]})})]})},UE=Cn({id:Ze().regex(/^[a-z][a-z0-9-]*$/,"ID must be lowercase alphanumeric with dashes"),label:Ze().min(1),icon:Ze(),position:Gt(),lazyLoad:gt().default(!1),componentPath:Ze().optional(),requiredPermission:Ze().optional(),requiredPlan:Ze().optional(),hidden:gt().default(!1),description:Ze().optional()}),Lu=new Map;function Br(e){const t=UE.parse(e);if(Lu.has(t.id))throw new Error(`Tab '${t.id}' is already registered. Each tab can only be registered once.`);return Lu.set(t.id,t),t}function VE(e={}){let t=Array.from(Lu.values());return e.includeHidden||(t=t.filter(n=>!n.hidden)),e.permission&&(t=t.filter(n=>!n.requiredPermission||n.requiredPermission===e.permission)),e.plan&&(t=t.filter(n=>!n.requiredPlan||n.requiredPlan===e.plan)),t}function ZE(e={}){return VE(e).sort((t,n)=>t.position-n.position)}Br({id:"canvas",label:"Canvas",icon:"Layout",position:0,lazyLoad:!1,hidden:!0,description:"Form building canvas"}),Br({id:"builder",label:"Builder",icon:"Layout",position:5,lazyLoad:!1,description:"Form building canvas"}),Br({id:"emails",label:"Emails",icon:"Mail",position:10,lazyLoad:!1,hidden:!1,description:"Configure email notifications"}),Br({id:"settings",label:"Settings",icon:"Settings",position:20,lazyLoad:!1,description:"Form settings and configuration"}),Br({id:"entries",label:"Entries",icon:"Database",position:30,lazyLoad:!1,description:"View form submissions"}),Br({id:"automation",label:"Automation",icon:"Workflow",position:40,lazyLoad:!1,description:"Build automated workflows"}),Br({id:"style",label:"Style",icon:"PaintBucket",position:50,lazyLoad:!1,description:"Customize form appearance"}),Br({id:"themes",label:"Themes",icon:"Palette",position:51,lazyLoad:!1,description:"Apply and create themes"}),Br({id:"integrations",label:"Integrations",icon:"Webhook",position:60,lazyLoad:!1,description:"Connect to external services"});const qE={Layout:fu,Mail:Hr,Settings:wl,Database:ll,Zap:kl,PaintBucket:wj,Palette:Fn,Webhook:Nl,Workflow:qh};function GE(e){return qE[e]||fu}function YE({activeTab:e,onTabChange:t,className:n}){const s=ZE(),i=l=>{t(l==="builder"?"canvas":l)};return r.jsx("div",{className:De("flex items-center gap-1 px-4 py-2 bg-muted/50 border-b border-border",n),role:"tablist","aria-label":"Form builder tabs",children:s.map(l=>r.jsx(KE,{tab:l,isActive:l.id==="builder"?e==="canvas":e===l.id,onClick:()=>i(l.id)},l.id))})}function KE({tab:e,isActive:t,onClick:n}){const s=GE(e.icon);return r.jsxs("button",{role:"tab","aria-selected":t,"aria-controls":`panel-${e.id}`,id:`tab-${e.id}`,className:De("flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors",t?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:n,title:e.description,children:[r.jsx(s,{className:"w-4 h-4"}),r.jsx("span",{children:e.label})]})}const XE={success:r.jsx(il,{size:18}),error:r.jsx(Wo,{size:18}),warning:r.jsx(Wo,{size:18}),info:r.jsx(aj,{size:18})},a0=({id:e,type:t,message:n,visible:s,hiding:i,onClose:l})=>{const d=u=>{u.stopPropagation(),l(e)};return r.jsxs("div",{className:`toast toast-${t} ${i?"toast-hiding":s?"toast-visible":""}`,role:"alert","aria-live":"polite",children:[r.jsx("div",{className:"toast-icon",children:XE[t]}),r.jsx("div",{className:"toast-message",children:n}),r.jsx("button",{className:"toast-close",onClick:d,title:"Close","aria-label":"Close notification",children:r.jsx(qt,{size:14})})]})},i0=m.createContext(void 0),JE=({children:e,maxToasts:t=5,defaultDuration:n=5e3,position:s="top-right"})=>{const[i,l]=m.useState([]),d=m.useRef(new Map),u=m.useCallback(x=>{const b=d.current.get(x);b&&(clearTimeout(b),d.current.delete(x)),l(k=>k.map(N=>N.id===x?{...N,hiding:!0}:N)),setTimeout(()=>{l(k=>k.filter(N=>N.id!==x))},300)},[]),f=m.useCallback((x,b="info",k)=>{const N=An(),S=k??n,C={id:N,type:b,message:x,duration:S,visible:!1,hiding:!1};if(l(_=>{const w=[..._,C];if(w.length>t){const R=w[0];return u(R.id),w.slice(1)}return w}),setTimeout(()=>{l(_=>_.map(w=>w.id===N?{...w,visible:!0}:w))},10),S>0){const _=setTimeout(()=>{u(N)},S);d.current.set(N,_)}},[n,t,u]),h=m.useCallback(()=>{d.current.forEach(x=>clearTimeout(x)),d.current.clear(),l(x=>x.map(b=>({...b,hiding:!0}))),setTimeout(()=>{l([])},300)},[]),g={toasts:i,addToast:f,removeToast:u,clearAllToasts:h},v={"top-right":"toast-container-top-right","top-left":"toast-container-top-left","bottom-right":"toast-container-bottom-right","bottom-left":"toast-container-bottom-left","top-center":"toast-container-top-center","bottom-center":"toast-container-bottom-center"};return r.jsxs(i0.Provider,{value:g,children:[e,r.jsx("div",{className:`toast-container ${v[s]}`,children:i.map(x=>r.jsx(a0,{id:x.id,type:x.type,message:x.message,visible:x.visible||!1,hiding:x.hiding,onClose:u},x.id))})]})},l0=()=>{const e=m.useContext(i0);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Wl=({isOpen:e,onClose:t,title:n,className:s="",position:i="right",size:l="md",children:d})=>{const u=m.useRef(null);if(m.useEffect(()=>{const g=x=>{x.key==="Escape"&&e&&t()},v=x=>{u.current&&!u.current.contains(x.target)&&t()};return e&&(document.addEventListener("keydown",g),document.addEventListener("mousedown",v),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",g),document.removeEventListener("mousedown",v),document.body.style.overflow=""}},[e,t]),!e)return null;const f={sm:"panel-sm",md:"panel-md",lg:"panel-lg",xl:"panel-xl",full:"panel-full"},h={left:"panel-left",right:"panel-right",center:"panel-center"};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"panel-overlay","aria-hidden":"true"}),r.jsxs("div",{ref:u,className:`panel ${f[l]} ${h[i]} ${s}`,role:"dialog","aria-modal":"true","aria-labelledby":n?"panel-title":void 0,children:[n&&r.jsxs("div",{className:"panel-header",children:[r.jsx("h3",{id:"panel-title",children:n}),r.jsx("button",{onClick:t,className:"panel-close","aria-label":"Close panel",children:r.jsx(qt,{size:16})})]}),r.jsx("div",{className:"panel-body",children:d})]})]})},QE=[{type:"embed",label:"Embed Code",icon:r.jsx(Zt,{size:20})},{type:"popup",label:"Popup",icon:r.jsx(cl,{size:20})},{type:"inline",label:"Inline",icon:r.jsx(fu,{size:20})}],e_=({isOpen:e,onClose:t,formUrl:n="https://forms.example.com/contact-form",onInviteCollaborator:s,collaborators:i=[],embedOptions:l=QE,...d})=>{const[u,f]=m.useState("link"),{addToast:h}=l0(),g=async b=>{try{await navigator.clipboard.writeText(b),h("Copied to clipboard!","success")}catch{h("Failed to copy","error")}},v=b=>{h("Collaborator removed","success")},x=b=>{h(`${b} embed code copied`,"success")};return r.jsx(Wl,{isOpen:e,onClose:t,title:"Share & Collaborate",size:"md",...d,children:r.jsxs("div",{className:"share-content",children:[r.jsxs("div",{className:"share-tabs",children:[r.jsxs("button",{className:`share-tab ${u==="link"?"share-tab-active":""}`,onClick:()=>f("link"),children:[r.jsx(Wa,{size:16}),"Public Link"]}),r.jsxs("button",{className:`share-tab ${u==="collaborate"?"share-tab-active":""}`,onClick:()=>f("collaborate"),children:[r.jsx(gu,{size:16}),"Collaborate"]}),r.jsxs("button",{className:`share-tab ${u==="embed"?"share-tab-active":""}`,onClick:()=>f("embed"),children:[r.jsx(Zt,{size:16}),"Embed"]})]}),u==="link"&&r.jsxs("div",{className:"share-section",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Share this link to allow anyone to fill out your form"}),r.jsxs("div",{className:"share-link-input",children:[r.jsx("input",{type:"text",value:n,readOnly:!0,className:"form-input"}),r.jsxs("button",{className:"btn btn-sm",onClick:()=>g(n),children:[r.jsx(Oa,{size:16}),"Copy"]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox"}),r.jsx("span",{className:"text-sm",children:"Make form public"})]})})]}),u==="collaborate"&&r.jsxs("div",{className:"share-section",children:[r.jsx("div",{className:"collaborator-list",children:i.map(b=>r.jsxs("div",{className:"collaborator-item",children:[r.jsx("div",{className:"collaborator-avatar",children:b.avatar?r.jsx("img",{src:b.avatar,alt:b.name}):b.initials||b.name.substring(0,2).toUpperCase()}),r.jsxs("div",{className:"collaborator-info",children:[r.jsx("span",{className:"collaborator-name",children:b.name}),r.jsx("span",{className:"collaborator-role",children:b.role})]}),b.role!=="owner"&&r.jsx("button",{className:"btn btn-sm",onClick:()=>v(b.id),children:"Remove"})]},b.id))}),s&&r.jsxs("button",{className:"btn btn-outline w-full mt-4",onClick:s,children:[r.jsx(js,{size:16}),"Invite Collaborator"]})]}),u==="embed"&&r.jsxs("div",{className:"share-section",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to embed this form on your website"}),r.jsx("div",{className:"embed-options",children:l.map(b=>r.jsxs("button",{className:"embed-option",onClick:()=>x(b.type),children:[b.icon,r.jsx("span",{children:b.label})]},b.type))}),r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Embed Settings"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),r.jsx("span",{className:"text-sm",children:"Show form title"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),r.jsx("span",{className:"text-sm",children:"Show form description"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox"}),r.jsx("span",{className:"text-sm",children:"Auto-resize height"})]})]})]})]})]})})},t_=[{type:"html",label:"HTML Export",icon:r.jsx(fl,{size:24}),description:"Export as standalone HTML file with embedded styles"},{type:"json",label:"JSON Export",icon:r.jsx(ll,{size:24}),description:"Export form structure as JSON data"},{type:"react",label:"React Component",icon:r.jsx(Zt,{size:24}),description:"Export as a React component with TypeScript"},{type:"pdf",label:"PDF Export",icon:r.jsx(io,{size:24}),description:"Export form as a printable PDF document"}],n_=({isOpen:e,onClose:t,onExport:n,exportOptions:s=t_,...i})=>{const l=d=>{n(d),setTimeout(()=>t(),500)};return r.jsx(Wl,{isOpen:e,onClose:t,title:"Export Form",size:"md",...i,children:r.jsxs("div",{className:"export-content",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Choose a format to export your form. Each format is optimized for different use cases."}),r.jsx("div",{className:"export-options",children:s.map(d=>r.jsxs("button",{className:"export-option",onClick:()=>l(d.type),children:[r.jsx("div",{className:"export-option-icon",children:d.icon}),r.jsxs("div",{className:"export-option-content",children:[r.jsx("span",{className:"export-option-label",children:d.label}),d.description&&r.jsx("span",{className:"export-option-description",children:d.description})]}),r.jsx(Aa,{size:16,className:"export-option-action"})]},d.type))}),r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Pro Tip"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Use JSON export to backup your form structure or migrate it to another system. HTML export is perfect for embedding in static websites."})]})]})})},r_={totalViews:1234,submissions:456,conversionRate:37,averageTime:"2.5min"},o_=({isOpen:e,onClose:t,analytics:n=r_,...s})=>{const[i,l]=m.useState("week"),[d,u]=m.useState("line");return r.jsx(Wl,{isOpen:e,onClose:t,title:"Form Analytics",size:"lg",...s,children:r.jsxs("div",{className:"analytics-content",children:[r.jsxs("div",{className:"analytics-header",children:[r.jsxs("div",{className:"analytics-date-range",children:[r.jsx(sl,{size:16}),r.jsxs("select",{value:i,onChange:f=>l(f.target.value),className:"form-select",children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"Last 7 days"}),r.jsx("option",{value:"month",children:"Last 30 days"}),r.jsx("option",{value:"year",children:"Last year"}),r.jsx("option",{value:"all",children:"All time"})]})]}),r.jsxs("div",{className:"analytics-actions",children:[r.jsxs("button",{className:"btn btn-sm btn-outline",children:[r.jsx(zh,{size:14}),"Filter"]}),r.jsxs("button",{className:"btn btn-sm btn-outline",children:[r.jsx(Aa,{size:14}),"Export"]})]})]}),r.jsxs("div",{className:"analytics-stats",children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-blue",children:r.jsx(gu,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("div",{className:"stat-number",children:n.totalViews.toLocaleString()}),r.jsx("div",{className:"stat-label",children:"Total Views"}),r.jsxs("div",{className:"stat-change stat-change-positive",children:[r.jsx(jl,{size:12}),"+12% from last period"]})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-green",children:r.jsx(al,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("div",{className:"stat-number",children:n.submissions.toLocaleString()}),r.jsx("div",{className:"stat-label",children:"Submissions"}),r.jsxs("div",{className:"stat-change stat-change-positive",children:[r.jsx(jl,{size:12}),"+8% from last period"]})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-purple",children:r.jsx(jl,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsxs("div",{className:"stat-number",children:[n.conversionRate,"%"]}),r.jsx("div",{className:"stat-label",children:"Conversion Rate"}),r.jsxs("div",{className:"stat-change stat-change-negative",children:[r.jsx(jl,{size:12,className:"rotate-180"}),"-2% from last period"]})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-orange",children:r.jsx(rr,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("div",{className:"stat-number",children:n.averageTime}),r.jsx("div",{className:"stat-label",children:"Avg. Time"}),r.jsx("div",{className:"stat-change stat-change-neutral",children:"No change"})]})]})]}),r.jsxs("div",{className:"analytics-chart-section",children:[r.jsxs("div",{className:"analytics-chart-header",children:[r.jsx("h4",{children:"Submissions Over Time"}),r.jsxs("div",{className:"chart-type-selector",children:[r.jsx("button",{className:`chart-type-btn ${d==="line"?"active":""}`,onClick:()=>u("line"),children:"Line"}),r.jsx("button",{className:`chart-type-btn ${d==="bar"?"active":""}`,onClick:()=>u("bar"),children:"Bar"})]})]}),r.jsx("div",{className:"analytics-chart",children:r.jsxs("div",{className:"chart-placeholder",children:[r.jsx(al,{size:48,className:"text-gray-400"}),r.jsx("p",{children:"Chart visualization would go here"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Integrate with your preferred charting library (Chart.js, Recharts, etc.)"})]})})]}),r.jsxs("div",{className:"analytics-insights",children:[r.jsx("h4",{className:"mb-3",children:"Key Insights"}),r.jsxs("div",{className:"insight-list",children:[r.jsxs("div",{className:"insight-item",children:[r.jsx("div",{className:"insight-icon",children:""}),r.jsxs("div",{className:"insight-content",children:[r.jsx("p",{className:"insight-title",children:"Peak submission time"}),r.jsx("p",{className:"insight-value",children:"Weekdays between 2-4 PM"})]})]}),r.jsxs("div",{className:"insight-item",children:[r.jsx("div",{className:"insight-icon",children:""}),r.jsxs("div",{className:"insight-content",children:[r.jsx("p",{className:"insight-title",children:"Completion rate"}),r.jsx("p",{className:"insight-value",children:"82% of users who start complete the form"})]})]}),r.jsxs("div",{className:"insight-item",children:[r.jsx("div",{className:"insight-icon",children:""}),r.jsxs("div",{className:"insight-content",children:[r.jsx("p",{className:"insight-title",children:"Device breakdown"}),r.jsx("p",{className:"insight-value",children:"65% Desktop, 30% Mobile, 5% Tablet"})]})]})]})]})]})})},s_=[{id:"1",name:"Current Version",timestamp:Date.now(),isCurrent:!0,author:"John Doe",changes:"Added new fields and validation rules"},{id:"2",name:"Added validation rules",timestamp:Date.now()-36e5,author:"Jane Smith",changes:"Implemented email validation and required fields"},{id:"3",name:"Initial version",timestamp:Date.now()-72e5,author:"John Doe",changes:"Created form with basic fields"}],a_=({isOpen:e,onClose:t,versions:n=s_,onRestore:s,...i})=>{const[l,d]=m.useState(null),[u,f]=m.useState(!1),{addToast:h}=l0(),g=x=>{const b=n.find(k=>k.id===x);b&&!b.isCurrent&&(s(x),h(`Restored to version: ${b.name}`,"success"),setTimeout(()=>t(),1e3))},v=x=>{const b=new Date(x),N=new Date().getTime()-b.getTime();return N<36e5?`${Math.floor(N/6e4)} minutes ago`:N<864e5?`${Math.floor(N/36e5)} hours ago`:b.toLocaleDateString()+" at "+b.toLocaleTimeString()};return r.jsx(Wl,{isOpen:e,onClose:t,title:"Version History",size:"md",...i,children:r.jsxs("div",{className:"version-history-content",children:[r.jsxs("div",{className:"version-history-header",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Track changes and restore previous versions of your form"}),r.jsxs("label",{className:"flex items-center gap-2 mt-2",children:[r.jsx("input",{type:"checkbox",checked:u,onChange:x=>f(x.target.checked),className:"form-checkbox"}),r.jsx("span",{className:"text-sm",children:"Show version comparison"})]})]}),r.jsx("div",{className:"version-list",children:n.map(x=>r.jsxs("div",{className:`version-item ${x.isCurrent?"version-item-current":""} 
                         ${l===x.id?"version-item-selected":""}`,onClick:()=>d(x.id),children:[r.jsxs("div",{className:"version-item-header",children:[r.jsxs("div",{className:"version-info",children:[r.jsxs("h4",{className:"version-name",children:[x.name,x.isCurrent&&r.jsx("span",{className:"version-badge",children:"Current"})]}),r.jsxs("div",{className:"version-meta",children:[r.jsx(rr,{size:12}),r.jsx("span",{children:v(x.timestamp)}),x.author&&r.jsxs(r.Fragment,{children:[r.jsx(Ua,{size:12}),r.jsx("span",{children:x.author})]})]})]}),r.jsx(Wr,{size:16,className:`version-chevron ${l===x.id?"rotate-90":""}`})]}),l===x.id&&r.jsxs("div",{className:"version-details",children:[x.changes&&r.jsxs("div",{className:"version-changes",children:[r.jsx(io,{size:14}),r.jsx("p",{children:x.changes})]}),!x.isCurrent&&r.jsxs("div",{className:"version-actions",children:[r.jsxs("button",{onClick:b=>{b.stopPropagation(),g(x.id)},className:"btn btn-sm btn-primary",children:[r.jsx(bl,{size:14}),"Restore This Version"]}),u&&r.jsx("button",{className:"btn btn-sm btn-outline",children:"Compare with Current"})]})]})]},x.id))}),r.jsx("div",{className:"version-history-footer",children:r.jsx("p",{className:"text-xs text-gray-500",children:"Version history is automatically saved when you make changes to your form. Older versions may be archived after 30 days."})})]})})},i_=({error:e,errorInfo:t,onReset:n})=>r.jsx("div",{className:"error-boundary",children:r.jsxs("div",{className:"error-content",children:[r.jsx(Wo,{size:48,className:"text-red-500 mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The form builder encountered an error. Please refresh the page to continue."}),!1,r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsxs("button",{onClick:n,className:"btn btn-primary",children:[r.jsx(Ho,{size:16,className:"mr-2"}),"Try Again"]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-outline",children:"Refresh Page"})]})]})});class l_ extends m.Component{constructor(n){super(n);ro(this,"resetTimeoutId",null);ro(this,"previousResetKeys",[]);ro(this,"resetErrorBoundary",()=>{this.resetTimeoutId&&clearTimeout(this.resetTimeoutId),this.resetTimeoutId=window.setTimeout(()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},0)});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){const{onError:i}=this.props;console.error("ErrorBoundary caught an error:",n,s),i&&i(n,s),this.setState({errorInfo:s})}componentDidUpdate(n){const{resetKeys:s=[],resetOnPropsChange:i}=this.props;(s.some((d,u)=>d!==this.previousResetKeys[u])||i&&n.children!==this.props.children)&&(this.resetErrorBoundary(),this.previousResetKeys=[...s])}componentWillUnmount(){this.resetTimeoutId&&clearTimeout(this.resetTimeoutId)}render(){const{hasError:n,error:s,errorInfo:i}=this.state,{children:l,fallback:d}=this.props;return n&&s&&i?d?d(s,i,this.resetErrorBoundary):r.jsx(i_,{error:s,errorInfo:i,onReset:this.resetErrorBoundary}):l}}const c_=[{id:"edit",label:"Edit Properties",icon:r.jsx(pu,{size:16}),shortcut:"E",action:"edit"},{id:"duplicate",label:"Duplicate",icon:r.jsx(Oa,{size:16}),shortcut:"D",action:"duplicate"},{id:"copy",label:"Copy",icon:r.jsx(Oa,{size:16}),shortcut:"C",action:"copy"},{id:"cut",label:"Cut",icon:r.jsx(Oh,{size:16}),shortcut:"X",action:"cut"},{id:"divider1",divider:!0},{id:"move-up",label:"Move Up",icon:r.jsx(ej,{size:16}),action:"move-up"},{id:"move-down",label:"Move Down",icon:r.jsx(Q2,{size:16}),action:"move-down"},{id:"divider2",divider:!0},{id:"delete",label:"Delete",icon:r.jsx(Wn,{size:16}),shortcut:"",action:"delete",danger:!0}],d_=({x:e,y:t,onClose:n,onAction:s,items:i=c_})=>{const l=m.useRef(null),[d,u]=m.useState({x:e,y:t}),[f,h]=m.useState(null);m.useEffect(()=>{const x=N=>{l.current&&!l.current.contains(N.target)&&n()},b=N=>{N.key==="Escape"&&n()},k=()=>n();if(l.current){const N=l.current.getBoundingClientRect(),S={...d};N.right>window.innerWidth&&(S.x=window.innerWidth-N.width-10),N.bottom>window.innerHeight&&(S.y=window.innerHeight-N.height-10),(S.x!==d.x||S.y!==d.y)&&u(S)}return document.addEventListener("click",x),document.addEventListener("keydown",b),document.addEventListener("scroll",k,!0),()=>{document.removeEventListener("click",x),document.removeEventListener("keydown",b),document.removeEventListener("scroll",k,!0)}},[n,d,e,t]);const g=x=>{x.disabled||x.divider||(x.children?h(x.id===f?null:x.id):x.action&&(s(x.action),n()))},v=x=>{if(x.divider)return r.jsx("div",{className:"context-menu-divider"},x.id);const b=x.children&&x.children.length>0;return r.jsxs("div",{className:`context-menu-item ${x.danger?"context-menu-item-danger":""} 
                   ${x.disabled?"context-menu-item-disabled":""}`,onClick:()=>g(x),onMouseEnter:()=>b&&h(x.id),children:[x.icon&&r.jsx("span",{className:"context-menu-icon",children:x.icon}),r.jsx("span",{className:"context-menu-label",children:x.label}),x.shortcut&&r.jsx("span",{className:"context-menu-shortcut",children:x.shortcut}),b&&r.jsx(Wr,{size:14,className:"context-menu-submenu-icon"}),b&&f===x.id&&r.jsx("div",{className:"context-submenu",children:x.children.map(v)})]},x.id)};return r.jsx("div",{ref:l,className:"context-menu",style:{left:d.x,top:d.y},role:"menu",onClick:x=>x.stopPropagation(),children:i.map(v)})},u_=({isVisible:e,gridSize:t=20,color:n="#E5E7EB",opacity:s=.5})=>e?r.jsx("div",{className:"grid-overlay",style:{opacity:s},children:r.jsxs("svg",{className:"grid-svg",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%","aria-hidden":"true",children:[r.jsxs("defs",{children:[r.jsx("pattern",{id:"grid",width:t,height:t,patternUnits:"userSpaceOnUse",children:r.jsx("path",{d:`M ${t} 0 L 0 0 0 ${t}`,fill:"none",stroke:n,strokeWidth:"1"})}),r.jsxs("pattern",{id:"grid-large",width:t*5,height:t*5,patternUnits:"userSpaceOnUse",children:[r.jsx("rect",{width:t*5,height:t*5,fill:"url(#grid)"}),r.jsx("path",{d:`M ${t*5} 0 L 0 0 0 ${t*5}`,fill:"none",stroke:n,strokeWidth:"2",opacity:"0.5"})]})]}),r.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid-large)"})]})}):null;function f_(){const[e,t]=m.useState(()=>document.getElementById("adminmenuwrap")?.offsetWidth??36),[n,s]=m.useState(()=>document.body.classList.contains("folded"));return m.useEffect(()=>{const i=()=>{s(document.body.classList.contains("folded"));const d=document.getElementById("adminmenuwrap");d&&t(d.offsetWidth)},l=new MutationObserver(i);return l.observe(document.body,{attributes:!0,attributeFilter:["class"]}),i(),()=>l.disconnect()},[]),{width:e,isFolded:n}}const p_=({isCollapsed:e,onToggleCollapse:t,children:n,isMobile:s=!1,minHeight:i=190,maxHeight:l=500,defaultHeight:d=220,onHeightChange:u})=>{const[f,h]=m.useState(d),[g,v]=m.useState(!1),x=m.useRef(null),{width:b}=f_(),k=m.useRef(0),N=m.useRef(0);m.useEffect(()=>{const _=R=>{if(!g)return;const P=k.current-R.clientY,I=window.innerHeight;x.current?.getBoundingClientRect().bottom;const O=I-50,M=Math.min(l,O),B=N.current+P,V=Math.min(M,Math.max(i,B));h(V),u&&u(V)},w=()=>{v(!1),document.body.style.cursor="",document.body.style.userSelect=""};return g&&(document.addEventListener("mousemove",_),document.addEventListener("mouseup",w),document.body.style.cursor="ns-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",w)}},[g,l,i]);const S=_=>{_.preventDefault(),v(!0),k.current=_.clientY,N.current=f},C=e?40:f;return m.useEffect(()=>{!e&&u&&!g&&u(f)},[f,e,u,g]),m.useEffect(()=>{const _=()=>{if(!g&&x.current){const w=window.innerHeight;if(w<200)return;const R=w-50,P=Math.min(l,R);h(I=>{if(I>P){const O=Math.max(i,P);return console.log(`Window resize: limiting height from ${I} to ${O}`),u&&u(O),O}return I})}};return window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[l,i,u,g]),r.jsxs("div",{ref:x,className:De("fixed bottom-0 right-0 z-[50]","bg-white border-t border-border","shadow-[0_-4px_16px_-2px_rgb(0,0,0,0.1)]","transition-[height,left] duration-300 ease-out","min-h-4",s&&"!h-auto max-h-[50vh]"),style:{left:b,...s?{}:{height:C}},children:[!e&&!s&&r.jsx("div",{className:De("h-4 bg-muted border-b border-border cursor-ns-resize","flex items-center justify-center","transition-colors duration-150 ease-out","text-muted-foreground hover:bg-accent"),onMouseDown:S,role:"separator","aria-orientation":"horizontal","aria-label":"Resize tray",children:r.jsx(uj,{size:16})}),r.jsx("button",{className:De("absolute -top-4 left-1/2 -translate-x-1/2","w-12 h-4","bg-muted border border-border border-b-0","rounded-t-lg","cursor-pointer","flex items-center justify-center","text-muted-foreground","transition-all duration-150 ease-out","z-[1]","hover:bg-accent hover:border-primary hover:text-primary"),onClick:t,"aria-label":e?"Show elements":"Hide elements","aria-expanded":!e,children:e?r.jsx(La,{size:12}):r.jsx(gn,{size:12})}),!e&&n]})},m_=[{id:"1",name:"Contact Form",status:"published",lastModified:Date.now()-864e5},{id:"2",name:"Registration Form",status:"draft",lastModified:Date.now()-1728e5},{id:"3",name:"Survey Form",status:"published",lastModified:Date.now()-2592e5}],h_=({currentForm:e,onFormSelect:t,forms:n=m_})=>{const[s,i]=m.useState(!1),[l,d]=m.useState(""),u=m.useRef(null);m.useEffect(()=>{const b=k=>{u.current&&!u.current.contains(k.target)&&i(!1)};return s&&document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[s]);const f=n.find(b=>b.id===e),h=n.filter(b=>b.name.toLowerCase().includes(l.toLowerCase())),g=b=>{switch(b){case"published":return"text-green-600 bg-green-50";case"draft":return"text-gray-600 bg-gray-50";case"archived":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}},v=b=>{switch(b){case"published":return r.jsx(io,{size:12});case"draft":return r.jsx(rr,{size:12});case"archived":return r.jsx(J2,{size:12});default:return null}},x=b=>{if(!b)return"";const N=Date.now()-b;return N<36e5?`${Math.floor(N/6e4)}m ago`:N<864e5?`${Math.floor(N/36e5)}h ago`:`${Math.floor(N/864e5)}d ago`};return r.jsxs("div",{className:"form-selector",ref:u,children:[r.jsxs("button",{onClick:()=>i(!s),className:"form-selector-trigger","aria-haspopup":"listbox","aria-expanded":s,children:[r.jsxs("div",{className:"form-selector-value",children:[r.jsx("span",{className:"form-selector-name",children:f?.name||"Select Form"}),f&&r.jsxs("span",{className:`form-selector-status ${g(f.status)}`,children:[v(f.status),f.status]})]}),r.jsx(gn,{size:16,className:`form-selector-chevron ${s?"rotate-180":""}`})]}),s&&r.jsxs("div",{className:"form-selector-dropdown",role:"listbox",children:[r.jsx("div",{className:"form-selector-search",children:r.jsx("input",{type:"text",placeholder:"Search forms...",value:l,onChange:b=>d(b.target.value),className:"form-selector-search-input",onClick:b=>b.stopPropagation()})}),r.jsxs("div",{className:"form-selector-list",children:[h.map(b=>r.jsx("div",{className:`form-selector-item ${b.id===e?"form-selector-item-active":""}`,onClick:()=>{t(b.id),i(!1),d("")},role:"option","aria-selected":b.id===e,children:r.jsxs("div",{className:"form-selector-item-content",children:[r.jsx("span",{className:"form-selector-item-name",children:b.name}),r.jsxs("div",{className:"form-selector-item-meta",children:[r.jsxs("span",{className:`form-selector-item-status ${g(b.status)}`,children:[v(b.status),b.status]}),b.lastModified&&r.jsx("span",{className:"form-selector-item-time",children:x(b.lastModified)})]})]})},b.id)),r.jsxs("div",{className:"form-selector-item form-selector-item-create",children:[r.jsx(js,{size:16}),r.jsx("span",{children:"Create New Form"})]})]})]})]})},g_=[.5,.75,1,1.25,1.5,2],x_=({currentZoom:e,zoomLevels:t=g_,onZoomChange:n,onFitToScreen:s})=>{const i=()=>{const g=t.indexOf(e);g<t.length-1&&n(t[g+1])},l=()=>{const g=t.indexOf(e);g>0&&n(t[g-1])},d=()=>{n(1)},u=Math.round((e||1)*100),f=e<t[t.length-1],h=e>t[0];return r.jsxs("div",{className:"zoom-controls",role:"group","aria-label":"Zoom controls",children:[r.jsx("button",{onClick:l,disabled:!h,className:"zoom-btn","aria-label":"Zoom out",title:`Zoom out (${t[Math.max(0,t.indexOf(e)-1)]*100}%)`,children:r.jsx(Oj,{size:16})}),r.jsxs("button",{onClick:d,className:"zoom-value","aria-label":`Current zoom ${u}%, click to reset to 100%`,title:"Reset zoom to 100%",children:[u,"%"]}),r.jsx("button",{onClick:i,disabled:!f,className:"zoom-btn","aria-label":"Zoom in",title:`Zoom in (${t[Math.min(t.length-1,t.indexOf(e)+1)]*100}%)`,children:r.jsx(Lj,{size:16})}),s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"zoom-divider"}),r.jsx("button",{onClick:s,className:"zoom-btn","aria-label":"Fit to screen",title:"Fit form to screen",children:r.jsx(du,{size:16})})]})]})},kr=({value:e,onChange:t,className:n="",placeholder:s="Click to edit",multiline:i=!1,onFormat:l,maxLength:d,disabled:u=!1})=>{const[f,h]=m.useState(!1),[g,v]=m.useState(e),[x,b]=m.useState(!1),[k,N]=m.useState({x:0,y:0}),[S,C]=m.useState(""),_=m.useRef(null);m.useRef(null),m.useEffect(()=>{v(e)},[e]);const w=()=>{!u&&!f&&(h(!0),v(e),setTimeout(()=>{_.current?.focus(),_.current?.select()},0))},R=()=>{h(!1),g!==e&&t(g),b(!1)},P=O=>{O.key==="Enter"&&!i&&(O.preventDefault(),R()),O.key==="Escape"&&(v(e),h(!1),b(!1))},I=O=>{const M=O.target.value;(!d||M.length<=d)&&v(M)};return r.jsxs("div",{className:`inline-editable-text ${n} ${u?"inline-editable-disabled":""} ${f?"inline-editable-editing":""}`,style:{position:"relative"},onClick:w,title:u?"":"Click to edit",children:[r.jsx("span",{className:`inline-editable-value ${f?"inline-editable-value-editing":""}`,children:e||r.jsx("span",{className:"inline-editable-placeholder",children:s})}),!u&&!f&&r.jsx(pu,{size:12,className:"inline-edit-icon"}),f&&(i?r.jsx("textarea",{ref:_,value:g,onChange:I,onBlur:R,onKeyDown:P,className:"inline-editable-overlay-input",maxLength:d,rows:3,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent",border:"none",outline:"none",boxShadow:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",padding:"inherit",margin:"0",textAlign:"inherit",zIndex:10,resize:"none"},autoFocus:!0}):r.jsx("input",{ref:_,type:"text",value:g,onChange:I,onBlur:R,onKeyDown:P,className:"inline-editable-overlay-input",maxLength:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent",border:"none",outline:"none",boxShadow:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",padding:"inherit",margin:"0",textAlign:"inherit",zIndex:10},autoFocus:!0}))]})},y_={Monitor:Ha,Tablet:hu,Smartphone:Ba,Maximize:du,RotateCcw:bl,RefreshCw:Ho,Grid:dj,Layers:Fa,History:pj,Share:_j,Download:Aa,BarChart:al,Eye:ws,Save:Ns,Send:Ss};function c0(e){return e&&y_[e]||null}function Ou(e,t){const n="flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors";switch(e){case"ghost":return De(n,"text-muted-foreground hover:text-foreground hover:bg-muted");case"secondary":return De(n,"bg-secondary text-secondary-foreground hover:bg-secondary/80");case"save":return De(n,"bg-primary text-primary-foreground hover:bg-primary/90");case"publish":return De(n,"bg-green-600 text-white hover:bg-green-700");default:return De(n,"text-muted-foreground hover:text-foreground hover:bg-muted")}}function v_(e){const{currentFormId:t,onFormSelect:n,formTitle:s,onFormTitleChange:i,devicePreview:l,onDeviceChange:d,showDeviceFrame:u,onToggleDeviceFrame:f,canUndo:h,canRedo:g,onUndo:v,onRedo:x,showGrid:b,onToggleGrid:k,zoom:N,onZoomChange:S,showElementsPanel:C,onToggleElementsPanel:_,onShowVersionHistory:w,onShowSharePanel:R,onShowExportPanel:P,onShowAnalytics:I,onPreview:O,onSave:M,onPublish:B,isSaving:V=!1,isMobile:oe=!1}=e;return r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-background border-b border-border",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(h_,{currentForm:t,onFormSelect:n}),r.jsx(kr,{value:s,onChange:i,className:"text-sm font-medium",placeholder:"Untitled Form"}),r.jsx(b_,{value:l,onChange:d,showFrame:u,onToggleFrame:f})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-border",children:[r.jsx($s,{icon:"RotateCcw",tooltip:"Undo (Ctrl+Z)",onClick:v,disabled:!h}),r.jsx($s,{icon:"RefreshCw",tooltip:"Redo (Ctrl+Shift+Z)",onClick:x,disabled:!g})]}),r.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-border",children:[r.jsx(d0,{icon:"Grid",tooltip:"Toggle Grid",isActive:b,onClick:k}),r.jsx(x_,{currentZoom:N,onZoomChange:S})]}),r.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-border",children:[r.jsx(d0,{icon:"Layers",tooltip:"Elements Panel",isActive:C,onClick:_}),r.jsx($s,{icon:"History",tooltip:"Version History",onClick:w}),r.jsx($s,{icon:"Share",tooltip:"Share & Collaborate",onClick:R}),r.jsx($s,{icon:"Download",tooltip:"Export Form",onClick:P}),r.jsx($s,{icon:"BarChart",tooltip:"Analytics",onClick:I})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:Ou("secondary"),onClick:O,title:"Preview Form",children:[r.jsx(ws,{className:"w-4 h-4"}),!oe&&r.jsx("span",{children:"Preview"})]}),r.jsxs("button",{className:Ou("save"),onClick:M,title:"Save Form",children:[V?r.jsx(Ho,{className:"w-4 h-4 animate-spin"}):r.jsx(Ns,{className:"w-4 h-4"}),!oe&&r.jsx("span",{children:"Save"})]}),r.jsxs("button",{className:Ou("publish"),onClick:B,title:"Publish Form",children:[r.jsx(Ss,{className:"w-4 h-4"}),!oe&&r.jsx("span",{children:"Publish"})]})]})]})]})}function $s({icon:e,tooltip:t,onClick:n,disabled:s}){const i=c0(e);return r.jsx("button",{className:De("flex items-center justify-center w-8 h-8 rounded-md transition-colors",s?"text-muted-foreground/50 cursor-not-allowed":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:n,disabled:s,title:t,children:i&&r.jsx(i,{className:"w-4 h-4"})})}function d0({icon:e,tooltip:t,isActive:n,onClick:s}){const i=c0(e);return r.jsx("button",{className:De("flex items-center justify-center w-8 h-8 rounded-md transition-colors",n?"bg-muted text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:s,title:t,"aria-pressed":n,children:i&&r.jsx(i,{className:"w-4 h-4"})})}function b_({value:e,onChange:t,showFrame:n,onToggleFrame:s}){const[i,l]=m.useState(!1),d=m.useRef(null);m.useEffect(()=>{function g(v){d.current&&!d.current.contains(v.target)&&l(!1)}return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const u=[{value:"desktop",label:"Desktop",icon:Ha},{value:"tablet",label:"Tablet",icon:hu},{value:"mobile",label:"Mobile",icon:Ba}],f=u.find(g=>g.value===e)||u[0],h=f.icon;return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs("button",{className:De("flex items-center gap-2 px-3 py-2 text-sm rounded-md transition-colors","text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:()=>l(!i),"aria-haspopup":"listbox","aria-expanded":i,children:[r.jsx(h,{className:"w-4 h-4"}),r.jsx("span",{children:f.label}),r.jsx(gn,{className:De("w-3 h-3 transition-transform",i&&"rotate-180")})]}),i&&r.jsx("div",{className:"absolute top-full left-0 mt-1 py-1 bg-popover border border-border rounded-md shadow-md z-50 min-w-[140px]",role:"listbox",children:u.map(g=>{const v=g.icon;return r.jsxs("button",{className:De("flex items-center gap-2 w-full px-3 py-2 text-sm transition-colors",e===g.value?"bg-muted text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:()=>{t(g.value),l(!1)},role:"option","aria-selected":e===g.value,children:[r.jsx(v,{className:"w-4 h-4"}),r.jsx("span",{children:g.label})]},g.value)})})]}),r.jsx("button",{className:De("flex items-center justify-center w-8 h-8 rounded-md transition-colors",n?"bg-muted text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:s,title:"Toggle Device Frame","aria-pressed":n,children:r.jsx(du,{className:"w-4 h-4"})})]})}const w_={label:{fontSize:14,fontFamily:"inherit",fontWeight:"500",lineHeight:1.4,color:"#1f2937",margin:{top:0,right:0,bottom:4,left:0}},description:{fontSize:13,fontFamily:"inherit",fontStyle:"normal",lineHeight:1.4,color:"#6b7280",margin:{top:4,right:0,bottom:0,left:0}},input:{fontSize:14,fontFamily:"inherit",textAlign:"left",color:"#1f2937",padding:{top:10,right:14,bottom:10,left:14},border:{top:1,right:1,bottom:1,left:1},borderStyle:"solid",borderColor:"#d1d5db",borderRadius:6,backgroundColor:"#ffffff",width:"100%",minHeight:42},placeholder:{fontStyle:"normal",color:"#9ca3af"},error:{fontSize:13,fontWeight:"500",color:"#dc2626",margin:{top:4,right:0,bottom:0,left:0}},required:{fontSize:14,fontWeight:"400",color:"#dc2626"},fieldContainer:{margin:{top:0,right:0,bottom:20,left:0},padding:{top:0,right:0,bottom:0,left:0},border:{top:0,right:0,bottom:0,left:0},borderRadius:0,backgroundColor:"transparent",width:"100%"},heading:{fontSize:24,fontFamily:"inherit",fontWeight:"600",textAlign:"left",textDecoration:"none",lineHeight:1.3,letterSpacing:0,color:"#111827",margin:{top:0,right:0,bottom:12,left:0}},paragraph:{fontSize:15,fontFamily:"inherit",fontStyle:"normal",textAlign:"left",textDecoration:"none",lineHeight:1.6,color:"#4b5563",margin:{top:0,right:0,bottom:16,left:0}},button:{fontSize:15,fontFamily:"inherit",fontWeight:"500",textAlign:"center",letterSpacing:0,color:"#ffffff",margin:{top:12,right:0,bottom:0,left:0},padding:{top:12,right:24,bottom:12,left:24},border:{top:0,right:0,bottom:0,left:0},borderRadius:6,backgroundColor:"#2563eb",minHeight:44},divider:{color:"#e5e7eb",margin:{top:20,right:0,bottom:20,left:0},border:{top:1,right:0,bottom:0,left:0},width:"100%"},optionLabel:{fontSize:14,fontFamily:"inherit",lineHeight:1.4,color:"#374151"},cardContainer:{margin:{top:0,right:8,bottom:8,left:0},padding:{top:16,right:16,bottom:16,left:16},border:{top:2,right:2,bottom:2,left:2},borderRadius:8,backgroundColor:"#ffffff",width:"auto",minHeight:80}},j_={id:"light",name:"Light",description:"Clean, professional look with subtle grays"},N_={label:{fontSize:14,fontFamily:"inherit",fontWeight:"500",lineHeight:1.4,color:"#f3f4f6",margin:{top:0,right:0,bottom:4,left:0}},description:{fontSize:13,fontFamily:"inherit",fontStyle:"normal",lineHeight:1.4,color:"#9ca3af",margin:{top:4,right:0,bottom:0,left:0}},input:{fontSize:14,fontFamily:"inherit",textAlign:"left",color:"#f9fafb",padding:{top:10,right:14,bottom:10,left:14},border:{top:1,right:1,bottom:1,left:1},borderStyle:"solid",borderColor:"#4b5563",borderRadius:6,backgroundColor:"#1f2937",width:"100%",minHeight:42},placeholder:{fontStyle:"normal",color:"#6b7280"},error:{fontSize:13,fontWeight:"500",color:"#f87171",margin:{top:4,right:0,bottom:0,left:0}},required:{fontSize:14,fontWeight:"400",color:"#f87171"},fieldContainer:{margin:{top:0,right:0,bottom:20,left:0},padding:{top:0,right:0,bottom:0,left:0},border:{top:0,right:0,bottom:0,left:0},borderRadius:0,backgroundColor:"transparent",width:"100%"},heading:{fontSize:24,fontFamily:"inherit",fontWeight:"600",textAlign:"left",textDecoration:"none",lineHeight:1.3,letterSpacing:0,color:"#f9fafb",margin:{top:0,right:0,bottom:12,left:0}},paragraph:{fontSize:15,fontFamily:"inherit",fontStyle:"normal",textAlign:"left",textDecoration:"none",lineHeight:1.6,color:"#d1d5db",margin:{top:0,right:0,bottom:16,left:0}},button:{fontSize:15,fontFamily:"inherit",fontWeight:"500",textAlign:"center",letterSpacing:0,color:"#ffffff",margin:{top:12,right:0,bottom:0,left:0},padding:{top:12,right:24,bottom:12,left:24},border:{top:0,right:0,bottom:0,left:0},borderRadius:6,backgroundColor:"#3b82f6",minHeight:44},divider:{color:"#374151",margin:{top:20,right:0,bottom:20,left:0},border:{top:1,right:0,bottom:0,left:0},width:"100%"},optionLabel:{fontSize:14,fontFamily:"inherit",lineHeight:1.4,color:"#e5e7eb"},cardContainer:{margin:{top:0,right:8,bottom:8,left:0},padding:{top:16,right:16,bottom:16,left:16},border:{top:2,right:2,bottom:2,left:2},borderRadius:8,backgroundColor:"#1f2937",width:"auto",minHeight:80}},k_={id:"dark",name:"Dark",description:"Modern dark mode with good contrast"},u0=[{...j_,styles:w_},{...k_,styles:N_}];function S_(e){const t=u0.find(n=>n.id===e);return t?(Object.entries(t.styles).forEach(([n,s])=>{sr.setGlobalStyle(n,s)}),!0):!1}function f0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ur(...e){return t=>{let n=!1;const s=e.map(i=>{const l=f0(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<s.length;i++){const l=s[i];typeof l=="function"?l():f0(e[i],null)}}}}function Rn(...e){return m.useCallback(Ur(...e),e)}var C_=Symbol.for("react.lazy"),Hl=Id[" use ".trim().toString()];function E_(e){return typeof e=="object"&&e!==null&&"then"in e}function p0(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===C_&&"_payload"in e&&E_(e._payload)}function m0(e){const t=R_(e),n=m.forwardRef((s,i)=>{let{children:l,...d}=s;p0(l)&&typeof Hl=="function"&&(l=Hl(l._payload));const u=m.Children.toArray(l),f=u.find(T_);if(f){const h=f.props.children,g=u.map(v=>v===f?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}var __=m0("Slot");function R_(e){const t=m.forwardRef((n,s)=>{let{children:i,...l}=n;if(p0(i)&&typeof Hl=="function"&&(i=Hl(i._payload)),m.isValidElement(i)){const d=$_(i),u=D_(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ur(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var z_=Symbol("radix.slottable");function T_(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===z_}function D_(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const f=l(...u);return i(...u),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function $_(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const h0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,g0=pe,Au=(e,t)=>n=>{var s;if(t?.variants==null)return g0(e,n?.class,n?.className);const{variants:i,defaultVariants:l}=t,d=Object.keys(i).map(h=>{const g=n?.[h],v=l?.[h];if(g===null)return null;const x=h0(g)||h0(v);return i[h][x]}),u=n&&Object.entries(n).reduce((h,g)=>{let[v,x]=g;return x===void 0||(h[v]=x),h},{}),f=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,g)=>{let{class:v,className:x,...b}=g;return Object.entries(b).every(k=>{let[N,S]=k;return Array.isArray(S)?S.includes({...l,...u}[N]):{...l,...u}[N]===S})?[...h,v,x]:h},[]);return g0(e,d,f,n?.class,n?.className)},P_=Au("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-gray-200 bg-white hover:bg-gray-100 hover:text-gray-900",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tn=m.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},l)=>{const d=s?__:"button";return r.jsx(d,{className:De(P_({variant:t,size:n,className:e})),ref:l,...i})});tn.displayName="Button";const M_={orange:{bg:"bg-orange-50",border:"border-orange-300",text:"text-orange-600",input:"border-orange-400 focus:ring-orange-500",linked:"bg-orange-500 text-white"},purple:{bg:"bg-purple-50",border:"border-purple-300",text:"text-purple-600",input:"border-purple-400 focus:ring-purple-500",linked:"bg-purple-500 text-white"},blue:{bg:"bg-blue-50",border:"border-blue-300",text:"text-blue-600",input:"border-blue-400 focus:ring-blue-500",linked:"bg-blue-500 text-white"}};function Fu({label:e,value:t,onChange:n,disabled:s=!1,color:i="blue",className:l}){const[d,u]=m.useState(t.top===t.right&&t.top===t.bottom&&t.top===t.left),f=M_[i],h=(g,v)=>{n(d?{top:v,right:v,bottom:v,left:v}:{...t,[g]:v})};return r.jsxs("div",{className:De("space-y-2",l),children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:De("text-sm font-medium",f.text),children:e}),r.jsx(tn,{variant:"ghost",size:"icon",className:De("h-6 w-6",d?f.linked:""),onClick:()=>u(!d),disabled:s,children:d?r.jsx(Wa,{className:"h-3 w-3"}):r.jsx(Ij,{className:"h-3 w-3"})})]}),r.jsx("div",{className:De("grid gap-2 p-3 rounded-lg border",f.bg,f.border,s&&"opacity-50"),children:d?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Nr,{type:"number",min:0,max:200,value:t.top,onChange:g=>h("top",parseInt(g.target.value)||0),disabled:s,className:De("w-16 text-center",f.input)}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"all sides"})]}):r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx("div",{}),r.jsx(Nr,{type:"number",min:0,max:200,value:t.top,onChange:g=>h("top",parseInt(g.target.value)||0),disabled:s,className:De("w-full text-center",f.input),placeholder:"T"}),r.jsx("div",{}),r.jsx(Nr,{type:"number",min:0,max:200,value:t.left,onChange:g=>h("left",parseInt(g.target.value)||0),disabled:s,className:De("w-full text-center",f.input),placeholder:"L"}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-muted-foreground",children:"px"})}),r.jsx(Nr,{type:"number",min:0,max:200,value:t.right,onChange:g=>h("right",parseInt(g.target.value)||0),disabled:s,className:De("w-full text-center",f.input),placeholder:"R"}),r.jsx("div",{}),r.jsx(Nr,{type:"number",min:0,max:200,value:t.bottom,onChange:g=>h("bottom",parseInt(g.target.value)||0),disabled:s,className:De("w-full text-center",f.input),placeholder:"B"}),r.jsx("div",{})]})})]})}const I_={label:"Field Labels",description:"Descriptions",input:"Input Fields",placeholder:"Placeholders",error:"Error Messages",required:"Required Indicator",fieldContainer:"Field Containers",heading:"Headings",paragraph:"Paragraphs",button:"Buttons",divider:"Dividers",optionLabel:"Option Labels",cardContainer:"Cards"};function L_(){const[e,t]=m.useState("label"),[n,s]=m.useState(""),[i,l]=m.useState(!1),d=m.useRef(null),u=yE(),f=Object.keys(Ol),h=Ol[e],g=u[e]??{},v=(C,_)=>{sr.setGlobalProperty(e,C,_)},x=()=>{n&&S_(n)},b=()=>{const C=sr.exportStyles(),_=new Blob([C],{type:"application/json"}),w=URL.createObjectURL(_),R=document.createElement("a");R.href=w,R.download="form-theme.json",R.click(),URL.revokeObjectURL(w)},k=()=>{d.current?.click()},N=C=>{const _=C.target.files?.[0];if(_){const w=new FileReader;w.onload=R=>{const P=R.target?.result;sr.importStyles(P)},w.readAsText(_)}},S=()=>{sr.resetAllToDefaults(),l(!1)};return r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Fn,{className:"h-5 w-5"}),"Global Styles"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Theme settings that apply to all form elements"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:b,className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[r.jsx(Aa,{className:"h-4 w-4"}),"Export"]}),r.jsxs("button",{onClick:k,className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[r.jsx(Bo,{className:"h-4 w-4"}),"Import"]}),r.jsx("input",{ref:d,type:"file",accept:".json",onChange:N,className:"hidden"}),r.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[r.jsx(bl,{className:"h-4 w-4"}),"Reset"]})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium",children:"Quick Start:"}),r.jsxs("select",{value:n,onChange:C=>s(C.target.value),className:"w-48 px-3 py-1.5 border border-gray-300 rounded-md text-sm",children:[r.jsx("option",{value:"",children:"Choose a preset..."}),u0.map(C=>r.jsxs("option",{value:C.id,children:[C.name," - ",C.description]},C.id))]}),r.jsx("button",{onClick:x,disabled:!n,className:"px-4 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Apply Preset"})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("div",{className:"w-48 border-r border-gray-200 pr-4",children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Element Type"}),r.jsx("div",{className:"h-[400px] overflow-y-auto",children:r.jsx("div",{className:"space-y-1",children:f.map(C=>r.jsx("button",{onClick:()=>t(C),className:`w-full text-left px-3 py-2 rounded text-sm transition-colors ${e===C?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:I_[C]},C))})})]}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"h-[400px] overflow-y-auto pr-4",children:r.jsxs("div",{className:"space-y-6",children:[(h.fontSize||h.fontFamily||h.color)&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Typography"}),r.jsxs("div",{className:"space-y-3",children:[h.fontSize&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 w-24",children:"Font Size"}),r.jsx("input",{type:"number",min:8,max:72,value:g.fontSize??14,onChange:C=>v("fontSize",parseInt(C.target.value)||14),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"}),r.jsx("span",{className:"text-sm text-gray-500",children:"px"})]}),h.fontWeight&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 w-24",children:"Font Weight"}),r.jsxs("select",{value:g.fontWeight??"400",onChange:C=>v("fontWeight",C.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded text-sm",children:[r.jsx("option",{value:"400",children:"Normal"}),r.jsx("option",{value:"500",children:"Medium"}),r.jsx("option",{value:"600",children:"Semibold"}),r.jsx("option",{value:"700",children:"Bold"})]})]}),h.color&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 w-24",children:"Color"}),r.jsx(Ds,{value:g.color??"#000000",onChange:C=>v("color",C)})]}),h.lineHeight&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 w-24",children:"Line Height"}),r.jsx("input",{type:"number",min:1,max:3,step:.1,value:g.lineHeight??1.4,onChange:C=>v("lineHeight",parseFloat(C.target.value)||1.4),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"})]})]})]}),(h.margin||h.padding)&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Spacing"}),h.margin&&r.jsx(Fu,{label:"Margin",value:g.margin??{top:0,right:0,bottom:0,left:0},onChange:C=>v("margin",C),color:"orange"}),h.padding&&r.jsx(Fu,{label:"Padding",value:g.padding??{top:0,right:0,bottom:0,left:0},onChange:C=>v("padding",C),color:"blue",className:"mt-4"})]}),h.backgroundColor&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Background"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 w-24",children:"Color"}),r.jsx(Ds,{value:g.backgroundColor??"#ffffff",onChange:C=>v("backgroundColor",C)})]})]}),h.border&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Border"}),r.jsx(Fu,{label:"Width",value:g.border??{top:0,right:0,bottom:0,left:0},onChange:C=>v("border",C),color:"purple"}),h.borderRadius!==!1&&r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsx("span",{className:"text-sm text-gray-500 w-24",children:"Radius"}),r.jsx("input",{type:"number",min:0,max:50,value:g.borderRadius??0,onChange:C=>v("borderRadius",parseInt(C.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"}),r.jsx("span",{className:"text-sm text-gray-500",children:"px"})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsx("span",{className:"text-sm text-gray-500 w-24",children:"Color"}),r.jsx(Ds,{value:g.borderColor??"#d1d5db",onChange:C=>v("borderColor",C)})]})]}),(h.width||h.minHeight)&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-3",children:"Dimensions"}),r.jsx("div",{className:"space-y-3",children:h.minHeight&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 w-24",children:"Min Height"}),r.jsx("input",{type:"number",min:0,max:500,value:g.minHeight??0,onChange:C=>v("minHeight",parseInt(C.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"}),r.jsx("span",{className:"text-sm text-gray-500",children:"px"})]})})]})]})})})]})]}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[r.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Reset to defaults?"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"This will reset all global styles to their default values. This action cannot be undone."}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:S,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Reset"})]})]})})]})}const O_=m.lazy(()=>er(()=>Promise.resolve().then(()=>vD),void 0)),A_=m.lazy(()=>er(()=>Promise.resolve().then(()=>hD),void 0).then(e=>({default:e.AutomationsTab}))),F_=m.lazy(()=>er(()=>Promise.resolve().then(()=>wD),void 0).then(e=>({default:e.ThemesTab}))),Bl=[{id:"all",name:"All",elements:[]},{id:"basic",name:"Basic",elements:[{type:"text",label:"Text Input",icon:Cs,keywords:["text","input","field","single","line"]},{type:"email",label:"Email",icon:Hr,keywords:["email","mail","address","contact"]},{type:"textarea",label:"Text Area",icon:io,keywords:["textarea","multiline","paragraph","long","text"]},{type:"number",label:"Number",icon:fj,keywords:["number","numeric","integer","decimal"]},{type:"phone",label:"Phone",icon:kj,keywords:["phone","telephone","mobile","contact"]},{type:"url",label:"URL",icon:Wa,keywords:["url","link","website","address"]},{type:"password",label:"Password",icon:hj,keywords:["password","secret","secure","hidden"]},{type:"hidden",label:"Hidden Field",icon:iu,keywords:["hidden","invisible","data","tracking"]}]},{id:"choice",name:"Choice",elements:[{type:"select",label:"Dropdown",icon:gn,keywords:["dropdown","select","options","choose"]},{type:"multiselect",label:"Multi Select",icon:yj,keywords:["multiselect","multiple","options","choose"]},{type:"checkbox",label:"Checkbox",icon:Wh,keywords:["checkbox","check","multiple","toggle"]},{type:"radio",label:"Radio Group",icon:Lh,keywords:["radio","single","choice","option"]},{type:"checkbox-cards",label:"Checkbox Cards",icon:Hh,keywords:["checkbox","cards","multiple","visual","panel"]},{type:"radio-cards",label:"Radio Cards",icon:gj,keywords:["radio","cards","single","visual","panel"]},{type:"toggle",label:"Toggle Switch",icon:sj,keywords:["toggle","switch","boolean","yes"]},{type:"rating",label:"Rating Stars",icon:Uh,keywords:["rating","stars","feedback","score"]},{type:"likert",label:"Likert Scale",icon:al,keywords:["likert","scale","survey","agreement"]}]},{id:"advanced",name:"Advanced",elements:[{type:"date",label:"Date Picker",icon:sl,keywords:["date","calendar","picker","day"]},{type:"time",label:"Time Picker",icon:rr,keywords:["time","clock","hour","minute"]},{type:"datetime",label:"DateTime",icon:sl,keywords:["datetime","timestamp","date","time"]},{type:"daterange",label:"Date Range",icon:sl,keywords:["daterange","period","from","until"]},{type:"slider",label:"Slider Range",icon:zj,keywords:["slider","range","numeric","scale"]},{type:"color",label:"Color Picker",icon:Fn,keywords:["color","picker","palette","hex"]},{type:"location",label:"Location Map",icon:vj,keywords:["location","map","address","coordinates"]},{type:"signature",label:"Signature Pad",icon:Nj,keywords:["signature","draw","sign","handwriting"]}]},{id:"upload",name:"Upload",elements:[{type:"file",label:"File Upload",icon:Bo,keywords:["file","upload","attachment","document"]},{type:"image",label:"Image Upload",icon:cu,keywords:["image","photo","picture","upload"]},{type:"multi-file",label:"Multiple Files",icon:Bo,keywords:["multiple","files","batch","upload"]},{type:"drag-drop",label:"Drag & Drop",icon:Bo,keywords:["drag","drop","file","zone"]}]},{id:"containers",name:"Containers",elements:[{type:"columns",label:"Columns",icon:su,keywords:["columns","layout","grid","split"],allowChildren:!0},{type:"step-wizard",label:"Step Wizard",icon:Dj,keywords:["wizard","steps","multi-step","sequential"],allowChildren:!0},{type:"tabs",label:"Tabs",icon:cj,keywords:["tabs","tabbed","navigation","switch"],allowChildren:!0},{type:"accordion",label:"Accordion",icon:Tj,keywords:["accordion","collapsible","expandable","toggle"],allowChildren:!0},{type:"section",label:"Section",icon:Ch,keywords:["section","fieldset","group","wrapper"],allowChildren:!0},{type:"repeater",label:"Repeater",icon:Hh,keywords:["repeater","array","dynamic","multiple"],allowChildren:!0},{type:"conditional-group",label:"Conditional Group",icon:qh,keywords:["conditional","group","logic","show-hide"],allowChildren:!0},{type:"card",label:"Card/Panel",icon:Ma,keywords:["card","panel","container","box"],allowChildren:!0}]},{id:"layout",name:"Layout",elements:[{type:"heading",label:"Heading",icon:Cs,keywords:["heading","title","header","text"]},{type:"paragraph",label:"Paragraph",icon:io,keywords:["paragraph","text","description","content"]},{type:"divider",label:"Divider",icon:Zt,keywords:["divider","separator","line","break"]},{type:"spacer",label:"Spacer",icon:Zt,keywords:["spacer","gap","margin","padding"]},{type:"page-break",label:"Page Break",icon:Oh,keywords:["page","break","split","new"]},{type:"html-block",label:"HTML Block",icon:fl,keywords:["html","code","custom","embed"]}]},{id:"integration",name:"Integration",elements:[{type:"payment",label:"Payment (Stripe)",icon:au,keywords:["payment","stripe","money","credit"]},{type:"subscription",label:"Subscription",icon:au,keywords:["subscription","recurring","monthly","billing"]},{type:"webhook",label:"API Webhook",icon:Nl,keywords:["webhook","api","integration","external"]},{type:"calculation",label:"Calculation",icon:nj,keywords:["calculation","formula","math","compute"]},{type:"conditional",label:"Conditional Logic",icon:kl,keywords:["conditional","logic","if","rules"]},{type:"captcha",label:"reCAPTCHA",icon:Fh,keywords:["captcha","security","bot","protection"]}]}],x0={mobile:{width:375,height:667,name:"iPhone 8"},tablet:{width:768,height:1024,name:"iPad"},desktop:{width:1200,height:800,name:"Desktop"}},W_=({position:e,onClose:t,settings:n,onUpdate:s,devicePreview:i})=>{const l=m.useRef(null),[d,u]=m.useState("appearance"),[f,h]=m.useState(e),[g,v]=m.useState(!1),[x,b]=m.useState({x:0,y:0}),k=({label:C,values:_,onChange:w})=>{const R=(P,I)=>{w({..._,[P]:I})};return r.jsxs("div",{className:"spacing-editor",children:[r.jsx("label",{className:"property-label",children:C}),r.jsxs("div",{className:"spacing-visual",children:[r.jsx("input",{type:"number",value:_.top,onChange:P=>R("top",parseInt(P.target.value)||0),className:"spacing-input spacing-input-top",placeholder:"0",min:"0",max:"200"}),r.jsxs("div",{className:"spacing-middle",children:[r.jsx("input",{type:"number",value:_.left,onChange:P=>R("left",parseInt(P.target.value)||0),className:"spacing-input spacing-input-left",placeholder:"0",min:"0",max:"200"}),r.jsx("div",{className:"spacing-preview",children:r.jsx("div",{className:"spacing-content",children:"Content"})}),r.jsx("input",{type:"number",value:_.right,onChange:P=>R("right",parseInt(P.target.value)||0),className:"spacing-input spacing-input-right",placeholder:"0",min:"0",max:"200"})]}),r.jsx("input",{type:"number",value:_.bottom,onChange:P=>R("bottom",parseInt(P.target.value)||0),className:"spacing-input spacing-input-bottom",placeholder:"0",min:"0",max:"200"})]})]})},N=C=>{C.target.closest(".panel-header")&&(v(!0),b({x:C.clientX-f.x,y:C.clientY-f.y}))};m.useEffect(()=>{const C=w=>{g&&h({x:Math.max(0,Math.min(w.clientX-x.x,window.innerWidth-400)),y:Math.max(0,Math.min(w.clientY-x.y,window.innerHeight-500))})},_=()=>{v(!1)};return g&&(document.addEventListener("mousemove",C),document.addEventListener("mouseup",_)),()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",_)}},[g,x]),m.useEffect(()=>{const C=_=>{l.current&&!l.current.contains(_.target)&&t()};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[t]);const S=n[i]||n;return r.jsxs("div",{ref:l,className:`floating-properties-panel form-wrapper-panel ${g?"dragging":""}`,style:{position:"fixed",left:f.x,top:f.y,zIndex:1e3,cursor:g?"grabbing":"default"},onMouseDown:N,children:[r.jsxs("div",{className:"panel-header",style:{cursor:"grab"},children:[r.jsxs("div",{className:"panel-title-group",children:[r.jsxs("h3",{className:"panel-title",children:[r.jsx(Ch,{size:16}),"Form Wrapper Settings"]}),r.jsx("div",{className:"device-indicator",children:r.jsxs("span",{className:`device-badge device-badge-${i}`,children:[i==="desktop"&&r.jsx(Ha,{size:14}),i==="tablet"&&r.jsx(hu,{size:14}),i==="mobile"&&r.jsx(Ba,{size:14}),i.charAt(0).toUpperCase()+i.slice(1)]})})]}),r.jsx("button",{onClick:t,className:"panel-close-btn",children:r.jsx(qt,{size:16})})]}),r.jsxs("div",{className:"panel-tabs",children:[r.jsx("button",{className:`panel-tab ${d==="appearance"?"panel-tab-active":""}`,onClick:()=>u("appearance"),children:"Appearance"}),r.jsx("button",{className:`panel-tab ${d==="spacing"?"panel-tab-active":""}`,onClick:()=>u("spacing"),children:"Spacing"})]}),r.jsxs("div",{className:"panel-content",children:[d==="appearance"&&r.jsxs("div",{className:"panel-section",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Type"}),r.jsxs("select",{value:n.backgroundType,onChange:C=>s("backgroundType",C.target.value),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{value:"none",children:"None"}),r.jsx("option",{value:"color",children:"Solid Color"}),r.jsx("option",{value:"image",children:"Background Image"})]})]}),n.backgroundType==="color"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Color"}),r.jsx("input",{type:"color",value:n.backgroundColor,onChange:C=>s("backgroundColor",C.target.value),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Opacity"}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.backgroundOpacity,onChange:C=>s("backgroundOpacity",parseFloat(C.target.value)),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(n.backgroundOpacity*100),"%"]})]})]}),n.backgroundType==="image"&&r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Image URL"}),r.jsx("input",{type:"url",value:n.backgroundImage,onChange:C=>s("backgroundImage",C.target.value),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",placeholder:"https://example.com/image.jpg"})]})]}),d==="spacing"&&r.jsxs("div",{className:"panel-section",children:[r.jsx(k,{label:"Padding",values:S.padding||{top:0,right:0,bottom:0,left:0},onChange:C=>s(`${i}.padding`,C)}),r.jsx(k,{label:"Margin",values:S.margin||{top:0,right:0,bottom:0,left:0},onChange:C=>s(`${i}.margin`,C)})]})]})]})},H_=()=>{const[e,t]=m.useState(""),[n,s]=m.useState("all"),[i,l]=m.useState("all");return r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold",children:"Form Entries"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"247 total"}),r.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded-md",children:[r.jsx(Aa,{size:14}),"Export"]})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ks,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search entries...",value:e,onChange:d=>t(d.target.value),className:"w-full pl-10 pr-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:n,onChange:d=>s(d.target.value),className:"flex-1 px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"read",children:"Read"}),r.jsx("option",{value:"flagged",children:"Flagged"})]}),r.jsxs("select",{value:i,onChange:d=>l(d.target.value),className:"flex-1 px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"})]})]})]}),r.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6,7,8].map(d=>r.jsxs("div",{className:"entry-item",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("span",{className:"font-medium",children:["Entry #",247-d]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`entry-status ${d<=2?"entry-status-new":d===3?"entry-status-flagged":"entry-status-read"}`,children:d<=2?"New":d===3?"Flagged":"Read"}),r.jsx("button",{className:"flex items-center justify-center w-6 h-6 text-muted-foreground hover:text-foreground hover:bg-muted rounded",children:r.jsx(ws,{size:12})})]})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:d===1?"john.doe@example.com":d===2?"jane.smith@example.com":`user${d}@example.com`}),r.jsx("p",{className:"text-xs text-gray-400",children:d<=2?`${d*15} minutes ago`:d===3?"2 hours ago":`${d} days ago`})]},d))}),r.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Showing 1-8 of 247"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{className:"px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded",children:"Previous"}),r.jsx("button",{className:"px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded",children:"Next"})]})]})]})})},Wu=()=>r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ho,{className:"w-8 h-8 mx-auto text-muted-foreground/50 animate-spin mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})}),B_=()=>r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(L_,{})}),U_=()=>{const[e,t]=m.useState([{id:"email",name:"Email Notifications",enabled:!0,configured:!0},{id:"webhook",name:"Webhook",enabled:!1,configured:!1},{id:"zapier",name:"Zapier",enabled:!1,configured:!1},{id:"mailchimp",name:"Mailchimp",enabled:!0,configured:!0},{id:"slack",name:"Slack",enabled:!1,configured:!1}]);return r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Integrations"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Connect your form to external services and automate workflows."}),r.jsx("div",{className:"space-y-3",children:e.map(n=>r.jsx("div",{className:"integration-item",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:`integration-icon integration-icon-${n.id}`,children:[n.id==="email"&&r.jsx(Hr,{size:16}),n.id==="webhook"&&r.jsx(Nl,{size:16}),n.id==="zapier"&&r.jsx(kl,{size:16}),n.id==="mailchimp"&&r.jsx(Hr,{size:16}),n.id==="slack"&&r.jsx(kh,{size:16})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:n.name}),r.jsx("div",{className:"text-sm text-gray-500",children:n.configured?"Configured":"Not configured"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.enabled,onChange:s=>{t(e.map(i=>i.id===n.id?{...i,enabled:s.target.checked}:i))},disabled:!n.configured}),r.jsx("button",{className:"px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded",children:n.configured?"Configure":"Setup"})]})]})},n.id))}),r.jsxs("div",{className:"mt-6 p-4 border border-gray-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Webhook Configuration"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Webhook URL"}),r.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",placeholder:"https://your-webhook-url.com/endpoint"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"HTTP Method"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{children:"POST"}),r.jsx("option",{children:"PUT"}),r.jsx("option",{children:"PATCH"})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Custom Headers"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",rows:3,placeholder:`Authorization: Bearer your-token
Content-Type: application/json`})]}),r.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded-md",children:[r.jsx(mu,{size:14}),"Test Webhook"]})]})]})]})})},V_=({position:e,onResize:t,currentWidth:n,showInput:s,onInputVisibilityChange:i,maxWidth:l})=>{const[d,u]=m.useState(!1),[f,h]=m.useState(n),[g,v]=m.useState(!1),x=N=>{u(!0),N.preventDefault()},b=m.useCallback(N=>{if(d){const S=document.querySelector(".form-wrapper");if(S){const C=S.getBoundingClientRect(),_=S.closest(".canvas-responsive")?.getBoundingClientRect();if(C&&_){const w=_.width*.95,R=l?parseInt(l):1/0,P=Math.min(w,R),O=Math.min(P,Math.max(200,N.clientX-C.left));t(`${Math.round(O)}px`)}}}},[d,t]),k=m.useCallback(()=>{u(!1)},[]);return m.useEffect(()=>{if(d)return document.addEventListener("mousemove",b),document.addEventListener("mouseup",k),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",k)}},[d,b,k]),r.jsxs("div",{className:`resize-bar resize-bar-${e}`,onMouseDown:x,onMouseEnter:()=>!g&&i(!0),onMouseLeave:()=>!g&&i(!1),children:[r.jsx("div",{className:"resize-handle"}),(s||g)&&r.jsx("div",{className:"resize-input-popup",onMouseEnter:()=>i(!0),onMouseLeave:()=>!g&&i(!1),children:r.jsx("input",{type:"text",value:f,onChange:N=>h(N.target.value),onFocus:()=>v(!0),onBlur:()=>{v(!1),t(f),i(!1)},onKeyDown:N=>{N.key==="Enter"&&(t(f),N.currentTarget.blur())},className:"resize-input",placeholder:"100% or 400px"})})]})},Z_=({isVisible:e,position:t,isCollapsed:n,onClose:s,onPositionChange:i,onCollapse:l,onElementClick:d})=>{const{items:u,order:f,reorderElements:h,removeElement:g,addElement:v}=co(),x=Array.isArray(f)?f.map(M=>u[M]).filter(Boolean):[],[b,k]=m.useState(!1),[N,S]=m.useState({x:0,y:0}),C=M=>{if(M.target.closest(".floating-panel-header")){k(!0);const B=M.currentTarget.getBoundingClientRect();S({x:M.clientX-B.left,y:M.clientY-B.top})}},_=m.useCallback(M=>{b&&i({x:M.clientX-N.x,y:M.clientY-N.y})},[b,N,i]),w=m.useCallback(()=>{k(!1)},[]);m.useEffect(()=>{if(b)return document.addEventListener("mousemove",_),document.addEventListener("mouseup",w),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",w)}},[b,_,w]);const R=(M,B)=>{const V=[...f],oe=V[M];V.splice(M,1),V.splice(B,0,oe),h(V)},P=M=>{g(M)},I=M=>{const B=u[M];if(B){const V={...B,id:An(),name:`${B.name}_copy`};v(V)}},O=(M,B)=>{M.preventDefault(),console.log("Context menu for element:",B)};return e?r.jsxs("div",{className:`floating-elements-panel ${n?"floating-panel-collapsed":""}`,style:{left:t.x,top:t.y,cursor:b?"grabbing":"default"},onMouseDown:C,children:[r.jsxs("div",{className:"floating-panel-header",children:[r.jsxs("div",{className:"floating-panel-title",children:[r.jsx(Fa,{size:16}),r.jsxs("span",{children:["Elements (",x.length,")"]})]}),r.jsxs("div",{className:"floating-panel-controls",children:[r.jsx("button",{className:"floating-panel-btn",onClick:()=>l(!n),title:n?"Expand":"Collapse",children:n?r.jsx(gn,{size:14}):r.jsx(La,{size:14})}),r.jsx("button",{className:"floating-panel-btn",onClick:s,title:"Close",children:r.jsx(qt,{size:14})})]})]}),!n&&r.jsx("div",{className:"floating-panel-content",children:x.length===0?r.jsxs("div",{className:"floating-panel-empty",children:[r.jsx(Fa,{size:24,className:"opacity-50"}),r.jsx("p",{className:"text-xs text-gray-500",children:"No elements yet"})]}):r.jsx("div",{className:"floating-elements-list",children:x.map((M,B)=>r.jsxs("div",{className:"floating-element-item",draggable:!0,onClick:()=>d(M.id),onContextMenu:V=>O(V,M.id),onDragStart:V=>{V.dataTransfer.setData("text/plain",B.toString())},onDragOver:V=>V.preventDefault(),onDrop:V=>{V.preventDefault();const oe=parseInt(V.dataTransfer.getData("text/plain"));R(oe,B)},children:[r.jsx("div",{className:"floating-element-drag",children:r.jsx(uu,{size:12})}),r.jsxs("div",{className:"floating-element-info",children:[r.jsx("div",{className:"floating-element-label",children:M.properties?.label||M.label}),r.jsxs("div",{className:"floating-element-type",children:[M.type.replace("_"," ")," ",M.properties?.required&&""]})]}),r.jsxs("div",{className:"floating-element-actions",children:[r.jsx("button",{className:"floating-element-btn",onClick:V=>{V.stopPropagation(),I(M.id)},title:"Duplicate",children:r.jsx(Oa,{size:12})}),r.jsx("button",{className:"floating-element-btn",onClick:V=>{V.stopPropagation(),P(M.id)},title:"Delete",children:r.jsx(Wn,{size:12})})]})]},M.id))})})]}):null},q_=()=>{const{items:e,order:t,addElement:n,removeElement:s,updateElement:i,reorderElements:l}=co(),{selectedElements:d,setSelectedElements:u}=Yj();m.useEffect(()=>{document.body.classList.add("sticky-menu","folded")},[]);const[f,h]=m.useState("canvas"),[g,v]=m.useState("desktop"),[x,b]=m.useState("Untitled Form"),[k,N]=m.useState("idle"),[S,C]=m.useState("1"),[_,w]=m.useState([]),R=m.useCallback(($,te,Q=5e3)=>{const be=Math.random().toString(36).substr(2,9),Re={id:be,type:$,message:te,visible:!1};w(Be=>[...Be,Re]),setTimeout(()=>{w(Be=>Be.map(Et=>Et.id===be?{...Et,visible:!0}:Et))},100),$!=="error"&&setTimeout(()=>{P(be)},Q)},[]),P=m.useCallback($=>{w(te=>te.map(Q=>Q.id===$?{...Q,hiding:!0}:Q)),setTimeout(()=>{w(te=>te.filter(Q=>Q.id!==$))},400)},[]),[I,O]=m.useState(1),[M,B]=m.useState(!1),[V,oe]=m.useState(!0),[ue,Ne]=m.useState(250),[re,ke]=m.useState(!1),[ae,ne]=m.useState("all"),[F,K]=m.useState(""),[Y,z]=m.useState(!1),[T,q]=m.useState(150),[G,J]=m.useState(250),[xe,U]=m.useState(0),[ge,ze]=m.useState(!1),[Ee,rt]=m.useState(!1),[qe,ot]=m.useState(null);m.useRef(null);const Xe=m.useCallback($=>{Ne($);const Re=$-50-16-8,Be=Re<160;if(z(Be),Be){const Gr=Math.max(100,Re);q(Gr)}else{const Gr=Math.max(160,Re);q(Gr)}J((re?40:$)+100)},[re]);m.useEffect(()=>{Xe(220)},[Xe]),m.useEffect(()=>{J((re?40:ue)+100)},[re,ue]);const[Ct,Kt]=m.useState(""),[nn,cn]=m.useState(!1),[le,de]=m.useState(!1),[he,Ie]=m.useState({x:100,y:100}),[Je,We]=m.useState(!1),[me,xt]=m.useState({backgroundType:"color",backgroundColor:"#ffffff",backgroundImage:"",backgroundOpacity:1,desktop:{padding:{top:40,right:40,bottom:40,left:40},margin:{top:20,right:20,bottom:20,left:20}},tablet:{padding:{top:30,right:30,bottom:30,left:30},margin:{top:15,right:15,bottom:15,left:15}},mobile:{padding:{top:20,right:20,bottom:20,left:20},margin:{top:10,right:10,bottom:10,left:10}}}),[tt,Qe]=m.useState([]),[zn,dn]=m.useState(null),[Rt,_r]=m.useState(!1),[ci,di]=m.useState(!1),[Jo,go]=m.useState(!1),[Rr,zr]=m.useState("100%"),xo=m.useCallback($=>{const te=x0[$];if(!te)return"100%";const be={mobile:70,tablet:90,desktop:30}[$]||0;return`${te.width-be}px`},[]);m.useEffect(()=>{if(V&&g!=="desktop"){const $=xo(g),te=parseInt(Rr)||0,Q=parseInt($)||1/0;Q>0&&te!==Q&&zr($)}else(!V||g==="desktop")&&(parseInt(Rr)||0)<600&&zr("100%")},[g,V,xo]);const Ye=m.useRef(null),Xt=m.useRef(null),[ft,Pt]=m.useState(null),Nt=m.useRef(0),yt=m.useRef(null),[pt,zt]=m.useState(!1),[Mt,Tn]=m.useState(null),[Ke,un]=m.useState(null),[It,vn]=m.useState([]),[Jt,fn]=m.useState(null),[vt,Ft]=m.useState(null),[Js,Wf]=m.useState(null),[Hf,dr]=m.useState(!1),[Rc,ui]=m.useState(!1),[Bf,Qs]=m.useState(!1),[zc,fi]=m.useState(!1),[Zr,Uf]=m.useState([]),[qn,st]=m.useState(-1),[pi,mi]=m.useState(!1),[hi,ea]=m.useState(!1),Tc=m.useRef(null),Dc=m.useRef(null);m.useEffect(()=>{const $=te=>{Tc.current&&!Tc.current.contains(te.target)&&ea(!1)};return hi&&document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[hi]);const Dn=Array.isArray(t)?t.map($=>e[$]).filter(Boolean):[],He=d[0]?e[d[0]]:null,ta=m.useCallback(()=>{if(!F.trim())return ae==="all"?Bl.filter(Re=>Re.id!=="all").flatMap(Re=>Re.elements):Bl.find(Re=>Re.id===ae)?.elements||[];const $=F.toLowerCase().trim(),te=["the","a","an","and","or","but","in","on","at","to","for","of","with","by","is","are","was","were","be","been","have","has","had","do","does","did","will","would","could","should","may","might","can","this","that","these","those","it","its","he","she","they","them","their","his","her"],Q=$.split(" ").filter(Re=>Re.length>2&&!te.includes(Re));return Bl.filter(Re=>Re.id!=="all").flatMap(Re=>Re.elements).filter(Re=>{const Be=[Re.label.toLowerCase(),Re.type.toLowerCase(),...Re.keywords||[]].join(" ");return Q.some(Et=>Be.includes(Et))||Re.label.toLowerCase().includes($)})},[F,ae]),Wt=m.useCallback(()=>{if(Ye.current){const{scrollLeft:$,scrollWidth:te,clientWidth:Q}=Ye.current;ze($>5),rt($<te-Q-10),U($)}},[]),$c=m.useCallback($=>{if(Ye.current){const Q=$==="left"?Ye.current.scrollLeft-200:Ye.current.scrollLeft+200;Ye.current.scrollTo({left:Q,behavior:"smooth"})}},[]),gi=m.useCallback(()=>{if(!Ye.current){yt.current=null;return}const $=Ye.current.scrollLeft,te=Nt.current,Q=te-$,be=.2;Math.abs(Q)>.5?(Ye.current.scrollLeft=$+Q*be,yt.current=requestAnimationFrame(gi)):(Ye.current.scrollLeft=te,yt.current=null)},[]),xi=m.useCallback($=>{if(!Ye.current)return;const{scrollLeft:te,scrollWidth:Q,clientWidth:be}=Ye.current;if(Q>be){const Be=$.deltaY||$.deltaX,Et=Q-be;yt.current===null&&(Nt.current=te),Nt.current=Math.max(0,Math.min(Et,Nt.current+Be)),yt.current||(yt.current=requestAnimationFrame(gi)),$.preventDefault()}},[gi]);m.useEffect(()=>{const $=Ye.current;if(!(!$||!Y))return $.addEventListener("wheel",xi,{passive:!1}),()=>$.removeEventListener("wheel",xi)},[Y,xi]);const qr=m.useCallback(()=>{Xt.current&&(clearInterval(Xt.current),Xt.current=null),Pt(null),Ye.current&&(Nt.current=Ye.current.scrollLeft)},[]),Qo=m.useCallback($=>{yt.current&&(cancelAnimationFrame(yt.current),yt.current=null),Xt.current&&clearInterval(Xt.current),Pt($);const te=()=>{if(Ye.current){const{scrollLeft:Q,scrollWidth:be,clientWidth:Re}=Ye.current,Be=9;$==="left"&&Q>0?Ye.current.scrollLeft-=Be:$==="right"&&Q<be-Re?Ye.current.scrollLeft+=Be:qr()}};te(),Xt.current=setInterval(te,16)},[qr]);m.useEffect(()=>()=>{Xt.current&&clearInterval(Xt.current),yt.current&&cancelAnimationFrame(yt.current)},[]),m.useEffect(()=>{const $=Ye.current;if($&&Y)return Wt(),$.addEventListener("scroll",Wt),window.addEventListener("resize",Wt),()=>{$.removeEventListener("scroll",Wt),window.removeEventListener("resize",Wt)}},[Wt,Y]),m.useCallback(($,te)=>{if(!Y||!Ye.current)return;const Q=te.getBoundingClientRect(),be=Ye.current.getBoundingClientRect();ot({element:$,rect:Q,containerRect:be})},[Y]),m.useCallback(()=>{ot(null)},[]),m.useEffect(()=>{const $=Ye.current;if(!$||!qe)return;const te=()=>{ot(null)};return $.addEventListener("scroll",te),()=>$.removeEventListener("scroll",te)},[qe]),m.useEffect(()=>{const $=()=>{mi(window.innerWidth<=768)};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),m.useEffect(()=>{if(k==="saving"){const $=setTimeout(()=>{N("saved"),R("success","All changes saved"),setTimeout(()=>N("idle"),1e3)},1e3);return()=>clearTimeout($)}},[k,R]),m.useEffect(()=>{const $=te=>{if(te.ctrlKey||te.metaKey)switch(te.key){case"z":te.preventDefault(),te.shiftKey?Mc():Pc();break;case"c":He&&(te.preventDefault(),ns());break;case"v":te.preventDefault(),Dr();break;case"d":He&&(te.preventDefault(),bi());break;case"s":te.preventDefault(),mr();break}(te.key==="Delete"||te.key==="Backspace")&&He&&!te.target?.closest(".inline-editable-input")&&(te.preventDefault(),Tr(He.id)),te.key==="Escape"&&(fn(null),Ft(null),u([]))};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[He,Zr,qn]),m.useEffect(()=>()=>{document.removeEventListener("dragover",yo),document.removeEventListener("drop",yo)},[]);const yo=$=>{$.preventDefault()},$n=()=>{const $=Zr.slice(0,qn+1);$.push({items:{...e},order:[...t]}),Uf($),st($.length-1)},Pc=()=>{qn>0&&(st(qn-1),Zr[qn-1])},Mc=()=>{qn<Zr.length-1&&(st(qn+1),Zr[qn+1])},na=$=>{if(!$)return{};const te={...$.defaults};for(const Q of Object.keys($.properties)){const be=$.properties[Q];if(be)for(const[Re,Be]of Object.entries(be))Be.default!==void 0&&te[Re]===void 0&&(te[Re]=Be.default)}return te},yi=m.useCallback(($,te,Q)=>{try{const be=Fl($);if(!be){console.warn(`No schema registered for element type: ${$}`);return}const Re=na(be),Be={id:An(),type:$,properties:{...Re,name:Re.name||$+"_"+Date.now().toString(36),label:Re.label||te},children:be.container?[]:void 0};n(Be),u([Be.id]),N("saving"),$n()}catch(be){console.error("Error adding element:",be),N("error")}},[n,u,e,t]),es=m.useCallback(($,te,Q=!1)=>{try{zt(!0);const be={type:te.type,label:te.label,icon:te.icon?.name||te.type,keywords:te.keywords,isNew:Q};Tn(be),$.dataTransfer.effectAllowed="move",$.dataTransfer.setData("text/plain",JSON.stringify(be))}catch(be){console.error("Error in drag start:",be),zt(!1),Tn(null)}},[]),ur=m.useCallback(()=>{zt(!1),Tn(null),un(null)},[]),ra=m.useCallback(($,te)=>{$.preventDefault(),$.stopPropagation(),$.dataTransfer.dropEffect="move",un(te)},[]),vo=m.useCallback(($,te)=>{$.preventDefault(),$.stopPropagation();try{let Q=Mt;if(!Q){const be=$.dataTransfer.getData("text/plain");be&&(Q=JSON.parse(be))}if(Q)if(Q.isNew)Ge(Q,te);else{const be=t.indexOf(Q.id);if(be!==te&&be!==-1){const Re=[...t],[Be]=Re.splice(be,1);Re.splice(te,0,Be),l(Re),N("saving"),$n()}}}catch(Q){console.error("Error in drop handler:",Q),N("error")}ur()},[Mt,t,n,l,ur]),Ge=($,te)=>{const Q=Fl($.type);if(!Q){console.warn(`No schema registered for element type: ${$.type}`);return}const be=na(Q),Re={id:An(),type:$.type,properties:{...be,name:be.name||$.type+"_"+Date.now().toString(36),label:be.label||$.label},children:Q.container?[]:void 0};n(Re,te),u([Re.id]),N("saving"),$n()},ts=m.useCallback(($,te)=>{const Q=te?.ctrlKey||te?.metaKey;if(Q?vn(be=>be.includes($)?be.filter(Re=>Re!==$):[...be,$]):(u([$]),vn([]),_r(!1),dn($),Qe([$])),te&&!Q){const be=e[$];if(be){const Be=te.currentTarget.getBoundingClientRect();Ft({element:be,position:{x:Be.left,y:Be.bottom+10},isVisible:!0})}}},[e]),Tr=m.useCallback($=>{try{s($),He?.id===$&&(u([]),dn(null),Qe([]),_r(!1)),Qe(te=>te.filter(Q=>Q!==$)),N("saving"),Ft(null),$n()}catch(te){console.error("Error deleting element:",te),N("error")}},[He,s,u]),fr=m.useCallback(($,te,Q)=>{const be=e[$];if(be)try{i($,{properties:{...be.properties,[te]:Q}}),N("saving"),$n()}catch(Re){console.error("Error updating element property:",Re),N("error")}},[e,i]),vi=m.useCallback(($,te)=>{$.preventDefault(),ts(te),fn({x:$.clientX,y:$.clientY})},[ts]),Ic=m.useCallback($=>{if(He)try{switch($){case"edit":Ft({element:He,position:Jt||{x:0,y:0}});break;case"duplicate":bi();break;case"copy":ns();break;case"cut":oa();break;case"move-up":pr("up");break;case"move-down":pr("down");break;case"delete":Tr(He.id);break}}catch(te){console.error("Error in context action:",te),N("error")}fn(null)},[He,Tr,Jt]),bi=()=>{if(He){const $={...He,id:An(),properties:{...He.properties,label:`${He.properties?.label} (Copy)`}};n($),N("saving"),$n()}},ns=()=>{He&&localStorage.setItem("copiedElement",JSON.stringify(He))},oa=()=>{He&&(ns(),Tr(He.id))},Dr=()=>{const $=localStorage.getItem("copiedElement");if($){const Q={...JSON.parse($),id:An()};n(Q),N("saving"),$n()}},pr=$=>{if(He){const te=t.indexOf(He.id),Q=$==="up"?te-1:te+1;if(Q>=0&&Q<t.length){const be=[...t],[Re]=be.splice(te,1);be.splice(Q,0,Re),l(be),N("saving"),$n()}}},mr=()=>{N("saving")},bo=m.useCallback($=>{console.log("Format text:",$),Wf(null)},[]),rs=$=>{console.log("Restore version:",$),dr(!1)},$r=$=>{console.log("Export as:",$),Qs(!1)};return r.jsx(l_,{children:r.jsxs("div",{className:"flex flex-col h-screen",children:[r.jsx(v_,{currentFormId:S,onFormSelect:C,formTitle:x,onFormTitleChange:b,devicePreview:g,onDeviceChange:v,showDeviceFrame:V,onToggleDeviceFrame:()=>oe(!V),canUndo:qn>0,canRedo:qn<Zr.length-1,onUndo:Pc,onRedo:Mc,showGrid:M,onToggleGrid:()=>B(!M),zoom:I,onZoomChange:O,showElementsPanel:le,onToggleElementsPanel:()=>de(!le),onShowVersionHistory:()=>dr(!0),onShowSharePanel:()=>ui(!0),onShowExportPanel:()=>Qs(!0),onShowAnalytics:()=>fi(!0),onPreview:()=>{},onSave:mr,onPublish:()=>{},isSaving:k==="saving",isMobile:pi}),r.jsx(YE,{activeTab:f,onTabChange:h}),r.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[f!=="canvas"&&r.jsxs("div",{className:"flex-1 bg-background flex flex-col overflow-hidden",children:[f==="settings"&&r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Form Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Form Name"}),r.jsx(kr,{value:x,onChange:b,className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"Form Name"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Form Description"}),r.jsx(kr,{value:"",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"Describe what this form is for...",multiline:!0})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Submit Button Text"}),r.jsx(kr,{value:"Submit",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"Submit"})]}),r.jsxs("div",{className:"pt-4 border-t border-border",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Submission Settings"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Require login to submit"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Allow multiple submissions"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Save as draft"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Show progress bar"})]})]})]}),r.jsxs("div",{className:"pt-4 border-t border-border",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Notifications"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Admin Email"}),r.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"admin@example.com"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Thank You Page URL"}),r.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"https://example.com/thank-you"})]})]})]})]})]})}),f==="emails"&&r.jsx(m.Suspense,{fallback:r.jsx(Wu,{}),children:r.jsx(O_,{})}),f==="entries"&&r.jsx(H_,{}),f==="automation"&&r.jsx(m.Suspense,{fallback:r.jsx(Wu,{}),children:r.jsx(A_,{formId:parseInt(S)||0})}),f==="style"&&r.jsx(B_,{}),f==="themes"&&r.jsx(m.Suspense,{fallback:r.jsx(Wu,{}),children:r.jsx(F_,{})}),f==="integrations"&&r.jsx(U_,{})]}),f==="canvas"&&r.jsxs("div",{className:"flex-1 flex flex-col overflow-auto bg-muted/30 p-4",style:{paddingBottom:`${G}px`},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:nn,onChange:$=>cn($.target.checked),className:"rounded border-border"}),r.jsx("span",{children:"Custom Width:"})]}),r.jsx("input",{type:"text",className:"w-24 px-2 py-1 text-sm border border-border rounded-md bg-background disabled:opacity-50",value:Ct,onChange:$=>Kt($.target.value),placeholder:g==="desktop"?"1200px":g==="tablet"?"768px":"375px",disabled:!nn})]}),r.jsx("div",{className:"flex-1 flex items-start justify-center origin-top",style:{transform:`scale(${I})`},children:r.jsxs("div",{ref:Dc,className:De("w-full bg-background rounded-lg shadow-sm border border-border min-h-[400px] relative mx-auto",g==="tablet"&&"max-w-[768px]",g==="mobile"&&"max-w-[375px]",g==="desktop"&&"max-w-[1200px]",V&&"canvas-framed"),style:nn&&Ct?{maxWidth:Ct}:{},children:[r.jsx(u_,{isVisible:M}),V&&g!=="desktop"&&r.jsxs("div",{className:"simple-breadcrumb",style:{position:"absolute",top:"20px",left:"20px",zIndex:25},children:[r.jsx("button",{className:`breadcrumb-root ${Rt?"breadcrumb-current":""}`,onClick:()=>{dn(null),Qe([]),_r(!0),u([]);const $=document.querySelector(".form-wrapper");$&&($.classList.add("element-orange-flash"),setTimeout(()=>{$.classList.remove("element-orange-flash")},1500)),Ft({element:null,position:{x:window.innerWidth/2-200,y:window.innerHeight/2-250}})},children:"Form"}),tt.length>0&&r.jsx(r.Fragment,{children:tt.map(($,te)=>{const Q=e[$];if(!Q)return null;const be=Q.properties?.label||Q.label||Q.type,Re=te===tt.length-1;return r.jsxs($e.Fragment,{children:[r.jsx("span",{className:"breadcrumb-separator",children:">"}),r.jsx("button",{className:`breadcrumb-item ${Re?"breadcrumb-current":""}`,onClick:()=>{const Be=tt.slice(0,te+1);Qe(Be),dn($);const Et=document.querySelector(`[data-element-id="${$}"]`);Et&&(Et.scrollIntoView({behavior:"smooth",block:"center"}),Et.classList.add("element-orange-flash"),setTimeout(()=>{Et.classList.remove("element-orange-flash")},1500))},children:be})]},$)})})]}),V&&g!=="desktop"&&r.jsxs("div",{className:`device-frame device-frame-${g}`,style:{marginTop:"60px"},children:[r.jsx("div",{className:"device-frame-header",children:r.jsx("div",{className:"device-frame-title",children:x0[g].name})}),g==="mobile"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"device-home-button"}),r.jsx("div",{className:"device-speaker"}),r.jsx("div",{className:"device-camera"})]}),g==="tablet"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"device-home-button-tablet"}),r.jsx("div",{className:"device-camera-tablet"})]}),r.jsx("div",{className:"device-screen-overlay",children:r.jsx("div",{className:`form-wrapper ${Rt?"form-wrapper-selected":""}`,style:{background:me.backgroundType==="none"?"transparent":me.backgroundType==="color"?`${me.backgroundColor}${Math.round(me.backgroundOpacity*255).toString(16).padStart(2,"0")}`:me.backgroundImage?`url(${me.backgroundImage})`:me.backgroundColor,backgroundSize:me.backgroundType==="image"?"cover":"auto",backgroundPosition:me.backgroundType==="image"?"center":"auto",backgroundRepeat:me.backgroundType==="image"?"no-repeat":"auto",padding:`${me[g]?.padding?.top||0}px ${me[g]?.padding?.right||0}px ${me[g]?.padding?.bottom||0}px ${me[g]?.padding?.left||0}px`,margin:`${me[g]?.margin?.top||0}px ${me[g]?.margin?.right||0}px ${me[g]?.margin?.bottom||0}px ${me[g]?.margin?.left||0}px`,borderRadius:"var(--radius-lg)",minHeight:"200px",width:"100%",position:"relative"},children:Dn.length===0?r.jsxs("div",{className:`drop-zone ${pt?"drop-zone-active":""}`,onDragOver:$=>ra($,0),onDrop:$=>vo($,0),children:[r.jsx(Fa,{size:24,className:"mb-2"}),r.jsx("p",{children:"Drag elements from the bottom tray to start building your form"})]}):r.jsxs("div",{children:[Dn.map(($,te)=>r.jsxs($e.Fragment,{children:[pt&&Ke===te&&r.jsx("div",{className:"drop-zone drop-zone-hover"}),r.jsxs("div",{className:`form-element ${He?.id===$.id||It.includes($.id)?"form-element-selected":""} ${pt&&Mt?.id===$.id?"form-element-dragging":""}`,"data-element-id":$.id,draggable:!0,onDragStart:Q=>es(Q,$),onDragEnd:ur,onDragOver:Q=>ra(Q,te+1),onDrop:Q=>vo(Q,te+1),onClick:Q=>ts($.id,Q),onContextMenu:Q=>vi(Q,$.id),children:[r.jsxs("div",{className:"element-controls",children:[r.jsx("button",{className:"element-control-btn",title:"Drag to reorder",children:r.jsx(uu,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Edit Properties",children:r.jsx(wl,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Delete",onClick:Q=>{Q.stopPropagation(),Tr($.id)},children:r.jsx(Wn,{size:16})})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx(kr,{value:$.properties?.label||$.label,onChange:Q=>fr($.id,"label",Q),className:"property-label",placeholder:"Field Label",onFormat:bo}),$.properties?.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),$.properties?.helperText&&r.jsx(kr,{value:$.properties.helperText,onChange:Q=>fr($.id,"helperText",Q),className:"property-help",placeholder:"Helper text"})]}),r.jsx(o0,{element:$,updateElementProperty:fr})]}),pt&&Ke===Dn.length&&te===Dn.length-1&&r.jsx("div",{className:"drop-zone drop-zone-hover"})]},$.id)),r.jsx("div",{className:"mt-6",children:r.jsx(kr,{value:"Submit",onChange:()=>{},className:"w-full px-4 py-2 bg-blue-500 text-white rounded-md font-medium text-center",placeholder:"Submit"})})]})})})]}),(!V||g==="desktop")&&r.jsxs("div",{className:"simple-breadcrumb",children:[r.jsx("button",{className:`breadcrumb-root ${Rt?"breadcrumb-current":""}`,onClick:()=>{dn(null),Qe([]),_r(!0),u([]);const $=document.querySelector(".form-wrapper");$&&($.classList.add("element-orange-flash"),setTimeout(()=>{$.classList.remove("element-orange-flash")},1500)),Ft({element:null,position:{x:window.innerWidth/2-200,y:window.innerHeight/2-250}})},children:"Form"}),tt.length>0&&r.jsx(r.Fragment,{children:tt.map(($,te)=>{const Q=e[$];if(!Q)return null;const be=Q.properties?.label||Q.label||Q.type,Re=te===tt.length-1;return r.jsxs($e.Fragment,{children:[r.jsx("span",{className:"breadcrumb-separator",children:">"}),r.jsx("button",{className:`breadcrumb-item ${Re?"breadcrumb-current":""}`,onClick:()=>{const Be=tt.slice(0,te+1);Qe(Be),dn($);const Et=document.querySelector(`[data-element-id="${$}"]`);Et&&(Et.scrollIntoView({behavior:"smooth",block:"center"}),Et.classList.add("element-orange-flash"),setTimeout(()=>{Et.classList.remove("element-orange-flash")},1500))},children:be})]},$)})})]}),(!V||g==="desktop")&&r.jsx("div",{className:"desktop-form-container",style:{display:"flex",justifyContent:"center",width:"100%",minHeight:"200px"},children:r.jsxs("div",{className:`form-wrapper ${Rt?"form-wrapper-selected":""}`,style:{background:me.backgroundType==="none"?"transparent":me.backgroundType==="color"?`${me.backgroundColor}${Math.round(me.backgroundOpacity*255).toString(16).padStart(2,"0")}`:me.backgroundImage?`url(${me.backgroundImage})`:me.backgroundColor,backgroundSize:me.backgroundType==="image"?"cover":"auto",backgroundPosition:me.backgroundType==="image"?"center":"auto",backgroundRepeat:me.backgroundType==="image"?"no-repeat":"auto",padding:`${me[g]?.padding?.top||0}px ${me[g]?.padding?.right||0}px ${me[g]?.padding?.bottom||0}px ${me[g]?.padding?.left||0}px`,margin:`${me[g]?.margin?.top||0}px ${me[g]?.margin?.right||0}px ${me[g]?.margin?.bottom||0}px ${me[g]?.margin?.left||0}px`,borderRadius:"var(--radius-lg)",minHeight:"200px",width:Rr,position:"relative"},children:[r.jsx(V_,{position:"right",currentWidth:Rr,showInput:Jo,onInputVisibilityChange:go,onResize:$=>zr($),maxWidth:void 0}),Dn.length===0?r.jsxs("div",{className:`drop-zone ${pt?"drop-zone-active":""}`,onDragOver:$=>ra($,0),onDrop:$=>vo($,0),children:[r.jsx(Fa,{size:24,className:"mb-2"}),r.jsx("p",{children:"Drag elements from the bottom tray to start building your form"})]}):r.jsxs("div",{children:[Dn.map(($,te)=>r.jsxs($e.Fragment,{children:[pt&&Ke===te&&r.jsx("div",{className:"drop-zone drop-zone-hover"}),r.jsxs("div",{className:`form-element ${He?.id===$.id||It.includes($.id)?"form-element-selected":""} ${pt&&Mt?.id===$.id?"form-element-dragging":""}`,"data-element-id":$.id,draggable:!0,onDragStart:Q=>es(Q,$),onDragEnd:ur,onDragOver:Q=>ra(Q,te+1),onDrop:Q=>vo(Q,te+1),onClick:Q=>ts($.id,Q),onContextMenu:Q=>vi(Q,$.id),children:[r.jsxs("div",{className:"element-controls",children:[r.jsx("button",{className:"element-control-btn",title:"Drag to reorder",children:r.jsx(uu,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Edit Properties",children:r.jsx(wl,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Delete",onClick:Q=>{Q.stopPropagation(),Tr($.id)},children:r.jsx(Wn,{size:16})})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx(kr,{value:$.properties?.label||$.label,onChange:Q=>fr($.id,"label",Q),className:"property-label",placeholder:"Field Label",onFormat:bo}),$.properties?.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),$.properties?.helperText&&r.jsx(kr,{value:$.properties.helperText,onChange:Q=>fr($.id,"helperText",Q),className:"property-help",placeholder:"Helper text"})]}),r.jsx(o0,{element:$,updateElementProperty:fr})]}),pt&&Ke===Dn.length&&te===Dn.length-1&&r.jsx("div",{className:"drop-zone drop-zone-hover"})]},$.id)),r.jsx("div",{className:"mt-6",children:r.jsx(kr,{value:"Submit",onChange:()=>{},className:"w-full px-4 py-2 bg-blue-500 text-white rounded-md font-medium text-center",placeholder:"Submit"})})]})]})})]})})]})]}),r.jsxs(p_,{isCollapsed:re,onToggleCollapse:()=>ke(!re),isMobile:pi,onHeightChange:Xe,children:[r.jsx("div",{className:"flex items-center justify-between px-4 py-2 border-b border-border",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex gap-2",children:!F&&Bl.map($=>r.jsx("button",{className:De("px-3 py-2 rounded-md text-xs font-medium transition-colors",ae===$.id?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground bg-transparent hover:bg-accent hover:text-foreground"),onClick:()=>ne($.id),children:$.name},$.id))}),r.jsxs("div",{className:"relative w-[200px]",children:[r.jsx(ks,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"}),r.jsx("input",{type:"text",placeholder:"Search elements...",value:F,onChange:$=>K($.target.value),onKeyDown:$=>{if($.key==="Enter"&&F.trim()){const te=ta();if(te.length===1){$.preventDefault();const Q=te[0];yi(Q.type,Q.label,Q.icon),K("")}}},className:"w-full h-8 pl-9 pr-8 text-sm border border-border rounded-md bg-background focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary"}),F&&r.jsx("button",{onClick:()=>K(""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-accent text-muted-foreground hover:text-foreground",title:"Clear search",children:r.jsx(qt,{size:14})})]})]})}),r.jsxs("div",{className:"relative overflow-hidden flex-1",style:{height:`${T}px`},children:[r.jsx("div",{ref:Ye,className:De("h-full overflow-y-auto px-4 py-3",pi&&"tray-elements-mobile"),children:r.jsxs("div",{className:De("gap-3 items-start",Y?"flex flex-nowrap gap-3":"grid grid-cols-[repeat(auto-fill,minmax(120px,1fr))] gap-3"),children:[ta().map($=>{const Q=ta().length===1&&F.trim();return r.jsxs("div",{className:De("flex flex-col items-center justify-center gap-2 p-3 min-w-[120px] min-h-[80px]","bg-white border border-border rounded-lg cursor-grab select-none","transition-all hover:border-primary/30 hover:bg-primary/5 hover:-translate-y-0.5 hover:shadow-sm","active:cursor-grabbing active:-translate-y-0.5",Q&&"bg-primary/10 border-primary/40 shadow-sm"),draggable:!0,onDragStart:be=>es(be,$,!0),onDragEnd:ur,onClick:()=>yi($.type,$.label,$.icon),children:[r.jsx($.icon,{className:"w-6 h-6 text-primary"}),r.jsx("span",{className:"text-xs font-medium text-foreground text-center leading-tight",children:$.label}),Q&&r.jsx("div",{className:"absolute -top-9 left-1/2 -translate-x-1/2 px-2 py-1 bg-popover border border-border rounded shadow-md text-xs whitespace-nowrap opacity-100 transition-opacity",children:"Press Enter to add"})]},$.type)}),ta().length===0&&F&&r.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 py-8 text-muted-foreground",children:[r.jsx(ks,{size:24,className:"opacity-50"}),r.jsxs("span",{className:"text-sm font-medium",children:['No elements found for "',F,'"']})]})]})}),Y&&r.jsx("button",{className:De("absolute top-1/2 -translate-y-1/2 left-0 z-[100]","w-10 h-14 flex items-center justify-center","bg-white/95 backdrop-blur-sm border border-border border-l-0","rounded-r-lg pl-2 cursor-pointer","shadow-[0_4px_20px_rgba(0,0,0,0.15),0_1px_3px_rgba(0,0,0,0.1)]","text-foreground transition-all duration-200","hover:bg-primary-50 hover:border-primary-300 hover:text-primary-600 hover:shadow-md",ge?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>$c("left"),onMouseEnter:()=>Qo("left"),onMouseLeave:qr,title:"Scroll left",children:r.jsx(oj,{size:20})}),Y&&r.jsx("button",{className:De("absolute top-1/2 -translate-y-1/2 right-0 z-[100]","w-10 h-14 flex items-center justify-center","bg-white/95 backdrop-blur-sm border border-border border-r-0","rounded-l-lg pr-2 cursor-pointer","shadow-[0_4px_20px_rgba(0,0,0,0.15),0_1px_3px_rgba(0,0,0,0.1)]","text-foreground transition-all duration-200","hover:bg-primary-50 hover:border-primary-300 hover:text-primary-600 hover:shadow-md",Ee?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>$c("right"),onMouseEnter:()=>Qo("right"),onMouseLeave:qr,title:"Scroll right",children:r.jsx(Wr,{size:20})}),Y&&r.jsx("div",{className:De("absolute top-0 bottom-0 left-0 w-10 pointer-events-none z-[50]","bg-gradient-to-r from-black/10 to-transparent","transition-opacity duration-200",ge?"opacity-100":"opacity-0")}),Y&&r.jsx("div",{className:De("absolute top-0 bottom-0 right-0 w-10 pointer-events-none z-[50]","bg-gradient-to-l from-black/10 to-transparent","transition-opacity duration-200",Ee?"opacity-100":"opacity-0")})]})]}),vt&&vt.element&&r.jsx(BE,{element:vt.element,position:vt.position,onClose:()=>Ft(null),onPropertyChange:($,te)=>fr(vt.element.id,$,te),onDelete:()=>Tr(vt.element.id)}),vt&&!vt.element&&Rt&&r.jsx(W_,{position:vt.position,settings:me,devicePreview:g,onClose:()=>{Ft(null),_r(!1)},onUpdate:($,te)=>{if($.includes(".")){const[Q,be]=$.split(".");xt(Re=>({...Re,[Q]:{...Re[Q],[be]:te}}))}else xt(Q=>({...Q,[$]:te}))}}),Jt&&r.jsx(d_,{x:Jt.x,y:Jt.y,onClose:()=>fn(null),onAction:Ic}),r.jsx(a_,{isOpen:Hf,onClose:()=>dr(!1),onRestore:rs}),r.jsx(e_,{isOpen:Rc,onClose:()=>ui(!1)}),r.jsx(n_,{isOpen:Bf,onClose:()=>Qs(!1),onExport:$r}),r.jsx(o_,{isOpen:zc,onClose:()=>fi(!1)}),r.jsx(Z_,{isVisible:le,position:he,isCollapsed:Je,onClose:()=>de(!1),onPositionChange:Ie,onCollapse:We,onElementClick:$=>{console.log("Element clicked:",$)}}),r.jsx("div",{className:"toast-container",children:_.map($=>r.jsx(a0,{id:$.id,type:$.type,message:$.message,visible:$.visible,hiding:$.hiding,onClose:P},$.id))})]})})},G_=e=>r.jsx(JE,{children:r.jsx(q_,{...e})});window.addEventListener("error",e=>{console.error("SFUI Admin: Global error caught:",e.error)}),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",y0):y0();function y0(){const e=document.getElementById("sfui-admin-root");if(!e)return;if(!window.sfuiData){console.error("SFUI Admin: Data not found on window.sfuiData");return}const{currentPage:t}=window.sfuiData;switch(t){case"super_create_form":Ga(e,r.jsx(xh,{}));break;case"super_form_v2":Ga(e,r.jsx(G_,{}));break;case"super_settings":Ga(e,r.jsx(H2,{}));break;case"super_entries":Ga(e,r.jsx(B2,{}));break;default:Ga(e,r.jsx(xh,{}))}}function Ga(e,t){try{console.log("SFUI Admin: Initializing page:",window.sfuiData?.currentPage),S1.createRoot(e).render(r.jsx($e.StrictMode,{children:t})),console.log("SFUI Admin: Page mounted successfully")}catch(n){console.error("SFUI Admin: Error during initialization:",n)}}const{useDebugValue:Y_}=$e,{useSyncExternalStoreWithSelector:K_}=eg,X_=e=>e;function J_(e,t=X_,n){const s=K_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Y_(s),s}const v0=(e,t)=>{const n=Yh(e),s=(i,l=t)=>J_(n,i,l);return Object.assign(s,n),s},b0=(e,t)=>e?v0(e,t):v0,Hu={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Bu=new Map,Ul=e=>{const t=Bu.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,s])=>[n,s.getState()])):{}},Q_=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const s=Bu.get(n.name);if(s)return{type:"tracked",store:e,...s};const i={connection:t.connect(n),stores:{}};return Bu.set(n.name,i),{type:"tracked",store:e,...i}},w0=(e,t={})=>(n,s,i)=>{const{enabled:l,anonymousActionType:d,store:u,...f}=t;let h;try{h=(l??(Hu?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!h)return(Hu?"production":void 0)!=="production"&&l&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,s,i);const{connection:g,...v}=Q_(u,h,f);let x=!0;i.setState=(N,S,C)=>{const _=n(N,S);if(!x)return _;const w=C===void 0?{type:d||"anonymous"}:typeof C=="string"?{type:C}:C;return u===void 0?(g?.send(w,s()),_):(g?.send({...w,type:`${u}/${w.type}`},{...Ul(f.name),[u]:i.getState()}),_)};const b=(...N)=>{const S=x;x=!1,n(...N),x=S},k=e(i.setState,s,i);if(v.type==="untracked"?g?.init(k):(v.stores[v.store]=i,g?.init(Object.fromEntries(Object.entries(v.stores).map(([N,S])=>[N,N===v.store?k:S.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let N=!1;const S=i.dispatch;i.dispatch=(...C)=>{(Hu?"production":void 0)!=="production"&&C[0].type==="__setState"&&!N&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),N=!0),S(...C)}}return g.subscribe(N=>{var S;switch(N.type){case"ACTION":if(typeof N.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Uu(N.payload,C=>{if(C.type==="__setState"){if(u===void 0){b(C.state);return}Object.keys(C.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const _=C.state[u];if(_==null)return;JSON.stringify(i.getState())!==JSON.stringify(_)&&b(_);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(C)});case"DISPATCH":switch(N.payload.type){case"RESET":return b(k),u===void 0?g?.init(i.getState()):g?.init(Ul(f.name));case"COMMIT":if(u===void 0){g?.init(i.getState());return}return g?.init(Ul(f.name));case"ROLLBACK":return Uu(N.state,C=>{if(u===void 0){b(C),g?.init(i.getState());return}b(C[u]),g?.init(Ul(f.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Uu(N.state,C=>{if(u===void 0){b(C);return}JSON.stringify(i.getState())!==JSON.stringify(C[u])&&b(C[u])});case"IMPORT_STATE":{const{nextLiftedState:C}=N.payload,_=(S=C.computedStates.slice(-1)[0])==null?void 0:S.state;if(!_)return;b(u===void 0?_:_[u]),g?.send(null,C);return}case"PAUSE_RECORDING":return x=!x}return}}),k},Uu=(e,t)=>{let n;try{n=JSON.parse(e)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}n!==void 0&&t(n)},Ps=b0()(w0((e,t)=>({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null,initializeStore:n=>{e({emails:n.emails||[],activeEmailId:n.emails?.[0]?.id||null,translations:n.translations||{}})},addEmail:()=>{const n={id:`email_${Date.now()}`,enabled:!0,description:"New Email",to:"{email}",from_email:"",from_name:"{option_blogname}",subject:"New submission",body:"<p>The following information has been sent:</p>{loop_fields}",attachments:[],reply_to:{enabled:!1,email:"",name:""},cc:"",bcc:"",template:{slug:"none"},conditions:{enabled:!1,f1:"",logic:"==",f2:""},schedule:{enabled:!1,schedules:[]}};e(s=>({emails:[...s.emails,n],activeEmailId:n.id,isDirty:!0}))},removeEmail:n=>{e(s=>{const i=s.emails.filter(d=>d.id!==n),l=s.activeEmailId===n?i[0]?.id||null:s.activeEmailId;return{emails:i,activeEmailId:l,isDirty:!0}})},duplicateEmail:n=>{e(s=>{const i=s.emails.find(f=>f.id===n);if(!i)return s;const l={...i,id:`email_${Date.now()}`,description:`${i.description||"Email"} (Copy)`},d=s.emails.findIndex(f=>f.id===n),u=[...s.emails];return u.splice(d+1,0,l),{emails:u,activeEmailId:l.id,isDirty:!0}})},updateEmail:(n,s)=>{e(i=>({emails:i.emails.map(l=>l.id===n?{...l,...s}:l),isDirty:!0}))},updateEmailField:(n,s,i)=>{e(l=>({emails:l.emails.map(u=>{if(u.id!==n)return u;const f=s.split("."),h={...u};let g=h;for(let v=0;v<f.length-1;v++){const x=f[v];g[x]={...g[x]},g=g[x]}return g[f[f.length-1]]=i,h}),isDirty:!0}))},setActiveEmailId:n=>{e({activeEmailId:n})},getActiveEmail:()=>{const n=t();return n.emails.find(s=>s.id===n.activeEmailId)},setActiveLanguage:n=>{e({activeLanguage:n})},updateTranslation:(n,s,i,l)=>{e(d=>{const u={...d.translations};return u[i]||(u[i]={}),u[i][n]||(u[i][n]={}),u[i][n][s]=l,{translations:u,isDirty:!0}})},reorderEmails:(n,s)=>{e(i=>{const l=[...i.emails],[d]=l.splice(n,1);return l.splice(s,0,d),{emails:l,isDirty:!0}})},save:async(n,s,i)=>{const l=t();e({isSaving:!0,error:null});try{const d=new FormData;d.append("action","super_save_form_emails"),d.append("form_id",String(n)),d.append("nonce",i),d.append("emails",JSON.stringify(l.emails)),d.append("translations",JSON.stringify(l.translations));const u=await fetch(s,{method:"POST",body:d}),f=await u.json();if(!u.ok||!f.success)throw new Error(f.message||"Failed to save");return e({isSaving:!1,isDirty:!1}),{success:!0}}catch(d){const u=d instanceof Error?d.message:"Unknown error";return e({isSaving:!1,error:u}),{success:!1,error:u}}},reset:()=>{e({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null})}})));function e4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>s=>{t.forEach(i=>i(s))},t)}const Vl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ms(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Vu(e){return"nodeType"in e}function ln(e){var t,n;return e?Ms(e)?e:Vu(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Zu(e){const{Document:t}=ln(e);return e instanceof t}function Ya(e){return Ms(e)?!1:e instanceof ln(e).HTMLElement}function j0(e){return e instanceof ln(e).SVGElement}function Is(e){return e?Ms(e)?e.document:Vu(e)?Zu(e)?e:Ya(e)||j0(e)?e.ownerDocument:document:document:document}const ar=Vl?m.useLayoutEffect:m.useEffect;function Zl(e){const t=m.useRef(e);return ar(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t.current==null?void 0:t.current(...s)},[])}function t4(){const e=m.useRef(null),t=m.useCallback((s,i)=>{e.current=setInterval(s,i)},[]),n=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ka(e,t){t===void 0&&(t=[e]);const n=m.useRef(e);return ar(()=>{n.current!==e&&(n.current=e)},t),n}function Xa(e,t){const n=m.useRef();return m.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function ql(e){const t=Zl(e),n=m.useRef(null),s=m.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,s]}function Gl(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let qu={};function Ja(e,t){return m.useMemo(()=>{if(t)return t;const n=qu[e]==null?0:qu[e]+1;return qu[e]=n,e+"-"+n},[e,t])}function N0(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((l,d)=>{const u=Object.entries(d);for(const[f,h]of u){const g=l[f];g!=null&&(l[f]=g+e*h)}return l},{...t})}}const Ls=N0(1),Qa=N0(-1);function n4(e){return"clientX"in e&&"clientY"in e}function Yl(e){if(!e)return!1;const{KeyboardEvent:t}=ln(e.target);return t&&e instanceof t}function r4(e){if(!e)return!1;const{TouchEvent:t}=ln(e.target);return t&&e instanceof t}function Kl(e){if(r4(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return n4(e)?{x:e.clientX,y:e.clientY}:null}const Sr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Sr.Translate.toString(e),Sr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),k0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function o4(e){return e.matches(k0)?e:e.querySelector(k0)}const s4={display:"none"};function a4(e){let{id:t,value:n}=e;return $e.createElement("div",{id:t,style:s4},n)}function i4(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $e.createElement("div",{id:t,style:i,role:"status","aria-live":s,"aria-atomic":!0},n)}function l4(){const[e,t]=m.useState("");return{announce:m.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const S0=m.createContext(null);function c4(e){const t=m.useContext(S0);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function d4(){const[e]=m.useState(()=>new Set),t=m.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[m.useCallback(s=>{let{type:i,event:l}=s;e.forEach(d=>{var u;return(u=d[i])==null?void 0:u.call(d,l)})},[e]),t]}const u4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},f4={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function p4(e){let{announcements:t=f4,container:n,hiddenTextDescribedById:s,screenReaderInstructions:i=u4}=e;const{announce:l,announcement:d}=l4(),u=Ja("DndLiveRegion"),[f,h]=m.useState(!1);if(m.useEffect(()=>{h(!0)},[]),c4(m.useMemo(()=>({onDragStart(v){let{active:x}=v;l(t.onDragStart({active:x}))},onDragMove(v){let{active:x,over:b}=v;t.onDragMove&&l(t.onDragMove({active:x,over:b}))},onDragOver(v){let{active:x,over:b}=v;l(t.onDragOver({active:x,over:b}))},onDragEnd(v){let{active:x,over:b}=v;l(t.onDragEnd({active:x,over:b}))},onDragCancel(v){let{active:x,over:b}=v;l(t.onDragCancel({active:x,over:b}))}}),[l,t])),!f)return null;const g=$e.createElement($e.Fragment,null,$e.createElement(a4,{id:s,value:i.draggable}),$e.createElement(i4,{id:u,announcement:d}));return n?Oo.createPortal(g,n):g}var $t;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})($t||($t={}));function Xl(){}function C0(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function m4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const ir=Object.freeze({x:0,y:0});function E0(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function h4(e,t){const n=Kl(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function _0(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function g4(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function R0(e){let{left:t,top:n,height:s,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+s},{x:t+i,y:n+s}]}function z0(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function T0(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Gu=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=T0(t,t.left,t.top),l=[];for(const d of s){const{id:u}=d,f=n.get(u);if(f){const h=E0(T0(f),i);l.push({id:u,data:{droppableContainer:d,value:h}})}}return l.sort(_0)},x4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=R0(t),l=[];for(const d of s){const{id:u}=d,f=n.get(u);if(f){const h=R0(f),g=i.reduce((x,b,k)=>x+E0(h[k],b),0),v=Number((g/4).toFixed(4));l.push({id:u,data:{droppableContainer:d,value:v}})}}return l.sort(_0)};function y4(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),d=i-s,u=l-n;if(s<i&&n<l){const f=t.width*t.height,h=e.width*e.height,g=d*u,v=g/(f+h-g);return Number(v.toFixed(4))}return 0}const v4=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=[];for(const l of s){const{id:d}=l,u=n.get(d);if(u){const f=y4(u,t);f>0&&i.push({id:d,data:{droppableContainer:l,value:f}})}}return i.sort(g4)};function b4(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function D0(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ir}function w4(e){return function(n){for(var s=arguments.length,i=new Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return i.reduce((d,u)=>({...d,top:d.top+e*u.y,bottom:d.bottom+e*u.y,left:d.left+e*u.x,right:d.right+e*u.x}),{...n})}}const j4=w4(1);function $0(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function N4(e,t,n){const s=$0(t);if(!s)return e;const{scaleX:i,scaleY:l,x:d,y:u}=s,f=e.left-d-(1-i)*parseFloat(n),h=e.top-u-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=i?e.width/i:e.width,v=l?e.height/l:e.height;return{width:g,height:v,top:h,right:f+g,bottom:h+v,left:f}}const k4={ignoreTransform:!1};function Os(e,t){t===void 0&&(t=k4);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:g}=ln(e).getComputedStyle(e);h&&(n=N4(n,h,g))}const{top:s,left:i,width:l,height:d,bottom:u,right:f}=n;return{top:s,left:i,width:l,height:d,bottom:u,right:f}}function P0(e){return Os(e,{ignoreTransform:!0})}function S4(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function C4(e,t){return t===void 0&&(t=ln(e).getComputedStyle(e)),t.position==="fixed"}function E4(e,t){t===void 0&&(t=ln(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const l=t[i];return typeof l=="string"?n.test(l):!1})}function Jl(e,t){const n=[];function s(i){if(t!=null&&n.length>=t||!i)return n;if(Zu(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Ya(i)||j0(i)||n.includes(i))return n;const l=ln(e).getComputedStyle(i);return i!==e&&E4(i,l)&&n.push(i),C4(i,l)?n:s(i.parentNode)}return e?s(e):n}function M0(e){const[t]=Jl(e,1);return t??null}function Yu(e){return!Vl||!e?null:Ms(e)?e:Vu(e)?Zu(e)||e===Is(e).scrollingElement?window:Ya(e)?e:null:null}function I0(e){return Ms(e)?e.scrollX:e.scrollLeft}function L0(e){return Ms(e)?e.scrollY:e.scrollTop}function Ku(e){return{x:I0(e),y:L0(e)}}var At;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(At||(At={}));function O0(e){return!Vl||!e?!1:e===document.scrollingElement}function A0(e){const t={x:0,y:0},n=O0(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,d=e.scrollTop>=s.y,u=e.scrollLeft>=s.x;return{isTop:i,isLeft:l,isBottom:d,isRight:u,maxScroll:s,minScroll:t}}const _4={x:.2,y:.2};function R4(e,t,n,s,i){let{top:l,left:d,right:u,bottom:f}=n;s===void 0&&(s=10),i===void 0&&(i=_4);const{isTop:h,isBottom:g,isLeft:v,isRight:x}=A0(e),b={x:0,y:0},k={x:0,y:0},N={height:t.height*i.y,width:t.width*i.x};return!h&&l<=t.top+N.height?(b.y=At.Backward,k.y=s*Math.abs((t.top+N.height-l)/N.height)):!g&&f>=t.bottom-N.height&&(b.y=At.Forward,k.y=s*Math.abs((t.bottom-N.height-f)/N.height)),!x&&u>=t.right-N.width?(b.x=At.Forward,k.x=s*Math.abs((t.right-N.width-u)/N.width)):!v&&d<=t.left+N.width&&(b.x=At.Backward,k.x=s*Math.abs((t.left+N.width-d)/N.width)),{direction:b,speed:k}}function z4(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:d}=window;return{top:0,left:0,right:l,bottom:d,width:l,height:d}}const{top:t,left:n,right:s,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:i,width:e.clientWidth,height:e.clientHeight}}function F0(e){return e.reduce((t,n)=>Ls(t,Ku(n)),ir)}function T4(e){return e.reduce((t,n)=>t+I0(n),0)}function D4(e){return e.reduce((t,n)=>t+L0(n),0)}function W0(e,t){if(t===void 0&&(t=Os),!e)return;const{top:n,left:s,bottom:i,right:l}=t(e);M0(e)&&(i<=0||l<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const $4=[["x",["left","right"],T4],["y",["top","bottom"],D4]];class Xu{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Jl(n),i=F0(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,d,u]of $4)for(const f of d)Object.defineProperty(this,f,{get:()=>{const h=u(s),g=i[l]-h;return this.rect[f]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ei{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var i;(i=this.target)==null||i.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function P4(e){const{EventTarget:t}=ln(e);return e instanceof t?e:Is(e)}function Ju(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var Bn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Bn||(Bn={}));function H0(e){e.preventDefault()}function M4(e){e.stopPropagation()}var Fe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Fe||(Fe={}));const B0={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter,Fe.Tab]},I4=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Fe.Right:return{...n,x:n.x+25};case Fe.Left:return{...n,x:n.x-25};case Fe.Down:return{...n,y:n.y+25};case Fe.Up:return{...n,y:n.y-25}}};class Qu{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ei(Is(n)),this.windowListeners=new ei(ln(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Bn.Resize,this.handleCancel),this.windowListeners.add(Bn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Bn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&W0(s),n(ir)}handleKeyDown(t){if(Yl(t)){const{active:n,context:s,options:i}=this.props,{keyboardCodes:l=B0,coordinateGetter:d=I4,scrollBehavior:u="smooth"}=i,{code:f}=t;if(l.end.includes(f)){this.handleEnd(t);return}if(l.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:h}=s.current,g=h?{x:h.left,y:h.top}:ir;this.referenceCoordinates||(this.referenceCoordinates=g);const v=d(t,{active:n,context:s.current,currentCoordinates:g});if(v){const x=Qa(v,g),b={x:0,y:0},{scrollableAncestors:k}=s.current;for(const N of k){const S=t.code,{isTop:C,isRight:_,isLeft:w,isBottom:R,maxScroll:P,minScroll:I}=A0(N),O=z4(N),M={x:Math.min(S===Fe.Right?O.right-O.width/2:O.right,Math.max(S===Fe.Right?O.left:O.left+O.width/2,v.x)),y:Math.min(S===Fe.Down?O.bottom-O.height/2:O.bottom,Math.max(S===Fe.Down?O.top:O.top+O.height/2,v.y))},B=S===Fe.Right&&!_||S===Fe.Left&&!w,V=S===Fe.Down&&!R||S===Fe.Up&&!C;if(B&&M.x!==v.x){const oe=N.scrollLeft+x.x,ue=S===Fe.Right&&oe<=P.x||S===Fe.Left&&oe>=I.x;if(ue&&!x.y){N.scrollTo({left:oe,behavior:u});return}ue?b.x=N.scrollLeft-oe:b.x=S===Fe.Right?N.scrollLeft-P.x:N.scrollLeft-I.x,b.x&&N.scrollBy({left:-b.x,behavior:u});break}else if(V&&M.y!==v.y){const oe=N.scrollTop+x.y,ue=S===Fe.Down&&oe<=P.y||S===Fe.Up&&oe>=I.y;if(ue&&!x.x){N.scrollTo({top:oe,behavior:u});return}ue?b.y=N.scrollTop-oe:b.y=S===Fe.Down?N.scrollTop-P.y:N.scrollTop-I.y,b.y&&N.scrollBy({top:-b.y,behavior:u});break}}this.handleMove(t,Ls(Qa(v,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Qu.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=B0,onActivation:i}=t,{active:l}=n;const{code:d}=e.nativeEvent;if(s.start.includes(d)){const u=l.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function U0(e){return!!(e&&"distance"in e)}function V0(e){return!!(e&&"delay"in e)}class ef{constructor(t,n,s){var i;s===void 0&&(s=P4(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:d}=l;this.props=t,this.events=n,this.document=Is(d),this.documentListeners=new ei(this.document),this.listeners=new ei(s),this.windowListeners=new ei(ln(d)),this.initialCoordinates=(i=Kl(l))!=null?i:ir,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Bn.Resize,this.handleCancel),this.windowListeners.add(Bn.DragStart,H0),this.windowListeners.add(Bn.VisibilityChange,this.handleCancel),this.windowListeners.add(Bn.ContextMenu,H0),this.documentListeners.add(Bn.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(V0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(U0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:i}=this.props;i(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Bn.Click,M4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Bn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:i,props:l}=this,{onMove:d,options:{activationConstraint:u}}=l;if(!i)return;const f=(n=Kl(t))!=null?n:ir,h=Qa(i,f);if(!s&&u){if(U0(u)){if(u.tolerance!=null&&Ju(h,u.tolerance))return this.handleCancel();if(Ju(h,u.distance))return this.handleStart()}if(V0(u)&&Ju(h,u.tolerance))return this.handleCancel();this.handlePending(u,h);return}t.cancelable&&t.preventDefault(),d(f)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const L4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class tf extends ef{constructor(t){const{event:n}=t,s=Is(n.target);super(t,L4,s)}}tf.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const O4={move:{name:"mousemove"},end:{name:"mouseup"}};var nf;(function(e){e[e.RightClick=2]="RightClick"})(nf||(nf={}));class A4 extends ef{constructor(t){super(t,O4,Is(t.event.target))}}A4.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===nf.RightClick?!1:(s?.({event:n}),!0)}}];const rf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class F4 extends ef{constructor(t){super(t,rf)}static setup(){return window.addEventListener(rf.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(rf.move.name,t)};function t(){}}}F4.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:i}=n;return i.length>1?!1:(s?.({event:n}),!0)}}];var ti;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ti||(ti={}));var Ql;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ql||(Ql={}));function W4(e){let{acceleration:t,activator:n=ti.Pointer,canScroll:s,draggingRect:i,enabled:l,interval:d=5,order:u=Ql.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:g,delta:v,threshold:x}=e;const b=B4({delta:v,disabled:!l}),[k,N]=t4(),S=m.useRef({x:0,y:0}),C=m.useRef({x:0,y:0}),_=m.useMemo(()=>{switch(n){case ti.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case ti.DraggableRect:return i}},[n,i,f]),w=m.useRef(null),R=m.useCallback(()=>{const I=w.current;if(!I)return;const O=S.current.x*C.current.x,M=S.current.y*C.current.y;I.scrollBy(O,M)},[]),P=m.useMemo(()=>u===Ql.TreeOrder?[...h].reverse():h,[u,h]);m.useEffect(()=>{if(!l||!h.length||!_){N();return}for(const I of P){if(s?.(I)===!1)continue;const O=h.indexOf(I),M=g[O];if(!M)continue;const{direction:B,speed:V}=R4(I,M,_,t,x);for(const oe of["x","y"])b[oe][B[oe]]||(V[oe]=0,B[oe]=0);if(V.x>0||V.y>0){N(),w.current=I,k(R,d),S.current=V,C.current=B;return}}S.current={x:0,y:0},C.current={x:0,y:0},N()},[t,R,s,N,l,d,JSON.stringify(_),JSON.stringify(b),k,h,P,g,JSON.stringify(x)])}const H4={x:{[At.Backward]:!1,[At.Forward]:!1},y:{[At.Backward]:!1,[At.Forward]:!1}};function B4(e){let{delta:t,disabled:n}=e;const s=Gl(t);return Xa(i=>{if(n||!s||!i)return H4;const l={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[At.Backward]:i.x[At.Backward]||l.x===-1,[At.Forward]:i.x[At.Forward]||l.x===1},y:{[At.Backward]:i.y[At.Backward]||l.y===-1,[At.Forward]:i.y[At.Forward]||l.y===1}}},[n,t,s])}function U4(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Xa(i=>{var l;return t==null?null:(l=s??i)!=null?l:null},[s,t])}function V4(e,t){return m.useMemo(()=>e.reduce((n,s)=>{const{sensor:i}=s,l=i.activators.map(d=>({eventName:d.eventName,handler:t(d.handler,s)}));return[...n,...l]},[]),[e,t])}var ni;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ni||(ni={}));var of;(function(e){e.Optimized="optimized"})(of||(of={}));const Z0=new Map;function Z4(e,t){let{dragging:n,dependencies:s,config:i}=t;const[l,d]=m.useState(null),{frequency:u,measure:f,strategy:h}=i,g=m.useRef(e),v=S(),x=Ka(v),b=m.useCallback(function(C){C===void 0&&(C=[]),!x.current&&d(_=>_===null?C:_.concat(C.filter(w=>!_.includes(w))))},[x]),k=m.useRef(null),N=Xa(C=>{if(v&&!n)return Z0;if(!C||C===Z0||g.current!==e||l!=null){const _=new Map;for(let w of e){if(!w)continue;if(l&&l.length>0&&!l.includes(w.id)&&w.rect.current){_.set(w.id,w.rect.current);continue}const R=w.node.current,P=R?new Xu(f(R),R):null;w.rect.current=P,P&&_.set(w.id,P)}return _}return C},[e,l,n,v,f]);return m.useEffect(()=>{g.current=e},[e]),m.useEffect(()=>{v||b()},[n,v]),m.useEffect(()=>{l&&l.length>0&&d(null)},[JSON.stringify(l)]),m.useEffect(()=>{v||typeof u!="number"||k.current!==null||(k.current=setTimeout(()=>{b(),k.current=null},u))},[u,v,b,...s]),{droppableRects:N,measureDroppableContainers:b,measuringScheduled:l!=null};function S(){switch(h){case ni.Always:return!1;case ni.BeforeDragging:return n;default:return!n}}}function sf(e,t){return Xa(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function q4(e,t){return sf(e,t)}function G4(e){let{callback:t,disabled:n}=e;const s=Zl(t),i=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,n]);return m.useEffect(()=>()=>i?.disconnect(),[i]),i}function ec(e){let{callback:t,disabled:n}=e;const s=Zl(t),i=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[n]);return m.useEffect(()=>()=>i?.disconnect(),[i]),i}function Y4(e){return new Xu(Os(e),e)}function q0(e,t,n){t===void 0&&(t=Y4);const[s,i]=m.useState(null);function l(){i(f=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=f??n)!=null?h:null}const g=t(e);return JSON.stringify(f)===JSON.stringify(g)?f:g})}const d=G4({callback(f){if(e)for(const h of f){const{type:g,target:v}=h;if(g==="childList"&&v instanceof HTMLElement&&v.contains(e)){l();break}}}}),u=ec({callback:l});return ar(()=>{l(),e?(u?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),d?.disconnect())},[e]),s}function K4(e){const t=sf(e);return D0(e,t)}const G0=[];function X4(e){const t=m.useRef(e),n=Xa(s=>e?s&&s!==G0&&e&&t.current&&e.parentNode===t.current.parentNode?s:Jl(e):G0,[e]);return m.useEffect(()=>{t.current=e},[e]),n}function J4(e){const[t,n]=m.useState(null),s=m.useRef(e),i=m.useCallback(l=>{const d=Yu(l.target);d&&n(u=>u?(u.set(d,Ku(d)),new Map(u)):null)},[]);return m.useEffect(()=>{const l=s.current;if(e!==l){d(l);const u=e.map(f=>{const h=Yu(f);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,Ku(h)]):null}).filter(f=>f!=null);n(u.length?new Map(u):null),s.current=e}return()=>{d(e),d(l)};function d(u){u.forEach(f=>{const h=Yu(f);h?.removeEventListener("scroll",i)})}},[i,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,d)=>Ls(l,d),ir):F0(e):ir,[e,t])}function Y0(e,t){t===void 0&&(t=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},t),m.useEffect(()=>{const s=e!==ir;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Qa(e,n.current):ir}function Q4(e){m.useEffect(()=>{if(!Vl)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function e5(e,t){return m.useMemo(()=>e.reduce((n,s)=>{let{eventName:i,handler:l}=s;return n[i]=d=>{l(d,t)},n},{}),[e,t])}function K0(e){return m.useMemo(()=>e?S4(e):null,[e])}const X0=[];function t5(e,t){t===void 0&&(t=Os);const[n]=e,s=K0(n?ln(n):null),[i,l]=m.useState(X0);function d(){l(()=>e.length?e.map(f=>O0(f)?s:new Xu(t(f),f)):X0)}const u=ec({callback:d});return ar(()=>{u?.disconnect(),d(),e.forEach(f=>u?.observe(f))},[e]),i}function J0(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ya(t)?t:e}function n5(e){let{measure:t}=e;const[n,s]=m.useState(null),i=m.useCallback(h=>{for(const{target:g}of h)if(Ya(g)){s(v=>{const x=t(g);return v?{...v,width:x.width,height:x.height}:x});break}},[t]),l=ec({callback:i}),d=m.useCallback(h=>{const g=J0(h);l?.disconnect(),g&&l?.observe(g),s(g?t(g):null)},[t,l]),[u,f]=ql(d);return m.useMemo(()=>({nodeRef:u,rect:n,setRef:f}),[n,u,f])}const r5=[{sensor:tf,options:{}},{sensor:Qu,options:{}}],o5={current:{}},tc={draggable:{measure:P0},droppable:{measure:P0,strategy:ni.WhileDragging,frequency:of.Optimized},dragOverlay:{measure:Os}};class ri extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const s5={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ri,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tc,measureDroppableContainers:Xl,windowRect:null,measuringScheduled:!1},Q0={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xl,draggableNodes:new Map,over:null,measureDroppableContainers:Xl},oi=m.createContext(Q0),ex=m.createContext(s5);function a5(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ri}}}function i5(e,t){switch(t.type){case $t.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case $t.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case $t.DragEnd:case $t.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $t.RegisterDroppable:{const{element:n}=t,{id:s}=n,i=new ri(e.droppable.containers);return i.set(s,n),{...e,droppable:{...e.droppable,containers:i}}}case $t.SetDroppableDisabled:{const{id:n,key:s,disabled:i}=t,l=e.droppable.containers.get(n);if(!l||s!==l.key)return e;const d=new ri(e.droppable.containers);return d.set(n,{...l,disabled:i}),{...e,droppable:{...e.droppable,containers:d}}}case $t.UnregisterDroppable:{const{id:n,key:s}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const l=new ri(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function l5(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:i}=m.useContext(oi),l=Gl(s),d=Gl(n?.id);return m.useEffect(()=>{if(!t&&!s&&l&&d!=null){if(!Yl(l)||document.activeElement===l.target)return;const u=i.get(d);if(!u)return;const{activatorNode:f,node:h}=u;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[f.current,h.current]){if(!g)continue;const v=o4(g);if(v){v.focus();break}}})}},[s,t,i,d,l]),null}function tx(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((i,l)=>l({transform:i,...s}),n):n}function c5(e){return m.useMemo(()=>({draggable:{...tc.draggable,...e?.draggable},droppable:{...tc.droppable,...e?.droppable},dragOverlay:{...tc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function d5(e){let{activeNode:t,measure:n,initialRect:s,config:i=!0}=e;const l=m.useRef(!1),{x:d,y:u}=typeof i=="boolean"?{x:i,y:i}:i;ar(()=>{if(!d&&!u||!t){l.current=!1;return}if(l.current||!s)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const g=n(h),v=D0(g,s);if(d||(v.x=0),u||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const x=M0(h);x&&x.scrollBy({top:v.y,left:v.x})}},[t,d,u,s,n])}const nc=m.createContext({...ir,scaleX:1,scaleY:1});var mo;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(mo||(mo={}));const af=m.memo(function(t){var n,s,i,l;let{id:d,accessibility:u,autoScroll:f=!0,children:h,sensors:g=r5,collisionDetection:v=v4,measuring:x,modifiers:b,...k}=t;const N=m.useReducer(i5,void 0,a5),[S,C]=N,[_,w]=d4(),[R,P]=m.useState(mo.Uninitialized),I=R===mo.Initialized,{draggable:{active:O,nodes:M,translate:B},droppable:{containers:V}}=S,oe=O!=null?M.get(O):null,ue=m.useRef({initial:null,translated:null}),Ne=m.useMemo(()=>{var ft;return O!=null?{id:O,data:(ft=oe?.data)!=null?ft:o5,rect:ue}:null},[O,oe]),re=m.useRef(null),[ke,ae]=m.useState(null),[ne,F]=m.useState(null),K=Ka(k,Object.values(k)),Y=Ja("DndDescribedBy",d),z=m.useMemo(()=>V.getEnabled(),[V]),T=c5(x),{droppableRects:q,measureDroppableContainers:G,measuringScheduled:J}=Z4(z,{dragging:I,dependencies:[B.x,B.y],config:T.droppable}),xe=U4(M,O),U=m.useMemo(()=>ne?Kl(ne):null,[ne]),ge=Xt(),ze=q4(xe,T.draggable.measure);d5({activeNode:O!=null?M.get(O):null,config:ge.layoutShiftCompensation,initialRect:ze,measure:T.draggable.measure});const Ee=q0(xe,T.draggable.measure,ze),rt=q0(xe?xe.parentElement:null),qe=m.useRef({activatorEvent:null,active:null,activeNode:xe,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ot=V.getNodeFor((n=qe.current.over)==null?void 0:n.id),Xe=n5({measure:T.dragOverlay.measure}),Ct=(s=Xe.nodeRef.current)!=null?s:xe,Kt=I?(i=Xe.rect)!=null?i:Ee:null,nn=!!(Xe.nodeRef.current&&Xe.rect),cn=K4(nn?null:Ee),le=K0(Ct?ln(Ct):null),de=X4(I?ot??xe:null),he=t5(de),Ie=tx(b,{transform:{x:B.x-cn.x,y:B.y-cn.y,scaleX:1,scaleY:1},activatorEvent:ne,active:Ne,activeNodeRect:Ee,containerNodeRect:rt,draggingNodeRect:Kt,over:qe.current.over,overlayNodeRect:Xe.rect,scrollableAncestors:de,scrollableAncestorRects:he,windowRect:le}),Je=U?Ls(U,B):null,We=J4(de),me=Y0(We),xt=Y0(We,[Ee]),tt=Ls(Ie,me),Qe=Kt?j4(Kt,Ie):null,zn=Ne&&Qe?v({active:Ne,collisionRect:Qe,droppableRects:q,droppableContainers:z,pointerCoordinates:Je}):null,dn=z0(zn,"id"),[Rt,_r]=m.useState(null),ci=nn?Ie:Ls(Ie,xt),di=b4(ci,(l=Rt?.rect)!=null?l:null,Ee),Jo=m.useRef(null),go=m.useCallback((ft,Pt)=>{let{sensor:Nt,options:yt}=Pt;if(re.current==null)return;const pt=M.get(re.current);if(!pt)return;const zt=ft.nativeEvent,Mt=new Nt({active:re.current,activeNode:pt,event:zt,options:yt,context:qe,onAbort(Ke){if(!M.get(Ke))return;const{onDragAbort:It}=K.current,vn={id:Ke};It?.(vn),_({type:"onDragAbort",event:vn})},onPending(Ke,un,It,vn){if(!M.get(Ke))return;const{onDragPending:fn}=K.current,vt={id:Ke,constraint:un,initialCoordinates:It,offset:vn};fn?.(vt),_({type:"onDragPending",event:vt})},onStart(Ke){const un=re.current;if(un==null)return;const It=M.get(un);if(!It)return;const{onDragStart:vn}=K.current,Jt={activatorEvent:zt,active:{id:un,data:It.data,rect:ue}};Oo.unstable_batchedUpdates(()=>{vn?.(Jt),P(mo.Initializing),C({type:$t.DragStart,initialCoordinates:Ke,active:un}),_({type:"onDragStart",event:Jt}),ae(Jo.current),F(zt)})},onMove(Ke){C({type:$t.DragMove,coordinates:Ke})},onEnd:Tn($t.DragEnd),onCancel:Tn($t.DragCancel)});Jo.current=Mt;function Tn(Ke){return async function(){const{active:It,collisions:vn,over:Jt,scrollAdjustedTranslate:fn}=qe.current;let vt=null;if(It&&fn){const{cancelDrop:Ft}=K.current;vt={activatorEvent:zt,active:It,collisions:vn,delta:fn,over:Jt},Ke===$t.DragEnd&&typeof Ft=="function"&&await Promise.resolve(Ft(vt))&&(Ke=$t.DragCancel)}re.current=null,Oo.unstable_batchedUpdates(()=>{C({type:Ke}),P(mo.Uninitialized),_r(null),ae(null),F(null),Jo.current=null;const Ft=Ke===$t.DragEnd?"onDragEnd":"onDragCancel";if(vt){const Js=K.current[Ft];Js?.(vt),_({type:Ft,event:vt})}})}}},[M]),Rr=m.useCallback((ft,Pt)=>(Nt,yt)=>{const pt=Nt.nativeEvent,zt=M.get(yt);if(re.current!==null||!zt||pt.dndKit||pt.defaultPrevented)return;const Mt={active:zt};ft(Nt,Pt.options,Mt)===!0&&(pt.dndKit={capturedBy:Pt.sensor},re.current=yt,go(Nt,Pt))},[M,go]),zr=V4(g,Rr);Q4(g),ar(()=>{Ee&&R===mo.Initializing&&P(mo.Initialized)},[Ee,R]),m.useEffect(()=>{const{onDragMove:ft}=K.current,{active:Pt,activatorEvent:Nt,collisions:yt,over:pt}=qe.current;if(!Pt||!Nt)return;const zt={active:Pt,activatorEvent:Nt,collisions:yt,delta:{x:tt.x,y:tt.y},over:pt};Oo.unstable_batchedUpdates(()=>{ft?.(zt),_({type:"onDragMove",event:zt})})},[tt.x,tt.y]),m.useEffect(()=>{const{active:ft,activatorEvent:Pt,collisions:Nt,droppableContainers:yt,scrollAdjustedTranslate:pt}=qe.current;if(!ft||re.current==null||!Pt||!pt)return;const{onDragOver:zt}=K.current,Mt=yt.get(dn),Tn=Mt&&Mt.rect.current?{id:Mt.id,rect:Mt.rect.current,data:Mt.data,disabled:Mt.disabled}:null,Ke={active:ft,activatorEvent:Pt,collisions:Nt,delta:{x:pt.x,y:pt.y},over:Tn};Oo.unstable_batchedUpdates(()=>{_r(Tn),zt?.(Ke),_({type:"onDragOver",event:Ke})})},[dn]),ar(()=>{qe.current={activatorEvent:ne,active:Ne,activeNode:xe,collisionRect:Qe,collisions:zn,droppableRects:q,draggableNodes:M,draggingNode:Ct,draggingNodeRect:Kt,droppableContainers:V,over:Rt,scrollableAncestors:de,scrollAdjustedTranslate:tt},ue.current={initial:Kt,translated:Qe}},[Ne,xe,zn,Qe,M,Ct,Kt,q,V,Rt,de,tt]),W4({...ge,delta:B,draggingRect:Qe,pointerCoordinates:Je,scrollableAncestors:de,scrollableAncestorRects:he});const xo=m.useMemo(()=>({active:Ne,activeNode:xe,activeNodeRect:Ee,activatorEvent:ne,collisions:zn,containerNodeRect:rt,dragOverlay:Xe,draggableNodes:M,droppableContainers:V,droppableRects:q,over:Rt,measureDroppableContainers:G,scrollableAncestors:de,scrollableAncestorRects:he,measuringConfiguration:T,measuringScheduled:J,windowRect:le}),[Ne,xe,Ee,ne,zn,rt,Xe,M,V,q,Rt,G,de,he,T,J,le]),Ye=m.useMemo(()=>({activatorEvent:ne,activators:zr,active:Ne,activeNodeRect:Ee,ariaDescribedById:{draggable:Y},dispatch:C,draggableNodes:M,over:Rt,measureDroppableContainers:G}),[ne,zr,Ne,Ee,C,Y,M,Rt,G]);return $e.createElement(S0.Provider,{value:w},$e.createElement(oi.Provider,{value:Ye},$e.createElement(ex.Provider,{value:xo},$e.createElement(nc.Provider,{value:di},h)),$e.createElement(l5,{disabled:u?.restoreFocus===!1})),$e.createElement(p4,{...u,hiddenTextDescribedById:Y}));function Xt(){const ft=ke?.autoScrollEnabled===!1,Pt=typeof f=="object"?f.enabled===!1:f===!1,Nt=I&&!ft&&!Pt;return typeof f=="object"?{...f,enabled:Nt}:{enabled:Nt}}}),u5=m.createContext(null),nx="button",f5="Draggable";function lf(e){let{id:t,data:n,disabled:s=!1,attributes:i}=e;const l=Ja(f5),{activators:d,activatorEvent:u,active:f,activeNodeRect:h,ariaDescribedById:g,draggableNodes:v,over:x}=m.useContext(oi),{role:b=nx,roleDescription:k="draggable",tabIndex:N=0}=i??{},S=f?.id===t,C=m.useContext(S?nc:u5),[_,w]=ql(),[R,P]=ql(),I=e5(d,t),O=Ka(n);ar(()=>(v.set(t,{id:t,key:l,node:_,activatorNode:R,data:O}),()=>{const B=v.get(t);B&&B.key===l&&v.delete(t)}),[v,t]);const M=m.useMemo(()=>({role:b,tabIndex:N,"aria-disabled":s,"aria-pressed":S&&b===nx?!0:void 0,"aria-roledescription":k,"aria-describedby":g.draggable}),[s,b,N,S,k,g.draggable]);return{active:f,activatorEvent:u,activeNodeRect:h,attributes:M,isDragging:S,listeners:s?void 0:I,node:_,over:x,setNodeRef:w,setActivatorNodeRef:P,transform:C}}function rx(){return m.useContext(ex)}const p5="Droppable",m5={timeout:25};function lr(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:i}=e;const l=Ja(p5),{active:d,dispatch:u,over:f,measureDroppableContainers:h}=m.useContext(oi),g=m.useRef({disabled:n}),v=m.useRef(!1),x=m.useRef(null),b=m.useRef(null),{disabled:k,updateMeasurementsFor:N,timeout:S}={...m5,...i},C=Ka(N??s),_=m.useCallback(()=>{if(!v.current){v.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{h(Array.isArray(C.current)?C.current:[C.current]),b.current=null},S)},[S]),w=ec({callback:_,disabled:k||!d}),R=m.useCallback((M,B)=>{w&&(B&&(w.unobserve(B),v.current=!1),M&&w.observe(M))},[w]),[P,I]=ql(R),O=Ka(t);return m.useEffect(()=>{!w||!P.current||(w.disconnect(),v.current=!1,w.observe(P.current))},[P,w]),m.useEffect(()=>(u({type:$t.RegisterDroppable,element:{id:s,key:l,disabled:n,node:P,rect:x,data:O}}),()=>u({type:$t.UnregisterDroppable,key:l,id:s})),[s]),m.useEffect(()=>{n!==g.current.disabled&&(u({type:$t.SetDroppableDisabled,id:s,key:l,disabled:n}),g.current.disabled=n)},[s,l,n,u]),{active:d,rect:x,isOver:f?.id===s,node:P,over:f,setNodeRef:I}}function h5(e){let{animation:t,children:n}=e;const[s,i]=m.useState(null),[l,d]=m.useState(null),u=Gl(n);return!n&&!s&&u&&i(u),ar(()=>{if(!l)return;const f=s?.key,h=s?.props.id;if(f==null||h==null){i(null);return}Promise.resolve(t(h,l)).then(()=>{i(null)})},[t,s,l]),$e.createElement($e.Fragment,null,n,s?m.cloneElement(s,{ref:d}):null)}const g5={x:0,y:0,scaleX:1,scaleY:1};function x5(e){let{children:t}=e;return $e.createElement(oi.Provider,{value:Q0},$e.createElement(nc.Provider,{value:g5},t))}const y5={position:"fixed",touchAction:"none"},v5=e=>Yl(e)?"transform 250ms ease":void 0,b5=m.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:i,children:l,className:d,rect:u,style:f,transform:h,transition:g=v5}=e;if(!u)return null;const v=i?h:{...h,scaleX:1,scaleY:1},x={...y5,width:u.width,height:u.height,top:u.top,left:u.left,transform:Sr.Transform.toString(v),transformOrigin:i&&s?h4(s,u):void 0,transition:typeof g=="function"?g(s):g,...f};return $e.createElement(n,{className:d,style:x,ref:t},l)}),w5={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Sr.Transform.toString(t)},{transform:Sr.Transform.toString(n)}]},sideEffects:(e=>t=>{let{active:n,dragOverlay:s}=t;const i={},{styles:l,className:d}=e;if(l!=null&&l.active)for(const[u,f]of Object.entries(l.active))f!==void 0&&(i[u]=n.node.style.getPropertyValue(u),n.node.style.setProperty(u,f));if(l!=null&&l.dragOverlay)for(const[u,f]of Object.entries(l.dragOverlay))f!==void 0&&s.node.style.setProperty(u,f);return d!=null&&d.active&&n.node.classList.add(d.active),d!=null&&d.dragOverlay&&s.node.classList.add(d.dragOverlay),function(){for(const[f,h]of Object.entries(i))n.node.style.setProperty(f,h);d!=null&&d.active&&n.node.classList.remove(d.active)}})({styles:{active:{opacity:"0"}}})};function j5(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:i}=e;return Zl((l,d)=>{if(t===null)return;const u=n.get(l);if(!u)return;const f=u.node.current;if(!f)return;const h=J0(d);if(!h)return;const{transform:g}=ln(d).getComputedStyle(d),v=$0(g);if(!v)return;const x=typeof t=="function"?t:N5(t);return W0(f,i.draggable.measure),x({active:{id:l,data:u.data,node:f,rect:i.draggable.measure(f)},draggableNodes:n,dragOverlay:{node:d,rect:i.dragOverlay.measure(h)},droppableContainers:s,measuringConfiguration:i,transform:v})})}function N5(e){const{duration:t,easing:n,sideEffects:s,keyframes:i}={...w5,...e};return l=>{let{active:d,dragOverlay:u,transform:f,...h}=l;if(!t)return;const g={x:u.rect.left-d.rect.left,y:u.rect.top-d.rect.top},v={scaleX:f.scaleX!==1?d.rect.width*f.scaleX/u.rect.width:1,scaleY:f.scaleY!==1?d.rect.height*f.scaleY/u.rect.height:1},x={x:f.x-g.x,y:f.y-g.y,...v},b=i({...h,active:d,dragOverlay:u,transform:{initial:f,final:x}}),[k]=b,N=b[b.length-1];if(JSON.stringify(k)===JSON.stringify(N))return;const S=s?.({active:d,dragOverlay:u,...h}),C=u.node.animate(b,{duration:t,easing:n,fill:"forwards"});return new Promise(_=>{C.onfinish=()=>{S?.(),_()}})}}let ox=0;function k5(e){return m.useMemo(()=>{if(e!=null)return ox++,ox},[e])}const sx=$e.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:i,transition:l,modifiers:d,wrapperElement:u="div",className:f,zIndex:h=999}=e;const{activatorEvent:g,active:v,activeNodeRect:x,containerNodeRect:b,draggableNodes:k,droppableContainers:N,dragOverlay:S,over:C,measuringConfiguration:_,scrollableAncestors:w,scrollableAncestorRects:R,windowRect:P}=rx(),I=m.useContext(nc),O=k5(v?.id),M=tx(d,{activatorEvent:g,active:v,activeNodeRect:x,containerNodeRect:b,draggingNodeRect:S.rect,over:C,overlayNodeRect:S.rect,scrollableAncestors:w,scrollableAncestorRects:R,transform:I,windowRect:P}),B=sf(x),V=j5({config:s,draggableNodes:k,droppableContainers:N,measuringConfiguration:_}),oe=B?S.setRef:void 0;return $e.createElement(x5,null,$e.createElement(h5,{animation:V},v&&O?$e.createElement(b5,{key:O,id:v.id,ref:oe,as:u,activatorEvent:g,adjustScale:t,className:f,transition:l,rect:B,style:{zIndex:h,...i},transform:M},n):null))});function ax(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function S5(e,t){return e.reduce((n,s,i)=>{const l=t.get(s);return l&&(n[i]=l),n},Array(e.length))}function rc(e){return e!==null&&e>=0}function C5(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function E5(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const ix=e=>{let{rects:t,activeIndex:n,overIndex:s,index:i}=e;const l=ax(t,s,n),d=t[i],u=l[i];return!u||!d?null:{x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height}},oc={scaleX:1,scaleY:1},cf=e=>{var t;let{activeIndex:n,activeNodeRect:s,index:i,rects:l,overIndex:d}=e;const u=(t=l[n])!=null?t:s;if(!u)return null;if(i===n){const h=l[d];return h?{x:0,y:n<d?h.top+h.height-(u.top+u.height):h.top-u.top,...oc}:null}const f=_5(l,i,n);return i>n&&i<=d?{x:0,y:-u.height-f,...oc}:i<n&&i>=d?{x:0,y:u.height+f,...oc}:{x:0,y:0,...oc}};function _5(e,t,n){const s=e[t],i=e[t-1],l=e[t+1];return s?n<t?i?s.top-(i.top+i.height):l?l.top-(s.top+s.height):0:l?l.top-(s.top+s.height):i?s.top-(i.top+i.height):0:0}const lx="Sortable",cx=$e.createContext({activeIndex:-1,containerId:lx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ix,disabled:{draggable:!1,droppable:!1}});function df(e){let{children:t,id:n,items:s,strategy:i=ix,disabled:l=!1}=e;const{active:d,dragOverlay:u,droppableRects:f,over:h,measureDroppableContainers:g}=rx(),v=Ja(lx,n),x=u.rect!==null,b=m.useMemo(()=>s.map(I=>typeof I=="object"&&"id"in I?I.id:I),[s]),k=d!=null,N=d?b.indexOf(d.id):-1,S=h?b.indexOf(h.id):-1,C=m.useRef(b),_=!C5(b,C.current),w=S!==-1&&N===-1||_,R=E5(l);ar(()=>{_&&k&&g(b)},[_,b,k,g]),m.useEffect(()=>{C.current=b},[b]);const P=m.useMemo(()=>({activeIndex:N,containerId:v,disabled:R,disableTransforms:w,items:b,overIndex:S,useDragOverlay:x,sortedRects:S5(b,f),strategy:i}),[N,v,R.draggable,R.droppable,w,b,S,f,x,i]);return $e.createElement(cx.Provider,{value:P},t)}const R5=e=>{let{id:t,items:n,activeIndex:s,overIndex:i}=e;return ax(n,s,i).indexOf(t)},z5=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:i,items:l,newIndex:d,previousItems:u,previousContainerId:f,transition:h}=e;return!h||!s||u!==l&&i===d?!1:n?!0:d!==i&&t===f},T5={duration:200,easing:"ease"},dx="transform",D5=Sr.Transition.toString({property:dx,duration:0,easing:"linear"}),$5={roleDescription:"sortable"};function P5(e){let{disabled:t,index:n,node:s,rect:i}=e;const[l,d]=m.useState(null),u=m.useRef(n);return ar(()=>{if(!t&&n!==u.current&&s.current){const f=i.current;if(f){const h=Os(s.current,{ignoreTransform:!0}),g={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(g.x||g.y)&&d(g)}}n!==u.current&&(u.current=n)},[t,n,s,i]),m.useEffect(()=>{l&&d(null)},[l]),l}function uf(e){let{animateLayoutChanges:t=z5,attributes:n,disabled:s,data:i,getNewIndex:l=R5,id:d,strategy:u,resizeObserverConfig:f,transition:h=T5}=e;const{items:g,containerId:v,activeIndex:x,disabled:b,disableTransforms:k,sortedRects:N,overIndex:S,useDragOverlay:C,strategy:_}=m.useContext(cx),w=M5(s,b),R=g.indexOf(d),P=m.useMemo(()=>({sortable:{containerId:v,index:R,items:g},...i}),[v,i,R,g]),I=m.useMemo(()=>g.slice(g.indexOf(d)),[g,d]),{rect:O,node:M,isOver:B,setNodeRef:V}=lr({id:d,data:P,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...f}}),{active:oe,activatorEvent:ue,activeNodeRect:Ne,attributes:re,setNodeRef:ke,listeners:ae,isDragging:ne,over:F,setActivatorNodeRef:K,transform:Y}=lf({id:d,data:P,attributes:{...$5,...n},disabled:w.draggable}),z=e4(V,ke),T=!!oe,q=T&&!k&&rc(x)&&rc(S),G=!C&&ne,J=G&&q?Y:null,U=q?J??(u??_)({rects:N,activeNodeRect:Ne,activeIndex:x,overIndex:S,index:R}):null,ge=rc(x)&&rc(S)?l({id:d,items:g,activeIndex:x,overIndex:S}):R,ze=oe?.id,Ee=m.useRef({activeId:ze,items:g,newIndex:ge,containerId:v}),rt=g!==Ee.current.items,qe=t({active:oe,containerId:v,isDragging:ne,isSorting:T,id:d,index:R,items:g,newIndex:Ee.current.newIndex,previousItems:Ee.current.items,previousContainerId:Ee.current.containerId,transition:h,wasDragging:Ee.current.activeId!=null}),ot=P5({disabled:!qe,index:R,node:M,rect:O});return m.useEffect(()=>{T&&Ee.current.newIndex!==ge&&(Ee.current.newIndex=ge),v!==Ee.current.containerId&&(Ee.current.containerId=v),g!==Ee.current.items&&(Ee.current.items=g)},[T,ge,v,g]),m.useEffect(()=>{if(ze===Ee.current.activeId)return;if(ze&&!Ee.current.activeId){Ee.current.activeId=ze;return}const Ct=setTimeout(()=>{Ee.current.activeId=ze},50);return()=>clearTimeout(Ct)},[ze]),{active:oe,activeIndex:x,attributes:re,data:P,rect:O,index:R,newIndex:ge,items:g,isOver:B,isSorting:T,isDragging:ne,listeners:ae,node:M,overIndex:S,over:F,setNodeRef:z,setActivatorNodeRef:K,setDroppableNodeRef:V,setDraggableNodeRef:ke,transform:ot??U,transition:Xe()};function Xe(){if(ot||rt&&Ee.current.newIndex===R)return D5;if(!(G&&!Yl(ue)||!h)&&(T||qe))return Sr.Transition.toString({...h,property:dx})}}function M5(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(s=e?.droppable)!=null?s:t.droppable}}function sc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const I5=[Fe.Down,Fe.Right,Fe.Up,Fe.Left],L5=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:i,droppableContainers:l,over:d,scrollableAncestors:u}}=t;if(I5.includes(e.code)){if(e.preventDefault(),!n||!s)return;const f=[];l.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const x=i.get(v.id);if(x)switch(e.code){case Fe.Down:s.top<x.top&&f.push(v);break;case Fe.Up:s.top>x.top&&f.push(v);break;case Fe.Left:s.left>x.left&&f.push(v);break;case Fe.Right:s.left<x.left&&f.push(v);break}});const h=x4({collisionRect:s,droppableRects:i,droppableContainers:f});let g=z0(h,"id");if(g===d?.id&&h.length>1&&(g=h[1].id),g!=null){const v=l.get(n.id),x=l.get(g),b=x?i.get(x.id):null,k=x?.node.current;if(k&&b&&v&&x){const S=Jl(k).some((I,O)=>u[O]!==I),C=ux(v,x),_=O5(v,x),w=S||!C?{x:0,y:0}:{x:_?s.width-b.width:0,y:_?s.height-b.height:0},R={x:b.left,y:b.top};return w.x&&w.y?R:Qa(R,w)}}}};function ux(e,t){return!sc(e)||!sc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function O5(e,t){return!sc(e)||!sc(t)||!ux(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function fx({scheduledDate:e,schedule:t,className:n="",size:s="normal"}){const i=t?.enabled&&t?.schedules?.length>0;if(!e&&!i)return null;const l=s==="small";if(i&&!e){const u=t.schedules.length;return r.jsxs("div",{className:pe("inline-flex items-center gap-1",l?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",l?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(rr,{className:pe(l?"w-3 h-3":"w-4 h-4")}),r.jsxs("span",{className:"font-medium",children:[u," ",u===1?"Schedule":"Schedules"]})]})}const d=new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return r.jsxs("div",{className:pe("inline-flex items-center gap-1",l?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",l?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(rr,{className:pe(l?"w-3 h-3":"w-4 h-4")}),r.jsx("span",{className:"font-medium",children:"Scheduled"}),!l&&r.jsx("span",{className:"text-blue-500",children:""}),!l&&r.jsx("span",{children:d})]})}function A5({isOpen:e,onClose:t,onSchedule:n,currentSchedule:s}){const[i,l]=m.useState(s?.schedules||[]),[d,u]=m.useState(!1),[f,h]=m.useState(null),[g,v]=m.useState({});$e.useEffect(()=>{l(s?.schedules||[])},[s]);const x=()=>{const w={id:Date.now(),baseDate:"",daysOffset:"",executionMethod:"",time:"",offset:""};l([...i,w])},b=w=>{l(i.filter(R=>R.id!==w))},k=(w,R,P)=>{l(i.map(O=>O.id===w?{...O,[R]:P}:O));const I=`${w}_${R}`;g[I]&&v(O=>{const M={...O};return delete M[I],M})},N=(w,R)=>g[`${w}_${R}`]||null,S=(w,R)=>!!g[`${w}_${R}`],C=()=>{const w={};i.forEach((R,P)=>{const I=R.id;!R.daysOffset&&R.daysOffset!=="0"&&(w[`${I}_daysOffset`]="Days offset is required"),R.executionMethod||(w[`${I}_executionMethod`]="Execution method is required"),(R.executionMethod==="time"||R.executionMethod.includes("time"))&&!R.time&&(w[`${I}_time`]='Time is required for "time" execution method'),(R.executionMethod==="offset"||R.executionMethod.includes("offset"))&&!R.offset&&R.offset!=="0"&&(w[`${I}_offset`]='Offset is required for "offset" execution method'),R.baseDate&&!R.baseDate.includes("{")&&(/^\d{2}-\d{2}-\d{4}$/.test(R.baseDate)||(w[`${I}_baseDate`]="Base date must be in DD-MM-YYYY format"))}),v(w),!(Object.keys(w).length>0)&&(n({enabled:i.length>0,schedules:i}),t())},_=()=>{l(s?.schedules||[]),v({}),t()};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:_}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden pointer-events-auto flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Schedule Settings"}),r.jsx("button",{onClick:_,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(qt,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Schedules"}),r.jsxs("button",{onClick:x,className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[r.jsx(js,{className:"w-4 h-4"}),"Add Item"]})]}),r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg flex items-start gap-2",children:[r.jsx(mj,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-xs text-blue-800",children:[r.jsxs("p",{className:"font-medium mb-1",children:["You can use ","{tags}"," to retrieve form values"]}),r.jsxs("p",{children:["Examples: ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date}"}),", ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date;timestamp}"}),", ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{field_name}"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[i.map((w,R)=>r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Schedule ",R+1]}),r.jsx("button",{onClick:()=>b(w.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove schedule",children:r.jsx(qt,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Base date"}),w.baseDate&&w.baseDate.includes("{")&&r.jsx(lo,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.baseDate,onChange:P=>k(w.id,"baseDate",P.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",S(w.id,"baseDate")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"DD-MM-YYYY or {date;timestamp}"}),N(w.id,"baseDate")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"baseDate")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Days offset"}),w.daysOffset&&w.daysOffset.includes("{")&&r.jsx(lo,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.daysOffset,onChange:P=>k(w.id,"daysOffset",P.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",S(w.id,"daysOffset")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"0, 1, -1, or {tag}"}),N(w.id,"daysOffset")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"daysOffset")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Execution method"}),w.executionMethod&&w.executionMethod.includes("{")&&r.jsx(lo,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.executionMethod,onChange:P=>k(w.id,"executionMethod",P.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",S(w.id,"executionMethod")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"instant, time, offset, or {tag}"}),N(w.id,"executionMethod")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"executionMethod")})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[r.jsxs("p",{className:"mb-1",children:[r.jsx("strong",{children:"Base date:"})," Leave blank for submission date, or use DD-MM-YYYY format or ","{date;timestamp}"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Days offset:"})," 0 = same day, 1 = next day, -1 = previous day"]})]}),(w.executionMethod==="time"||w.executionMethod.includes("time"))&&r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Time (24h format)"}),w.time&&w.time.includes("{")&&r.jsx(lo,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.time||"",onChange:P=>k(w.id,"time",P.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",S(w.id,"time")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"14:30"}),N(w.id,"time")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"time")}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Use 24h format: 09:00, 14:30, 18:00 or ","{field_name}"]})]}),(w.executionMethod==="offset"||w.executionMethod.includes("offset"))&&r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Offset (in hours)"}),w.offset&&w.offset.includes("{")&&r.jsx(lo,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.offset||"0",onChange:P=>k(w.id,"offset",P.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",S(w.id,"offset")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"0"}),N(w.id,"offset")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"offset")}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"0 = instantly, 0.08 = 5 min, 0.5 = 30 min, 2 = 2 hours, -5 = 5 hours before"})]})]},w.id)),i.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(rr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{className:"text-sm",children:"No schedules configured"}),r.jsx("p",{className:"text-xs mt-1",children:'Click "Add Item" to create a schedule'})]})]})]}),r.jsxs("div",{className:"mt-8 border-t pt-6",children:[r.jsxs("button",{onClick:()=>u(!d),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:[d?r.jsx(gn,{className:"w-4 h-4"}):r.jsx(Wr,{className:"w-4 h-4"}),r.jsx(tj,{className:"w-4 h-4"}),"Documentation & Examples"]}),d&&r.jsxs("div",{className:"mt-4 space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Common Use Cases"}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(f==="immediate"?null:"immediate"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"w-4 h-4 text-blue-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Immediate Confirmation Email"})]}),f==="immediate"?r.jsx(gn,{className:"w-4 h-4 text-gray-400"}):r.jsx(Wr,{className:"w-4 h-4 text-gray-400"})]}),f==="immediate"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send a confirmation immediately after form submission."}),r.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[r.jsxs("div",{children:["Base date: ",r.jsx("span",{className:"text-blue-600",children:"(leave empty)"})]}),r.jsxs("div",{children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"0"})]}),r.jsxs("div",{children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"Instant"})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(f==="nextday"?null:"nextday"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kh,{className:"w-4 h-4 text-orange-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Next Day Follow-up"})]}),f==="nextday"?r.jsx(gn,{className:"w-4 h-4 text-gray-400"}):r.jsx(Wr,{className:"w-4 h-4 text-gray-400"})]}),f==="nextday"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send a follow-up email the day after submission at 9 AM."}),r.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[r.jsxs("div",{children:["Base date: ",r.jsx("span",{className:"text-blue-600",children:"(leave empty)"})]}),r.jsxs("div",{children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"1"})]}),r.jsxs("div",{children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At specific time"})]}),r.jsxs("div",{children:["Time: ",r.jsx("span",{className:"text-blue-600",children:"09:00"})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(f==="appointment"?null:"appointment"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rj,{className:"w-4 h-4 text-green-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Appointment Reminder"})]}),f==="appointment"?r.jsx(gn,{className:"w-4 h-4 text-gray-400"}):r.jsx(Wr,{className:"w-4 h-4 text-gray-400"})]}),f==="appointment"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send reminder 1 day before an appointment date from the form."}),r.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[r.jsxs("div",{children:["Base date: ",r.jsx("span",{className:"text-blue-600",children:"{appointment_date}"})]}),r.jsxs("div",{children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"-1"})]}),r.jsxs("div",{children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At specific time"})]}),r.jsxs("div",{children:["Time: ",r.jsx("span",{className:"text-blue-600",children:"14:00"})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(f==="weekly"?null:"weekly"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ej,{className:"w-4 h-4 text-purple-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Weekly Follow-up Series"})]}),f==="weekly"?r.jsx(gn,{className:"w-4 h-4 text-gray-400"}):r.jsx(Wr,{className:"w-4 h-4 text-gray-400"})]}),f==="weekly"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send emails 1, 7, and 14 days after submission."}),r.jsx("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 1:"}),r.jsxs("div",{className:"text-gray-600",children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"1"})]}),r.jsxs("div",{className:"text-gray-600",children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]}),r.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 2:"}),r.jsxs("div",{className:"text-gray-600",children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"7"})]}),r.jsxs("div",{className:"text-gray-600",children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]}),r.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 3:"}),r.jsxs("div",{className:"text-gray-600",children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"14"})]}),r.jsxs("div",{className:"text-gray-600",children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]})]})})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"How Email Scheduling Works"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"The email scheduler allows you to send emails at specific times relative to form submission. You can create multiple schedules to send follow-up emails, reminders, or notifications."}),r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Base Date:"})," The starting point for calculating when to send (default: form submission date)"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Days Offset:"})," Number of days to add/subtract from the base date"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Execution Method:"})," When exactly on that day to send the email"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(lo,{className:"w-4 h-4"}),"Using Dynamic Tags"]}),r.jsx("p",{className:"text-xs text-gray-700 mb-3",children:"Tags allow you to use form field values dynamically. Any field with a tag icon supports dynamic values."}),r.jsxs("div",{className:"space-y-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:"Current date (25-03-2024 format)"})]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date;timestamp}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:"Unix timestamp"})]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{field_name}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:'Value from form field with name "field_name"'})]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{appointment_date}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:"Date from appointment_date field"})]})]})]}),r.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx($j,{className:"w-4 h-4"}),"Time Offset Reference"]}),r.jsx("p",{className:"text-xs text-gray-700 mb-3",children:'When using "Time offset" execution method, specify hours as decimal numbers:'}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0"})," = Instantly"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.08"})," = 5 minutes"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.25"})," = 15 minutes"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.5"})," = 30 minutes"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"1"})," = 1 hour"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"2"})," = 2 hours"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"24"})," = 24 hours"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"-1"})," = 1 hour before"]})]})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 border-t px-6 py-4",children:[r.jsx("button",{onClick:_,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:C,className:pe("px-4 py-2 text-sm font-medium rounded-lg transition-colors","flex items-center gap-2","bg-blue-600 text-white hover:bg-blue-700"),children:[r.jsx(Ss,{className:"w-4 h-4"}),"Save Schedule"]})]})]})})]}):null}function Cr({variant:e="primary",size:t="md",disabled:n=!1,className:s,children:i,...l}){const d=["inline-flex items-center justify-center gap-x-2","bg-transparent cursor-pointer","font-medium","transition-colors duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2",n&&"opacity-50 cursor-not-allowed pointer-events-none"],u={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"},f={primary:["rounded-lg border-0 bg-primary-600 text-white shadow-sm","hover:bg-primary-700 hover:text-white","focus:ring-primary-500"],secondary:["rounded-lg bg-white text-gray-700 shadow-sm","border border-gray-300","hover:bg-gray-50 hover:text-gray-800","focus:ring-gray-500"],ghost:["rounded-lg border-0 text-gray-600","hover:bg-gray-100 hover:text-gray-900","focus:ring-gray-500"],danger:["rounded-lg border-0 bg-red-600 text-white shadow-sm","hover:bg-red-700 hover:text-white","focus:ring-red-500"],success:["rounded-lg border-0 bg-green-600 text-white shadow-sm","hover:bg-green-700 hover:text-white","focus:ring-green-500"],link:["border-0 text-primary-600","hover:text-primary-700","focus:ring-0"],pill:["rounded-full bg-white text-gray-700 shadow-sm","border border-gray-300","hover:bg-gray-50 hover:text-gray-800","focus:ring-gray-500"],unstyled:["border-0"],outline:["bg-transparent text-gray-500 rounded-md","border border-gray-300","hover:border-primary-600 hover:text-primary-600","focus:ring-primary-500"],outlineActive:["bg-transparent text-primary-600 rounded-md","border border-primary-600","hover:border-primary-700 hover:text-primary-700","focus:ring-primary-500"]};return r.jsx("button",{type:"button",disabled:n,className:pe(d,u[t],f[e],s),...l,children:i})}function ff({variant:e="ghost",size:t="md",disabled:n=!1,className:s,children:i,...l}){const d=["inline-flex items-center justify-center","border-0 bg-transparent cursor-pointer","rounded-lg","transition-colors duration-200","focus:outline-none",n&&"opacity-50 cursor-not-allowed pointer-events-none"],u={sm:"p-1",md:"p-1.5",lg:"p-2"},f={ghost:"text-gray-500 hover:text-gray-700 hover:bg-gray-100",danger:"text-red-500 hover:text-red-700 hover:bg-red-50",primary:"text-primary-500 hover:text-primary-700 hover:bg-primary-50"};return r.jsx("button",{type:"button",disabled:n,className:pe(d,u[t],f[e],s),...l,children:i})}function F5({email:e,isActive:t,onSelect:n,onDelete:s,onSchedule:i,onToggle:l,onDuplicate:d}){const[u,f]=m.useState(!1),{attributes:h,listeners:g,setNodeRef:v,transform:x,transition:b,isDragging:k}=uf({id:e.id}),S={...{transform:Sr.Transform.toString(x),transition:b,opacity:k?.5:1},boxShadow:t?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"};return r.jsx("div",{ref:v,style:S,"data-testid":"email-item-"+e.id,className:pe("relative p-3 rounded-lg cursor-pointer transition-all",t?"bg-blue-50 border-2 border-blue-400 ring-2 ring-blue-200":"bg-white border border-gray-200 hover:border-gray-300",k&&"z-50"),onClick:()=>n(e.id),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{"data-testid":"drag-handle",...h,...g,style:{position:"absolute",left:-4,top:"50%",transform:"translateY(-50%)"},className:pe("w-2 h-10 bg-gray-300 rounded transition-opacity cursor-move hover:bg-gray-400",u?"opacity-100":"opacity-0")}),r.jsx("div",{"data-testid":"toggle-container",className:"flex-shrink-0 flex items-center",children:r.jsx("button",{"data-testid":"email-toggle",type:"button",onClick:C=>{C.stopPropagation(),l(e.id,!e.enabled)},className:pe("relative inline-flex items-center flex-shrink-0 cursor-pointer rounded-full border-0 p-0 m-0 transition-colors duration-200 ease-in-out focus:outline-none",e.enabled?"bg-green-500":"bg-gray-300"),style:{width:36,height:20,minHeight:20,lineHeight:"normal"},title:e.enabled?"Disable email":"Enable email",children:r.jsx("span",{"data-testid":"toggle-knob",className:"pointer-events-none rounded-full bg-white shadow ring-0 transition-transform duration-200 ease-in-out",style:{position:"absolute",top:2,left:2,width:16,height:16,transform:e.enabled?"translateX(16px)":"translateX(0)"}})})}),r.jsxs("div",{"data-testid":"email-info",className:"flex-1 min-w-0 overflow-hidden",children:[r.jsx("span",{"data-testid":"email-name",className:pe("font-medium text-sm block whitespace-nowrap overflow-hidden text-ellipsis",e.enabled?"text-gray-900":"text-gray-400"),children:e.description||"Untitled Email"}),r.jsx("span",{"data-testid":"email-subject",className:pe("text-xs block whitespace-nowrap overflow-hidden text-ellipsis",e.enabled?"text-gray-500":"text-gray-400"),children:e.subject||"No subject"}),(e.scheduled_date||e.schedule)&&r.jsx("div",{"data-testid":"schedule-indicator",className:"mt-1",children:r.jsx(fx,{scheduledDate:e.scheduled_date,schedule:e.schedule,size:"small"})})]}),r.jsxs("div",{"data-testid":"email-actions",className:pe("items-center gap-0.5 flex-shrink-0",u?"flex":"hidden"),children:[r.jsx(ff,{"data-testid":"duplicate-btn",variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),d(e.id)},className:"text-gray-400 hover:text-gray-600",title:"Duplicate email",children:r.jsx(Oa,{className:"w-4 h-4"})}),r.jsx(ff,{"data-testid":"schedule-btn",variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),i(e.id)},className:"text-gray-400 hover:text-gray-600",title:"Schedule email",children:r.jsx(rr,{className:"w-4 h-4"})}),r.jsx(ff,{"data-testid":"delete-btn",variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),s(e.id)},className:"text-gray-400 hover:text-red-500",title:"Delete email",children:r.jsx(Wn,{className:"w-4 h-4"})})]})]})})}function W5(){const{emails:e,activeEmailId:t,setActiveEmailId:n,addEmail:s,removeEmail:i,duplicateEmail:l,reorderEmails:d,updateEmailField:u}=Ps(),[f,h]=m.useState(null),[g,v]=m.useState(!1),x=m4(C0(tf,{activationConstraint:{distance:8}}),C0(Qu,{coordinateGetter:L5})),b=w=>{const{active:R,over:P}=w;if(R.id!==P.id){const I=e.findIndex(M=>M.id===R.id),O=e.findIndex(M=>M.id===P.id);I!==-1&&O!==-1&&d(I,O)}},k=w=>{window.confirm("Are you sure you want to delete this email?")&&i(w)},N=w=>{h(w),v(!0)},S=(w,R)=>{u(w,"enabled",R)},C=w=>{f&&(u(f,"schedule",w),v(!1),h(null))},_=e.find(w=>w.id===f);return r.jsxs("div",{"data-testid":"email-list",className:"bg-gray-50 rounded-lg p-4 h-full",children:[r.jsx("div",{className:"flex items-center justify-end mb-4",children:r.jsxs(Cr,{"data-testid":"add-email-btn",variant:"ghost",onClick:s,children:[r.jsx(js,{className:"w-4 h-4"}),"Add Email"]})}),e.length>0?r.jsx(af,{sensors:x,collisionDetection:Gu,onDragEnd:b,children:r.jsx(df,{items:e.map(w=>w.id),strategy:cf,children:r.jsx("div",{className:"space-y-2",children:e.map(w=>r.jsx(F5,{email:w,isActive:w.id===t,onSelect:n,onDelete:k,onSchedule:N,onToggle:S,onDuplicate:l},w.id))})})}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"mt-2 text-sm",children:"No emails configured"}),r.jsx(Cr,{variant:"link",onClick:s,className:"mt-3",children:"Add your first email"})]}),r.jsx(A5,{isOpen:g,onClose:()=>{v(!1),h(null)},onSchedule:C,currentSchedule:_?.schedule})]})}function px({email:e}){const s=`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    <style>
      /* Reset styles for email content */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        font-size: 14px;
        line-height: 1.6;
        color: #333333;
      }
      
      p {
        margin: 0 0 10px 0;
      }
      
      h1, h2, h3, h4, h5, h6 {
        margin: 0 0 10px 0;
        font-weight: 600;
      }
      
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      h3 { font-size: 18px; }
      h4 { font-size: 16px; }
      h5 { font-size: 14px; }
      h6 { font-size: 12px; }
      
      a {
        color: #0066cc;
        text-decoration: underline;
      }
      
      img {
        max-width: 100%;
        height: auto;
      }
      
      table {
        border-collapse: collapse;
        width: 100%;
      }
      
      th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
      
      blockquote {
        margin: 0 0 10px 0;
        padding: 10px 20px;
        border-left: 4px solid #ddd;
        background-color: #f9f9f9;
      }
      
      ul, ol {
        margin: 0 0 10px 20px;
        padding: 0;
      }
      
      li {
        margin: 0 0 5px 0;
      }
      
      /* Button styles */
      .button {
        display: inline-block;
        padding: 12px 24px;
        background-color: #0066cc;
        color: #ffffff;
        text-decoration: none;
        border-radius: 4px;
        font-weight: 600;
      }
      
      /* Responsive */
      @media only screen and (max-width: 600px) {
        body {
          font-size: 16px !important;
        }
        
        table {
          width: 100% !important;
        }
        
        .button {
          display: block !important;
          width: 100% !important;
        }
      }
    </style>
  
      </head>
      <body>
        <div style="max-width: 600px; margin: 0 auto;">
          ${e.body||"<p>Email content will appear here...</p>"}
        </div>
      </body>
    </html>
  `;return r.jsx("div",{className:"email-content",children:r.jsx("iframe",{srcDoc:s,className:"w-full h-full border-0",style:{minHeight:"400px"},title:"Email Preview",sandbox:"allow-same-origin"})})}function As({value:e,onChange:t,placeholder:n="Click to edit",className:s="",multiline:i=!1,type:l="text",showEditIcon:d=!0,noPadding:u=!1,"data-testid":f}){const[h,g]=m.useState(!1),[v,x]=m.useState(e||""),[b,k]=m.useState(!1),N=m.useRef(null);m.useEffect(()=>{h&&N.current&&(N.current.focus(),N.current.select&&N.current.select())},[h]),m.useEffect(()=>{x(e||"")},[e]);const S=()=>{t&&v!==e&&t(v),g(!1)},C=()=>{x(e||""),g(!1)},_=R=>{R.key==="Enter"&&!i?(R.preventDefault(),S()):R.key==="Escape"&&(R.preventDefault(),C())},w=()=>{h||g(!0)};if(h){const R=i?"textarea":"input";return r.jsxs("div",{"data-testid":f?`${f}-editing`:void 0,className:"inline-flex items-center gap-1",children:[r.jsx(R,{ref:N,type:l,value:v,onChange:P=>x(P.target.value),onKeyDown:_,onBlur:S,className:pe("bg-white border border-gray-300 rounded",!u&&"px-2 py-0.5","outline-none focus:border-blue-500",!u&&"h-[28px]",i&&"resize-none min-h-[60px] h-auto",s),placeholder:n,"data-testid":f?`${f}-input`:void 0}),r.jsxs("div",{"data-testid":f?`${f}-actions`:void 0,className:"flex gap-1",children:[r.jsx("button",{type:"button",onClick:S,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Save","data-testid":f?`${f}-save-btn`:void 0,children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:C,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Cancel","data-testid":f?`${f}-cancel-btn`:void 0,children:r.jsx(qt,{className:"w-4 h-4"})})]})]})}return r.jsxs("span",{"data-testid":f,className:pe("inline-flex items-center gap-1 cursor-pointer group","border border-transparent rounded",!u&&"px-2 py-0.5",!u&&"h-[28px]",s),onClick:w,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),title:"Click to edit",children:[r.jsx("span",{"data-testid":f?`${f}-value`:void 0,className:pe(!e&&"text-gray-400"),children:e||n}),d&&b&&r.jsx(jr,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}function H5({children:e,onRemove:t,variant:n="default",className:s,...i}){const d={display:"inline-flex",alignItems:"center",gap:"4px",padding:"2px 8px",borderRadius:"9999px",fontSize:"12px",fontWeight:500,lineHeight:"1.4",...{default:{background:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb"},email:{background:"#dbeafe",color:"#1d4ed8",border:"1px solid #bfdbfe"},field:{background:"#f3e8ff",color:"#7c3aed",border:"1px solid #e9d5ff"},success:{background:"#dcfce7",color:"#16a34a",border:"1px solid #bbf7d0"},warning:{background:"#fef3c7",color:"#d97706",border:"1px solid #fde68a"},error:{background:"#fee2e2",color:"#dc2626",border:"1px solid #fecaca"}}[n]},u={display:"inline-flex",alignItems:"center",justifyContent:"center",width:"16px",height:"16px",padding:0,margin:0,border:"none",background:"transparent",cursor:"pointer",borderRadius:"50%",color:"inherit",opacity:.6,transition:"opacity 0.15s, color 0.15s"},f=g=>{g.currentTarget.style.opacity="1",g.currentTarget.style.color="#dc2626"},h=g=>{g.currentTarget.style.opacity="0.6",g.currentTarget.style.color="inherit"};return r.jsxs("span",{style:d,className:s,...i,children:[r.jsx("span",{children:e}),t&&r.jsx("button",{type:"button",onClick:t,title:"Remove",style:u,onMouseEnter:f,onMouseLeave:h,children:r.jsx(qt,{size:12,strokeWidth:2.5})})]})}function B5({value:e="",onChange:t,validate:n,getVariant:s,placeholder:i="Type and press Enter...",className:l,"data-testid":d}){const u=m.useRef(null),[f,h]=m.useState(""),g=e?e.split(",").map(w=>w.trim()).filter(Boolean):[],v=m.useCallback(w=>{const R=w.trim();if(!R)return;if(g.includes(R)){h("");return}if(n&&!n(R))return;const P=[...g,R];t(P.join(", ")),h("")},[g,t,n]),x=m.useCallback(w=>{const R=g.filter((P,I)=>I!==w);t(R.join(", "))},[g,t]),b=m.useCallback(w=>{const R=f.trim();if(w.key==="Enter"||w.key==="Tab"||w.key===",")if(R)w.preventDefault(),v(R);else{if(w.key==="Tab")return;w.preventDefault()}w.key==="Backspace"&&!f&&g.length>0&&x(g.length-1)},[f,v,x,g.length]),k=m.useCallback(w=>{w.preventDefault();const P=w.clipboardData.getData("text").split(",").map(O=>O.trim()).filter(Boolean),I=[...g];P.forEach(O=>{!I.includes(O)&&(!n||n(O))&&I.push(O)}),t(I.join(", "))},[g,t,n]),N=m.useCallback(()=>{f.trim()&&v(f)},[f,v]),S=m.useCallback(w=>s?s(w):"default",[s]),C={display:"flex",flexWrap:"wrap",alignItems:"center",gap:"4px",minHeight:"32px",padding:"4px 8px",background:"transparent",borderRadius:"6px",cursor:"text"},_={flex:1,minWidth:"120px",border:"none",outline:"none",padding:"2px 4px",fontSize:"14px",background:"transparent",fontFamily:"inherit"};return r.jsxs("div",{"data-testid":d,className:l,style:C,onClick:()=>u.current?.focus(),children:[g.map((w,R)=>r.jsx(H5,{"data-testid":d?`${d}-tag-${R}`:void 0,variant:S(w),onRemove:()=>x(R),children:w},`${w}-${R}`)),r.jsx("input",{ref:u,type:"text",value:f,onChange:w=>h(w.target.value),onKeyDown:b,onPaste:k,onBlur:N,placeholder:g.length===0?i:"",style:_,"data-testid":d?`${d}-input`:void 0})]})}function Fs({value:e="",onChange:t,placeholder:n="Enter email addresses...",className:s,"data-testid":i}){const l=m.useCallback(u=>{const f=u.trim();return/^\{[a-zA-Z0-9_]+\}$/.test(f)?!0:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)},[]),d=m.useCallback(u=>/^\{[a-zA-Z0-9_]+\}$/.test(u.trim())?"field":"email",[]);return r.jsx(B5,{value:e,onChange:t,validate:l,getVariant:d,placeholder:n,className:s,"data-testid":i})}let Un=null;function U5({onSelect:e,onClose:t,title:n="Select Media"}){m.useEffect(()=>{if(typeof wp>"u"||!wp.media){console.error("WordPress media library is not available"),t();return}Un?Un.options.title=n:Un=wp.media({title:n,button:{text:"Select"},multiple:!1}),Un.off("select"),Un.off("close");const i=()=>{const d=Un.state().get("selection").first().toJSON();if(d){const u={id:d.id,title:d.title,filename:d.filename,url:d.url,mime:d.mime||d.type,type:d.mime||d.type,filesizeHumanReadable:d.filesizeHumanReadable||s(d.filesize),filesize:d.filesize};e(u)}},l=()=>{t()};return Un.on("select",i),Un.on("close",l),Un.open(),()=>{Un&&(Un.off("select",i),Un.off("close",l))}},[]);function s(i){if(!i)return"Unknown size";const l=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(i)/Math.log(1024));return Math.round(i/Math.pow(1024,d)*100)/100+" "+l[d]}return null}const V5=$e.memo(U5),mx=({className:e})=>r.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("text",{x:"7",y:"17",fontSize:"8",fontWeight:"600",fill:"currentColor",stroke:"none",children:"PDF"})]});function Z5({attachments:e=[],onChange:t,isBuilder:n=!1}){const[s,i]=m.useState(!1),[l,d]=m.useState(null),u=m.useCallback(x=>{const b={id:x.id,name:x.filename||x.title||"Untitled",url:x.url,type:x.mime||x.type||"application/octet-stream",size:x.filesizeHumanReadable||x.filesize||"Unknown size"};if(l!==null){const k=[...e];k[l]=b,t(k),d(null)}else t([...e,b]);i(!1)},[e,t,l]),f=x=>{const b=e.filter((k,N)=>N!==x);t(b)},h=x=>{d(x),i(!0)},g=m.useCallback(()=>{i(!1),d(null)},[]),v=(x,b="")=>{if(x.startsWith("image/"))return pl;if(x.includes("pdf"))return mx;if(x.includes("spreadsheet")||x.includes("excel")||x.includes("csv"))return ml;if(x.includes("video/"))return gl;if(x.includes("audio/"))return ul;if(x.includes("zip")||x.includes("tar")||x.includes("archive"))return dl;if(x.includes("text/plain"))return hl;switch(b.split(".").pop()?.toLowerCase()){case"pdf":return mx;case"csv":case"xls":case"xlsx":case"ods":return ml;case"doc":case"docx":case"odt":case"rtf":case"txt":return hl;case"mp4":case"avi":case"mov":case"wmv":case"flv":case"webm":return gl;case"mp3":case"wav":case"ogg":case"flac":case"aac":return ul;case"zip":case"rar":case"7z":case"tar":case"gz":return dl;case"js":case"jsx":case"ts":case"tsx":case"html":case"css":case"php":case"py":case"java":case"cpp":case"c":case"json":case"xml":return fl;case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":case"bmp":case"ico":return pl;default:return _h}};return!n&&e.length===0?null:r.jsxs("div",{"data-testid":"attachment-manager",className:"border-t pt-4 mt-2.5",children:[n&&r.jsxs(Cr,{"data-testid":"attach-files-btn",variant:"link",size:"sm",onClick:()=>{d(null),i(!0)},className:"mb-3",children:[r.jsx(Mh,{className:"w-3 h-3"}),"Attach files"]}),e.length>0&&r.jsx("div",{"data-testid":"attachment-list",className:"flex flex-wrap gap-2",children:e.map((x,b)=>{const k=v(x.type,x.name);return r.jsxs("div",{"data-testid":`attachment-item-${b}`,className:"group inline-flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#f5f5f5"},children:[r.jsx(k,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsxs("a",{href:x.url,target:"_blank",rel:"noopener noreferrer","data-testid":`attachment-link-${b}`,className:"text-sm text-gray-700 group-hover:text-blue-600 transition-colors flex items-center gap-1",children:[r.jsx("span",{"data-testid":`attachment-name-${b}`,children:x.name}),r.jsx(cl,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),r.jsxs("span",{"data-testid":`attachment-size-${b}`,className:"text-xs text-gray-500",children:["(",x.size,")"]}),n&&r.jsxs("div",{"data-testid":`attachment-actions-${b}`,className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{"data-testid":`attachment-edit-btn-${b}`,onClick:()=>h(b),className:"p-1 text-blue-600 hover:text-blue-700",title:"Replace attachment",children:r.jsx(jr,{className:"w-4 h-4"})}),r.jsx("button",{"data-testid":`attachment-remove-btn-${b}`,onClick:()=>f(b),className:"p-1 text-red-600 hover:text-red-700",title:"Remove attachment",children:r.jsx(qt,{className:"w-4 h-4"})})]})]},`${x.id}-${b}`)})}),s&&r.jsx(V5,{onSelect:u,onClose:g,title:l!==null?"Replace Attachment":"Select Attachment"})]})}const hx=$e.memo(Z5);function Yt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function q5(e,t){const n=m.createContext(t),s=l=>{const{children:d,...u}=l,f=m.useMemo(()=>u,Object.values(u));return r.jsx(n.Provider,{value:f,children:d})};s.displayName=e+"Provider";function i(l){const d=m.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,i]}function si(e,t=[]){let n=[];function s(l,d){const u=m.createContext(d),f=n.length;n=[...n,d];const h=v=>{const{scope:x,children:b,...k}=v,N=x?.[e]?.[f]||u,S=m.useMemo(()=>k,Object.values(k));return r.jsx(N.Provider,{value:S,children:b})};h.displayName=l+"Provider";function g(v,x){const b=x?.[e]?.[f]||u,k=m.useContext(b);if(k)return k;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[h,g]}const i=()=>{const l=n.map(d=>m.createContext(d));return function(u){const f=u?.[e]||l;return m.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return i.scopeName=e,[s,G5(i,...t)]}function G5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const d=s.reduce((u,{useScope:f,scopeName:h})=>{const v=f(l)[`__scope${h}`];return{...u,...v}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var Ws=globalThis?.document?m.useLayoutEffect:()=>{},Y5=Id[" useId ".trim().toString()]||(()=>{}),K5=0;function ac(e){const[t,n]=m.useState(Y5());return Ws(()=>{n(s=>s??String(K5++))},[e]),e||(t?`radix-${t}`:"")}var X5=Id[" useInsertionEffect ".trim().toString()]||Ws;function pf({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,l,d]=J5({defaultProp:t,onChange:n}),u=e!==void 0,f=u?e:i;{const g=m.useRef(e!==void 0);m.useEffect(()=>{const v=g.current;v!==u&&console.warn(`${s} is changing from ${v?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,s])}const h=m.useCallback(g=>{if(u){const v=Q5(g)?g(e):g;v!==e&&d.current?.(v)}else l(g)},[u,e,l,d]);return[f,h]}function J5({defaultProp:e,onChange:t}){const[n,s]=m.useState(e),i=m.useRef(n),l=m.useRef(t);return X5(()=>{l.current=t},[t]),m.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,s,l]}function Q5(e){return typeof e=="function"}function e3(e){const t=t3(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),f=u.find(r3);if(f){const h=f.props.children,g=u.map(v=>v===f?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function t3(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=s3(i),u=o3(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ur(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n3=Symbol("radix.slottable");function r3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n3}function o3(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const f=l(...u);return i(...u),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function s3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var a3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gx=a3.reduce((e,t)=>{const n=e3(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,f=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function i3(e,t){e&&Oo.flushSync(()=>e.dispatchEvent(t))}function Hs(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>t.current?.(...n),[])}function l3(e,t=globalThis?.document){const n=Hs(e);m.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var c3="DismissableLayer",mf="dismissableLayer.update",d3="dismissableLayer.pointerDownOutside",u3="dismissableLayer.focusOutside",xx,yx=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vx=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:d,onDismiss:u,...f}=e,h=m.useContext(yx),[g,v]=m.useState(null),x=g?.ownerDocument??globalThis?.document,[,b]=m.useState({}),k=Rn(t,O=>v(O)),N=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=N.indexOf(S),_=g?N.indexOf(g):-1,w=h.layersWithOutsidePointerEventsDisabled.size>0,R=_>=C,P=m3(O=>{const M=O.target,B=[...h.branches].some(V=>V.contains(M));!R||B||(i?.(O),d?.(O),O.defaultPrevented||u?.())},x),I=h3(O=>{const M=O.target;[...h.branches].some(V=>V.contains(M))||(l?.(O),d?.(O),O.defaultPrevented||u?.())},x);return l3(O=>{_===h.layers.size-1&&(s?.(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},x),m.useEffect(()=>{if(g)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(xx=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),bx(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=xx)}},[g,x,n,h]),m.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),bx())},[g,h]),m.useEffect(()=>{const O=()=>b({});return document.addEventListener(mf,O),()=>document.removeEventListener(mf,O)},[]),r.jsx(gx.div,{...f,ref:k,style:{pointerEvents:w?R?"auto":"none":void 0,...e.style},onFocusCapture:Yt(e.onFocusCapture,I.onFocusCapture),onBlurCapture:Yt(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Yt(e.onPointerDownCapture,P.onPointerDownCapture)})});vx.displayName=c3;var f3="DismissableLayerBranch",p3=m.forwardRef((e,t)=>{const n=m.useContext(yx),s=m.useRef(null),i=Rn(t,s);return m.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),r.jsx(gx.div,{...e,ref:i})});p3.displayName=f3;function m3(e,t=globalThis?.document){const n=Hs(e),s=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const l=u=>{if(u.target&&!s.current){let f=function(){wx(d3,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}else t.removeEventListener("click",i.current);s.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function h3(e,t=globalThis?.document){const n=Hs(e),s=m.useRef(!1);return m.useEffect(()=>{const i=l=>{l.target&&!s.current&&wx(u3,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function bx(){const e=new CustomEvent(mf);document.dispatchEvent(e)}function wx(e,t,n,{discrete:s}){const i=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?i3(i,l):i.dispatchEvent(l)}function g3(e){const t=x3(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),f=u.find(v3);if(f){const h=f.props.children,g=u.map(v=>v===f?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function x3(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=w3(i),u=b3(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ur(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var y3=Symbol("radix.slottable");function v3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===y3}function b3(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const f=l(...u);return i(...u),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function w3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var j3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],N3=j3.reduce((e,t)=>{const n=g3(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,f=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),hf="focusScope.autoFocusOnMount",gf="focusScope.autoFocusOnUnmount",jx={bubbles:!1,cancelable:!0},k3="FocusScope",Nx=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...d}=e,[u,f]=m.useState(null),h=Hs(i),g=Hs(l),v=m.useRef(null),x=Rn(t,N=>f(N)),b=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let N=function(w){if(b.paused||!u)return;const R=w.target;u.contains(R)?v.current=R:ho(v.current,{select:!0})},S=function(w){if(b.paused||!u)return;const R=w.relatedTarget;R!==null&&(u.contains(R)||ho(v.current,{select:!0}))},C=function(w){if(document.activeElement===document.body)for(const P of w)P.removedNodes.length>0&&ho(u)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const _=new MutationObserver(C);return u&&_.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),_.disconnect()}}},[s,u,b.paused]),m.useEffect(()=>{if(u){Cx.add(b);const N=document.activeElement;if(!u.contains(N)){const C=new CustomEvent(hf,jx);u.addEventListener(hf,h),u.dispatchEvent(C),C.defaultPrevented||(S3(z3(kx(u)),{select:!0}),document.activeElement===N&&ho(u))}return()=>{u.removeEventListener(hf,h),setTimeout(()=>{const C=new CustomEvent(gf,jx);u.addEventListener(gf,g),u.dispatchEvent(C),C.defaultPrevented||ho(N??document.body,{select:!0}),u.removeEventListener(gf,g),Cx.remove(b)},0)}}},[u,h,g,b]);const k=m.useCallback(N=>{if(!n&&!s||b.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,C=document.activeElement;if(S&&C){const _=N.currentTarget,[w,R]=C3(_);w&&R?!N.shiftKey&&C===R?(N.preventDefault(),n&&ho(w,{select:!0})):N.shiftKey&&C===w&&(N.preventDefault(),n&&ho(R,{select:!0})):C===_&&N.preventDefault()}},[n,s,b.paused]);return r.jsx(N3.div,{tabIndex:-1,...d,ref:x,onKeyDown:k})});Nx.displayName=k3;function S3(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(ho(s,{select:t}),document.activeElement!==n)return}function C3(e){const t=kx(e),n=Sx(t,e),s=Sx(t.reverse(),e);return[n,s]}function kx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Sx(e,t){for(const n of e)if(!E3(n,{upTo:t}))return n}function E3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _3(e){return e instanceof HTMLInputElement&&"select"in e}function ho(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&_3(e)&&t&&e.select()}}var Cx=R3();function R3(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Ex(e,t),e.unshift(t)},remove(t){e=Ex(e,t),e[0]?.resume()}}}function Ex(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function z3(e){return e.filter(t=>t.tagName!=="A")}function T3(e){const t=D3(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),f=u.find(P3);if(f){const h=f.props.children,g=u.map(v=>v===f?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function D3(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=I3(i),u=M3(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ur(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $3=Symbol("radix.slottable");function P3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$3}function M3(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const f=l(...u);return i(...u),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function I3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var L3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O3=L3.reduce((e,t)=>{const n=T3(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,f=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),A3="Portal",_x=m.forwardRef((e,t)=>{const{container:n,...s}=e,[i,l]=m.useState(!1);Ws(()=>l(!0),[]);const d=n||i&&globalThis?.document?.body;return d?Yw.createPortal(r.jsx(O3.div,{...s,ref:t}),d):null});_x.displayName=A3;function F3(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var ai=e=>{const{present:t,children:n}=e,s=W3(t),i=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),l=Rn(s.ref,H3(i));return typeof n=="function"||s.isPresent?m.cloneElement(i,{ref:l}):null};ai.displayName="Presence";function W3(e){const[t,n]=m.useState(),s=m.useRef(null),i=m.useRef(e),l=m.useRef("none"),d=e?"mounted":"unmounted",[u,f]=F3(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const h=ic(s.current);l.current=u==="mounted"?h:"none"},[u]),Ws(()=>{const h=s.current,g=i.current;if(g!==e){const x=l.current,b=ic(h);e?f("MOUNT"):b==="none"||h?.display==="none"?f("UNMOUNT"):f(g&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),Ws(()=>{if(t){let h;const g=t.ownerDocument.defaultView??window,v=b=>{const N=ic(s.current).includes(CSS.escape(b.animationName));if(b.target===t&&N&&(f("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},x=b=>{b.target===t&&(l.current=ic(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(h),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:m.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function ic(e){return e?.animationName||"none"}function H3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rx(e){const t=B3(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),f=u.find(V3);if(f){const h=f.props.children,g=u.map(v=>v===f?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function B3(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=q3(i),u=Z3(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ur(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var U3=Symbol("radix.slottable");function V3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===U3}function Z3(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const f=l(...u);return i(...u),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function q3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var G3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ii=G3.reduce((e,t)=>{const n=Rx(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,f=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),xf=0;function Y3(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??zx()),document.body.insertAdjacentElement("beforeend",e[1]??zx()),xf++,()=>{xf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xf--}},[])}function zx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Er=function(){return Er=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Er.apply(this,arguments)};function Tx(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function K3(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,l;s<i;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return e.concat(l||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var lc="right-scroll-bar-position",cc="width-before-scroll-bar",X3="with-scroll-bars-hidden",J3="--removed-body-scroll-bar-size";function yf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Q3(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var eR=typeof window<"u"?m.useLayoutEffect:m.useEffect,Dx=new WeakMap;function tR(e,t){var n=Q3(null,function(s){return e.forEach(function(i){return yf(i,s)})});return eR(function(){var s=Dx.get(n);if(s){var i=new Set(s),l=new Set(e),d=n.current;i.forEach(function(u){l.has(u)||yf(u,null)}),l.forEach(function(u){i.has(u)||yf(u,d)})}Dx.set(n,e)},[e]),n}function nR(e){return e}function rR(e,t){t===void 0&&(t=nR);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var d=t(l,s);return n.push(d),function(){n=n.filter(function(u){return u!==d})}},assignSyncMedium:function(l){for(s=!0;n.length;){var d=n;n=[],d.forEach(l)}n={push:function(u){return l(u)},filter:function(){return n}}},assignMedium:function(l){s=!0;var d=[];if(n.length){var u=n;n=[],u.forEach(l),d=n}var f=function(){var g=d;d=[],g.forEach(l)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(g){d.push(g),h()},filter:function(g){return d=d.filter(g),n}}}};return i}function oR(e){e===void 0&&(e={});var t=rR(null);return t.options=Er({async:!0,ssr:!1},e),t}var $x=function(e){var t=e.sideCar,n=Tx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,Er({},n))};$x.isSideCarExport=!0;function sR(e,t){return e.useMedium(t),$x}var Px=oR(),vf=function(){},dc=m.forwardRef(function(e,t){var n=m.useRef(null),s=m.useState({onScrollCapture:vf,onWheelCapture:vf,onTouchMoveCapture:vf}),i=s[0],l=s[1],d=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,g=e.enabled,v=e.shards,x=e.sideCar,b=e.noRelative,k=e.noIsolation,N=e.inert,S=e.allowPinchZoom,C=e.as,_=C===void 0?"div":C,w=e.gapMode,R=Tx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,I=tR([n,t]),O=Er(Er({},R),i);return m.createElement(m.Fragment,null,g&&m.createElement(P,{sideCar:Px,removeScrollBar:h,shards:v,noRelative:b,noIsolation:k,inert:N,setCallbacks:l,allowPinchZoom:!!S,lockRef:n,gapMode:w}),d?m.cloneElement(m.Children.only(u),Er(Er({},O),{ref:I})):m.createElement(_,Er({},O,{className:f,ref:I}),u))});dc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},dc.classNames={fullWidth:cc,zeroRight:lc};var aR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=aR();return t&&e.setAttribute("nonce",t),e}function lR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=iR())&&(lR(t,n),cR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},uR=function(){var e=dR();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Mx=function(){var e=uR(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},fR={left:0,top:0,right:0,gap:0},bf=function(e){return parseInt(e||"",10)||0},pR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[bf(n),bf(s),bf(i)]},mR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fR;var t=pR(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},hR=Mx(),Bs="data-scroll-locked",gR=function(e,t,n,s){var i=e.left,l=e.top,d=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(X3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(Bs,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lc,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(cc,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(lc," .").concat(lc,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Bs,`] {
    `).concat(J3,": ").concat(u,`px;
  }
`)},Ix=function(){var e=parseInt(document.body.getAttribute(Bs)||"0",10);return isFinite(e)?e:0},xR=function(){m.useEffect(function(){return document.body.setAttribute(Bs,(Ix()+1).toString()),function(){var e=Ix()-1;e<=0?document.body.removeAttribute(Bs):document.body.setAttribute(Bs,e.toString())}},[])},yR=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;xR();var l=m.useMemo(function(){return mR(i)},[i]);return m.createElement(hR,{styles:gR(l,!t,i,n?"":"!important")})},wf=!1;if(typeof window<"u")try{var uc=Object.defineProperty({},"passive",{get:function(){return wf=!0,!0}});window.addEventListener("test",uc,uc),window.removeEventListener("test",uc,uc)}catch{wf=!1}var Us=wf?{passive:!1}:!1,vR=function(e){return e.tagName==="TEXTAREA"},Lx=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!vR(e)&&n[t]==="visible")},bR=function(e){return Lx(e,"overflowY")},wR=function(e){return Lx(e,"overflowX")},Ox=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=Ax(e,s);if(i){var l=Fx(e,s),d=l[1],u=l[2];if(d>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},jR=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},NR=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},Ax=function(e,t){return e==="v"?bR(t):wR(t)},Fx=function(e,t){return e==="v"?jR(t):NR(t)},kR=function(e,t){return e==="h"&&t==="rtl"?-1:1},SR=function(e,t,n,s,i){var l=kR(e,window.getComputedStyle(t).direction),d=l*s,u=n.target,f=t.contains(u),h=!1,g=d>0,v=0,x=0;do{if(!u)break;var b=Fx(e,u),k=b[0],N=b[1],S=b[2],C=N-S-l*k;(k||C)&&Ax(e,u)&&(v+=C,x+=k);var _=u.parentNode;u=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(g&&Math.abs(v)<1||!g&&Math.abs(x)<1)&&(h=!0),h},fc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wx=function(e){return[e.deltaX,e.deltaY]},Hx=function(e){return e&&"current"in e?e.current:e},CR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ER=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_R=0,Vs=[];function RR(e){var t=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),i=m.useState(_R++)[0],l=m.useState(Mx)[0],d=m.useRef(e);m.useEffect(function(){d.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var N=K3([e.lockRef.current],(e.shards||[]).map(Hx),!0).filter(Boolean);return N.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=m.useCallback(function(N,S){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!d.current.allowPinchZoom;var C=fc(N),_=n.current,w="deltaX"in N?N.deltaX:_[0]-C[0],R="deltaY"in N?N.deltaY:_[1]-C[1],P,I=N.target,O=Math.abs(w)>Math.abs(R)?"h":"v";if("touches"in N&&O==="h"&&I.type==="range")return!1;var M=Ox(O,I);if(!M)return!0;if(M?P=O:(P=O==="v"?"h":"v",M=Ox(O,I)),!M)return!1;if(!s.current&&"changedTouches"in N&&(w||R)&&(s.current=P),!P)return!0;var B=s.current||P;return SR(B,S,N,B==="h"?w:R)},[]),f=m.useCallback(function(N){var S=N;if(!(!Vs.length||Vs[Vs.length-1]!==l)){var C="deltaY"in S?Wx(S):fc(S),_=t.current.filter(function(P){return P.name===S.type&&(P.target===S.target||S.target===P.shadowParent)&&CR(P.delta,C)})[0];if(_&&_.should){S.cancelable&&S.preventDefault();return}if(!_){var w=(d.current.shards||[]).map(Hx).filter(Boolean).filter(function(P){return P.contains(S.target)}),R=w.length>0?u(S,w[0]):!d.current.noIsolation;R&&S.cancelable&&S.preventDefault()}}},[]),h=m.useCallback(function(N,S,C,_){var w={name:N,delta:S,target:C,should:_,shadowParent:zR(C)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(R){return R!==w})},1)},[]),g=m.useCallback(function(N){n.current=fc(N),s.current=void 0},[]),v=m.useCallback(function(N){h(N.type,Wx(N),N.target,u(N,e.lockRef.current))},[]),x=m.useCallback(function(N){h(N.type,fc(N),N.target,u(N,e.lockRef.current))},[]);m.useEffect(function(){return Vs.push(l),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Us),document.addEventListener("touchmove",f,Us),document.addEventListener("touchstart",g,Us),function(){Vs=Vs.filter(function(N){return N!==l}),document.removeEventListener("wheel",f,Us),document.removeEventListener("touchmove",f,Us),document.removeEventListener("touchstart",g,Us)}},[]);var b=e.removeScrollBar,k=e.inert;return m.createElement(m.Fragment,null,k?m.createElement(l,{styles:ER(i)}):null,b?m.createElement(yR,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function zR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const TR=sR(Px,RR);var Bx=m.forwardRef(function(e,t){return m.createElement(dc,Er({},e,{ref:t,sideCar:TR}))});Bx.classNames=dc.classNames;var DR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zs=new WeakMap,pc=new WeakMap,mc={},jf=0,Ux=function(e){return e&&(e.host||Ux(e.parentNode))},$R=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Ux(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},PR=function(e,t,n,s){var i=$R(t,Array.isArray(e)?e:[e]);mc[n]||(mc[n]=new WeakMap);var l=mc[n],d=[],u=new Set,f=new Set(i),h=function(v){!v||u.has(v)||(u.add(v),h(v.parentNode))};i.forEach(h);var g=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(x){if(u.has(x))g(x);else try{var b=x.getAttribute(s),k=b!==null&&b!=="false",N=(Zs.get(x)||0)+1,S=(l.get(x)||0)+1;Zs.set(x,N),l.set(x,S),d.push(x),N===1&&k&&pc.set(x,!0),S===1&&x.setAttribute(n,"true"),k||x.setAttribute(s,"true")}catch(C){console.error("aria-hidden: cannot operate on ",x,C)}})};return g(t),u.clear(),jf++,function(){d.forEach(function(v){var x=Zs.get(v)-1,b=l.get(v)-1;Zs.set(v,x),l.set(v,b),x||(pc.has(v)||v.removeAttribute(s),pc.delete(v)),b||v.removeAttribute(n)}),jf--,jf||(Zs=new WeakMap,Zs=new WeakMap,pc=new WeakMap,mc={})}},MR=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=DR(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),PR(s,i,n,"aria-hidden")):function(){return null}},hc="Dialog",[Vx]=si(hc),[IR,cr]=Vx(hc),Zx=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:l,modal:d=!0}=e,u=m.useRef(null),f=m.useRef(null),[h,g]=pf({prop:s,defaultProp:i??!1,onChange:l,caller:hc});return r.jsx(IR,{scope:t,triggerRef:u,contentRef:f,contentId:ac(),titleId:ac(),descriptionId:ac(),open:h,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(v=>!v),[g]),modal:d,children:n})};Zx.displayName=hc;var qx="DialogTrigger",LR=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=cr(qx,n),l=Rn(t,i.triggerRef);return r.jsx(ii.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Sf(i.open),...s,ref:l,onClick:Yt(e.onClick,i.onOpenToggle)})});LR.displayName=qx;var Nf="DialogPortal",[OR,Gx]=Vx(Nf,{forceMount:void 0}),Yx=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,l=cr(Nf,t);return r.jsx(OR,{scope:t,forceMount:n,children:m.Children.map(s,d=>r.jsx(ai,{present:n||l.open,children:r.jsx(_x,{asChild:!0,container:i,children:d})}))})};Yx.displayName=Nf;var gc="DialogOverlay",Kx=m.forwardRef((e,t)=>{const n=Gx(gc,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,l=cr(gc,e.__scopeDialog);return l.modal?r.jsx(ai,{present:s||l.open,children:r.jsx(FR,{...i,ref:t})}):null});Kx.displayName=gc;var AR=Rx("DialogOverlay.RemoveScroll"),FR=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=cr(gc,n);return r.jsx(Bx,{as:AR,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(ii.div,{"data-state":Sf(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Yo="DialogContent",Xx=m.forwardRef((e,t)=>{const n=Gx(Yo,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,l=cr(Yo,e.__scopeDialog);return r.jsx(ai,{present:s||l.open,children:l.modal?r.jsx(WR,{...i,ref:t}):r.jsx(HR,{...i,ref:t})})});Xx.displayName=Yo;var WR=m.forwardRef((e,t)=>{const n=cr(Yo,e.__scopeDialog),s=m.useRef(null),i=Rn(t,n.contentRef,s);return m.useEffect(()=>{const l=s.current;if(l)return MR(l)},[]),r.jsx(Jx,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Yt(e.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Yt(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0;(d.button===2||u)&&l.preventDefault()}),onFocusOutside:Yt(e.onFocusOutside,l=>l.preventDefault())})}),HR=m.forwardRef((e,t)=>{const n=cr(Yo,e.__scopeDialog),s=m.useRef(!1),i=m.useRef(!1);return r.jsx(Jx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(s.current||n.triggerRef.current?.focus(),l.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=l.target;n.triggerRef.current?.contains(d)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),Jx=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,...d}=e,u=cr(Yo,n),f=m.useRef(null),h=Rn(t,f);return Y3(),r.jsxs(r.Fragment,{children:[r.jsx(Nx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,children:r.jsx(vx,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Sf(u.open),...d,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(BR,{titleId:u.titleId}),r.jsx(VR,{contentRef:f,descriptionId:u.descriptionId})]})]})}),kf="DialogTitle",Qx=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=cr(kf,n);return r.jsx(ii.h2,{id:i.titleId,...s,ref:t})});Qx.displayName=kf;var ey="DialogDescription",ty=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=cr(ey,n);return r.jsx(ii.p,{id:i.descriptionId,...s,ref:t})});ty.displayName=ey;var ny="DialogClose",ry=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=cr(ny,n);return r.jsx(ii.button,{type:"button",...s,ref:t,onClick:Yt(e.onClick,()=>i.onOpenChange(!1))})});ry.displayName=ny;function Sf(e){return e?"open":"closed"}var oy="DialogTitleWarning",[DM,sy]=q5(oy,{contentName:Yo,titleName:kf,docsSlug:"dialog"}),BR=({titleId:e})=>{const t=sy(oy),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},UR="DialogDescriptionWarning",VR=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sy(UR).contentName}}.`;return m.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},ZR=Zx,qR=Yx,ay=Kx,iy=Xx,ly=Qx,cy=ty,GR=ry;const Cf=ZR,YR=qR,dy=m.forwardRef(({className:e,...t},n)=>r.jsx(ay,{ref:n,className:De("fixed inset-0 z-[100000] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dy.displayName=ay.displayName;const xc=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(YR,{children:[r.jsx(dy,{}),r.jsxs(iy,{ref:s,className:De("fixed left-[50%] top-[50%] z-[100000] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(GR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(qt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xc.displayName=iy.displayName;const yc=({className:e,...t})=>r.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yc.displayName="DialogHeader";const Ef=({className:e,...t})=>r.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ef.displayName="DialogFooter";const vc=m.forwardRef(({className:e,...t},n)=>r.jsx(ly,{ref:n,className:De("text-lg font-semibold leading-none tracking-tight",e),...t}));vc.displayName=ly.displayName;const bc=m.forwardRef(({className:e,...t},n)=>r.jsx(cy,{ref:n,className:De("text-sm text-muted-foreground",e),...t}));bc.displayName=cy.displayName;var KR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],XR=KR.reduce((e,t)=>{const n=m0(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,f=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),JR="Label",uy=m.forwardRef((e,t)=>r.jsx(XR.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));uy.displayName=JR;var fy=uy;const QR=Au("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Vr=m.forwardRef(({className:e,...t},n)=>r.jsx(fy,{ref:n,className:De(QR(),e),...t}));Vr.displayName=fy.displayName;function ez(e){const t=tz(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),f=u.find(rz);if(f){const h=f.props.children,g=u.map(v=>v===f?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function tz(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=sz(i),u=oz(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ur(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nz=Symbol("radix.slottable");function rz(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nz}function oz(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const f=l(...u);return i(...u),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function sz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var az=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wc=az.reduce((e,t)=>{const n=ez(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,f=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function py(e){const t=iz(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),f=u.find(cz);if(f){const h=f.props.children,g=u.map(v=>v===f?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function iz(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=uz(i),u=dz(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ur(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lz=Symbol("radix.slottable");function cz(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lz}function dz(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const f=l(...u);return i(...u),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function uz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function fz(e){const t=e+"CollectionProvider",[n,s]=si(t),[i,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:S,children:C}=N,_=$e.useRef(null),w=$e.useRef(new Map).current;return r.jsx(i,{scope:S,itemMap:w,collectionRef:_,children:C})};d.displayName=t;const u=e+"CollectionSlot",f=py(u),h=$e.forwardRef((N,S)=>{const{scope:C,children:_}=N,w=l(u,C),R=Rn(S,w.collectionRef);return r.jsx(f,{ref:R,children:_})});h.displayName=u;const g=e+"CollectionItemSlot",v="data-radix-collection-item",x=py(g),b=$e.forwardRef((N,S)=>{const{scope:C,children:_,...w}=N,R=$e.useRef(null),P=Rn(S,R),I=l(g,C);return $e.useEffect(()=>(I.itemMap.set(R,{ref:R,...w}),()=>void I.itemMap.delete(R))),r.jsx(x,{[v]:"",ref:P,children:_})});b.displayName=g;function k(N){const S=l(e+"CollectionConsumer",N);return $e.useCallback(()=>{const _=S.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${v}]`));return Array.from(S.itemMap.values()).sort((I,O)=>w.indexOf(I.ref.current)-w.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:d,Slot:h,ItemSlot:b},k,s]}function pz(e){const t=mz(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),f=u.find(gz);if(f){const h=f.props.children,g=u.map(v=>v===f?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function mz(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=yz(i),u=xz(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ur(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hz=Symbol("radix.slottable");function gz(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hz}function xz(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const f=l(...u);return i(...u),f}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function yz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],my=vz.reduce((e,t)=>{const n=pz(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,f=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),bz=m.createContext(void 0);function hy(e){const t=m.useContext(bz);return e||t||"ltr"}var _f="rovingFocusGroup.onEntryFocus",wz={bubbles:!1,cancelable:!0},li="RovingFocusGroup",[Rf,gy,jz]=fz(li),[Nz,xy]=si(li,[jz]),[kz,Sz]=Nz(li),yy=m.forwardRef((e,t)=>r.jsx(Rf.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Rf.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Cz,{...e,ref:t})})}));yy.displayName=li;var Cz=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...v}=e,x=m.useRef(null),b=Rn(t,x),k=hy(l),[N,S]=pf({prop:d,defaultProp:u??null,onChange:f,caller:li}),[C,_]=m.useState(!1),w=Hs(h),R=gy(n),P=m.useRef(!1),[I,O]=m.useState(0);return m.useEffect(()=>{const M=x.current;if(M)return M.addEventListener(_f,w),()=>M.removeEventListener(_f,w)},[w]),r.jsx(kz,{scope:n,orientation:s,dir:k,loop:i,currentTabStopId:N,onItemFocus:m.useCallback(M=>S(M),[S]),onItemShiftTab:m.useCallback(()=>_(!0),[]),onFocusableItemAdd:m.useCallback(()=>O(M=>M+1),[]),onFocusableItemRemove:m.useCallback(()=>O(M=>M-1),[]),children:r.jsx(my.div,{tabIndex:C||I===0?-1:0,"data-orientation":s,...v,ref:b,style:{outline:"none",...e.style},onMouseDown:Yt(e.onMouseDown,()=>{P.current=!0}),onFocus:Yt(e.onFocus,M=>{const B=!P.current;if(M.target===M.currentTarget&&B&&!C){const V=new CustomEvent(_f,wz);if(M.currentTarget.dispatchEvent(V),!V.defaultPrevented){const oe=R().filter(ae=>ae.focusable),ue=oe.find(ae=>ae.active),Ne=oe.find(ae=>ae.id===N),ke=[ue,Ne,...oe].filter(Boolean).map(ae=>ae.ref.current);wy(ke,g)}}P.current=!1}),onBlur:Yt(e.onBlur,()=>_(!1))})})}),vy="RovingFocusGroupItem",by=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:l,children:d,...u}=e,f=ac(),h=l||f,g=Sz(vy,n),v=g.currentTabStopId===h,x=gy(n),{onFocusableItemAdd:b,onFocusableItemRemove:k,currentTabStopId:N}=g;return m.useEffect(()=>{if(s)return b(),()=>k()},[s,b,k]),r.jsx(Rf.ItemSlot,{scope:n,id:h,focusable:s,active:i,children:r.jsx(my.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:Yt(e.onMouseDown,S=>{s?g.onItemFocus(h):S.preventDefault()}),onFocus:Yt(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:Yt(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){g.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const C=Rz(S,g.orientation,g.dir);if(C!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let w=x().filter(R=>R.focusable).map(R=>R.ref.current);if(C==="last")w.reverse();else if(C==="prev"||C==="next"){C==="prev"&&w.reverse();const R=w.indexOf(S.currentTarget);w=g.loop?zz(w,R+1):w.slice(R+1)}setTimeout(()=>wy(w))}}),children:typeof d=="function"?d({isCurrentTabStop:v,hasTabStop:N!=null}):d})})});by.displayName=vy;var Ez={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _z(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Rz(e,t,n){const s=_z(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Ez[s]}function wy(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function zz(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Tz=yy,Dz=by;function $z(e){const[t,n]=m.useState(void 0);return Ws(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let d,u;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;d=h.inlineSize,u=h.blockSize}else d=e.offsetWidth,u=e.offsetHeight;n({width:d,height:u})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}function Pz(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var zf="Radio",[Mz,jy]=si(zf),[Iz,Lz]=Mz(zf),Ny=m.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:i=!1,required:l,disabled:d,value:u="on",onCheck:f,form:h,...g}=e,[v,x]=m.useState(null),b=Rn(t,S=>x(S)),k=m.useRef(!1),N=v?h||!!v.closest("form"):!0;return r.jsxs(Iz,{scope:n,checked:i,disabled:d,children:[r.jsx(wc.button,{type:"button",role:"radio","aria-checked":i,"data-state":Ey(i),"data-disabled":d?"":void 0,disabled:d,value:u,...g,ref:b,onClick:Yt(e.onClick,S=>{i||f?.(),N&&(k.current=S.isPropagationStopped(),k.current||S.stopPropagation())})}),N&&r.jsx(Cy,{control:v,bubbles:!k.current,name:s,value:u,checked:i,required:l,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});Ny.displayName=zf;var ky="RadioIndicator",Sy=m.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...i}=e,l=Lz(ky,n);return r.jsx(ai,{present:s||l.checked,children:r.jsx(wc.span,{"data-state":Ey(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t})})});Sy.displayName=ky;var Oz="RadioBubbleInput",Cy=m.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...i},l)=>{const d=m.useRef(null),u=Rn(d,l),f=Pz(n),h=$z(t);return m.useEffect(()=>{const g=d.current;if(!g)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"checked").set;if(f!==n&&b){const k=new Event("click",{bubbles:s});b.call(g,n),g.dispatchEvent(k)}},[f,n,s]),r.jsx(wc.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Cy.displayName=Oz;function Ey(e){return e?"checked":"unchecked"}var Az=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jc="RadioGroup",[Fz]=si(jc,[xy,jy]),_y=xy(),Ry=jy(),[Wz,Hz]=Fz(jc),zy=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:i,value:l,required:d=!1,disabled:u=!1,orientation:f,dir:h,loop:g=!0,onValueChange:v,...x}=e,b=_y(n),k=hy(h),[N,S]=pf({prop:l,defaultProp:i??null,onChange:v,caller:jc});return r.jsx(Wz,{scope:n,name:s,required:d,disabled:u,value:N,onValueChange:S,children:r.jsx(Tz,{asChild:!0,...b,orientation:f,dir:k,loop:g,children:r.jsx(wc.div,{role:"radiogroup","aria-required":d,"aria-orientation":f,"data-disabled":u?"":void 0,dir:k,...x,ref:t})})})});zy.displayName=jc;var Ty="RadioGroupItem",Dy=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...i}=e,l=Hz(Ty,n),d=l.disabled||s,u=_y(n),f=Ry(n),h=m.useRef(null),g=Rn(t,h),v=l.value===i.value,x=m.useRef(!1);return m.useEffect(()=>{const b=N=>{Az.includes(N.key)&&(x.current=!0)},k=()=>x.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",k)}},[]),r.jsx(Dz,{asChild:!0,...u,focusable:!d,active:v,children:r.jsx(Ny,{disabled:d,required:l.required,checked:v,...f,...i,name:l.name,ref:g,onCheck:()=>l.onValueChange(i.value),onKeyDown:Yt(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:Yt(i.onFocus,()=>{x.current&&h.current?.click()})})})});Dy.displayName=Ty;var Bz="RadioGroupIndicator",$y=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,i=Ry(n);return r.jsx(Sy,{...i,...s,ref:t})});$y.displayName=Bz;var Py=zy,My=Dy,Uz=$y;const Iy=m.forwardRef(({className:e,...t},n)=>r.jsx(Py,{className:De("grid gap-2",e),...t,ref:n}));Iy.displayName=Py.displayName;const Tf=m.forwardRef(({className:e,...t},n)=>r.jsx(My,{ref:n,className:De("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(Uz,{className:"flex items-center justify-center",children:r.jsx(ij,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Tf.displayName=My.displayName;function Ly({open:e,onOpenChange:t}){const{activeEmailId:n,emails:s}=Ps(),i=s.find(N=>N.id===n),[l,d]=m.useState("dummy"),[u,f]=m.useState(""),[h,g]=m.useState(()=>window.sfuiData?.currentUserEmail||""),[v,x]=m.useState({type:null,message:""}),b=m.useCallback(async()=>{if(!h){x({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)){x({type:"error",message:"Please enter a valid email address"});return}if(!i){x({type:"error",message:"No email selected"});return}const{formId:S,ajaxUrl:C,nonce:_}=window.sfuiData||{};if(!C||!_){x({type:"error",message:"WordPress context not available"});return}x({type:"loading",message:"Sending test email..."});try{const w={from:i.from_email||"",from_name:i.from_name||"",reply:i.reply_to?.email||"",reply_name:i.reply_to?.name||"",cc:i.cc||"",bcc:i.bcc||"",subject:i.subject||"Test Email",body:i.body||"",attachments:i.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},R=new FormData;R.append("action","super_send_test_email"),R.append("nonce",_),R.append("form_id",S||0),R.append("data_type",l),R.append("entry_id",l==="entry"?u:""),R.append("test_recipient",h),Object.entries(w).forEach(([O,M])=>{Array.isArray(M)?M.forEach((B,V)=>{R.append(`email_settings[${O}][${V}]`,B)}):R.append(`email_settings[${O}]`,String(M))});const I=await(await fetch(C,{method:"POST",body:R,credentials:"same-origin"})).json();I.success?(x({type:"success",message:I.data?.message||"Test email sent!"}),setTimeout(()=>{t(!1),x({type:null,message:""})},2e3)):x({type:"error",message:I.data?.message||"Failed to send test email"})}catch(w){console.error("Test email error:",w),x({type:"error",message:"Network error - please try again"})}},[i,l,u,h,t]),k=m.useCallback(N=>{N||x({type:null,message:""}),t(N)},[t]);return r.jsx(Cf,{open:e,onOpenChange:k,children:r.jsxs(xc,{className:"sm:max-w-md",children:[r.jsxs(yc,{children:[r.jsx(vc,{children:"Send Test Email"}),r.jsx(bc,{children:"Send a test version of this email to verify it looks correct."})]}),r.jsxs("div",{"data-testid":"recipient-section",className:"grid gap-2",children:[r.jsx(Vr,{htmlFor:"test-recipient",children:"Recipient Email"}),r.jsx(Nr,{id:"test-recipient","data-testid":"test-recipient-input",type:"email",value:h,onChange:N=>g(N.target.value),placeholder:"recipient@example.com"})]}),r.jsxs("div",{"data-testid":"data-source-section",className:"grid gap-2",children:[r.jsx(Vr,{children:"Test Data Source"}),r.jsxs(Iy,{value:l,onValueChange:d,className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Tf,{value:"dummy",id:"dummy-data","data-testid":"dummy-data-radio"}),r.jsx(Vr,{htmlFor:"dummy-data",className:"font-normal cursor-pointer",children:"Dummy data"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Tf,{value:"entry",id:"entry-data","data-testid":"entry-data-radio"}),r.jsx(Vr,{htmlFor:"entry-data",className:"font-normal cursor-pointer",children:"Entry data"})]})]})]}),l==="entry"&&r.jsxs("div",{"data-testid":"entry-id-section",className:"grid gap-2",children:[r.jsx(Vr,{htmlFor:"entry-id",children:"Entry ID"}),r.jsx(Nr,{id:"entry-id","data-testid":"entry-id-input",type:"number",value:u,onChange:N=>f(N.target.value),placeholder:"Leave empty for latest entry",min:1})]}),v.type&&r.jsxs("div",{"data-testid":"status-message",className:De("flex items-center gap-2 p-3 rounded-md text-sm",v.type==="loading"&&"bg-blue-50 text-blue-700",v.type==="success"&&"bg-green-50 text-green-700",v.type==="error"&&"bg-red-50 text-red-700"),children:[v.type==="loading"&&r.jsx(yl,{className:"w-4 h-4 animate-spin"}),v.type==="success"&&r.jsx(il,{className:"w-4 h-4"}),v.type==="error"&&r.jsx(Wo,{className:"w-4 h-4"}),r.jsx("span",{children:v.message})]}),r.jsxs(Ef,{className:"sm:justify-start",children:[r.jsxs(tn,{"data-testid":"send-test-btn",onClick:b,disabled:v.type==="loading",children:[v.type==="loading"?r.jsx(yl,{className:"w-4 h-4 animate-spin"}):r.jsx(Ss,{className:"w-4 h-4"}),r.jsx("span",{children:"Send Test"})]}),r.jsx(tn,{"data-testid":"cancel-btn",type:"button",variant:"secondary",onClick:()=>k(!1),disabled:v.type==="loading",children:"Close"})]})]})})}function Df({email:e,isMobile:t,isBuilder:n,renderBody:s,updateEmailField:i,activeEmailId:l,isHtmlMode:d,onModeChange:u,onShowTestEmail:f}){const h=e.from_name||"Sender Name",g=e.from_email||"sender@example.com",v=e.subject||"Email Subject",x=e.to||"recipient@example.com",b=e.cc||"",k=e.bcc||"",[N,S]=m.useState(!1),C=new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),_=m.useCallback((w,R)=>{i&&l&&i(l,w,R)},[i,l]);return t?r.jsxs("div",{"data-testid":"gmail-chrome-mobile",className:"h-full bg-white flex flex-col max-w-md mx-auto",children:[r.jsx("div",{"data-testid":"mobile-header",className:"bg-white border-b px-4 py-3",children:r.jsxs("div",{"data-testid":"mobile-header-nav",className:"flex items-center justify-between",children:[r.jsx("button",{"data-testid":"mobile-back-btn",className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsxs("div",{"data-testid":"mobile-header-actions",className:"flex gap-4",children:[n&&r.jsx(tn,{"data-testid":"mobile-reply-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Send Test Email",onClick:()=>S(!0),children:r.jsx(vl,{className:"w-4 h-4"})}),r.jsx(tn,{"data-testid":"mobile-label-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Label",children:r.jsx(lo,{className:"w-4 h-4"})}),r.jsx(tn,{"data-testid":"mobile-more-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"More options",children:r.jsx(Eh,{className:"w-4 h-4"})})]})]})}),r.jsx("div",{"data-testid":"mobile-content-scroll",className:"flex-1 overflow-auto",children:r.jsxs("div",{"data-testid":"mobile-content-inner",className:"p-4",children:[n?r.jsx(As,{"data-testid":"mobile-subject-field",value:e.subject,onChange:w=>_("subject",w),placeholder:"Email Subject",className:"text-lg font-normal text-gray-900 mb-4",noPadding:!0}):r.jsx("h2",{"data-testid":"mobile-subject-display",className:"text-lg font-normal text-gray-900 mb-4",children:v}),r.jsxs("div",{"data-testid":"mobile-sender-section",className:"flex items-start gap-5 mb-4",children:[r.jsx("div",{"data-testid":"mobile-sender-avatar",className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600",children:r.jsx(Ua,{className:"w-6 h-6"})}),r.jsxs("div",{"data-testid":"mobile-sender-details",className:"flex-1",children:[r.jsxs("div",{"data-testid":"mobile-sender-row",className:"flex items-center gap-2",children:[n?r.jsx(As,{"data-testid":"mobile-from-name-field",value:e.from_name,onChange:w=>_("from_name",w),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}):r.jsx("span",{"data-testid":"mobile-from-name-display",className:"font-medium text-gray-900",children:h}),r.jsx("span",{"data-testid":"mobile-date",className:"text-xs text-gray-500",children:C})]}),r.jsx("div",{"data-testid":"mobile-recipients-list",className:"text-sm text-gray-600 space-y-2 mt-2",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"mobile-to-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"mobile-to-label",className:"inline-block w-12 text-gray-500 font-medium",children:"To"}),r.jsx("div",{"data-testid":"mobile-to-field-wrapper",className:"flex-1",children:r.jsx(Fs,{"data-testid":"mobile-to-field",value:e.to||"",onChange:w=>_("to",w),placeholder:"Add recipients..."})})]}),r.jsxs("div",{"data-testid":"mobile-cc-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"mobile-cc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Cc"}),r.jsx("div",{"data-testid":"mobile-cc-field-wrapper",className:"flex-1",children:r.jsx(Fs,{"data-testid":"mobile-cc-field",value:e.cc||"",onChange:w=>_("cc",w),placeholder:"Add Cc..."})})]}),r.jsxs("div",{"data-testid":"mobile-bcc-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"mobile-bcc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Bcc"}),r.jsx("div",{"data-testid":"mobile-bcc-field-wrapper",className:"flex-1",children:r.jsx(Fs,{"data-testid":"mobile-bcc-field",value:e.bcc||"",onChange:w=>_("bcc",w),placeholder:"Add Bcc..."})})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"mobile-to-display",children:["to ",x]}),b&&r.jsxs("div",{"data-testid":"mobile-cc-display",children:["cc: ",b]}),k&&r.jsxs("div",{"data-testid":"mobile-bcc-display",children:["bcc: ",k]})]})})]})]}),r.jsxs("div",{"data-testid":"mobile-attachments-mode-row",className:"flex items-center justify-between gap-2 px-2",children:[r.jsx(hx,{attachments:e.attachments||[],onChange:w=>_("attachments",w),isBuilder:n}),n&&u&&r.jsxs("div",{"data-testid":"mobile-mode-toggle",className:"flex items-center gap-0.5 bg-gray-100 rounded-md p-0.5",children:[r.jsx("button",{"data-testid":"mobile-visual-mode-btn",onClick:()=>!d||u("visual"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"text-gray-500":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:r.jsx(Fn,{className:"w-3 h-3"})}),r.jsx("button",{"data-testid":"mobile-html-mode-btn",onClick:()=>d||u("html"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"bg-white text-gray-900 shadow-sm":"text-gray-500"),title:"HTML Editor",children:r.jsx(Zt,{className:"w-3 h-3"})})]})]}),r.jsx("div",{"data-testid":"mobile-email-container",className:"bg-white p-2",children:r.jsx("div",{"data-testid":"mobile-email-body",className:"bg-white min-h-[200px] p-0",children:n&&s?s():r.jsx(px,{email:e})})})]})}),n&&r.jsx(Ly,{open:N,onOpenChange:S})]}):r.jsxs("div",{"data-testid":"gmail-chrome-desktop",className:"h-full bg-white flex flex-col",children:[r.jsx("div",{"data-testid":"gmail-header",className:"border-b border-gray-200 bg-white",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-start gap-5",children:[r.jsx("div",{"data-testid":"sender-avatar",className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 flex-shrink-0",children:r.jsx(Ua,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{"data-testid":"subject-row",className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[n?r.jsx(As,{"data-testid":"subject-field",value:e.subject,onChange:w=>_("subject",w),placeholder:"Email Subject",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},noPadding:!0}):r.jsx("h1",{"data-testid":"subject-display",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},children:v}),r.jsx("span",{"data-testid":"inbox-label",className:"px-2 py-0.5 bg-gray-100 text-xs text-gray-600 rounded",children:"Inbox"}),(e.scheduled_date||e.schedule)&&r.jsx(fx,{scheduledDate:e.scheduled_date,schedule:e.schedule})]}),r.jsxs("div",{"data-testid":"subject-row-actions",className:"flex items-center gap-2",children:[r.jsx(tn,{"data-testid":"label-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Label",children:r.jsx(lo,{className:"w-4 h-4"})}),r.jsx(tn,{"data-testid":"more-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"More options",children:r.jsx(Eh,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{"data-testid":"from-to-section",className:"flex items-center justify-between mt-2",children:[r.jsxs("div",{"data-testid":"sender-recipients",children:[r.jsx("div",{"data-testid":"from-row",className:"flex items-center pb-8",children:n?r.jsxs(r.Fragment,{children:[r.jsx(As,{"data-testid":"from-name-field",value:e.from_name,onChange:w=>_("from_name",w),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600 ml-2.5",children:"<"}),r.jsx(As,{"data-testid":"from-email-field",value:e.from_email,onChange:w=>_("from_email",w),placeholder:"sender@example.com",type:"email",className:"text-sm text-gray-600",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600",children:">"})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{"data-testid":"from-name-display",className:"font-medium text-gray-900",children:h}),r.jsxs("span",{"data-testid":"from-email-display",className:"text-sm text-gray-600",children:["<",g,">"]})]})}),r.jsx("div",{"data-testid":"recipients-list",className:"text-sm text-gray-600 border-t border-gray-200",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"to-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"to-label",className:"inline-block w-12 text-gray-500 font-medium",children:"To"}),r.jsx("div",{"data-testid":"to-field-wrapper",className:"flex-1",children:r.jsx(Fs,{"data-testid":"to-field",value:e.to||"",onChange:w=>_("to",w),placeholder:"Add recipients..."})})]}),r.jsxs("div",{"data-testid":"cc-row",className:"flex items-center border-t border-gray-200",children:[r.jsx("span",{"data-testid":"cc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Cc"}),r.jsx("div",{"data-testid":"cc-field-wrapper",className:"flex-1",children:r.jsx(Fs,{"data-testid":"cc-field",value:e.cc||"",onChange:w=>_("cc",w),placeholder:"Add Cc recipients..."})})]}),r.jsxs("div",{"data-testid":"bcc-row",className:"flex items-center border-t border-gray-200",children:[r.jsx("span",{"data-testid":"bcc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Bcc"}),r.jsx("div",{"data-testid":"bcc-field-wrapper",className:"flex-1",children:r.jsx(Fs,{"data-testid":"bcc-field",value:e.bcc||"",onChange:w=>_("bcc",w),placeholder:"Add Bcc recipients..."})})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"to-display",className:"py-1",children:["to ",x]}),b&&r.jsxs("div",{"data-testid":"cc-display",className:"py-1 border-t border-gray-200",children:["cc: ",b]}),k&&r.jsxs("div",{"data-testid":"bcc-display",className:"py-1 border-t border-gray-200",children:["bcc: ",k]})]})})]}),r.jsxs("div",{"data-testid":"header-actions",className:"flex items-center gap-2",children:[r.jsx("div",{"data-testid":"email-date",className:"text-sm text-gray-500",children:C}),r.jsx(tn,{"data-testid":"star-btn",variant:"outline",size:"icon",className:"h-8",disabled:!0,children:r.jsx(Uh,{className:"w-4 h-4"})}),n&&r.jsx(tn,{"data-testid":"reply-header-btn",variant:"outline",size:"icon",className:"h-8",onClick:()=>S(!0),title:"Send Test Email",children:r.jsx(vl,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{"data-testid":"attachments-mode-row",className:"flex items-center justify-between gap-4 mt-2",children:[r.jsx(hx,{attachments:e.attachments||[],onChange:w=>_("attachments",w),isBuilder:n}),n&&u&&r.jsxs("div",{"data-testid":"mode-toggle",className:"flex items-center gap-1",children:[r.jsxs(Cr,{"data-testid":"visual-mode-btn",variant:d?"outline":"outlineActive",size:"sm",onClick:()=>!d||u("visual"),title:"Visual Builder",children:[r.jsx(Fn,{className:"w-4 h-4"}),r.jsx("span",{children:"Visual"})]}),r.jsxs(Cr,{"data-testid":"html-mode-btn",variant:d?"outlineActive":"outline",size:"sm",onClick:()=>d||u("html"),title:"HTML Editor",children:[r.jsx(Zt,{className:"w-4 h-4"}),r.jsx("span",{children:"HTML"})]})]})]})]})]})})}),r.jsx("div",{"data-testid":"email-content-scroll",className:"flex-1 overflow-auto",children:r.jsxs("div",{"data-testid":"email-content-container",className:"max-w-[1000px] mx-auto bg-white",children:[r.jsx("div",{"data-testid":"email-body",className:"bg-white min-h-[200px] p-0",children:n&&s?s():r.jsx(px,{email:e})}),r.jsx("div",{"data-testid":"reply-section",className:"border-t border-gray-200 pt-6 pl-6",children:r.jsx("div",{className:"flex gap-3",children:n?r.jsxs(r.Fragment,{children:[r.jsxs(Cr,{"data-testid":"reply-btn",variant:"pill",onClick:()=>S(!0),children:[r.jsx(vl,{className:"w-4 h-4"}),"Reply"]}),r.jsxs(Cr,{"data-testid":"forward-btn",variant:"pill",onClick:()=>S(!0),children:[r.jsx(Rh,{className:"w-4 h-4"}),"Forward"]})]}):r.jsxs(r.Fragment,{children:[r.jsxs(Cr,{"data-testid":"reply-btn",variant:"pill",disabled:!0,children:[r.jsx(vl,{className:"w-4 h-4"}),"Reply"]}),r.jsxs(Cr,{"data-testid":"forward-btn",variant:"pill",disabled:!0,children:[r.jsx(Rh,{className:"w-4 h-4"}),"Forward"]})]})})})]})}),n&&r.jsx(Ly,{open:N,onOpenChange:S})]})}const dt=Sl((e,t)=>({elements:[],selectedElementId:null,isDragging:!1,draggedElement:null,editingTextElementId:null,currentTemplate:null,savedTemplates:[],templateCategories:[{id:"welcome",name:"Welcome/Onboarding",count:5},{id:"transactional",name:"Transactional",count:5},{id:"newsletter",name:"Newsletter",count:5},{id:"notification",name:"Notification",count:5},{id:"minimal",name:"Minimal",count:3}],previewClient:"gmail-desktop",previewData:{},elementTypes:{emailWrapper:{id:"emailWrapper",name:"Email Wrapper",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{backgroundColor:"#f5f5f5"}},emailContainer:{id:"emailContainer",name:"Email Container",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{width:"600px",margin:{top:50,right:"auto",bottom:50,left:"auto"},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#e5e5e5",padding:{top:60,right:30,bottom:60,left:30},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",boxShadow:"none",borderRadius:0}},section:{id:"section",name:"Section",icon:"",defaultProps:{margin:{top:0,right:0,bottom:0,left:0},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#000000",padding:{top:20,right:20,bottom:20,left:20},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",fullWidth:!1}},columns:{id:"columns",name:"Columns",icon:"",defaultProps:{columns:2,gap:20,stackOnMobile:!0}},text:{id:"text",name:"Text",icon:"",defaultProps:{content:"Click to edit this text...",fontSize:16,fontFamily:"Arial, sans-serif",color:"#333333",lineHeight:1.6,align:"left",width:"100%",margin:{top:0,right:0,bottom:0,left:0},padding:{top:0,right:0,bottom:0,left:0}}},image:{id:"image",name:"Image",icon:"",defaultProps:{src:"",alt:"",width:"100%",height:"auto",align:"center",link:""}},button:{id:"button",name:"Button",icon:"",defaultProps:{text:"Click Here",href:"#",backgroundColor:"#0066cc",color:"#ffffff",fontSize:16,fontWeight:"bold",padding:{top:12,right:24,bottom:12,left:24},borderRadius:4,align:"center",fullWidth:!1}},divider:{id:"divider",name:"Divider",icon:"",defaultProps:{height:1,color:"#dddddd",style:"solid",margin:{top:20,bottom:20}}},spacer:{id:"spacer",name:"Spacer",icon:"",defaultProps:{height:20}},social:{id:"social",name:"Social Icons",icon:"",defaultProps:{icons:["facebook","twitter","instagram","linkedin"],iconSize:32,iconColor:"#333333",spacing:10,align:"center"}},formData:{id:"formData",name:"Form Data",icon:"",defaultProps:{field:"",fallback:"",format:"text"}},html:{id:"html",name:"HTML",icon:"</>",defaultProps:{content:"<p>Your HTML content here...</p>"}}},addElement:(n,s=null,i=null)=>{console.log(" addElement called:",{type:n,parentId:s,position:i});const{elementTypes:l}=t(),d=l[n];if(!d){console.error(" Element type not found:",n);return}if(d.isSystemElement){console.log(" Skipping system element creation:",n);return}const u={id:An(),type:n,props:{...d.defaultProps},children:[]};return console.log(" Created new element:",u),e(f=>{console.log(" Current state before adding:",f.elements);const h=t().ensureSystemElements(f.elements);if(console.log(" State after ensuring system elements:",h),s){console.log(" Adding to parent:",s);const g={elements:qs(h,s,u,i)};return console.log(" Final state after addToParent:",g.elements),g}else{console.log(" Adding to root - finding email container...");const g=(x,b)=>{for(const k of x){if(k.type===b)return k;if(k.children&&k.children.length>0){const N=g(k.children,b);if(N)return N}}return null},v=g(h,"emailContainer");if(console.log(" Found email container:",v),v){console.log(" Adding to email container:",v.id);const x={elements:qs(h,v.id,u,i)};return console.log(" Final state after addToParent to container:",x.elements),x}else{console.log(" No email container found, adding to root");const x=[...h];return i!==null?x.splice(i,0,u):x.push(u),console.log(" Final state (root fallback):",x),{elements:x}}}}),console.log(" addElement completed, returning:",u.id),u.id},updateElement:(n,s)=>{e(i=>({elements:Pf(i.elements,n,s)}))},deleteElement:n=>{e(s=>({elements:kc(s.elements,n),selectedElementId:s.selectedElementId===n?null:s.selectedElementId}))},moveElement:(n,s,i)=>{e(l=>{let d=[...l.elements],u=null;if(d=kc(d,n,f=>{u=f}),!u)return l;if(u.type==="emailWrapper"||u.type==="emailContainer")return console.log(" Cannot move system elements"),l;if(s)d=qs(d,s,u,i);else{const f=(g,v)=>{for(const x of g){if(x.type===v)return x;if(x.children&&x.children.length>0){const b=f(x.children,v);if(b)return b}}return null},h=f(d,"emailContainer");if(h)console.log(" Moving to email container:",h.id),d=qs(d,h.id,u,i);else return console.log(" No email container found, cannot add element"),l}return{elements:d}})},selectElement:n=>{console.log("selectElement called with id:",n),e({selectedElementId:n}),console.log("selectedElementId set to:",n)},clearCanvas:()=>{e({elements:[],selectedElementId:null})},setElements:n=>{const s=t().ensureSystemElements(n||[]);e({elements:s})},ensureSystemElements:n=>{const{elementTypes:s}=t();let i=[...n];const l=(h,g)=>{for(const v of h){if(v.type===g)return v;if(v.children&&v.children.length>0){const x=l(v.children,g);if(x)return x}}return null};let d=i.find(h=>h.type==="emailWrapper");d||(d={id:`email-wrapper-${Date.now()}`,type:"emailWrapper",props:{...s.emailWrapper.defaultProps},children:[]},i.unshift(d));let u=l([d],"emailContainer");u||(u={id:`email-container-${Date.now()}`,type:"emailContainer",props:{...s.emailContainer.defaultProps},children:[]},d.children.unshift(u));const f=i.filter(h=>h.type!=="emailWrapper");return f.length>0&&(u.children.push(...f),i=i.filter(h=>h.type==="emailWrapper")),i},saveAsTemplate:(n,s,i)=>{const{elements:l}=t(),d={id:An(),name:n,description:s,category:i,elements:JSON.parse(JSON.stringify(l)),createdAt:new Date().toISOString(),thumbnail:null};return e(u=>({savedTemplates:[...u.savedTemplates,d]})),d},loadTemplate:n=>{const{savedTemplates:s}=t(),i=s.find(l=>l.id===n);i&&e({elements:JSON.parse(JSON.stringify(i.elements)),currentTemplate:i,selectedElementId:null})},deleteTemplate:n=>{e(s=>({savedTemplates:s.savedTemplates.filter(i=>i.id!==n)}))},generateHtml:()=>{const{elements:n}=t();return Vz(n)},startDrag:n=>{e({isDragging:!0,draggedElement:n})},endDrag:()=>{e({isDragging:!1,draggedElement:null})},setEditingTextElement:n=>{e({editingTextElementId:n})},moveElementUpDown:(n,s)=>{const i=t(),l=$f(i.elements,n);if(!l){console.log("Element not found:",n);return}const{parent:d,parentId:u,position:f}=l,h=d?d.children:i.elements,g=s==="up"?f-1:f+1;if(g<0||g>=h.length){console.log("Cannot move element beyond bounds");return}const v=u||null;t().moveElement(n,v,g)}})),Nc=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.children&&n.children.length>0)if(n.type==="columns")for(const s of n.children){const i=Nc(s.children||[],t);if(i)return i}else{const s=Nc(n.children,t);if(s)return s}}return null},$f=(e,t,n=null,s=null)=>{for(let i=0;i<e.length;i++){const l=e[i];if(l.id===t)return{parent:n,parentId:s,position:i};if(l.children&&l.children.length>0)if(l.type==="columns")for(const d of l.children){const u=$f(d.children||[],t,d,d.id);if(u)return u}else{const d=$f(l.children,t,l,l.id);if(d)return d}}return null},Ko=()=>{const e=dt(w=>w.selectElement),t=dt(w=>w.updateElement),n=dt(w=>w.addElement),s=dt(w=>w.deleteElement),i=dt(w=>w.moveElement),l=dt(w=>w.setElements),d=dt(w=>w.clearCanvas),u=dt(w=>w.generateHtml),f=dt(w=>w.startDrag),h=dt(w=>w.endDrag),g=dt(w=>w.setEditingTextElement),v=dt(w=>w.moveElementUpDown),x=dt(w=>w.selectedElementId),b=dt(w=>w.isDragging),k=dt(w=>w.draggedElement),N=dt(w=>w.elementTypes),S=dt(w=>w.editingTextElementId),C=dt(w=>w.elements),_=m.useMemo(()=>x?Nc(C,x):null,[x,C]);return{elements:C,selectedElementId:x,selectedElement:_,isDragging:b,draggedElement:k,elementTypes:N,editingTextElementId:S,selectElement:e,updateElement:t,addElement:n,deleteElement:s,moveElement:i,setElements:l,clearCanvas:d,generateHtml:u,startDrag:f,endDrag:h,setEditingTextElement:g,moveElementUpDown:v}};Ko.getState=()=>{const e=dt.getState(),t=e.selectedElementId?Nc(e.elements,e.selectedElementId):null;return{...e,selectedElement:t}};function qs(e,t,n,s){if(console.log(" addToParent called:",{parentId:t,newElement:n,position:s}),console.log(" Elements structure:",e),t&&t.includes("-col-")){const[i,,l]=t.split("-"),d=parseInt(l);return e.map(u=>{if(u.id===i&&u.type==="columns"){const f=[...u.children||[]];for(;f.length<=d;)f.push({type:"column",children:[]});const h=[...f[d]?.children||[]];return s!=null?h.splice(s,0,n):h.push(n),f[d]={type:"column",children:h},{...u,children:f}}return u.children&&u.children.length>0?{...u,children:qs(u.children,t,n,s)}:u})}return e.map(i=>{if(i.id===t){console.log(" Found target parent element:",i);const l=[...i.children];s!=null?(l.splice(s,0,n),console.log(" Added at position",s,"- new children:",l)):(l.push(n),console.log(" Added at end - new children:",l));const d={...i,children:l};return console.log(" Updated parent element:",d),d}return i.children&&i.children.length>0?{...i,children:qs(i.children,t,n,s)}:i})}function Pf(e,t,n){return e.map(s=>s.id===t?typeof n=="function"?n(s):{...s,...n}:s.children&&s.children.length>0?s.type==="columns"?{...s,children:s.children.map(i=>({...i,children:Pf(i.children||[],t,n)}))}:{...s,children:Pf(s.children,t,n)}:s)}function kc(e,t,n){return e.filter(s=>s.id===t?(n&&n(s),!1):(s.children&&s.children.length>0&&(s.type==="columns"?s.children=s.children.map(i=>({...i,children:kc(i.children||[],t,n)})):s.children=kc(s.children,t,n)),!0))}function Vz(e){const t=s=>{switch(s.type){case"section":const i=s.props.margin||{top:0,right:0,bottom:0,left:0},l=s.props.border||{top:0,right:0,bottom:0,left:0},d=s.props.borderStyle||"solid",u=s.props.borderColor||"#000000",f=i.top||i.bottom?`<tr><td style="padding: ${i.top}px ${i.right}px ${i.bottom}px ${i.left}px;"></td></tr>`:"",h=s.props.backgroundImage?`background-image: url('${s.props.backgroundImage}'); background-size: ${s.props.backgroundSize||"cover"}; background-position: ${s.props.backgroundPosition||"center"}; background-repeat: ${s.props.backgroundRepeat||"no-repeat"};`:"",v=l.top>0||l.right>0||l.bottom>0||l.left>0?`border-top: ${l.top}px ${d} ${u}; border-right: ${l.right}px ${d} ${u}; border-bottom: ${l.bottom}px ${d} ${u}; border-left: ${l.left}px ${d} ${u};`:"";return`${f}<tr><td style="padding: ${s.props.padding.top}px ${s.props.padding.right}px ${s.props.padding.bottom}px ${s.props.padding.left}px; background-color: ${s.props.backgroundColor}; ${h} ${v}">
          ${s.children.map(t).join("")}
        </td></tr>`;case"text":return`<div style="font-size: ${s.props.fontSize}px; color: ${s.props.color}; text-align: ${s.props.align}; line-height: ${s.props.lineHeight};">
          ${s.props.content}
        </div>`;case"button":return`<div style="text-align: ${s.props.align};">
          <a href="${s.props.href}" style="display: inline-block; background-color: ${s.props.backgroundColor}; color: ${s.props.color}; padding: ${s.props.padding.top}px ${s.props.padding.right}px ${s.props.padding.bottom}px ${s.props.padding.left}px; text-decoration: none; border-radius: ${s.props.borderRadius}px; font-size: ${s.props.fontSize}px; font-weight: ${s.props.fontWeight};">
            ${s.props.text}
          </a>
        </div>`;case"html":return s.props.content||"";default:return""}};return`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f4f4f4;">
  <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="min-width: 100%;">
    <tr>
      <td align="center">
        <!--[if mso]>
        <table role="presentation" width="600" cellpadding="0" cellspacing="0">
        <tr>
        <td>
        <![endif]-->
        
        <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
          ${e.map(t).join("")}
        </table>
        
        <!--[if mso]>
        </td>
        </tr>
        </table>
        <![endif]-->
      </td>
    </tr>
  </table>
</body>
</html>`}const Zz={section:Ma,columns:su,text:Cs,image:cu,button:Bh,divider:$h,spacer:Ph,social:Ah,formData:ll,html:Zt};function qz({element:e}){const{attributes:t,listeners:n,setNodeRef:s,isDragging:i}=lf({id:`palette-${e.id}`,data:{type:"new-element",elementType:e.id}}),l=Zz[e.id]||Ma;return r.jsxs("div",{ref:s,...n,...t,className:pe("flex flex-col items-center justify-center p-3 cursor-move","hover:bg-gray-100 transition-colors rounded-lg group",i&&"opacity-50"),title:e.name,children:[r.jsx(l,{className:"w-5 h-5 mb-1 text-gray-600 group-hover:text-gray-800"}),r.jsx("span",{className:"text-xs text-gray-600 text-center leading-tight group-hover:text-gray-800",children:e.name})]})}function Gz(){const{elementTypes:e}=Ko(),t=[{name:"Layout",elements:["section","columns","spacer"]},{name:"Content",elements:["text","image","button","divider","html"]},{name:"Dynamic",elements:["formData","social"]}];return r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Elements:"}),r.jsx("div",{className:"flex items-center gap-6 overflow-x-auto",children:t.map((n,s)=>r.jsxs($e.Fragment,{children:[s>0&&r.jsx("div",{className:"h-8 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase mr-2",children:n.name}),n.elements.map(i=>{const l=e[i];return l?r.jsx(qz,{element:l},l.id):null})]})]},n.name))}),r.jsx("div",{className:"ml-auto text-xs text-gray-500 whitespace-nowrap",children:"Drag to add"})]})})}const Yz={emailWrapper:{resizable:!1,background:{color:!0,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,canDelete:!1,isSystemElement:!0,backgroundOnly:!0},display:{showInBuilder:!0,selectable:!0}},emailContainer:{resizable:!1,background:{color:!0,image:!0},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{canDelete:!1,isSystemElement:!0,droppable:!0,widthOptions:["600px","700px"]},effects:{borderRadius:!0,shadow:!0},display:{showInBuilder:!0,selectable:!0}},text:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0,lineHeight:!0,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},display:{showInBuilder:!0,selectable:!0}},button:{resizable:{horizontal:!0,vertical:!1,minWidth:80,maxWidth:400},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!1,lineHeight:!1,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},display:{showInBuilder:!0,selectable:!0}},image:{resizable:{horizontal:!0,vertical:!0,minWidth:50,minHeight:50,maxWidth:1e3,maxHeight:800,aspectRatio:!0},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,alt:!0,title:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},media:{formats:["jpg","png","gif"],maxFileSize:"5MB",optimization:!0},display:{showInBuilder:!0,selectable:!0}},section:{resizable:{horizontal:!0,vertical:!0,minWidth:200,minHeight:50,maxWidth:700,defaultWidth:600},background:{color:!0,image:!0,gradient:!1},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,contained:!0,centered:!0,columns:!0,droppable:!0},container:{maxColumns:4,columnSpacing:!0,verticalAlignment:!0,equalHeight:!0},effects:{borderRadius:!0,shadow:!1}},spacer:{resizable:{horizontal:!1,vertical:!0,minHeight:10,maxHeight:200},background:{color:!1,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,inline:!1},display:{showInBuilder:!0,showInEmail:!1}},divider:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!0,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!0,inline:!1},style:{thickness:!0,style:!0,opacity:!0},display:{showInBuilder:!0,selectable:!0}},social:{resizable:{horizontal:!1,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!1,inline:!0},social:{platforms:["facebook","twitter","linkedin","instagram","youtube"],iconStyle:["default","round","square"],iconSize:["small","medium","large"],showLabels:!0},display:{showInBuilder:!0,selectable:!0}},columns:{resizable:{horizontal:!0,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,droppable:!0},columns:{count:{min:2,max:4},distribution:["equal","custom"],spacing:!0,verticalAlignment:["top","middle","bottom"],responsive:{mobile:"stack",tablet:"maintain",desktop:"maintain"}},display:{showInBuilder:!0,selectable:!0}},formData:{resizable:{horizontal:!0,vertical:!1},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},data:{fields:["name","email","phone","company","custom"],formatting:!0,fallback:!0},display:{showInBuilder:!0,selectable:!0}}};function Mf(e){return Yz[e]||{}}function Gs(e,t){const n=Mf(e),s=t.split(".");let i=n;for(const l of s)if(i&&typeof i=="object"&&l in i)i=i[l];else return!1;return!!i}function Oy({margin:e,border:t,padding:n,backgroundColor:s,backgroundImage:i,borderRadius:l,boxShadow:d,children:u,className:f,isResizing:h=!1}){const g=()=>{const x={};if(e&&(e.top!==void 0&&(x.marginTop=`${e.top}px`),e.right!==void 0&&(x.marginRight=`${e.right}px`),e.bottom!==void 0&&(x.marginBottom=`${e.bottom}px`),e.left!==void 0&&(x.marginLeft=`${e.left}px`)),t&&t.width){const{width:b,style:k="solid",color:N="#000000"}=t;b.top>0&&(x.borderTop=`${b.top}px ${k} ${N}`),b.right>0&&(x.borderRight=`${b.right}px ${k} ${N}`),b.bottom>0&&(x.borderBottom=`${b.bottom}px ${k} ${N}`),b.left>0&&(x.borderLeft=`${b.left}px ${k} ${N}`)}return n&&(n.top!==void 0&&(x.paddingTop=`${n.top}px`),n.right!==void 0&&(x.paddingRight=`${n.right}px`),n.bottom!==void 0&&(x.paddingBottom=`${n.bottom}px`),n.left!==void 0&&(x.paddingLeft=`${n.left}px`)),s&&s!=="transparent"&&(x.backgroundColor=s),i&&i.url&&(x.backgroundImage=`url(${i.url})`,x.backgroundSize=i.size||"cover",x.backgroundPosition=i.position||"center",x.backgroundRepeat=i.repeat||"no-repeat"),l&&l>0&&(x.borderRadius=`${l}px`,x.WebkitBorderRadius=`${l}px`,x.MozBorderRadius=`${l}px`),d&&d!=="none"&&(x.boxShadow=d,x.WebkitBoxShadow=d,x.MozBoxShadow=d),x},v=()=>{const x={};return s&&s!=="transparent"&&(x.bgcolor=s),i&&i.url&&(x.background=i.url),x};return r.jsx("div",{className:pe("spacing-layer",!h&&"transition-all duration-200",f),style:g(),...v(),children:u})}function Kz({capabilities:e,isResizing:t=!1,intensity:n="normal"}){const s=()=>{const d="absolute inset-0 pointer-events-none rounded";switch(n){case"subtle":return pe(d,"ring-1 ring-green-400 animate-pulse","transition-all duration-1000");case"strong":return pe(d,"ring-4 ring-green-500 animate-pulse","transition-all duration-500");default:return pe(d,"ring-2 ring-green-500 animate-pulse","transition-all duration-700")}},i=()=>{const d={};return e.effects?.borderRadius&&(d.borderRadius="inherit"),t&&(d.opacity=.3),d},l=()=>{const d=[];return e.resizable?.horizontal&&!t&&d.push(r.jsx("div",{className:"absolute top-1/2 right-0 w-1 h-4 bg-green-500 opacity-40 transform -translate-y-1/2 rounded-l"},"resize-horizontal-hint")),e.resizable?.vertical&&!t&&d.push(r.jsx("div",{className:"absolute bottom-0 left-1/2 w-4 h-1 bg-green-500 opacity-40 transform -translate-x-1/2 rounded-t"},"resize-vertical-hint")),d};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:s(),style:i()}),l(),r.jsx("div",{className:"absolute inset-0 pointer-events-none rounded",style:{boxShadow:"inset 0 0 0 1px rgba(34, 197, 94, 0.3)",borderRadius:"inherit",opacity:t?.2:.6}})]})}function Xz({element:e,isSelected:t,isHovered:n,renderElements:s,children:i,onElementUpdate:l,onCapabilityAction:d,onEdit:u,isMobile:f}){const h=m.useRef(null),[g,v]=m.useState(!1),[x,b]=m.useState(null),[k,N]=m.useState(!1),[S,C]=m.useState(null),_=dt(U=>U.updateElement),w=Mf(e.type),{margin:R={top:0,right:0,bottom:0,left:0},border:P={top:0,right:0,bottom:0,left:0},borderStyle:I="solid",borderColor:O="#000000",padding:M={top:0,right:0,bottom:0,left:0},backgroundColor:B="transparent",backgroundImage:V="",backgroundSize:oe="cover",backgroundPosition:ue="center",backgroundRepeat:Ne="no-repeat",width:re,height:ke,maxWidth:ae,minWidth:ne,fullWidth:F}=e.props||{},K=(U,ge)=>{ge.preventDefault(),ge.stopPropagation(),v(!0),b(U);const ze=ge.clientX,Ee=ge.clientY,rt=h.current?.offsetWidth||0,qe=h.current?.offsetHeight||0,ot=Ct=>{const Kt=Ct.clientX-ze,nn=Ct.clientY-Ee;let cn=rt,le=qe;if(U==="right"||U==="corner"){const de=w.resizable?.minWidth||100,he=w.resizable?.maxWidth||700;cn=Math.max(de,Math.min(he,rt+Kt))}if(U==="bottom"||U==="corner"){const de=w.resizable?.minHeight||50,he=w.resizable?.maxHeight||1e3;le=Math.max(de,Math.min(he,qe+nn))}_(e.id,{props:{...e.props,...U==="right"||U==="corner"?{width:`${cn}px`}:{},...U==="bottom"||U==="corner"?{height:`${le}px`}:{}}})},Xe=()=>{v(!1),b(null),document.removeEventListener("mousemove",ot),document.removeEventListener("mouseup",Xe)};document.addEventListener("mousemove",ot),document.addEventListener("mouseup",Xe)},Y=()=>{v(!1),b(null)},z=U=>{U.stopPropagation(),C(e.props?.backgroundColor||"#ffffff"),N(!0)},T=U=>{C(U),_(e.id,{props:{...e.props,backgroundColor:U}})},q=()=>{S&&_(e.id,{props:{...e.props,backgroundColor:S}}),N(!1),C(null)},G=()=>{const U=e.props?.backgroundColor||"#ffffff";_(e.id,{props:{...e.props,backgroundColor:U}}),N(!1),C(null)};m.useEffect(()=>{const U=ge=>{k&&h.current&&!h.current.contains(ge.target)&&G()};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[k]);const J=e.type!=="emailWrapper"&&e.type!=="emailContainer"&&(Gs(e.type,"spacing.margin")||Gs(e.type,"spacing.border")||Gs(e.type,"spacing.padding")),xe=()=>{const U={};return w.resizable?.horizontal&&re&&(U.width=re),w.resizable?.vertical&&ke&&(U.height=ke),ae&&(U.maxWidth=ae),ne&&(U.minWidth=ne),U};return r.jsxs("div",{ref:h,className:pe("universal-element-wrapper","relative",!g&&"transition-all duration-200",t&&"selected",n&&!t&&"hovered ring-2 ring-gray-400 ring-opacity-40",g&&"resizing",w.layout?.fullWidth&&"full-width",w.layout?.inline&&"inline-element"),style:{...xe(),...F?{width:"100%"}:{},...w.layout?.fullWidth&&!re&&!F&&{width:"100%"},...w.layout?.inline&&{display:"inline-block"},...w.layout?.centered&&!F&&{margin:"0 auto"},...e.type==="section"&&!re&&!F&&{width:`${w.resizable?.defaultWidth||600}px`},...e.type==="emailWrapper"&&{width:"100%",minHeight:"200px",display:"block",backgroundColor:B!=="transparent"?B:"#f5f5f5"},...e.type==="emailContainer"&&{width:f?"100%":re||"600px",maxWidth:f?"100%":re||"600px",margin:f?"0":"0 auto",display:"block",minHeight:"200px"}},"data-element-type":e.type,"data-element-id":e.id,"data-component":"UniversalElementWrapper","data-is-system":w.layout?.isSystemElement?"true":"false","data-is-selected":t?"true":"false","data-is-hovered":n?"true":"false","data-debug-env":"production",children:[t&&r.jsx(Kz,{capabilities:w,isResizing:g}),(n&&!t||t&&w.layout?.backgroundOnly)&&w.layout?.isSystemElement&&u&&r.jsx("div",{className:"absolute top-1 left-1 z-[60] pointer-events-auto",children:r.jsx("button",{onClick:U=>{U.stopPropagation(),e.type==="emailWrapper"&&w.layout?.backgroundOnly?z(U):u(U)},className:"p-1.5 bg-blue-500 text-white rounded shadow-lg hover:shadow-xl transition-all hover:scale-110",title:e.type==="emailWrapper"?"Change Background Color":`Edit ${e.type==="emailContainer"?"Email Container":e.type}`,children:e.type==="emailWrapper"&&w.layout?.backgroundOnly?r.jsx(Fn,{className:"w-3 h-3"}):r.jsx(jr,{className:"w-3 h-3"})})}),t&&w.layout?.isSystemElement&&r.jsx("div",{className:"absolute top-1 left-1 z-10",children:r.jsxs("div",{className:"bg-blue-500 text-white p-1 rounded shadow-sm flex items-center gap-1",children:[r.jsx(jr,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:e.type==="emailWrapper"?"Wrapper":"Container"})]})}),k&&e.type==="emailWrapper"&&r.jsx("div",{className:"absolute top-10 left-1 z-[70] pointer-events-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl border p-3 min-w-[200px]",children:[r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("button",{onClick:G,className:"flex-1 px-3 py-1.5 text-sm text-gray-600 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"Cancel"}),r.jsx("button",{onClick:q,className:"flex-1 px-3 py-1.5 text-sm text-white bg-blue-500 hover:bg-blue-600 rounded transition-colors",children:"Apply"})]}),r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Background Color"}),r.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:["#ffffff","#f8f9fa","#e9ecef","#dee2e6","#f8f5f0","#fff9e6","#e8f4fd","#e6f7ff","#f0f8f0","#fef7f0","#f5f5f5","#000000"].map(U=>r.jsx("button",{onClick:()=>T(U),className:pe("w-6 h-6 rounded border-2 transition-colors",S===U?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-blue-500"),style:{backgroundColor:U},title:U},U))}),r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Custom Color"}),r.jsx("input",{type:"color",value:S||e.props?.backgroundColor||"#ffffff",onChange:U=>T(U.target.value),className:"w-full h-8 rounded border border-gray-300"})]})}),t&&w.resizable&&r.jsx(Jz,{capabilities:w.resizable,onResizeStart:K,onResizeEnd:Y,isResizing:g,direction:x}),J?r.jsx(Oy,{margin:Gs(e.type,"spacing.margin")?R:null,border:Gs(e.type,"spacing.border")?{width:P,style:I,color:O}:null,padding:Gs(e.type,"spacing.padding")?M:null,backgroundColor:w.background?.color?B:null,backgroundImage:w.background?.image?{url:V,size:oe,position:ue,repeat:Ne}:null,borderRadius:w.effects?.borderRadius?e.props.borderRadius:null,isResizing:g,children:i}):r.jsx("div",{className:"element-content",children:i})]})}function Jz({capabilities:e,onResizeStart:t,onResizeEnd:n,isResizing:s,direction:i}){const l=[];return e.horizontal&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-right","absolute top-0 right-0 w-2 h-full cursor-ew-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",s&&i==="right"&&"opacity-75"),onMouseDown:d=>t("right",d)},"resize-right")),e.vertical&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-bottom","absolute bottom-0 left-0 w-full h-2 cursor-ns-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",s&&i==="bottom"&&"opacity-75"),onMouseDown:d=>t("bottom",d)},"resize-bottom")),e.horizontal&&e.vertical&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-corner","absolute bottom-0 right-0 w-3 h-3 cursor-nw-resize","bg-blue-500 opacity-0 hover:opacity-75 transition-opacity",s&&i==="corner"&&"opacity-100"),onMouseDown:d=>t("corner",d)},"resize-corner")),r.jsx(r.Fragment,{children:l})}function Qz({element:e,renderElements:t}){const{children:n=[]}=e;return r.jsx("div",{className:"email-wrapper-content w-full min-h-[200px] relative","data-component":"EmailWrapperElement","data-element-type":"emailWrapper","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?t(n,e.id):r.jsx("div",{className:"p-6 text-center text-gray-400 border-2 border-dashed border-purple-200 rounded-lg min-h-[150px] flex flex-col items-center justify-center",children:r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Email Client Background"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Click to edit the email client background color"}),r.jsx("div",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded text-xs font-medium",children:"Clickable Email Wrapper"})]})})})}function eT({element:e,renderElements:t}){const{children:n=[]}=e;new Date().toISOString();const{margin:s={top:0,right:0,bottom:0,left:0},padding:i={top:0,right:0,bottom:0,left:0},border:l={top:0,right:0,bottom:0,left:0},borderStyle:d="solid",borderColor:u="#000000",backgroundColor:f,backgroundImage:h,backgroundSize:g="cover",backgroundPosition:v="center",backgroundRepeat:x="no-repeat",borderRadius:b=0,boxShadow:k="none"}=e.props||{},{setNodeRef:N}=lr({id:`email-container-main-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-drop"}}),{setNodeRef:S,isOver:C}=lr({id:`email-container-empty-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-empty-drop"}});return r.jsx("div",{style:{paddingTop:`${s.top}px`,paddingRight:`${s.right}px`,paddingBottom:`${s.bottom}px`,paddingLeft:`${s.left}px`},children:r.jsx(Oy,{margin:null,padding:i,border:{width:l,style:d,color:u},backgroundColor:f,backgroundImage:h?{url:h,size:g,position:v,repeat:x}:null,borderRadius:b,boxShadow:k,children:r.jsx("div",{className:"email-container-content w-full h-full min-h-[200px] relative","data-component":"EmailContainerElement","data-element-type":"emailContainer","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?r.jsx("div",{ref:N,className:"min-h-full",children:t(n,e.id)}):r.jsxs("div",{ref:S,className:pe("h-full min-h-[150px] flex flex-col items-center justify-center text-gray-400 transition-all",C&&"bg-blue-50 border-2 border-blue-300 border-dashed"),children:[r.jsx(Bo,{className:"w-10 h-10 mb-3"}),r.jsx("p",{className:"text-sm",children:"Drop elements here"}),C&&r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Release to add element"})]})})})})}function tT({element:e,renderElements:t}){const[n,s]=$e.useState(!1),{setNodeRef:i,isOver:l}=lr({id:`${e.id}-droppable`,data:{parentId:e.id,position:e.children?.length||0}}),{backgroundColor:d="transparent",backgroundImage:u,backgroundSize:f="cover",backgroundPosition:h="center",backgroundRepeat:g="no-repeat"}=e.props;return r.jsx("div",{ref:i,className:pe("element-content min-h-[50px] transition-all",l&&"bg-primary-50"),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{backgroundColor:d!=="transparent"?d:void 0,backgroundImage:u?`url(${u})`:void 0,backgroundSize:f,backgroundPosition:h,backgroundRepeat:g},children:e.children&&e.children.length>0?t(e.children,e.id):r.jsx("div",{className:pe("py-8 text-center text-sm border-2 border-dashed rounded transition-all",n?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop elements here"})})}function nT({position:e,onFormatText:t,onAlignText:n,onFontSize:s,onTextColor:i,onDelete:l,onMoveUp:d,onMoveDown:u,onStartDrag:f,onSave:h,currentAlign:g="left",currentFontSize:v=16,currentColor:x="#000000",isVisible:b=!1,showElementControls:k=!1}){const N=m.useRef(null);if(m.useEffect(()=>{if(b&&e&&N.current){const w=N.current;w.style.left=`${e.x}px`,w.style.top=`${e.y}px`}},[e,b]),!b)return null;const S=[{icon:Sh,command:"bold",title:"Bold (Ctrl+B)"},{icon:Dh,command:"italic",title:"Italic (Ctrl+I)"},{icon:Zh,command:"underline",title:"Underline (Ctrl+U)"},{icon:Wa,command:"createLink",title:"Add Link (Ctrl+K)"}],C=[{icon:jh,value:"left",title:"Align Left"},{icon:wh,value:"center",title:"Align Center"},{icon:Nh,value:"right",title:"Align Right"}],_=[12,14,16,18,20,24,28,32,36];return r.jsxs("div",{ref:N,className:"fixed z-50 bg-white shadow-lg border border-gray-200 rounded-lg p-2 flex items-center gap-1 pointer-events-auto",style:{position:"fixed",transform:"translateX(-50%)"},children:[k&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),h&&h()},className:"p-2 rounded bg-green-500 hover:bg-green-600 text-white",title:"Save and exit",children:r.jsx(Ns,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation(),f&&f(w)},className:"p-2 rounded hover:bg-gray-100 cursor-move",title:"Drag to move",children:r.jsx(xl,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),d&&d()},className:"p-2 rounded hover:bg-gray-100",title:"Move Up",children:r.jsx(La,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),u&&u()},className:"p-2 rounded hover:bg-gray-100",title:"Move Down",children:r.jsx(gn,{className:"w-4 h-4 text-gray-700"})}),r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"})]}),r.jsx("div",{className:"flex border-r border-gray-200 pr-2 mr-2",children:S.map(({icon:w,command:R,title:P})=>r.jsx("button",{type:"button",onMouseDown:I=>{I.preventDefault(),I.stopPropagation()},onClick:I=>{I.preventDefault(),I.stopPropagation(),t(R)},className:"p-2 rounded hover:bg-gray-100",title:P,children:r.jsx(w,{className:"w-4 h-4 text-gray-700"})},R))}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(Cs,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("select",{value:v,onChange:w=>s(parseInt(w.target.value)),className:"text-sm border border-gray-300 rounded px-2 py-1 min-w-[60px]",children:_.map(w=>r.jsxs("option",{value:w,children:[w,"px"]},w))})]}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(Fn,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("input",{type:"color",value:x,onChange:w=>i(w.target.value),className:"w-8 h-8 border border-gray-300 rounded cursor-pointer",title:"Text Color"})]}),r.jsx("div",{className:"flex",children:C.map(({icon:w,value:R,title:P})=>r.jsx("button",{type:"button",onClick:()=>n(R),className:pe("p-2 rounded transition-colors",g===R?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-700"),title:P,children:r.jsx(w,{className:"w-4 h-4"})},R))}),k&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),l&&l()},className:"p-2 rounded hover:bg-red-100",title:"Delete Element",children:r.jsx(Wn,{className:"w-4 h-4 text-red-600"})})]})]})}function rT({element:e}){const{content:t,fontSize:n=16,fontFamily:s="Arial, sans-serif",color:i="#000000",lineHeight:l=1.6,align:d="left",width:u="100%",margin:f={top:0,right:0,bottom:16,left:0},padding:h={top:0,right:0,bottom:0,left:0}}=e.props,[g,v]=m.useState(!1),[x,b]=m.useState(null),[k,N]=m.useState(!1),S=m.useRef(null),C=dt.getState().updateElement,_=dt.getState().deleteElement,w=dt.getState().selectElement,{setEditingTextElement:R,moveElementUpDown:P,isDragging:I}=Ko();m.useEffect(()=>{!g&&S.current&&S.current.innerHTML!==(t||"")&&(S.current.innerHTML=t||"")},[t,g]);const O=T=>{T.stopPropagation(),g||(w(e.id),v(!0),R(e.id),S.current&&(S.current.innerHTML=t||""),setTimeout(()=>{if(S.current){S.current.focus();const q=window.getSelection(),G=document.createRange();G.selectNodeContents(S.current),G.collapse(!1),q.removeAllRanges(),q.addRange(G),B()}},0))};m.useEffect(()=>{const T=q=>{if(g&&S.current&&!S.current.contains(q.target)){const G=document.querySelector(".fixed.z-50");if(G&&G.contains(q.target))return;V()}};return g&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[g]);const M=()=>{g&&B()};m.useEffect(()=>{!I&&g&&S.current&&B()},[I]),m.useEffect(()=>{if(!g||!k)return;const T=()=>{if(S.current){const J=S.current.getBoundingClientRect();b({x:J.left+J.width/2,y:J.top-50-20})}},q=[];let G=S.current;for(;G;){const J=window.getComputedStyle(G);(G.scrollHeight>G.clientHeight||J.overflowY==="scroll"||J.overflowY==="auto"||J.overflow==="scroll"||J.overflow==="auto")&&(q.push(G),G.addEventListener("scroll",T,{passive:!0})),G=G.parentElement}return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",T,{passive:!0}),T(),()=>{q.forEach(J=>{J.removeEventListener("scroll",T)}),window.removeEventListener("scroll",T),window.removeEventListener("resize",T)}},[g,k]);const B=()=>{if(S.current){const T=S.current.getBoundingClientRect();b({x:T.left+T.width/2,y:T.top-50-20}),N(!0)}},V=()=>{if(S.current){const T=S.current.innerHTML;C(e.id,{props:{...e.props,content:T}})}v(!1),N(!1),b(null),R(null)},oe=T=>{T.key==="Enter"&&(T.ctrlKey||T.metaKey)&&(T.preventDefault(),V()),T.key==="Escape"&&(T.preventDefault(),V())},ue=T=>{if(T==="createLink"){const q=prompt("Enter URL:");q&&document.execCommand("createLink",!1,q)}else document.execCommand(T,!1,null);S.current?.focus()},Ne=T=>{C(e.id,{props:{...e.props,align:T}})},re=T=>{C(e.id,{props:{...e.props,fontSize:T}})},ke=T=>{C(e.id,{props:{...e.props,color:T}})},ae=T=>{const q=T.target.innerHTML;clearTimeout(window.textUpdateTimeout),window.textUpdateTimeout=setTimeout(()=>{C(e.id,{props:{...e.props,content:q}})},300)},ne=()=>{V(),_(e.id)},F=()=>{P(e.id,"up")},K=()=>{P(e.id,"down")},Y=T=>{V();const q=T.target.closest('[data-component="SortableElement"]');if(q){const G=q.querySelector('[data-drag-handle="true"]');if(G){const J=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:T.clientX,clientY:T.clientY});G.dispatchEvent(J)}}},z=()=>{V()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:S,className:`min-h-[20px] element-content ${g?"outline-2 outline-blue-500 outline-dashed":""}`,style:{fontSize:`${n}px`,fontFamily:s,color:i,lineHeight:l,textAlign:d,width:u,marginTop:`${f.top}px`,marginRight:`${f.right}px`,marginBottom:`${f.bottom}px`,marginLeft:`${f.left}px`,paddingTop:`${h.top}px`,paddingRight:`${h.right}px`,paddingBottom:`${h.bottom}px`,paddingLeft:`${h.left}px`,cursor:g?"text":"pointer",minHeight:"1em"},contentEditable:g,suppressContentEditableWarning:!0,onClick:O,onKeyDown:g?oe:void 0,onInput:g?ae:void 0,onMouseUp:g?M:void 0,onKeyUp:g?M:void 0,"data-component":"TextElement","data-element-type":"text","data-element-id":e.id,"data-is-editing":g?"true":"false"}),r.jsx(nT,{position:x,isVisible:k&&g&&!I,onFormatText:ue,onAlignText:Ne,onFontSize:re,onTextColor:ke,onDelete:ne,onMoveUp:F,onMoveDown:K,onStartDrag:Y,onSave:z,currentAlign:d,currentFontSize:n,currentColor:i,showElementControls:!0}),g&&r.jsx("div",{className:"absolute bottom-[-30px] left-0 right-0 text-xs text-gray-500 text-center bg-white px-2 py-1 rounded shadow-sm",children:"Press Ctrl+Enter or click outside to finish  ESC to cancel"})]})}function oT({element:e}){const{text:t="Button",href:n="#",backgroundColor:s="#007cba",color:i="#ffffff",fontSize:l=16,fontWeight:d="normal",borderRadius:u=4,align:f="left",fullWidth:h=!1,target:g="_blank"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:f},children:r.jsx("a",{href:n,target:g,rel:g==="_blank"?"noopener noreferrer":void 0,className:"inline-block no-underline transition-opacity hover:opacity-80",style:{backgroundColor:s,color:i,fontSize:`${l}px`,fontWeight:d,borderRadius:`${u}px`,width:h?"100%":"auto",textAlign:"center",padding:"12px 24px"},children:t})})}function sT({element:e}){const{src:t,alt:n="Image",width:s="auto",height:i="auto",align:l="left",link:d,target:u="_blank"}=e.props,f=r.jsx("img",{src:t||"https://via.placeholder.com/600x300",alt:n,style:{width:s,height:i,maxWidth:"100%",display:"block",border:"0",outline:"none",textDecoration:"none",msInterpolationMode:"bicubic"}});return r.jsx("div",{className:"element-content",style:{textAlign:l},children:d?r.jsx("a",{href:d,target:u,rel:u==="_blank"?"noopener noreferrer":void 0,style:{textDecoration:"none",border:"0",outline:"none"},children:f}):f})}function aT({element:e}){const{height:t=20}=e.props;return r.jsx("div",{className:"element-content bg-transparent",style:{height:`${t}px`,fontSize:"0",lineHeight:"0"},children:""})}function iT({element:e}){const{height:t=1,color:n="#cccccc",style:s="solid",align:i="center",width:l="100%"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:i},children:r.jsx("hr",{style:{height:`${t}px`,width:l,backgroundColor:s==="solid"?n:"transparent",border:"none",borderTop:s==="dashed"?`${t}px dashed ${n}`:s==="dotted"?`${t}px dotted ${n}`:void 0,margin:0,display:"block",fontSize:"0",lineHeight:"0"}})})}function lT({element:e,renderElements:t}){const{columns:n=2,gap:s=16,stackOnMobile:i=!0}=e.props,l=Array(n).fill(null).map((d,u)=>e.children?.[u]||{type:"column",children:[]});return r.jsx("div",{className:"element-content flex flex-wrap",style:{gap:`${s}px`},"data-stack-mobile":i,children:l.map((d,u)=>r.jsx(cT,{columnId:`${e.id}-col-${u}`,parentId:e.id,index:u,width:`${100/n}%`,gap:s,renderElements:t,children:d.children||[]},u))})}function cT({columnId:e,parentId:t,index:n,width:s,gap:i,renderElements:l,children:d}){const[u,f]=$e.useState(!1),{setNodeRef:h,isOver:g}=lr({id:e,data:{parentId:t,position:n,isColumn:!0}});return r.jsx("div",{ref:h,className:pe("min-h-[100px] transition-all",g&&"bg-primary-50"),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:{flex:`0 0 calc(${s} - ${i}px)`},children:d.length>0?l(d,e):r.jsx("div",{className:pe("h-full flex items-center justify-center text-sm border-2 border-dashed rounded p-4 transition-all",u?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop here"})})}const dT={facebook:{icon:"",defaultUrl:"https://facebook.com",label:"Facebook"},twitter:{icon:"",defaultUrl:"https://twitter.com",label:"Twitter"},instagram:{icon:"",defaultUrl:"https://instagram.com",label:"Instagram"},linkedin:{icon:"",defaultUrl:"https://linkedin.com",label:"LinkedIn"},youtube:{icon:"",defaultUrl:"https://youtube.com",label:"YouTube"},pinterest:{icon:"",defaultUrl:"https://pinterest.com",label:"Pinterest"}};function uT({element:e}){const{icons:t=["facebook","twitter","instagram"],iconSize:n=32,iconColor:s="#333333",spacing:i=8,align:l="left"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:l},children:r.jsx("div",{className:"inline-flex items-center",style:{gap:`${i}px`},children:t.map(d=>{const u=dT[d];return u?r.jsx("a",{href:u.defaultUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center transition-opacity hover:opacity-70",style:{width:`${n}px`,height:`${n}px`,fontSize:`${n*.6}px`,color:s},title:u.label,children:r.jsx("span",{children:u.icon})},d):null})})})}function fT({element:e}){const{field:t="email",fallback:n="[Form Field]",format:s="text"}=e.props,i=t?`{${t}}`:n;return r.jsx("div",{className:"element-content inline-block px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:i})}function pT({element:e}){const{content:t=""}=e.props,[n,s]=m.useState(!1),[i,l]=m.useState(!0),[d,u]=m.useState(t),f=m.useRef(null),h=dt.getState().updateElement;m.useEffect(()=>{n||u(t)},[t,n]),m.useEffect(()=>{n&&f.current&&(f.current.style.height="auto",f.current.style.height=Math.max(100,f.current.scrollHeight)+"px")},[d,n]);const g=b=>{b.stopPropagation(),n||(s(!0),setTimeout(()=>f.current?.focus(),0))},v=()=>{h(e.id,{props:{...e.props,content:d}}),s(!1)},x=b=>{b.key==="Escape"&&(b.preventDefault(),u(t),s(!1)),b.key==="Enter"&&(b.ctrlKey||b.metaKey)&&(b.preventDefault(),v())};return n?r.jsxs("div",{className:"border-2 border-blue-500 rounded overflow-hidden","data-component":"HtmlElement","data-element-id":e.id,"data-is-editing":"true",children:[r.jsxs("div",{className:"bg-gray-800 px-3 py-2 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-300 font-mono",children:"HTML Block"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>l(!i),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors",i?"bg-gray-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[i?r.jsx(iu,{className:"w-3 h-3"}):r.jsx(ws,{className:"w-3 h-3"}),i?"Hide Preview":"Show Preview"]}),r.jsxs("button",{onClick:v,className:"flex items-center gap-1 bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition-colors",children:[r.jsx(Ia,{className:"w-3 h-3"}),"Save"]})]})]}),r.jsxs("div",{className:pe("flex",i?"flex-row":"flex-col"),children:[r.jsx("div",{className:pe("bg-gray-900",i?"w-1/2":"w-full"),children:r.jsx("textarea",{ref:f,value:d,onChange:b=>u(b.target.value),onKeyDown:x,className:"w-full min-h-[100px] bg-gray-900 text-gray-100 font-mono text-sm p-3 border-0 outline-none resize-none",placeholder:"Enter your HTML code here...",spellCheck:!1})}),i&&r.jsxs("div",{className:"w-1/2 bg-white border-l border-gray-700",children:[r.jsx("div",{className:"bg-gray-100 px-3 py-1 text-xs text-gray-500 border-b",children:"Preview"}),r.jsx("div",{className:"p-3 prose max-w-none min-h-[100px]",children:d?r.jsx("div",{dangerouslySetInnerHTML:{__html:d}}):r.jsx("span",{className:"text-gray-400",children:"Preview will appear here..."})})]})]}),r.jsx("div",{className:"bg-gray-800 px-3 py-1 text-xs text-gray-500 text-center",children:"Ctrl+Enter to save | ESC to cancel"})]}):r.jsxs("div",{onClick:g,className:"relative cursor-pointer group min-h-[40px]","data-component":"HtmlElement","data-element-id":e.id,children:[r.jsxs("div",{className:"absolute top-1 right-1 bg-gray-700 text-white text-xs px-1.5 py-0.5 rounded opacity-60 group-hover:opacity-100 flex items-center gap-1 z-10",children:[r.jsx(Zt,{className:"w-3 h-3"}),r.jsx("span",{children:"HTML"})]}),t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsx("div",{className:"text-gray-400 text-center py-4 border-2 border-dashed border-gray-300 rounded",children:"Click to add HTML code"}),r.jsx("div",{className:"absolute inset-0 bg-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:"Click to edit HTML"})})]})}const mT={emailWrapper:Qz,emailContainer:eT,section:tT,text:rT,button:oT,image:sT,spacer:aT,divider:iT,columns:lT,social:uT,formData:fT,html:pT};function hT({element:e,renderElements:t,isSelected:n,isHovered:s=!1,onElementUpdate:i,onCapabilityAction:l,onEdit:d,isMobile:u}){const f=mT[e.type];return f?r.jsx(Xz,{element:e,isSelected:n,isHovered:s,renderElements:t,onElementUpdate:i,onCapabilityAction:l,onEdit:d,isMobile:u,children:r.jsx(f,{element:e,renderElements:t})}):r.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm",children:["Unknown element type: ",e.type]})}function Ay({element:e,index:t,parentId:n,isSelected:s,onSelect:i,renderElements:l,isMobile:d}){const[u,f]=m.useState(!1),{deleteElement:h,editingTextElementId:g}=Ko(),x=Mf(e.type).layout?.isSystemElement,{attributes:b,listeners:k,setNodeRef:N,transform:S,transition:C,isDragging:_}=uf({id:e.id,disabled:x,data:{type:"canvas-element",elementId:e.id,parentId:n,position:t}}),w={transform:Sr.Transform.toString(S),transition:C,opacity:_?.5:void 0},R=B=>{B.stopPropagation(),confirm("Are you sure you want to delete this element?")&&h(e.id)},P=B=>{B.stopPropagation(),i(),e.type==="text"&&setTimeout(()=>{const V=B.target.closest('[data-component="SortableElement"]')?.querySelector('[data-component="TextElement"]');V&&V.click()},50)},I=B=>{if(e.type==="emailWrapper"){B.stopPropagation();return}if(e.type==="emailContainer"){const V=B.currentTarget.getBoundingClientRect(),oe=B.clientX,ue=parseInt(e.props?.width||"600px"),Ne=V.left+(V.width-ue)/2,re=Ne+ue;oe>=Ne&&oe<=re&&(B.stopPropagation(),i());return}B.stopPropagation(),i()},O=(B,V,oe)=>{console.log("Element update:",B,V,oe)},M=(B,V,oe)=>{console.log("Capability action:",B,V,oe)};return r.jsxs("div",{ref:N,style:w,className:pe("relative group transition-all duration-200",_&&"z-50",x&&"cursor-default"),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),"data-component":"SortableElement","data-element-type":e.type,"data-element-id":e.id,"data-is-system":x?"true":"false","data-is-sortable":x?"false":"true","data-is-selected":s?"true":"false","data-is-hovered":u?"true":"false","data-is-dragging":_?"true":"false",children:[u&&!_&&!x&&g!==e.id&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:r.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[r.jsx("button",{onClick:P,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Edit element",children:r.jsx(jr,{className:"w-5 h-5 text-gray-700"})}),r.jsx("button",{onClick:R,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Delete element",children:r.jsx(Wn,{className:"w-5 h-5 text-red-600"})}),r.jsx("button",{...k,...b,"data-drag-handle":"true",className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110 cursor-move",title:"Drag to reposition",children:r.jsx(xl,{className:"w-5 h-5 text-gray-700"})})]})}),r.jsx("div",{onClick:I,className:"cursor-pointer transition-all",children:r.jsx(hT,{element:e,renderElements:l,isSelected:s,isHovered:u&&!_,onElementUpdate:O,isMobile:d,onCapabilityAction:M,onEdit:P})})]})}function gT({isMobile:e=!1}){const{elements:t,isDragging:n,selectElement:s,selectedElementId:i,setElements:l}=Ko();$e.useEffect(()=>{(!t||t.length===0)&&l([])},[t,l]);const d=(h,g=null)=>{if(!h||h.length===0)return g?null:r.jsx(u,{parentId:null,position:0,children:r.jsxs("div",{className:"py-12 text-center text-gray-400",children:[r.jsx("svg",{className:"w-10 h-10 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("p",{className:"text-sm",children:"Drag elements here to start building"})]})});const v=h.filter(k=>k.type!=="emailWrapper"&&k.type!=="emailContainer").map(k=>k.id),x=h.filter(k=>k.type==="emailWrapper"||k.type==="emailContainer"),b=h.filter(k=>k.type!=="emailWrapper"&&k.type!=="emailContainer");return r.jsxs(r.Fragment,{children:[x.map(k=>r.jsx("div",{className:"system-element-container",children:r.jsx(Ay,{element:k,index:0,parentId:g,isSelected:i===k.id,onSelect:()=>s(k.id),renderElements:d,isMobile:e})},k.id)),r.jsxs(df,{items:v,strategy:cf,children:[r.jsx(u,{parentId:g,position:0,elementCount:b.length}),b.map((k,N)=>r.jsxs($e.Fragment,{children:[r.jsx(Ay,{element:k,index:N,parentId:g,isSelected:i===k.id,onSelect:()=>s(k.id),renderElements:d,isMobile:e}),r.jsx(u,{parentId:g,position:N+1,elementCount:b.length})]},k.id))]})]})};function u({parentId:h,position:g,children:v,elementCount:x=0}){const{setNodeRef:b,isOver:k}=lr({id:`dropzone-${h||"root"}-${g}`,data:{parentId:h,position:g,type:"dropzone"}}),N=!h||g===0&&h&&h.includes("email-wrapper");return r.jsxs("div",{ref:b,className:pe(N?"min-h-0":"min-h-[4px]","transition-all relative",!N&&n&&"min-h-[8px]",!N&&k&&"min-h-[30px]"),"data-component":"DropZone","data-parent-id":h||"root","data-position":g,"data-is-over":k?"true":"false","data-should-hide":N?"true":"false",children:[!N&&k&&r.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 h-1 bg-blue-500 rounded"}),v]})}const f=h=>{h.target===h.currentTarget&&s(null)};return r.jsx("div",{className:pe("min-h-[100px] transition-colors",n&&"bg-gray-50"),onClick:f,children:d(t)})}function Fy(){const{activeEmailId:e,emails:t}=Ps(),n=t.find(x=>x.id===e),[s,i]=m.useState("dummy"),[l,d]=m.useState(""),[u,f]=m.useState(()=>window.sfuiData?.currentUserEmail||""),[h,g]=m.useState({type:null,message:""}),v=m.useCallback(async()=>{if(!u){g({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){g({type:"error",message:"Please enter a valid email address"});return}if(!n){g({type:"error",message:"No email selected"});return}const{formId:b,ajaxUrl:k,nonce:N}=window.sfuiData||{};if(!k||!N){g({type:"error",message:"WordPress context not available"});return}g({type:"loading",message:"Sending test email..."});try{const S={from:n.from_email||"",from_name:n.from_name||"",reply:n.reply_to?.email||"",reply_name:n.reply_to?.name||"",cc:n.cc||"",bcc:n.bcc||"",subject:n.subject||"Test Email",body:n.body||"",attachments:n.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},C=new FormData;C.append("action","super_send_test_email"),C.append("nonce",N),C.append("form_id",b||0),C.append("data_type",s),C.append("entry_id",s==="entry"?l:""),C.append("test_recipient",u),Object.entries(S).forEach(([R,P])=>{Array.isArray(P)?P.forEach((I,O)=>{C.append(`email_settings[${R}][${O}]`,I)}):C.append(`email_settings[${R}]`,P)});const w=await(await fetch(k,{method:"POST",body:C,credentials:"same-origin"})).json();w.success?(g({type:"success",message:w.data?.message||"Test email sent!"}),setTimeout(()=>g({type:null,message:""}),5e3)):g({type:"error",message:w.data?.message||"Failed to send test email"})}catch(S){console.error("Test email error:",S),g({type:"error",message:"Network error - please try again"})}},[n,s,l,u]);return n?r.jsx("div",{"data-testid":"test-email-bar",className:"bg-gray-50 border-t border-b border-gray-200 px-4 py-2",children:r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("div",{"data-testid":"data-source-section",className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Test Data:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{"data-testid":"dummy-data-radio",type:"radio",name:"dataType",value:"dummy",checked:s==="dummy",onChange:x=>i(x.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Dummy data"})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{"data-testid":"entry-data-radio",type:"radio",name:"dataType",value:"entry",checked:s==="entry",onChange:x=>i(x.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Entry data"})]})]})]}),s==="entry"&&r.jsx("div",{"data-testid":"entry-id-section",className:"flex items-center gap-2",children:r.jsx("input",{"data-testid":"entry-id-input",type:"text",value:l,onChange:x=>d(x.target.value),placeholder:"Entry ID (empty = latest)",className:"w-40 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{"data-testid":"send-section",className:"flex items-center gap-2",children:[r.jsx("input",{"data-testid":"recipient-input",type:"email",value:u,onChange:x=>f(x.target.value),placeholder:"recipient@example.com",className:"w-52 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),r.jsxs("button",{"data-testid":"send-test-btn",type:"button",onClick:v,disabled:h.type==="loading",className:pe("inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded transition-colors",h.type==="loading"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-500 text-white hover:bg-primary-600"),children:[h.type==="loading"?r.jsx(yl,{className:"w-4 h-4 animate-spin"}):r.jsx(Ss,{className:"w-4 h-4"}),r.jsx("span",{children:"Send Test"})]})]}),h.type&&h.type!=="loading"&&r.jsxs("div",{"data-testid":"status-message",className:pe("flex items-center gap-1.5 text-sm",h.type==="success"&&"text-green-600",h.type==="error"&&"text-red-600"),children:[h.type==="success"&&r.jsx(il,{className:"w-4 h-4"}),h.type==="error"&&r.jsx(Wo,{className:"w-4 h-4"}),r.jsx("span",{children:h.message})]})]})}):null}const Wy=[{id:"desktop",name:"Desktop",icon:Ha,component:Df},{id:"mobile",name:"Mobile",icon:Ba,component:Df}];function xT({value:e,onChange:t}){const[n,s]=m.useState(e||"");m.useEffect(()=>{s(e||"")},[e]);const i=l=>{const d=l.target.value;s(d),clearTimeout(window.htmlEditorTimeout),window.htmlEditorTimeout=setTimeout(()=>{t(d)},300)};return r.jsxs("div",{className:"min-h-[300px] bg-gray-900 rounded overflow-hidden",children:[r.jsx("div",{className:"bg-gray-800 px-3 py-2 text-xs text-gray-400 border-b border-gray-700 font-mono",children:"HTML Source"}),r.jsx("textarea",{value:n,onChange:i,className:"w-full min-h-[300px] bg-gray-900 text-gray-100 font-mono text-sm p-4 border-0 outline-none resize-y",placeholder:"Enter your HTML email content here...",spellCheck:!1})]})}function yT(){const[e,t]=m.useState("desktop"),[n,s]=m.useState(null),[i,l]=m.useState(!1),{activeEmailId:d,emails:u,updateEmailField:f,activeLanguage:h,translations:g,setActiveLanguage:v}=Ps(),{elements:x,setElements:b,isDragging:k,draggedElement:N,startDrag:S,endDrag:C,addElement:_,moveElement:w,generateHtml:R,elementTypes:P}=Ko(),I=u.find(ae=>ae.id===d),O=Wy.find(ae=>ae.id===e)?.component||Df,M=I?.body_type==="html";m.useEffect(()=>{I&&!M&&(I.template&&typeof I.template=="object"&&I.template.elements?b(I.template.elements):b([]))},[I,b,M]),m.useEffect(()=>{if(I&&!M&&x.length>0){const ae=R(),ne=setTimeout(()=>{f(d,"template",{elements:x,html:ae}),f(d,"body",ae)},500);return()=>clearTimeout(ne)}},[x,I,d,R,f,M]);const B=m.useCallback(ae=>{ae==="html"&&!M?s({title:"Switch to HTML Mode",message:"Your visual elements will be converted to raw HTML code. You can edit the HTML directly.",confirmText:"Switch to HTML",onConfirm:()=>{const ne=R();f(d,"body",ne),f(d,"body_type","html"),s(null)},onCancel:()=>s(null)}):ae==="visual"&&M&&s({title:"Switch to Visual Mode",message:"Your HTML content will be placed in an editable HTML block within the visual builder.",confirmText:"Switch to Visual",onConfirm:()=>{const F=[{id:An(),type:"html",props:{content:I.body||""},children:[]}];f(d,"body_type","visual"),f(d,"template",{elements:F,html:I.body||""}),b(F),s(null)},onCancel:()=>s(null)})},[M,d,I,R,f,b]),V=ae=>{const{active:ne,over:F}=ae;if(!F){C();return}const K=ne.data.current,Y=F.data.current;if(K.type==="new-element"){const z=Y?.position!==void 0?Y.position:null,T=Y?.parentId||null;_(K.elementType,T,z)}else if(K.type==="canvas-element"&&ne.id!==F.id){const z=Y?.position!==void 0?Y.position:null,T=Y?.parentId||null;w(ne.id,T,z)}C()},oe=ae=>{const{active:ne}=ae,F=ne.data.current;if(F.type==="new-element"){const K=Ko.getState().elementTypes[F.elementType];S(K)}};if(!I)return r.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Select an email to preview"})]})});const ue={...I,body:M?I.body:x.length>0?R():I.body},Ne=r.jsx("div",{"data-testid":"email-builder-header",className:"bg-white border-b border-gray-200 px-4 py-2 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{"data-testid":"header-left",className:"flex items-center gap-3",children:[r.jsxs("div",{"data-testid":"email-title-section",className:"flex items-center gap-2",children:[r.jsx(As,{"data-testid":"email-description-field",value:I.description,onChange:ae=>f(d,"description",ae),placeholder:"Untitled Email",className:"text-sm font-medium text-gray-700",showEditIcon:!0}),r.jsx("span",{"data-testid":"mode-badge",className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:M?"HTML":"Visual"})]}),g&&Object.keys(g).length>0&&r.jsxs("div",{"data-testid":"language-selector",className:"flex items-center gap-2",children:[r.jsx(lu,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{"data-testid":"language-dropdown",value:h,onChange:ae=>v(ae.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:[r.jsx("option",{value:"default",children:"Default"}),Object.entries(g).map(([ae,ne])=>r.jsx("option",{value:ae,children:ne.name||ae},ae))]})]})]}),r.jsx("div",{"data-testid":"viewport-toggle",className:"flex gap-2",children:Wy.map(ae=>r.jsxs(Cr,{"data-testid":"viewport-"+ae.id+"-btn",variant:"unstyled",size:"sm",onClick:()=>t(ae.id),className:pe("hover:text-primary-600",e===ae.id?"text-primary-600":"text-gray-500"),children:[r.jsx(ae.icon,{className:"w-4 h-4"}),r.jsx("span",{children:ae.name})]},ae.id))})]})}),re=n&&r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center overflow-x-hidden overflow-y-auto bg-black/50",children:r.jsxs("div",{className:"bg-white border border-gray-200 shadow-lg rounded-xl max-w-lg w-full mx-4",children:[r.jsx("div",{className:"flex justify-between items-center py-3 px-4 border-b border-gray-200",children:r.jsx("h3",{className:"font-bold text-gray-800",children:n.title})}),r.jsx("div",{className:"p-4",children:r.jsx("p",{className:"text-gray-600",children:n.message})}),r.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:n.onCancel,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"button",onClick:n.onConfirm,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700",children:n.confirmText})]})]})}),ke=()=>M?r.jsx(xT,{value:I.body,onChange:ae=>f(d,"body",ae)}):r.jsx(gT,{isMobile:e==="mobile"});return M?r.jsxs("div",{"data-testid":"email-builder-html",className:"h-full flex flex-col bg-gray-100",children:[Ne,re,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(O,{email:ue,isMobile:e==="mobile",isBuilder:!0,renderBody:ke,updateEmailField:f,activeEmailId:d,isHtmlMode:M,onModeChange:B,onShowTestEmail:()=>l(!0)})}),i&&r.jsx(Fy,{})]})]}):r.jsxs(af,{collisionDetection:Gu,onDragEnd:V,onDragStart:oe,children:[r.jsxs("div",{"data-testid":"email-builder-visual",className:"h-full flex flex-col bg-gray-100",children:[Ne,re,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(O,{email:ue,isMobile:e==="mobile",isBuilder:!0,renderBody:ke,updateEmailField:f,activeEmailId:d,isHtmlMode:M,onModeChange:B,onShowTestEmail:()=>l(!0)})}),i&&r.jsx(Fy,{}),r.jsx("div",{"data-testid":"element-palette",className:"bg-white border-t",children:r.jsx(Gz,{})})]})]}),r.jsx(sx,{children:N&&r.jsx("div",{className:"bg-white rounded shadow-lg p-3 opacity-90",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:N.icon}),r.jsx("span",{className:"text-sm font-medium",children:N.name})]})})})]})}function vT({formId:e,emails:t,translations:n,ajaxUrl:s,nonce:i,i18n:l}){const{initializeStore:d,activeEmailId:u,isDirty:f,isSaving:h,save:g}=Ps();m.useEffect(()=>{const b=document.querySelector(".super-element-settings");b&&(b.style.display="none");const k=document.querySelector(".super-elements");k&&(k.style.display="none");const N=document.querySelector(".super-tabs-content");return N&&(N.style.width="100%",N.style.float="none"),()=>{b&&(b.style.display=""),k&&(k.style.display=""),N&&(N.style.width="",N.style.float="")}},[]),m.useEffect(()=>{d({emails:t,translations:n})},[]),m.useEffect(()=>{if(f&&!h){const b=setTimeout(()=>{v()},2e3);return()=>clearTimeout(b)}},[f]);const v=async()=>{if(!e||!s||!i)return console.log(" Development mode: Skipping WordPress save (no backend context)"),{success:!0};const b=await g(e,s,i);return b.success&&x(),b},x=()=>{const b=Ps.getState(),k=document.querySelector(".super-raw-code-emails-settings textarea");k&&(k.value=JSON.stringify(b.emails,null,2),k.dispatchEvent(new Event("change",{bubbles:!0})))};return r.jsxs("div",{"data-testid":"emails-tab",className:"sfui-emails-tab h-full",children:[r.jsxs("div",{className:"flex h-full gap-4",children:[r.jsx("div",{"data-testid":"email-list-sidebar",className:"w-64 flex-shrink-0",children:r.jsx(W5,{})}),r.jsx("div",{"data-testid":"email-builder-main",className:"flex-1 min-w-0",children:u?r.jsx("div",{"data-testid":"email-builder-container",className:"bg-white rounded-lg border border-gray-200 overflow-hidden h-full",style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:r.jsx(yT,{})}):r.jsx("div",{"data-testid":"email-placeholder",className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500 h-full flex items-center justify-center",children:r.jsxs("div",{children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"text-lg",children:l?.selectEmail||"Select an email to edit"})]})})})]}),(f||h)&&r.jsx("div",{"data-testid":"save-status",className:"absolute bottom-4 left-4 bg-white rounded-lg shadow-md px-4 py-2 flex items-center gap-2 z-10",children:h?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 text-primary-600",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"text-sm text-gray-600",children:l?.saving||"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Unsaved changes"})]})})]})}const bT=Object.freeze(Object.defineProperty({__proto__:null,default:vT},Symbol.toStringTag,{value:"Module"})),Sc=20,Hy=50;function wT(){const[e,t]=m.useState([]),[n,s]=m.useState([]),[i,l]=m.useState([]),[d,u]=m.useState({x:0,y:0,zoom:1}),[f,h]=m.useState([]),[g,v]=m.useState([]),[x,b]=m.useState(null),[k,N]=m.useState(!1),[S,C]=m.useState(null),[_,w]=m.useState([]),[R,P]=m.useState(-1),I=m.useRef(1),O=m.useRef(1),M=m.useRef(1),B=m.useCallback((le,de)=>({x:(le-d.x)/d.zoom,y:(de-d.y)/d.zoom}),[d]),V=m.useCallback((le,de)=>({x:le*d.zoom+d.x,y:de*d.zoom+d.y}),[d]),oe=m.useCallback((le,de)=>({x:Math.round(le/Sc)*Sc,y:Math.round(de/Sc)*Sc}),[]),ue=m.useCallback(()=>{const le={nodes:e,connections:n,groups:i,viewport:d};w(de=>{const he=de.slice(0,R+1);return he.push(le),he.length>Hy&&he.shift(),he}),P(de=>Math.min(de+1,Hy-1))},[e,n,i,d,R]),Ne=m.useCallback(()=>{if(R>0){const le=_[R-1];t(le.nodes),s(le.connections),l(le.groups),u(le.viewport),P(R-1)}},[_,R]),re=m.useCallback(()=>{if(R<_.length-1){const le=_[R+1];t(le.nodes),s(le.connections),l(le.groups),u(le.viewport),P(R+1)}},[_,R]),ke=m.useCallback((le,de,he={})=>{const Ie=oe(de.x,de.y),Je={id:`node-${I.current++}`,type:le,position:Ie,config:he,selected:!1,zIndex:e.length+1};return ue(),t(We=>[...We,Je]),Je.id},[e,oe,ue]),ae=m.useCallback((le,de)=>{ue(),t(he=>he.map(Ie=>Ie.id===le?{...Ie,...de}:Ie))},[ue]),ne=m.useCallback(le=>{ue(),t(de=>de.filter(he=>he.id!==le)),s(de=>de.filter(he=>he.from!==le&&he.to!==le))},[ue]),F=m.useCallback(le=>{ue(),t(de=>de.filter(he=>!le.includes(he.id))),s(de=>de.filter(he=>!le.includes(he.from)&&!le.includes(he.to))),h([])},[ue]),K=m.useCallback((le,de,he,Ie)=>{if(n.some(me=>me.from===le&&me.fromOutput===de&&me.to===he&&me.toInput===Ie))return null;const We={id:`conn-${O.current++}`,from:le,fromOutput:de,to:he,toInput:Ie,selected:!1};return ue(),s(me=>[...me,We]),We.id},[n,ue]),Y=m.useCallback(le=>{ue(),s(de=>de.filter(he=>he.id!==le))},[ue]),z=m.useCallback((le,de=!1)=>{h(de?he=>he.includes(le)?he.filter(Ie=>Ie!==le):[...he,le]:[le]),t(he=>he.map(Ie=>({...Ie,selected:de?Ie.id===le?!Ie.selected:Ie.selected:Ie.id===le})))},[]),T=m.useCallback(le=>{h(le),t(de=>de.map(he=>({...he,selected:le.includes(he.id)})))},[]),q=m.useCallback(()=>{h([]),v([]),t(le=>le.map(de=>({...de,selected:!1}))),s(le=>le.map(de=>({...de,selected:!1})))},[]),G=m.useCallback((le,de)=>{u(he=>({...he,x:he.x+le,y:he.y+de}))},[]),J=m.useCallback((le,de,he)=>{u(Ie=>{const Je=le>0?1.05:.95,We=Math.max(.1,Math.min(3,Ie.zoom*Je));if(de!==void 0&&he!==void 0){const me=We/Ie.zoom,xt=de-(de-Ie.x)*me,tt=he-(he-Ie.y)*me;return{x:xt,y:tt,zoom:We}}return{...Ie,zoom:We}})},[]),xe=m.useCallback(()=>{u({x:0,y:0,zoom:1})},[]),U=m.useCallback(le=>{t(le.nodes),s(le.connections),l(le.groups),u(le.viewport),w([le]),P(0),q()},[q]),ge=m.useCallback(()=>({nodes:e,connections:n,groups:i,viewport:d}),[e,n,i,d]),ze=m.useCallback(()=>{ue(),t([]),s([]),l([]),q()},[ue,q]),Ee=m.useCallback((le,de,he,Ie)=>{if(le===he||n.find(xt=>xt.from===le&&xt.fromOutput===de&&xt.to===he&&xt.toInput===Ie))return!1;const We=new Set,me=(xt,tt)=>xt===tt?!0:We.has(xt)?!1:(We.add(xt),n.filter(zn=>zn.from===xt).some(zn=>me(zn.to,tt)));return!me(he,le)},[n]),rt=m.useCallback((le,de)=>{console.log("Starting connection from:",le,de),N(!0),C({nodeId:le,outputName:de})},[]),qe=m.useCallback((le,de)=>{console.log("Ending connection to:",le,de),S&&Ee(S.nodeId,S.outputName,le,de)&&(console.log("Creating connection:",S.nodeId,"->",le),K(S.nodeId,S.outputName,le,de)),console.log("Setting isConnecting to false"),N(!1),C(null)},[S,Ee,K]),ot=m.useCallback(()=>{console.log("Canceling connection"),N(!1),C(null)},[]),Xe=m.useCallback((le,de,he=[])=>{const Ie={id:`group-${M.current++}`,name:le,nodeIds:he,bounds:de,color:"rgba(59, 130, 246, 0.3)",zIndex:-1};return l(Je=>[...Je,Ie]),ue(),Ie.id},[ue]),Ct=m.useCallback((le,de)=>{l(he=>he.map(Ie=>Ie.id===le?{...Ie,...de}:Ie))},[]),Kt=m.useCallback(le=>{l(de=>de.filter(he=>he.id!==le)),ue()},[ue]),nn=m.useCallback((le,de,he,Ie)=>{const Je=i.find(We=>We.id===le);Je&&(Ie==="start"?t(We=>We.map(me=>({...me,isGroupDragging:Je.nodeIds.includes(me.id),groupDragOffset:Je.nodeIds.includes(me.id)?{x:0,y:0}:void 0}))):Ie==="move"?t(We=>We.map(me=>Je.nodeIds.includes(me.id)?{...me,groupDragOffset:{x:de,y:he}}:me)):Ie==="end"&&(t(We=>We.map(me=>Je.nodeIds.includes(me.id)?{...me,position:{x:me.position.x+de,y:me.position.y+he},isGroupDragging:!1,groupDragOffset:void 0}:me)),l(We=>We.map(me=>me.id===le?{...me,bounds:{...me.bounds,x:me.bounds.x+de,y:me.bounds.y+he}}:me)),ue()))},[i,ue]),cn=m.useCallback(()=>{if(f.length<2)return null;const le=e.filter(Qe=>f.includes(Qe.id));if(le.length===0)return null;const de=20,he=200,Ie=100;let Je=1/0,We=1/0,me=-1/0,xt=-1/0;le.forEach(Qe=>{Je=Math.min(Je,Qe.position.x),We=Math.min(We,Qe.position.y),me=Math.max(me,Qe.position.x+he),xt=Math.max(xt,Qe.position.y+Ie)});const tt={x:Je-de,y:We-de,width:me-Je+de*2,height:xt-We+de*2};return Xe(`Group ${M.current}`,tt,f)},[f,e,Xe]);return{nodes:e,connections:n,groups:i,viewport:d,selectedNodes:f,selectedConnections:g,dragState:x,isConnecting:k,connectionStart:S,addNode:ke,updateNode:ae,deleteNode:ne,deleteNodes:F,selectNode:z,selectNodes:T,addConnection:K,deleteConnection:Y,startConnection:rt,endConnection:qe,cancelConnection:ot,canConnect:Ee,clearSelection:q,addGroup:Xe,updateGroup:Ct,removeGroup:Kt,moveGroup:nn,createGroupFromSelection:cn,panViewport:G,zoomViewport:J,resetViewport:xe,screenToCanvas:B,canvasToScreen:V,snapToGrid:oe,undo:Ne,redo:re,canUndo:R>0,canRedo:R<_.length-1,loadWorkflow:U,exportWorkflow:ge,clearWorkflow:ze,setDragState:b}}const Ys={...{"form.submitted":{id:"form.submitted",name:"Form Submitted",category:"event",color:"#10b981",icon:Sj,description:"Trigger when a form is submitted",inputs:[],outputs:["entry_data","form_data"],config:{scope:"all",formId:null,includeSpam:!1}},"form.spam_detected":{id:"form.spam_detected",name:"Spam Detected",category:"event",color:"#10b981",icon:Fh,description:"Trigger when spam is detected",inputs:[],outputs:["detection_details"],config:{scope:"all",formId:null,detectionMethods:[]}},"form.duplicate_detected":{id:"form.duplicate_detected",name:"Duplicate Detected",category:"event",color:"#10b981",icon:Wo,description:"Trigger when duplicate submission detected",inputs:[],outputs:["duplicate_data"],config:{scope:"all",formId:null}},"entry.created":{id:"entry.created",name:"Entry Created",category:"event",color:"#10b981",icon:io,description:"Trigger after entry is saved to database",inputs:[],outputs:["entry_id","entry_data"],config:{scope:"all",formId:null}},"entry.updated":{id:"entry.updated",name:"Entry Updated",category:"event",color:"#10b981",icon:Ho,description:"Trigger when entry data is modified",inputs:[],outputs:["entry_id","changes"],config:{scope:"all",formId:null}},"entry.status_changed":{id:"entry.status_changed",name:"Entry Status Changed",category:"event",color:"#10b981",icon:Ho,description:"Trigger when entry status changes",inputs:[],outputs:["entry_id","old_status","new_status"],config:{scope:"all",formId:null}},"entry.deleted":{id:"entry.deleted",name:"Entry Deleted",category:"event",color:"#10b981",icon:Vh,description:"Trigger when entry is deleted",inputs:[],outputs:["entry_id"],config:{scope:"all",formId:null}},"payment.stripe.payment_succeeded":{id:"payment.stripe.payment_succeeded",name:"Stripe Payment Success",category:"event",color:"#10b981",icon:au,description:"Trigger when Stripe payment succeeds",inputs:[],outputs:["payment_data"],config:{scope:"all"}},"payment.stripe.payment_failed":{id:"payment.stripe.payment_failed",name:"Stripe Payment Failed",category:"event",color:"#10b981",icon:ou,description:"Trigger when Stripe payment fails",inputs:[],outputs:["error_data"],config:{scope:"all"}},"payment.paypal.capture_completed":{id:"payment.paypal.capture_completed",name:"PayPal Payment Complete",category:"event",color:"#10b981",icon:lj,description:"Trigger when PayPal payment completes",inputs:[],outputs:["payment_data"],config:{scope:"all"}},"session.abandoned":{id:"session.abandoned",name:"Session Abandoned",category:"event",color:"#10b981",icon:rr,description:"Trigger when form session is abandoned",inputs:[],outputs:["session_data"],config:{scope:"all",formId:null,abandonTime:30}},"file.uploaded":{id:"file.uploaded",name:"File Uploaded",category:"event",color:"#10b981",icon:Bo,description:"Trigger when file is uploaded",inputs:[],outputs:["file_data"],config:{scope:"all",formId:null}}},...{send_email:{id:"send_email",name:"Send Email",category:"action",color:"#3b82f6",icon:Hr,description:"Send an email notification",inputs:["trigger"],outputs:["success"],config:{to:"",subject:"",body:"",bodyType:"html",from:"{admin_email}",replyTo:""}},http_request:{id:"http_request",name:"HTTP Request",category:"action",color:"#3b82f6",icon:lu,description:"Make an HTTP API call",inputs:["trigger"],outputs:["response"],config:{url:"",method:"POST",headers:{},body:"",auth:"none"}},webhook:{id:"webhook",name:"Webhook",category:"action",color:"#3b82f6",icon:Nl,description:"Send webhook notification",inputs:["trigger"],outputs:["success"],config:{url:"",method:"POST",headers:{},payload:""}},update_entry_status:{id:"update_entry_status",name:"Update Entry Status",category:"action",color:"#3b82f6",icon:Ho,description:"Change entry status",inputs:["trigger"],outputs:["success"],config:{status:"approved"}},update_entry_field:{id:"update_entry_field",name:"Update Entry Field",category:"action",color:"#3b82f6",icon:io,description:"Modify entry field value",inputs:["trigger"],outputs:["success"],config:{fieldName:"",value:""}},delete_entry:{id:"delete_entry",name:"Delete Entry",category:"action",color:"#3b82f6",icon:Vh,description:"Delete the entry",inputs:["trigger"],outputs:["success"],config:{}},create_post:{id:"create_post",name:"Create Post",category:"action",color:"#3b82f6",icon:io,description:"Create WordPress post",inputs:["trigger"],outputs:["post_id"],config:{postType:"post",postStatus:"publish",postTitle:"",postContent:""}},delay_execution:{id:"delay_execution",name:"Delay",category:"action",color:"#3b82f6",icon:jj,description:"Delay execution for specified time",inputs:["trigger"],outputs:["continue"],config:{duration:60,unit:"minutes"}},abort_submission:{id:"abort_submission",name:"Abort Submission",category:"action",color:"#3b82f6",icon:ou,description:"Stop form submission",inputs:["trigger"],outputs:[],config:{message:"Submission rejected"}},stop_execution:{id:"stop_execution",name:"Stop Execution",category:"action",color:"#3b82f6",icon:ou,description:"Stop trigger execution",inputs:["trigger"],outputs:[],config:{}},set_variable:{id:"set_variable",name:"Set Variable",category:"action",color:"#3b82f6",icon:Zt,description:"Set a context variable",inputs:["trigger"],outputs:["continue"],config:{variableName:"",value:""}},log_message:{id:"log_message",name:"Log Message",category:"action",color:"#3b82f6",icon:bj,description:"Write to debug log",inputs:["trigger"],outputs:["continue"],config:{message:"",level:"info"}},"mailpoet.add_subscriber":{id:"mailpoet.add_subscriber",name:"MailPoet Subscribe",category:"action",color:"#3b82f6",icon:gu,description:"Add subscriber to MailPoet",inputs:["trigger"],outputs:["success"],config:{listIds:[],email:"{email}",firstName:"{first_name}",lastName:"{last_name}"}},"woocommerce.add_to_cart":{id:"woocommerce.add_to_cart",name:"WooCommerce Add to Cart",category:"action",color:"#3b82f6",icon:Rj,description:"Add product to cart",inputs:["trigger"],outputs:["cart_data"],config:{productId:"",quantity:1}}},...{conditional_action:{id:"conditional_action",name:"If Condition",category:"condition",color:"#f97316",icon:Th,description:"Branch based on conditions",inputs:["trigger"],outputs:["true","false"],config:{operator:"AND",rules:[]}},condition_group:{id:"condition_group",name:"Condition Group",category:"condition",color:"#f97316",icon:zh,description:"Group multiple conditions (AND/OR)",inputs:["trigger"],outputs:["true","false"],config:{operator:"AND",rules:[]}}}};function jT(e){return Object.values(Ys).filter(t=>t.category===e)}function NT(e){return Ys[e]}const kT=m.memo(function({node:t,selected:n,isDragging:s=!1,isConnecting:i=!1,connectionStart:l=null,onConnectionStart:d,onConnectionEnd:u}){const f=Ys[t.type];if(!f)return r.jsx("div",{"data-node-id":t.id,className:"absolute bg-red-100 border-2 border-red-500 rounded-lg p-4 z-30",style:{left:t.position.x,top:t.position.y,zIndex:t.zIndex},children:r.jsxs("p",{className:"text-sm text-red-600",children:["Unknown node: ",t.type]})});const h=f.icon,g=t.config._enabled!==!1,v={event:"border-green-500 bg-green-50",action:"border-blue-500 bg-blue-50",condition:"border-orange-500 bg-orange-50"}[f.category],x=n?"ring-4 ring-blue-300 shadow-xl scale-105":"shadow-md hover:shadow-lg hover:scale-[1.02]",b=s?"":"transition-all duration-200",k=i&&l?.nodeId!==t.id&&f.inputs.length>0,N=S=>{k&&u&&(S.preventDefault(),S.stopPropagation(),u(t.id,f.inputs[0]))};return r.jsxs("div",{"data-node-id":t.id,className:`absolute rounded-lg cursor-move select-none z-30 ${v} ${x} ${b}`,style:{left:t.position.x,top:t.position.y,width:200,zIndex:t.zIndex,border:k?"3px solid #3b82f6":"2px solid",boxShadow:k?"0 0 20px rgba(59, 130, 246, 0.4)":void 0},onMouseUp:N,children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 border-b border-current/20",children:[r.jsx(h,{className:"w-5 h-5 flex-shrink-0",style:{color:f.color}}),r.jsx("span",{className:"font-medium text-sm truncate",children:f.name})]}),r.jsx("div",{className:"p-3 text-xs text-gray-600 space-y-1",children:Object.keys(t.config).length>0?Object.entries(t.config).slice(0,2).map(([S,C])=>r.jsxs("div",{className:"truncate",children:[r.jsxs("span",{className:"font-medium",children:[S,":"]})," ",r.jsx("span",{className:"text-gray-500",children:typeof C=="string"&&C.length>20?C.substring(0,20)+"...":String(C)})]},S)):r.jsx("div",{className:"text-gray-400 italic",children:"Not configured"})}),f.inputs.length>0&&r.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2",style:{zIndex:100},children:f.inputs.map((S,C)=>r.jsxs("div",{style:{marginTop:C*20},className:"relative",children:[r.jsx("div",{"data-port-type":"input","data-port-name":S,className:"w-4 h-4 rounded-full bg-gray-400 border-2 border-white shadow-sm transition-all duration-150",style:{transform:i&&l?.nodeId!==t.id?"scale(1.3)":"scale(1)",backgroundColor:i&&l?.nodeId!==t.id?"#3b82f6":"#9ca3af",boxShadow:i&&l?.nodeId!==t.id?"0 0 12px rgba(59, 130, 246, 0.6)":void 0},title:`Input: ${S}`}),r.jsx("div",{className:"absolute w-6 h-6 -translate-x-1/2 -translate-y-1/2 cursor-pointer",style:{left:"50%",top:"50%",zIndex:30},onMouseDown:_=>{_.preventDefault(),_.stopPropagation()},onMouseUp:_=>{_.preventDefault(),_.stopPropagation(),i&&l?.nodeId!==t.id&&u&&u(t.id,S)}})]},S))}),f.outputs.length>0&&r.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2",style:{zIndex:100},children:f.outputs.map((S,C)=>r.jsx("div",{"data-port-type":"output","data-port-name":S,className:"w-4 h-4 rounded-full border-2 border-white shadow-sm cursor-pointer hover:scale-130 transition-all duration-150",style:{backgroundColor:f.color,marginTop:C*20},title:`Output: ${S}`,onMouseDown:_=>{_.preventDefault(),_.stopPropagation(),d&&d(t.id,S)},onMouseEnter:_=>{const w=_.currentTarget;w.style.transform="scale(1.3)",w.style.boxShadow=`0 0 12px ${f.color}99`},onMouseLeave:_=>{const w=_.currentTarget;w.style.transform="scale(1)",w.style.boxShadow=""}},S))}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500 animate-pulse":"bg-gray-400"}`,title:g?"Enabled":"Disabled"})}),!g&&r.jsx("div",{className:"absolute inset-0 bg-gray-200/50 rounded-lg pointer-events-none flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Paused"})})]})});function ST({connections:e,nodes:t,viewport:n,selectedConnections:s,onConnectionClick:i,onDeleteConnection:l,isConnecting:d=!1,connectionStart:u=null}){const[f,h]=m.useState({x:0,y:0}),[g,v]=m.useState(null),x=m.useCallback((_,w,R=!1)=>{const P=t.find(ue=>ue.id===_);if(!P)return{x:0,y:0};const I=Ys[P.type];if(!I)return{x:0,y:0};const M=(R?I.outputs:I.inputs).findIndex(ue=>ue===w),B=200,V=100;return R?{x:P.position.x+B,y:P.position.y+V/2+M*20}:{x:P.position.x,y:P.position.y+V/2+M*20}},[t]),b=m.useCallback((_,w)=>{const R=w.x-_.x,P=Math.max(50,Math.abs(R)*.5),I=_.x+P,O=_.y,M=w.x-P,B=w.y;return`M ${_.x} ${_.y} C ${I} ${O}, ${M} ${B}, ${w.x} ${w.y}`},[]),k=m.useCallback((_,w)=>{let P=null,I=30;return t.forEach(O=>{if(O.id===u?.nodeId)return;const M=Ys[O.type];!M?.inputs||M.inputs.length===0||M.inputs.forEach(B=>{const V=x(O.id,B,!1),oe=Math.sqrt(Math.pow(_-V.x,2)+Math.pow(w-V.y,2));oe<I&&(I=oe,P={nodeId:O.id,inputName:B,position:V})})}),P},[t,u,x]);m.useEffect(()=>{if(!d)return;const _=w=>{const R=document.querySelector(".canvas-container");if(!R)return;const P=R.getBoundingClientRect(),I=(w.clientX-P.left-n.x)/n.zoom,O=(w.clientY-P.top-n.y)/n.zoom,M=k(I,O);h(M?M.position:{x:I,y:O})};return document.addEventListener("mousemove",_),()=>{document.removeEventListener("mousemove",_)}},[d,n,k]),m.useEffect(()=>{if(d&&u){const _=x(u.nodeId,u.outputName,!0);h(_)}},[d,u,x]);const N=m.useMemo(()=>e.map(_=>{const w=x(_.from,_.fromOutput,!0),R=x(_.to,_.toInput,!1);return{..._,path:b(w,R),startPos:w,endPos:R}}),[e,x,b]),S=m.useMemo(()=>{if(!d||!u)return null;const _=x(u.nodeId,u.outputName,!0),w={x:f.x,y:f.y};return b(_,w)},[d,u,x,b,f]),C=(_,w)=>{_.stopPropagation(),l?l(w):i?.(w)};return r.jsxs("svg",{className:"connection-overlay absolute pointer-events-none z-10",style:{left:0,top:0,width:"100%",height:"100%",overflow:"visible"},children:[r.jsxs("defs",{children:[r.jsxs("filter",{id:"electric-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),r.jsx("feGaussianBlur",{stdDeviation:"6",result:"outerGlow"}),r.jsx("feGaussianBlur",{stdDeviation:"12",result:"farGlow"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"farGlow"}),r.jsx("feMergeNode",{in:"outerGlow"}),r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("radialGradient",{id:"electric-light",cx:"50%",cy:"50%",r:"50%",children:[r.jsx("stop",{offset:"0%",style:{stopColor:"#ffffff",stopOpacity:1}}),r.jsx("stop",{offset:"30%",style:{stopColor:"#bfdbfe",stopOpacity:.9}}),r.jsx("stop",{offset:"60%",style:{stopColor:"#3b82f6",stopOpacity:.6}}),r.jsx("stop",{offset:"100%",style:{stopColor:"#1d4ed8",stopOpacity:0}})]}),r.jsxs("filter",{id:"glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("filter",{id:"hover-glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#6b7280"})}),r.jsx("marker",{id:"arrowhead-selected",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#3b82f6"})}),r.jsx("marker",{id:"arrowhead-hovered",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#ef4444"})}),r.jsx("marker",{id:"arrowhead-preview",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#10b981"})})]}),N.map(_=>{const w=s.includes(_.id),R=g===_.id;return r.jsxs("g",{onMouseEnter:()=>v(_.id),onMouseLeave:()=>v(null),children:[r.jsx("path",{d:_.path,stroke:"transparent",strokeWidth:"20",fill:"none",className:"pointer-events-auto cursor-pointer",onClick:P=>C(P,_.id)}),r.jsx("path",{d:_.path,stroke:w?"#3b82f6":R?"#ef4444":"#6b7280",strokeWidth:w?"3":"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",markerEnd:w?"url(#arrowhead-selected)":R?"url(#arrowhead-hovered)":"url(#arrowhead)",className:"pointer-events-none",style:{filter:w?"url(#glow)":R?"url(#hover-glow)":"none"}}),r.jsxs("g",{className:"pointer-events-none",children:[r.jsxs("ellipse",{rx:"10",ry:"3",fill:"url(#electric-light)",filter:"url(#electric-glow)",style:{opacity:.9},children:[r.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:_.path,rotate:"auto"}),r.jsx("animate",{attributeName:"opacity",values:"0.6;1;0.6",dur:"0.4s",repeatCount:"indefinite"})]}),r.jsxs("ellipse",{rx:"5",ry:"1.5",fill:"#ffffff",style:{opacity:.85},children:[r.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:_.path,rotate:"auto"}),r.jsx("animate",{attributeName:"opacity",values:"0.7;1;0.7",dur:"0.25s",repeatCount:"indefinite"})]})]}),r.jsx("text",{x:(_.startPos.x+_.endPos.x)/2,y:(_.startPos.y+_.endPos.y)/2-8,fill:R?"#ef4444":"#9ca3af",fontSize:"10",textAnchor:"middle",className:"pointer-events-none select-none",children:_.fromOutput}),R&&r.jsx("text",{x:(_.startPos.x+_.endPos.x)/2,y:(_.startPos.y+_.endPos.y)/2+12,fill:"#ef4444",fontSize:"9",textAnchor:"middle",className:"pointer-events-none select-none",style:{fontWeight:500},children:"Click to delete"})]},_.id)}),d&&S&&r.jsx("path",{d:S,stroke:"#10b981",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",markerEnd:"url(#arrowhead-preview)",className:"pointer-events-none",style:{animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]})}function CT({group:e,viewport:t,nodes:n,isAnyNodeDragging:s=!1,onUpdateGroup:i,onRemoveGroup:l,onMoveGroup:d}){const{id:u,name:f,bounds:h,color:g}=e,[v,x]=m.useState(!1),[b,k]=m.useState(!1),[N,S]=m.useState(!1),[C,_]=m.useState(null),[w,R]=m.useState({x:0,y:0}),[P,I]=m.useState({width:0,height:0,x:0,y:0}),O=m.useRef({x:0,y:0}),M=m.useRef({width:0,height:0,x:0,y:0}),B=m.useRef({x:0,y:0,initialBounds:h}),V=m.useRef({x:0,y:0,initialBounds:h}),oe=m.useRef(h);m.useEffect(()=>{(h.x!==oe.current.x||h.y!==oe.current.y||h.width!==oe.current.width||h.height!==oe.current.height)&&!b&&!N&&((O.current.x!==0||O.current.y!==0)&&(R({x:0,y:0}),O.current={x:0,y:0}),(M.current.width!==0||M.current.height!==0||M.current.x!==0||M.current.y!==0)&&(I({width:0,height:0,x:0,y:0}),M.current={width:0,height:0,x:0,y:0})),oe.current=h},[h,b,N]);const ue=ne=>{if(ne.type==="blur"||ne.key==="Enter"){const F=ne.target.value.trim();F&&F!==f&&i(u,{name:F}),ne.target.blur()}},Ne=ne=>{ne.stopPropagation(),l(u)},re=m.useCallback(ne=>{if(ne.target.tagName==="INPUT"||ne.target.tagName==="BUTTON")return;ne.stopPropagation(),ne.preventDefault(),k(!0),B.current={x:ne.clientX,y:ne.clientY,initialBounds:{...h}},d(u,0,0,"start");const F=Y=>{if(!B.current.initialBounds)return;const z=(Y.clientX-B.current.x)/t.zoom,T=(Y.clientY-B.current.y)/t.zoom,q=Math.round(z/20)*20,G=Math.round(T/20)*20,J={x:q,y:G};R(J),O.current=J,d(u,q,G,"move")},K=()=>{const Y=O.current;k(!1),(Y.x!==0||Y.y!==0)&&d(u,Y.x,Y.y,"end"),R({x:0,y:0}),O.current={x:0,y:0},B.current={x:0,y:0,initialBounds:h},document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",K)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",K)},[h,t.zoom,d,u]),ke=m.useCallback((ne,F)=>{ne.stopPropagation(),ne.preventDefault(),S(!0),_(F),V.current={x:ne.clientX,y:ne.clientY,initialBounds:{...h}};const K=z=>{if(!V.current.initialBounds)return;const T=(z.clientX-V.current.x)/t.zoom,q=(z.clientY-V.current.y)/t.zoom,G=V.current.initialBounds;let J={...G};if(F==="bottom-right")J.width=Math.max(100,G.width+T),J.height=Math.max(80,G.height+q);else if(F==="bottom-left"){const U=Math.max(100,G.width-T),ge=U-G.width;J.x=G.x-ge,J.width=U,J.height=Math.max(80,G.height+q)}J.x=Math.round(J.x/20)*20,J.y=Math.round(J.y/20)*20,J.width=Math.round(J.width/20)*20,J.height=Math.round(J.height/20)*20;const xe={x:J.x-h.x,y:J.y-h.y,width:J.width-h.width,height:J.height-h.height};I(xe),M.current=xe},Y=()=>{const z=M.current;if(S(!1),_(null),z.width!==0||z.height!==0||z.x!==0||z.y!==0){const T={x:h.x+z.x,y:h.y+z.y,width:h.width+z.width,height:h.height+z.height},q=n.filter(G=>{const J=G.position.x+200,xe=G.position.y+100;return G.position.x>=T.x&&J<=T.x+T.width&&G.position.y>=T.y&&xe<=T.y+T.height});i(u,{bounds:T,nodeIds:q.map(G=>G.id)})}I({width:0,height:0,x:0,y:0}),M.current={width:0,height:0,x:0,y:0},V.current={x:0,y:0,initialBounds:h},document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",Y)};document.addEventListener("mousemove",K),document.addEventListener("mouseup",Y)},[h,t.zoom,i,u,n]),ae=n&&e.nodeIds.some(ne=>{const F=n.find(K=>K.id===ne);return F&&F.isGroupDragging});return r.jsxs("div",{className:`absolute rounded-lg border group-container ${b||N||ae||s?"":"transition-all duration-200"}`,style:{left:h.x+w.x+P.x,top:h.y+w.y+P.y,width:h.width+P.width,height:h.height+P.height,borderColor:g||"rgba(59, 130, 246, 0.3)",backgroundColor:"rgba(59, 130, 246, 0.05)",borderStyle:"dashed",borderWidth:"2px",zIndex:e.zIndex||-1,pointerEvents:"auto"},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[r.jsxs("div",{className:"absolute -top-7 left-0 flex items-center gap-1 pointer-events-auto",style:{zIndex:1},children:[r.jsx("div",{className:`cursor-move px-1 py-1 rounded text-center transition-all duration-200 flex items-center justify-center ${v?"bg-blue-100 border border-blue-300":"bg-transparent border border-transparent"}`,style:{width:"24px",height:"24px"},onMouseDown:re,title:"Drag to move group",children:r.jsx("span",{className:"text-blue-500 text-sm leading-none",children:""})}),r.jsx("input",{type:"text",defaultValue:f,className:`text-gray-700 text-sm px-2 py-1 rounded min-w-0 transition-all duration-200 outline-none ${v?"border border-blue-300 bg-blue-50":"border border-transparent bg-transparent"}`,style:{height:"24px",minWidth:"80px"},onKeyDown:ue,onBlur:ue,onClick:ne=>ne.stopPropagation(),onMouseDown:ne=>ne.stopPropagation()}),r.jsx("button",{onClick:Ne,onMouseDown:ne=>ne.stopPropagation(),className:`text-red-400 hover:text-red-500 text-sm px-1 py-1 rounded transition-all duration-200 flex items-center justify-center ${v?"border border-red-300 bg-red-50 opacity-100":"border border-transparent bg-transparent opacity-0"}`,style:{width:"24px",height:"24px"},title:"Delete group",children:""})]}),v&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize bg-blue-200 border border-blue-400 rounded-tl-lg",style:{transform:"translate(2px, 2px)",zIndex:2},onMouseDown:ne=>ke(ne,"bottom-right"),title:"Resize group",children:r.jsx("div",{className:"absolute inset-1 border-r border-b border-blue-500"})}),r.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 cursor-ne-resize bg-blue-200 border border-blue-400 rounded-tr-lg",style:{transform:"translate(-2px, 2px)",zIndex:2},onMouseDown:ne=>ke(ne,"bottom-left"),title:"Resize group",children:r.jsx("div",{className:"absolute inset-1 border-l border-b border-blue-500"})})]}),b&&r.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 rounded-lg border-2 border-blue-400 border-opacity-50 pointer-events-none"}),N&&r.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 rounded-lg border-2 border-blue-400 border-opacity-50 pointer-events-none"})]})}function ET({nodes:e,connections:t,groups:n,viewport:s,selectedNodes:i,selectedConnections:l,onNodeClick:d,onNodeDragStart:u,onNodeDrag:f,onNodeDragEnd:h,onCanvasPan:g,onCanvasClick:v,onZoom:x,dragState:b,setDragState:k,isConnecting:N=!1,connectionStart:S=null,onConnectionStart:C,onConnectionEnd:_,onConnectionDropOnCanvas:w,onConnectionClick:R,onDeleteConnection:P,onCancelConnection:I,onSelectNodesInRect:O,onUpdateGroup:M,onRemoveGroup:B,onMoveGroup:V}){const oe=m.useRef(null),ue=m.useRef(!1),Ne=m.useRef({x:0,y:0}),re=m.useRef({startPos:{x:0,y:0},initialViewport:{x:0,y:0,zoom:1},initialNodePositions:new Map}),ke=m.useCallback(z=>{if(z.button!==0)return;const T=z.target,q={x:z.clientX,y:z.clientY};re.current.startPos=q,re.current.initialViewport={...s};const G=T.closest("[data-node-id]");if(G){const J=G.getAttribute("data-node-id"),xe=z.shiftKey||z.metaKey||z.ctrlKey;d(J,xe);const U=i.includes(J)?i:[J];re.current.initialNodePositions.clear(),U.forEach(ge=>{const ze=e.find(Ee=>Ee.id===ge);ze&&re.current.initialNodePositions.set(ge,{...ze.position})}),ue.current=!0,Ne.current=q,u(J,z.clientX,z.clientY),k({type:"node",startX:z.clientX,startY:z.clientY,currentX:z.clientX,currentY:z.clientY,nodeId:J});return}if(z.ctrlKey||z.metaKey){ue.current=!0,Ne.current=q,k({type:"selection",startX:z.clientX,startY:z.clientY,currentX:z.clientX,currentY:z.clientY});return}ue.current=!0,Ne.current=q,k({type:"viewport",startX:z.clientX,startY:z.clientY,currentX:z.clientX,currentY:z.clientY})},[d,u,k,s,i,e]),ae=m.useCallback(z=>{if(!ue.current||!b)return;const T={x:z.clientX,y:z.clientY},q=T.x-re.current.startPos.x,G=T.y-re.current.startPos.y;if(b.type==="node"){const J=re.current.initialViewport.zoom;re.current.initialNodePositions.forEach((xe,U)=>{const ge={x:xe.x+q/J,y:xe.y+G/J};ge.x=Math.round(ge.x/20)*20,ge.y=Math.round(ge.y/20)*20,f(U,ge)})}else if(b.type==="viewport"){const J={x:re.current.initialViewport.x+q,y:re.current.initialViewport.y+G};g(J.x-s.x,J.y-s.y)}Ne.current=T,k({...b,currentX:z.clientX,currentY:z.clientY})},[b,e,f,g,k]),ne=m.useCallback(z=>{if(N&&w){const T=z.target,q=T.closest("[data-node-id]"),G=T.closest("[data-port-type]");if(!q&&!G){const J=oe.current?.getBoundingClientRect();if(J){const xe=(z.clientX-J.left-s.x)/s.zoom,U=(z.clientY-J.top-s.y)/s.zoom;w({x:xe,y:U})}}}if(ue.current){if(ue.current=!1,b?.type==="node")h();else if(b?.type==="selection"&&O){const T=oe.current?.getBoundingClientRect();if(T){const q=(b.startX-T.left-s.x)/s.zoom,G=(b.startY-T.top-s.y)/s.zoom,J=(b.currentX-T.left-s.x)/s.zoom,xe=(b.currentY-T.top-s.y)/s.zoom,U={x:Math.min(q,J),y:Math.min(G,xe),width:Math.abs(J-q),height:Math.abs(xe-G)},ge=e.filter(ze=>{const qe=ze.position.x+200,ot=ze.position.y+100;return ze.position.x<U.x+U.width&&qe>U.x&&ze.position.y<U.y+U.height&&ot>U.y});ge.length>0&&O(ge.map(ze=>ze.id))}}k(null)}},[b,h,k,N,w,s,e,O]),F=m.useCallback(z=>{const T=z.target;(T===oe.current||T.closest(".canvas-grid"))&&v()},[v]),K=m.useCallback(z=>{z.preventDefault();const T=oe.current?.getBoundingClientRect();if(!T)return;const q=z.clientX-T.left,G=z.clientY-T.top;x(z.deltaY>0?-1:1,q,G)},[x]),Y=m.useCallback(z=>{if(z)return z.addEventListener("wheel",K,{passive:!1}),()=>{z.removeEventListener("wheel",K)}},[K]);return m.useEffect(()=>{const z=T=>{T.key==="Escape"&&N&&I&&(T.preventDefault(),I())};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[N,I]),r.jsxs("div",{ref:z=>{oe.current=z,Y(z)},className:"canvas-container relative w-full h-full bg-gray-50 cursor-grab active:cursor-grabbing",onMouseDown:ke,onMouseMove:ae,onMouseUp:ne,onMouseLeave:ne,onClick:F,children:[r.jsx("div",{className:"canvas-grid absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(156, 163, 175, 0.4) 1px, transparent 0)",backgroundSize:`${20*s.zoom}px ${20*s.zoom}px`,backgroundPosition:`${s.x}px ${s.y}px`}}),r.jsxs("div",{className:"nodes-layer absolute inset-0",style:{transform:`translate(${s.x}px, ${s.y}px) scale(${s.zoom})`,transformOrigin:"0 0"},children:[n.map(z=>r.jsx(CT,{group:z,viewport:s,nodes:e,isAnyNodeDragging:b?.type==="node",onUpdateGroup:M||(()=>{}),onRemoveGroup:B||(()=>{}),onMoveGroup:V||(()=>{})},z.id)),r.jsx(ST,{connections:t,nodes:e,viewport:s,selectedConnections:l,onConnectionClick:R,onDeleteConnection:P,isConnecting:N,connectionStart:S}),e.map(z=>r.jsx(kT,{node:z,selected:i.includes(z.id),isDragging:b?.type==="node"&&b.nodeId===z.id,isConnecting:N,connectionStart:S,onConnectionStart:C,onConnectionEnd:_},z.id))]}),b?.type==="selection"&&r.jsx("div",{className:"absolute border-2 border-blue-500 bg-blue-500/10 pointer-events-none z-40",style:{left:Math.min(b.startX,b.currentX)-(oe.current?.getBoundingClientRect().left||0),top:Math.min(b.startY,b.currentY)-(oe.current?.getBoundingClientRect().top||0),width:Math.abs(b.currentX-b.startX),height:Math.abs(b.currentY-b.startY)}}),N&&r.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),r.jsx("span",{className:"text-sm font-medium",children:"Drag to a node input port to connect  Press Escape to cancel"})]}),r.jsxs("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2 bg-white rounded-lg shadow-lg p-2",children:[r.jsx("button",{onClick:()=>x(.1),className:"px-3 py-2 hover:bg-gray-100 rounded text-sm font-medium",title:"Zoom in",children:"+"}),r.jsx("button",{onClick:()=>x(-.1),className:"px-3 py-2 hover:bg-gray-100 rounded text-sm font-medium",title:"Zoom out",children:""}),r.jsxs("button",{onClick:()=>x(0),className:"px-3 py-2 hover:bg-gray-100 rounded text-xs",title:"Reset zoom",children:[Math.round(s.zoom*100),"%"]})]})]})}const _T=[{id:"event",name:"Events",icon:kl,color:"#10b981"},{id:"action",name:"Actions",icon:mu,color:"#3b82f6"},{id:"condition",name:"Conditions",icon:Th,color:"#f97316"}];function RT({onAddNode:e}){const[t,n]=m.useState("event"),[s,i]=m.useState(""),d=(()=>{const h=jT(t);if(!s)return h;const g=s.toLowerCase();return h.filter(v=>v.name.toLowerCase().includes(g)||v.description.toLowerCase().includes(g))})(),u=(h,g)=>{h.dataTransfer.setData("application/super-forms-node",g.id),h.dataTransfer.effectAllowed="copy"},f=h=>{e(h.id,{x:Math.random()*200+100,y:Math.random()*200+100})};return r.jsxs("div",{className:"node-palette flex flex-col h-full bg-white border-r border-gray-200",children:[r.jsxs("div",{className:"p-3 border-b border-gray-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Node Library"}),r.jsxs("div",{className:"relative",children:[r.jsx(ks,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",value:s,onChange:h=>i(h.target.value),placeholder:"Search nodes...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsx("div",{className:"flex border-b border-gray-200",children:_T.map(h=>{const g=h.icon,v=t===h.id;return r.jsx("button",{onClick:()=>n(h.id),className:`flex-1 px-2 py-2 text-xs font-medium transition-colors ${v?"bg-gray-50 text-gray-900 border-b-2":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,style:{borderBottomColor:v?h.color:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[r.jsx(g,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:h.name})]})},h.id)})}),r.jsx("div",{className:"flex-1 overflow-y-auto",style:{maxHeight:"400px"},children:r.jsxs("div",{className:"p-2 space-y-1",children:[d.map(h=>r.jsx(zT,{node:h,onDragStart:g=>u(g,h),onClick:()=>f(h)},h.id)),d.length===0&&r.jsxs("div",{className:"text-center py-6 text-gray-500",children:[r.jsx(ks,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No nodes found"}),r.jsx("p",{className:"text-xs mt-1",children:"Try a different search term"})]})]})}),r.jsx("div",{className:"p-2 border-t border-gray-200 bg-gray-50",children:r.jsx("p",{className:"text-xs text-gray-500",children:"Drag or click nodes to add them to the canvas"})})]})}function zT({node:e,onDragStart:t,onClick:n}){const s=e.icon;return r.jsxs("div",{draggable:!0,onDragStart:t,onClick:n,className:"flex items-center gap-2 p-2 rounded-md border border-gray-200 hover:border-gray-300 hover:bg-gray-50 cursor-move transition-all",style:{borderLeftColor:e.color,borderLeftWidth:"3px"},children:[r.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded flex items-center justify-center",style:{backgroundColor:`${e.color}15`},children:r.jsx(s,{className:"w-4 h-4",style:{color:e.color}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-900 truncate",children:e.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.description})]}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[e.inputs.length>0&&r.jsxs("div",{className:"flex items-center gap-0.5",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),r.jsx("span",{children:e.inputs.length})]}),e.outputs.length>0&&r.jsxs("div",{className:"flex items-center gap-0.5",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),r.jsx("span",{children:e.outputs.length})]})]})]})}function TT({selectedNode:e,onUpdateNode:t,onClose:n,onOpenEmailBuilder:s}){if(!e)return r.jsx("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:r.jsx("div",{className:"flex-1 flex items-center justify-center p-8 text-center",children:r.jsxs("div",{children:[r.jsx(wl,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No Node Selected"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Click on a node to view its properties"})]})})});const i=NT(e.type);if(!i)return r.jsx("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:r.jsx("div",{className:"flex-1 flex items-center justify-center p-8 text-center",children:r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-red-600",children:["Unknown node type: ",e.type]})})})});const l=i.icon,d=(f,h)=>{t(e.id,{config:{...e.config,[f]:h}})},u=(f,h)=>f==="formId"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Form"}),r.jsxs("select",{value:h||"",onChange:g=>d(f,g.target.value?parseInt(g.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Forms"}),window.sfuiData?.forms?.map(g=>r.jsx("option",{value:g.id,children:g.title},g.id))]})]},f):f==="method"&&e.type==="http_request"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"HTTP Method"}),r.jsxs("select",{value:h||"POST",onChange:g=>d(f,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"GET",children:"GET"}),r.jsx("option",{value:"POST",children:"POST"}),r.jsx("option",{value:"PUT",children:"PUT"}),r.jsx("option",{value:"PATCH",children:"PATCH"}),r.jsx("option",{value:"DELETE",children:"DELETE"})]})]},f):f==="bodyType"&&e.type==="send_email"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Body Type"}),r.jsxs("select",{value:h||"html",onChange:g=>d(f,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"html",children:"HTML"}),r.jsx("option",{value:"text",children:"Plain Text"})]})]},f):f==="body"||f==="message"||f==="payload"||f==="postContent"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:f.replace(/([A-Z])/g," $1").trim()}),r.jsx("textarea",{value:h||"",onChange:g=>d(f,g.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"Supports {tags} for dynamic values"}),r.jsxs("p",{className:"text-xs text-gray-500",children:[" Use ","{field_name}"," to insert form field values"]})]},f):typeof h=="number"||f==="duration"||f==="quantity"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:f.replace(/([A-Z])/g," $1").trim()}),r.jsx("input",{type:"number",value:h||"",onChange:g=>d(f,parseFloat(g.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},f):typeof h=="boolean"?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:`config-${f}`,checked:h,onChange:g=>d(f,g.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("label",{htmlFor:`config-${f}`,className:"text-sm font-medium text-gray-700 capitalize",children:f.replace(/([A-Z])/g," $1").trim()})]},f):Array.isArray(h)?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:f.replace(/([A-Z])/g," $1").trim()}),r.jsx("textarea",{value:JSON.stringify(h,null,2),onChange:g=>{try{const v=JSON.parse(g.target.value);d(f,v)}catch{}},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]},f):typeof h=="object"&&h!==null?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:f.replace(/([A-Z])/g," $1").trim()}),r.jsx("textarea",{value:JSON.stringify(h,null,2),onChange:g=>{try{const v=JSON.parse(g.target.value);d(f,v)}catch{}},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]},f):r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:f.replace(/([A-Z])/g," $1").trim()}),r.jsx("input",{type:"text",value:h||"",onChange:g=>d(f,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Supports {tags}"})]},f);return r.jsxs("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${i.color}20`},children:r.jsx(l,{className:"w-5 h-5",style:{color:i.color}})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:i.name}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:i.category})]})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(qt,{className:"w-4 h-4 text-gray-500"})})]}),r.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:r.jsx("p",{className:"text-sm text-gray-600",children:i.description})}),r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ih,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Node Enabled"})]}),r.jsx("button",{onClick:()=>t(e.id,{config:{...e.config,_enabled:e.config._enabled===!1}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${e.config._enabled!==!1?"bg-green-500":"bg-gray-300"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm ${e.config._enabled!==!1?"translate-x-6":"translate-x-1"}`})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.config._enabled!==!1?"This node will execute when triggered":"This node is paused and will be skipped"})]}),e.type==="send_email"&&s&&r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("button",{onClick:()=>s(e),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Hr,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:"Open Email Builder"}),r.jsx(cl,{className:"w-3 h-3 ml-1"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Design your email template visually"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:Object.keys(e.config).filter(f=>!f.startsWith("_")).length>0?Object.entries(e.config).filter(([f])=>!f.startsWith("_")).map(([f,h])=>u(f,h)):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Zt,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-sm",children:"No configuration needed"}),r.jsx("p",{className:"text-xs mt-1",children:"This node works out of the box"})]})}),r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[r.jsx("span",{children:"Node ID:"}),r.jsx("code",{className:"font-mono bg-white px-2 py-1 rounded border border-gray-200",children:e.id})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[r.jsx("span",{children:"Type:"}),r.jsx("code",{className:"font-mono bg-white px-2 py-1 rounded border border-gray-200",children:e.type})]})]})]})}function DT({workflowName:e,onWorkflowNameChange:t,onSave:n,onUndo:s,onRedo:i,onClear:l,onTest:d,onPreview:u,canUndo:f,canRedo:h,isSaving:g=!1}){return r.jsxs("div",{className:"toolbar flex items-center justify-between px-4 py-3 bg-white border-b border-gray-200",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("input",{type:"text",value:e,onChange:v=>t(v.target.value),placeholder:"Untitled Workflow",className:"text-lg font-semibold text-gray-900 bg-transparent border-none focus:outline-none focus:ring-0 min-w-[300px]"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:s,disabled:!f,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Undo (Ctrl+Z)",children:r.jsx(Pj,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{onClick:i,disabled:!h,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Redo (Ctrl+Y)",children:r.jsx(Cj,{className:"w-4 h-4 text-gray-700"})}),r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),r.jsx("button",{onClick:l,className:"p-2 rounded hover:bg-gray-100 transition-colors",title:"Clear Workflow",children:r.jsx(Wn,{className:"w-4 h-4 text-gray-700"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(ws,{className:"w-4 h-4"}),"Preview"]}),r.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(mu,{className:"w-4 h-4"}),"Test"]}),r.jsxs("button",{onClick:n,disabled:g,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(Ns,{className:"w-4 h-4"}),g?"Saving...":"Save Workflow"]})]})]})}function $T({isOpen:e,onClose:t,connectionStart:n,position:s,onCreateAndConnect:i}){const[l,d]=m.useState(""),[u,f]=m.useState("all"),h=[{id:"all",name:"All Nodes",icon:""},{id:"action",name:"Actions",icon:""},{id:"condition",name:"Conditions",icon:""}],g=m.useMemo(()=>Object.entries(Ys).map(([k,N])=>({id:k,...N})).filter(k=>{if(!k.inputs||k.inputs.length===0||u!=="all"&&k.category!==u)return!1;if(l){const N=l.toLowerCase();return k.name.toLowerCase().includes(N)||k.description&&k.description.toLowerCase().includes(N)}return!0}),[u,l]),v=b=>{s&&(i(b.id,s),t())},x=b=>{b.key==="Escape"&&t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:r.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-96 max-h-[600px] flex flex-col",onClick:b=>b.stopPropagation(),onKeyDown:x,children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Connect to New Node"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-white transition-colors",title:"Close",children:r.jsx(qt,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Choose a node to create and connect to"})]}),r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"relative",children:[r.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search nodes...",value:l,onChange:b=>d(b.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg pl-10 pr-3 py-2 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",autoFocus:!0})]})}),r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex gap-2",children:h.map(b=>r.jsxs("button",{onClick:()=>f(b.id),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${u===b.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[b.icon," ",b.name]},b.id))})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:r.jsxs("div",{className:"space-y-2",children:[g.map(b=>{const k=b.icon;return r.jsx("div",{onClick:()=>v(b),className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 cursor-pointer transition-all duration-200 hover:bg-gray-100 dark:hover:bg-gray-700 hover:shadow-lg border border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500",style:{borderLeftColor:b.color,borderLeftWidth:"4px"},children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xl flex-shrink-0",children:r.jsx(k,{className:"w-5 h-5",style:{color:b.color}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-gray-900 dark:text-white font-medium text-sm",children:b.name}),b.description&&r.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-xs",children:b.description}),r.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs",children:[b.inputs&&b.inputs.length>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[b.inputs.length," input",b.inputs.length>1?"s":""]})]}),b.outputs&&b.outputs.length>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[b.outputs.length," output",b.outputs.length>1?"s":""]})]})]})]})]})},b.id)}),g.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"text-4xl mb-3",children:""}),r.jsx("p",{children:"No matching nodes found"}),r.jsx("p",{className:"text-xs mt-1",children:"Try adjusting your search terms"})]})]})}),r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex justify-end gap-2",children:r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cancel"})})})]})}):null}function By({email:e}){const s=`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    <style>
      /* Reset styles for email content */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        font-size: 14px;
        line-height: 1.6;
        color: #333333;
      }
      
      p {
        margin: 0 0 10px 0;
      }
      
      h1, h2, h3, h4, h5, h6 {
        margin: 0 0 10px 0;
        font-weight: 600;
      }
      
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      h3 { font-size: 18px; }
      h4 { font-size: 16px; }
      h5 { font-size: 14px; }
      h6 { font-size: 12px; }
      
      a {
        color: #0066cc;
        text-decoration: underline;
      }
      
      img {
        max-width: 100%;
        height: auto;
      }
      
      table {
        border-collapse: collapse;
        width: 100%;
      }
      
      th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
      
      blockquote {
        margin: 0 0 10px 0;
        padding: 10px 20px;
        border-left: 4px solid #ddd;
        background-color: #f9f9f9;
      }
      
      ul, ol {
        margin: 0 0 10px 20px;
        padding: 0;
      }
      
      li {
        margin: 0 0 5px 0;
      }
      
      /* Button styles */
      .button {
        display: inline-block;
        padding: 12px 24px;
        background-color: #0066cc;
        color: #ffffff;
        text-decoration: none;
        border-radius: 4px;
        font-weight: 600;
      }
      
      /* Responsive */
      @media only screen and (max-width: 600px) {
        body {
          font-size: 16px !important;
        }
        
        table {
          width: 100% !important;
        }
        
        .button {
          display: block !important;
          width: 100% !important;
        }
      }
    </style>
  
      </head>
      <body>
        <div style="max-width: 600px; margin: 0 auto;">
          ${e.body||"<p>Email content will appear here...</p>"}
        </div>
      </body>
    </html>
  `;return r.jsx("div",{className:"email-content",children:r.jsx("iframe",{srcDoc:s,className:"w-full h-full border-0",style:{minHeight:"400px"},title:"Email Preview",sandbox:"allow-same-origin"})})}function Vn({value:e,onChange:t,placeholder:n="Click to edit",className:s="",multiline:i=!1,type:l="text",showEditIcon:d=!0,noPadding:u=!1}){const[f,h]=m.useState(!1),[g,v]=m.useState(e||""),[x,b]=m.useState(!1),k=m.useRef(null);m.useEffect(()=>{f&&k.current&&(k.current.focus(),k.current.select&&k.current.select())},[f]),m.useEffect(()=>{v(e||"")},[e]);const N=()=>{t&&g!==e&&t(g),h(!1)},S=()=>{v(e||""),h(!1)},C=w=>{w.key==="Enter"&&!i?(w.preventDefault(),N()):w.key==="Escape"&&(w.preventDefault(),S())},_=()=>{f||h(!0)};if(f){const w=i?"textarea":"input";return r.jsxs("div",{className:"inline-flex items-center gap-1",children:[r.jsx(w,{ref:k,type:l,value:g,onChange:R=>v(R.target.value),onKeyDown:C,onBlur:N,className:pe("bg-white border border-gray-300 rounded",!u&&"px-2 py-0.5","outline-none focus:border-blue-500",!u&&"h-[28px]",i&&"resize-none min-h-[60px] h-auto",s),placeholder:n}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{type:"button",onClick:N,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Save",children:r.jsx(Ia,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:S,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Cancel",children:r.jsx(qt,{className:"w-4 h-4"})})]})]})}return r.jsxs("span",{className:pe("inline-flex items-center gap-1 cursor-pointer group","border border-transparent rounded",!u&&"px-2 py-0.5",!u&&"h-[28px]",s),onClick:_,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),title:"Click to edit",children:[r.jsx("span",{className:pe(!e&&"text-gray-400"),children:e||n}),d&&x&&r.jsx(jr,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}function PT({scheduledDate:e,schedule:t,className:n="",size:s="normal"}){const i=t?.enabled&&t?.schedules?.length>0;if(!e&&!i)return null;const l=s==="small";if(i&&!e){const u=t.schedules.length;return r.jsxs("div",{className:pe("inline-flex items-center gap-1",l?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",l?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(rr,{className:pe(l?"w-3 h-3":"w-4 h-4")}),r.jsxs("span",{className:"font-medium",children:[u," ",u===1?"Schedule":"Schedules"]})]})}const d=new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return r.jsxs("div",{className:pe("inline-flex items-center gap-1",l?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",l?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(rr,{className:pe(l?"w-3 h-3":"w-4 h-4")}),r.jsx("span",{className:"font-medium",children:"Scheduled"}),!l&&r.jsx("span",{className:"text-blue-500",children:""}),!l&&r.jsx("span",{children:d})]})}let Zn=null;function MT({onSelect:e,onClose:t,title:n="Select Media"}){m.useEffect(()=>{if(typeof wp>"u"||!wp.media){console.error("WordPress media library is not available"),t();return}Zn?Zn.options.title=n:Zn=wp.media({title:n,button:{text:"Select"},multiple:!1}),Zn.off("select"),Zn.off("close");const i=()=>{const d=Zn.state().get("selection").first().toJSON();if(d){const u={id:d.id,title:d.title,filename:d.filename,url:d.url,mime:d.mime||d.type,type:d.mime||d.type,filesizeHumanReadable:d.filesizeHumanReadable||s(d.filesize),filesize:d.filesize};e(u)}},l=()=>{t()};return Zn.on("select",i),Zn.on("close",l),Zn.open(),()=>{Zn&&(Zn.off("select",i),Zn.off("close",l))}},[]);function s(i){if(!i)return"Unknown size";const l=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(i)/Math.log(1024));return Math.round(i/Math.pow(1024,d)*100)/100+" "+l[d]}return null}const IT=$e.memo(MT),Uy=({className:e})=>r.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("text",{x:"7",y:"17",fontSize:"8",fontWeight:"600",fill:"currentColor",stroke:"none",children:"PDF"})]});function LT({attachments:e=[],onChange:t,isBuilder:n=!1}){const[s,i]=m.useState(!1),[l,d]=m.useState(null),u=m.useCallback(x=>{const b={id:x.id,name:x.filename||x.title||"Untitled",url:x.url,type:x.mime||x.type||"application/octet-stream",size:x.filesizeHumanReadable||x.filesize||"Unknown size"};if(l!==null){const k=[...e];k[l]=b,t(k),d(null)}else t([...e,b]);i(!1)},[e,t,l]),f=x=>{const b=e.filter((k,N)=>N!==x);t(b)},h=x=>{d(x),i(!0)},g=m.useCallback(()=>{i(!1),d(null)},[]),v=(x,b="")=>{if(x.startsWith("image/"))return pl;if(x.includes("pdf"))return Uy;if(x.includes("spreadsheet")||x.includes("excel")||x.includes("csv"))return ml;if(x.includes("video/"))return gl;if(x.includes("audio/"))return ul;if(x.includes("zip")||x.includes("tar")||x.includes("archive"))return dl;if(x.includes("text/plain"))return hl;switch(b.split(".").pop()?.toLowerCase()){case"pdf":return Uy;case"csv":case"xls":case"xlsx":case"ods":return ml;case"doc":case"docx":case"odt":case"rtf":case"txt":return hl;case"mp4":case"avi":case"mov":case"wmv":case"flv":case"webm":return gl;case"mp3":case"wav":case"ogg":case"flac":case"aac":return ul;case"zip":case"rar":case"7z":case"tar":case"gz":return dl;case"js":case"jsx":case"ts":case"tsx":case"html":case"css":case"php":case"py":case"java":case"cpp":case"c":case"json":case"xml":return fl;case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":case"bmp":case"ico":return pl;default:return _h}};return!n&&e.length===0?null:r.jsxs("div",{className:"border-t pt-4 mt-2.5",children:[n&&r.jsxs("button",{onClick:()=>{d(null),i(!0)},className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1 mb-3",children:[r.jsx(Mh,{className:"w-3 h-3"}),"Attach files"]}),e.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((x,b)=>{const k=v(x.type,x.name);return r.jsxs("div",{className:"group inline-flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#f5f5f5"},children:[r.jsx(k,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsxs("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-700 group-hover:text-blue-600 transition-colors flex items-center gap-1",children:[r.jsx("span",{children:x.name}),r.jsx(cl,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",x.size,")"]}),n&&r.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:()=>h(b),className:"p-1 text-blue-600 hover:text-blue-700",title:"Replace attachment",children:r.jsx(jr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>f(b),className:"p-1 text-red-600 hover:text-red-700",title:"Remove attachment",children:r.jsx(qt,{className:"w-4 h-4"})})]})]},`${x.id}-${b}`)})}),s&&r.jsx(IT,{onSelect:u,onClose:g,title:l!==null?"Replace Attachment":"Select Attachment"})]})}const Vy=$e.memo(LT);function If({email:e,isMobile:t,isBuilder:n,renderBody:s,updateEmailField:i,activeEmailId:l,isHtmlMode:d,onModeChange:u}){const f=e.from_name||"Sender Name",h=e.from_email||"sender@example.com",g=e.subject||"Email Subject",v=e.to||"recipient@example.com",x=e.cc||"",b=e.bcc||"",k=new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),N=m.useCallback((S,C)=>{i&&l&&i(l,S,C)},[i,l]);return t?r.jsxs("div",{className:"h-full bg-white flex flex-col max-w-md mx-auto",children:[r.jsx("div",{className:"bg-white border-b px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),r.jsx("button",{className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]})}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"p-4",children:[n?r.jsx(Vn,{value:e.subject,onChange:S=>N("subject",S),placeholder:"Email Subject",className:"text-lg font-normal text-gray-900 mb-4",noPadding:!0}):r.jsx("h2",{className:"text-lg font-normal text-gray-900 mb-4",children:g}),r.jsxs("div",{className:"flex items-start gap-5 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600",children:r.jsx(Ua,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[n?r.jsx(Vn,{value:e.from_name,onChange:S=>N("from_name",S),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}):r.jsx("span",{className:"font-medium text-gray-900",children:f}),r.jsx("span",{className:"text-xs text-gray-500",children:k})]}),r.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"to"}),r.jsx(Vn,{value:e.to,onChange:S=>N("to",S),placeholder:"recipient@example.com",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"cc"}),r.jsx(Vn,{value:e.cc||"",onChange:S=>N("cc",S),placeholder:"no CC defined",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"bcc"}),r.jsx(Vn,{value:e.bcc||"",onChange:S=>N("bcc",S),placeholder:"no BCC defined",type:"email",className:"text-sm text-gray-600"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["to ",v]}),x&&r.jsxs("div",{children:["cc: ",x]}),b&&r.jsxs("div",{children:["bcc: ",b]})]})})]})]}),r.jsxs("div",{className:"flex items-center justify-between gap-2 px-2",children:[r.jsx(Vy,{attachments:e.attachments||[],onChange:S=>N("attachments",S),isBuilder:n}),n&&u&&r.jsxs("div",{className:"flex items-center gap-0.5 bg-gray-100 rounded-md p-0.5",children:[r.jsx("button",{onClick:()=>!d||u("visual"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"text-gray-500":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:r.jsx(Fn,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>d||u("html"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"bg-white text-gray-900 shadow-sm":"text-gray-500"),title:"HTML Editor",children:r.jsx(Zt,{className:"w-3 h-3"})})]})]}),r.jsx("div",{className:"bg-white p-2",children:r.jsx("div",{className:"bg-white min-h-[200px] p-0",children:n&&s?s():r.jsx(By,{email:e})})})]})})]}):r.jsxs("div",{className:"h-full bg-white flex flex-col",children:[r.jsx("div",{className:"border-b bg-white",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-start gap-5",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 flex-shrink-0",children:r.jsx(Ua,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[n?r.jsx(Vn,{value:e.subject,onChange:S=>N("subject",S),placeholder:"Email Subject",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},noPadding:!0}):r.jsx("h1",{className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},children:g}),r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-xs text-gray-600 rounded",children:"Inbox"}),(e.scheduled_date||e.schedule)&&r.jsx(PT,{scheduledDate:e.scheduled_date,schedule:e.schedule})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center",children:n?r.jsxs(r.Fragment,{children:[r.jsx(Vn,{value:e.from_name,onChange:S=>N("from_name",S),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600 ml-2.5",children:"<"}),r.jsx(Vn,{value:e.from_email,onChange:S=>N("from_email",S),placeholder:"sender@example.com",type:"email",className:"text-sm text-gray-600",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600",children:">"})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"font-medium text-gray-900",children:f}),r.jsxs("span",{className:"text-sm text-gray-600",children:["<",h,">"]})]})}),r.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"to"}),r.jsx(Vn,{value:e.to,onChange:S=>N("to",S),placeholder:"recipient@example.com",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"cc"}),r.jsx(Vn,{value:e.cc||"",onChange:S=>N("cc",S),placeholder:"no CC defined",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"bcc"}),r.jsx(Vn,{value:e.bcc||"",onChange:S=>N("bcc",S),placeholder:"no BCC defined",type:"email",className:"text-sm text-gray-600"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["to ",v]}),x&&r.jsxs("div",{children:["cc: ",x]}),b&&r.jsxs("div",{children:["bcc: ",b]})]})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-sm text-gray-500",children:k}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})})]})]}),r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsx(Vy,{attachments:e.attachments||[],onChange:S=>N("attachments",S),isBuilder:n}),n&&u&&r.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-0.5",children:[r.jsxs("button",{onClick:()=>!d||u("visual"),className:pe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all",d?"text-gray-500 hover:text-gray-700":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:[r.jsx(Fn,{className:"w-4 h-4"}),r.jsx("span",{children:"Visual"})]}),r.jsxs("button",{onClick:()=>d||u("html"),className:pe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all",d?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),title:"HTML Editor",children:[r.jsx(Zt,{className:"w-4 h-4"}),r.jsx("span",{children:"HTML"})]})]})]})]})]})})}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"max-w-[1000px] mx-auto bg-white",children:[r.jsx("div",{className:"bg-white min-h-[200px] p-0",children:n&&s?s():r.jsx(By,{email:e})}),r.jsx("div",{className:"border-t pt-6 pl-6",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{className:"px-4 py-2 bg-white border rounded-full text-sm font-medium text-gray-700 cursor-not-allowed",disabled:!0,children:[r.jsx("svg",{className:"w-4 h-4 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Reply"]}),r.jsxs("button",{className:"px-4 py-2 bg-white border rounded-full text-sm font-medium text-gray-700 cursor-not-allowed",disabled:!0,children:[r.jsx("svg",{className:"w-4 h-4 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),"Forward"]})]})})]})})]})}const ut=Sl((e,t)=>({elements:[],selectedElementId:null,isDragging:!1,draggedElement:null,editingTextElementId:null,currentTemplate:null,savedTemplates:[],templateCategories:[{id:"welcome",name:"Welcome/Onboarding",count:5},{id:"transactional",name:"Transactional",count:5},{id:"newsletter",name:"Newsletter",count:5},{id:"notification",name:"Notification",count:5},{id:"minimal",name:"Minimal",count:3}],previewClient:"gmail-desktop",previewData:{},elementTypes:{emailWrapper:{id:"emailWrapper",name:"Email Wrapper",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{backgroundColor:"#f5f5f5"}},emailContainer:{id:"emailContainer",name:"Email Container",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{width:"600px",margin:{top:50,right:"auto",bottom:50,left:"auto"},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#e5e5e5",padding:{top:60,right:30,bottom:60,left:30},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",boxShadow:"none",borderRadius:0}},section:{id:"section",name:"Section",icon:"",defaultProps:{margin:{top:0,right:0,bottom:0,left:0},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#000000",padding:{top:20,right:20,bottom:20,left:20},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",fullWidth:!1}},columns:{id:"columns",name:"Columns",icon:"",defaultProps:{columns:2,gap:20,stackOnMobile:!0}},text:{id:"text",name:"Text",icon:"",defaultProps:{content:"Click to edit this text...",fontSize:16,fontFamily:"Arial, sans-serif",color:"#333333",lineHeight:1.6,align:"left",width:"100%",margin:{top:0,right:0,bottom:0,left:0},padding:{top:0,right:0,bottom:0,left:0}}},image:{id:"image",name:"Image",icon:"",defaultProps:{src:"",alt:"",width:"100%",height:"auto",align:"center",link:""}},button:{id:"button",name:"Button",icon:"",defaultProps:{text:"Click Here",href:"#",backgroundColor:"#0066cc",color:"#ffffff",fontSize:16,fontWeight:"bold",padding:{top:12,right:24,bottom:12,left:24},borderRadius:4,align:"center",fullWidth:!1}},divider:{id:"divider",name:"Divider",icon:"",defaultProps:{height:1,color:"#dddddd",style:"solid",margin:{top:20,bottom:20}}},spacer:{id:"spacer",name:"Spacer",icon:"",defaultProps:{height:20}},social:{id:"social",name:"Social Icons",icon:"",defaultProps:{icons:["facebook","twitter","instagram","linkedin"],iconSize:32,iconColor:"#333333",spacing:10,align:"center"}},formData:{id:"formData",name:"Form Data",icon:"",defaultProps:{field:"",fallback:"",format:"text"}},html:{id:"html",name:"HTML",icon:"</>",defaultProps:{content:"<p>Your HTML content here...</p>"}}},addElement:(n,s=null,i=null)=>{console.log(" addElement called:",{type:n,parentId:s,position:i});const{elementTypes:l}=t(),d=l[n];if(!d){console.error(" Element type not found:",n);return}if(d.isSystemElement){console.log(" Skipping system element creation:",n);return}const u={id:An(),type:n,props:{...d.defaultProps},children:[]};return console.log(" Created new element:",u),e(f=>{console.log(" Current state before adding:",f.elements);const h=t().ensureSystemElements(f.elements);if(console.log(" State after ensuring system elements:",h),s){console.log(" Adding to parent:",s);const g={elements:Ks(h,s,u,i)};return console.log(" Final state after addToParent:",g.elements),g}else{console.log(" Adding to root - finding email container...");const g=(x,b)=>{for(const k of x){if(k.type===b)return k;if(k.children&&k.children.length>0){const N=g(k.children,b);if(N)return N}}return null},v=g(h,"emailContainer");if(console.log(" Found email container:",v),v){console.log(" Adding to email container:",v.id);const x={elements:Ks(h,v.id,u,i)};return console.log(" Final state after addToParent to container:",x.elements),x}else{console.log(" No email container found, adding to root");const x=[...h];return i!==null?x.splice(i,0,u):x.push(u),console.log(" Final state (root fallback):",x),{elements:x}}}}),console.log(" addElement completed, returning:",u.id),u.id},updateElement:(n,s)=>{e(i=>({elements:Of(i.elements,n,s)}))},deleteElement:n=>{e(s=>({elements:Ec(s.elements,n),selectedElementId:s.selectedElementId===n?null:s.selectedElementId}))},moveElement:(n,s,i)=>{e(l=>{let d=[...l.elements],u=null;if(d=Ec(d,n,f=>{u=f}),!u)return l;if(u.type==="emailWrapper"||u.type==="emailContainer")return console.log(" Cannot move system elements"),l;if(s)d=Ks(d,s,u,i);else{const f=(g,v)=>{for(const x of g){if(x.type===v)return x;if(x.children&&x.children.length>0){const b=f(x.children,v);if(b)return b}}return null},h=f(d,"emailContainer");if(h)console.log(" Moving to email container:",h.id),d=Ks(d,h.id,u,i);else return console.log(" No email container found, cannot add element"),l}return{elements:d}})},selectElement:n=>{console.log("selectElement called with id:",n),e({selectedElementId:n}),console.log("selectedElementId set to:",n)},clearCanvas:()=>{e({elements:[],selectedElementId:null})},setElements:n=>{const s=t().ensureSystemElements(n||[]);e({elements:s})},ensureSystemElements:n=>{const{elementTypes:s}=t();let i=[...n];const l=(h,g)=>{for(const v of h){if(v.type===g)return v;if(v.children&&v.children.length>0){const x=l(v.children,g);if(x)return x}}return null};let d=i.find(h=>h.type==="emailWrapper");d||(d={id:`email-wrapper-${Date.now()}`,type:"emailWrapper",props:{...s.emailWrapper.defaultProps},children:[]},i.unshift(d));let u=l([d],"emailContainer");u||(u={id:`email-container-${Date.now()}`,type:"emailContainer",props:{...s.emailContainer.defaultProps},children:[]},d.children.unshift(u));const f=i.filter(h=>h.type!=="emailWrapper");return f.length>0&&(u.children.push(...f),i=i.filter(h=>h.type==="emailWrapper")),i},saveAsTemplate:(n,s,i)=>{const{elements:l}=t(),d={id:An(),name:n,description:s,category:i,elements:JSON.parse(JSON.stringify(l)),createdAt:new Date().toISOString(),thumbnail:null};return e(u=>({savedTemplates:[...u.savedTemplates,d]})),d},loadTemplate:n=>{const{savedTemplates:s}=t(),i=s.find(l=>l.id===n);i&&e({elements:JSON.parse(JSON.stringify(i.elements)),currentTemplate:i,selectedElementId:null})},deleteTemplate:n=>{e(s=>({savedTemplates:s.savedTemplates.filter(i=>i.id!==n)}))},generateHtml:()=>{const{elements:n}=t();return OT(n)},startDrag:n=>{e({isDragging:!0,draggedElement:n})},endDrag:()=>{e({isDragging:!1,draggedElement:null})},setEditingTextElement:n=>{e({editingTextElementId:n})},moveElementUpDown:(n,s)=>{const i=t(),l=Lf(i.elements,n);if(!l){console.log("Element not found:",n);return}const{parent:d,parentId:u,position:f}=l,h=d?d.children:i.elements,g=s==="up"?f-1:f+1;if(g<0||g>=h.length){console.log("Cannot move element beyond bounds");return}const v=u||null;t().moveElement(n,v,g)}})),Cc=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.children&&n.children.length>0)if(n.type==="columns")for(const s of n.children){const i=Cc(s.children||[],t);if(i)return i}else{const s=Cc(n.children,t);if(s)return s}}return null},Lf=(e,t,n=null,s=null)=>{for(let i=0;i<e.length;i++){const l=e[i];if(l.id===t)return{parent:n,parentId:s,position:i};if(l.children&&l.children.length>0)if(l.type==="columns")for(const d of l.children){const u=Lf(d.children||[],t,d,d.id);if(u)return u}else{const d=Lf(l.children,t,l,l.id);if(d)return d}}return null},Xo=()=>{const e=ut(w=>w.selectElement),t=ut(w=>w.updateElement),n=ut(w=>w.addElement),s=ut(w=>w.deleteElement),i=ut(w=>w.moveElement),l=ut(w=>w.setElements),d=ut(w=>w.clearCanvas),u=ut(w=>w.generateHtml),f=ut(w=>w.startDrag),h=ut(w=>w.endDrag),g=ut(w=>w.setEditingTextElement),v=ut(w=>w.moveElementUpDown),x=ut(w=>w.selectedElementId),b=ut(w=>w.isDragging),k=ut(w=>w.draggedElement),N=ut(w=>w.elementTypes),S=ut(w=>w.editingTextElementId),C=ut(w=>w.elements),_=m.useMemo(()=>x?Cc(C,x):null,[x,C]);return{elements:C,selectedElementId:x,selectedElement:_,isDragging:b,draggedElement:k,elementTypes:N,editingTextElementId:S,selectElement:e,updateElement:t,addElement:n,deleteElement:s,moveElement:i,setElements:l,clearCanvas:d,generateHtml:u,startDrag:f,endDrag:h,setEditingTextElement:g,moveElementUpDown:v}};Xo.getState=()=>{const e=ut.getState(),t=e.selectedElementId?Cc(e.elements,e.selectedElementId):null;return{...e,selectedElement:t}};function Ks(e,t,n,s){if(console.log(" addToParent called:",{parentId:t,newElement:n,position:s}),console.log(" Elements structure:",e),t&&t.includes("-col-")){const[i,,l]=t.split("-"),d=parseInt(l);return e.map(u=>{if(u.id===i&&u.type==="columns"){const f=[...u.children||[]];for(;f.length<=d;)f.push({type:"column",children:[]});const h=[...f[d]?.children||[]];return s!=null?h.splice(s,0,n):h.push(n),f[d]={type:"column",children:h},{...u,children:f}}return u.children&&u.children.length>0?{...u,children:Ks(u.children,t,n,s)}:u})}return e.map(i=>{if(i.id===t){console.log(" Found target parent element:",i);const l=[...i.children];s!=null?(l.splice(s,0,n),console.log(" Added at position",s,"- new children:",l)):(l.push(n),console.log(" Added at end - new children:",l));const d={...i,children:l};return console.log(" Updated parent element:",d),d}return i.children&&i.children.length>0?{...i,children:Ks(i.children,t,n,s)}:i})}function Of(e,t,n){return e.map(s=>s.id===t?typeof n=="function"?n(s):{...s,...n}:s.children&&s.children.length>0?s.type==="columns"?{...s,children:s.children.map(i=>({...i,children:Of(i.children||[],t,n)}))}:{...s,children:Of(s.children,t,n)}:s)}function Ec(e,t,n){return e.filter(s=>s.id===t?(n&&n(s),!1):(s.children&&s.children.length>0&&(s.type==="columns"?s.children=s.children.map(i=>({...i,children:Ec(i.children||[],t,n)})):s.children=Ec(s.children,t,n)),!0))}function OT(e){const t=s=>{switch(s.type){case"section":const i=s.props.margin||{top:0,right:0,bottom:0,left:0},l=s.props.border||{top:0,right:0,bottom:0,left:0},d=s.props.borderStyle||"solid",u=s.props.borderColor||"#000000",f=i.top||i.bottom?`<tr><td style="padding: ${i.top}px ${i.right}px ${i.bottom}px ${i.left}px;"></td></tr>`:"",h=s.props.backgroundImage?`background-image: url('${s.props.backgroundImage}'); background-size: ${s.props.backgroundSize||"cover"}; background-position: ${s.props.backgroundPosition||"center"}; background-repeat: ${s.props.backgroundRepeat||"no-repeat"};`:"",v=l.top>0||l.right>0||l.bottom>0||l.left>0?`border-top: ${l.top}px ${d} ${u}; border-right: ${l.right}px ${d} ${u}; border-bottom: ${l.bottom}px ${d} ${u}; border-left: ${l.left}px ${d} ${u};`:"";return`${f}<tr><td style="padding: ${s.props.padding.top}px ${s.props.padding.right}px ${s.props.padding.bottom}px ${s.props.padding.left}px; background-color: ${s.props.backgroundColor}; ${h} ${v}">
          ${s.children.map(t).join("")}
        </td></tr>`;case"text":return`<div style="font-size: ${s.props.fontSize}px; color: ${s.props.color}; text-align: ${s.props.align}; line-height: ${s.props.lineHeight};">
          ${s.props.content}
        </div>`;case"button":return`<div style="text-align: ${s.props.align};">
          <a href="${s.props.href}" style="display: inline-block; background-color: ${s.props.backgroundColor}; color: ${s.props.color}; padding: ${s.props.padding.top}px ${s.props.padding.right}px ${s.props.padding.bottom}px ${s.props.padding.left}px; text-decoration: none; border-radius: ${s.props.borderRadius}px; font-size: ${s.props.fontSize}px; font-weight: ${s.props.fontWeight};">
            ${s.props.text}
          </a>
        </div>`;case"html":return s.props.content||"";default:return""}};return`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f4f4f4;">
  <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="min-width: 100%;">
    <tr>
      <td align="center">
        <!--[if mso]>
        <table role="presentation" width="600" cellpadding="0" cellspacing="0">
        <tr>
        <td>
        <![endif]-->
        
        <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
          ${e.map(t).join("")}
        </table>
        
        <!--[if mso]>
        </td>
        </tr>
        </table>
        <![endif]-->
      </td>
    </tr>
  </table>
</body>
</html>`}const AT={section:Ma,columns:su,text:Cs,image:cu,button:Bh,divider:$h,spacer:Ph,social:Ah,formData:ll,html:Zt};function FT({element:e}){const{attributes:t,listeners:n,setNodeRef:s,isDragging:i}=lf({id:`palette-${e.id}`,data:{type:"new-element",elementType:e.id}}),l=AT[e.id]||Ma;return r.jsxs("div",{ref:s,...n,...t,className:pe("flex flex-col items-center justify-center p-3 cursor-move","hover:bg-gray-100 transition-colors rounded-lg group",i&&"opacity-50"),title:e.name,children:[r.jsx(l,{className:"w-5 h-5 mb-1 text-gray-600 group-hover:text-gray-800"}),r.jsx("span",{className:"text-xs text-gray-600 text-center leading-tight group-hover:text-gray-800",children:e.name})]})}function WT(){const{elementTypes:e}=Xo(),t=[{name:"Layout",elements:["section","columns","spacer"]},{name:"Content",elements:["text","image","button","divider","html"]},{name:"Dynamic",elements:["formData","social"]}];return r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Elements:"}),r.jsx("div",{className:"flex items-center gap-6 overflow-x-auto",children:t.map((n,s)=>r.jsxs($e.Fragment,{children:[s>0&&r.jsx("div",{className:"h-8 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase mr-2",children:n.name}),n.elements.map(i=>{const l=e[i];return l?r.jsx(FT,{element:l},l.id):null})]})]},n.name))}),r.jsx("div",{className:"ml-auto text-xs text-gray-500 whitespace-nowrap",children:"Drag to add"})]})})}const HT={emailWrapper:{resizable:!1,background:{color:!0,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,canDelete:!1,isSystemElement:!0,backgroundOnly:!0},display:{showInBuilder:!0,selectable:!0}},emailContainer:{resizable:!1,background:{color:!0,image:!0},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{canDelete:!1,isSystemElement:!0,droppable:!0,widthOptions:["600px","700px"]},effects:{borderRadius:!0,shadow:!0},display:{showInBuilder:!0,selectable:!0}},text:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0,lineHeight:!0,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0}},button:{resizable:{horizontal:!0,vertical:!1,minWidth:80,maxWidth:400},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!1,lineHeight:!1,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1}},image:{resizable:{horizontal:!0,vertical:!0,minWidth:50,minHeight:50,maxWidth:1e3,maxHeight:800,aspectRatio:!0},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,alt:!0,title:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},media:{formats:["jpg","png","gif"],maxFileSize:"5MB",optimization:!0}},section:{resizable:{horizontal:!0,vertical:!0,minWidth:200,minHeight:50,maxWidth:700,defaultWidth:600},background:{color:!0,image:!0,gradient:!1},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,contained:!0,centered:!0,columns:!0,droppable:!0},container:{maxColumns:4,columnSpacing:!0,verticalAlignment:!0,equalHeight:!0},effects:{borderRadius:!0,shadow:!1}},spacer:{resizable:{horizontal:!1,vertical:!0,minHeight:10,maxHeight:200},background:{color:!1,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,inline:!1},display:{showInBuilder:!0,showInEmail:!1}},divider:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!0,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!0,inline:!1},style:{thickness:!0,style:!0,opacity:!0}},social:{resizable:{horizontal:!1,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!1,inline:!0},social:{platforms:["facebook","twitter","linkedin","instagram","youtube"],iconStyle:["default","round","square"],iconSize:["small","medium","large"],showLabels:!0}},columns:{resizable:{horizontal:!0,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,droppable:!0},columns:{count:{min:2,max:4},distribution:["equal","custom"],spacing:!0,verticalAlignment:["top","middle","bottom"],responsive:{mobile:"stack",tablet:"maintain",desktop:"maintain"}}},formData:{resizable:{horizontal:!0,vertical:!1},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},data:{fields:["name","email","phone","company","custom"],formatting:!0,fallback:!0}}};function Af(e){return HT[e]||{}}function Xs(e,t){const n=Af(e),s=t.split(".");let i=n;for(const l of s)if(i&&typeof i=="object"&&l in i)i=i[l];else return!1;return!!i}function Zy({margin:e,border:t,padding:n,backgroundColor:s,backgroundImage:i,borderRadius:l,boxShadow:d,children:u,className:f,isResizing:h=!1}){const g=()=>{const x={};if(e&&(e.top!==void 0&&(x.marginTop=`${e.top}px`),e.right!==void 0&&(x.marginRight=`${e.right}px`),e.bottom!==void 0&&(x.marginBottom=`${e.bottom}px`),e.left!==void 0&&(x.marginLeft=`${e.left}px`)),t&&t.width){const{width:b,style:k="solid",color:N="#000000"}=t;b.top>0&&(x.borderTop=`${b.top}px ${k} ${N}`),b.right>0&&(x.borderRight=`${b.right}px ${k} ${N}`),b.bottom>0&&(x.borderBottom=`${b.bottom}px ${k} ${N}`),b.left>0&&(x.borderLeft=`${b.left}px ${k} ${N}`)}return n&&(n.top!==void 0&&(x.paddingTop=`${n.top}px`),n.right!==void 0&&(x.paddingRight=`${n.right}px`),n.bottom!==void 0&&(x.paddingBottom=`${n.bottom}px`),n.left!==void 0&&(x.paddingLeft=`${n.left}px`)),s&&s!=="transparent"&&(x.backgroundColor=s),i&&i.url&&(x.backgroundImage=`url(${i.url})`,x.backgroundSize=i.size||"cover",x.backgroundPosition=i.position||"center",x.backgroundRepeat=i.repeat||"no-repeat"),l&&l>0&&(x.borderRadius=`${l}px`,x.WebkitBorderRadius=`${l}px`,x.MozBorderRadius=`${l}px`),d&&d!=="none"&&(x.boxShadow=d,x.WebkitBoxShadow=d,x.MozBoxShadow=d),x},v=()=>{const x={};return s&&s!=="transparent"&&(x.bgcolor=s),i&&i.url&&(x.background=i.url),x};return r.jsx("div",{className:pe("spacing-layer",!h&&"transition-all duration-200",f),style:g(),...v(),children:u})}function BT({capabilities:e,isResizing:t=!1,intensity:n="normal"}){const s=()=>{const d="absolute inset-0 pointer-events-none rounded";switch(n){case"subtle":return pe(d,"ring-1 ring-green-400 animate-pulse","transition-all duration-1000");case"strong":return pe(d,"ring-4 ring-green-500 animate-pulse","transition-all duration-500");default:return pe(d,"ring-2 ring-green-500 animate-pulse","transition-all duration-700")}},i=()=>{const d={};return e.effects?.borderRadius&&(d.borderRadius="inherit"),t&&(d.opacity=.3),d},l=()=>{const d=[];return e.resizable?.horizontal&&!t&&d.push(r.jsx("div",{className:"absolute top-1/2 right-0 w-1 h-4 bg-green-500 opacity-40 transform -translate-y-1/2 rounded-l"},"resize-horizontal-hint")),e.resizable?.vertical&&!t&&d.push(r.jsx("div",{className:"absolute bottom-0 left-1/2 w-4 h-1 bg-green-500 opacity-40 transform -translate-x-1/2 rounded-t"},"resize-vertical-hint")),d};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:s(),style:i()}),l(),r.jsx("div",{className:"absolute inset-0 pointer-events-none rounded",style:{boxShadow:"inset 0 0 0 1px rgba(34, 197, 94, 0.3)",borderRadius:"inherit",opacity:t?.2:.6}})]})}function UT({element:e,isSelected:t,isHovered:n,renderElements:s,children:i,onElementUpdate:l,onCapabilityAction:d,onEdit:u,isMobile:f}){const h=m.useRef(null),[g,v]=m.useState(!1),[x,b]=m.useState(null),[k,N]=m.useState(!1),[S,C]=m.useState(null),_=ut(U=>U.updateElement),w=Af(e.type),{margin:R={top:0,right:0,bottom:0,left:0},border:P={top:0,right:0,bottom:0,left:0},borderStyle:I="solid",borderColor:O="#000000",padding:M={top:0,right:0,bottom:0,left:0},backgroundColor:B="transparent",backgroundImage:V="",backgroundSize:oe="cover",backgroundPosition:ue="center",backgroundRepeat:Ne="no-repeat",width:re,height:ke,maxWidth:ae,minWidth:ne,fullWidth:F}=e.props||{},K=(U,ge)=>{ge.preventDefault(),ge.stopPropagation(),v(!0),b(U);const ze=ge.clientX,Ee=ge.clientY,rt=h.current?.offsetWidth||0,qe=h.current?.offsetHeight||0,ot=Ct=>{const Kt=Ct.clientX-ze,nn=Ct.clientY-Ee;let cn=rt,le=qe;if(U==="right"||U==="corner"){const de=w.resizable?.minWidth||100,he=w.resizable?.maxWidth||700;cn=Math.max(de,Math.min(he,rt+Kt))}if(U==="bottom"||U==="corner"){const de=w.resizable?.minHeight||50,he=w.resizable?.maxHeight||1e3;le=Math.max(de,Math.min(he,qe+nn))}_(e.id,{props:{...e.props,...U==="right"||U==="corner"?{width:`${cn}px`}:{},...U==="bottom"||U==="corner"?{height:`${le}px`}:{}}})},Xe=()=>{v(!1),b(null),document.removeEventListener("mousemove",ot),document.removeEventListener("mouseup",Xe)};document.addEventListener("mousemove",ot),document.addEventListener("mouseup",Xe)},Y=()=>{v(!1),b(null)},z=U=>{U.stopPropagation(),C(e.props?.backgroundColor||"#ffffff"),N(!0)},T=U=>{C(U),_(e.id,{props:{...e.props,backgroundColor:U}})},q=()=>{S&&_(e.id,{props:{...e.props,backgroundColor:S}}),N(!1),C(null)},G=()=>{const U=e.props?.backgroundColor||"#ffffff";_(e.id,{props:{...e.props,backgroundColor:U}}),N(!1),C(null)};m.useEffect(()=>{const U=ge=>{k&&h.current&&!h.current.contains(ge.target)&&G()};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[k]);const J=e.type!=="emailWrapper"&&e.type!=="emailContainer"&&(Xs(e.type,"spacing.margin")||Xs(e.type,"spacing.border")||Xs(e.type,"spacing.padding")),xe=()=>{const U={};return w.resizable?.horizontal&&re&&(U.width=re),w.resizable?.vertical&&ke&&(U.height=ke),ae&&(U.maxWidth=ae),ne&&(U.minWidth=ne),U};return r.jsxs("div",{ref:h,className:pe("universal-element-wrapper","relative",!g&&"transition-all duration-200",t&&"selected",n&&!t&&"hovered ring-2 ring-gray-400 ring-opacity-40",g&&"resizing",w.layout?.fullWidth&&"full-width",w.layout?.inline&&"inline-element"),style:{...xe(),...F?{width:"100%"}:{},...w.layout?.fullWidth&&!re&&!F&&{width:"100%"},...w.layout?.inline&&{display:"inline-block"},...w.layout?.centered&&!F&&{margin:"0 auto"},...e.type==="section"&&!re&&!F&&{width:`${w.resizable?.defaultWidth||600}px`},...e.type==="emailWrapper"&&{width:"100%",minHeight:"200px",display:"block",backgroundColor:B!=="transparent"?B:"#f5f5f5"},...e.type==="emailContainer"&&{width:f?"100%":re||"600px",maxWidth:f?"100%":re||"600px",margin:f?"0":"0 auto",display:"block",minHeight:"200px"}},"data-element-type":e.type,"data-element-id":e.id,"data-component":"UniversalElementWrapper","data-is-system":w.layout?.isSystemElement?"true":"false","data-is-selected":t?"true":"false","data-is-hovered":n?"true":"false","data-debug-env":"production",children:[t&&r.jsx(BT,{capabilities:w,isResizing:g}),(n&&!t||t&&w.layout?.backgroundOnly)&&w.layout?.isSystemElement&&u&&r.jsx("div",{className:"absolute top-1 left-1 z-[60] pointer-events-auto",children:r.jsx("button",{onClick:U=>{U.stopPropagation(),e.type==="emailWrapper"&&w.layout?.backgroundOnly?z(U):u(U)},className:"p-1.5 bg-blue-500 text-white rounded shadow-lg hover:shadow-xl transition-all hover:scale-110",title:e.type==="emailWrapper"?"Change Background Color":`Edit ${e.type==="emailContainer"?"Email Container":e.type}`,children:e.type==="emailWrapper"&&w.layout?.backgroundOnly?r.jsx(Fn,{className:"w-3 h-3"}):r.jsx(jr,{className:"w-3 h-3"})})}),t&&w.layout?.isSystemElement&&r.jsx("div",{className:"absolute top-1 left-1 z-10",children:r.jsxs("div",{className:"bg-blue-500 text-white p-1 rounded shadow-sm flex items-center gap-1",children:[r.jsx(jr,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:e.type==="emailWrapper"?"Wrapper":"Container"})]})}),k&&e.type==="emailWrapper"&&r.jsx("div",{className:"absolute top-10 left-1 z-[70] pointer-events-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl border p-3 min-w-[200px]",children:[r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("button",{onClick:G,className:"flex-1 px-3 py-1.5 text-sm text-gray-600 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"Cancel"}),r.jsx("button",{onClick:q,className:"flex-1 px-3 py-1.5 text-sm text-white bg-blue-500 hover:bg-blue-600 rounded transition-colors",children:"Apply"})]}),r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Background Color"}),r.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:["#ffffff","#f8f9fa","#e9ecef","#dee2e6","#f8f5f0","#fff9e6","#e8f4fd","#e6f7ff","#f0f8f0","#fef7f0","#f5f5f5","#000000"].map(U=>r.jsx("button",{onClick:()=>T(U),className:pe("w-6 h-6 rounded border-2 transition-colors",S===U?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-blue-500"),style:{backgroundColor:U},title:U},U))}),r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Custom Color"}),r.jsx("input",{type:"color",value:S||e.props?.backgroundColor||"#ffffff",onChange:U=>T(U.target.value),className:"w-full h-8 rounded border border-gray-300"})]})}),t&&w.resizable&&r.jsx(VT,{capabilities:w.resizable,onResizeStart:K,onResizeEnd:Y,isResizing:g,direction:x}),J?r.jsx(Zy,{margin:Xs(e.type,"spacing.margin")?R:null,border:Xs(e.type,"spacing.border")?{width:P,style:I,color:O}:null,padding:Xs(e.type,"spacing.padding")?M:null,backgroundColor:w.background?.color?B:null,backgroundImage:w.background?.image?{url:V,size:oe,position:ue,repeat:Ne}:null,borderRadius:w.effects?.borderRadius?e.props.borderRadius:null,isResizing:g,children:i}):r.jsx("div",{className:"element-content",children:i})]})}function VT({capabilities:e,onResizeStart:t,onResizeEnd:n,isResizing:s,direction:i}){const l=[];return e.horizontal&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-right","absolute top-0 right-0 w-2 h-full cursor-ew-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",s&&i==="right"&&"opacity-75"),onMouseDown:d=>t("right",d)},"resize-right")),e.vertical&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-bottom","absolute bottom-0 left-0 w-full h-2 cursor-ns-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",s&&i==="bottom"&&"opacity-75"),onMouseDown:d=>t("bottom",d)},"resize-bottom")),e.horizontal&&e.vertical&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-corner","absolute bottom-0 right-0 w-3 h-3 cursor-nw-resize","bg-blue-500 opacity-0 hover:opacity-75 transition-opacity",s&&i==="corner"&&"opacity-100"),onMouseDown:d=>t("corner",d)},"resize-corner")),r.jsx(r.Fragment,{children:l})}function ZT({element:e,renderElements:t}){const{children:n=[]}=e;return r.jsx("div",{className:"email-wrapper-content w-full min-h-[200px] relative","data-component":"EmailWrapperElement","data-element-type":"emailWrapper","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?t(n,e.id):r.jsx("div",{className:"p-6 text-center text-gray-400 border-2 border-dashed border-purple-200 rounded-lg min-h-[150px] flex flex-col items-center justify-center",children:r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Email Client Background"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Click to edit the email client background color"}),r.jsx("div",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded text-xs font-medium",children:"Clickable Email Wrapper"})]})})})}function qT({element:e,renderElements:t}){const{children:n=[]}=e;new Date().toISOString();const{margin:s={top:0,right:0,bottom:0,left:0},padding:i={top:0,right:0,bottom:0,left:0},border:l={top:0,right:0,bottom:0,left:0},borderStyle:d="solid",borderColor:u="#000000",backgroundColor:f,backgroundImage:h,backgroundSize:g="cover",backgroundPosition:v="center",backgroundRepeat:x="no-repeat",borderRadius:b=0,boxShadow:k="none"}=e.props||{},{setNodeRef:N}=lr({id:`email-container-main-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-drop"}}),{setNodeRef:S,isOver:C}=lr({id:`email-container-empty-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-empty-drop"}});return r.jsx("div",{style:{paddingTop:`${s.top}px`,paddingRight:`${s.right}px`,paddingBottom:`${s.bottom}px`,paddingLeft:`${s.left}px`},children:r.jsx(Zy,{margin:null,padding:i,border:{width:l,style:d,color:u},backgroundColor:f,backgroundImage:h?{url:h,size:g,position:v,repeat:x}:null,borderRadius:b,boxShadow:k,children:r.jsx("div",{className:"email-container-content w-full h-full min-h-[200px] relative","data-component":"EmailContainerElement","data-element-type":"emailContainer","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?r.jsx("div",{ref:N,className:"min-h-full",children:t(n,e.id)}):r.jsxs("div",{ref:S,className:pe("h-full min-h-[150px] flex flex-col items-center justify-center text-gray-400 transition-all",C&&"bg-blue-50 border-2 border-blue-300 border-dashed"),children:[r.jsx(Bo,{className:"w-10 h-10 mb-3"}),r.jsx("p",{className:"text-sm",children:"Drop elements here"}),C&&r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Release to add element"})]})})})})}function GT({element:e,renderElements:t}){const[n,s]=$e.useState(!1),{setNodeRef:i,isOver:l}=lr({id:`${e.id}-droppable`,data:{parentId:e.id,position:e.children?.length||0}}),{backgroundColor:d="transparent",backgroundImage:u,backgroundSize:f="cover",backgroundPosition:h="center",backgroundRepeat:g="no-repeat"}=e.props;return r.jsx("div",{ref:i,className:pe("element-content min-h-[50px] transition-all",l&&"bg-primary-50"),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{backgroundColor:d!=="transparent"?d:void 0,backgroundImage:u?`url(${u})`:void 0,backgroundSize:f,backgroundPosition:h,backgroundRepeat:g},children:e.children&&e.children.length>0?t(e.children,e.id):r.jsx("div",{className:pe("py-8 text-center text-sm border-2 border-dashed rounded transition-all",n?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop elements here"})})}function YT({position:e,onFormatText:t,onAlignText:n,onFontSize:s,onTextColor:i,onDelete:l,onMoveUp:d,onMoveDown:u,onStartDrag:f,onSave:h,currentAlign:g="left",currentFontSize:v=16,currentColor:x="#000000",isVisible:b=!1,showElementControls:k=!1}){const N=m.useRef(null);if(m.useEffect(()=>{if(b&&e&&N.current){const w=N.current;w.style.left=`${e.x}px`,w.style.top=`${e.y}px`}},[e,b]),!b)return null;const S=[{icon:Sh,command:"bold",title:"Bold (Ctrl+B)"},{icon:Dh,command:"italic",title:"Italic (Ctrl+I)"},{icon:Zh,command:"underline",title:"Underline (Ctrl+U)"},{icon:Wa,command:"createLink",title:"Add Link (Ctrl+K)"}],C=[{icon:jh,value:"left",title:"Align Left"},{icon:wh,value:"center",title:"Align Center"},{icon:Nh,value:"right",title:"Align Right"}],_=[12,14,16,18,20,24,28,32,36];return r.jsxs("div",{ref:N,className:"fixed z-50 bg-white shadow-lg border border-gray-200 rounded-lg p-2 flex items-center gap-1 pointer-events-auto",style:{position:"fixed",transform:"translateX(-50%)"},children:[k&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),h&&h()},className:"p-2 rounded bg-green-500 hover:bg-green-600 text-white",title:"Save and exit",children:r.jsx(Ns,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation(),f&&f(w)},className:"p-2 rounded hover:bg-gray-100 cursor-move",title:"Drag to move",children:r.jsx(xl,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),d&&d()},className:"p-2 rounded hover:bg-gray-100",title:"Move Up",children:r.jsx(La,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),u&&u()},className:"p-2 rounded hover:bg-gray-100",title:"Move Down",children:r.jsx(gn,{className:"w-4 h-4 text-gray-700"})}),r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"})]}),r.jsx("div",{className:"flex border-r border-gray-200 pr-2 mr-2",children:S.map(({icon:w,command:R,title:P})=>r.jsx("button",{type:"button",onMouseDown:I=>{I.preventDefault(),I.stopPropagation()},onClick:I=>{I.preventDefault(),I.stopPropagation(),t(R)},className:"p-2 rounded hover:bg-gray-100",title:P,children:r.jsx(w,{className:"w-4 h-4 text-gray-700"})},R))}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(Cs,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("select",{value:v,onChange:w=>s(parseInt(w.target.value)),className:"text-sm border border-gray-300 rounded px-2 py-1 min-w-[60px]",children:_.map(w=>r.jsxs("option",{value:w,children:[w,"px"]},w))})]}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(Fn,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("input",{type:"color",value:x,onChange:w=>i(w.target.value),className:"w-8 h-8 border border-gray-300 rounded cursor-pointer",title:"Text Color"})]}),r.jsx("div",{className:"flex",children:C.map(({icon:w,value:R,title:P})=>r.jsx("button",{type:"button",onClick:()=>n(R),className:pe("p-2 rounded transition-colors",g===R?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-700"),title:P,children:r.jsx(w,{className:"w-4 h-4"})},R))}),k&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),l&&l()},className:"p-2 rounded hover:bg-red-100",title:"Delete Element",children:r.jsx(Wn,{className:"w-4 h-4 text-red-600"})})]})]})}function KT({element:e}){const{content:t,fontSize:n=16,fontFamily:s="Arial, sans-serif",color:i="#000000",lineHeight:l=1.6,align:d="left",width:u="100%",margin:f={top:0,right:0,bottom:16,left:0},padding:h={top:0,right:0,bottom:0,left:0}}=e.props,[g,v]=m.useState(!1),[x,b]=m.useState(null),[k,N]=m.useState(!1),S=m.useRef(null),C=ut.getState().updateElement,_=ut.getState().deleteElement,w=ut.getState().selectElement,{setEditingTextElement:R,moveElementUpDown:P,isDragging:I}=Xo();m.useEffect(()=>{!g&&S.current&&S.current.innerHTML!==(t||"")&&(S.current.innerHTML=t||"")},[t,g]);const O=T=>{T.stopPropagation(),g||(w(e.id),v(!0),R(e.id),S.current&&(S.current.innerHTML=t||""),setTimeout(()=>{if(S.current){S.current.focus();const q=window.getSelection(),G=document.createRange();G.selectNodeContents(S.current),G.collapse(!1),q.removeAllRanges(),q.addRange(G),B()}},0))};m.useEffect(()=>{const T=q=>{if(g&&S.current&&!S.current.contains(q.target)){const G=document.querySelector(".fixed.z-50");if(G&&G.contains(q.target))return;V()}};return g&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[g]);const M=()=>{g&&B()};m.useEffect(()=>{!I&&g&&S.current&&B()},[I]),m.useEffect(()=>{if(!g||!k)return;const T=()=>{if(S.current){const J=S.current.getBoundingClientRect();b({x:J.left+J.width/2,y:J.top-50-20})}},q=[];let G=S.current;for(;G;){const J=window.getComputedStyle(G);(G.scrollHeight>G.clientHeight||J.overflowY==="scroll"||J.overflowY==="auto"||J.overflow==="scroll"||J.overflow==="auto")&&(q.push(G),G.addEventListener("scroll",T,{passive:!0})),G=G.parentElement}return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",T,{passive:!0}),T(),()=>{q.forEach(J=>{J.removeEventListener("scroll",T)}),window.removeEventListener("scroll",T),window.removeEventListener("resize",T)}},[g,k]);const B=()=>{if(S.current){const T=S.current.getBoundingClientRect();b({x:T.left+T.width/2,y:T.top-50-20}),N(!0)}},V=()=>{if(S.current){const T=S.current.innerHTML;C(e.id,{props:{...e.props,content:T}})}v(!1),N(!1),b(null),R(null)},oe=T=>{T.key==="Enter"&&(T.ctrlKey||T.metaKey)&&(T.preventDefault(),V()),T.key==="Escape"&&(T.preventDefault(),V())},ue=T=>{if(T==="createLink"){const q=prompt("Enter URL:");q&&document.execCommand("createLink",!1,q)}else document.execCommand(T,!1,null);S.current?.focus()},Ne=T=>{C(e.id,{props:{...e.props,align:T}})},re=T=>{C(e.id,{props:{...e.props,fontSize:T}})},ke=T=>{C(e.id,{props:{...e.props,color:T}})},ae=T=>{const q=T.target.innerHTML;clearTimeout(window.textUpdateTimeout),window.textUpdateTimeout=setTimeout(()=>{C(e.id,{props:{...e.props,content:q}})},300)},ne=()=>{V(),_(e.id)},F=()=>{P(e.id,"up")},K=()=>{P(e.id,"down")},Y=T=>{V();const q=T.target.closest('[data-component="SortableElement"]');if(q){const G=q.querySelector('[data-drag-handle="true"]');if(G){const J=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:T.clientX,clientY:T.clientY});G.dispatchEvent(J)}}},z=()=>{V()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:S,className:`min-h-[20px] element-content ${g?"outline-2 outline-blue-500 outline-dashed":""}`,style:{fontSize:`${n}px`,fontFamily:s,color:i,lineHeight:l,textAlign:d,width:u,marginTop:`${f.top}px`,marginRight:`${f.right}px`,marginBottom:`${f.bottom}px`,marginLeft:`${f.left}px`,paddingTop:`${h.top}px`,paddingRight:`${h.right}px`,paddingBottom:`${h.bottom}px`,paddingLeft:`${h.left}px`,cursor:g?"text":"pointer",minHeight:"1em"},contentEditable:g,suppressContentEditableWarning:!0,onClick:O,onKeyDown:g?oe:void 0,onInput:g?ae:void 0,onMouseUp:g?M:void 0,onKeyUp:g?M:void 0,"data-component":"TextElement","data-element-type":"text","data-element-id":e.id,"data-is-editing":g?"true":"false"}),r.jsx(YT,{position:x,isVisible:k&&g&&!I,onFormatText:ue,onAlignText:Ne,onFontSize:re,onTextColor:ke,onDelete:ne,onMoveUp:F,onMoveDown:K,onStartDrag:Y,onSave:z,currentAlign:d,currentFontSize:n,currentColor:i,showElementControls:!0}),g&&r.jsx("div",{className:"absolute bottom-[-30px] left-0 right-0 text-xs text-gray-500 text-center bg-white px-2 py-1 rounded shadow-sm",children:"Press Ctrl+Enter or click outside to finish  ESC to cancel"})]})}function XT({element:e}){const{text:t="Button",href:n="#",backgroundColor:s="#007cba",color:i="#ffffff",fontSize:l=16,fontWeight:d="normal",borderRadius:u=4,align:f="left",fullWidth:h=!1,target:g="_blank"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:f},children:r.jsx("a",{href:n,target:g,rel:g==="_blank"?"noopener noreferrer":void 0,className:"inline-block no-underline transition-opacity hover:opacity-80",style:{backgroundColor:s,color:i,fontSize:`${l}px`,fontWeight:d,borderRadius:`${u}px`,width:h?"100%":"auto",textAlign:"center",padding:"12px 24px"},children:t})})}function JT({element:e}){const{src:t,alt:n="Image",width:s="auto",height:i="auto",align:l="left",link:d,target:u="_blank"}=e.props,f=r.jsx("img",{src:t||"https://via.placeholder.com/600x300",alt:n,style:{width:s,height:i,maxWidth:"100%",display:"block",border:"0",outline:"none",textDecoration:"none",msInterpolationMode:"bicubic"}});return r.jsx("div",{className:"element-content",style:{textAlign:l},children:d?r.jsx("a",{href:d,target:u,rel:u==="_blank"?"noopener noreferrer":void 0,style:{textDecoration:"none",border:"0",outline:"none"},children:f}):f})}function QT({element:e}){const{height:t=20}=e.props;return r.jsx("div",{className:"element-content bg-transparent",style:{height:`${t}px`,fontSize:"0",lineHeight:"0"},children:""})}function eD({element:e}){const{height:t=1,color:n="#cccccc",style:s="solid",align:i="center",width:l="100%"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:i},children:r.jsx("hr",{style:{height:`${t}px`,width:l,backgroundColor:s==="solid"?n:"transparent",border:"none",borderTop:s==="dashed"?`${t}px dashed ${n}`:s==="dotted"?`${t}px dotted ${n}`:void 0,margin:0,display:"block",fontSize:"0",lineHeight:"0"}})})}function tD({element:e,renderElements:t}){const{columns:n=2,gap:s=16,stackOnMobile:i=!0}=e.props,l=Array(n).fill(null).map((d,u)=>e.children?.[u]||{type:"column",children:[]});return r.jsx("div",{className:"element-content flex flex-wrap",style:{gap:`${s}px`},"data-stack-mobile":i,children:l.map((d,u)=>r.jsx(nD,{columnId:`${e.id}-col-${u}`,parentId:e.id,index:u,width:`${100/n}%`,gap:s,renderElements:t,children:d.children||[]},u))})}function nD({columnId:e,parentId:t,index:n,width:s,gap:i,renderElements:l,children:d}){const[u,f]=$e.useState(!1),{setNodeRef:h,isOver:g}=lr({id:e,data:{parentId:t,position:n,isColumn:!0}});return r.jsx("div",{ref:h,className:pe("min-h-[100px] transition-all",g&&"bg-primary-50"),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:{flex:`0 0 calc(${s} - ${i}px)`},children:d.length>0?l(d,e):r.jsx("div",{className:pe("h-full flex items-center justify-center text-sm border-2 border-dashed rounded p-4 transition-all",u?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop here"})})}const rD={facebook:{icon:"",defaultUrl:"https://facebook.com",label:"Facebook"},twitter:{icon:"",defaultUrl:"https://twitter.com",label:"Twitter"},instagram:{icon:"",defaultUrl:"https://instagram.com",label:"Instagram"},linkedin:{icon:"",defaultUrl:"https://linkedin.com",label:"LinkedIn"},youtube:{icon:"",defaultUrl:"https://youtube.com",label:"YouTube"},pinterest:{icon:"",defaultUrl:"https://pinterest.com",label:"Pinterest"}};function oD({element:e}){const{icons:t=["facebook","twitter","instagram"],iconSize:n=32,iconColor:s="#333333",spacing:i=8,align:l="left"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:l},children:r.jsx("div",{className:"inline-flex items-center",style:{gap:`${i}px`},children:t.map(d=>{const u=rD[d];return u?r.jsx("a",{href:u.defaultUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center transition-opacity hover:opacity-70",style:{width:`${n}px`,height:`${n}px`,fontSize:`${n*.6}px`,color:s},title:u.label,children:r.jsx("span",{children:u.icon})},d):null})})})}function sD({element:e}){const{field:t="email",fallback:n="[Form Field]",format:s="text"}=e.props,i=t?`{${t}}`:n;return r.jsx("div",{className:"element-content inline-block px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:i})}function aD({element:e}){const{content:t=""}=e.props,[n,s]=m.useState(!1),[i,l]=m.useState(!0),[d,u]=m.useState(t),f=m.useRef(null),h=ut.getState().updateElement;m.useEffect(()=>{n||u(t)},[t,n]),m.useEffect(()=>{n&&f.current&&(f.current.style.height="auto",f.current.style.height=Math.max(100,f.current.scrollHeight)+"px")},[d,n]);const g=b=>{b.stopPropagation(),n||(s(!0),setTimeout(()=>f.current?.focus(),0))},v=()=>{h(e.id,{props:{...e.props,content:d}}),s(!1)},x=b=>{b.key==="Escape"&&(b.preventDefault(),u(t),s(!1)),b.key==="Enter"&&(b.ctrlKey||b.metaKey)&&(b.preventDefault(),v())};return n?r.jsxs("div",{className:"border-2 border-blue-500 rounded overflow-hidden","data-component":"HtmlElement","data-element-id":e.id,"data-is-editing":"true",children:[r.jsxs("div",{className:"bg-gray-800 px-3 py-2 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-300 font-mono",children:"HTML Block"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>l(!i),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors",i?"bg-gray-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[i?r.jsx(iu,{className:"w-3 h-3"}):r.jsx(ws,{className:"w-3 h-3"}),i?"Hide Preview":"Show Preview"]}),r.jsxs("button",{onClick:v,className:"flex items-center gap-1 bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition-colors",children:[r.jsx(Ia,{className:"w-3 h-3"}),"Save"]})]})]}),r.jsxs("div",{className:pe("flex",i?"flex-row":"flex-col"),children:[r.jsx("div",{className:pe("bg-gray-900",i?"w-1/2":"w-full"),children:r.jsx("textarea",{ref:f,value:d,onChange:b=>u(b.target.value),onKeyDown:x,className:"w-full min-h-[100px] bg-gray-900 text-gray-100 font-mono text-sm p-3 border-0 outline-none resize-none",placeholder:"Enter your HTML code here...",spellCheck:!1})}),i&&r.jsxs("div",{className:"w-1/2 bg-white border-l border-gray-700",children:[r.jsx("div",{className:"bg-gray-100 px-3 py-1 text-xs text-gray-500 border-b",children:"Preview"}),r.jsx("div",{className:"p-3 prose max-w-none min-h-[100px]",children:d?r.jsx("div",{dangerouslySetInnerHTML:{__html:d}}):r.jsx("span",{className:"text-gray-400",children:"Preview will appear here..."})})]})]}),r.jsx("div",{className:"bg-gray-800 px-3 py-1 text-xs text-gray-500 text-center",children:"Ctrl+Enter to save | ESC to cancel"})]}):r.jsxs("div",{onClick:g,className:"relative cursor-pointer group min-h-[40px]","data-component":"HtmlElement","data-element-id":e.id,children:[r.jsxs("div",{className:"absolute top-1 right-1 bg-gray-700 text-white text-xs px-1.5 py-0.5 rounded opacity-60 group-hover:opacity-100 flex items-center gap-1 z-10",children:[r.jsx(Zt,{className:"w-3 h-3"}),r.jsx("span",{children:"HTML"})]}),t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsx("div",{className:"text-gray-400 text-center py-4 border-2 border-dashed border-gray-300 rounded",children:"Click to add HTML code"}),r.jsx("div",{className:"absolute inset-0 bg-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:"Click to edit HTML"})})]})}const iD={emailWrapper:ZT,emailContainer:qT,section:GT,text:KT,button:XT,image:JT,spacer:QT,divider:eD,columns:tD,social:oD,formData:sD,html:aD};function lD({element:e,renderElements:t,isSelected:n,isHovered:s=!1,onElementUpdate:i,onCapabilityAction:l,onEdit:d,isMobile:u}){const f=iD[e.type];return f?r.jsx(UT,{element:e,isSelected:n,isHovered:s,renderElements:t,onElementUpdate:i,onCapabilityAction:l,onEdit:d,isMobile:u,children:r.jsx(f,{element:e,renderElements:t})}):r.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm",children:["Unknown element type: ",e.type]})}function qy({element:e,index:t,parentId:n,isSelected:s,onSelect:i,renderElements:l,isMobile:d}){const[u,f]=m.useState(!1),{deleteElement:h,editingTextElementId:g}=Xo(),x=Af(e.type).layout?.isSystemElement,{attributes:b,listeners:k,setNodeRef:N,transform:S,transition:C,isDragging:_}=uf({id:e.id,disabled:x,data:{type:"canvas-element",elementId:e.id,parentId:n,position:t}}),w={transform:Sr.Transform.toString(S),transition:C,opacity:_?.5:void 0},R=B=>{B.stopPropagation(),confirm("Are you sure you want to delete this element?")&&h(e.id)},P=B=>{B.stopPropagation(),i(),e.type==="text"&&setTimeout(()=>{const V=B.target.closest('[data-component="SortableElement"]')?.querySelector('[data-component="TextElement"]');V&&V.click()},50)},I=B=>{if(e.type==="emailWrapper"){B.stopPropagation();return}if(e.type==="emailContainer"){const V=B.currentTarget.getBoundingClientRect(),oe=B.clientX,ue=parseInt(e.props?.width||"600px"),Ne=V.left+(V.width-ue)/2,re=Ne+ue;oe>=Ne&&oe<=re&&(B.stopPropagation(),i());return}B.stopPropagation(),i()},O=(B,V,oe)=>{console.log("Element update:",B,V,oe)},M=(B,V,oe)=>{console.log("Capability action:",B,V,oe)};return r.jsxs("div",{ref:N,style:w,className:pe("relative group transition-all duration-200",_&&"z-50",x&&"cursor-default"),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),"data-component":"SortableElement","data-element-type":e.type,"data-element-id":e.id,"data-is-system":x?"true":"false","data-is-sortable":x?"false":"true","data-is-selected":s?"true":"false","data-is-hovered":u?"true":"false","data-is-dragging":_?"true":"false",children:[u&&!_&&!x&&g!==e.id&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:r.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[r.jsx("button",{onClick:P,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Edit element",children:r.jsx(jr,{className:"w-5 h-5 text-gray-700"})}),r.jsx("button",{onClick:R,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Delete element",children:r.jsx(Wn,{className:"w-5 h-5 text-red-600"})}),r.jsx("button",{...k,...b,"data-drag-handle":"true",className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110 cursor-move",title:"Drag to reposition",children:r.jsx(xl,{className:"w-5 h-5 text-gray-700"})})]})}),r.jsx("div",{onClick:I,className:"cursor-pointer transition-all",children:r.jsx(lD,{element:e,renderElements:l,isSelected:s,isHovered:u&&!_,onElementUpdate:O,isMobile:d,onCapabilityAction:M,onEdit:P})})]})}function cD({isMobile:e=!1}){const{elements:t,isDragging:n,selectElement:s,selectedElementId:i,setElements:l}=Xo();$e.useEffect(()=>{(!t||t.length===0)&&l([])},[t,l]);const d=(h,g=null)=>{if(!h||h.length===0)return g?null:r.jsx(u,{parentId:null,position:0,children:r.jsxs("div",{className:"py-12 text-center text-gray-400",children:[r.jsx("svg",{className:"w-10 h-10 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("p",{className:"text-sm",children:"Drag elements here to start building"})]})});const v=h.filter(k=>k.type!=="emailWrapper"&&k.type!=="emailContainer").map(k=>k.id),x=h.filter(k=>k.type==="emailWrapper"||k.type==="emailContainer"),b=h.filter(k=>k.type!=="emailWrapper"&&k.type!=="emailContainer");return r.jsxs(r.Fragment,{children:[x.map(k=>r.jsx("div",{className:"system-element-container",children:r.jsx(qy,{element:k,index:0,parentId:g,isSelected:i===k.id,onSelect:()=>s(k.id),renderElements:d,isMobile:e})},k.id)),r.jsxs(df,{items:v,strategy:cf,children:[r.jsx(u,{parentId:g,position:0,elementCount:b.length}),b.map((k,N)=>r.jsxs($e.Fragment,{children:[r.jsx(qy,{element:k,index:N,parentId:g,isSelected:i===k.id,onSelect:()=>s(k.id),renderElements:d,isMobile:e}),r.jsx(u,{parentId:g,position:N+1,elementCount:b.length})]},k.id))]})]})};function u({parentId:h,position:g,children:v,elementCount:x=0}){const{setNodeRef:b,isOver:k}=lr({id:`dropzone-${h||"root"}-${g}`,data:{parentId:h,position:g,type:"dropzone"}}),N=!h||g===0&&h&&h.includes("email-wrapper");return r.jsxs("div",{ref:b,className:pe(N?"min-h-0":"min-h-[4px]","transition-all relative",!N&&n&&"min-h-[8px]",!N&&k&&"min-h-[30px]"),"data-component":"DropZone","data-parent-id":h||"root","data-position":g,"data-is-over":k?"true":"false","data-should-hide":N?"true":"false",children:[!N&&k&&r.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 h-1 bg-blue-500 rounded"}),v]})}const f=h=>{h.target===h.currentTarget&&s(null)};return r.jsx("div",{className:pe("min-h-[100px] transition-colors",n&&"bg-gray-50"),onClick:f,children:d(t)})}const Ff=b0(w0((e,t)=>({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null,initializeStore:n=>{e({emails:n.emails||[],activeEmailId:n.emails?.[0]?.id||null,translations:n.translations||{}})},addEmail:()=>{const n={id:`email_${Date.now()}`,enabled:!0,description:"New Email",to:"{email}",from_email:"",from_name:"{option_blogname}",subject:"New submission",body:"<p>The following information has been sent:</p>{loop_fields}",attachments:[],reply_to:{enabled:!1,email:"",name:""},cc:"",bcc:"",template:{slug:"none"},conditions:{enabled:!1,f1:"",logic:"==",f2:""},schedule:{enabled:!1,schedules:[]}};e(s=>({emails:[...s.emails,n],activeEmailId:n.id,isDirty:!0}))},removeEmail:n=>{e(s=>{const i=s.emails.filter(d=>d.id!==n),l=s.activeEmailId===n?i[0]?.id||null:s.activeEmailId;return{emails:i,activeEmailId:l,isDirty:!0}})},updateEmail:(n,s)=>{e(i=>({emails:i.emails.map(l=>l.id===n?{...l,...s}:l),isDirty:!0}))},updateEmailField:(n,s,i)=>{e(l=>({emails:l.emails.map(u=>{if(u.id!==n)return u;const f=s.split("."),h={...u};let g=h;for(let v=0;v<f.length-1;v++){const x=f[v];g[x]={...g[x]},g=g[x]}return g[f[f.length-1]]=i,h}),isDirty:!0}))},setActiveEmailId:n=>{e({activeEmailId:n})},getActiveEmail:()=>{const n=t();return n.emails.find(s=>s.id===n.activeEmailId)},setActiveLanguage:n=>{e({activeLanguage:n})},updateTranslation:(n,s,i,l)=>{e(d=>{const u={...d.translations};return u[i]||(u[i]={}),u[i][n]||(u[i][n]={}),u[i][n][s]=l,{translations:u,isDirty:!0}})},reorderEmails:(n,s)=>{e(i=>{const l=[...i.emails],[d]=l.splice(n,1);return l.splice(s,0,d),{emails:l,isDirty:!0}})},save:async(n,s,i)=>{const l=t();e({isSaving:!0,error:null});try{const d=new FormData;d.append("action","super_save_form_emails"),d.append("form_id",n),d.append("nonce",i),d.append("emails",JSON.stringify(l.emails)),d.append("translations",JSON.stringify(l.translations));const u=await fetch(s,{method:"POST",body:d}),f=await u.json();if(!u.ok||!f.success)throw new Error(f.message||"Failed to save");return e({isSaving:!1,isDirty:!1}),{success:!0}}catch(d){return e({isSaving:!1,error:d.message}),{success:!1,error:d.message}}},reset:()=>{e({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null})}})));function Gy(){const{activeEmailId:e,emails:t}=Ff(),n=t.find(x=>x.id===e),[s,i]=m.useState("dummy"),[l,d]=m.useState(""),[u,f]=m.useState(()=>window.superEmailsData?.currentUserEmail||""),[h,g]=m.useState({type:null,message:""}),v=m.useCallback(async()=>{if(!u){g({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){g({type:"error",message:"Please enter a valid email address"});return}if(!n){g({type:"error",message:"No email selected"});return}const{formId:b,ajaxUrl:k,nonce:N}=window.superEmailsData||{};if(!k||!N){g({type:"error",message:"WordPress context not available"});return}g({type:"loading",message:"Sending test email..."});try{const S={from:n.from_email||"",from_name:n.from_name||"",reply:n.reply_to?.email||"",reply_name:n.reply_to?.name||"",cc:n.cc||"",bcc:n.bcc||"",subject:n.subject||"Test Email",body:n.body||"",attachments:n.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},C=new FormData;C.append("action","super_send_test_email"),C.append("nonce",N),C.append("form_id",b||0),C.append("data_type",s),C.append("entry_id",s==="entry"?l:""),C.append("test_recipient",u),Object.entries(S).forEach(([R,P])=>{Array.isArray(P)?P.forEach((I,O)=>{C.append(`email_settings[${R}][${O}]`,I)}):C.append(`email_settings[${R}]`,P)});const w=await(await fetch(k,{method:"POST",body:C,credentials:"same-origin"})).json();w.success?(g({type:"success",message:w.data?.message||"Test email sent!"}),setTimeout(()=>g({type:null,message:""}),5e3)):g({type:"error",message:w.data?.message||"Failed to send test email"})}catch(S){console.error("Test email error:",S),g({type:"error",message:"Network error - please try again"})}},[n,s,l,u]);return n?r.jsx("div",{className:"bg-gray-50 border-t border-b border-gray-200 px-4 py-2",children:r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Test Data:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"dataType",value:"dummy",checked:s==="dummy",onChange:x=>i(x.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Dummy data"})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"dataType",value:"entry",checked:s==="entry",onChange:x=>i(x.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Entry data"})]})]})]}),s==="entry"&&r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("input",{type:"text",value:l,onChange:x=>d(x.target.value),placeholder:"Entry ID (empty = latest)",className:"w-40 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"email",value:u,onChange:x=>f(x.target.value),placeholder:"recipient@example.com",className:"w-52 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),r.jsxs("button",{type:"button",onClick:v,disabled:h.type==="loading",className:pe("inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded transition-colors",h.type==="loading"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-500 text-white hover:bg-primary-600"),children:[h.type==="loading"?r.jsx(yl,{className:"w-4 h-4 animate-spin"}):r.jsx(Ss,{className:"w-4 h-4"}),r.jsx("span",{children:"Send Test"})]})]}),h.type&&h.type!=="loading"&&r.jsxs("div",{className:pe("flex items-center gap-1.5 text-sm",h.type==="success"&&"text-green-600",h.type==="error"&&"text-red-600"),children:[h.type==="success"&&r.jsx(il,{className:"w-4 h-4"}),h.type==="error"&&r.jsx(Wo,{className:"w-4 h-4"}),r.jsx("span",{children:h.message})]})]})}):null}const Yy=[{id:"desktop",name:"Desktop",icon:Ha,component:If},{id:"mobile",name:"Mobile",icon:Ba,component:If}];function dD({value:e,onChange:t}){const[n,s]=m.useState(e||"");m.useEffect(()=>{s(e||"")},[e]);const i=l=>{const d=l.target.value;s(d),clearTimeout(window.htmlEditorTimeout),window.htmlEditorTimeout=setTimeout(()=>{t(d)},300)};return r.jsxs("div",{className:"min-h-[300px] bg-gray-900 rounded overflow-hidden",children:[r.jsx("div",{className:"bg-gray-800 px-3 py-2 text-xs text-gray-400 border-b border-gray-700 font-mono",children:"HTML Source"}),r.jsx("textarea",{value:n,onChange:i,className:"w-full min-h-[300px] bg-gray-900 text-gray-100 font-mono text-sm p-4 border-0 outline-none resize-y",placeholder:"Enter your HTML email content here...",spellCheck:!1})]})}function uD(){const[e,t]=m.useState("desktop"),[n,s]=m.useState(null),{activeEmailId:i,emails:l,updateEmailField:d,activeLanguage:u,translations:f,setActiveLanguage:h}=Ff(),{elements:g,setElements:v,isDragging:x,draggedElement:b,startDrag:k,endDrag:N,addElement:S,moveElement:C,generateHtml:_,elementTypes:w}=Xo(),R=l.find(re=>re.id===i),P=Yy.find(re=>re.id===e)?.component||If,I=R?.body_type==="html";m.useEffect(()=>{R&&!I&&(R.template&&typeof R.template=="object"&&R.template.elements?v(R.template.elements):v([]))},[R,v,I]),m.useEffect(()=>{if(R&&!I&&g.length>0){const re=_(),ke=setTimeout(()=>{d(i,"template",{elements:g,html:re}),d(i,"body",re)},500);return()=>clearTimeout(ke)}},[g,R,i,_,d,I]);const O=m.useCallback(re=>{re==="html"&&!I?s({title:"Switch to HTML Mode",message:"Your visual elements will be converted to raw HTML code. You can edit the HTML directly.",confirmText:"Switch to HTML",onConfirm:()=>{const ke=_();d(i,"body",ke),d(i,"body_type","html"),s(null)},onCancel:()=>s(null)}):re==="visual"&&I&&s({title:"Switch to Visual Mode",message:"Your HTML content will be placed in an editable HTML block within the visual builder.",confirmText:"Switch to Visual",onConfirm:()=>{const ae=[{id:An(),type:"html",props:{content:R.body||""},children:[]}];d(i,"body_type","visual"),d(i,"template",{elements:ae,html:R.body||""}),v(ae),s(null)},onCancel:()=>s(null)})},[I,i,R,_,d,v]),M=re=>{const{active:ke,over:ae}=re;if(!ae){N();return}const ne=ke.data.current,F=ae.data.current;if(ne.type==="new-element"){const K=F?.position!==void 0?F.position:null,Y=F?.parentId||null;S(ne.elementType,Y,K)}else if(ne.type==="canvas-element"&&ke.id!==ae.id){const K=F?.position!==void 0?F.position:null,Y=F?.parentId||null;C(ke.id,Y,K)}N()},B=re=>{const{active:ke}=re,ae=ke.data.current;if(ae.type==="new-element"){const ne=Xo.getState().elementTypes[ae.elementType];k(ne)}};if(!R)return r.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Select an email to preview"})]})});const V={...R,body:I?R.body:g.length>0?_():R.body},oe=r.jsx("div",{className:"bg-white border-b px-4 py-2 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vn,{value:R.description,onChange:re=>d(i,"description",re),placeholder:"Untitled Email",className:"text-sm font-medium text-gray-700",showEditIcon:!0}),r.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:I?"HTML":"Visual"})]}),f&&Object.keys(f).length>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lu,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:u,onChange:re=>h(re.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:[r.jsx("option",{value:"default",children:"Default"}),Object.entries(f).map(([re,ke])=>r.jsx("option",{value:re,children:ke.name||re},re))]})]})]}),r.jsx("div",{className:"flex gap-1",children:Yy.map(re=>{const ke=re.icon;return r.jsxs("button",{onClick:()=>t(re.id),className:pe("px-3 py-1 rounded-md text-sm transition-colors flex items-center gap-1",e===re.id?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:re.name,children:[r.jsx(ke,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:re.name})]},re.id)})})]})}),ue=n&&r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center overflow-x-hidden overflow-y-auto bg-black/50",children:r.jsxs("div",{className:"bg-white border border-gray-200 shadow-lg rounded-xl max-w-lg w-full mx-4",children:[r.jsx("div",{className:"flex justify-between items-center py-3 px-4 border-b border-gray-200",children:r.jsx("h3",{className:"font-bold text-gray-800",children:n.title})}),r.jsx("div",{className:"p-4",children:r.jsx("p",{className:"text-gray-600",children:n.message})}),r.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:n.onCancel,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"button",onClick:n.onConfirm,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700",children:n.confirmText})]})]})}),Ne=()=>I?r.jsx(dD,{value:R.body,onChange:re=>d(i,"body",re)}):r.jsx(cD,{isMobile:e==="mobile"});return I?r.jsxs("div",{className:"h-full flex flex-col bg-gray-100",children:[oe,ue,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(P,{email:V,isMobile:e==="mobile",isBuilder:!0,renderBody:Ne,updateEmailField:d,activeEmailId:i,isHtmlMode:I,onModeChange:O})}),r.jsx(Gy,{})]})]}):r.jsxs(af,{collisionDetection:Gu,onDragEnd:M,onDragStart:B,children:[r.jsxs("div",{className:"h-full flex flex-col bg-gray-100",children:[oe,ue,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(P,{email:V,isMobile:e==="mobile",isBuilder:!0,renderBody:Ne,updateEmailField:d,activeEmailId:i,isHtmlMode:I,onModeChange:O})}),r.jsx(Gy,{}),r.jsx("div",{className:"bg-white border-t",children:r.jsx(WT,{})})]})]}),r.jsx(sx,{children:b&&r.jsx("div",{className:"bg-white rounded shadow-lg p-3 opacity-90",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:b.icon}),r.jsx("span",{className:"text-sm font-medium",children:b.name})]})})})]})}function fD({isOpen:e,onClose:t,node:n,onUpdateNode:s}){const[i,l]=m.useState({to:n.config.to||"",subject:n.config.subject||"",from:n.config.from||"{admin_email}",replyTo:n.config.replyTo||"",template:n.config.template||null}),[d,u]=m.useState(!0),f=n.config._enabled!==!1;m.useEffect(()=>{l({to:n.config.to||"",subject:n.config.subject||"",from:n.config.from||"{admin_email}",replyTo:n.config.replyTo||"",template:n.config.template||null})},[n.id]);const h=m.useCallback(b=>{l(k=>({...k,template:b}))},[]),g=(b,k)=>{l(N=>({...N,[b]:k}))},v=()=>{s(n.id,{config:{...n.config,_enabled:!f}})},x=()=>{s(n.id,{config:{...n.config,...i}}),t()};return r.jsx(Cf,{open:e,onOpenChange:b=>!b&&t(),children:r.jsxs(xc,{className:"max-w-[95vw] w-[95vw] h-[90vh] max-h-[90vh] p-0 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-white",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:r.jsx(Hr,{className:"w-5 h-5 text-blue-600"})}),r.jsx("div",{children:r.jsxs(yc,{className:"p-0 space-y-0",children:[r.jsx(vc,{className:"text-lg font-semibold",children:"Send Email"}),r.jsx(bc,{className:"text-sm text-gray-500",children:"Configure the email that will be sent when this action triggers"})]})})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ih,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:f?"Enabled":"Disabled"}),r.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${f?"bg-green-500":"bg-gray-300"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm ${f?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Ns,{className:"w-4 h-4"}),"Save & Close"]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(qt,{className:"w-5 h-5 text-gray-500"})})]})]}),r.jsxs("div",{className:"border-b bg-gray-50",children:[r.jsxs("button",{onClick:()=>u(!d),className:"w-full flex items-center justify-between px-6 py-3 hover:bg-gray-100 transition-colors",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email Settings"}),d?r.jsx(La,{className:"w-4 h-4 text-gray-500"}):r.jsx(gn,{className:"w-4 h-4 text-gray-500"})]}),d&&r.jsxs("div",{className:"px-6 pb-4 grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To"}),r.jsx("input",{type:"text",value:i.to,onChange:b=>g("to",b.target.value),placeholder:"{email} or recipient@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Use ","{field_name}"," to insert form field values"]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),r.jsx("input",{type:"text",value:i.subject,onChange:b=>g("subject",b.target.value),placeholder:"Email subject line",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From"}),r.jsx("input",{type:"text",value:i.from,onChange:b=>g("from",b.target.value),placeholder:"{admin_email}",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reply-To"}),r.jsx("input",{type:"text",value:i.replyTo,onChange:b=>g("replyTo",b.target.value),placeholder:"Optional reply-to address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsx(pD,{node:n,emailConfig:i,onChange:h})]})})}function pD({node:e,emailConfig:t,onChange:n}){const{initializeStore:s,activeEmailId:i,emails:l,reset:d}=Ff();return m.useEffect(()=>{const u={id:`temp-${e.id}`,description:"Email Template",subject:t.subject,to:t.to,from:t.from,replyTo:t.replyTo,body:t.template?.html||"",body_type:"visual",template:t.template||{elements:[],html:""}};return s({emails:[u]}),()=>{d()}},[e.id,t,s,d]),m.useEffect(()=>{if(i&&l.length>0){const u=l.find(f=>f.id===i);u?.template&&n({elements:u.template.elements||[],html:u.template.html||""})}},[l,i,n]),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx(uD,{})})}function mD({formId:e,automationId:t}){const n=wT(),[s,i]=m.useState("Untitled Workflow"),[l,d]=m.useState(null),[u,f]=m.useState(!1),h=m.useRef(null),[g,v]=m.useState(!1),[x,b]=m.useState(null),[k,N]=m.useState(!1),[S,C]=m.useState(null);m.useEffect(()=>{t&&_(t)},[t]);const _=async K=>{try{const Y=await fetch(`${window.sfuiData.restUrl}/automations/${K}`,{headers:{"X-WP-Nonce":window.sfuiData.restNonce}});if(!Y.ok)throw new Error("Failed to load workflow");const z=await Y.json();if(i(z.name||"Untitled Workflow"),z.workflow_graph){const T=JSON.parse(z.workflow_graph);n.loadWorkflow(T)}}catch(Y){console.error("Failed to load workflow:",Y),alert("Failed to load workflow. Please try again.")}},w=async()=>{if(!s.trim()){alert("Please enter a workflow name");return}f(!0);try{const K=n.exportWorkflow();if(!n.nodes.find(J=>J.type.startsWith("form.")||J.type.startsWith("entry.")||J.type.startsWith("payment.")||J.type.startsWith("session."))){alert("Please add at least one trigger node (event) to your workflow"),f(!1);return}const z={name:s,type:"visual",workflow_graph:JSON.stringify(K),enabled:!0},T=t?`${window.sfuiData.restUrl}/automations/${t}`:`${window.sfuiData.restUrl}/automations`,q=await fetch(T,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.sfuiData.restNonce},body:JSON.stringify(z)});if(!q.ok){const J=await q.json();throw new Error(J.message||"Failed to save workflow")}const G=await q.json();alert("Workflow saved successfully!"),!t&&G.id&&(window.location.href=`${window.location.pathname}?page=super_create_form&id=${e}&tab=automations&automation_id=${G.id}`)}catch(K){console.error("Failed to save workflow:",K),alert("Failed to save workflow. Please try again.")}finally{f(!1)}},R=m.useCallback(K=>{K.preventDefault();const Y=K.dataTransfer.getData("application/super-forms-node");if(!Y||!h.current)return;const z=h.current.getBoundingClientRect(),T=K.clientX-z.left,q=K.clientY-z.top,G=n.screenToCanvas(T,q);n.addNode(Y,G)},[n]),P=m.useCallback(K=>{K.preventDefault(),K.dataTransfer.dropEffect="copy"},[]),I=m.useCallback((K,Y)=>{n.selectNode(K,Y),d(K)},[n]),O=m.useCallback((K,Y)=>{n.endConnection(K,Y)},[n]),M=m.useCallback(K=>{b(K),v(!0)},[]),B=m.useCallback((K,Y)=>{const z=n.addNode(K,Y);if(z&&n.connectionStart){const q=Object.values(n.nodes).find(G=>G.type===K)?.config?.inputs?.[0]||"data";n.endConnection(z,q)}v(!1),b(null)},[n]),V=m.useCallback((K,Y,z)=>{},[]),oe=m.useCallback((K,Y)=>{n.updateNode(K,{position:Y})},[n]),ue=m.useCallback(()=>{},[]),Ne=l&&n.nodes.find(K=>K.id===l)||null,re=m.useCallback(()=>{n.nodes.length!==0&&confirm("Are you sure you want to clear this workflow? This action cannot be undone.")&&(n.clearWorkflow(),d(null))},[n]),ke=m.useCallback(()=>{alert("Test functionality coming soon! This will fire a test event with sample data.")},[]),ae=m.useCallback(()=>{alert("Preview functionality coming soon! This will show the workflow execution flow.")},[]),ne=m.useCallback(K=>{C(K),N(!0)},[]),F=m.useCallback(()=>{N(!1),C(null)},[]);return r.jsxs("div",{className:"visual-builder flex flex-col h-full bg-gray-100",children:[r.jsx(DT,{workflowName:s,onWorkflowNameChange:i,onSave:w,onUndo:n.undo,onRedo:n.redo,onClear:re,onTest:ke,onPreview:ae,canUndo:n.canUndo,canRedo:n.canRedo,isSaving:u}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsx("div",{className:"w-80 flex-shrink-0",children:r.jsx(RT,{onAddNode:(K,Y)=>n.addNode(K,Y)})}),r.jsx("div",{ref:h,className:"flex-1 relative",onDrop:R,onDragOver:P,children:r.jsx(ET,{nodes:n.nodes,connections:n.connections,groups:n.groups,viewport:n.viewport,selectedNodes:n.selectedNodes,selectedConnections:n.selectedConnections,onNodeClick:I,onNodeDragStart:V,onNodeDrag:oe,onNodeDragEnd:ue,onCanvasPan:n.panViewport,onCanvasClick:()=>{n.clearSelection(),d(null)},onZoom:n.zoomViewport,dragState:n.dragState,setDragState:n.setDragState,isConnecting:n.isConnecting,connectionStart:n.connectionStart,onConnectionStart:n.startConnection,onConnectionEnd:O,onConnectionDropOnCanvas:M,onConnectionClick:K=>{},onDeleteConnection:n.deleteConnection,onCancelConnection:n.cancelConnection,onSelectNodesInRect:n.selectNodes,onUpdateGroup:n.updateGroup,onRemoveGroup:n.removeGroup,onMoveGroup:n.moveGroup})}),Ne&&r.jsx("div",{className:"w-96 flex-shrink-0",children:r.jsx(TT,{selectedNode:Ne,onUpdateNode:n.updateNode,onClose:()=>{n.clearSelection(),d(null)},onOpenEmailBuilder:ne})})]}),S&&r.jsx(fD,{isOpen:k,onClose:F,node:S,onUpdateNode:n.updateNode}),r.jsx($T,{isOpen:g,onClose:()=>{v(!1),b(null),n.cancelConnection()},connectionStart:n.connectionStart,position:x,onCreateAndConnect:B})]})}function Ky({formId:e}){const t=new URLSearchParams(window.location.search),n=t.get("automation_id")?parseInt(t.get("automation_id")):null;return r.jsx("div",{className:"automations-tab h-full",children:r.jsx(mD,{formId:e,automationId:n})})}const hD=Object.freeze(Object.defineProperty({__proto__:null,AutomationsTab:Ky},Symbol.toStringTag,{value:"Module"}));function gD({formId:e,forms:t,restUrl:n,restNonce:s}){return e?r.jsx(Ky,{formId:e}):r.jsx("div",{className:"flex items-center justify-center h-full p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Form Selected"}),r.jsx("p",{className:"text-gray-600",children:"Please select a form to manage automations and workflows."})]})})}const xD=Object.freeze(Object.defineProperty({__proto__:null,default:gD},Symbol.toStringTag,{value:"Module"}));function yD(){return r.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold",children:"Email Notifications"}),r.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:[r.jsx(js,{size:14}),"Add Email"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure email notifications sent when this form is submitted."}),r.jsxs("div",{className:"border border-dashed border-border rounded-lg p-8 text-center",children:[r.jsx(Hr,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"No email notifications configured yet."}),r.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:'Click "Add Email" to create your first notification.'})]})]})}const vD=Object.freeze(Object.defineProperty({__proto__:null,default:yD},Symbol.toStringTag,{value:"Module"})),bD=Au("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xy({className:e,variant:t,...n}){return r.jsx("div",{className:De(bD({variant:t}),e),...n})}const _c=({theme:e,isActive:t,onApply:n,onDelete:s})=>{const i=!e.is_system&&e.user_id!==null,l=e.is_stub;return r.jsxs("div",{className:De("relative group rounded-lg border border-border p-4 transition-all","hover:border-primary/50 hover:shadow-sm",t&&"border-primary ring-2 ring-primary/20"),children:[r.jsx("div",{className:"flex gap-1 mb-3",children:e.preview_colors.map((d,u)=>r.jsx("div",{className:"h-8 flex-1 rounded-sm border border-border/50",style:{backgroundColor:d}},u))}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:e.name}),l&&r.jsx(Xy,{variant:"secondary",className:"text-xs",children:"Coming Soon"}),t&&r.jsx(Xy,{variant:"default",className:"text-xs",children:"Active"})]}),e.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.description})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tn,{size:"sm",variant:t?"secondary":"default",className:"flex-1",disabled:l,onClick:()=>n(e.id),children:t?r.jsxs(r.Fragment,{children:[r.jsx(Ia,{className:"h-4 w-4 mr-1"}),"Applied"]}):l?"Coming Soon":"Apply"}),i&&r.jsx(tn,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>s?.(e.id),children:r.jsx(Wn,{className:"h-4 w-4"})})]})]})},Jy=({themes:e,activeThemeId:t,onApply:n,onDelete:s})=>{const i=e.filter(u=>u.is_system&&!u.is_stub),l=e.filter(u=>u.is_stub),d=e.filter(u=>!u.is_system);return r.jsxs("div",{className:"space-y-8",children:[i.length>0&&r.jsxs("section",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"System Themes"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.map(u=>r.jsx(_c,{theme:u,isActive:u.id===t,onApply:n,onDelete:s},u.id))})]}),l.length>0&&r.jsxs("section",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Coming Soon"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:l.map(u=>r.jsx(_c,{theme:u,onApply:n,onDelete:s},u.id))})]}),d.length>0&&r.jsxs("section",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"My Custom Themes"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:d.map(u=>r.jsx(_c,{theme:u,isActive:u.id===t,onApply:n,onDelete:s},u.id))})]}),e.length===0&&r.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No themes available"})]})},Qy=m.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Qy.displayName="Textarea";const ev=({open:e,onOpenChange:t,onCreated:n})=>{const[s,i]=m.useState(""),[l,d]=m.useState(""),[u,f]=m.useState("light"),[h,g]=m.useState(!1),[v,x]=m.useState(null),b=async()=>{if(!s.trim()){x("Theme name is required");return}g(!0),x(null);try{const k=sr.exportStyles(),N=JSON.parse(k),S=[N.input?.backgroundColor||"#ffffff",N.label?.color||"#1f2937",N.button?.backgroundColor||"#2563eb",N.input?.borderColor||"#d1d5db"];await wp.apiFetch({path:"/super-forms/v1/themes",method:"POST",data:{name:s.trim(),description:l.trim(),category:u,styles:N,preview_colors:S}}),i(""),d(""),f("light"),n()}catch(k){x(k instanceof Error?k.message:"Failed to save theme")}finally{g(!1)}};return r.jsx(Cf,{open:e,onOpenChange:t,children:r.jsxs(xc,{className:"sm:max-w-[425px]",children:[r.jsxs(yc,{children:[r.jsx(vc,{children:"Save Current as Theme"}),r.jsx(bc,{children:"Save your current form styling as a reusable theme."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Vr,{htmlFor:"theme-name",children:"Theme Name"}),r.jsx(Nr,{id:"theme-name",value:s,onChange:k=>i(k.target.value),placeholder:"My Custom Theme"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Vr,{htmlFor:"theme-description",children:"Description (optional)"}),r.jsx(Qy,{id:"theme-description",value:l,onChange:k=>d(k.target.value),placeholder:"A brief description of this theme...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Vr,{htmlFor:"theme-category",children:"Category"}),r.jsxs("select",{id:"theme-category",value:u,onChange:k=>f(k.target.value),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{value:"light",children:"Light"}),r.jsx("option",{value:"dark",children:"Dark"}),r.jsx("option",{value:"minimal",children:"Minimal"}),r.jsx("option",{value:"corporate",children:"Corporate"}),r.jsx("option",{value:"playful",children:"Playful"})]})]}),v&&r.jsx("p",{className:"text-sm text-destructive",children:v})]}),r.jsxs(Ef,{children:[r.jsx(tn,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r.jsx(tn,{onClick:b,disabled:h,children:h?"Saving...":"Save Theme"})]})]})})};function tv(){const[e,t]=m.useState([]),[n,s]=m.useState(!0),[i,l]=m.useState(null),[d,u]=m.useState(null),f=m.useCallback(async()=>{s(!0),l(null);try{const v=await wp.apiFetch({path:"/super-forms/v1/themes",method:"GET"});t(v)}catch(v){l(v instanceof Error?v.message:"Failed to load themes")}finally{s(!1)}},[]),h=m.useCallback(async v=>{try{const x=e.find(b=>b.id===v);if(!x||x.is_stub)return;sr.importStyles(JSON.stringify(x.styles)),u(v)}catch(x){console.error("Failed to apply theme:",x)}},[e]),g=m.useCallback(async v=>{if(confirm("Are you sure you want to delete this theme?"))try{await wp.apiFetch({path:`/super-forms/v1/themes/${v}`,method:"DELETE"}),t(x=>x.filter(b=>b.id!==v))}catch(x){console.error("Failed to delete theme:",x)}},[]);return m.useEffect(()=>{f()},[f]),{themes:e,loading:n,error:i,activeThemeId:d,refresh:f,applyTheme:h,deleteTheme:g}}const wD=Object.freeze(Object.defineProperty({__proto__:null,CreateThemeDialog:ev,ThemeCard:_c,ThemeGallery:Jy,ThemesTab:()=>{const{themes:e,loading:t,error:n,activeThemeId:s,refresh:i,applyTheme:l,deleteTheme:d}=tv(),[u,f]=m.useState(!1);return t?r.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"Loading themes..."}):n?r.jsx("div",{className:"p-6 text-center text-destructive",children:n}):r.jsxs("div",{className:"flex-1 overflow-auto",children:[r.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between sticky top-0 bg-background z-10",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Form Themes"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a preset theme or save your current styling"})]}),r.jsxs(tn,{onClick:()=>f(!0),size:"sm",variant:"outline",children:[r.jsx(js,{className:"h-4 w-4 mr-2"}),"Save Current as Theme"]})]}),r.jsx("div",{className:"p-4",children:r.jsx(Jy,{themes:e,activeThemeId:s??void 0,onApply:l,onDelete:d})}),r.jsx(ev,{open:u,onOpenChange:f,onCreated:()=>{i(),f(!1)}})]})},useThemes:tv},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=admin.js.map
