var A_=Object.defineProperty;var F_=(cs,jn,Mr)=>jn in cs?A_(cs,jn,{enumerable:!0,configurable:!0,writable:!0,value:Mr}):cs[jn]=Mr;var Tc=(cs,jn,Mr)=>F_(cs,typeof jn!="symbol"?jn+"":jn,Mr);(function(){"use strict";function cs(e,o){for(var r=0;r<o.length;r++){const a=o[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const c=Object.getOwnPropertyDescriptor(a,i);c&&Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function jn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mr={exports:{}},Go={},Mc={exports:{}},Ie={};var Gp;function Gy(){if(Gp)return Ie;Gp=1;var e=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),j=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=j&&D[j]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function k(D,T,q){this.props=D,this.context=T,this.refs=N,this.updater=q||w}k.prototype.isReactComponent={},k.prototype.setState=function(D,T){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,T,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function _(){}_.prototype=k.prototype;function E(D,T,q){this.props=D,this.context=T,this.refs=N,this.updater=q||w}var v=E.prototype=new _;v.constructor=E,C(v,k.prototype),v.isPureReactComponent=!0;var R=Array.isArray,z=Object.prototype.hasOwnProperty,L={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function $(D,T,q){var Y,J={},xe=null,V=null;if(T!=null)for(Y in T.ref!==void 0&&(V=T.ref),T.key!==void 0&&(xe=""+T.key),T)z.call(T,Y)&&!A.hasOwnProperty(Y)&&(J[Y]=T[Y]);var ge=arguments.length-2;if(ge===1)J.children=q;else if(1<ge){for(var _e=Array(ge),Se=0;Se<ge;Se++)_e[Se]=arguments[Se+2];J.children=_e}if(D&&D.defaultProps)for(Y in ge=D.defaultProps,ge)J[Y]===void 0&&(J[Y]=ge[Y]);return{$$typeof:e,type:D,key:xe,ref:V,props:J,_owner:L.current}}function H(D,T){return{$$typeof:e,type:D.type,key:T,ref:D.ref,props:D.props,_owner:D._owner}}function G(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function se(D){var T={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(q){return T[q]})}var de=/\/+/g;function je(D,T){return typeof D=="object"&&D!==null&&D.key!=null?se(""+D.key):T.toString(36)}function ne(D,T,q,Y,J){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var V=!1;if(D===null)V=!0;else switch(xe){case"string":case"number":V=!0;break;case"object":switch(D.$$typeof){case e:case o:V=!0}}if(V)return V=D,J=J(V),D=Y===""?"."+je(V,0):Y,R(J)?(q="",D!=null&&(q=D.replace(de,"$&/")+"/"),ne(J,T,q,"",function(Se){return Se})):J!=null&&(G(J)&&(J=H(J,q+(!J.key||V&&V.key===J.key?"":(""+J.key).replace(de,"$&/")+"/")+D)),T.push(J)),1;if(V=0,Y=Y===""?".":Y+":",R(D))for(var ge=0;ge<D.length;ge++){xe=D[ge];var _e=Y+je(xe,ge);V+=ne(xe,T,q,_e,J)}else if(_e=y(D),typeof _e=="function")for(D=_e.call(D),ge=0;!(xe=D.next()).done;)xe=xe.value,_e=Y+je(xe,ge++),V+=ne(xe,T,q,_e,J);else if(xe==="object")throw T=String(D),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return V}function Ne(D,T,q){if(D==null)return D;var Y=[],J=0;return ne(D,Y,"","",function(xe){return T.call(q,xe,J++)}),Y}function oe(D){if(D._status===-1){var T=D._result;T=T(),T.then(function(q){(D._status===0||D._status===-1)&&(D._status=1,D._result=q)},function(q){(D._status===0||D._status===-1)&&(D._status=2,D._result=q)}),D._status===-1&&(D._status=0,D._result=T)}if(D._status===1)return D._result.default;throw D._result}var ee={current:null},F={transition:null},X={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:F,ReactCurrentOwner:L};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Ne,forEach:function(D,T,q){Ne(D,function(){T.apply(this,arguments)},q)},count:function(D){var T=0;return Ne(D,function(){T++}),T},toArray:function(D){return Ne(D,function(T){return T})||[]},only:function(D){if(!G(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ie.Component=k,Ie.Fragment=r,Ie.Profiler=i,Ie.PureComponent=E,Ie.StrictMode=a,Ie.Suspense=m,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ie.act=K,Ie.cloneElement=function(D,T,q){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Y=C({},D.props),J=D.key,xe=D.ref,V=D._owner;if(T!=null){if(T.ref!==void 0&&(xe=T.ref,V=L.current),T.key!==void 0&&(J=""+T.key),D.type&&D.type.defaultProps)var ge=D.type.defaultProps;for(_e in T)z.call(T,_e)&&!A.hasOwnProperty(_e)&&(Y[_e]=T[_e]===void 0&&ge!==void 0?ge[_e]:T[_e])}var _e=arguments.length-2;if(_e===1)Y.children=q;else if(1<_e){ge=Array(_e);for(var Se=0;Se<_e;Se++)ge[Se]=arguments[Se+2];Y.children=ge}return{$$typeof:e,type:D.type,key:J,ref:xe,props:Y,_owner:V}},Ie.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Ie.createElement=$,Ie.createFactory=function(D){var T=$.bind(null,D);return T.type=D,T},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:u,render:D}},Ie.isValidElement=G,Ie.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:oe}},Ie.memo=function(D,T){return{$$typeof:h,type:D,compare:T===void 0?null:T}},Ie.startTransition=function(D){var T=F.transition;F.transition={};try{D()}finally{F.transition=T}},Ie.unstable_act=K,Ie.useCallback=function(D,T){return ee.current.useCallback(D,T)},Ie.useContext=function(D){return ee.current.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D){return ee.current.useDeferredValue(D)},Ie.useEffect=function(D,T){return ee.current.useEffect(D,T)},Ie.useId=function(){return ee.current.useId()},Ie.useImperativeHandle=function(D,T,q){return ee.current.useImperativeHandle(D,T,q)},Ie.useInsertionEffect=function(D,T){return ee.current.useInsertionEffect(D,T)},Ie.useLayoutEffect=function(D,T){return ee.current.useLayoutEffect(D,T)},Ie.useMemo=function(D,T){return ee.current.useMemo(D,T)},Ie.useReducer=function(D,T,q){return ee.current.useReducer(D,T,q)},Ie.useRef=function(D){return ee.current.useRef(D)},Ie.useState=function(D){return ee.current.useState(D)},Ie.useSyncExternalStore=function(D,T,q){return ee.current.useSyncExternalStore(D,T,q)},Ie.useTransition=function(){return ee.current.useTransition()},Ie.version="18.3.1",Ie}var Kp;function Ko(){return Kp||(Kp=1,Mc.exports=Gy()),Mc.exports}var Xp;function Ky(){if(Xp)return Go;Xp=1;var e=Ko(),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(u,m,h){var g,j={},y=null,w=null;h!==void 0&&(y=""+h),m.key!==void 0&&(y=""+m.key),m.ref!==void 0&&(w=m.ref);for(g in m)a.call(m,g)&&!c.hasOwnProperty(g)&&(j[g]=m[g]);if(u&&u.defaultProps)for(g in m=u.defaultProps,m)j[g]===void 0&&(j[g]=m[g]);return{$$typeof:o,type:u,key:y,ref:w,props:j,_owner:i.current}}return Go.Fragment=r,Go.jsx=d,Go.jsxs=d,Go}var Qp;function Xy(){return Qp||(Qp=1,Mr.exports=Ky()),Mr.exports}var t=Xy(),f=Ko();const De=jn(f),Pc=cs({__proto__:null,default:De},[f]);var ci={},$c={exports:{}},rn={},zc={exports:{}},Lc={};var Jp;function Qy(){return Jp||(Jp=1,(function(e){function o(F,X){var K=F.length;F.push(X);e:for(;0<K;){var D=K-1>>>1,T=F[D];if(0<i(T,X))F[D]=X,F[K]=T,K=D;else break e}}function r(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var X=F[0],K=F.pop();if(K!==X){F[0]=K;e:for(var D=0,T=F.length,q=T>>>1;D<q;){var Y=2*(D+1)-1,J=F[Y],xe=Y+1,V=F[xe];if(0>i(J,K))xe<T&&0>i(V,J)?(F[D]=V,F[xe]=K,D=xe):(F[D]=J,F[Y]=K,D=Y);else if(xe<T&&0>i(V,K))F[D]=V,F[xe]=K,D=xe;else break e}}return X}function i(F,X){var K=F.sortIndex-X.sortIndex;return K!==0?K:F.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,u=d.now();e.unstable_now=function(){return d.now()-u}}var m=[],h=[],g=1,j=null,y=3,w=!1,C=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(F){for(var X=r(h);X!==null;){if(X.callback===null)a(h);else if(X.startTime<=F)a(h),X.sortIndex=X.expirationTime,o(m,X);else break;X=r(h)}}function R(F){if(N=!1,v(F),!C)if(r(m)!==null)C=!0,oe(z);else{var X=r(h);X!==null&&ee(R,X.startTime-F)}}function z(F,X){C=!1,N&&(N=!1,_($),$=-1),w=!0;var K=y;try{for(v(X),j=r(m);j!==null&&(!(j.expirationTime>X)||F&&!se());){var D=j.callback;if(typeof D=="function"){j.callback=null,y=j.priorityLevel;var T=D(j.expirationTime<=X);X=e.unstable_now(),typeof T=="function"?j.callback=T:j===r(m)&&a(m),v(X)}else a(m);j=r(m)}if(j!==null)var q=!0;else{var Y=r(h);Y!==null&&ee(R,Y.startTime-X),q=!1}return q}finally{j=null,y=K,w=!1}}var L=!1,A=null,$=-1,H=5,G=-1;function se(){return!(e.unstable_now()-G<H)}function de(){if(A!==null){var F=e.unstable_now();G=F;var X=!0;try{X=A(!0,F)}finally{X?je():(L=!1,A=null)}}else L=!1}var je;if(typeof E=="function")je=function(){E(de)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Ne=ne.port2;ne.port1.onmessage=de,je=function(){Ne.postMessage(null)}}else je=function(){k(de,0)};function oe(F){A=F,L||(L=!0,je())}function ee(F,X){$=k(function(){F(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){C||w||(C=!0,oe(z))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(m)},e.unstable_next=function(F){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var K=y;y=X;try{return F()}finally{y=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=y;y=F;try{return X()}finally{y=K}},e.unstable_scheduleCallback=function(F,X,K){var D=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?D+K:D):K=D,F){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=K+T,F={id:g++,callback:X,priorityLevel:F,startTime:K,expirationTime:T,sortIndex:-1},K>D?(F.sortIndex=K,o(h,F),r(m)===null&&F===r(h)&&(N?(_($),$=-1):N=!0,ee(R,K-D))):(F.sortIndex=T,o(m,F),C||w||(C=!0,oe(z))),F},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(F){var X=y;return function(){var K=y;y=X;try{return F.apply(this,arguments)}finally{y=K}}}})(Lc)),Lc}var Zp;function Jy(){return Zp||(Zp=1,zc.exports=Qy()),zc.exports}var ef;function Zy(){if(ef)return rn;ef=1;var e=Ko(),o=Jy();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function c(n,s){d(n,s),d(n+"Capture",s)}function d(n,s){for(i[n]=s,n=0;n<s.length;n++)a.add(s[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},j={};function y(n){return m.call(j,n)?!0:m.call(g,n)?!1:h.test(n)?j[n]=!0:(g[n]=!0,!1)}function w(n,s,l,p){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function C(n,s,l,p){if(s===null||typeof s>"u"||w(n,s,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(n,s,l,p,x,b,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=b,this.removeEmptyString=S}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){k[n]=new N(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];k[s]=new N(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){k[n]=new N(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){k[n]=new N(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){k[n]=new N(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){k[n]=new N(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){k[n]=new N(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){k[n]=new N(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){k[n]=new N(n,5,!1,n.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(_,E);k[s]=new N(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(_,E);k[s]=new N(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(_,E);k[s]=new N(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){k[n]=new N(n,1,!1,n.toLowerCase(),null,!1,!1)}),k.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){k[n]=new N(n,1,!1,n.toLowerCase(),null,!0,!0)});function v(n,s,l,p){var x=k.hasOwnProperty(s)?k[s]:null;(x!==null?x.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,l,x,p)&&(l=null),p||x===null?y(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):x.mustUseProperty?n[x.propertyName]=l===null?x.type===3?!1:"":l:(s=x.attributeName,p=x.attributeNamespace,l===null?n.removeAttribute(s):(x=x.type,l=x===3||x===4&&l===!0?"":""+l,p?n.setAttributeNS(p,s,l):n.setAttribute(s,l))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),L=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),se=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),F=Symbol.iterator;function X(n){return n===null||typeof n!="object"?null:(n=F&&n[F]||n["@@iterator"],typeof n=="function"?n:null)}var K=Object.assign,D;function T(n){if(D===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||""}return`
`+D+n}var q=!1;function Y(n,s){if(!n||q)return"";q=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(U){var p=U}Reflect.construct(n,[],s)}else{try{s.call()}catch(U){p=U}n.call(s.prototype)}else{try{throw Error()}catch(U){p=U}n()}}catch(U){if(U&&p&&typeof U.stack=="string"){for(var x=U.stack.split(`
`),b=p.stack.split(`
`),S=x.length-1,P=b.length-1;1<=S&&0<=P&&x[S]!==b[P];)P--;for(;1<=S&&0<=P;S--,P--)if(x[S]!==b[P]){if(S!==1||P!==1)do if(S--,P--,0>P||x[S]!==b[P]){var I=`
`+x[S].replace(" at new "," at ");return n.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",n.displayName)),I}while(1<=S&&0<=P);break}}}finally{q=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?T(n):""}function J(n){switch(n.tag){case 5:return T(n.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return n=Y(n.type,!1),n;case 11:return n=Y(n.type.render,!1),n;case 1:return n=Y(n.type,!0),n;default:return""}}function xe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case L:return"Portal";case H:return"Profiler";case $:return"StrictMode";case je:return"Suspense";case ne:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case se:return(n.displayName||"Context")+".Consumer";case G:return(n._context.displayName||"Context")+".Provider";case de:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ne:return s=n.displayName||null,s!==null?s:xe(n.type)||"Memo";case oe:s=n._payload,n=n._init;try{return xe(n(s))}catch{}}return null}function V(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(s);case 8:return s===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ge(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _e(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Se(n){var s=_e(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),p=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var x=l.get,b=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return x.call(this)},set:function(S){p=""+S,b.call(this,S)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Qe(n){n._valueTracker||(n._valueTracker=Se(n))}function He(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),p="";return n&&(p=_e(n)?n.checked?"true":"false":n.value),n=p,n!==l?(s.setValue(n),!0):!1}function Je(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ve(n,s){var l=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function xt(n,s){var l=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;l=ge(s.value!=null?s.value:l),n._wrapperState={initialChecked:p,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function At(n,s){s=s.checked,s!=null&&v(n,"checked",s,!1)}function Ht(n,s){At(n,s);var l=ge(s.value),p=s.type;if(l!=null)p==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(p==="submit"||p==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?ie(n,s.type,l):s.hasOwnProperty("defaultValue")&&ie(n,s.type,ge(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Qt(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function ie(n,s,l){(s!=="number"||Je(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var ce=Array.isArray;function me(n,s,l,p){if(n=n.options,s){s={};for(var x=0;x<l.length;x++)s["$"+l[x]]=!0;for(l=0;l<n.length;l++)x=s.hasOwnProperty("$"+n[l].value),n[l].selected!==x&&(n[l].selected=x),x&&p&&(n[l].defaultSelected=!0)}else{for(l=""+ge(l),s=null,x=0;x<n.length;x++){if(n[x].value===l){n[x].selected=!0,p&&(n[x].defaultSelected=!0);return}s!==null||n[x].disabled||(s=n[x])}s!==null&&(s.selected=!0)}}function $e(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ue(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(ce(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:ge(l)}}function Fe(n,s){var l=ge(s.value),p=ge(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),p!=null&&(n.defaultValue=""+p)}function fe(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function lt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?lt(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qe,gn=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,p,x){MSApp.execUnsafeLocalFunction(function(){return n(s,l,p,x)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(qe=qe||document.createElement("div"),qe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=qe.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Jt(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ir=["Webkit","ms","Moz","O"];Object.keys(wt).forEach(function(n){ir.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),wt[s]=wt[n]})});function Ca(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||wt.hasOwnProperty(n)&&wt[n]?(""+s).trim():s+"px"}function Sa(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var p=l.indexOf("--")===0,x=Ca(l,s[l],p);l==="float"&&(l="cssFloat"),p?n.setProperty(l,x):n[l]=x}}var bs=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wr(n,s){if(s){if(bs[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function lr(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cr=null;function Br(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yt=null,Ft=null,ot=null;function Et(n){if(n=Ga(n)){if(typeof yt!="function")throw Error(r(280));var s=n.stateNode;s&&(s=ql(s),yt(n.stateNode,n.type,s))}}function Ze(n){Ft?ot?ot.push(n):ot=[n]:Ft=n}function Zt(){if(Ft){var n=Ft,s=ot;if(ot=Ft=null,Et(n),s)for(n=0;n<s.length;n++)Et(s[n])}}function jt(n,s){return n(s)}function Nt(){}var _t=!1;function _n(n,s,l){if(_t)return n(s,l);_t=!0;try{return jt(n,s,l)}finally{_t=!1,(Ft!==null||ot!==null)&&(Nt(),Zt())}}function Ge(n,s){var l=n.stateNode;if(l===null)return null;var p=ql(l);if(p===null)return null;l=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var en=!1;if(u)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){en=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{en=!1}function Vt(n,s,l,p,x,b,S,P,I){var U=Array.prototype.slice.call(arguments,3);try{s.apply(l,U)}catch(ae){this.onError(ae)}}var vt=!1,Rt=null,sn=!1,Hn=null,ws={onError:function(n){vt=!0,Rt=n}};function Ea(n,s,l,p,x,b,S,P,I){vt=!1,Rt=null,Vt.apply(ws,arguments)}function hu(n,s,l,p,x,b,S,P,I){if(Ea.apply(this,arguments),vt){if(vt){var U=Rt;vt=!1,Rt=null}else throw Error(r(198));sn||(sn=!0,Hn=U)}}function dr(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function El(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function vo(n){if(dr(n)!==n)throw Error(r(188))}function gu(n){var s=n.alternate;if(!s){if(s=dr(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,p=s;;){var x=l.return;if(x===null)break;var b=x.alternate;if(b===null){if(p=x.return,p!==null){l=p;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===l)return vo(x),n;if(b===p)return vo(x),s;b=b.sibling}throw Error(r(188))}if(l.return!==p.return)l=x,p=b;else{for(var S=!1,P=x.child;P;){if(P===l){S=!0,l=x,p=b;break}if(P===p){S=!0,p=x,l=b;break}P=P.sibling}if(!S){for(P=b.child;P;){if(P===l){S=!0,l=b,p=x;break}if(P===p){S=!0,p=b,l=x;break}P=P.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==p)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function _a(n){return n=gu(n),n!==null?Nr(n):null}function Nr(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Nr(n);if(s!==null)return s;n=n.sibling}return null}var _l=o.unstable_scheduleCallback,xn=o.unstable_cancelCallback,Ra=o.unstable_shouldYield,js=o.unstable_requestPaint,ct=o.unstable_now,Hr=o.unstable_getCurrentPriorityLevel,Ns=o.unstable_ImmediatePriority,bo=o.unstable_UserBlockingPriority,wo=o.unstable_NormalPriority,ur=o.unstable_LowPriority,Ke=o.unstable_IdlePriority,jo=null,Rn=null;function xu(n){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(jo,n,void 0,(n.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:No,Vr=Math.log,Rl=Math.LN2;function No(n){return n>>>=0,n===0?32:31-(Vr(n)/Rl|0)|0}var ks=64,Cs=4194304;function on(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ss(n,s){var l=n.pendingLanes;if(l===0)return 0;var p=0,x=n.suspendedLanes,b=n.pingedLanes,S=l&268435455;if(S!==0){var P=S&~x;P!==0?p=on(P):(b&=S,b!==0&&(p=on(b)))}else S=l&~x,S!==0?p=on(S):b!==0&&(p=on(b));if(p===0)return 0;if(s!==0&&s!==p&&(s&x)===0&&(x=p&-p,b=s&-s,x>=b||x===16&&(b&4194240)!==0))return s;if((p&4)!==0&&(p|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=p;0<s;)l=31-Ut(s),x=1<<l,p|=n[l],s&=~x;return p}function Dl(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tl(n,s){for(var l=n.suspendedLanes,p=n.pingedLanes,x=n.expirationTimes,b=n.pendingLanes;0<b;){var S=31-Ut(b),P=1<<S,I=x[S];I===-1?((P&l)===0||(P&p)!==0)&&(x[S]=Dl(P,s)):I<=s&&(n.expiredLanes|=P),b&=~P}}function Es(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ur(){var n=ks;return ks<<=1,(ks&4194240)===0&&(ks=64),n}function qr(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function pr(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Ut(s),n[s]=l}function yu(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var p=n.eventTimes;for(n=n.expirationTimes;0<l;){var x=31-Ut(l),b=1<<x;s[x]=0,p[x]=-1,n[x]=-1,l&=~b}}function Yr(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var p=31-Ut(l),x=1<<p;x&s|n[p]&s&&(n[p]|=s),l&=~x}}var Oe=0;function fr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Da,Ta,Ma,ko,Ml,Pa=!1,_s=[],Vn=null,Un=null,mr=null,Rs=new Map,M=new Map,Z=[],te="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Re(n,s){switch(n){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Rs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":M.delete(s.pointerId)}}function Te(n,s,l,p,x,b){return n===null||n.nativeEvent!==b?(n={blockedOn:s,domEventName:l,eventSystemFlags:p,nativeEvent:b,targetContainers:[x]},s!==null&&(s=Ga(s),s!==null&&Ta(s)),n):(n.eventSystemFlags|=p,s=n.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),n)}function at(n,s,l,p,x){switch(s){case"focusin":return Vn=Te(Vn,n,s,l,p,x),!0;case"dragenter":return Un=Te(Un,n,s,l,p,x),!0;case"mouseover":return mr=Te(mr,n,s,l,p,x),!0;case"pointerover":var b=x.pointerId;return Rs.set(b,Te(Rs.get(b)||null,n,s,l,p,x)),!0;case"gotpointercapture":return b=x.pointerId,M.set(b,Te(M.get(b)||null,n,s,l,p,x)),!0}return!1}function mt(n){var s=Ds(n.target);if(s!==null){var l=dr(s);if(l!==null){if(s=l.tag,s===13){if(s=El(l),s!==null){n.blockedOn=s,Ml(n.priority,function(){Ma(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $a(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=bu(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var p=new l.constructor(l.type,l);cr=p,l.target.dispatchEvent(p),cr=null}else return s=Ga(l),s!==null&&Ta(s),n.blockedOn=l,!1;s.shift()}return!0}function Co(n,s,l){$a(n)&&l.delete(s)}function c4(){Pa=!1,Vn!==null&&$a(Vn)&&(Vn=null),Un!==null&&$a(Un)&&(Un=null),mr!==null&&$a(mr)&&(mr=null),Rs.forEach(Co),M.forEach(Co)}function za(n,s){n.blockedOn===s&&(n.blockedOn=null,Pa||(Pa=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,c4)))}function La(n){function s(x){return za(x,n)}if(0<_s.length){za(_s[0],n);for(var l=1;l<_s.length;l++){var p=_s[l];p.blockedOn===n&&(p.blockedOn=null)}}for(Vn!==null&&za(Vn,n),Un!==null&&za(Un,n),mr!==null&&za(mr,n),Rs.forEach(s),M.forEach(s),l=0;l<Z.length;l++)p=Z[l],p.blockedOn===n&&(p.blockedOn=null);for(;0<Z.length&&(l=Z[0],l.blockedOn===null);)mt(l),l.blockedOn===null&&Z.shift()}var So=R.ReactCurrentBatchConfig,Pl=!0;function d4(n,s,l,p){var x=Oe,b=So.transition;So.transition=null;try{Oe=1,vu(n,s,l,p)}finally{Oe=x,So.transition=b}}function u4(n,s,l,p){var x=Oe,b=So.transition;So.transition=null;try{Oe=4,vu(n,s,l,p)}finally{Oe=x,So.transition=b}}function vu(n,s,l,p){if(Pl){var x=bu(n,s,l,p);if(x===null)Iu(n,s,p,$l,l),Re(n,p);else if(at(x,n,s,l,p))p.stopPropagation();else if(Re(n,p),s&4&&-1<te.indexOf(n)){for(;x!==null;){var b=Ga(x);if(b!==null&&Da(b),b=bu(n,s,l,p),b===null&&Iu(n,s,p,$l,l),b===x)break;x=b}x!==null&&p.stopPropagation()}else Iu(n,s,p,null,l)}}var $l=null;function bu(n,s,l,p){if($l=null,n=Br(p),n=Ds(n),n!==null)if(s=dr(n),s===null)n=null;else if(l=s.tag,l===13){if(n=El(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return $l=n,null}function $x(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hr()){case Ns:return 1;case bo:return 4;case wo:case ur:return 16;case Ke:return 536870912;default:return 16}default:return 16}}var Gr=null,wu=null,zl=null;function zx(){if(zl)return zl;var n,s=wu,l=s.length,p,x="value"in Gr?Gr.value:Gr.textContent,b=x.length;for(n=0;n<l&&s[n]===x[n];n++);var S=l-n;for(p=1;p<=S&&s[l-p]===x[b-p];p++);return zl=x.slice(n,1<p?1-p:void 0)}function Ll(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Il(){return!0}function Lx(){return!1}function yn(n){function s(l,p,x,b,S){this._reactName=l,this._targetInst=x,this.type=p,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var P in n)n.hasOwnProperty(P)&&(l=n[P],this[P]=l?l(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Il:Lx,this.isPropagationStopped=Lx,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),s}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=yn(Eo),Ia=K({},Eo,{view:0,detail:0}),p4=yn(Ia),Nu,ku,Oa,Ol=K({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Oa&&(Oa&&n.type==="mousemove"?(Nu=n.screenX-Oa.screenX,ku=n.screenY-Oa.screenY):ku=Nu=0,Oa=n),Nu)},movementY:function(n){return"movementY"in n?n.movementY:ku}}),Ix=yn(Ol),f4=K({},Ol,{dataTransfer:0}),m4=yn(f4),h4=K({},Ia,{relatedTarget:0}),Cu=yn(h4),g4=K({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),x4=yn(g4),y4=K({},Eo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),v4=yn(y4),b4=K({},Eo,{data:0}),Ox=yn(b4),w4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k4(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=N4[n])?!!s[n]:!1}function Su(){return k4}var C4=K({},Ia,{key:function(n){if(n.key){var s=w4[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ll(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?j4[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(n){return n.type==="keypress"?Ll(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ll(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),S4=yn(C4),E4=K({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ax=yn(E4),_4=K({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),R4=yn(_4),D4=K({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),T4=yn(D4),M4=K({},Ol,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),P4=yn(M4),$4=[9,13,27,32],Eu=u&&"CompositionEvent"in window,Aa=null;u&&"documentMode"in document&&(Aa=document.documentMode);var z4=u&&"TextEvent"in window&&!Aa,Fx=u&&(!Eu||Aa&&8<Aa&&11>=Aa),Wx=" ",Bx=!1;function Hx(n,s){switch(n){case"keyup":return $4.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _o=!1;function L4(n,s){switch(n){case"compositionend":return Vx(s);case"keypress":return s.which!==32?null:(Bx=!0,Wx);case"textInput":return n=s.data,n===Wx&&Bx?null:n;default:return null}}function I4(n,s){if(_o)return n==="compositionend"||!Eu&&Hx(n,s)?(n=zx(),zl=wu=Gr=null,_o=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Fx&&s.locale!=="ko"?null:s.data;default:return null}}var O4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ux(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!O4[n.type]:s==="textarea"}function qx(n,s,l,p){Ze(p),s=Hl(s,"onChange"),0<s.length&&(l=new ju("onChange","change",null,l,p),n.push({event:l,listeners:s}))}var Fa=null,Wa=null;function A4(n){d0(n,0)}function Al(n){var s=Po(n);if(He(s))return n}function F4(n,s){if(n==="change")return s}var Yx=!1;if(u){var _u;if(u){var Ru="oninput"in document;if(!Ru){var Gx=document.createElement("div");Gx.setAttribute("oninput","return;"),Ru=typeof Gx.oninput=="function"}_u=Ru}else _u=!1;Yx=_u&&(!document.documentMode||9<document.documentMode)}function Kx(){Fa&&(Fa.detachEvent("onpropertychange",Xx),Wa=Fa=null)}function Xx(n){if(n.propertyName==="value"&&Al(Wa)){var s=[];qx(s,Wa,n,Br(n)),_n(A4,s)}}function W4(n,s,l){n==="focusin"?(Kx(),Fa=s,Wa=l,Fa.attachEvent("onpropertychange",Xx)):n==="focusout"&&Kx()}function B4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Al(Wa)}function H4(n,s){if(n==="click")return Al(s)}function V4(n,s){if(n==="input"||n==="change")return Al(s)}function U4(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var qn=typeof Object.is=="function"?Object.is:U4;function Ba(n,s){if(qn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),p=Object.keys(s);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var x=l[p];if(!m.call(s,x)||!qn(n[x],s[x]))return!1}return!0}function Qx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Jx(n,s){var l=Qx(n);n=0;for(var p;l;){if(l.nodeType===3){if(p=n+l.textContent.length,n<=s&&p>=s)return{node:l,offset:s-n};n=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qx(l)}}function Zx(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Zx(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function e0(){for(var n=window,s=Je();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Je(n.document)}return s}function Du(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function q4(n){var s=e0(),l=n.focusedElem,p=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&Zx(l.ownerDocument.documentElement,l)){if(p!==null&&Du(l)){if(s=p.start,n=p.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var x=l.textContent.length,b=Math.min(p.start,x);p=p.end===void 0?b:Math.min(p.end,x),!n.extend&&b>p&&(x=p,p=b,b=x),x=Jx(l,b);var S=Jx(l,p);x&&S&&(n.rangeCount!==1||n.anchorNode!==x.node||n.anchorOffset!==x.offset||n.focusNode!==S.node||n.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(x.node,x.offset),n.removeAllRanges(),b>p?(n.addRange(s),n.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Y4=u&&"documentMode"in document&&11>=document.documentMode,Ro=null,Tu=null,Ha=null,Mu=!1;function t0(n,s,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Mu||Ro==null||Ro!==Je(p)||(p=Ro,"selectionStart"in p&&Du(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ha&&Ba(Ha,p)||(Ha=p,p=Hl(Tu,"onSelect"),0<p.length&&(s=new ju("onSelect","select",null,s,l),n.push({event:s,listeners:p}),s.target=Ro)))}function Fl(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Do={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},Pu={},n0={};u&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Wl(n){if(Pu[n])return Pu[n];if(!Do[n])return n;var s=Do[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in n0)return Pu[n]=s[l];return n}var r0=Wl("animationend"),s0=Wl("animationiteration"),o0=Wl("animationstart"),a0=Wl("transitionend"),i0=new Map,l0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(n,s){i0.set(n,s),c(s,[n])}for(var $u=0;$u<l0.length;$u++){var zu=l0[$u],G4=zu.toLowerCase(),K4=zu[0].toUpperCase()+zu.slice(1);Kr(G4,"on"+K4)}Kr(r0,"onAnimationEnd"),Kr(s0,"onAnimationIteration"),Kr(o0,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(a0,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function c0(n,s,l){var p=n.type||"unknown-event";n.currentTarget=l,hu(p,s,void 0,n),n.currentTarget=null}function d0(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var p=n[l],x=p.event;p=p.listeners;e:{var b=void 0;if(s)for(var S=p.length-1;0<=S;S--){var P=p[S],I=P.instance,U=P.currentTarget;if(P=P.listener,I!==b&&x.isPropagationStopped())break e;c0(x,P,U),b=I}else for(S=0;S<p.length;S++){if(P=p[S],I=P.instance,U=P.currentTarget,P=P.listener,I!==b&&x.isPropagationStopped())break e;c0(x,P,U),b=I}}}if(sn)throw n=Hn,sn=!1,Hn=null,n}function et(n,s){var l=s[Hu];l===void 0&&(l=s[Hu]=new Set);var p=n+"__bubble";l.has(p)||(u0(s,n,2,!1),l.add(p))}function Lu(n,s,l){var p=0;s&&(p|=4),u0(l,n,p,s)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Ua(n){if(!n[Bl]){n[Bl]=!0,a.forEach(function(l){l!=="selectionchange"&&(X4.has(l)||Lu(l,!1,n),Lu(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Bl]||(s[Bl]=!0,Lu("selectionchange",!1,s))}}function u0(n,s,l,p){switch($x(s)){case 1:var x=d4;break;case 4:x=u4;break;default:x=vu}l=x.bind(null,s,l,n),x=void 0,!en||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),p?x!==void 0?n.addEventListener(s,l,{capture:!0,passive:x}):n.addEventListener(s,l,!0):x!==void 0?n.addEventListener(s,l,{passive:x}):n.addEventListener(s,l,!1)}function Iu(n,s,l,p,x){var b=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var P=p.stateNode.containerInfo;if(P===x||P.nodeType===8&&P.parentNode===x)break;if(S===4)for(S=p.return;S!==null;){var I=S.tag;if((I===3||I===4)&&(I=S.stateNode.containerInfo,I===x||I.nodeType===8&&I.parentNode===x))return;S=S.return}for(;P!==null;){if(S=Ds(P),S===null)return;if(I=S.tag,I===5||I===6){p=b=S;continue e}P=P.parentNode}}p=p.return}_n(function(){var U=b,ae=Br(l),le=[];e:{var re=i0.get(n);if(re!==void 0){var ye=ju,ke=n;switch(n){case"keypress":if(Ll(l)===0)break e;case"keydown":case"keyup":ye=S4;break;case"focusin":ke="focus",ye=Cu;break;case"focusout":ke="blur",ye=Cu;break;case"beforeblur":case"afterblur":ye=Cu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Ix;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=m4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=R4;break;case r0:case s0:case o0:ye=x4;break;case a0:ye=T4;break;case"scroll":ye=p4;break;case"wheel":ye=P4;break;case"copy":case"cut":case"paste":ye=v4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Ax}var Ce=(s&4)!==0,bt=!Ce&&n==="scroll",W=Ce?re!==null?re+"Capture":null:re;Ce=[];for(var O=U,B;O!==null;){B=O;var ue=B.stateNode;if(B.tag===5&&ue!==null&&(B=ue,W!==null&&(ue=Ge(O,W),ue!=null&&Ce.push(qa(O,ue,B)))),bt)break;O=O.return}0<Ce.length&&(re=new ye(re,ke,null,l,ae),le.push({event:re,listeners:Ce}))}}if((s&7)===0){e:{if(re=n==="mouseover"||n==="pointerover",ye=n==="mouseout"||n==="pointerout",re&&l!==cr&&(ke=l.relatedTarget||l.fromElement)&&(Ds(ke)||ke[kr]))break e;if((ye||re)&&(re=ae.window===ae?ae:(re=ae.ownerDocument)?re.defaultView||re.parentWindow:window,ye?(ke=l.relatedTarget||l.toElement,ye=U,ke=ke?Ds(ke):null,ke!==null&&(bt=dr(ke),ke!==bt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(ye=null,ke=U),ye!==ke)){if(Ce=Ix,ue="onMouseLeave",W="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=Ax,ue="onPointerLeave",W="onPointerEnter",O="pointer"),bt=ye==null?re:Po(ye),B=ke==null?re:Po(ke),re=new Ce(ue,O+"leave",ye,l,ae),re.target=bt,re.relatedTarget=B,ue=null,Ds(ae)===U&&(Ce=new Ce(W,O+"enter",ke,l,ae),Ce.target=B,Ce.relatedTarget=bt,ue=Ce),bt=ue,ye&&ke)t:{for(Ce=ye,W=ke,O=0,B=Ce;B;B=To(B))O++;for(B=0,ue=W;ue;ue=To(ue))B++;for(;0<O-B;)Ce=To(Ce),O--;for(;0<B-O;)W=To(W),B--;for(;O--;){if(Ce===W||W!==null&&Ce===W.alternate)break t;Ce=To(Ce),W=To(W)}Ce=null}else Ce=null;ye!==null&&p0(le,re,ye,Ce,!1),ke!==null&&bt!==null&&p0(le,bt,ke,Ce,!0)}}e:{if(re=U?Po(U):window,ye=re.nodeName&&re.nodeName.toLowerCase(),ye==="select"||ye==="input"&&re.type==="file")var Ee=F4;else if(Ux(re))if(Yx)Ee=V4;else{Ee=B4;var Me=W4}else(ye=re.nodeName)&&ye.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ee=H4);if(Ee&&(Ee=Ee(n,U))){qx(le,Ee,l,ae);break e}Me&&Me(n,re,U),n==="focusout"&&(Me=re._wrapperState)&&Me.controlled&&re.type==="number"&&ie(re,"number",re.value)}switch(Me=U?Po(U):window,n){case"focusin":(Ux(Me)||Me.contentEditable==="true")&&(Ro=Me,Tu=U,Ha=null);break;case"focusout":Ha=Tu=Ro=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,t0(le,l,ae);break;case"selectionchange":if(Y4)break;case"keydown":case"keyup":t0(le,l,ae)}var Pe;if(Eu)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else _o?Hx(n,l)&&(ze="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Fx&&l.locale!=="ko"&&(_o||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&_o&&(Pe=zx()):(Gr=ae,wu="value"in Gr?Gr.value:Gr.textContent,_o=!0)),Me=Hl(U,ze),0<Me.length&&(ze=new Ox(ze,n,null,l,ae),le.push({event:ze,listeners:Me}),Pe?ze.data=Pe:(Pe=Vx(l),Pe!==null&&(ze.data=Pe)))),(Pe=z4?L4(n,l):I4(n,l))&&(U=Hl(U,"onBeforeInput"),0<U.length&&(ae=new Ox("onBeforeInput","beforeinput",null,l,ae),le.push({event:ae,listeners:U}),ae.data=Pe))}d0(le,s)})}function qa(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Hl(n,s){for(var l=s+"Capture",p=[];n!==null;){var x=n,b=x.stateNode;x.tag===5&&b!==null&&(x=b,b=Ge(n,l),b!=null&&p.unshift(qa(n,b,x)),b=Ge(n,s),b!=null&&p.push(qa(n,b,x))),n=n.return}return p}function To(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function p0(n,s,l,p,x){for(var b=s._reactName,S=[];l!==null&&l!==p;){var P=l,I=P.alternate,U=P.stateNode;if(I!==null&&I===p)break;P.tag===5&&U!==null&&(P=U,x?(I=Ge(l,b),I!=null&&S.unshift(qa(l,I,P))):x||(I=Ge(l,b),I!=null&&S.push(qa(l,I,P)))),l=l.return}S.length!==0&&n.push({event:s,listeners:S})}var Q4=/\r\n?/g,J4=/\u0000|\uFFFD/g;function f0(n){return(typeof n=="string"?n:""+n).replace(Q4,`
`).replace(J4,"")}function Vl(n,s,l){if(s=f0(s),f0(n)!==s&&l)throw Error(r(425))}function Ul(){}var Ou=null,Au=null;function Fu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wu=typeof setTimeout=="function"?setTimeout:void 0,Z4=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,e_=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(n){return m0.resolve(null).then(n).catch(t_)}:Wu;function t_(n){setTimeout(function(){throw n})}function Bu(n,s){var l=s,p=0;do{var x=l.nextSibling;if(n.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(p===0){n.removeChild(x),La(s);return}p--}else l!=="$"&&l!=="$?"&&l!=="$!"||p++;l=x}while(l);La(s)}function Xr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function h0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),hr="__reactFiber$"+Mo,Ya="__reactProps$"+Mo,kr="__reactContainer$"+Mo,Hu="__reactEvents$"+Mo,n_="__reactListeners$"+Mo,r_="__reactHandles$"+Mo;function Ds(n){var s=n[hr];if(s)return s;for(var l=n.parentNode;l;){if(s=l[kr]||l[hr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=h0(n);n!==null;){if(l=n[hr])return l;n=h0(n)}return s}n=l,l=n.parentNode}return null}function Ga(n){return n=n[hr]||n[kr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Po(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function ql(n){return n[Ya]||null}var Vu=[],$o=-1;function Qr(n){return{current:n}}function tt(n){0>$o||(n.current=Vu[$o],Vu[$o]=null,$o--)}function Xe(n,s){$o++,Vu[$o]=n.current,n.current=s}var Jr={},qt=Qr(Jr),an=Qr(!1),Ts=Jr;function zo(n,s){var l=n.type.contextTypes;if(!l)return Jr;var p=n.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var x={},b;for(b in l)x[b]=s[b];return p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=x),x}function ln(n){return n=n.childContextTypes,n!=null}function Yl(){tt(an),tt(qt)}function g0(n,s,l){if(qt.current!==Jr)throw Error(r(168));Xe(qt,s),Xe(an,l)}function x0(n,s,l){var p=n.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var x in p)if(!(x in s))throw Error(r(108,V(n)||"Unknown",x));return K({},l,p)}function Gl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Jr,Ts=qt.current,Xe(qt,n),Xe(an,an.current),!0}function y0(n,s,l){var p=n.stateNode;if(!p)throw Error(r(169));l?(n=x0(n,s,Ts),p.__reactInternalMemoizedMergedChildContext=n,tt(an),tt(qt),Xe(qt,n)):tt(an),Xe(an,l)}var Cr=null,Kl=!1,Uu=!1;function v0(n){Cr===null?Cr=[n]:Cr.push(n)}function s_(n){Kl=!0,v0(n)}function Zr(){if(!Uu&&Cr!==null){Uu=!0;var n=0,s=Oe;try{var l=Cr;for(Oe=1;n<l.length;n++){var p=l[n];do p=p(!0);while(p!==null)}Cr=null,Kl=!1}catch(x){throw Cr!==null&&(Cr=Cr.slice(n+1)),_l(Ns,Zr),x}finally{Oe=s,Uu=!1}}return null}var Lo=[],Io=0,Xl=null,Ql=0,Dn=[],Tn=0,Ms=null,Sr=1,Er="";function Ps(n,s){Lo[Io++]=Ql,Lo[Io++]=Xl,Xl=n,Ql=s}function b0(n,s,l){Dn[Tn++]=Sr,Dn[Tn++]=Er,Dn[Tn++]=Ms,Ms=n;var p=Sr;n=Er;var x=32-Ut(p)-1;p&=~(1<<x),l+=1;var b=32-Ut(s)+x;if(30<b){var S=x-x%5;b=(p&(1<<S)-1).toString(32),p>>=S,x-=S,Sr=1<<32-Ut(s)+x|l<<x|p,Er=b+n}else Sr=1<<b|l<<x|p,Er=n}function qu(n){n.return!==null&&(Ps(n,1),b0(n,1,0))}function Yu(n){for(;n===Xl;)Xl=Lo[--Io],Lo[Io]=null,Ql=Lo[--Io],Lo[Io]=null;for(;n===Ms;)Ms=Dn[--Tn],Dn[Tn]=null,Er=Dn[--Tn],Dn[Tn]=null,Sr=Dn[--Tn],Dn[Tn]=null}var vn=null,bn=null,it=!1,Yn=null;function w0(n,s){var l=zn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function j0(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,vn=n,bn=Xr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,vn=n,bn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ms!==null?{id:Sr,overflow:Er}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=zn(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,vn=n,bn=null,!0):!1;default:return!1}}function Gu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ku(n){if(it){var s=bn;if(s){var l=s;if(!j0(n,s)){if(Gu(n))throw Error(r(418));s=Xr(l.nextSibling);var p=vn;s&&j0(n,s)?w0(p,l):(n.flags=n.flags&-4097|2,it=!1,vn=n)}}else{if(Gu(n))throw Error(r(418));n.flags=n.flags&-4097|2,it=!1,vn=n}}}function N0(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vn=n}function Jl(n){if(n!==vn)return!1;if(!it)return N0(n),it=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Fu(n.type,n.memoizedProps)),s&&(s=bn)){if(Gu(n))throw k0(),Error(r(418));for(;s;)w0(n,s),s=Xr(s.nextSibling)}if(N0(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){bn=Xr(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}bn=null}}else bn=vn?Xr(n.stateNode.nextSibling):null;return!0}function k0(){for(var n=bn;n;)n=Xr(n.nextSibling)}function Oo(){bn=vn=null,it=!1}function Xu(n){Yn===null?Yn=[n]:Yn.push(n)}var o_=R.ReactCurrentBatchConfig;function Ka(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var p=l.stateNode}if(!p)throw Error(r(147,n));var x=p,b=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===b?s.ref:(s=function(S){var P=x.refs;S===null?delete P[b]:P[b]=S},s._stringRef=b,s)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Zl(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function C0(n){var s=n._init;return s(n._payload)}function S0(n){function s(W,O){if(n){var B=W.deletions;B===null?(W.deletions=[O],W.flags|=16):B.push(O)}}function l(W,O){if(!n)return null;for(;O!==null;)s(W,O),O=O.sibling;return null}function p(W,O){for(W=new Map;O!==null;)O.key!==null?W.set(O.key,O):W.set(O.index,O),O=O.sibling;return W}function x(W,O){return W=is(W,O),W.index=0,W.sibling=null,W}function b(W,O,B){return W.index=B,n?(B=W.alternate,B!==null?(B=B.index,B<O?(W.flags|=2,O):B):(W.flags|=2,O)):(W.flags|=1048576,O)}function S(W){return n&&W.alternate===null&&(W.flags|=2),W}function P(W,O,B,ue){return O===null||O.tag!==6?(O=Bp(B,W.mode,ue),O.return=W,O):(O=x(O,B),O.return=W,O)}function I(W,O,B,ue){var Ee=B.type;return Ee===A?ae(W,O,B.props.children,ue,B.key):O!==null&&(O.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===oe&&C0(Ee)===O.type)?(ue=x(O,B.props),ue.ref=Ka(W,O,B),ue.return=W,ue):(ue=Nc(B.type,B.key,B.props,null,W.mode,ue),ue.ref=Ka(W,O,B),ue.return=W,ue)}function U(W,O,B,ue){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Hp(B,W.mode,ue),O.return=W,O):(O=x(O,B.children||[]),O.return=W,O)}function ae(W,O,B,ue,Ee){return O===null||O.tag!==7?(O=Ws(B,W.mode,ue,Ee),O.return=W,O):(O=x(O,B),O.return=W,O)}function le(W,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Bp(""+O,W.mode,B),O.return=W,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return B=Nc(O.type,O.key,O.props,null,W.mode,B),B.ref=Ka(W,null,O),B.return=W,B;case L:return O=Hp(O,W.mode,B),O.return=W,O;case oe:var ue=O._init;return le(W,ue(O._payload),B)}if(ce(O)||X(O))return O=Ws(O,W.mode,B,null),O.return=W,O;Zl(W,O)}return null}function re(W,O,B,ue){var Ee=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Ee!==null?null:P(W,O,""+B,ue);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case z:return B.key===Ee?I(W,O,B,ue):null;case L:return B.key===Ee?U(W,O,B,ue):null;case oe:return Ee=B._init,re(W,O,Ee(B._payload),ue)}if(ce(B)||X(B))return Ee!==null?null:ae(W,O,B,ue,null);Zl(W,B)}return null}function ye(W,O,B,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return W=W.get(B)||null,P(O,W,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case z:return W=W.get(ue.key===null?B:ue.key)||null,I(O,W,ue,Ee);case L:return W=W.get(ue.key===null?B:ue.key)||null,U(O,W,ue,Ee);case oe:var Me=ue._init;return ye(W,O,B,Me(ue._payload),Ee)}if(ce(ue)||X(ue))return W=W.get(B)||null,ae(O,W,ue,Ee,null);Zl(O,ue)}return null}function ke(W,O,B,ue){for(var Ee=null,Me=null,Pe=O,ze=O=0,zt=null;Pe!==null&&ze<B.length;ze++){Pe.index>ze?(zt=Pe,Pe=null):zt=Pe.sibling;var Be=re(W,Pe,B[ze],ue);if(Be===null){Pe===null&&(Pe=zt);break}n&&Pe&&Be.alternate===null&&s(W,Pe),O=b(Be,O,ze),Me===null?Ee=Be:Me.sibling=Be,Me=Be,Pe=zt}if(ze===B.length)return l(W,Pe),it&&Ps(W,ze),Ee;if(Pe===null){for(;ze<B.length;ze++)Pe=le(W,B[ze],ue),Pe!==null&&(O=b(Pe,O,ze),Me===null?Ee=Pe:Me.sibling=Pe,Me=Pe);return it&&Ps(W,ze),Ee}for(Pe=p(W,Pe);ze<B.length;ze++)zt=ye(Pe,W,ze,B[ze],ue),zt!==null&&(n&&zt.alternate!==null&&Pe.delete(zt.key===null?ze:zt.key),O=b(zt,O,ze),Me===null?Ee=zt:Me.sibling=zt,Me=zt);return n&&Pe.forEach(function(ls){return s(W,ls)}),it&&Ps(W,ze),Ee}function Ce(W,O,B,ue){var Ee=X(B);if(typeof Ee!="function")throw Error(r(150));if(B=Ee.call(B),B==null)throw Error(r(151));for(var Me=Ee=null,Pe=O,ze=O=0,zt=null,Be=B.next();Pe!==null&&!Be.done;ze++,Be=B.next()){Pe.index>ze?(zt=Pe,Pe=null):zt=Pe.sibling;var ls=re(W,Pe,Be.value,ue);if(ls===null){Pe===null&&(Pe=zt);break}n&&Pe&&ls.alternate===null&&s(W,Pe),O=b(ls,O,ze),Me===null?Ee=ls:Me.sibling=ls,Me=ls,Pe=zt}if(Be.done)return l(W,Pe),it&&Ps(W,ze),Ee;if(Pe===null){for(;!Be.done;ze++,Be=B.next())Be=le(W,Be.value,ue),Be!==null&&(O=b(Be,O,ze),Me===null?Ee=Be:Me.sibling=Be,Me=Be);return it&&Ps(W,ze),Ee}for(Pe=p(W,Pe);!Be.done;ze++,Be=B.next())Be=ye(Pe,W,ze,Be.value,ue),Be!==null&&(n&&Be.alternate!==null&&Pe.delete(Be.key===null?ze:Be.key),O=b(Be,O,ze),Me===null?Ee=Be:Me.sibling=Be,Me=Be);return n&&Pe.forEach(function(O_){return s(W,O_)}),it&&Ps(W,ze),Ee}function bt(W,O,B,ue){if(typeof B=="object"&&B!==null&&B.type===A&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case z:e:{for(var Ee=B.key,Me=O;Me!==null;){if(Me.key===Ee){if(Ee=B.type,Ee===A){if(Me.tag===7){l(W,Me.sibling),O=x(Me,B.props.children),O.return=W,W=O;break e}}else if(Me.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===oe&&C0(Ee)===Me.type){l(W,Me.sibling),O=x(Me,B.props),O.ref=Ka(W,Me,B),O.return=W,W=O;break e}l(W,Me);break}else s(W,Me);Me=Me.sibling}B.type===A?(O=Ws(B.props.children,W.mode,ue,B.key),O.return=W,W=O):(ue=Nc(B.type,B.key,B.props,null,W.mode,ue),ue.ref=Ka(W,O,B),ue.return=W,W=ue)}return S(W);case L:e:{for(Me=B.key;O!==null;){if(O.key===Me)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){l(W,O.sibling),O=x(O,B.children||[]),O.return=W,W=O;break e}else{l(W,O);break}else s(W,O);O=O.sibling}O=Hp(B,W.mode,ue),O.return=W,W=O}return S(W);case oe:return Me=B._init,bt(W,O,Me(B._payload),ue)}if(ce(B))return ke(W,O,B,ue);if(X(B))return Ce(W,O,B,ue);Zl(W,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,O!==null&&O.tag===6?(l(W,O.sibling),O=x(O,B),O.return=W,W=O):(l(W,O),O=Bp(B,W.mode,ue),O.return=W,W=O),S(W)):l(W,O)}return bt}var Ao=S0(!0),E0=S0(!1),ec=Qr(null),tc=null,Fo=null,Qu=null;function Ju(){Qu=Fo=tc=null}function Zu(n){var s=ec.current;tt(ec),n._currentValue=s}function ep(n,s,l){for(;n!==null;){var p=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),n===l)break;n=n.return}}function Wo(n,s){tc=n,Qu=Fo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(cn=!0),n.firstContext=null)}function Mn(n){var s=n._currentValue;if(Qu!==n)if(n={context:n,memoizedValue:s,next:null},Fo===null){if(tc===null)throw Error(r(308));Fo=n,tc.dependencies={lanes:0,firstContext:n}}else Fo=Fo.next=n;return s}var $s=null;function tp(n){$s===null?$s=[n]:$s.push(n)}function _0(n,s,l,p){var x=s.interleaved;return x===null?(l.next=l,tp(s)):(l.next=x.next,x.next=l),s.interleaved=l,_r(n,p)}function _r(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var es=!1;function np(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R0(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Rr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ts(n,s,l){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,(We&2)!==0){var x=p.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),p.pending=s,_r(n,l)}return x=p.interleaved,x===null?(s.next=s,tp(p)):(s.next=x.next,x.next=s),p.interleaved=s,_r(n,l)}function nc(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var p=s.lanes;p&=n.pendingLanes,l|=p,s.lanes=l,Yr(n,l)}}function D0(n,s){var l=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var x=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};b===null?x=b=S:b=b.next=S,l=l.next}while(l!==null);b===null?x=b=s:b=b.next=s}else x=b=s;l={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:p.shared,effects:p.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function rc(n,s,l,p){var x=n.updateQueue;es=!1;var b=x.firstBaseUpdate,S=x.lastBaseUpdate,P=x.shared.pending;if(P!==null){x.shared.pending=null;var I=P,U=I.next;I.next=null,S===null?b=U:S.next=U,S=I;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==S&&(P===null?ae.firstBaseUpdate=U:P.next=U,ae.lastBaseUpdate=I))}if(b!==null){var le=x.baseState;S=0,ae=U=I=null,P=b;do{var re=P.lane,ye=P.eventTime;if((p&re)===re){ae!==null&&(ae=ae.next={eventTime:ye,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ke=n,Ce=P;switch(re=s,ye=l,Ce.tag){case 1:if(ke=Ce.payload,typeof ke=="function"){le=ke.call(ye,le,re);break e}le=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ce.payload,re=typeof ke=="function"?ke.call(ye,le,re):ke,re==null)break e;le=K({},le,re);break e;case 2:es=!0}}P.callback!==null&&P.lane!==0&&(n.flags|=64,re=x.effects,re===null?x.effects=[P]:re.push(P))}else ye={eventTime:ye,lane:re,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(U=ae=ye,I=le):ae=ae.next=ye,S|=re;if(P=P.next,P===null){if(P=x.shared.pending,P===null)break;re=P,P=re.next,re.next=null,x.lastBaseUpdate=re,x.shared.pending=null}}while(!0);if(ae===null&&(I=le),x.baseState=I,x.firstBaseUpdate=U,x.lastBaseUpdate=ae,s=x.shared.interleaved,s!==null){x=s;do S|=x.lane,x=x.next;while(x!==s)}else b===null&&(x.shared.lanes=0);Is|=S,n.lanes=S,n.memoizedState=le}}function T0(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var p=n[s],x=p.callback;if(x!==null){if(p.callback=null,p=l,typeof x!="function")throw Error(r(191,x));x.call(p)}}}var Xa={},gr=Qr(Xa),Qa=Qr(Xa),Ja=Qr(Xa);function zs(n){if(n===Xa)throw Error(r(174));return n}function rp(n,s){switch(Xe(Ja,s),Xe(Qa,n),Xe(gr,Xa),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ye(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Ye(s,n)}tt(gr),Xe(gr,s)}function Bo(){tt(gr),tt(Qa),tt(Ja)}function M0(n){zs(Ja.current);var s=zs(gr.current),l=Ye(s,n.type);s!==l&&(Xe(Qa,n),Xe(gr,l))}function sp(n){Qa.current===n&&(tt(gr),tt(Qa))}var dt=Qr(0);function sc(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var op=[];function ap(){for(var n=0;n<op.length;n++)op[n]._workInProgressVersionPrimary=null;op.length=0}var oc=R.ReactCurrentDispatcher,ip=R.ReactCurrentBatchConfig,Ls=0,ut=null,Dt=null,Pt=null,ac=!1,Za=!1,ei=0,a_=0;function Yt(){throw Error(r(321))}function lp(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!qn(n[l],s[l]))return!1;return!0}function cp(n,s,l,p,x,b){if(Ls=b,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,oc.current=n===null||n.memoizedState===null?d_:u_,n=l(p,x),Za){b=0;do{if(Za=!1,ei=0,25<=b)throw Error(r(301));b+=1,Pt=Dt=null,s.updateQueue=null,oc.current=p_,n=l(p,x)}while(Za)}if(oc.current=cc,s=Dt!==null&&Dt.next!==null,Ls=0,Pt=Dt=ut=null,ac=!1,s)throw Error(r(300));return n}function dp(){var n=ei!==0;return ei=0,n}function xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ut.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function Pn(){if(Dt===null){var n=ut.alternate;n=n!==null?n.memoizedState:null}else n=Dt.next;var s=Pt===null?ut.memoizedState:Pt.next;if(s!==null)Pt=s,Dt=n;else{if(n===null)throw Error(r(310));Dt=n,n={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Pt===null?ut.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function ti(n,s){return typeof s=="function"?s(n):s}function up(n){var s=Pn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var p=Dt,x=p.baseQueue,b=l.pending;if(b!==null){if(x!==null){var S=x.next;x.next=b.next,b.next=S}p.baseQueue=x=b,l.pending=null}if(x!==null){b=x.next,p=p.baseState;var P=S=null,I=null,U=b;do{var ae=U.lane;if((Ls&ae)===ae)I!==null&&(I=I.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),p=U.hasEagerState?U.eagerState:n(p,U.action);else{var le={lane:ae,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};I===null?(P=I=le,S=p):I=I.next=le,ut.lanes|=ae,Is|=ae}U=U.next}while(U!==null&&U!==b);I===null?S=p:I.next=P,qn(p,s.memoizedState)||(cn=!0),s.memoizedState=p,s.baseState=S,s.baseQueue=I,l.lastRenderedState=p}if(n=l.interleaved,n!==null){x=n;do b=x.lane,ut.lanes|=b,Is|=b,x=x.next;while(x!==n)}else x===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function pp(n){var s=Pn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var p=l.dispatch,x=l.pending,b=s.memoizedState;if(x!==null){l.pending=null;var S=x=x.next;do b=n(b,S.action),S=S.next;while(S!==x);qn(b,s.memoizedState)||(cn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,p]}function P0(){}function $0(n,s){var l=ut,p=Pn(),x=s(),b=!qn(p.memoizedState,x);if(b&&(p.memoizedState=x,cn=!0),p=p.queue,fp(I0.bind(null,l,p,n),[n]),p.getSnapshot!==s||b||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,ni(9,L0.bind(null,l,p,x,s),void 0,null),$t===null)throw Error(r(349));(Ls&30)!==0||z0(l,s,x)}return x}function z0(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function L0(n,s,l,p){s.value=l,s.getSnapshot=p,O0(s)&&A0(n)}function I0(n,s,l){return l(function(){O0(s)&&A0(n)})}function O0(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!qn(n,l)}catch{return!0}}function A0(n){var s=_r(n,1);s!==null&&Qn(s,n,1,-1)}function F0(n){var s=xr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:n},s.queue=n,n=n.dispatch=c_.bind(null,ut,n),[s.memoizedState,n]}function ni(n,s,l,p){return n={tag:n,create:s,destroy:l,deps:p,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(p=l.next,l.next=n,n.next=p,s.lastEffect=n)),n}function W0(){return Pn().memoizedState}function ic(n,s,l,p){var x=xr();ut.flags|=n,x.memoizedState=ni(1|s,l,void 0,p===void 0?null:p)}function lc(n,s,l,p){var x=Pn();p=p===void 0?null:p;var b=void 0;if(Dt!==null){var S=Dt.memoizedState;if(b=S.destroy,p!==null&&lp(p,S.deps)){x.memoizedState=ni(s,l,b,p);return}}ut.flags|=n,x.memoizedState=ni(1|s,l,b,p)}function B0(n,s){return ic(8390656,8,n,s)}function fp(n,s){return lc(2048,8,n,s)}function H0(n,s){return lc(4,2,n,s)}function V0(n,s){return lc(4,4,n,s)}function U0(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function q0(n,s,l){return l=l!=null?l.concat([n]):null,lc(4,4,U0.bind(null,s,n),l)}function mp(){}function Y0(n,s){var l=Pn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&lp(s,p[1])?p[0]:(l.memoizedState=[n,s],n)}function G0(n,s){var l=Pn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&lp(s,p[1])?p[0]:(n=n(),l.memoizedState=[n,s],n)}function K0(n,s,l){return(Ls&21)===0?(n.baseState&&(n.baseState=!1,cn=!0),n.memoizedState=l):(qn(l,s)||(l=Ur(),ut.lanes|=l,Is|=l,n.baseState=!0),s)}function i_(n,s){var l=Oe;Oe=l!==0&&4>l?l:4,n(!0);var p=ip.transition;ip.transition={};try{n(!1),s()}finally{Oe=l,ip.transition=p}}function X0(){return Pn().memoizedState}function l_(n,s,l){var p=os(n);if(l={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null},Q0(n))J0(s,l);else if(l=_0(n,s,l,p),l!==null){var x=nn();Qn(l,n,p,x),Z0(l,s,p)}}function c_(n,s,l){var p=os(n),x={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null};if(Q0(n))J0(s,x);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var S=s.lastRenderedState,P=b(S,l);if(x.hasEagerState=!0,x.eagerState=P,qn(P,S)){var I=s.interleaved;I===null?(x.next=x,tp(s)):(x.next=I.next,I.next=x),s.interleaved=x;return}}catch{}finally{}l=_0(n,s,x,p),l!==null&&(x=nn(),Qn(l,n,p,x),Z0(l,s,p))}}function Q0(n){var s=n.alternate;return n===ut||s!==null&&s===ut}function J0(n,s){Za=ac=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Z0(n,s,l){if((l&4194240)!==0){var p=s.lanes;p&=n.pendingLanes,l|=p,s.lanes=l,Yr(n,l)}}var cc={readContext:Mn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},d_={readContext:Mn,useCallback:function(n,s){return xr().memoizedState=[n,s===void 0?null:s],n},useContext:Mn,useEffect:B0,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,ic(4194308,4,U0.bind(null,s,n),l)},useLayoutEffect:function(n,s){return ic(4194308,4,n,s)},useInsertionEffect:function(n,s){return ic(4,2,n,s)},useMemo:function(n,s){var l=xr();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var p=xr();return s=l!==void 0?l(s):s,p.memoizedState=p.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},p.queue=n,n=n.dispatch=l_.bind(null,ut,n),[p.memoizedState,n]},useRef:function(n){var s=xr();return n={current:n},s.memoizedState=n},useState:F0,useDebugValue:mp,useDeferredValue:function(n){return xr().memoizedState=n},useTransition:function(){var n=F0(!1),s=n[0];return n=i_.bind(null,n[1]),xr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var p=ut,x=xr();if(it){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),$t===null)throw Error(r(349));(Ls&30)!==0||z0(p,s,l)}x.memoizedState=l;var b={value:l,getSnapshot:s};return x.queue=b,B0(I0.bind(null,p,b,n),[n]),p.flags|=2048,ni(9,L0.bind(null,p,b,l,s),void 0,null),l},useId:function(){var n=xr(),s=$t.identifierPrefix;if(it){var l=Er,p=Sr;l=(p&~(1<<32-Ut(p)-1)).toString(32)+l,s=":"+s+"R"+l,l=ei++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=a_++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},u_={readContext:Mn,useCallback:Y0,useContext:Mn,useEffect:fp,useImperativeHandle:q0,useInsertionEffect:H0,useLayoutEffect:V0,useMemo:G0,useReducer:up,useRef:W0,useState:function(){return up(ti)},useDebugValue:mp,useDeferredValue:function(n){var s=Pn();return K0(s,Dt.memoizedState,n)},useTransition:function(){var n=up(ti)[0],s=Pn().memoizedState;return[n,s]},useMutableSource:P0,useSyncExternalStore:$0,useId:X0,unstable_isNewReconciler:!1},p_={readContext:Mn,useCallback:Y0,useContext:Mn,useEffect:fp,useImperativeHandle:q0,useInsertionEffect:H0,useLayoutEffect:V0,useMemo:G0,useReducer:pp,useRef:W0,useState:function(){return pp(ti)},useDebugValue:mp,useDeferredValue:function(n){var s=Pn();return Dt===null?s.memoizedState=n:K0(s,Dt.memoizedState,n)},useTransition:function(){var n=pp(ti)[0],s=Pn().memoizedState;return[n,s]},useMutableSource:P0,useSyncExternalStore:$0,useId:X0,unstable_isNewReconciler:!1};function Gn(n,s){if(n&&n.defaultProps){s=K({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function hp(n,s,l,p){s=n.memoizedState,l=l(p,s),l=l==null?s:K({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var dc={isMounted:function(n){return(n=n._reactInternals)?dr(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var p=nn(),x=os(n),b=Rr(p,x);b.payload=s,l!=null&&(b.callback=l),s=ts(n,b,x),s!==null&&(Qn(s,n,x,p),nc(s,n,x))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var p=nn(),x=os(n),b=Rr(p,x);b.tag=1,b.payload=s,l!=null&&(b.callback=l),s=ts(n,b,x),s!==null&&(Qn(s,n,x,p),nc(s,n,x))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=nn(),p=os(n),x=Rr(l,p);x.tag=2,s!=null&&(x.callback=s),s=ts(n,x,p),s!==null&&(Qn(s,n,p,l),nc(s,n,p))}};function ey(n,s,l,p,x,b,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,b,S):s.prototype&&s.prototype.isPureReactComponent?!Ba(l,p)||!Ba(x,b):!0}function ty(n,s,l){var p=!1,x=Jr,b=s.contextType;return typeof b=="object"&&b!==null?b=Mn(b):(x=ln(s)?Ts:qt.current,p=s.contextTypes,b=(p=p!=null)?zo(n,x):Jr),s=new s(l,b),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=dc,n.stateNode=s,s._reactInternals=n,p&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=x,n.__reactInternalMemoizedMaskedChildContext=b),s}function ny(n,s,l,p){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,p),s.state!==n&&dc.enqueueReplaceState(s,s.state,null)}function gp(n,s,l,p){var x=n.stateNode;x.props=l,x.state=n.memoizedState,x.refs={},np(n);var b=s.contextType;typeof b=="object"&&b!==null?x.context=Mn(b):(b=ln(s)?Ts:qt.current,x.context=zo(n,b)),x.state=n.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(hp(n,s,b,l),x.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&dc.enqueueReplaceState(x,x.state,null),rc(n,l,x,p),x.state=n.memoizedState),typeof x.componentDidMount=="function"&&(n.flags|=4194308)}function Ho(n,s){try{var l="",p=s;do l+=J(p),p=p.return;while(p);var x=l}catch(b){x=`
Error generating stack: `+b.message+`
`+b.stack}return{value:n,source:s,stack:x,digest:null}}function xp(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function yp(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var f_=typeof WeakMap=="function"?WeakMap:Map;function ry(n,s,l){l=Rr(-1,l),l.tag=3,l.payload={element:null};var p=s.value;return l.callback=function(){xc||(xc=!0,$p=p),yp(n,s)},l}function sy(n,s,l){l=Rr(-1,l),l.tag=3;var p=n.type.getDerivedStateFromError;if(typeof p=="function"){var x=s.value;l.payload=function(){return p(x)},l.callback=function(){yp(n,s)}}var b=n.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(l.callback=function(){yp(n,s),typeof p!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),l}function oy(n,s,l){var p=n.pingCache;if(p===null){p=n.pingCache=new f_;var x=new Set;p.set(s,x)}else x=p.get(s),x===void 0&&(x=new Set,p.set(s,x));x.has(l)||(x.add(l),n=E_.bind(null,n,s,l),s.then(n,n))}function ay(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function iy(n,s,l,p,x){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Rr(-1,1),s.tag=2,ts(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=x,n)}var m_=R.ReactCurrentOwner,cn=!1;function tn(n,s,l,p){s.child=n===null?E0(s,null,l,p):Ao(s,n.child,l,p)}function ly(n,s,l,p,x){l=l.render;var b=s.ref;return Wo(s,x),p=cp(n,s,l,p,b,x),l=dp(),n!==null&&!cn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~x,Dr(n,s,x)):(it&&l&&qu(s),s.flags|=1,tn(n,s,p,x),s.child)}function cy(n,s,l,p,x){if(n===null){var b=l.type;return typeof b=="function"&&!Wp(b)&&b.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=b,dy(n,s,b,p,x)):(n=Nc(l.type,null,p,s,s.mode,x),n.ref=s.ref,n.return=s,s.child=n)}if(b=n.child,(n.lanes&x)===0){var S=b.memoizedProps;if(l=l.compare,l=l!==null?l:Ba,l(S,p)&&n.ref===s.ref)return Dr(n,s,x)}return s.flags|=1,n=is(b,p),n.ref=s.ref,n.return=s,s.child=n}function dy(n,s,l,p,x){if(n!==null){var b=n.memoizedProps;if(Ba(b,p)&&n.ref===s.ref)if(cn=!1,s.pendingProps=p=b,(n.lanes&x)!==0)(n.flags&131072)!==0&&(cn=!0);else return s.lanes=n.lanes,Dr(n,s,x)}return vp(n,s,l,p,x)}function uy(n,s,l){var p=s.pendingProps,x=p.children,b=n!==null?n.memoizedState:null;if(p.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Uo,wn),wn|=l;else{if((l&1073741824)===0)return n=b!==null?b.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Xe(Uo,wn),wn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:l,Xe(Uo,wn),wn|=p}else b!==null?(p=b.baseLanes|l,s.memoizedState=null):p=l,Xe(Uo,wn),wn|=p;return tn(n,s,x,l),s.child}function py(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function vp(n,s,l,p,x){var b=ln(l)?Ts:qt.current;return b=zo(s,b),Wo(s,x),l=cp(n,s,l,p,b,x),p=dp(),n!==null&&!cn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~x,Dr(n,s,x)):(it&&p&&qu(s),s.flags|=1,tn(n,s,l,x),s.child)}function fy(n,s,l,p,x){if(ln(l)){var b=!0;Gl(s)}else b=!1;if(Wo(s,x),s.stateNode===null)pc(n,s),ty(s,l,p),gp(s,l,p,x),p=!0;else if(n===null){var S=s.stateNode,P=s.memoizedProps;S.props=P;var I=S.context,U=l.contextType;typeof U=="object"&&U!==null?U=Mn(U):(U=ln(l)?Ts:qt.current,U=zo(s,U));var ae=l.getDerivedStateFromProps,le=typeof ae=="function"||typeof S.getSnapshotBeforeUpdate=="function";le||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P!==p||I!==U)&&ny(s,S,p,U),es=!1;var re=s.memoizedState;S.state=re,rc(s,p,S,x),I=s.memoizedState,P!==p||re!==I||an.current||es?(typeof ae=="function"&&(hp(s,l,ae,p),I=s.memoizedState),(P=es||ey(s,l,P,p,re,I,U))?(le||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=I),S.props=p,S.state=I,S.context=U,p=P):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{S=s.stateNode,R0(n,s),P=s.memoizedProps,U=s.type===s.elementType?P:Gn(s.type,P),S.props=U,le=s.pendingProps,re=S.context,I=l.contextType,typeof I=="object"&&I!==null?I=Mn(I):(I=ln(l)?Ts:qt.current,I=zo(s,I));var ye=l.getDerivedStateFromProps;(ae=typeof ye=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P!==le||re!==I)&&ny(s,S,p,I),es=!1,re=s.memoizedState,S.state=re,rc(s,p,S,x);var ke=s.memoizedState;P!==le||re!==ke||an.current||es?(typeof ye=="function"&&(hp(s,l,ye,p),ke=s.memoizedState),(U=es||ey(s,l,U,p,re,ke,I)||!1)?(ae||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ke,I),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ke,I)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||P===n.memoizedProps&&re===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&re===n.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=ke),S.props=p,S.state=ke,S.context=I,p=U):(typeof S.componentDidUpdate!="function"||P===n.memoizedProps&&re===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&re===n.memoizedState||(s.flags|=1024),p=!1)}return bp(n,s,l,p,b,x)}function bp(n,s,l,p,x,b){py(n,s);var S=(s.flags&128)!==0;if(!p&&!S)return x&&y0(s,l,!1),Dr(n,s,b);p=s.stateNode,m_.current=s;var P=S&&typeof l.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,n!==null&&S?(s.child=Ao(s,n.child,null,b),s.child=Ao(s,null,P,b)):tn(n,s,P,b),s.memoizedState=p.state,x&&y0(s,l,!0),s.child}function my(n){var s=n.stateNode;s.pendingContext?g0(n,s.pendingContext,s.pendingContext!==s.context):s.context&&g0(n,s.context,!1),rp(n,s.containerInfo)}function hy(n,s,l,p,x){return Oo(),Xu(x),s.flags|=256,tn(n,s,l,p),s.child}var jp={dehydrated:null,treeContext:null,retryLane:0};function Np(n){return{baseLanes:n,cachePool:null,transitions:null}}function gy(n,s,l){var p=s.pendingProps,x=dt.current,b=!1,S=(s.flags&128)!==0,P;if((P=S)||(P=n!==null&&n.memoizedState===null?!1:(x&2)!==0),P?(b=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(x|=1),Xe(dt,x&1),n===null)return Ku(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(S=p.children,n=p.fallback,b?(p=s.mode,b=s.child,S={mode:"hidden",children:S},(p&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=S):b=kc(S,p,0,null),n=Ws(n,p,l,null),b.return=s,n.return=s,b.sibling=n,s.child=b,s.child.memoizedState=Np(l),s.memoizedState=jp,n):kp(s,S));if(x=n.memoizedState,x!==null&&(P=x.dehydrated,P!==null))return h_(n,s,S,p,P,x,l);if(b){b=p.fallback,S=s.mode,x=n.child,P=x.sibling;var I={mode:"hidden",children:p.children};return(S&1)===0&&s.child!==x?(p=s.child,p.childLanes=0,p.pendingProps=I,s.deletions=null):(p=is(x,I),p.subtreeFlags=x.subtreeFlags&14680064),P!==null?b=is(P,b):(b=Ws(b,S,l,null),b.flags|=2),b.return=s,p.return=s,p.sibling=b,s.child=p,p=b,b=s.child,S=n.child.memoizedState,S=S===null?Np(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},b.memoizedState=S,b.childLanes=n.childLanes&~l,s.memoizedState=jp,p}return b=n.child,n=b.sibling,p=is(b,{mode:"visible",children:p.children}),(s.mode&1)===0&&(p.lanes=l),p.return=s,p.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=p,s.memoizedState=null,p}function kp(n,s){return s=kc({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function uc(n,s,l,p){return p!==null&&Xu(p),Ao(s,n.child,null,l),n=kp(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function h_(n,s,l,p,x,b,S){if(l)return s.flags&256?(s.flags&=-257,p=xp(Error(r(422))),uc(n,s,S,p)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(b=p.fallback,x=s.mode,p=kc({mode:"visible",children:p.children},x,0,null),b=Ws(b,x,S,null),b.flags|=2,p.return=s,b.return=s,p.sibling=b,s.child=p,(s.mode&1)!==0&&Ao(s,n.child,null,S),s.child.memoizedState=Np(S),s.memoizedState=jp,b);if((s.mode&1)===0)return uc(n,s,S,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var P=p.dgst;return p=P,b=Error(r(419)),p=xp(b,p,void 0),uc(n,s,S,p)}if(P=(S&n.childLanes)!==0,cn||P){if(p=$t,p!==null){switch(S&-S){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(p.suspendedLanes|S))!==0?0:x,x!==0&&x!==b.retryLane&&(b.retryLane=x,_r(n,x),Qn(p,n,x,-1))}return Fp(),p=xp(Error(r(421))),uc(n,s,S,p)}return x.data==="$?"?(s.flags|=128,s.child=n.child,s=__.bind(null,n),x._reactRetry=s,null):(n=b.treeContext,bn=Xr(x.nextSibling),vn=s,it=!0,Yn=null,n!==null&&(Dn[Tn++]=Sr,Dn[Tn++]=Er,Dn[Tn++]=Ms,Sr=n.id,Er=n.overflow,Ms=s),s=kp(s,p.children),s.flags|=4096,s)}function xy(n,s,l){n.lanes|=s;var p=n.alternate;p!==null&&(p.lanes|=s),ep(n.return,s,l)}function Cp(n,s,l,p,x){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:x}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=l,b.tailMode=x)}function yy(n,s,l){var p=s.pendingProps,x=p.revealOrder,b=p.tail;if(tn(n,s,p.children,l),p=dt.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&xy(n,l,s);else if(n.tag===19)xy(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}p&=1}if(Xe(dt,p),(s.mode&1)===0)s.memoizedState=null;else switch(x){case"forwards":for(l=s.child,x=null;l!==null;)n=l.alternate,n!==null&&sc(n)===null&&(x=l),l=l.sibling;l=x,l===null?(x=s.child,s.child=null):(x=l.sibling,l.sibling=null),Cp(s,!1,x,l,b);break;case"backwards":for(l=null,x=s.child,s.child=null;x!==null;){if(n=x.alternate,n!==null&&sc(n)===null){s.child=x;break}n=x.sibling,x.sibling=l,l=x,x=n}Cp(s,!0,l,null,b);break;case"together":Cp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function pc(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Dr(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Is|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=is(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=is(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function g_(n,s,l){switch(s.tag){case 3:my(s),Oo();break;case 5:M0(s);break;case 1:ln(s.type)&&Gl(s);break;case 4:rp(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,x=s.memoizedProps.value;Xe(ec,p._currentValue),p._currentValue=x;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(Xe(dt,dt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?gy(n,s,l):(Xe(dt,dt.current&1),n=Dr(n,s,l),n!==null?n.sibling:null);Xe(dt,dt.current&1);break;case 19:if(p=(l&s.childLanes)!==0,(n.flags&128)!==0){if(p)return yy(n,s,l);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Xe(dt,dt.current),p)break;return null;case 22:case 23:return s.lanes=0,uy(n,s,l)}return Dr(n,s,l)}var vy,Sp,by,wy;vy=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Sp=function(){},by=function(n,s,l,p){var x=n.memoizedProps;if(x!==p){n=s.stateNode,zs(gr.current);var b=null;switch(l){case"input":x=Ve(n,x),p=Ve(n,p),b=[];break;case"select":x=K({},x,{value:void 0}),p=K({},p,{value:void 0}),b=[];break;case"textarea":x=$e(n,x),p=$e(n,p),b=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(n.onclick=Ul)}Wr(l,p);var S;l=null;for(U in x)if(!p.hasOwnProperty(U)&&x.hasOwnProperty(U)&&x[U]!=null)if(U==="style"){var P=x[U];for(S in P)P.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?b||(b=[]):(b=b||[]).push(U,null));for(U in p){var I=p[U];if(P=x?.[U],p.hasOwnProperty(U)&&I!==P&&(I!=null||P!=null))if(U==="style")if(P){for(S in P)!P.hasOwnProperty(S)||I&&I.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in I)I.hasOwnProperty(S)&&P[S]!==I[S]&&(l||(l={}),l[S]=I[S])}else l||(b||(b=[]),b.push(U,l)),l=I;else U==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,P=P?P.__html:void 0,I!=null&&P!==I&&(b=b||[]).push(U,I)):U==="children"?typeof I!="string"&&typeof I!="number"||(b=b||[]).push(U,""+I):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(i.hasOwnProperty(U)?(I!=null&&U==="onScroll"&&et("scroll",n),b||P===I||(b=[])):(b=b||[]).push(U,I))}l&&(b=b||[]).push("style",l);var U=b;(s.updateQueue=U)&&(s.flags|=4)}},wy=function(n,s,l,p){l!==p&&(s.flags|=4)};function ri(n,s){if(!it)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function Gt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,p=0;if(s)for(var x=n.child;x!==null;)l|=x.lanes|x.childLanes,p|=x.subtreeFlags&14680064,p|=x.flags&14680064,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)l|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=p,n.childLanes=l,s}function x_(n,s,l){var p=s.pendingProps;switch(Yu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return ln(s.type)&&Yl(),Gt(s),null;case 3:return p=s.stateNode,Bo(),tt(an),tt(qt),ap(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(n===null||n.child===null)&&(Jl(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yn!==null&&(Ip(Yn),Yn=null))),Sp(n,s),Gt(s),null;case 5:sp(s);var x=zs(Ja.current);if(l=s.type,n!==null&&s.stateNode!=null)by(n,s,l,p,x),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(r(166));return Gt(s),null}if(n=zs(gr.current),Jl(s)){p=s.stateNode,l=s.type;var b=s.memoizedProps;switch(p[hr]=s,p[Ya]=b,n=(s.mode&1)!==0,l){case"dialog":et("cancel",p),et("close",p);break;case"iframe":case"object":case"embed":et("load",p);break;case"video":case"audio":for(x=0;x<Va.length;x++)et(Va[x],p);break;case"source":et("error",p);break;case"img":case"image":case"link":et("error",p),et("load",p);break;case"details":et("toggle",p);break;case"input":xt(p,b),et("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},et("invalid",p);break;case"textarea":Ue(p,b),et("invalid",p)}Wr(l,b),x=null;for(var S in b)if(b.hasOwnProperty(S)){var P=b[S];S==="children"?typeof P=="string"?p.textContent!==P&&(b.suppressHydrationWarning!==!0&&Vl(p.textContent,P,n),x=["children",P]):typeof P=="number"&&p.textContent!==""+P&&(b.suppressHydrationWarning!==!0&&Vl(p.textContent,P,n),x=["children",""+P]):i.hasOwnProperty(S)&&P!=null&&S==="onScroll"&&et("scroll",p)}switch(l){case"input":Qe(p),Qt(p,b,!0);break;case"textarea":Qe(p),fe(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=Ul)}p=x,s.updateQueue=p,p!==null&&(s.flags|=4)}else{S=x.nodeType===9?x:x.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=lt(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=S.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof p.is=="string"?n=S.createElement(l,{is:p.is}):(n=S.createElement(l),l==="select"&&(S=n,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):n=S.createElementNS(n,l),n[hr]=s,n[Ya]=p,vy(n,s,!1,!1),s.stateNode=n;e:{switch(S=lr(l,p),l){case"dialog":et("cancel",n),et("close",n),x=p;break;case"iframe":case"object":case"embed":et("load",n),x=p;break;case"video":case"audio":for(x=0;x<Va.length;x++)et(Va[x],n);x=p;break;case"source":et("error",n),x=p;break;case"img":case"image":case"link":et("error",n),et("load",n),x=p;break;case"details":et("toggle",n),x=p;break;case"input":xt(n,p),x=Ve(n,p),et("invalid",n);break;case"option":x=p;break;case"select":n._wrapperState={wasMultiple:!!p.multiple},x=K({},p,{value:void 0}),et("invalid",n);break;case"textarea":Ue(n,p),x=$e(n,p),et("invalid",n);break;default:x=p}Wr(l,x),P=x;for(b in P)if(P.hasOwnProperty(b)){var I=P[b];b==="style"?Sa(n,I):b==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&gn(n,I)):b==="children"?typeof I=="string"?(l!=="textarea"||I!=="")&&Jt(n,I):typeof I=="number"&&Jt(n,""+I):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?I!=null&&b==="onScroll"&&et("scroll",n):I!=null&&v(n,b,I,S))}switch(l){case"input":Qe(n),Qt(n,p,!1);break;case"textarea":Qe(n),fe(n);break;case"option":p.value!=null&&n.setAttribute("value",""+ge(p.value));break;case"select":n.multiple=!!p.multiple,b=p.value,b!=null?me(n,!!p.multiple,b,!1):p.defaultValue!=null&&me(n,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(n.onclick=Ul)}switch(l){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Gt(s),null;case 6:if(n&&s.stateNode!=null)wy(n,s,n.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(l=zs(Ja.current),zs(gr.current),Jl(s)){if(p=s.stateNode,l=s.memoizedProps,p[hr]=s,(b=p.nodeValue!==l)&&(n=vn,n!==null))switch(n.tag){case 3:Vl(p.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Vl(p.nodeValue,l,(n.mode&1)!==0)}b&&(s.flags|=4)}else p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[hr]=s,s.stateNode=p}return Gt(s),null;case 13:if(tt(dt),p=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(it&&bn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)k0(),Oo(),s.flags|=98560,b=!1;else if(b=Jl(s),p!==null&&p.dehydrated!==null){if(n===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[hr]=s}else Oo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),b=!1}else Yn!==null&&(Ip(Yn),Yn=null),b=!0;if(!b)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(p=p!==null,p!==(n!==null&&n.memoizedState!==null)&&p&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(dt.current&1)!==0?Tt===0&&(Tt=3):Fp())),s.updateQueue!==null&&(s.flags|=4),Gt(s),null);case 4:return Bo(),Sp(n,s),n===null&&Ua(s.stateNode.containerInfo),Gt(s),null;case 10:return Zu(s.type._context),Gt(s),null;case 17:return ln(s.type)&&Yl(),Gt(s),null;case 19:if(tt(dt),b=s.memoizedState,b===null)return Gt(s),null;if(p=(s.flags&128)!==0,S=b.rendering,S===null)if(p)ri(b,!1);else{if(Tt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(S=sc(n),S!==null){for(s.flags|=128,ri(b,!1),p=S.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=l,l=s.child;l!==null;)b=l,n=p,b.flags&=14680066,S=b.alternate,S===null?(b.childLanes=0,b.lanes=n,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=S.childLanes,b.lanes=S.lanes,b.child=S.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=S.memoizedProps,b.memoizedState=S.memoizedState,b.updateQueue=S.updateQueue,b.type=S.type,n=S.dependencies,b.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Xe(dt,dt.current&1|2),s.child}n=n.sibling}b.tail!==null&&ct()>qo&&(s.flags|=128,p=!0,ri(b,!1),s.lanes=4194304)}else{if(!p)if(n=sc(S),n!==null){if(s.flags|=128,p=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ri(b,!0),b.tail===null&&b.tailMode==="hidden"&&!S.alternate&&!it)return Gt(s),null}else 2*ct()-b.renderingStartTime>qo&&l!==1073741824&&(s.flags|=128,p=!0,ri(b,!1),s.lanes=4194304);b.isBackwards?(S.sibling=s.child,s.child=S):(l=b.last,l!==null?l.sibling=S:s.child=S,b.last=S)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=ct(),s.sibling=null,l=dt.current,Xe(dt,p?l&1|2:l&1),s):(Gt(s),null);case 22:case 23:return Ap(),p=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==p&&(s.flags|=8192),p&&(s.mode&1)!==0?(wn&1073741824)!==0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function y_(n,s){switch(Yu(s),s.tag){case 1:return ln(s.type)&&Yl(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Bo(),tt(an),tt(qt),ap(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return sp(s),null;case 13:if(tt(dt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Oo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return tt(dt),null;case 4:return Bo(),null;case 10:return Zu(s.type._context),null;case 22:case 23:return Ap(),null;case 24:return null;default:return null}}var fc=!1,Kt=!1,v_=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Vo(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(p){ht(n,s,p)}else l.current=null}function Ep(n,s,l){try{l()}catch(p){ht(n,s,p)}}var jy=!1;function b_(n,s){if(Ou=Pl,n=e0(),Du(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var x=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var S=0,P=-1,I=-1,U=0,ae=0,le=n,re=null;t:for(;;){for(var ye;le!==l||x!==0&&le.nodeType!==3||(P=S+x),le!==b||p!==0&&le.nodeType!==3||(I=S+p),le.nodeType===3&&(S+=le.nodeValue.length),(ye=le.firstChild)!==null;)re=le,le=ye;for(;;){if(le===n)break t;if(re===l&&++U===x&&(P=S),re===b&&++ae===p&&(I=S),(ye=le.nextSibling)!==null)break;le=re,re=le.parentNode}le=ye}l=P===-1||I===-1?null:{start:P,end:I}}else l=null}l=l||{start:0,end:0}}else l=null;for(Au={focusedElem:n,selectionRange:l},Pl=!1,ve=s;ve!==null;)if(s=ve,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ve=n;else for(;ve!==null;){s=ve;try{var ke=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Ce=ke.memoizedProps,bt=ke.memoizedState,W=s.stateNode,O=W.getSnapshotBeforeUpdate(s.elementType===s.type?Ce:Gn(s.type,Ce),bt);W.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ue){ht(s,s.return,ue)}if(n=s.sibling,n!==null){n.return=s.return,ve=n;break}ve=s.return}return ke=jy,jy=!1,ke}function si(n,s,l){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&n)===n){var b=x.destroy;x.destroy=void 0,b!==void 0&&Ep(s,l,b)}x=x.next}while(x!==p)}}function mc(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var p=l.create;l.destroy=p()}l=l.next}while(l!==s)}}function _p(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function Ny(n){var s=n.alternate;s!==null&&(n.alternate=null,Ny(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[hr],delete s[Ya],delete s[Hu],delete s[n_],delete s[r_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ky(n){return n.tag===5||n.tag===3||n.tag===4}function Cy(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ky(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rp(n,s,l){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ul));else if(p!==4&&(n=n.child,n!==null))for(Rp(n,s,l),n=n.sibling;n!==null;)Rp(n,s,l),n=n.sibling}function Dp(n,s,l){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(p!==4&&(n=n.child,n!==null))for(Dp(n,s,l),n=n.sibling;n!==null;)Dp(n,s,l),n=n.sibling}var Wt=null,Kn=!1;function ns(n,s,l){for(l=l.child;l!==null;)Sy(n,s,l),l=l.sibling}function Sy(n,s,l){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(jo,l)}catch{}switch(l.tag){case 5:Kt||Vo(l,s);case 6:var p=Wt,x=Kn;Wt=null,ns(n,s,l),Wt=p,Kn=x,Wt!==null&&(Kn?(n=Wt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):Wt.removeChild(l.stateNode));break;case 18:Wt!==null&&(Kn?(n=Wt,l=l.stateNode,n.nodeType===8?Bu(n.parentNode,l):n.nodeType===1&&Bu(n,l),La(n)):Bu(Wt,l.stateNode));break;case 4:p=Wt,x=Kn,Wt=l.stateNode.containerInfo,Kn=!0,ns(n,s,l),Wt=p,Kn=x;break;case 0:case 11:case 14:case 15:if(!Kt&&(p=l.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var b=x,S=b.destroy;b=b.tag,S!==void 0&&((b&2)!==0||(b&4)!==0)&&Ep(l,s,S),x=x.next}while(x!==p)}ns(n,s,l);break;case 1:if(!Kt&&(Vo(l,s),p=l.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=l.memoizedProps,p.state=l.memoizedState,p.componentWillUnmount()}catch(P){ht(l,s,P)}ns(n,s,l);break;case 21:ns(n,s,l);break;case 22:l.mode&1?(Kt=(p=Kt)||l.memoizedState!==null,ns(n,s,l),Kt=p):ns(n,s,l);break;default:ns(n,s,l)}}function Ey(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new v_),s.forEach(function(p){var x=R_.bind(null,n,p);l.has(p)||(l.add(p),p.then(x,x))})}}function Xn(n,s){var l=s.deletions;if(l!==null)for(var p=0;p<l.length;p++){var x=l[p];try{var b=n,S=s,P=S;e:for(;P!==null;){switch(P.tag){case 5:Wt=P.stateNode,Kn=!1;break e;case 3:Wt=P.stateNode.containerInfo,Kn=!0;break e;case 4:Wt=P.stateNode.containerInfo,Kn=!0;break e}P=P.return}if(Wt===null)throw Error(r(160));Sy(b,S,x),Wt=null,Kn=!1;var I=x.alternate;I!==null&&(I.return=null),x.return=null}catch(U){ht(x,s,U)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)_y(s,n),s=s.sibling}function _y(n,s){var l=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Xn(s,n),yr(n),p&4){try{si(3,n,n.return),mc(3,n)}catch(Ce){ht(n,n.return,Ce)}try{si(5,n,n.return)}catch(Ce){ht(n,n.return,Ce)}}break;case 1:Xn(s,n),yr(n),p&512&&l!==null&&Vo(l,l.return);break;case 5:if(Xn(s,n),yr(n),p&512&&l!==null&&Vo(l,l.return),n.flags&32){var x=n.stateNode;try{Jt(x,"")}catch(Ce){ht(n,n.return,Ce)}}if(p&4&&(x=n.stateNode,x!=null)){var b=n.memoizedProps,S=l!==null?l.memoizedProps:b,P=n.type,I=n.updateQueue;if(n.updateQueue=null,I!==null)try{P==="input"&&b.type==="radio"&&b.name!=null&&At(x,b),lr(P,S);var U=lr(P,b);for(S=0;S<I.length;S+=2){var ae=I[S],le=I[S+1];ae==="style"?Sa(x,le):ae==="dangerouslySetInnerHTML"?gn(x,le):ae==="children"?Jt(x,le):v(x,ae,le,U)}switch(P){case"input":Ht(x,b);break;case"textarea":Fe(x,b);break;case"select":var re=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!b.multiple;var ye=b.value;ye!=null?me(x,!!b.multiple,ye,!1):re!==!!b.multiple&&(b.defaultValue!=null?me(x,!!b.multiple,b.defaultValue,!0):me(x,!!b.multiple,b.multiple?[]:"",!1))}x[Ya]=b}catch(Ce){ht(n,n.return,Ce)}}break;case 6:if(Xn(s,n),yr(n),p&4){if(n.stateNode===null)throw Error(r(162));x=n.stateNode,b=n.memoizedProps;try{x.nodeValue=b}catch(Ce){ht(n,n.return,Ce)}}break;case 3:if(Xn(s,n),yr(n),p&4&&l!==null&&l.memoizedState.isDehydrated)try{La(s.containerInfo)}catch(Ce){ht(n,n.return,Ce)}break;case 4:Xn(s,n),yr(n);break;case 13:Xn(s,n),yr(n),x=n.child,x.flags&8192&&(b=x.memoizedState!==null,x.stateNode.isHidden=b,!b||x.alternate!==null&&x.alternate.memoizedState!==null||(Pp=ct())),p&4&&Ey(n);break;case 22:if(ae=l!==null&&l.memoizedState!==null,n.mode&1?(Kt=(U=Kt)||ae,Xn(s,n),Kt=U):Xn(s,n),yr(n),p&8192){if(U=n.memoizedState!==null,(n.stateNode.isHidden=U)&&!ae&&(n.mode&1)!==0)for(ve=n,ae=n.child;ae!==null;){for(le=ve=ae;ve!==null;){switch(re=ve,ye=re.child,re.tag){case 0:case 11:case 14:case 15:si(4,re,re.return);break;case 1:Vo(re,re.return);var ke=re.stateNode;if(typeof ke.componentWillUnmount=="function"){p=re,l=re.return;try{s=p,ke.props=s.memoizedProps,ke.state=s.memoizedState,ke.componentWillUnmount()}catch(Ce){ht(p,l,Ce)}}break;case 5:Vo(re,re.return);break;case 22:if(re.memoizedState!==null){Ty(le);continue}}ye!==null?(ye.return=re,ve=ye):Ty(le)}ae=ae.sibling}e:for(ae=null,le=n;;){if(le.tag===5){if(ae===null){ae=le;try{x=le.stateNode,U?(b=x.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(P=le.stateNode,I=le.memoizedProps.style,S=I!=null&&I.hasOwnProperty("display")?I.display:null,P.style.display=Ca("display",S))}catch(Ce){ht(n,n.return,Ce)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=U?"":le.memoizedProps}catch(Ce){ht(n,n.return,Ce)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===n)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===n)break e;for(;le.sibling===null;){if(le.return===null||le.return===n)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Xn(s,n),yr(n),p&4&&Ey(n);break;case 21:break;default:Xn(s,n),yr(n)}}function yr(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(ky(l)){var p=l;break e}l=l.return}throw Error(r(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(Jt(x,""),p.flags&=-33);var b=Cy(n);Dp(n,b,x);break;case 3:case 4:var S=p.stateNode.containerInfo,P=Cy(n);Rp(n,P,S);break;default:throw Error(r(161))}}catch(I){ht(n,n.return,I)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function w_(n,s,l){ve=n,Ry(n)}function Ry(n,s,l){for(var p=(n.mode&1)!==0;ve!==null;){var x=ve,b=x.child;if(x.tag===22&&p){var S=x.memoizedState!==null||fc;if(!S){var P=x.alternate,I=P!==null&&P.memoizedState!==null||Kt;P=fc;var U=Kt;if(fc=S,(Kt=I)&&!U)for(ve=x;ve!==null;)S=ve,I=S.child,S.tag===22&&S.memoizedState!==null?My(x):I!==null?(I.return=S,ve=I):My(x);for(;b!==null;)ve=b,Ry(b),b=b.sibling;ve=x,fc=P,Kt=U}Dy(n)}else(x.subtreeFlags&8772)!==0&&b!==null?(b.return=x,ve=b):Dy(n)}}function Dy(n){for(;ve!==null;){var s=ve;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Kt||mc(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!Kt)if(l===null)p.componentDidMount();else{var x=s.elementType===s.type?l.memoizedProps:Gn(s.type,l.memoizedProps);p.componentDidUpdate(x,l.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=s.updateQueue;b!==null&&T0(s,b,p);break;case 3:var S=s.updateQueue;if(S!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}T0(s,S,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var I=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&l.focus();break;case"img":I.src&&(l.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var U=s.alternate;if(U!==null){var ae=U.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&La(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kt||s.flags&512&&_p(s)}catch(re){ht(s,s.return,re)}}if(s===n){ve=null;break}if(l=s.sibling,l!==null){l.return=s.return,ve=l;break}ve=s.return}}function Ty(n){for(;ve!==null;){var s=ve;if(s===n){ve=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ve=l;break}ve=s.return}}function My(n){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{mc(4,s)}catch(I){ht(s,l,I)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var x=s.return;try{p.componentDidMount()}catch(I){ht(s,x,I)}}var b=s.return;try{_p(s)}catch(I){ht(s,b,I)}break;case 5:var S=s.return;try{_p(s)}catch(I){ht(s,S,I)}}}catch(I){ht(s,s.return,I)}if(s===n){ve=null;break}var P=s.sibling;if(P!==null){P.return=s.return,ve=P;break}ve=s.return}}var j_=Math.ceil,hc=R.ReactCurrentDispatcher,Tp=R.ReactCurrentOwner,$n=R.ReactCurrentBatchConfig,We=0,$t=null,kt=null,Bt=0,wn=0,Uo=Qr(0),Tt=0,oi=null,Is=0,gc=0,Mp=0,ai=null,dn=null,Pp=0,qo=1/0,Tr=null,xc=!1,$p=null,rs=null,yc=!1,ss=null,vc=0,ii=0,zp=null,bc=-1,wc=0;function nn(){return(We&6)!==0?ct():bc!==-1?bc:bc=ct()}function os(n){return(n.mode&1)===0?1:(We&2)!==0&&Bt!==0?Bt&-Bt:o_.transition!==null?(wc===0&&(wc=Ur()),wc):(n=Oe,n!==0||(n=window.event,n=n===void 0?16:$x(n.type)),n)}function Qn(n,s,l,p){if(50<ii)throw ii=0,zp=null,Error(r(185));pr(n,l,p),((We&2)===0||n!==$t)&&(n===$t&&((We&2)===0&&(gc|=l),Tt===4&&as(n,Bt)),un(n,p),l===1&&We===0&&(s.mode&1)===0&&(qo=ct()+500,Kl&&Zr()))}function un(n,s){var l=n.callbackNode;Tl(n,s);var p=Ss(n,n===$t?Bt:0);if(p===0)l!==null&&xn(l),n.callbackNode=null,n.callbackPriority=0;else if(s=p&-p,n.callbackPriority!==s){if(l!=null&&xn(l),s===1)n.tag===0?s_($y.bind(null,n)):v0($y.bind(null,n)),e_(function(){(We&6)===0&&Zr()}),l=null;else{switch(fr(p)){case 1:l=Ns;break;case 4:l=bo;break;case 16:l=wo;break;case 536870912:l=Ke;break;default:l=wo}l=By(l,Py.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function Py(n,s){if(bc=-1,wc=0,(We&6)!==0)throw Error(r(327));var l=n.callbackNode;if(Yo()&&n.callbackNode!==l)return null;var p=Ss(n,n===$t?Bt:0);if(p===0)return null;if((p&30)!==0||(p&n.expiredLanes)!==0||s)s=jc(n,p);else{s=p;var x=We;We|=2;var b=Ly();($t!==n||Bt!==s)&&(Tr=null,qo=ct()+500,As(n,s));do try{C_();break}catch(P){zy(n,P)}while(!0);Ju(),hc.current=b,We=x,kt!==null?s=0:($t=null,Bt=0,s=Tt)}if(s!==0){if(s===2&&(x=Es(n),x!==0&&(p=x,s=Lp(n,x))),s===1)throw l=oi,As(n,0),as(n,p),un(n,ct()),l;if(s===6)as(n,p);else{if(x=n.current.alternate,(p&30)===0&&!N_(x)&&(s=jc(n,p),s===2&&(b=Es(n),b!==0&&(p=b,s=Lp(n,b))),s===1))throw l=oi,As(n,0),as(n,p),un(n,ct()),l;switch(n.finishedWork=x,n.finishedLanes=p,s){case 0:case 1:throw Error(r(345));case 2:Fs(n,dn,Tr);break;case 3:if(as(n,p),(p&130023424)===p&&(s=Pp+500-ct(),10<s)){if(Ss(n,0)!==0)break;if(x=n.suspendedLanes,(x&p)!==p){nn(),n.pingedLanes|=n.suspendedLanes&x;break}n.timeoutHandle=Wu(Fs.bind(null,n,dn,Tr),s);break}Fs(n,dn,Tr);break;case 4:if(as(n,p),(p&4194240)===p)break;for(s=n.eventTimes,x=-1;0<p;){var S=31-Ut(p);b=1<<S,S=s[S],S>x&&(x=S),p&=~b}if(p=x,p=ct()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*j_(p/1960))-p,10<p){n.timeoutHandle=Wu(Fs.bind(null,n,dn,Tr),p);break}Fs(n,dn,Tr);break;case 5:Fs(n,dn,Tr);break;default:throw Error(r(329))}}}return un(n,ct()),n.callbackNode===l?Py.bind(null,n):null}function Lp(n,s){var l=ai;return n.current.memoizedState.isDehydrated&&(As(n,s).flags|=256),n=jc(n,s),n!==2&&(s=dn,dn=l,s!==null&&Ip(s)),n}function Ip(n){dn===null?dn=n:dn.push.apply(dn,n)}function N_(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var p=0;p<l.length;p++){var x=l[p],b=x.getSnapshot;x=x.value;try{if(!qn(b(),x))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function as(n,s){for(s&=~Mp,s&=~gc,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-Ut(s),p=1<<l;n[l]=-1,s&=~p}}function $y(n){if((We&6)!==0)throw Error(r(327));Yo();var s=Ss(n,0);if((s&1)===0)return un(n,ct()),null;var l=jc(n,s);if(n.tag!==0&&l===2){var p=Es(n);p!==0&&(s=p,l=Lp(n,p))}if(l===1)throw l=oi,As(n,0),as(n,s),un(n,ct()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Fs(n,dn,Tr),un(n,ct()),null}function Op(n,s){var l=We;We|=1;try{return n(s)}finally{We=l,We===0&&(qo=ct()+500,Kl&&Zr())}}function Os(n){ss!==null&&ss.tag===0&&(We&6)===0&&Yo();var s=We;We|=1;var l=$n.transition,p=Oe;try{if($n.transition=null,Oe=1,n)return n()}finally{Oe=p,$n.transition=l,We=s,(We&6)===0&&Zr()}}function Ap(){wn=Uo.current,tt(Uo)}function As(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,Z4(l)),kt!==null)for(l=kt.return;l!==null;){var p=l;switch(Yu(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Yl();break;case 3:Bo(),tt(an),tt(qt),ap();break;case 5:sp(p);break;case 4:Bo();break;case 13:tt(dt);break;case 19:tt(dt);break;case 10:Zu(p.type._context);break;case 22:case 23:Ap()}l=l.return}if($t=n,kt=n=is(n.current,null),Bt=wn=s,Tt=0,oi=null,Mp=gc=Is=0,dn=ai=null,$s!==null){for(s=0;s<$s.length;s++)if(l=$s[s],p=l.interleaved,p!==null){l.interleaved=null;var x=p.next,b=l.pending;if(b!==null){var S=b.next;b.next=x,p.next=S}l.pending=p}$s=null}return n}function zy(n,s){do{var l=kt;try{if(Ju(),oc.current=cc,ac){for(var p=ut.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}ac=!1}if(Ls=0,Pt=Dt=ut=null,Za=!1,ei=0,Tp.current=null,l===null||l.return===null){Tt=1,oi=s,kt=null;break}e:{var b=n,S=l.return,P=l,I=s;if(s=Bt,P.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var U=I,ae=P,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var re=ae.alternate;re?(ae.updateQueue=re.updateQueue,ae.memoizedState=re.memoizedState,ae.lanes=re.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ye=ay(S);if(ye!==null){ye.flags&=-257,iy(ye,S,P,b,s),ye.mode&1&&oy(b,U,s),s=ye,I=U;var ke=s.updateQueue;if(ke===null){var Ce=new Set;Ce.add(I),s.updateQueue=Ce}else ke.add(I);break e}else{if((s&1)===0){oy(b,U,s),Fp();break e}I=Error(r(426))}}else if(it&&P.mode&1){var bt=ay(S);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),iy(bt,S,P,b,s),Xu(Ho(I,P));break e}}b=I=Ho(I,P),Tt!==4&&(Tt=2),ai===null?ai=[b]:ai.push(b),b=S;do{switch(b.tag){case 3:b.flags|=65536,s&=-s,b.lanes|=s;var W=ry(b,I,s);D0(b,W);break e;case 1:P=I;var O=b.type,B=b.stateNode;if((b.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(rs===null||!rs.has(B)))){b.flags|=65536,s&=-s,b.lanes|=s;var ue=sy(b,P,s);D0(b,ue);break e}}b=b.return}while(b!==null)}Oy(l)}catch(Ee){s=Ee,kt===l&&l!==null&&(kt=l=l.return);continue}break}while(!0)}function Ly(){var n=hc.current;return hc.current=cc,n===null?cc:n}function Fp(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),$t===null||(Is&268435455)===0&&(gc&268435455)===0||as($t,Bt)}function jc(n,s){var l=We;We|=2;var p=Ly();($t!==n||Bt!==s)&&(Tr=null,As(n,s));do try{k_();break}catch(x){zy(n,x)}while(!0);if(Ju(),We=l,hc.current=p,kt!==null)throw Error(r(261));return $t=null,Bt=0,Tt}function k_(){for(;kt!==null;)Iy(kt)}function C_(){for(;kt!==null&&!Ra();)Iy(kt)}function Iy(n){var s=Wy(n.alternate,n,wn);n.memoizedProps=n.pendingProps,s===null?Oy(n):kt=s,Tp.current=null}function Oy(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=x_(l,s,wn),l!==null){kt=l;return}}else{if(l=y_(l,s),l!==null){l.flags&=32767,kt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Tt=6,kt=null;return}}if(s=s.sibling,s!==null){kt=s;return}kt=s=n}while(s!==null);Tt===0&&(Tt=5)}function Fs(n,s,l){var p=Oe,x=$n.transition;try{$n.transition=null,Oe=1,S_(n,s,l,p)}finally{$n.transition=x,Oe=p}return null}function S_(n,s,l,p){do Yo();while(ss!==null);if((We&6)!==0)throw Error(r(327));l=n.finishedWork;var x=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var b=l.lanes|l.childLanes;if(yu(n,b),n===$t&&(kt=$t=null,Bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||yc||(yc=!0,By(wo,function(){return Yo(),null})),b=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||b){b=$n.transition,$n.transition=null;var S=Oe;Oe=1;var P=We;We|=4,Tp.current=null,b_(n,l),_y(l,n),q4(Au),Pl=!!Ou,Au=Ou=null,n.current=l,w_(l),js(),We=P,Oe=S,$n.transition=b}else n.current=l;if(yc&&(yc=!1,ss=n,vc=x),b=n.pendingLanes,b===0&&(rs=null),xu(l.stateNode),un(n,ct()),s!==null)for(p=n.onRecoverableError,l=0;l<s.length;l++)x=s[l],p(x.value,{componentStack:x.stack,digest:x.digest});if(xc)throw xc=!1,n=$p,$p=null,n;return(vc&1)!==0&&n.tag!==0&&Yo(),b=n.pendingLanes,(b&1)!==0?n===zp?ii++:(ii=0,zp=n):ii=0,Zr(),null}function Yo(){if(ss!==null){var n=fr(vc),s=$n.transition,l=Oe;try{if($n.transition=null,Oe=16>n?16:n,ss===null)var p=!1;else{if(n=ss,ss=null,vc=0,(We&6)!==0)throw Error(r(331));var x=We;for(We|=4,ve=n.current;ve!==null;){var b=ve,S=b.child;if((ve.flags&16)!==0){var P=b.deletions;if(P!==null){for(var I=0;I<P.length;I++){var U=P[I];for(ve=U;ve!==null;){var ae=ve;switch(ae.tag){case 0:case 11:case 15:si(8,ae,b)}var le=ae.child;if(le!==null)le.return=ae,ve=le;else for(;ve!==null;){ae=ve;var re=ae.sibling,ye=ae.return;if(Ny(ae),ae===U){ve=null;break}if(re!==null){re.return=ye,ve=re;break}ve=ye}}}var ke=b.alternate;if(ke!==null){var Ce=ke.child;if(Ce!==null){ke.child=null;do{var bt=Ce.sibling;Ce.sibling=null,Ce=bt}while(Ce!==null)}}ve=b}}if((b.subtreeFlags&2064)!==0&&S!==null)S.return=b,ve=S;else e:for(;ve!==null;){if(b=ve,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:si(9,b,b.return)}var W=b.sibling;if(W!==null){W.return=b.return,ve=W;break e}ve=b.return}}var O=n.current;for(ve=O;ve!==null;){S=ve;var B=S.child;if((S.subtreeFlags&2064)!==0&&B!==null)B.return=S,ve=B;else e:for(S=O;ve!==null;){if(P=ve,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:mc(9,P)}}catch(Ee){ht(P,P.return,Ee)}if(P===S){ve=null;break e}var ue=P.sibling;if(ue!==null){ue.return=P.return,ve=ue;break e}ve=P.return}}if(We=x,Zr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(jo,n)}catch{}p=!0}return p}finally{Oe=l,$n.transition=s}}return!1}function Ay(n,s,l){s=Ho(l,s),s=ry(n,s,1),n=ts(n,s,1),s=nn(),n!==null&&(pr(n,1,s),un(n,s))}function ht(n,s,l){if(n.tag===3)Ay(n,n,l);else for(;s!==null;){if(s.tag===3){Ay(s,n,l);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(rs===null||!rs.has(p))){n=Ho(l,n),n=sy(s,n,1),s=ts(s,n,1),n=nn(),s!==null&&(pr(s,1,n),un(s,n));break}}s=s.return}}function E_(n,s,l){var p=n.pingCache;p!==null&&p.delete(s),s=nn(),n.pingedLanes|=n.suspendedLanes&l,$t===n&&(Bt&l)===l&&(Tt===4||Tt===3&&(Bt&130023424)===Bt&&500>ct()-Pp?As(n,0):Mp|=l),un(n,s)}function Fy(n,s){s===0&&((n.mode&1)===0?s=1:(s=Cs,Cs<<=1,(Cs&130023424)===0&&(Cs=4194304)));var l=nn();n=_r(n,s),n!==null&&(pr(n,s,l),un(n,l))}function __(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Fy(n,l)}function R_(n,s){var l=0;switch(n.tag){case 13:var p=n.stateNode,x=n.memoizedState;x!==null&&(l=x.retryLane);break;case 19:p=n.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(s),Fy(n,l)}var Wy;Wy=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||an.current)cn=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return cn=!1,g_(n,s,l);cn=(n.flags&131072)!==0}else cn=!1,it&&(s.flags&1048576)!==0&&b0(s,Ql,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;pc(n,s),n=s.pendingProps;var x=zo(s,qt.current);Wo(s,l),x=cp(null,s,p,n,x,l);var b=dp();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ln(p)?(b=!0,Gl(s)):b=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,np(s),x.updater=dc,s.stateNode=x,x._reactInternals=s,gp(s,p,n,l),s=bp(null,s,p,!0,b,l)):(s.tag=0,it&&b&&qu(s),tn(null,s,x,l),s=s.child),s;case 16:p=s.elementType;e:{switch(pc(n,s),n=s.pendingProps,x=p._init,p=x(p._payload),s.type=p,x=s.tag=T_(p),n=Gn(p,n),x){case 0:s=vp(null,s,p,n,l);break e;case 1:s=fy(null,s,p,n,l);break e;case 11:s=ly(null,s,p,n,l);break e;case 14:s=cy(null,s,p,Gn(p.type,n),l);break e}throw Error(r(306,p,""))}return s;case 0:return p=s.type,x=s.pendingProps,x=s.elementType===p?x:Gn(p,x),vp(n,s,p,x,l);case 1:return p=s.type,x=s.pendingProps,x=s.elementType===p?x:Gn(p,x),fy(n,s,p,x,l);case 3:e:{if(my(s),n===null)throw Error(r(387));p=s.pendingProps,b=s.memoizedState,x=b.element,R0(n,s),rc(s,p,null,l);var S=s.memoizedState;if(p=S.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){x=Ho(Error(r(423)),s),s=hy(n,s,p,l,x);break e}else if(p!==x){x=Ho(Error(r(424)),s),s=hy(n,s,p,l,x);break e}else for(bn=Xr(s.stateNode.containerInfo.firstChild),vn=s,it=!0,Yn=null,l=E0(s,null,p,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Oo(),p===x){s=Dr(n,s,l);break e}tn(n,s,p,l)}s=s.child}return s;case 5:return M0(s),n===null&&Ku(s),p=s.type,x=s.pendingProps,b=n!==null?n.memoizedProps:null,S=x.children,Fu(p,x)?S=null:b!==null&&Fu(p,b)&&(s.flags|=32),py(n,s),tn(n,s,S,l),s.child;case 6:return n===null&&Ku(s),null;case 13:return gy(n,s,l);case 4:return rp(s,s.stateNode.containerInfo),p=s.pendingProps,n===null?s.child=Ao(s,null,p,l):tn(n,s,p,l),s.child;case 11:return p=s.type,x=s.pendingProps,x=s.elementType===p?x:Gn(p,x),ly(n,s,p,x,l);case 7:return tn(n,s,s.pendingProps,l),s.child;case 8:return tn(n,s,s.pendingProps.children,l),s.child;case 12:return tn(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(p=s.type._context,x=s.pendingProps,b=s.memoizedProps,S=x.value,Xe(ec,p._currentValue),p._currentValue=S,b!==null)if(qn(b.value,S)){if(b.children===x.children&&!an.current){s=Dr(n,s,l);break e}}else for(b=s.child,b!==null&&(b.return=s);b!==null;){var P=b.dependencies;if(P!==null){S=b.child;for(var I=P.firstContext;I!==null;){if(I.context===p){if(b.tag===1){I=Rr(-1,l&-l),I.tag=2;var U=b.updateQueue;if(U!==null){U=U.shared;var ae=U.pending;ae===null?I.next=I:(I.next=ae.next,ae.next=I),U.pending=I}}b.lanes|=l,I=b.alternate,I!==null&&(I.lanes|=l),ep(b.return,l,s),P.lanes|=l;break}I=I.next}}else if(b.tag===10)S=b.type===s.type?null:b.child;else if(b.tag===18){if(S=b.return,S===null)throw Error(r(341));S.lanes|=l,P=S.alternate,P!==null&&(P.lanes|=l),ep(S,l,s),S=b.sibling}else S=b.child;if(S!==null)S.return=b;else for(S=b;S!==null;){if(S===s){S=null;break}if(b=S.sibling,b!==null){b.return=S.return,S=b;break}S=S.return}b=S}tn(n,s,x.children,l),s=s.child}return s;case 9:return x=s.type,p=s.pendingProps.children,Wo(s,l),x=Mn(x),p=p(x),s.flags|=1,tn(n,s,p,l),s.child;case 14:return p=s.type,x=Gn(p,s.pendingProps),x=Gn(p.type,x),cy(n,s,p,x,l);case 15:return dy(n,s,s.type,s.pendingProps,l);case 17:return p=s.type,x=s.pendingProps,x=s.elementType===p?x:Gn(p,x),pc(n,s),s.tag=1,ln(p)?(n=!0,Gl(s)):n=!1,Wo(s,l),ty(s,p,x),gp(s,p,x,l),bp(null,s,p,!0,n,l);case 19:return yy(n,s,l);case 22:return uy(n,s,l)}throw Error(r(156,s.tag))};function By(n,s){return _l(n,s)}function D_(n,s,l,p){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(n,s,l,p){return new D_(n,s,l,p)}function Wp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function T_(n){if(typeof n=="function")return Wp(n)?1:0;if(n!=null){if(n=n.$$typeof,n===de)return 11;if(n===Ne)return 14}return 2}function is(n,s){var l=n.alternate;return l===null?(l=zn(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Nc(n,s,l,p,x,b){var S=2;if(p=n,typeof n=="function")Wp(n)&&(S=1);else if(typeof n=="string")S=5;else e:switch(n){case A:return Ws(l.children,x,b,s);case $:S=8,x|=8;break;case H:return n=zn(12,l,s,x|2),n.elementType=H,n.lanes=b,n;case je:return n=zn(13,l,s,x),n.elementType=je,n.lanes=b,n;case ne:return n=zn(19,l,s,x),n.elementType=ne,n.lanes=b,n;case ee:return kc(l,x,b,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case G:S=10;break e;case se:S=9;break e;case de:S=11;break e;case Ne:S=14;break e;case oe:S=16,p=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=zn(S,l,s,x),s.elementType=n,s.type=p,s.lanes=b,s}function Ws(n,s,l,p){return n=zn(7,n,p,s),n.lanes=l,n}function kc(n,s,l,p){return n=zn(22,n,p,s),n.elementType=ee,n.lanes=l,n.stateNode={isHidden:!1},n}function Bp(n,s,l){return n=zn(6,n,null,s),n.lanes=l,n}function Hp(n,s,l){return s=zn(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function M_(n,s,l,p,x){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Vp(n,s,l,p,x,b,S,P,I){return n=new M_(n,s,l,P,I),s===1?(s=1,b===!0&&(s|=8)):s=0,b=zn(3,null,null,s),n.current=b,b.stateNode=n,b.memoizedState={element:p,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},np(b),n}function P_(n,s,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:p==null?null:""+p,children:n,containerInfo:s,implementation:l}}function Hy(n){if(!n)return Jr;n=n._reactInternals;e:{if(dr(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ln(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(ln(l))return x0(n,l,s)}return s}function Vy(n,s,l,p,x,b,S,P,I){return n=Vp(l,p,!0,n,x,b,S,P,I),n.context=Hy(null),l=n.current,p=nn(),x=os(l),b=Rr(p,x),b.callback=s??null,ts(l,b,x),n.current.lanes=x,pr(n,x,p),un(n,p),n}function Cc(n,s,l,p){var x=s.current,b=nn(),S=os(x);return l=Hy(l),s.context===null?s.context=l:s.pendingContext=l,s=Rr(b,S),s.payload={element:n},p=p===void 0?null:p,p!==null&&(s.callback=p),n=ts(x,s,S),n!==null&&(Qn(n,x,S,b),nc(n,x,S)),S}function Sc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Uy(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Up(n,s){Uy(n,s),(n=n.alternate)&&Uy(n,s)}function $_(){return null}var qy=typeof reportError=="function"?reportError:function(n){console.error(n)};function qp(n){this._internalRoot=n}Ec.prototype.render=qp.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Cc(n,s,null,null)},Ec.prototype.unmount=qp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Os(function(){Cc(null,n,null,null)}),s[kr]=null}};function Ec(n){this._internalRoot=n}Ec.prototype.unstable_scheduleHydration=function(n){if(n){var s=ko();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Z.length&&s!==0&&s<Z[l].priority;l++);Z.splice(l,0,n),l===0&&mt(n)}};function Yp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function _c(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Yy(){}function z_(n,s,l,p,x){if(x){if(typeof p=="function"){var b=p;p=function(){var U=Sc(S);b.call(U)}}var S=Vy(s,p,n,0,null,!1,!1,"",Yy);return n._reactRootContainer=S,n[kr]=S.current,Ua(n.nodeType===8?n.parentNode:n),Os(),S}for(;x=n.lastChild;)n.removeChild(x);if(typeof p=="function"){var P=p;p=function(){var U=Sc(I);P.call(U)}}var I=Vp(n,0,!1,null,null,!1,!1,"",Yy);return n._reactRootContainer=I,n[kr]=I.current,Ua(n.nodeType===8?n.parentNode:n),Os(function(){Cc(s,I,l,p)}),I}function Rc(n,s,l,p,x){var b=l._reactRootContainer;if(b){var S=b;if(typeof x=="function"){var P=x;x=function(){var I=Sc(S);P.call(I)}}Cc(s,S,n,x)}else S=z_(l,s,n,x,p);return Sc(S)}Da=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=on(s.pendingLanes);l!==0&&(Yr(s,l|1),un(s,ct()),(We&6)===0&&(qo=ct()+500,Zr()))}break;case 13:Os(function(){var p=_r(n,1);if(p!==null){var x=nn();Qn(p,n,1,x)}}),Up(n,1)}},Ta=function(n){if(n.tag===13){var s=_r(n,134217728);if(s!==null){var l=nn();Qn(s,n,134217728,l)}Up(n,134217728)}},Ma=function(n){if(n.tag===13){var s=os(n),l=_r(n,s);if(l!==null){var p=nn();Qn(l,n,s,p)}Up(n,s)}},ko=function(){return Oe},Ml=function(n,s){var l=Oe;try{return Oe=n,s()}finally{Oe=l}},yt=function(n,s,l){switch(s){case"input":if(Ht(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var p=l[s];if(p!==n&&p.form===n.form){var x=ql(p);if(!x)throw Error(r(90));He(p),Ht(p,x)}}}break;case"textarea":Fe(n,l);break;case"select":s=l.value,s!=null&&me(n,!!l.multiple,s,!1)}},jt=Op,Nt=Os;var L_={usingClientEntryPoint:!1,Events:[Ga,Po,ql,Ze,Zt,Op]},li={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I_={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=_a(n),n===null?null:n.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||$_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{jo=Dc.inject(I_),Rn=Dc}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L_,rn.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yp(s))throw Error(r(200));return P_(n,s,null,l)},rn.createRoot=function(n,s){if(!Yp(n))throw Error(r(299));var l=!1,p="",x=qy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=Vp(n,1,!1,null,null,l,!1,p,x),n[kr]=s.current,Ua(n.nodeType===8?n.parentNode:n),new qp(s)},rn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=_a(s),n=n===null?null:n.stateNode,n},rn.flushSync=function(n){return Os(n)},rn.hydrate=function(n,s,l){if(!_c(s))throw Error(r(200));return Rc(null,n,s,!0,l)},rn.hydrateRoot=function(n,s,l){if(!Yp(n))throw Error(r(405));var p=l!=null&&l.hydratedSources||null,x=!1,b="",S=qy;if(l!=null&&(l.unstable_strictMode===!0&&(x=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),s=Vy(s,null,n,1,l??null,x,!1,b,S),n[kr]=s.current,Ua(n),p)for(n=0;n<p.length;n++)l=p[n],x=l._getVersion,x=x(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,x]:s.mutableSourceEagerHydrationData.push(l,x);return new Ec(s)},rn.render=function(n,s,l){if(!_c(s))throw Error(r(200));return Rc(null,n,s,!1,l)},rn.unmountComponentAtNode=function(n){if(!_c(n))throw Error(r(40));return n._reactRootContainer?(Os(function(){Rc(null,null,n,!1,function(){n._reactRootContainer=null,n[kr]=null})}),!0):!1},rn.unstable_batchedUpdates=Op,rn.unstable_renderSubtreeIntoContainer=function(n,s,l,p){if(!_c(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Rc(n,s,l,!1,p)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var tf;function nf(){if(tf)return $c.exports;tf=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(o){console.error(o)}}return e(),$c.exports=Zy(),$c.exports}var rf;function ev(){if(rf)return ci;rf=1;var e=nf();return ci.createRoot=e.createRoot,ci.hydrateRoot=e.hydrateRoot,ci}var tv=ev();const nv=jn(tv),W_="modulepreload",B_=function(e){return"/"+e},H_={},Pr=function(o,r,a){let i=Promise.resolve();function c(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return i.then(d=>{for(const u of d||[])u.status==="rejected"&&c(u.reason);return o().catch(c)})};var sf="popstate";function rv(e={}){function o(i,c){let{pathname:d="/",search:u="",hash:m=""}=ds(i.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Ic("",{pathname:d,search:u,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(i,c){let d=i.document.querySelector("base"),u="";if(d&&d.getAttribute("href")){let m=i.location.href,h=m.indexOf("#");u=h===-1?m:m.slice(0,h)}return u+"#"+(typeof c=="string"?c:Xo(c))}function a(i,c){pn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return ov(o,r,a,e)}function nt(e,o){if(e===!1||e===null||typeof e>"u")throw new Error(o)}function pn(e,o){if(!e){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function sv(){return Math.random().toString(36).substring(2,10)}function of(e,o){return{usr:e.state,key:e.key,idx:o}}function Ic(e,o,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof o=="string"?ds(o):o,state:r,key:o&&o.key||a||sv()}}function Xo({pathname:e="/",search:o="",hash:r=""}){return o&&o!=="?"&&(e+=o.charAt(0)==="?"?o:"?"+o),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ds(e){let o={};if(e){let r=e.indexOf("#");r>=0&&(o.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(o.search=e.substring(a),e=e.substring(0,a)),e&&(o.pathname=e)}return o}function ov(e,o,r,a={}){let{window:i=document.defaultView,v5Compat:c=!1}=a,d=i.history,u="POP",m=null,h=g();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function g(){return(d.state||{idx:null}).idx}function j(){u="POP";let k=g(),_=k==null?null:k-h;h=k,m&&m({action:u,location:N.location,delta:_})}function y(k,_){u="PUSH";let E=Ic(N.location,k,_);r&&r(E,k),h=g()+1;let v=of(E,h),R=N.createHref(E);try{d.pushState(v,"",R)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(R)}c&&m&&m({action:u,location:N.location,delta:1})}function w(k,_){u="REPLACE";let E=Ic(N.location,k,_);r&&r(E,k),h=g();let v=of(E,h),R=N.createHref(E);d.replaceState(v,"",R),c&&m&&m({action:u,location:N.location,delta:0})}function C(k){return av(k)}let N={get action(){return u},get location(){return e(i,d)},listen(k){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(sf,j),m=k,()=>{i.removeEventListener(sf,j),m=null}},createHref(k){return o(i,k)},createURL:C,encodeLocation(k){let _=C(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:w,go(k){return d.go(k)}};return N}function av(e,o=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),nt(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Xo(e);return a=a.replace(/ $/,"%20"),!o&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function af(e,o,r="/"){return iv(e,o,r,!1)}function iv(e,o,r,a){let i=typeof o=="string"?ds(o):o,c=vr(i.pathname||"/",r);if(c==null)return null;let d=lf(e);lv(d);let u=null;for(let m=0;u==null&&m<d.length;++m){let h=vv(c);u=xv(d[m],h,a)}return u}function lf(e,o=[],r=[],a="",i=!1){let c=(d,u,m=i,h)=>{let g={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&m)return;nt(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let j=br([a,g.relativePath]),y=r.concat(g);d.children&&d.children.length>0&&(nt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),lf(d.children,o,y,j,m)),!(d.path==null&&!d.index)&&o.push({path:j,score:hv(j,d.index),routesMeta:y})};return e.forEach((d,u)=>{if(d.path===""||!d.path?.includes("?"))c(d,u);else for(let m of cf(d.path))c(d,u,!0,m)}),o}function cf(e){let o=e.split("/");if(o.length===0)return[];let[r,...a]=o,i=r.endsWith("?"),c=r.replace(/\?$/,"");if(a.length===0)return i?[c,""]:[c];let d=cf(a.join("/")),u=[];return u.push(...d.map(m=>m===""?c:[c,m].join("/"))),i&&u.push(...d),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function lv(e){e.sort((o,r)=>o.score!==r.score?r.score-o.score:gv(o.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var cv=/^:[\w-]+$/,dv=3,uv=2,pv=1,fv=10,mv=-2,df=e=>e==="*";function hv(e,o){let r=e.split("/"),a=r.length;return r.some(df)&&(a+=mv),o&&(a+=uv),r.filter(i=>!df(i)).reduce((i,c)=>i+(cv.test(c)?dv:c===""?pv:fv),a)}function gv(e,o){return e.length===o.length&&e.slice(0,-1).every((a,i)=>a===o[i])?e[e.length-1]-o[o.length-1]:0}function xv(e,o,r=!1){let{routesMeta:a}=e,i={},c="/",d=[];for(let u=0;u<a.length;++u){let m=a[u],h=u===a.length-1,g=c==="/"?o:o.slice(c.length)||"/",j=di({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},g),y=m.route;if(!j&&h&&r&&!a[a.length-1].route.index&&(j=di({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!j)return null;Object.assign(i,j.params),d.push({params:i,pathname:br([c,j.pathname]),pathnameBase:kv(br([c,j.pathnameBase])),route:y}),j.pathnameBase!=="/"&&(c=br([c,j.pathnameBase]))}return d}function di(e,o){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=yv(e.path,e.caseSensitive,e.end),i=o.match(r);if(!i)return null;let c=i[0],d=c.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:a.reduce((h,{paramName:g,isOptional:j},y)=>{if(g==="*"){let C=u[y]||"";d=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const w=u[y];return j&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:c,pathnameBase:d,pattern:e}}function yv(e,o=!1,r=!0){pn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,m)=>(a.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,o?void 0:"i"),a]}function vv(e){try{return e.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return pn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),e}}function vr(e,o){if(o==="/")return e;if(!e.toLowerCase().startsWith(o.toLowerCase()))return null;let r=o.endsWith("/")?o.length-1:o.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}var bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wv=e=>bv.test(e);function jv(e,o="/"){let{pathname:r,search:a="",hash:i=""}=typeof e=="string"?ds(e):e,c;if(r)if(wv(r))c=r;else{if(r.includes("//")){let d=r;r=r.replace(/\/\/+/g,"/"),pn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${r}`)}r.startsWith("/")?c=uf(r.substring(1),"/"):c=uf(r,o)}else c=o;return{pathname:c,search:Cv(a),hash:Sv(i)}}function uf(e,o){let r=o.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Oc(e,o,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${o}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nv(e){return e.filter((o,r)=>r===0||o.route.path&&o.route.path.length>0)}function Ac(e){let o=Nv(e);return o.map((r,a)=>a===o.length-1?r.pathname:r.pathnameBase)}function Fc(e,o,r,a=!1){let i;typeof e=="string"?i=ds(e):(i={...e},nt(!i.pathname||!i.pathname.includes("?"),Oc("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),Oc("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),Oc("#","search","hash",i)));let c=e===""||i.pathname==="",d=c?"/":i.pathname,u;if(d==null)u=r;else{let j=o.length-1;if(!a&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),j-=1;i.pathname=y.join("/")}u=j>=0?o[j]:"/"}let m=jv(i,u),h=d&&d!=="/"&&d.endsWith("/"),g=(c||d===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(h||g)&&(m.pathname+="/"),m}var br=e=>e.join("/").replace(/\/\/+/g,"/"),kv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ev(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pf=["POST","PUT","PATCH","DELETE"];new Set(pf);var _v=["GET",...pf];new Set(_v);var Bs=f.createContext(null);Bs.displayName="DataRouter";var ui=f.createContext(null);ui.displayName="DataRouterState",f.createContext(!1);var ff=f.createContext({isTransitioning:!1});ff.displayName="ViewTransition";var Rv=f.createContext(new Map);Rv.displayName="Fetchers";var Dv=f.createContext(null);Dv.displayName="Await";var Ln=f.createContext(null);Ln.displayName="Navigation";var Qo=f.createContext(null);Qo.displayName="Location";var In=f.createContext({outlet:null,matches:[],isDataRoute:!1});In.displayName="Route";var Wc=f.createContext(null);Wc.displayName="RouteError";function Tv(e,{relative:o}={}){nt(Hs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=f.useContext(Ln),{hash:i,pathname:c,search:d}=Jo(e,{relative:o}),u=c;return r!=="/"&&(u=c==="/"?r:br([r,c])),a.createHref({pathname:u,search:d,hash:i})}function Hs(){return f.useContext(Qo)!=null}function $r(){return nt(Hs(),"useLocation() may be used only in the context of a <Router> component."),f.useContext(Qo).location}var mf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hf(e){f.useContext(Ln).static||f.useLayoutEffect(e)}function gf(){let{isDataRoute:e}=f.useContext(In);return e?qv():Mv()}function Mv(){nt(Hs(),"useNavigate() may be used only in the context of a <Router> component.");let e=f.useContext(Bs),{basename:o,navigator:r}=f.useContext(Ln),{matches:a}=f.useContext(In),{pathname:i}=$r(),c=JSON.stringify(Ac(a)),d=f.useRef(!1);return hf(()=>{d.current=!0}),f.useCallback((m,h={})=>{if(pn(d.current,mf),!d.current)return;if(typeof m=="number"){r.go(m);return}let g=Fc(m,JSON.parse(c),i,h.relative==="path");e==null&&o!=="/"&&(g.pathname=g.pathname==="/"?o:br([o,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[o,r,c,i,e])}var Pv=f.createContext(null);function $v(e){let o=f.useContext(In).outlet;return f.useMemo(()=>o&&f.createElement(Pv.Provider,{value:e},o),[o,e])}function Jo(e,{relative:o}={}){let{matches:r}=f.useContext(In),{pathname:a}=$r(),i=JSON.stringify(Ac(r));return f.useMemo(()=>Fc(e,JSON.parse(i),a,o==="path"),[e,i,a,o])}function zv(e,o){return xf(e,o)}function xf(e,o,r,a,i){nt(Hs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=f.useContext(Ln),{matches:d}=f.useContext(In),u=d[d.length-1],m=u?u.params:{},h=u?u.pathname:"/",g=u?u.pathnameBase:"/",j=u&&u.route;{let E=j&&j.path||"";vf(h,!j||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=$r(),w;if(o){let E=typeof o=="string"?ds(o):o;nt(g==="/"||E.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=y;let C=w.pathname||"/",N=C;if(g!=="/"){let E=g.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=af(e,{pathname:N});pn(j||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),pn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Fv(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},m,E.params),pathname:br([g,c.encodeLocation?c.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:br([g,c.encodeLocation?c.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),d,r,a,i);return o&&_?f.createElement(Qo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},_):_}function Lv(){let e=Uv(),o=Ev(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=f.createElement(f.Fragment,null,f.createElement("p",null," Hey developer "),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",f.createElement("code",{style:c},"ErrorBoundary")," or"," ",f.createElement("code",{style:c},"errorElement")," prop on your route.")),f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},o),r?f.createElement("pre",{style:i},r):null,d)}var Iv=f.createElement(Lv,null),Ov=class extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,o){return o.location!==e.location||o.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:o.error,location:o.location,revalidation:e.revalidation||o.revalidation}}componentDidCatch(e,o){this.props.onError?this.props.onError(e,o):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?f.createElement(In.Provider,{value:this.props.routeContext},f.createElement(Wc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Av({routeContext:e,match:o,children:r}){let a=f.useContext(Bs);return a&&a.static&&a.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=o.route.id),f.createElement(In.Provider,{value:e},r)}function Fv(e,o=[],r=null,a=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(o.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,d=r?.errors;if(d!=null){let g=c.findIndex(j=>j.route.id&&d?.[j.route.id]!==void 0);nt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let u=!1,m=-1;if(r)for(let g=0;g<c.length;g++){let j=c[g];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(m=g),j.route.id){let{loaderData:y,errors:w}=r,C=j.route.loader&&!y.hasOwnProperty(j.route.id)&&(!w||w[j.route.id]===void 0);if(j.route.lazy||C){u=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let h=r&&a?(g,j)=>{a(g,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:j})}:void 0;return c.reduceRight((g,j,y)=>{let w,C=!1,N=null,k=null;r&&(w=d&&j.route.id?d[j.route.id]:void 0,N=j.route.errorElement||Iv,u&&(m<0&&y===0?(vf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):m===y&&(C=!0,k=j.route.hydrateFallbackElement||null)));let _=o.concat(c.slice(0,y+1)),E=()=>{let v;return w?v=N:C?v=k:j.route.Component?v=f.createElement(j.route.Component,null):j.route.element?v=j.route.element:v=g,f.createElement(Av,{match:j,routeContext:{outlet:g,matches:_,isDataRoute:r!=null},children:v})};return r&&(j.route.ErrorBoundary||j.route.errorElement||y===0)?f.createElement(Ov,{location:r.location,revalidation:r.revalidation,component:N,error:w,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):E()},null)}function Bc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wv(e){let o=f.useContext(Bs);return nt(o,Bc(e)),o}function Bv(e){let o=f.useContext(ui);return nt(o,Bc(e)),o}function Hv(e){let o=f.useContext(In);return nt(o,Bc(e)),o}function Hc(e){let o=Hv(e),r=o.matches[o.matches.length-1];return nt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Vv(){return Hc("useRouteId")}function Uv(){let e=f.useContext(Wc),o=Bv("useRouteError"),r=Hc("useRouteError");return e!==void 0?e:o.errors?.[r]}function qv(){let{router:e}=Wv("useNavigate"),o=Hc("useNavigate"),r=f.useRef(!1);return hf(()=>{r.current=!0}),f.useCallback(async(i,c={})=>{pn(r.current,mf),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:o,...c}))},[e,o])}var yf={};function vf(e,o,r){!o&&!yf[e]&&(yf[e]=!0,pn(!1,r))}f.memo(Yv);function Yv({routes:e,future:o,state:r,unstable_onError:a}){return xf(e,void 0,r,a,o)}function bf({to:e,replace:o,state:r,relative:a}){nt(Hs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=f.useContext(Ln);pn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=f.useContext(In),{pathname:d}=$r(),u=gf(),m=Fc(e,Ac(c),d,a==="path"),h=JSON.stringify(m);return f.useEffect(()=>{u(JSON.parse(h),{replace:o,state:r,relative:a})},[u,h,a,o,r]),null}function Gv(e){return $v(e.context)}function Jn(e){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kv({basename:e="/",children:o=null,location:r,navigationType:a="POP",navigator:i,static:c=!1}){nt(!Hs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:d,navigator:i,static:c,future:{}}),[d,i,c]);typeof r=="string"&&(r=ds(r));let{pathname:m="/",search:h="",hash:g="",state:j=null,key:y="default"}=r,w=f.useMemo(()=>{let C=vr(m,d);return C==null?null:{location:{pathname:C,search:h,hash:g,state:j,key:y},navigationType:a}},[d,m,h,g,j,y,a]);return pn(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:f.createElement(Ln.Provider,{value:u},f.createElement(Qo.Provider,{children:o,value:w}))}function Vc({children:e,location:o}){return zv(Uc(e),o)}function Uc(e,o=[]){let r=[];return f.Children.forEach(e,(a,i)=>{if(!f.isValidElement(a))return;let c=[...o,i];if(a.type===f.Fragment){r.push.apply(r,Uc(a.props.children,c));return}nt(a.type===Jn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Uc(a.props.children,c)),r.push(d)}),r}var pi="get",fi="application/x-www-form-urlencoded";function mi(e){return e!=null&&typeof e.tagName=="string"}function Xv(e){return mi(e)&&e.tagName.toLowerCase()==="button"}function Qv(e){return mi(e)&&e.tagName.toLowerCase()==="form"}function Jv(e){return mi(e)&&e.tagName.toLowerCase()==="input"}function Zv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eb(e,o){return e.button===0&&(!o||o==="_self")&&!Zv(e)}var hi=null;function tb(){if(hi===null)try{new FormData(document.createElement("form"),0),hi=!1}catch{hi=!0}return hi}var nb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qc(e){return e!=null&&!nb.has(e)?(pn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fi}"`),null):e}function rb(e,o){let r,a,i,c,d;if(Qv(e)){let u=e.getAttribute("action");a=u?vr(u,o):null,r=e.getAttribute("method")||pi,i=qc(e.getAttribute("enctype"))||fi,c=new FormData(e)}else if(Xv(e)||Jv(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(a=m?vr(m,o):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||pi,i=qc(e.getAttribute("formenctype"))||qc(u.getAttribute("enctype"))||fi,c=new FormData(u,e),!tb()){let{name:h,type:g,value:j}=e;if(g==="image"){let y=h?`${h}.`:"";c.append(`${y}x`,"0"),c.append(`${y}y`,"0")}else h&&c.append(h,j)}}else{if(mi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=pi,a=null,i=fi,d=e}return c&&i==="text/plain"&&(d=c,c=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yc(e,o){if(e===!1||e===null||typeof e>"u")throw new Error(o)}function sb(e,o,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:o&&vr(a.pathname,o)==="/"?a.pathname=`${o.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function ob(e,o){if(e.id in o)return o[e.id];try{let r=await import(e.module);return o[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ab(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ib(e,o,r){let a=await Promise.all(e.map(async i=>{let c=o.routes[i.route.id];if(c){let d=await ob(c,r);return d.links?d.links():[]}return[]}));return ub(a.flat(1).filter(ab).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function wf(e,o,r,a,i,c){let d=(m,h)=>r[h]?m.route.id!==r[h].route.id:!0,u=(m,h)=>r[h].pathname!==m.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==m.params["*"];return c==="assets"?o.filter((m,h)=>d(m,h)||u(m,h)):c==="data"?o.filter((m,h)=>{let g=a.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(d(m,h)||u(m,h))return!0;if(m.route.shouldRevalidate){let j=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function lb(e,o,{includeHydrateFallback:r}={}){return cb(e.map(a=>{let i=o.routes[a.route.id];if(!i)return[];let c=[i.module];return i.clientActionModule&&(c=c.concat(i.clientActionModule)),i.clientLoaderModule&&(c=c.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(c=c.concat(i.hydrateFallbackModule)),i.imports&&(c=c.concat(i.imports)),c}).flat(1))}function cb(e){return[...new Set(e)]}function db(e){let o={},r=Object.keys(e).sort();for(let a of r)o[a]=e[a];return o}function ub(e,o){let r=new Set;return new Set(o),e.reduce((a,i)=>{let c=JSON.stringify(db(i));return r.has(c)||(r.add(c),a.push({key:c,link:i})),a},[])}function jf(){let e=f.useContext(Bs);return Yc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pb(){let e=f.useContext(ui);return Yc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gc=f.createContext(void 0);Gc.displayName="FrameworkContext";function Nf(){let e=f.useContext(Gc);return Yc(e,"You must render this element inside a <HydratedRouter> element"),e}function fb(e,o){let r=f.useContext(Gc),[a,i]=f.useState(!1),[c,d]=f.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:h,onMouseLeave:g,onTouchStart:j}=o,y=f.useRef(null);f.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let N=_=>{_.forEach(E=>{d(E.isIntersecting)})},k=new IntersectionObserver(N,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[e]),f.useEffect(()=>{if(a){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[a]);let w=()=>{i(!0)},C=()=>{i(!1),d(!1)};return r?e!=="intent"?[c,y,{}]:[c,y,{onFocus:Zo(u,w),onBlur:Zo(m,C),onMouseEnter:Zo(h,w),onMouseLeave:Zo(g,C),onTouchStart:Zo(j,w)}]:[!1,y,{}]}function Zo(e,o){return r=>{e&&e(r),r.defaultPrevented||o(r)}}function mb({page:e,...o}){let{router:r}=jf(),a=f.useMemo(()=>af(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?f.createElement(gb,{page:e,matches:a,...o}):null}function hb(e){let{manifest:o,routeModules:r}=Nf(),[a,i]=f.useState([]);return f.useEffect(()=>{let c=!1;return ib(e,o,r).then(d=>{c||i(d)}),()=>{c=!0}},[e,o,r]),a}function gb({page:e,matches:o,...r}){let a=$r(),{manifest:i,routeModules:c}=Nf(),{basename:d}=jf(),{loaderData:u,matches:m}=pb(),h=f.useMemo(()=>wf(e,o,m,i,a,"data"),[e,o,m,i,a]),g=f.useMemo(()=>wf(e,o,m,i,a,"assets"),[e,o,m,i,a]),j=f.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let C=new Set,N=!1;if(o.forEach(_=>{let E=i.routes[_.route.id];!E||!E.hasLoader||(!h.some(v=>v.route.id===_.route.id)&&_.route.id in u&&c[_.route.id]?.shouldRevalidate||E.hasClientLoader?N=!0:C.add(_.route.id))}),C.size===0)return[];let k=sb(e,d,"data");return N&&C.size>0&&k.searchParams.set("_routes",o.filter(_=>C.has(_.route.id)).map(_=>_.route.id).join(",")),[k.pathname+k.search]},[d,u,a,i,h,o,e,c]),y=f.useMemo(()=>lb(g,i),[g,i]),w=hb(g);return f.createElement(f.Fragment,null,j.map(C=>f.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),y.map(C=>f.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),w.map(({key:C,link:N})=>f.createElement("link",{key:C,nonce:r.nonce,...N})))}function xb(...e){return o=>{e.forEach(r=>{typeof r=="function"?r(o):r!=null&&(r.current=o)})}}var kf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kf&&(window.__reactRouterVersion="7.9.6")}catch{}function Kc({basename:e,children:o,window:r}){let a=f.useRef();a.current==null&&(a.current=rv({window:r,v5Compat:!0}));let i=a.current,[c,d]=f.useState({action:i.action,location:i.location}),u=f.useCallback(m=>{f.startTransition(()=>d(m))},[d]);return f.useLayoutEffect(()=>i.listen(u),[i,u]),f.createElement(Kv,{basename:e,children:o,location:c.location,navigationType:c.action,navigator:i})}var Cf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sf=f.forwardRef(function({onClick:o,discover:r="render",prefetch:a="none",relative:i,reloadDocument:c,replace:d,state:u,target:m,to:h,preventScrollReset:g,viewTransition:j,...y},w){let{basename:C}=f.useContext(Ln),N=typeof h=="string"&&Cf.test(h),k,_=!1;if(typeof h=="string"&&N&&(k=h,kf))try{let H=new URL(window.location.href),G=h.startsWith("//")?new URL(H.protocol+h):new URL(h),se=vr(G.pathname,C);G.origin===H.origin&&se!=null?h=se+G.search+G.hash:_=!0}catch{pn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Tv(h,{relative:i}),[v,R,z]=fb(a,y),L=bb(h,{replace:d,state:u,target:m,preventScrollReset:g,relative:i,viewTransition:j});function A(H){o&&o(H),H.defaultPrevented||L(H)}let $=f.createElement("a",{...y,...z,href:k||E,onClick:_||c?o:A,ref:xb(w,R),target:m,"data-discover":!N&&r==="render"?"true":void 0});return v&&!N?f.createElement(f.Fragment,null,$,f.createElement(mb,{page:E})):$});Sf.displayName="Link";var ea=f.forwardRef(function({"aria-current":o="page",caseSensitive:r=!1,className:a="",end:i=!1,style:c,to:d,viewTransition:u,children:m,...h},g){let j=Jo(d,{relative:h.relative}),y=$r(),w=f.useContext(ui),{navigator:C,basename:N}=f.useContext(Ln),k=w!=null&&Cb(j)&&u===!0,_=C.encodeLocation?C.encodeLocation(j).pathname:j.pathname,E=y.pathname,v=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(E=E.toLowerCase(),v=v?v.toLowerCase():null,_=_.toLowerCase()),v&&N&&(v=vr(v,N)||v);const R=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let z=E===_||!i&&E.startsWith(_)&&E.charAt(R)==="/",L=v!=null&&(v===_||!i&&v.startsWith(_)&&v.charAt(_.length)==="/"),A={isActive:z,isPending:L,isTransitioning:k},$=z?o:void 0,H;typeof a=="function"?H=a(A):H=[a,z?"active":null,L?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let G=typeof c=="function"?c(A):c;return f.createElement(Sf,{...h,"aria-current":$,className:H,ref:g,style:G,to:d,viewTransition:u},typeof m=="function"?m(A):m)});ea.displayName="NavLink";var yb=f.forwardRef(({discover:e="render",fetcherKey:o,navigate:r,reloadDocument:a,replace:i,state:c,method:d=pi,action:u,onSubmit:m,relative:h,preventScrollReset:g,viewTransition:j,...y},w)=>{let C=Nb(),N=kb(u,{relative:h}),k=d.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&Cf.test(u),E=v=>{if(m&&m(v),v.defaultPrevented)return;v.preventDefault();let R=v.nativeEvent.submitter,z=R?.getAttribute("formmethod")||d;C(R||v.currentTarget,{fetcherKey:o,method:z,navigate:r,replace:i,state:c,relative:h,preventScrollReset:g,viewTransition:j})};return f.createElement("form",{ref:w,method:k,action:N,onSubmit:a?m:E,...y,"data-discover":!_&&e==="render"?"true":void 0})});yb.displayName="Form";function vb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ef(e){let o=f.useContext(Bs);return nt(o,vb(e)),o}function bb(e,{target:o,replace:r,state:a,preventScrollReset:i,relative:c,viewTransition:d}={}){let u=gf(),m=$r(),h=Jo(e,{relative:c});return f.useCallback(g=>{if(eb(g,o)){g.preventDefault();let j=r!==void 0?r:Xo(m)===Xo(h);u(e,{replace:j,state:a,preventScrollReset:i,relative:c,viewTransition:d})}},[m,u,h,r,a,o,e,i,c,d])}var wb=0,jb=()=>`__${String(++wb)}__`;function Nb(){let{router:e}=Ef("useSubmit"),{basename:o}=f.useContext(Ln),r=Vv();return f.useCallback(async(a,i={})=>{let{action:c,method:d,encType:u,formData:m,body:h}=rb(a,o);if(i.navigate===!1){let g=i.fetcherKey||jb();await e.fetch(g,r,i.action||c,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||d,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||c,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||d,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,o,r])}function kb(e,{relative:o}={}){let{basename:r}=f.useContext(Ln),a=f.useContext(In);nt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),c={...Jo(e||".",{relative:o})},d=$r();if(e==null){c.search=d.search;let u=new URLSearchParams(c.search),m=u.getAll("index");if(m.some(g=>g==="")){u.delete("index"),m.filter(j=>j).forEach(j=>u.append("index",j));let g=u.toString();c.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:br([r,c.pathname])),Xo(c)}function Cb(e,{relative:o}={}){let r=f.useContext(ff);nt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Ef("useViewTransitionState"),i=Jo(e,{relative:o});if(!r.isTransitioning)return!1;let c=vr(r.currentLocation.pathname,a)||r.currentLocation.pathname,d=vr(r.nextLocation.pathname,a)||r.nextLocation.pathname;return di(i.pathname,d)!=null||di(i.pathname,c)!=null}var us=nf();const Sb=jn(us);function _f(e){var o,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(o=0;o<i;o++)e[o]&&(r=_f(e[o]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function pe(){for(var e,o,r=0,a="",i=arguments.length;r<i;r++)(e=arguments[r])&&(o=_f(e))&&(a&&(a+=" "),a+=o);return a}const Eb=(e,o)=>{const r=new Array(e.length+o.length);for(let a=0;a<e.length;a++)r[a]=e[a];for(let a=0;a<o.length;a++)r[e.length+a]=o[a];return r},_b=(e,o)=>({classGroupId:e,validator:o}),Rf=(e=new Map,o=null,r)=>({nextPart:e,validators:o,classGroupId:r}),gi="-",Df=[],Rb="arbitrary..",Db=e=>{const o=Mb(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return Tb(d);const u=d.split(gi),m=u[0]===""&&u.length>1?1:0;return Tf(u,m,o)},getConflictingClassGroupIds:(d,u)=>{if(u){const m=a[d],h=r[d];return m?h?Eb(h,m):m:h||Df}return r[d]||Df}}},Tf=(e,o,r)=>{if(e.length-o===0)return r.classGroupId;const i=e[o],c=r.nextPart.get(i);if(c){const h=Tf(e,o+1,c);if(h)return h}const d=r.validators;if(d===null)return;const u=o===0?e.join(gi):e.slice(o).join(gi),m=d.length;for(let h=0;h<m;h++){const g=d[h];if(g.validator(u))return g.classGroupId}},Tb=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const o=e.slice(1,-1),r=o.indexOf(":"),a=o.slice(0,r);return a?Rb+a:void 0})(),Mb=e=>{const{theme:o,classGroups:r}=e;return Pb(r,o)},Pb=(e,o)=>{const r=Rf();for(const a in e){const i=e[a];Xc(i,r,a,o)}return r},Xc=(e,o,r,a)=>{const i=e.length;for(let c=0;c<i;c++){const d=e[c];$b(d,o,r,a)}},$b=(e,o,r,a)=>{if(typeof e=="string"){zb(e,o,r);return}if(typeof e=="function"){Lb(e,o,r,a);return}Ib(e,o,r,a)},zb=(e,o,r)=>{const a=e===""?o:Mf(o,e);a.classGroupId=r},Lb=(e,o,r,a)=>{if(Ob(e)){Xc(e(a),o,r,a);return}o.validators===null&&(o.validators=[]),o.validators.push(_b(r,e))},Ib=(e,o,r,a)=>{const i=Object.entries(e),c=i.length;for(let d=0;d<c;d++){const[u,m]=i[d];Xc(m,Mf(o,u),r,a)}},Mf=(e,o)=>{let r=e;const a=o.split(gi),i=a.length;for(let c=0;c<i;c++){const d=a[c];let u=r.nextPart.get(d);u||(u=Rf(),r.nextPart.set(d,u)),r=u}return r},Ob=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Ab=e=>{if(e<1)return{get:()=>{},set:()=>{}};let o=0,r=Object.create(null),a=Object.create(null);const i=(c,d)=>{r[c]=d,o++,o>e&&(o=0,a=r,r=Object.create(null))};return{get(c){let d=r[c];if(d!==void 0)return d;if((d=a[c])!==void 0)return i(c,d),d},set(c,d){c in r?r[c]=d:i(c,d)}}},Qc="!",Pf=":",Fb=[],$f=(e,o,r,a,i)=>({modifiers:e,hasImportantModifier:o,baseClassName:r,maybePostfixModifierPosition:a,isExternal:i}),Wb=e=>{const{prefix:o,experimentalParseClassName:r}=e;let a=i=>{const c=[];let d=0,u=0,m=0,h;const g=i.length;for(let N=0;N<g;N++){const k=i[N];if(d===0&&u===0){if(k===Pf){c.push(i.slice(m,N)),m=N+1;continue}if(k==="/"){h=N;continue}}k==="["?d++:k==="]"?d--:k==="("?u++:k===")"&&u--}const j=c.length===0?i:i.slice(m);let y=j,w=!1;j.endsWith(Qc)?(y=j.slice(0,-1),w=!0):j.startsWith(Qc)&&(y=j.slice(1),w=!0);const C=h&&h>m?h-m:void 0;return $f(c,w,y,C)};if(o){const i=o+Pf,c=a;a=d=>d.startsWith(i)?c(d.slice(i.length)):$f(Fb,!1,d,void 0,!0)}if(r){const i=a;a=c=>r({className:c,parseClassName:i})}return a},Bb=e=>{const o=new Map;return e.orderSensitiveModifiers.forEach((r,a)=>{o.set(r,1e6+a)}),r=>{const a=[];let i=[];for(let c=0;c<r.length;c++){const d=r[c],u=d[0]==="[",m=o.has(d);u||m?(i.length>0&&(i.sort(),a.push(...i),i=[]),a.push(d)):i.push(d)}return i.length>0&&(i.sort(),a.push(...i)),a}},Hb=e=>({cache:Ab(e.cacheSize),parseClassName:Wb(e),sortModifiers:Bb(e),...Db(e)}),Vb=/\s+/,Ub=(e,o)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:i,sortModifiers:c}=o,d=[],u=e.trim().split(Vb);let m="";for(let h=u.length-1;h>=0;h-=1){const g=u[h],{isExternal:j,modifiers:y,hasImportantModifier:w,baseClassName:C,maybePostfixModifierPosition:N}=r(g);if(j){m=g+(m.length>0?" "+m:m);continue}let k=!!N,_=a(k?C.substring(0,N):C);if(!_){if(!k){m=g+(m.length>0?" "+m:m);continue}if(_=a(C),!_){m=g+(m.length>0?" "+m:m);continue}k=!1}const E=y.length===0?"":y.length===1?y[0]:c(y).join(":"),v=w?E+Qc:E,R=v+_;if(d.indexOf(R)>-1)continue;d.push(R);const z=i(_,k);for(let L=0;L<z.length;++L){const A=z[L];d.push(v+A)}m=g+(m.length>0?" "+m:m)}return m},qb=(...e)=>{let o=0,r,a,i="";for(;o<e.length;)(r=e[o++])&&(a=zf(r))&&(i&&(i+=" "),i+=a);return i},zf=e=>{if(typeof e=="string")return e;let o,r="";for(let a=0;a<e.length;a++)e[a]&&(o=zf(e[a]))&&(r&&(r+=" "),r+=o);return r},Yb=(e,...o)=>{let r,a,i,c;const d=m=>{const h=o.reduce((g,j)=>j(g),e());return r=Hb(h),a=r.cache.get,i=r.cache.set,c=u,u(m)},u=m=>{const h=a(m);if(h)return h;const g=Ub(m,r);return i(m,g),g};return c=d,(...m)=>c(qb(...m))},Gb=[],Ct=e=>{const o=r=>r[e]||Gb;return o.isThemeGetter=!0,o},Lf=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,If=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Kb=/^\d+\/\d+$/,Xb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Zb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,e1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vs=e=>Kb.test(e),Le=e=>!!e&&!Number.isNaN(Number(e)),zr=e=>!!e&&Number.isInteger(Number(e)),Jc=e=>e.endsWith("%")&&Le(e.slice(0,-1)),wr=e=>Xb.test(e),t1=()=>!0,n1=e=>Qb.test(e)&&!Jb.test(e),Of=()=>!1,r1=e=>Zb.test(e),s1=e=>e1.test(e),o1=e=>!be(e)&&!we(e),a1=e=>Us(e,Hf,Of),be=e=>Lf.test(e),ps=e=>Us(e,Vf,n1),Zc=e=>Us(e,u1,Le),Af=e=>Us(e,Wf,Of),i1=e=>Us(e,Bf,s1),xi=e=>Us(e,Uf,r1),we=e=>If.test(e),ta=e=>qs(e,Vf),l1=e=>qs(e,p1),Ff=e=>qs(e,Wf),c1=e=>qs(e,Hf),d1=e=>qs(e,Bf),yi=e=>qs(e,Uf,!0),Us=(e,o,r)=>{const a=Lf.exec(e);return a?a[1]?o(a[1]):r(a[2]):!1},qs=(e,o,r=!1)=>{const a=If.exec(e);return a?a[1]?o(a[1]):r:!1},Wf=e=>e==="position"||e==="percentage",Bf=e=>e==="image"||e==="url",Hf=e=>e==="length"||e==="size"||e==="bg-size",Vf=e=>e==="length",u1=e=>e==="number",p1=e=>e==="family-name",Uf=e=>e==="shadow",f1=Yb(()=>{const e=Ct("color"),o=Ct("font"),r=Ct("text"),a=Ct("font-weight"),i=Ct("tracking"),c=Ct("leading"),d=Ct("breakpoint"),u=Ct("container"),m=Ct("spacing"),h=Ct("radius"),g=Ct("shadow"),j=Ct("inset-shadow"),y=Ct("text-shadow"),w=Ct("drop-shadow"),C=Ct("blur"),N=Ct("perspective"),k=Ct("aspect"),_=Ct("ease"),E=Ct("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...R(),we,be],L=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],$=()=>[we,be,m],H=()=>[Vs,"full","auto",...$()],G=()=>[zr,"none","subgrid",we,be],se=()=>["auto",{span:["full",zr,we,be]},zr,we,be],de=()=>[zr,"auto",we,be],je=()=>["auto","min","max","fr",we,be],ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ne=()=>["start","end","center","stretch","center-safe","end-safe"],oe=()=>["auto",...$()],ee=()=>[Vs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],F=()=>[e,we,be],X=()=>[...R(),Ff,Af,{position:[we,be]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",c1,a1,{size:[we,be]}],T=()=>[Jc,ta,ps],q=()=>["","none","full",h,we,be],Y=()=>["",Le,ta,ps],J=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>[Le,Jc,Ff,Af],ge=()=>["","none",C,we,be],_e=()=>["none",Le,we,be],Se=()=>["none",Le,we,be],Qe=()=>[Le,we,be],He=()=>[Vs,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wr],breakpoint:[wr],color:[t1],container:[wr],"drop-shadow":[wr],ease:["in","out","in-out"],font:[o1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wr],shadow:[wr],spacing:["px",Le],text:[wr],"text-shadow":[wr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vs,be,we,k]}],container:["container"],columns:[{columns:[Le,be,we,u]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[zr,"auto",we,be]}],basis:[{basis:[Vs,"full","auto",u,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,Vs,"auto","initial","none",be]}],grow:[{grow:["",Le,we,be]}],shrink:[{shrink:["",Le,we,be]}],order:[{order:[zr,"first","last","none",we,be]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:se()}],"col-start":[{"col-start":de()}],"col-end":[{"col-end":de()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:se()}],"row-start":[{"row-start":de()}],"row-end":[{"row-end":de()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":je()}],"auto-rows":[{"auto-rows":je()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...Ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ne()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...Ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...Ne(),"baseline"]}],"place-self":[{"place-self":["auto",...Ne()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[u,"screen",...ee()]}],"min-w":[{"min-w":[u,"screen","none",...ee()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[d]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",r,ta,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,we,Zc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jc,be]}],"font-family":[{font:[l1,be,o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,we,be]}],"line-clamp":[{"line-clamp":[Le,"none",we,Zc]}],leading:[{leading:[c,...$()]}],"list-image":[{"list-image":["none",we,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",we,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",we,ps]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Le,"auto",we,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zr,we,be],radial:["",we,be],conic:[zr,we,be]},d1,i1]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,we,be]}],"outline-w":[{outline:["",Le,ta,ps]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",g,yi,xi]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",j,yi,xi]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Le,ps]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",y,yi,xi]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Le,we,be]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":V()}],"mask-image-linear-to-pos":[{"mask-linear-to":V()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":V()}],"mask-image-t-to-pos":[{"mask-t-to":V()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":V()}],"mask-image-r-to-pos":[{"mask-r-to":V()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":V()}],"mask-image-b-to-pos":[{"mask-b-to":V()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":V()}],"mask-image-l-to-pos":[{"mask-l-to":V()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":V()}],"mask-image-x-to-pos":[{"mask-x-to":V()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":V()}],"mask-image-y-to-pos":[{"mask-y-to":V()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[we,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":V()}],"mask-image-radial-to-pos":[{"mask-radial-to":V()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":V()}],"mask-image-conic-to-pos":[{"mask-conic-to":V()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",we,be]}],filter:[{filter:["","none",we,be]}],blur:[{blur:ge()}],brightness:[{brightness:[Le,we,be]}],contrast:[{contrast:[Le,we,be]}],"drop-shadow":[{"drop-shadow":["","none",w,yi,xi]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Le,we,be]}],"hue-rotate":[{"hue-rotate":[Le,we,be]}],invert:[{invert:["",Le,we,be]}],saturate:[{saturate:[Le,we,be]}],sepia:[{sepia:["",Le,we,be]}],"backdrop-filter":[{"backdrop-filter":["","none",we,be]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Le,we,be]}],"backdrop-contrast":[{"backdrop-contrast":[Le,we,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,we,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,we,be]}],"backdrop-invert":[{"backdrop-invert":["",Le,we,be]}],"backdrop-opacity":[{"backdrop-opacity":[Le,we,be]}],"backdrop-saturate":[{"backdrop-saturate":[Le,we,be]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,we,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",we,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",we,be]}],ease:[{ease:["linear","initial",_,we,be]}],delay:[{delay:[Le,we,be]}],animate:[{animate:["none",E,we,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,we,be]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:_e()}],"rotate-x":[{"rotate-x":_e()}],"rotate-y":[{"rotate-y":_e()}],"rotate-z":[{"rotate-z":_e()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[we,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we,be]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Le,ta,ps,Zc]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function fn(...e){return f1(pe(e))}function fs({className:e,...o}){return t.jsx("div",{className:fn("animate-pulse rounded-md bg-muted",e),...o})}function m1(){return t.jsxs("div",{className:"sfui-form-builder","data-testid":"form-builder-layout",children:[t.jsx("nav",{className:"sfui-tabs border-b border-gray-200 mb-6",children:t.jsxs("div",{className:"flex space-x-1",children:[t.jsx(ea,{to:"/emails",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-emails",children:" Emails"}),t.jsx(ea,{to:"/builder",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-builder",children:" Form Builder"}),t.jsx(ea,{to:"/automations",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-automations",children:" Automations"}),t.jsx(ea,{to:"/settings",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-settings",children:" Settings"})]})}),t.jsx("div",{className:"sfui-tab-content",children:t.jsx(Gv,{})})]})}const h1=f.lazy(()=>Pr(()=>Promise.resolve().then(()=>uE),void 0)),g1=f.lazy(()=>Pr(()=>Promise.resolve().then(()=>l4),void 0));function ed(){return t.jsxs("div",{className:"flex h-full gap-4 p-4","data-testid":"page-skeleton",children:[t.jsxs("div",{className:"w-72 space-y-3",children:[t.jsx(fs,{className:"h-10 w-full"}),t.jsx(fs,{className:"h-16 w-full"}),t.jsx(fs,{className:"h-16 w-full"}),t.jsx(fs,{className:"h-16 w-full"})]}),t.jsxs("div",{className:"flex-1 space-y-4",children:[t.jsx(fs,{className:"h-12 w-full"}),t.jsx(fs,{className:"h-64 w-full"}),t.jsx(fs,{className:"h-32 w-full"})]})]})}function qf(){return t.jsx(Kc,{children:t.jsx(f.Suspense,{fallback:t.jsx(ed,{}),children:t.jsx(Vc,{children:t.jsxs(Jn,{element:t.jsx(m1,{}),children:[t.jsx(Jn,{index:!0,element:t.jsx(bf,{to:"/emails",replace:!0})}),t.jsx(Jn,{path:"/emails",element:t.jsx(h1,{...window.sfuiData})}),t.jsx(Jn,{path:"/automations",element:t.jsx(g1,{...window.sfuiData})}),t.jsx(Jn,{path:"/builder",element:t.jsx(x1,{})}),t.jsx(Jn,{path:"/settings",element:t.jsx(y1,{})}),t.jsx(Jn,{path:"*",element:t.jsx(bf,{to:"/emails",replace:!0})})]})})})})}function x1(){return t.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-lg","data-testid":"builder-placeholder",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:" Form Builder"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"The form builder will be available here soon."}),t.jsx("p",{className:"text-sm text-gray-500",children:"This tab will either show the legacy jQuery builder in an iframe, or a new React-based builder in future phases."})]})})}function y1(){return t.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-lg","data-testid":"settings-placeholder",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:" Settings"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Form settings will be available here soon."}),t.jsx("p",{className:"text-sm text-gray-500",children:"Settings configuration UI is planned for future migration phases."})]})})}function v1(){return t.jsx(Kc,{children:t.jsx(f.Suspense,{fallback:t.jsx(ed,{}),children:t.jsx(Vc,{children:t.jsx(Jn,{path:"/",element:t.jsx("div",{children:"Settings Page (coming soon)"})})})})})}function b1(){return t.jsx(Kc,{children:t.jsx(f.Suspense,{fallback:t.jsx(ed,{}),children:t.jsx(Vc,{children:t.jsx(Jn,{path:"/",element:t.jsx("div",{children:"Entries Page (coming soon)"})})})})})}let vi;const w1=new Uint8Array(16);function j1(){if(!vi&&(vi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vi(w1)}const Lt=[];for(let e=0;e<256;++e)Lt.push((e+256).toString(16).slice(1));function N1(e,o=0){return Lt[e[o+0]]+Lt[e[o+1]]+Lt[e[o+2]]+Lt[e[o+3]]+"-"+Lt[e[o+4]]+Lt[e[o+5]]+"-"+Lt[e[o+6]]+Lt[e[o+7]]+"-"+Lt[e[o+8]]+Lt[e[o+9]]+"-"+Lt[e[o+10]]+Lt[e[o+11]]+Lt[e[o+12]]+Lt[e[o+13]]+Lt[e[o+14]]+Lt[e[o+15]]}const Yf={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function gt(e,o,r){if(Yf.randomUUID&&!e)return Yf.randomUUID();e=e||{};const a=e.random||(e.rng||j1)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,N1(a)}const k1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C1=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,r,a)=>a?a.toUpperCase():r.toLowerCase()),Gf=e=>{const o=C1(e);return o.charAt(0).toUpperCase()+o.slice(1)},Kf=(...e)=>e.filter((o,r,a)=>!!o&&o.trim()!==""&&a.indexOf(o)===r).join(" ").trim(),S1=e=>{for(const o in e)if(o.startsWith("aria-")||o==="role"||o==="title")return!0};var E1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _1=f.forwardRef(({color:e="currentColor",size:o=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:c,iconNode:d,...u},m)=>f.createElement("svg",{ref:m,...E1,width:o,height:o,stroke:e,strokeWidth:a?Number(r)*24/Number(o):r,className:Kf("lucide",i),...!c&&!S1(u)&&{"aria-hidden":"true"},...u},[...d.map(([h,g])=>f.createElement(h,g)),...Array.isArray(c)?c:[c]]));const Q=(e,o)=>{const r=f.forwardRef(({className:a,...i},c)=>f.createElement(_1,{ref:c,iconNode:o,className:Kf(`lucide-${k1(Gf(e))}`,`lucide-${e}`,a),...i}));return r.displayName=Gf(e),r};const Xf=Q("align-center",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const Qf=Q("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const Jf=Q("align-right",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const R1=Q("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const D1=Q("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const T1=Q("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const Zf=Q("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);const em=Q("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);const M1=Q("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const na=Q("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const P1=Q("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const $1=Q("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const bi=Q("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const wi=Q("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);const ji=Q("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const mn=Q("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const z1=Q("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Lr=Q("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const ra=Q("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const ms=Q("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const sa=Q("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const L1=Q("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const I1=Q("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const td=Q("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const O1=Q("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const On=Q("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const It=Q("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);const nd=Q("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);const tm=Q("container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);const oa=Q("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const rd=Q("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const Ni=Q("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const A1=Q("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const ki=Q("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);const nm=Q("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const Ci=Q("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Si=Q("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Ys=Q("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Ei=Q("file-archive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);const _i=Q("file-audio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);const Ri=Q("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);const Di=Q("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);const Ti=Q("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const Ir=Q("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Mi=Q("file-type",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);const Pi=Q("file-video",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);const rm=Q("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const F1=Q("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const sm=Q("forward",[["path",{d:"m15 17 5-5-5-5",key:"nf172w"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);const om=Q("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);const am=Q("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const sd=Q("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const W1=Q("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const B1=Q("grip-horizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);const $i=Q("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const H1=Q("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);Q("highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);const V1=Q("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const od=Q("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const U1=Q("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const im=Q("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);const q1=Q("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const Y1=Q("layers-2",[["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74z",key:"15q6uc"}],["path",{d:"m20 14.285 1.5.845a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74l1.5-.845",key:"byia6g"}]]);const aa=Q("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);const zi=Q("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const G1=Q("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const Li=Q("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const K1=Q("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const hs=Q("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);const X1=Q("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const lm=Q("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);const Q1=Q("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const cm=Q("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const Gs=Q("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const dm=Q("move-vertical",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]]);const ad=Q("move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);const Zn=Q("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);const J1=Q("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const um=Q("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);const Z1=Q("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const Ii=Q("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const ew=Q("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);const er=Q("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const tw=Q("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);const id=Q("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const tr=Q("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const pm=Q("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const fm=Q("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const nw=Q("rectangle-ellipsis",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]]);const rw=Q("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);const Ks=Q("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const sw=Q("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);const Oi=Q("reply",[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]]);const mm=Q("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Xs=Q("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const hm=Q("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const Qs=Q("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const ia=Q("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Ai=Q("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const gm=Q("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const ow=Q("share",[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]]);const xm=Q("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const aw=Q("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const iw=Q("sliders-vertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const la=Q("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const ym=Q("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const lw=Q("square-chevron-down",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m16 10-4 4-4-4",key:"894hmk"}]]);const vm=Q("square-stack",[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);const bm=Q("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const wm=Q("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const cw=Q("step-forward",[["line",{x1:"6",x2:"6",y1:"4",y2:"20",key:"fy8qot"}],["polygon",{points:"10,4 20,12 10,20",key:"1mc1pf"}]]);const ld=Q("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);const Or=Q("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const dw=Q("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const Nn=Q("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const jm=Q("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);const Fi=Q("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);const Js=Q("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);const Nm=Q("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);const uw=Q("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);const gs=Q("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);const ca=Q("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const cd=Q("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);const Wi=Q("webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);const pw=Q("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);const pt=Q("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Bi=Q("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);const fw=Q("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const mw=Q("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),hw={},km=e=>{let o;const r=new Set,a=(g,j)=>{const y=typeof g=="function"?g(o):g;if(!Object.is(y,o)){const w=o;o=j??(typeof y!="object"||y===null)?y:Object.assign({},o,y),r.forEach(C=>C(o,w))}},i=()=>o,m={setState:a,getState:i,getInitialState:()=>h,subscribe:g=>(r.add(g),()=>r.delete(g)),destroy:()=>{(hw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=o=e(a,i,m);return m},Cm=e=>e?km(e):km;var dd={exports:{}},ud={},pd={exports:{}},fd={};var Sm;function gw(){if(Sm)return fd;Sm=1;var e=Ko();function o(j,y){return j===y&&(j!==0||1/j===1/y)||j!==j&&y!==y}var r=typeof Object.is=="function"?Object.is:o,a=e.useState,i=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function u(j,y){var w=y(),C=a({inst:{value:w,getSnapshot:y}}),N=C[0].inst,k=C[1];return c(function(){N.value=w,N.getSnapshot=y,m(N)&&k({inst:N})},[j,w,y]),i(function(){return m(N)&&k({inst:N}),j(function(){m(N)&&k({inst:N})})},[j]),d(w),w}function m(j){var y=j.getSnapshot;j=j.value;try{var w=y();return!r(j,w)}catch{return!0}}function h(j,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return fd.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,fd}var Em;function xw(){return Em||(Em=1,pd.exports=gw()),pd.exports}var _m;function yw(){if(_m)return ud;_m=1;var e=Ko(),o=xw();function r(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var a=typeof Object.is=="function"?Object.is:r,i=o.useSyncExternalStore,c=e.useRef,d=e.useEffect,u=e.useMemo,m=e.useDebugValue;return ud.useSyncExternalStoreWithSelector=function(h,g,j,y,w){var C=c(null);if(C.current===null){var N={hasValue:!1,value:null};C.current=N}else N=C.current;C=u(function(){function _(L){if(!E){if(E=!0,v=L,L=y(L),w!==void 0&&N.hasValue){var A=N.value;if(w(A,L))return R=A}return R=L}if(A=R,a(v,L))return A;var $=y(L);return w!==void 0&&w(A,$)?(v=L,A):(v=L,R=$)}var E=!1,v,R,z=j===void 0?null:j;return[function(){return _(g())},z===null?void 0:function(){return _(z())}]},[g,j,y,w]);var k=i(h,C[0],C[1]);return d(function(){N.hasValue=!0,N.value=k},[k]),m(k),k},ud}var Rm;function vw(){return Rm||(Rm=1,dd.exports=yw()),dd.exports}var bw=vw();const Dm=jn(bw),Tm={},{useDebugValue:ww}=De,{useSyncExternalStoreWithSelector:jw}=Dm;let Mm=!1;const Nw=e=>e;function kw(e,o=Nw,r){(Tm?"production":void 0)!=="production"&&r&&!Mm&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Mm=!0);const a=jw(e.subscribe,e.getState,e.getServerState||e.getInitialState,o,r);return ww(a),a}const Pm=e=>{(Tm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const o=typeof e=="function"?Cm(e):e,r=(a,i)=>kw(o,a,i);return Object.assign(r,o),r},Hi=e=>e?Pm(e):Pm,$m=Hi((e,o)=>({items:{},order:[],deviceVisibility:{},addElement:(r,a)=>{e(i=>{const c={...i.items,[r.id]:r},d=[...i.order];a!==void 0?d.splice(a,0,r.id):d.push(r.id);const u={...i.deviceVisibility,[r.id]:{desktop:!0,tablet:!0,mobile:!0}};return{items:c,order:d,deviceVisibility:u}})},removeElement:r=>{e(a=>{const i=a.items[r];if(!i)return a;const c={...a.items},d={...a.deviceVisibility};let u=[...a.order];i.parent&&c[i.parent]?.children&&(c[i.parent]={...c[i.parent],children:c[i.parent].children.filter(h=>h!==r)});const m=h=>{const g=c[h];g?.children&&g.children.forEach(j=>m(j)),delete c[h],delete d[h],u=u.filter(j=>j!==h)};return m(r),{items:c,order:u,deviceVisibility:d}})},updateElement:(r,a)=>{e(i=>i.items[r]?{items:{...i.items,[r]:{...i.items[r],...a}}}:i)},moveElement:(r,a,i,c)=>{e(d=>{const u=d.items[r];if(!u)return d;const m={...d.items};let h=d.order.filter(g=>g!==r);if(u.parent&&m[u.parent]?.children&&(m[u.parent]={...m[u.parent],children:m[u.parent].children.filter(g=>g!==r)}),m[r]={...u,parent:void 0},a&&i==="inside"){const g=m[a];if(g){const j=g.children?[...g.children]:[];j.push(r),m[a]={...g,children:j},m[r]={...m[r],parent:a}}}else if(a){const g=h.indexOf(a);if(g!==-1){const j=i==="before"?g:g+1;h.splice(j,0,r)}}else c!==void 0?h.splice(c,0,r):h.push(r);return{items:m,order:h}})},updateDeviceVisibility:(r,a,i)=>{e(c=>({deviceVisibility:{...c.deviceVisibility,[r]:{...c.deviceVisibility[r]||{desktop:!0,tablet:!0,mobile:!0},[a]:i}}}))},reorderElements:r=>{e({order:r})},loadElements:r=>{e(r)}})),Cw=Hi(e=>({draggedElement:null,hoveredElement:null,selectedElements:[],dropZoneActive:!1,dropTarget:null,setDraggedElement:o=>{e({draggedElement:o,dropZoneActive:o!==null,dropTarget:o===null?null:void 0})},setHoveredElement:o=>{e({hoveredElement:o})},setSelectedElements:o=>{e({selectedElements:o})},addSelectedElement:o=>{e(r=>({selectedElements:r.selectedElements.includes(o)?r.selectedElements:[...r.selectedElements,o]}))},removeSelectedElement:o=>{e(r=>({selectedElements:r.selectedElements.filter(a=>a!==o)}))},clearSelection:()=>{e({selectedElements:[]})},setDropTarget:o=>{e({dropTarget:o})}})),zm=({element:e,commonProps:o})=>{const r=()=>{switch(e.type){case"password":return"password";case"number":case"number-formatted":return"number";case"email":return"email";case"phone":return"tel";case"url":return"url";default:return"text"}},a=()=>{if(e.properties?.placeholder)return e.properties.placeholder;switch(e.type){case"password":return"Enter password";case"email":return"Enter email address";case"phone":return"Enter phone number";case"url":return"Enter URL";case"number":case"number-formatted":return"Enter number";default:return"Enter text"}};return t.jsx("input",{type:r(),placeholder:a(),...o})},Sw=Object.freeze(Object.defineProperty({__proto__:null,TextInput:zm,default:zm},Symbol.toStringTag,{value:"Module"})),Lm=({element:e,commonProps:o})=>t.jsx("textarea",{placeholder:e.properties?.placeholder||"Enter text",rows:e.properties?.rows||3,...o}),Ew=Object.freeze(Object.defineProperty({__proto__:null,TextArea:Lm,default:Lm},Symbol.toStringTag,{value:"Module"})),Im=({element:e,commonProps:o})=>t.jsxs("select",{...o,children:[t.jsx("option",{children:e.properties?.placeholder||"Choose an option"}),e.properties?.options?.map((r,a)=>t.jsx("option",{value:r,children:r},a))]}),_w=Object.freeze(Object.defineProperty({__proto__:null,Select:Im,default:Im},Symbol.toStringTag,{value:"Module"})),Rw=({position:e,onClose:o,onFormat:r,selectedText:a})=>t.jsxs("div",{className:"floating-toolbar",style:{position:"absolute",left:e.x,top:e.y-40,background:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"4px",zIndex:1e3},children:[t.jsx("button",{onClick:()=>r("bold"),children:"B"}),t.jsx("button",{onClick:()=>r("italic"),children:"I"}),t.jsx("button",{onClick:o,children:""})]}),Om=({value:e,onChange:o,className:r="",placeholder:a="",multiline:i=!1,onFormat:c})=>{const[d,u]=f.useState(!1),[m,h]=f.useState(e),[g,j]=f.useState(!1),[y,w]=f.useState({x:0,y:0}),[C,N]=f.useState(""),k=f.useRef(null);f.useEffect(()=>{h(e)},[e]);const _=()=>{u(!0),setTimeout(()=>{k.current?.focus()},0)},E=()=>{u(!1),o(m),j(!1)},v=z=>{z.key==="Enter"&&!i&&E(),z.key==="Escape"&&(h(e),u(!1),j(!1))},R=()=>{const z=window.getSelection();if(z&&z.toString().length>0){const A=z.getRangeAt(0).getBoundingClientRect();w({x:A.left,y:A.top}),N(z.toString()),j(!0)}else j(!1)};return d?t.jsxs(t.Fragment,{children:[i?t.jsx("textarea",{ref:k,value:m,onChange:z=>h(z.target.value),onBlur:E,onKeyDown:v,onMouseUp:R,className:`inline-editable-input ${r}`,placeholder:a,rows:3}):t.jsx("input",{ref:k,type:"text",value:m,onChange:z=>h(z.target.value),onBlur:E,onKeyDown:v,onMouseUp:R,className:`inline-editable-input ${r}`,placeholder:a}),g&&c&&t.jsx(Rw,{position:y,onClose:()=>j(!1),onFormat:c,selectedText:C})]}):t.jsxs("div",{onClick:_,className:`inline-editable-text ${r}`,title:"Click to edit",children:[e||a,t.jsx(Ii,{size:12,className:"inline-edit-icon"})]})},Am=({element:e,updateElementProperty:o})=>t.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${e.properties?.columnsPerRow||2}, 1fr)`},children:e.properties?.options?.map((r,a)=>t.jsx("div",{className:"radio-card border-2 border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:border-blue-300 hover:shadow-md",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"radio-card-icon mb-2",children:t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsx(fm,{size:16,className:"text-gray-400"})})}),t.jsxs("div",{className:"radio-card-content",children:[t.jsx(Om,{value:r,onChange:i=>{const c=[...e.properties?.options||[]];c[a]=i,o(e.id,"options",c)},className:"font-medium text-gray-900 text-sm leading-tight",placeholder:"Option title"}),e.properties?.showDescriptions!==!1&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Description for this option"})]})]}),t.jsx("input",{type:"radio",name:e.id,className:"radio-card-input mt-1",disabled:!0})]})},a))}),Dw=Object.freeze(Object.defineProperty({__proto__:null,RadioCards:Am,default:Am},Symbol.toStringTag,{value:"Module"})),Fm=({element:e,updateElementProperty:o})=>t.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${e.properties?.columnsPerRow||2}, 1fr)`},children:e.properties?.options?.map((r,a)=>t.jsx("div",{className:"checkbox-card border-2 border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:border-blue-300 hover:shadow-md",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"checkbox-card-icon mb-2",children:t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsx(ym,{size:16,className:"text-gray-400"})})}),t.jsxs("div",{className:"checkbox-card-content",children:[t.jsx(Om,{value:r,onChange:i=>{const c=[...e.properties?.options||[]];c[a]=i,o(e.id,"options",c)},className:"font-medium text-gray-900 text-sm leading-tight",placeholder:"Option title"}),e.properties?.showDescriptions!==!1&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Description for this option"})]})]}),t.jsx("input",{type:"checkbox",className:"checkbox-card-input mt-1",disabled:!0})]})},a))}),Tw=Object.freeze(Object.defineProperty({__proto__:null,CheckboxCards:Fm,default:Fm},Symbol.toStringTag,{value:"Module"})),Wm=({element:e})=>{const o=e.properties?.columnCount||2,r=e.properties?.gap||"20px";return t.jsx("div",{className:"columns-container",style:{display:"grid",gridTemplateColumns:`repeat(${o}, 1fr)`,gap:r,minHeight:"80px",border:"2px dashed #e5e7eb",borderRadius:"8px",padding:"16px"},children:Array.from({length:o}).map((a,i)=>t.jsxs("div",{className:"column-drop-zone",style:{border:"1px dashed #d1d5db",borderRadius:"4px",minHeight:"60px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f9fafb",color:"#6b7280",fontSize:"14px"},children:["Column ",i+1]},i))})},Mw=Object.freeze(Object.defineProperty({__proto__:null,ColumnsContainer:Wm,default:Wm},Symbol.toStringTag,{value:"Module"})),Pw=f.lazy(()=>Pr(()=>Promise.resolve().then(()=>Sw),void 0)),$w=f.lazy(()=>Pr(()=>Promise.resolve().then(()=>Ew),void 0)),zw=f.lazy(()=>Pr(()=>Promise.resolve().then(()=>_w),void 0)),Lw=f.lazy(()=>Pr(()=>Promise.resolve().then(()=>Dw),void 0)),Iw=f.lazy(()=>Pr(()=>Promise.resolve().then(()=>Tw),void 0)),Ow=f.lazy(()=>Pr(()=>Promise.resolve().then(()=>Mw),void 0)),Bm=({element:e,updateElementProperty:o})=>{const r={className:"form-input",disabled:!0,style:{width:e.properties?.width==="full"?"100%":`${e.properties?.width||100}%`,margin:e.properties?.margin,backgroundColor:e.properties?.backgroundColor,borderStyle:e.properties?.borderStyle}},a=()=>{switch(e.type){case"text":case"email":case"phone":case"url":case"password":case"number":case"number-formatted":return t.jsx(Pw,{element:e,commonProps:r});case"textarea":return t.jsx($w,{element:e,commonProps:r});case"select":return t.jsx(zw,{element:e,commonProps:r});case"radio-cards":return t.jsx(Lw,{element:e,updateElementProperty:o});case"checkbox-cards":return t.jsx(Iw,{element:e,updateElementProperty:o});case"columns":return t.jsx(Ow,{element:e});default:return t.jsxs("div",{className:"border border-gray-300 rounded-md p-4 text-center text-gray-500",children:["Element type: ",e.type," (not yet extracted)"]})}};return t.jsx(f.Suspense,{fallback:t.jsx("div",{className:"border border-gray-200 rounded-md p-4 text-center text-gray-400",children:"Loading element..."}),children:a()})},he=({label:e,children:o,className:r=""})=>t.jsxs("div",{className:`property-field ${r}`,children:[t.jsx("label",{className:"property-label",children:e}),o]}),Aw=({options:e=["Option 1","Option 2"],onUpdate:o,className:r=""})=>{const a=(d,u)=>{const m=[...e];m[d]=u,o(m)},i=d=>{const u=e.filter((m,h)=>h!==d);o(u)},c=()=>{const d=[...e,`Option ${e.length+1}`];o(d)};return t.jsxs("div",{className:`options-editor ${r}`,children:[e.map((d,u)=>t.jsxs("div",{className:"option-item",children:[t.jsx("input",{type:"text",value:d,onChange:m=>a(u,m.target.value),className:"form-input"}),t.jsx("button",{onClick:()=>i(u),className:"option-delete-btn",disabled:e.length<=1,children:t.jsx(pt,{size:14})})]},u)),t.jsxs("button",{onClick:c,className:"add-option-btn",children:[t.jsx(tr,{size:14}),"Add Option"]})]})},Fw=({element:e,onUpdate:o})=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Label",children:t.jsx("input",{type:"text",value:e.properties?.label||"",onChange:r=>o("label",r.target.value),className:"form-input",placeholder:"Field label"})}),t.jsx(he,{label:"Placeholder",children:t.jsx("input",{type:"text",value:e.properties?.placeholder||"",onChange:r=>o("placeholder",r.target.value),className:"form-input",placeholder:"Enter placeholder text"})}),t.jsx(he,{label:"Help Text",children:t.jsx("input",{type:"text",value:e.properties?.helpText||"",onChange:r=>o("helpText",r.target.value),className:"form-input",placeholder:"Additional guidance for users"})}),t.jsx(he,{label:"Required",children:t.jsx("input",{type:"checkbox",checked:e.properties?.required||!1,onChange:r=>o("required",r.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Disabled",children:t.jsx("input",{type:"checkbox",checked:e.properties?.disabled||!1,onChange:r=>o("disabled",r.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Read Only",children:t.jsx("input",{type:"checkbox",checked:e.properties?.readOnly||!1,onChange:r=>o("readOnly",r.target.checked),className:"form-checkbox"})})]}),Ww=({element:e,onUpdate:o})=>{const r=e.properties?.validation||{},a=(i,c)=>{const d={...r,[i]:c};o("validation",d)};return t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Minimum Length",children:t.jsx("input",{type:"number",value:r.minLength||"",onChange:i=>a("minLength",i.target.value?parseInt(i.target.value):void 0),className:"form-input",min:"0",placeholder:"0"})}),t.jsx(he,{label:"Maximum Length",children:t.jsx("input",{type:"number",value:r.maxLength||"",onChange:i=>a("maxLength",i.target.value?parseInt(i.target.value):void 0),className:"form-input",min:"1",placeholder:"100"})}),(e.type==="number"||e.type==="slider")&&t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Minimum Value",children:t.jsx("input",{type:"number",value:r.min||"",onChange:i=>a("min",i.target.value?parseFloat(i.target.value):void 0),className:"form-input",placeholder:"0"})}),t.jsx(he,{label:"Maximum Value",children:t.jsx("input",{type:"number",value:r.max||"",onChange:i=>a("max",i.target.value?parseFloat(i.target.value):void 0),className:"form-input",placeholder:"100"})})]}),t.jsx(he,{label:"Pattern (RegEx)",children:t.jsx("input",{type:"text",value:r.pattern||"",onChange:i=>a("pattern",i.target.value),className:"form-input",placeholder:"^[a-zA-Z0-9]+$"})}),t.jsx(he,{label:"Custom Error Message",children:t.jsx("input",{type:"text",value:r.errorMessage||"",onChange:i=>a("errorMessage",i.target.value),className:"form-input",placeholder:"Please enter a valid value"})}),t.jsx(he,{label:"Email Validation",children:t.jsx("input",{type:"checkbox",checked:r.email||!1,onChange:i=>a("email",i.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"URL Validation",children:t.jsx("input",{type:"checkbox",checked:r.url||!1,onChange:i=>a("url",i.target.checked),className:"form-checkbox"})})]})},Bw=({element:e,onUpdate:o})=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Minimum Value",children:t.jsx("input",{type:"number",value:e.properties?.min||0,onChange:r=>o("min",parseInt(r.target.value)),className:"form-input"})}),t.jsx(he,{label:"Maximum Value",children:t.jsx("input",{type:"number",value:e.properties?.max||100,onChange:r=>o("max",parseInt(r.target.value)),className:"form-input"})}),t.jsx(he,{label:"Step",children:t.jsx("input",{type:"number",value:e.properties?.step||1,onChange:r=>o("step",parseInt(r.target.value)),className:"form-input",min:"1"})}),t.jsx(he,{label:"Show Value",children:t.jsx("input",{type:"checkbox",checked:e.properties?.showValue!==!1,onChange:r=>o("showValue",r.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Show Ticks",children:t.jsx("input",{type:"checkbox",checked:e.properties?.showTicks||!1,onChange:r=>o("showTicks",r.target.checked),className:"form-checkbox"})})]}),Hw=({element:e,onUpdate:o})=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Allowed File Types",children:t.jsx("input",{type:"text",value:e.properties?.acceptedTypes||"",onChange:r=>o("acceptedTypes",r.target.value),className:"form-input",placeholder:".pdf,.doc,.docx,.jpg,.png"})}),t.jsx(he,{label:"Max File Size (MB)",children:t.jsx("input",{type:"number",value:e.properties?.maxSize||10,onChange:r=>o("maxSize",parseInt(r.target.value)),className:"form-input",min:"1"})}),t.jsx(he,{label:"Multiple Files",children:t.jsx("input",{type:"checkbox",checked:e.properties?.multiple||!1,onChange:r=>o("multiple",r.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Max Number of Files",children:t.jsx("input",{type:"number",value:e.properties?.maxFiles||5,onChange:r=>o("maxFiles",parseInt(r.target.value)),className:"form-input",min:"1",disabled:!e.properties?.multiple})}),t.jsx(he,{label:"Upload Button Text",children:t.jsx("input",{type:"text",value:e.properties?.uploadText||"Choose Files",onChange:r=>o("uploadText",r.target.value),className:"form-input"})}),t.jsx(he,{label:"Drag & Drop",children:t.jsx("input",{type:"checkbox",checked:e.properties?.allowDragDrop!==!1,onChange:r=>o("allowDragDrop",r.target.checked),className:"form-checkbox"})})]}),Vw=({element:e,onUpdate:o})=>e.type==="paragraph"?t.jsx(he,{label:"Content",children:t.jsx("textarea",{value:e.properties?.content||"",onChange:r=>o("content",r.target.value),className:"form-input",rows:3,placeholder:"Enter paragraph content..."})}):e.type==="html-block"?t.jsx(he,{label:"HTML Content",children:t.jsx("textarea",{value:e.properties?.htmlContent||"",onChange:r=>o("htmlContent",r.target.value),className:"form-input",rows:5,placeholder:"<div>Custom HTML content</div>"})}):null,Uw=({element:e,onUpdate:o})=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Max Rating",children:t.jsx("input",{type:"number",value:e.properties?.maxRating||5,onChange:r=>o("maxRating",parseInt(r.target.value)),className:"form-input",min:"1",max:"10"})}),t.jsx(he,{label:"Rating Style",children:t.jsxs("select",{value:e.properties?.style||"stars",onChange:r=>o("style",r.target.value),className:"form-input",children:[t.jsx("option",{value:"stars",children:"Stars"}),t.jsx("option",{value:"hearts",children:"Hearts"}),t.jsx("option",{value:"thumbs",children:"Thumbs Up/Down"}),t.jsx("option",{value:"numbers",children:"Numbers"}),t.jsx("option",{value:"faces",children:"Faces"})]})}),t.jsx(he,{label:"Show Labels",children:t.jsx("input",{type:"checkbox",checked:e.properties?.showLabels||!1,onChange:r=>o("showLabels",r.target.checked),className:"form-checkbox"})}),e.properties?.showLabels&&t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Low Label",children:t.jsx("input",{type:"text",value:e.properties?.lowLabel||"",onChange:r=>o("lowLabel",r.target.value),className:"form-input",placeholder:"Poor"})}),t.jsx(he,{label:"High Label",children:t.jsx("input",{type:"text",value:e.properties?.highLabel||"",onChange:r=>o("highLabel",r.target.value),className:"form-input",placeholder:"Excellent"})})]}),t.jsx(he,{label:"Allow Half Ratings",children:t.jsx("input",{type:"checkbox",checked:e.properties?.allowHalf||!1,onChange:r=>o("allowHalf",r.target.checked),className:"form-checkbox"})})]}),qw=({element:e,onUpdate:o})=>{const r=e.type==="radio-cards"||e.type==="checkbox-cards";return t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Options",children:t.jsx(Aw,{options:e.properties?.options||["Option 1","Option 2"],onUpdate:a=>o("options",a)})}),r&&t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Columns Per Row",children:t.jsxs("select",{value:e.properties?.columnsPerRow||2,onChange:a=>o("columnsPerRow",parseInt(a.target.value)),className:"form-input",children:[t.jsx("option",{value:1,children:"1 Column"}),t.jsx("option",{value:2,children:"2 Columns"}),t.jsx("option",{value:3,children:"3 Columns"}),t.jsx("option",{value:4,children:"4 Columns"})]})}),t.jsx(he,{label:"Show Descriptions",children:t.jsx("input",{type:"checkbox",checked:e.properties?.showDescriptions!==!1,onChange:a=>o("showDescriptions",a.target.checked),className:"form-checkbox"})})]}),e.type==="select"&&t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Multiple Selection",children:t.jsx("input",{type:"checkbox",checked:e.properties?.multiple||!1,onChange:a=>o("multiple",a.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Searchable",children:t.jsx("input",{type:"checkbox",checked:e.properties?.searchable||!1,onChange:a=>o("searchable",a.target.checked),className:"form-checkbox"})})]}),t.jsx(he,{label:"Default Value",children:t.jsx("input",{type:"text",value:e.properties?.defaultValue||"",onChange:a=>o("defaultValue",a.target.value),className:"form-input",placeholder:"Select default option"})})]})},Yw=({element:e,onUpdate:o})=>{const r=()=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Number of Columns",children:t.jsxs("select",{value:e.properties?.columnCount||2,onChange:u=>o("columnCount",parseInt(u.target.value)),className:"form-input",children:[t.jsx("option",{value:1,children:"1 Column"}),t.jsx("option",{value:2,children:"2 Columns"}),t.jsx("option",{value:3,children:"3 Columns"}),t.jsx("option",{value:4,children:"4 Columns"})]})}),t.jsx(he,{label:"Gap Between Columns",children:t.jsx("input",{type:"text",value:e.properties?.gap||"20px",onChange:u=>o("gap",u.target.value),placeholder:"20px",className:"form-input"})})]}),a=()=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Tab Position",children:t.jsxs("select",{value:e.properties?.tabPosition||"top",onChange:u=>o("tabPosition",u.target.value),className:"form-input",children:[t.jsx("option",{value:"top",children:"Top"}),t.jsx("option",{value:"bottom",children:"Bottom"}),t.jsx("option",{value:"left",children:"Left"}),t.jsx("option",{value:"right",children:"Right"})]})}),t.jsx(he,{label:"Tabs",children:t.jsxs("div",{className:"space-y-2",children:[e.properties?.tabs?.map((u,m)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:u.title,onChange:h=>{const g=[...e.properties.tabs||[]];g[m]={...u,title:h.target.value},o("tabs",g)},className:"form-input flex-1",placeholder:`Tab ${m+1}`}),t.jsx("button",{onClick:()=>{const h=e.properties.tabs?.filter((g,j)=>j!==m);o("tabs",h)},className:"btn btn-ghost btn-icon text-red-500",children:t.jsx(pt,{size:14})})]},u.id)),t.jsxs("button",{onClick:()=>{const u=[...e.properties.tabs||[],{id:gt(),title:`Tab ${(e.properties.tabs?.length||0)+1}`,active:!1}];o("tabs",u)},className:"btn btn-ghost text-sm",children:[t.jsx(tr,{size:14}),"Add Tab"]})]})})]}),i=()=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Allow Multiple Open",children:t.jsx("input",{type:"checkbox",checked:e.properties?.allowMultiple||!1,onChange:u=>o("allowMultiple",u.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Sections",children:t.jsxs("div",{className:"space-y-2",children:[e.properties?.sections?.map((u,m)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:u.title,onChange:h=>{const g=[...e.properties.sections||[]];g[m]={...u,title:h.target.value},o("sections",g)},className:"form-input flex-1",placeholder:`Section ${m+1}`}),t.jsx("button",{onClick:()=>{const h=e.properties.sections?.filter((g,j)=>j!==m);o("sections",h)},className:"btn btn-ghost btn-icon text-red-500",children:t.jsx(pt,{size:14})})]},u.id)),t.jsxs("button",{onClick:()=>{const u=[...e.properties.sections||[],{id:gt(),title:`Section ${(e.properties.sections?.length||0)+1}`,expanded:!1}];o("sections",u)},className:"btn btn-ghost text-sm",children:[t.jsx(tr,{size:14}),"Add Section"]})]})})]}),c=()=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Legend/Title",children:t.jsx("input",{type:"text",value:e.properties?.legend||"",onChange:u=>o("legend",u.target.value),placeholder:"Section title",className:"form-input"})}),t.jsx(he,{label:"Show Border",children:t.jsx("input",{type:"checkbox",checked:e.properties?.showBorder!==!1,onChange:u=>o("showBorder",u.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Collapsible",children:t.jsx("input",{type:"checkbox",checked:e.properties?.collapsible||!1,onChange:u=>o("collapsible",u.target.checked),className:"form-checkbox"})})]}),d=()=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Show Header",children:t.jsx("input",{type:"checkbox",checked:e.properties?.showHeader!==!1,onChange:u=>o("showHeader",u.target.checked),className:"form-checkbox"})}),e.properties?.showHeader!==!1&&t.jsx(he,{label:"Header Title",children:t.jsx("input",{type:"text",value:e.properties?.headerTitle||"",onChange:u=>o("headerTitle",u.target.value),placeholder:"Card title",className:"form-input"})}),t.jsx(he,{label:"Show Footer",children:t.jsx("input",{type:"checkbox",checked:e.properties?.showFooter||!1,onChange:u=>o("showFooter",u.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Elevation",children:t.jsxs("select",{value:e.properties?.elevation||"medium",onChange:u=>o("elevation",u.target.value),className:"form-input",children:[t.jsx("option",{value:"none",children:"None"}),t.jsx("option",{value:"small",children:"Small"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"large",children:"Large"})]})})]});switch(e.type){case"columns":return r();case"tabs":return a();case"accordion":return i();case"section":return c();case"card":return d();default:return null}},Gw=({element:e,onUpdate:o})=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Show Step Numbers",children:t.jsx("input",{type:"checkbox",checked:e.properties?.showStepNumbers!==!1,onChange:r=>o("showStepNumbers",r.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Allow Back Navigation",children:t.jsx("input",{type:"checkbox",checked:e.properties?.allowBackNavigation!==!1,onChange:r=>o("allowBackNavigation",r.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Steps",children:t.jsxs("div",{className:"space-y-3",children:[e.properties?.steps?.map((r,a)=>t.jsxs("div",{className:"border rounded p-3",children:[t.jsx("input",{type:"text",value:r.title,onChange:i=>{const c=[...e.properties.steps||[]];c[a]={...r,title:i.target.value},o("steps",c)},className:"form-input mb-2",placeholder:"Step Title"}),t.jsx("input",{type:"text",value:r.description||"",onChange:i=>{const c=[...e.properties.steps||[]];c[a]={...r,description:i.target.value},o("steps",c)},className:"form-input mb-2",placeholder:"Step Description"}),t.jsx("button",{onClick:()=>{const i=e.properties.steps?.filter((c,d)=>d!==a);o("steps",i)},className:"btn btn-ghost btn-icon text-red-500",children:t.jsx(pt,{size:14})})]},r.id)),t.jsxs("button",{onClick:()=>{const r=[...e.properties.steps||[],{id:gt(),title:`Step ${(e.properties.steps?.length||0)+1}`,description:"Step description"}];o("steps",r)},className:"btn btn-ghost text-sm",children:[t.jsx(tr,{size:14}),"Add Step"]})]})})]}),Kw=({element:e,onUpdate:o})=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Item Label",children:t.jsx("input",{type:"text",value:e.properties?.itemLabel||"Item",onChange:r=>o("itemLabel",r.target.value),placeholder:"Item",className:"form-input"})}),t.jsx(he,{label:"Minimum Items",children:t.jsx("input",{type:"number",value:e.properties?.minItems||1,onChange:r=>o("minItems",parseInt(r.target.value)),min:"0",className:"form-input"})}),t.jsx(he,{label:"Maximum Items",children:t.jsx("input",{type:"number",value:e.properties?.maxItems||10,onChange:r=>o("maxItems",parseInt(r.target.value)),min:"1",className:"form-input"})}),t.jsx(he,{label:"Allow Reordering",children:t.jsx("input",{type:"checkbox",checked:e.properties?.allowReordering!==!1,onChange:r=>o("allowReordering",r.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Collapsible Items",children:t.jsx("input",{type:"checkbox",checked:e.properties?.collapsibleItems||!1,onChange:r=>o("collapsibleItems",r.target.checked),className:"form-checkbox"})})]}),Xw=({element:e,onUpdate:o})=>{const r=(a,i)=>{const c={...e.properties?.condition,[a]:i};o("condition",c)};return t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Condition Field",children:t.jsx("input",{type:"text",value:e.properties?.condition?.field||"",onChange:a=>r("field",a.target.value),placeholder:"field_name",className:"form-input"})}),t.jsx(he,{label:"Operator",children:t.jsxs("select",{value:e.properties?.condition?.operator||"equals",onChange:a=>r("operator",a.target.value),className:"form-input",children:[t.jsx("option",{value:"equals",children:"Equals"}),t.jsx("option",{value:"not_equals",children:"Not Equals"}),t.jsx("option",{value:"contains",children:"Contains"}),t.jsx("option",{value:"not_contains",children:"Does Not Contain"}),t.jsx("option",{value:"greater_than",children:"Greater Than"}),t.jsx("option",{value:"less_than",children:"Less Than"}),t.jsx("option",{value:"greater_than_or_equal",children:"Greater Than or Equal"}),t.jsx("option",{value:"less_than_or_equal",children:"Less Than or Equal"}),t.jsx("option",{value:"is_empty",children:"Is Empty"}),t.jsx("option",{value:"is_not_empty",children:"Is Not Empty"}),t.jsx("option",{value:"starts_with",children:"Starts With"}),t.jsx("option",{value:"ends_with",children:"Ends With"})]})}),t.jsx(he,{label:"Value",children:t.jsx("input",{type:"text",value:e.properties?.condition?.value||"",onChange:a=>r("value",a.target.value),placeholder:"comparison value",className:"form-input"})}),t.jsx(he,{label:"Show When Condition is False",children:t.jsx("input",{type:"checkbox",checked:e.properties?.showWhenFalse||!1,onChange:a=>o("showWhenFalse",a.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Animation",children:t.jsxs("select",{value:e.properties?.animation||"slide",onChange:a=>o("animation",a.target.value),className:"form-input",children:[t.jsx("option",{value:"none",children:"None"}),t.jsx("option",{value:"slide",children:"Slide"}),t.jsx("option",{value:"fade",children:"Fade"}),t.jsx("option",{value:"scale",children:"Scale"})]})})]})},Qw=({element:e,onUpdate:o})=>t.jsxs(t.Fragment,{children:[t.jsx(he,{label:"Amount Type",children:t.jsxs("select",{value:e.properties?.amountType||"fixed",onChange:r=>o("amountType",r.target.value),className:"form-input",children:[t.jsx("option",{value:"fixed",children:"Fixed Amount"}),t.jsx("option",{value:"user",children:"User Defined"}),t.jsx("option",{value:"calculated",children:"Calculated"})]})}),e.properties?.amountType==="fixed"&&t.jsx(he,{label:"Amount",children:t.jsx("input",{type:"number",value:e.properties?.amount||"",onChange:r=>o("amount",parseFloat(r.target.value)||0),className:"form-input",min:"0",step:"0.01",placeholder:"0.00"})}),e.properties?.amountType==="calculated"&&t.jsx(he,{label:"Calculation Formula",children:t.jsx("input",{type:"text",value:e.properties?.formula||"",onChange:r=>o("formula",r.target.value),className:"form-input",placeholder:"field1 * field2 + 10"})}),t.jsx(he,{label:"Currency",children:t.jsxs("select",{value:e.properties?.currency||"USD",onChange:r=>o("currency",r.target.value),className:"form-input",children:[t.jsx("option",{value:"USD",children:"USD ($)"}),t.jsx("option",{value:"EUR",children:"EUR ()"}),t.jsx("option",{value:"GBP",children:"GBP ()"}),t.jsx("option",{value:"CAD",children:"CAD ($)"}),t.jsx("option",{value:"AUD",children:"AUD ($)"}),t.jsx("option",{value:"JPY",children:"JPY ()"})]})}),t.jsx(he,{label:"Payment Methods",children:t.jsx("div",{className:"space-y-2",children:["card","paypal","apple_pay","google_pay","bank_transfer"].map(r=>t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:e.properties?.paymentMethods?.includes(r)||!1,onChange:a=>{const i=e.properties?.paymentMethods||[],c=a.target.checked?[...i,r]:i.filter(d=>d!==r);o("paymentMethods",c)},className:"form-checkbox mr-2"}),t.jsx("span",{className:"capitalize",children:r.replace("_"," ")})]},r))})}),t.jsx(he,{label:"Collect Billing Address",children:t.jsx("input",{type:"checkbox",checked:e.properties?.collectBillingAddress||!1,onChange:r=>o("collectBillingAddress",r.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Collect Shipping Address",children:t.jsx("input",{type:"checkbox",checked:e.properties?.collectShippingAddress||!1,onChange:r=>o("collectShippingAddress",r.target.checked),className:"form-checkbox"})}),t.jsx(he,{label:"Tax Rate (%)",children:t.jsx("input",{type:"number",value:e.properties?.taxRate||"",onChange:r=>o("taxRate",parseFloat(r.target.value)||0),className:"form-input",min:"0",max:"100",step:"0.01",placeholder:"0.00"})}),t.jsx(he,{label:"Success Message",children:t.jsx("textarea",{value:e.properties?.successMessage||"",onChange:r=>o("successMessage",r.target.value),className:"form-input",rows:3,placeholder:"Thank you for your payment!"})})]}),Jw={text:["general","validation"],email:["general","validation"],password:["general","validation"],url:["general","validation"],phone:["general","validation"],number:["general","validation"],textarea:["general","validation"],file:["general","file"],select:["general","choice","validation"],radio:["general","choice"],checkbox:["general","choice"],"radio-cards":["general","choice"],"checkbox-cards":["general","choice"],slider:["general","slider"],rating:["general","rating"],columns:["container"],tabs:["container"],accordion:["container"],section:["container"],card:["container"],"step-wizard":["step-wizard"],repeater:["repeater"],"conditional-group":["conditional-group"],payment:["general","payment"],paragraph:["content"],"html-block":["content"]},Hm={general:Fw,validation:Ww,choice:qw,container:Yw,slider:Bw,file:Hw,rating:Uw,content:Vw,payment:Qw,"step-wizard":Gw,repeater:Kw,"conditional-group":Xw},Zw={general:"General",validation:"Validation",choice:"Options",container:"Layout",slider:"Range",file:"File Upload",rating:"Rating",content:"Content",payment:"Payment","step-wizard":"Steps",repeater:"Repeater","conditional-group":"Conditions"},ej=({element:e,onUpdate:o})=>{const r=Jw[e.type]||["general"];if(r.length===1){const d=Hm[r[0]];return d?t.jsx(d,{element:e,onUpdate:o}):null}const[a,i]=De.useState(r[0]),c=Hm[a];return t.jsxs("div",{className:"property-panel-registry",children:[t.jsx("div",{className:"panel-tabs",children:r.map(d=>t.jsx("button",{onClick:()=>i(d),className:`panel-tab ${a===d?"active":""}`,children:Zw[d]||d},d))}),t.jsx("div",{className:"panel-content",children:c&&t.jsx(c,{element:e,onUpdate:o})})]})},tj={success:t.jsx(sa,{size:18}),error:t.jsx(ms,{size:18}),warning:t.jsx(ms,{size:18}),info:t.jsx(I1,{size:18})},Vm=({id:e,type:o,message:r,visible:a,hiding:i,onClose:c})=>{const d=u=>{u.stopPropagation(),c(e)};return t.jsxs("div",{className:`toast toast-${o} ${i?"toast-hiding":a?"toast-visible":""}`,role:"alert","aria-live":"polite",children:[t.jsx("div",{className:"toast-icon",children:tj[o]}),t.jsx("div",{className:"toast-message",children:r}),t.jsx("button",{className:"toast-close",onClick:d,title:"Close","aria-label":"Close notification",children:t.jsx(pt,{size:14})})]})},Um=f.createContext(void 0),nj=({children:e,maxToasts:o=5,defaultDuration:r=5e3,position:a="top-right"})=>{const[i,c]=f.useState([]),d=f.useRef(new Map),u=f.useCallback(y=>{const w=d.current.get(y);w&&(clearTimeout(w),d.current.delete(y)),c(C=>C.map(N=>N.id===y?{...N,hiding:!0}:N)),setTimeout(()=>{c(C=>C.filter(N=>N.id!==y))},300)},[]),m=f.useCallback((y,w="info",C)=>{const N=gt(),k=C??r,_={id:N,type:w,message:y,duration:k,visible:!1,hiding:!1};if(c(E=>{const v=[...E,_];if(v.length>o){const R=v[0];return u(R.id),v.slice(1)}return v}),setTimeout(()=>{c(E=>E.map(v=>v.id===N?{...v,visible:!0}:v))},10),k>0){const E=setTimeout(()=>{u(N)},k);d.current.set(N,E)}},[r,o,u]),h=f.useCallback(()=>{d.current.forEach(y=>clearTimeout(y)),d.current.clear(),c(y=>y.map(w=>({...w,hiding:!0}))),setTimeout(()=>{c([])},300)},[]),g={toasts:i,addToast:m,removeToast:u,clearAllToasts:h},j={"top-right":"toast-container-top-right","top-left":"toast-container-top-left","bottom-right":"toast-container-bottom-right","bottom-left":"toast-container-bottom-left","top-center":"toast-container-top-center","bottom-center":"toast-container-bottom-center"};return t.jsxs(Um.Provider,{value:g,children:[e,t.jsx("div",{className:`toast-container ${j[a]}`,children:i.map(y=>t.jsx(Vm,{id:y.id,type:y.type,message:y.message,visible:y.visible||!1,hiding:y.hiding,onClose:u},y.id))})]})},qm=()=>{const e=f.useContext(Um);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Vi=({isOpen:e,onClose:o,title:r,className:a="",position:i="right",size:c="md",children:d})=>{const u=f.useRef(null);if(f.useEffect(()=>{const g=y=>{y.key==="Escape"&&e&&o()},j=y=>{u.current&&!u.current.contains(y.target)&&o()};return e&&(document.addEventListener("keydown",g),document.addEventListener("mousedown",j),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",g),document.removeEventListener("mousedown",j),document.body.style.overflow=""}},[e,o]),!e)return null;const m={sm:"panel-sm",md:"panel-md",lg:"panel-lg",xl:"panel-xl",full:"panel-full"},h={left:"panel-left",right:"panel-right",center:"panel-center"};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"panel-overlay","aria-hidden":"true"}),t.jsxs("div",{ref:u,className:`panel ${m[c]} ${h[i]} ${a}`,role:"dialog","aria-modal":"true","aria-labelledby":r?"panel-title":void 0,children:[r&&t.jsxs("div",{className:"panel-header",children:[t.jsx("h3",{id:"panel-title",children:r}),t.jsx("button",{onClick:o,className:"panel-close","aria-label":"Close panel",children:t.jsx(pt,{size:16})})]}),t.jsx("div",{className:"panel-body",children:d})]})]})},rj=[{type:"embed",label:"Embed Code",icon:t.jsx(It,{size:20})},{type:"popup",label:"Popup",icon:t.jsx(Ci,{size:20})},{type:"inline",label:"Inline",icon:t.jsx(J1,{size:20})}],sj=({isOpen:e,onClose:o,formUrl:r="https://forms.example.com/contact-form",onInviteCollaborator:a,collaborators:i=[],embedOptions:c=rj,...d})=>{const[u,m]=f.useState("link"),{addToast:h}=qm(),g=async w=>{try{await navigator.clipboard.writeText(w),h("Copied to clipboard!","success")}catch{h("Failed to copy","error")}},j=w=>{h("Collaborator removed","success")},y=w=>{h(`${w} embed code copied`,"success")};return t.jsx(Vi,{isOpen:e,onClose:o,title:"Share & Collaborate",size:"md",...d,children:t.jsxs("div",{className:"share-content",children:[t.jsxs("div",{className:"share-tabs",children:[t.jsxs("button",{className:`share-tab ${u==="link"?"share-tab-active":""}`,onClick:()=>m("link"),children:[t.jsx(zi,{size:16}),"Public Link"]}),t.jsxs("button",{className:`share-tab ${u==="collaborate"?"share-tab-active":""}`,onClick:()=>m("collaborate"),children:[t.jsx(cd,{size:16}),"Collaborate"]}),t.jsxs("button",{className:`share-tab ${u==="embed"?"share-tab-active":""}`,onClick:()=>m("embed"),children:[t.jsx(It,{size:16}),"Embed"]})]}),u==="link"&&t.jsxs("div",{className:"share-section",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Share this link to allow anyone to fill out your form"}),t.jsxs("div",{className:"share-link-input",children:[t.jsx("input",{type:"text",value:r,readOnly:!0,className:"form-input"}),t.jsxs("button",{className:"btn btn-sm",onClick:()=>g(r),children:[t.jsx(oa,{size:16}),"Copy"]})]}),t.jsx("div",{className:"mt-4",children:t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"form-checkbox"}),t.jsx("span",{className:"text-sm",children:"Make form public"})]})})]}),u==="collaborate"&&t.jsxs("div",{className:"share-section",children:[t.jsx("div",{className:"collaborator-list",children:i.map(w=>t.jsxs("div",{className:"collaborator-item",children:[t.jsx("div",{className:"collaborator-avatar",children:w.avatar?t.jsx("img",{src:w.avatar,alt:w.name}):w.initials||w.name.substring(0,2).toUpperCase()}),t.jsxs("div",{className:"collaborator-info",children:[t.jsx("span",{className:"collaborator-name",children:w.name}),t.jsx("span",{className:"collaborator-role",children:w.role})]}),w.role!=="owner"&&t.jsx("button",{className:"btn btn-sm",onClick:()=>j(w.id),children:"Remove"})]},w.id))}),a&&t.jsxs("button",{className:"btn btn-outline w-full mt-4",onClick:a,children:[t.jsx(tr,{size:16}),"Invite Collaborator"]})]}),u==="embed"&&t.jsxs("div",{className:"share-section",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to embed this form on your website"}),t.jsx("div",{className:"embed-options",children:c.map(w=>t.jsxs("button",{className:"embed-option",onClick:()=>y(w.type),children:[w.icon,t.jsx("span",{children:w.label})]},w.type))}),t.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Embed Settings"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),t.jsx("span",{className:"text-sm",children:"Show form title"})]}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),t.jsx("span",{className:"text-sm",children:"Show form description"})]}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"form-checkbox"}),t.jsx("span",{className:"text-sm",children:"Auto-resize height"})]})]})]})]})]})})},oj=[{type:"html",label:"HTML Export",icon:t.jsx(Ri,{size:24}),description:"Export as standalone HTML file with embedded styles"},{type:"json",label:"JSON Export",icon:t.jsx(Ni,{size:24}),description:"Export form structure as JSON data"},{type:"react",label:"React Component",icon:t.jsx(It,{size:24}),description:"Export as a React component with TypeScript"},{type:"pdf",label:"PDF Export",icon:t.jsx(Ir,{size:24}),description:"Export form as a printable PDF document"}],aj=({isOpen:e,onClose:o,onExport:r,exportOptions:a=oj,...i})=>{const c=d=>{r(d),setTimeout(()=>o(),500)};return t.jsx(Vi,{isOpen:e,onClose:o,title:"Export Form",size:"md",...i,children:t.jsxs("div",{className:"export-content",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Choose a format to export your form. Each format is optimized for different use cases."}),t.jsx("div",{className:"export-options",children:a.map(d=>t.jsxs("button",{className:"export-option",onClick:()=>c(d.type),children:[t.jsx("div",{className:"export-option-icon",children:d.icon}),t.jsxs("div",{className:"export-option-content",children:[t.jsx("span",{className:"export-option-label",children:d.label}),d.description&&t.jsx("span",{className:"export-option-description",children:d.description})]}),t.jsx(ki,{size:16,className:"export-option-action"})]},d.type))}),t.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Pro Tip"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Use JSON export to backup your form structure or migrate it to another system. HTML export is perfect for embedding in static websites."})]})]})})},ij={totalViews:1234,submissions:456,conversionRate:37,averageTime:"2.5min"},lj=({isOpen:e,onClose:o,analytics:r=ij,...a})=>{const[i,c]=f.useState("week"),[d,u]=f.useState("line");return t.jsx(Vi,{isOpen:e,onClose:o,title:"Form Analytics",size:"lg",...a,children:t.jsxs("div",{className:"analytics-content",children:[t.jsxs("div",{className:"analytics-header",children:[t.jsxs("div",{className:"analytics-date-range",children:[t.jsx(bi,{size:16}),t.jsxs("select",{value:i,onChange:m=>c(m.target.value),className:"form-select",children:[t.jsx("option",{value:"today",children:"Today"}),t.jsx("option",{value:"week",children:"Last 7 days"}),t.jsx("option",{value:"month",children:"Last 30 days"}),t.jsx("option",{value:"year",children:"Last year"}),t.jsx("option",{value:"all",children:"All time"})]})]}),t.jsxs("div",{className:"analytics-actions",children:[t.jsxs("button",{className:"btn btn-sm btn-outline",children:[t.jsx(om,{size:14}),"Filter"]}),t.jsxs("button",{className:"btn btn-sm btn-outline",children:[t.jsx(ki,{size:14}),"Export"]})]})]}),t.jsxs("div",{className:"analytics-stats",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon stat-icon-blue",children:t.jsx(cd,{size:20})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:r.totalViews.toLocaleString()}),t.jsx("div",{className:"stat-label",children:"Total Views"}),t.jsxs("div",{className:"stat-change stat-change-positive",children:[t.jsx(Fi,{size:12}),"+12% from last period"]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon stat-icon-green",children:t.jsx(wi,{size:20})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:r.submissions.toLocaleString()}),t.jsx("div",{className:"stat-label",children:"Submissions"}),t.jsxs("div",{className:"stat-change stat-change-positive",children:[t.jsx(Fi,{size:12}),"+8% from last period"]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon stat-icon-purple",children:t.jsx(Fi,{size:20})}),t.jsxs("div",{className:"stat-content",children:[t.jsxs("div",{className:"stat-number",children:[r.conversionRate,"%"]}),t.jsx("div",{className:"stat-label",children:"Conversion Rate"}),t.jsxs("div",{className:"stat-change stat-change-negative",children:[t.jsx(Fi,{size:12,className:"rotate-180"}),"-2% from last period"]})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon stat-icon-orange",children:t.jsx(On,{size:20})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-number",children:r.averageTime}),t.jsx("div",{className:"stat-label",children:"Avg. Time"}),t.jsx("div",{className:"stat-change stat-change-neutral",children:"No change"})]})]})]}),t.jsxs("div",{className:"analytics-chart-section",children:[t.jsxs("div",{className:"analytics-chart-header",children:[t.jsx("h4",{children:"Submissions Over Time"}),t.jsxs("div",{className:"chart-type-selector",children:[t.jsx("button",{className:`chart-type-btn ${d==="line"?"active":""}`,onClick:()=>u("line"),children:"Line"}),t.jsx("button",{className:`chart-type-btn ${d==="bar"?"active":""}`,onClick:()=>u("bar"),children:"Bar"})]})]}),t.jsx("div",{className:"analytics-chart",children:t.jsxs("div",{className:"chart-placeholder",children:[t.jsx(wi,{size:48,className:"text-gray-400"}),t.jsx("p",{children:"Chart visualization would go here"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Integrate with your preferred charting library (Chart.js, Recharts, etc.)"})]})})]}),t.jsxs("div",{className:"analytics-insights",children:[t.jsx("h4",{className:"mb-3",children:"Key Insights"}),t.jsxs("div",{className:"insight-list",children:[t.jsxs("div",{className:"insight-item",children:[t.jsx("div",{className:"insight-icon",children:""}),t.jsxs("div",{className:"insight-content",children:[t.jsx("p",{className:"insight-title",children:"Peak submission time"}),t.jsx("p",{className:"insight-value",children:"Weekdays between 2-4 PM"})]})]}),t.jsxs("div",{className:"insight-item",children:[t.jsx("div",{className:"insight-icon",children:""}),t.jsxs("div",{className:"insight-content",children:[t.jsx("p",{className:"insight-title",children:"Completion rate"}),t.jsx("p",{className:"insight-value",children:"82% of users who start complete the form"})]})]}),t.jsxs("div",{className:"insight-item",children:[t.jsx("div",{className:"insight-icon",children:""}),t.jsxs("div",{className:"insight-content",children:[t.jsx("p",{className:"insight-title",children:"Device breakdown"}),t.jsx("p",{className:"insight-value",children:"65% Desktop, 30% Mobile, 5% Tablet"})]})]})]})]})]})})},cj=[{id:"1",name:"Current Version",timestamp:Date.now(),isCurrent:!0,author:"John Doe",changes:"Added new fields and validation rules"},{id:"2",name:"Added validation rules",timestamp:Date.now()-36e5,author:"Jane Smith",changes:"Implemented email validation and required fields"},{id:"3",name:"Initial version",timestamp:Date.now()-72e5,author:"John Doe",changes:"Created form with basic fields"}],dj=({isOpen:e,onClose:o,versions:r=cj,onRestore:a,...i})=>{const[c,d]=f.useState(null),[u,m]=f.useState(!1),{addToast:h}=qm(),g=y=>{const w=r.find(C=>C.id===y);w&&!w.isCurrent&&(a(y),h(`Restored to version: ${w.name}`,"success"),setTimeout(()=>o(),1e3))},j=y=>{const w=new Date(y),N=new Date().getTime()-w.getTime();return N<36e5?`${Math.floor(N/6e4)} minutes ago`:N<864e5?`${Math.floor(N/36e5)} hours ago`:w.toLocaleDateString()+" at "+w.toLocaleTimeString()};return t.jsx(Vi,{isOpen:e,onClose:o,title:"Version History",size:"md",...i,children:t.jsxs("div",{className:"version-history-content",children:[t.jsxs("div",{className:"version-history-header",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Track changes and restore previous versions of your form"}),t.jsxs("label",{className:"flex items-center gap-2 mt-2",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:y=>m(y.target.checked),className:"form-checkbox"}),t.jsx("span",{className:"text-sm",children:"Show version comparison"})]})]}),t.jsx("div",{className:"version-list",children:r.map(y=>t.jsxs("div",{className:`version-item ${y.isCurrent?"version-item-current":""} 
                         ${c===y.id?"version-item-selected":""}`,onClick:()=>d(y.id),children:[t.jsxs("div",{className:"version-item-header",children:[t.jsxs("div",{className:"version-info",children:[t.jsxs("h4",{className:"version-name",children:[y.name,y.isCurrent&&t.jsx("span",{className:"version-badge",children:"Current"})]}),t.jsxs("div",{className:"version-meta",children:[t.jsx(On,{size:12}),t.jsx("span",{children:j(y.timestamp)}),y.author&&t.jsxs(t.Fragment,{children:[t.jsx(ca,{size:12}),t.jsx("span",{children:y.author})]})]})]}),t.jsx(Lr,{size:16,className:`version-chevron ${c===y.id?"rotate-90":""}`})]}),c===y.id&&t.jsxs("div",{className:"version-details",children:[y.changes&&t.jsxs("div",{className:"version-changes",children:[t.jsx(Ir,{size:14}),t.jsx("p",{children:y.changes})]}),!y.isCurrent&&t.jsxs("div",{className:"version-actions",children:[t.jsxs("button",{onClick:w=>{w.stopPropagation(),g(y.id)},className:"btn btn-sm btn-primary",children:[t.jsx(mm,{size:14}),"Restore This Version"]}),u&&t.jsx("button",{className:"btn btn-sm btn-outline",children:"Compare with Current"})]})]})]},y.id))}),t.jsx("div",{className:"version-history-footer",children:t.jsx("p",{className:"text-xs text-gray-500",children:"Version history is automatically saved when you make changes to your form. Older versions may be archived after 30 days."})})]})})},uj=({error:e,errorInfo:o,onReset:r})=>t.jsx("div",{className:"error-boundary",children:t.jsxs("div",{className:"error-content",children:[t.jsx(ms,{size:48,className:"text-red-500 mb-4"}),t.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"The form builder encountered an error. Please refresh the page to continue."}),!1,t.jsxs("div",{className:"flex gap-2 justify-center",children:[t.jsxs("button",{onClick:r,className:"btn btn-primary",children:[t.jsx(Ks,{size:16,className:"mr-2"}),"Try Again"]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-outline",children:"Refresh Page"})]})]})});class pj extends f.Component{constructor(r){super(r);Tc(this,"resetTimeoutId",null);Tc(this,"previousResetKeys",[]);Tc(this,"resetErrorBoundary",()=>{this.resetTimeoutId&&clearTimeout(this.resetTimeoutId),this.resetTimeoutId=window.setTimeout(()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},0)});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){const{onError:i}=this.props;console.error("ErrorBoundary caught an error:",r,a),i&&i(r,a),this.setState({errorInfo:a})}componentDidUpdate(r){const{resetKeys:a=[],resetOnPropsChange:i}=this.props;(a.some((d,u)=>d!==this.previousResetKeys[u])||i&&r.children!==this.props.children)&&(this.resetErrorBoundary(),this.previousResetKeys=[...a])}componentWillUnmount(){this.resetTimeoutId&&clearTimeout(this.resetTimeoutId)}render(){const{hasError:r,error:a,errorInfo:i}=this.state,{children:c,fallback:d}=this.props;return r&&a&&i?d?d(a,i,this.resetErrorBoundary):t.jsx(uj,{error:a,errorInfo:i,onReset:this.resetErrorBoundary}):c}}const fj=[{id:"edit",label:"Edit Properties",icon:t.jsx(Ii,{size:16}),shortcut:"E",action:"edit"},{id:"duplicate",label:"Duplicate",icon:t.jsx(oa,{size:16}),shortcut:"D",action:"duplicate"},{id:"copy",label:"Copy",icon:t.jsx(oa,{size:16}),shortcut:"C",action:"copy"},{id:"cut",label:"Cut",icon:t.jsx(hm,{size:16}),shortcut:"X",action:"cut"},{id:"divider1",divider:!0},{id:"move-up",label:"Move Up",icon:t.jsx(T1,{size:16}),action:"move-up"},{id:"move-down",label:"Move Down",icon:t.jsx(D1,{size:16}),action:"move-down"},{id:"divider2",divider:!0},{id:"delete",label:"Delete",icon:t.jsx(Nn,{size:16}),shortcut:"",action:"delete",danger:!0}],mj=({x:e,y:o,onClose:r,onAction:a,items:i=fj})=>{const c=f.useRef(null),[d,u]=f.useState({x:e,y:o}),[m,h]=f.useState(null);f.useEffect(()=>{const y=N=>{c.current&&!c.current.contains(N.target)&&r()},w=N=>{N.key==="Escape"&&r()},C=()=>r();if(c.current){const N=c.current.getBoundingClientRect(),k={...d};N.right>window.innerWidth&&(k.x=window.innerWidth-N.width-10),N.bottom>window.innerHeight&&(k.y=window.innerHeight-N.height-10),(k.x!==d.x||k.y!==d.y)&&u(k)}return document.addEventListener("click",y),document.addEventListener("keydown",w),document.addEventListener("scroll",C,!0),()=>{document.removeEventListener("click",y),document.removeEventListener("keydown",w),document.removeEventListener("scroll",C,!0)}},[r,d,e,o]);const g=y=>{y.disabled||y.divider||(y.children?h(y.id===m?null:y.id):y.action&&(a(y.action),r()))},j=y=>{if(y.divider)return t.jsx("div",{className:"context-menu-divider"},y.id);const w=y.children&&y.children.length>0;return t.jsxs("div",{className:`context-menu-item ${y.danger?"context-menu-item-danger":""} 
                   ${y.disabled?"context-menu-item-disabled":""}`,onClick:()=>g(y),onMouseEnter:()=>w&&h(y.id),children:[y.icon&&t.jsx("span",{className:"context-menu-icon",children:y.icon}),t.jsx("span",{className:"context-menu-label",children:y.label}),y.shortcut&&t.jsx("span",{className:"context-menu-shortcut",children:y.shortcut}),w&&t.jsx(Lr,{size:14,className:"context-menu-submenu-icon"}),w&&m===y.id&&t.jsx("div",{className:"context-submenu",children:y.children.map(j)})]},y.id)};return t.jsx("div",{ref:c,className:"context-menu",style:{left:d.x,top:d.y},role:"menu",onClick:y=>y.stopPropagation(),children:i.map(j)})},hj=({isVisible:e,gridSize:o=20,color:r="#E5E7EB",opacity:a=.5})=>e?t.jsx("div",{className:"grid-overlay",style:{opacity:a},children:t.jsxs("svg",{className:"grid-svg",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%","aria-hidden":"true",children:[t.jsxs("defs",{children:[t.jsx("pattern",{id:"grid",width:o,height:o,patternUnits:"userSpaceOnUse",children:t.jsx("path",{d:`M ${o} 0 L 0 0 0 ${o}`,fill:"none",stroke:r,strokeWidth:"1"})}),t.jsxs("pattern",{id:"grid-large",width:o*5,height:o*5,patternUnits:"userSpaceOnUse",children:[t.jsx("rect",{width:o*5,height:o*5,fill:"url(#grid)"}),t.jsx("path",{d:`M ${o*5} 0 L 0 0 0 ${o*5}`,fill:"none",stroke:r,strokeWidth:"2",opacity:"0.5"})]})]}),t.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid-large)"})]})}):null,gj=({isCollapsed:e,onToggleCollapse:o,children:r,isMobile:a=!1,minHeight:i=190,maxHeight:c=500,defaultHeight:d=220,onHeightChange:u})=>{const[m,h]=f.useState(d),[g,j]=f.useState(!1),y=f.useRef(null),w=f.useRef(0),C=f.useRef(0);f.useEffect(()=>{const _=v=>{if(!g)return;const R=w.current-v.clientY,z=window.innerHeight;y.current?.getBoundingClientRect().bottom;const L=z-50,A=Math.min(c,L),$=C.current+R,H=Math.min(A,Math.max(i,$));h(H),u&&u(H)},E=()=>{j(!1),document.body.style.cursor="",document.body.style.userSelect=""};return g&&(document.addEventListener("mousemove",_),document.addEventListener("mouseup",E),document.body.style.cursor="ns-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",E)}},[g,c,i]);const N=_=>{_.preventDefault(),j(!0),w.current=_.clientY,C.current=m},k=e?40:m;return f.useEffect(()=>{!e&&u&&!g&&u(m)},[m,e,u,g]),f.useEffect(()=>{const _=()=>{if(!g&&y.current){const E=window.innerHeight;if(E<200)return;const v=E-50,R=Math.min(c,v);h(z=>{if(z>R){const L=Math.max(i,R);return console.log(`Window resize: limiting height from ${z} to ${L}`),u&&u(L),L}return z})}};return window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[c,i,u,g]),t.jsxs("div",{ref:y,className:`bottom-tray ${e?"bottom-tray-collapsed":""} ${a?"bottom-tray-mobile":""}`,style:{height:k},children:[!e&&!a&&t.jsx("div",{className:"tray-resize-handle",onMouseDown:N,role:"separator","aria-orientation":"horizontal","aria-label":"Resize tray",children:t.jsx(B1,{size:16})}),t.jsx("button",{className:"tray-chevron-btn",onClick:o,"aria-label":e?"Show elements":"Hide elements","aria-expanded":!e,children:e?t.jsx(ra,{size:12}):t.jsx(mn,{size:12})}),!e&&r]})},xj=[{id:"1",name:"Contact Form",status:"published",lastModified:Date.now()-864e5},{id:"2",name:"Registration Form",status:"draft",lastModified:Date.now()-1728e5},{id:"3",name:"Survey Form",status:"published",lastModified:Date.now()-2592e5}],yj=({currentForm:e,onFormSelect:o,forms:r=xj})=>{const[a,i]=f.useState(!1),[c,d]=f.useState(""),u=f.useRef(null);f.useEffect(()=>{const w=C=>{u.current&&!u.current.contains(C.target)&&i(!1)};return a&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[a]);const m=r.find(w=>w.id===e),h=r.filter(w=>w.name.toLowerCase().includes(c.toLowerCase())),g=w=>{switch(w){case"published":return"text-green-600 bg-green-50";case"draft":return"text-gray-600 bg-gray-50";case"archived":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}},j=w=>{switch(w){case"published":return t.jsx(Ir,{size:12});case"draft":return t.jsx(On,{size:12});case"archived":return t.jsx(R1,{size:12});default:return null}},y=w=>{if(!w)return"";const N=Date.now()-w;return N<36e5?`${Math.floor(N/6e4)}m ago`:N<864e5?`${Math.floor(N/36e5)}h ago`:`${Math.floor(N/864e5)}d ago`};return t.jsxs("div",{className:"form-selector",ref:u,children:[t.jsxs("button",{onClick:()=>i(!a),className:"form-selector-trigger","aria-haspopup":"listbox","aria-expanded":a,children:[t.jsxs("div",{className:"form-selector-value",children:[t.jsx("span",{className:"form-selector-name",children:m?.name||"Select Form"}),m&&t.jsxs("span",{className:`form-selector-status ${g(m.status)}`,children:[j(m.status),m.status]})]}),t.jsx(mn,{size:16,className:`form-selector-chevron ${a?"rotate-180":""}`})]}),a&&t.jsxs("div",{className:"form-selector-dropdown",role:"listbox",children:[t.jsx("div",{className:"form-selector-search",children:t.jsx("input",{type:"text",placeholder:"Search forms...",value:c,onChange:w=>d(w.target.value),className:"form-selector-search-input",onClick:w=>w.stopPropagation()})}),t.jsxs("div",{className:"form-selector-list",children:[h.map(w=>t.jsx("div",{className:`form-selector-item ${w.id===e?"form-selector-item-active":""}`,onClick:()=>{o(w.id),i(!1),d("")},role:"option","aria-selected":w.id===e,children:t.jsxs("div",{className:"form-selector-item-content",children:[t.jsx("span",{className:"form-selector-item-name",children:w.name}),t.jsxs("div",{className:"form-selector-item-meta",children:[t.jsxs("span",{className:`form-selector-item-status ${g(w.status)}`,children:[j(w.status),w.status]}),w.lastModified&&t.jsx("span",{className:"form-selector-item-time",children:y(w.lastModified)})]})]})},w.id)),t.jsxs("div",{className:"form-selector-item form-selector-item-create",children:[t.jsx(tr,{size:16}),t.jsx("span",{children:"Create New Form"})]})]})]})]})},vj=[.5,.75,1,1.25,1.5,2],bj=({currentZoom:e,zoomLevels:o=vj,onZoomChange:r,onFitToScreen:a})=>{const i=()=>{const g=o.indexOf(e);g<o.length-1&&r(o[g+1])},c=()=>{const g=o.indexOf(e);g>0&&r(o[g-1])},d=()=>{r(1)},u=Math.round((e||1)*100),m=e<o[o.length-1],h=e>o[0];return t.jsxs("div",{className:"zoom-controls",role:"group","aria-label":"Zoom controls",children:[t.jsx("button",{onClick:c,disabled:!h,className:"zoom-btn","aria-label":"Zoom out",title:`Zoom out (${o[Math.max(0,o.indexOf(e)-1)]*100}%)`,children:t.jsx(mw,{size:16})}),t.jsxs("button",{onClick:d,className:"zoom-value","aria-label":`Current zoom ${u}%, click to reset to 100%`,title:"Reset zoom to 100%",children:[u,"%"]}),t.jsx("button",{onClick:i,disabled:!m,className:"zoom-btn","aria-label":"Zoom in",title:`Zoom in (${o[Math.min(o.length-1,o.indexOf(e)+1)]*100}%)`,children:t.jsx(fw,{size:16})}),a&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"zoom-divider"}),t.jsx("button",{onClick:a,className:"zoom-btn","aria-label":"Fit to screen",title:"Fit form to screen",children:t.jsx(lm,{size:16})})]})]})},nr=({value:e,onChange:o,className:r="",placeholder:a="Click to edit",multiline:i=!1,onFormat:c,maxLength:d,disabled:u=!1})=>{const[m,h]=f.useState(!1),[g,j]=f.useState(e),[y,w]=f.useState(!1),[C,N]=f.useState({x:0,y:0}),[k,_]=f.useState(""),E=f.useRef(null);f.useRef(null),f.useEffect(()=>{j(e)},[e]);const v=()=>{!u&&!m&&(h(!0),j(e),setTimeout(()=>{E.current?.focus(),E.current?.select()},0))},R=()=>{h(!1),g!==e&&o(g),w(!1)},z=A=>{A.key==="Enter"&&!i&&(A.preventDefault(),R()),A.key==="Escape"&&(j(e),h(!1),w(!1))},L=A=>{const $=A.target.value;(!d||$.length<=d)&&j($)};return t.jsxs("div",{className:`inline-editable-text ${r} ${u?"inline-editable-disabled":""} ${m?"inline-editable-editing":""}`,style:{position:"relative"},onClick:v,title:u?"":"Click to edit",children:[t.jsx("span",{className:`inline-editable-value ${m?"inline-editable-value-editing":""}`,children:e||t.jsx("span",{className:"inline-editable-placeholder",children:a})}),!u&&!m&&t.jsx(Ii,{size:12,className:"inline-edit-icon"}),m&&(i?t.jsx("textarea",{ref:E,value:g,onChange:L,onBlur:R,onKeyDown:z,className:"inline-editable-overlay-input",maxLength:d,rows:3,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent",border:"none",outline:"none",boxShadow:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",padding:"inherit",margin:"0",textAlign:"inherit",zIndex:10,resize:"none"},autoFocus:!0}):t.jsx("input",{ref:E,type:"text",value:g,onChange:L,onBlur:R,onKeyDown:z,className:"inline-editable-overlay-input",maxLength:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent",border:"none",outline:"none",boxShadow:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",padding:"inherit",margin:"0",textAlign:"inherit",zIndex:10},autoFocus:!0}))]})},Ui=[{id:"all",name:"All",elements:[]},{id:"basic",name:"Basic",elements:[{type:"text",label:"Text Input",icon:Js,keywords:["text","input","field","single","line"]},{type:"email",label:"Email",icon:hs,keywords:["email","mail","address","contact"]},{type:"textarea",label:"Text Area",icon:Ir,keywords:["textarea","multiline","paragraph","long","text"]},{type:"number",label:"Number",icon:H1,keywords:["number","numeric","integer","decimal"]},{type:"phone",label:"Phone",icon:tw,keywords:["phone","telephone","mobile","contact"]},{type:"url",label:"URL",icon:zi,keywords:["url","link","website","address"]},{type:"password",label:"Password",icon:q1,keywords:["password","secret","secure","hidden"]},{type:"hidden",label:"Hidden Field",icon:Si,keywords:["hidden","invisible","data","tracking"]}]},{id:"choice",name:"Choice",elements:[{type:"select",label:"Dropdown",icon:mn,keywords:["dropdown","select","options","choose"]},{type:"multiselect",label:"Multi Select",icon:G1,keywords:["multiselect","multiple","options","choose"]},{type:"checkbox",label:"Checkbox",icon:ym,keywords:["checkbox","check","multiple","toggle"]},{type:"radio",label:"Radio Group",icon:fm,keywords:["radio","single","choice","option"]},{type:"checkbox-cards",label:"Checkbox Cards",icon:vm,keywords:["checkbox","cards","multiple","visual","panel"]},{type:"radio-cards",label:"Radio Cards",icon:Y1,keywords:["radio","cards","single","visual","panel"]},{type:"toggle",label:"Toggle Switch",icon:L1,keywords:["toggle","switch","boolean","yes"]},{type:"rating",label:"Rating Stars",icon:wm,keywords:["rating","stars","feedback","score"]},{type:"likert",label:"Likert Scale",icon:wi,keywords:["likert","scale","survey","agreement"]}]},{id:"advanced",name:"Advanced",elements:[{type:"date",label:"Date Picker",icon:bi,keywords:["date","calendar","picker","day"]},{type:"time",label:"Time Picker",icon:On,keywords:["time","clock","hour","minute"]},{type:"datetime",label:"DateTime",icon:bi,keywords:["datetime","timestamp","date","time"]},{type:"daterange",label:"Date Range",icon:bi,keywords:["daterange","period","from","until"]},{type:"slider",label:"Slider Range",icon:iw,keywords:["slider","range","numeric","scale"]},{type:"color",label:"Color Picker",icon:Zn,keywords:["color","picker","palette","hex"]},{type:"location",label:"Location Map",icon:X1,keywords:["location","map","address","coordinates"]},{type:"signature",label:"Signature Pad",icon:ew,keywords:["signature","draw","sign","handwriting"]}]},{id:"upload",name:"Upload",elements:[{type:"file",label:"File Upload",icon:gs,keywords:["file","upload","attachment","document"]},{type:"image",label:"Image Upload",icon:od,keywords:["image","photo","picture","upload"]},{type:"multi-file",label:"Multiple Files",icon:gs,keywords:["multiple","files","batch","upload"]},{type:"drag-drop",label:"Drag & Drop",icon:gs,keywords:["drag","drop","file","zone"]}]},{id:"containers",name:"Containers",elements:[{type:"columns",label:"Columns",icon:nd,keywords:["columns","layout","grid","split"],allowChildren:!0},{type:"step-wizard",label:"Step Wizard",icon:cw,keywords:["wizard","steps","multi-step","sequential"],allowChildren:!0},{type:"tabs",label:"Tabs",icon:F1,keywords:["tabs","tabbed","navigation","switch"],allowChildren:!0},{type:"accordion",label:"Accordion",icon:lw,keywords:["accordion","collapsible","expandable","toggle"],allowChildren:!0},{type:"section",label:"Section",icon:tm,keywords:["section","fieldset","group","wrapper"],allowChildren:!0},{type:"repeater",label:"Repeater",icon:vm,keywords:["repeater","array","dynamic","multiple"],allowChildren:!0},{type:"conditional-group",label:"Conditional Group",icon:pw,keywords:["conditional","group","logic","show-hide"],allowChildren:!0},{type:"card",label:"Card/Panel",icon:na,keywords:["card","panel","container","box"],allowChildren:!0}]},{id:"layout",name:"Layout",elements:[{type:"heading",label:"Heading",icon:Js,keywords:["heading","title","header","text"]},{type:"paragraph",label:"Paragraph",icon:Ir,keywords:["paragraph","text","description","content"]},{type:"divider",label:"Divider",icon:It,keywords:["divider","separator","line","break"]},{type:"spacer",label:"Spacer",icon:It,keywords:["spacer","gap","margin","padding"]},{type:"page-break",label:"Page Break",icon:hm,keywords:["page","break","split","new"]},{type:"html-block",label:"HTML Block",icon:Ri,keywords:["html","code","custom","embed"]}]},{id:"integration",name:"Integration",elements:[{type:"payment",label:"Payment (Stripe)",icon:rd,keywords:["payment","stripe","money","credit"]},{type:"subscription",label:"Subscription",icon:rd,keywords:["subscription","recurring","monthly","billing"]},{type:"webhook",label:"API Webhook",icon:Wi,keywords:["webhook","api","integration","external"]},{type:"calculation",label:"Calculation",icon:P1,keywords:["calculation","formula","math","compute"]},{type:"conditional",label:"Conditional Logic",icon:Bi,keywords:["conditional","logic","if","rules"]},{type:"captcha",label:"reCAPTCHA",icon:xm,keywords:["captcha","security","bot","protection"]}]}],Ym={mobile:{width:375,height:667,name:"iPhone 8"},tablet:{width:768,height:1024,name:"iPad"},desktop:{width:1200,height:800,name:"Desktop"}},wj=({element:e,position:o,onClose:r,onUpdate:a,onDelete:i})=>{const c=f.useRef(null),[d,u]=f.useState("general");f.useEffect(()=>{const h=g=>{c.current&&!c.current.contains(g.target)&&r()};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[r]);const m=!["heading","paragraph","divider","spacer","html-block","section","page-break"].includes(e.type);return t.jsxs("div",{ref:c,className:"floating-properties-panel",style:{position:"fixed",left:Math.min(o.x,window.innerWidth-400),top:Math.min(o.y,window.innerHeight-500),zIndex:1e3},children:[t.jsxs("div",{className:"panel-header",children:[t.jsxs("h3",{className:"panel-title",children:[t.jsx(e.icon,{size:16}),e.label," Properties"]}),t.jsx("button",{onClick:r,className:"panel-close-btn",children:t.jsx(pt,{size:16})})]}),t.jsxs("div",{className:"panel-tabs",children:[t.jsx("button",{className:`panel-tab ${d==="general"?"panel-tab-active":""}`,onClick:()=>u("general"),children:"General"}),m&&t.jsx("button",{className:`panel-tab ${d==="validation"?"panel-tab-active":""}`,onClick:()=>u("validation"),children:"Validation"}),t.jsx("button",{className:`panel-tab ${d==="styling"?"panel-tab-active":""}`,onClick:()=>u("styling"),children:"Styling"}),t.jsx("button",{className:`panel-tab ${d==="advanced"?"panel-tab-active":""}`,onClick:()=>u("advanced"),children:"Advanced"})]}),t.jsxs("div",{className:"panel-content",children:[d==="general"&&t.jsxs("div",{className:"panel-section",children:[m&&t.jsxs("div",{className:"quick-toggles",children:[t.jsxs("button",{className:`quick-toggle ${e.properties?.required?"quick-toggle-active":""}`,onClick:()=>a("required",!e.properties?.required),children:[t.jsx(sa,{size:16}),"Required"]}),t.jsxs("button",{className:`quick-toggle ${e.properties?.hidden?"quick-toggle-active":""}`,onClick:()=>a("hidden",!e.properties?.hidden),children:[t.jsx(Si,{size:16}),"Hidden"]}),t.jsxs("button",{className:`quick-toggle ${e.properties?.readonly?"quick-toggle-active":""}`,onClick:()=>a("readonly",!e.properties?.readonly),children:[t.jsx(K1,{size:16}),"Read-only"]})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Field Name/ID"}),t.jsx("input",{type:"text",value:e.name||"",onChange:h=>a("name",h.target.value),className:"form-input",placeholder:"field_name"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Label"}),t.jsx("input",{type:"text",value:e.properties?.label||"",onChange:h=>a("label",h.target.value),className:"form-input"})]}),t.jsx(ej,{element:e,onUpdate:a})]}),d==="validation"&&m&&t.jsxs("div",{className:"panel-section",children:[t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Minimum Length"}),t.jsx("input",{type:"number",value:e.properties?.validation?.minLength||"",onChange:h=>a("validation",{...e.properties?.validation,minLength:parseInt(h.target.value)||void 0}),className:"form-input"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Maximum Length"}),t.jsx("input",{type:"number",value:e.properties?.validation?.maxLength||"",onChange:h=>a("validation",{...e.properties?.validation,maxLength:parseInt(h.target.value)||void 0}),className:"form-input"})]}),e.type==="text"&&t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Pattern (Regex)"}),t.jsx("input",{type:"text",value:e.properties?.validation?.pattern||"",onChange:h=>a("validation",{...e.properties?.validation,pattern:h.target.value}),className:"form-input",placeholder:"^[A-Za-z]+$"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Custom Error Message"}),t.jsx("input",{type:"text",value:e.properties?.validation?.message||"",onChange:h=>a("validation",{...e.properties?.validation,message:h.target.value}),className:"form-input",placeholder:"Please enter a valid value"})]})]}),d==="styling"&&t.jsxs("div",{className:"panel-section",children:[t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Width"}),t.jsxs("select",{value:e.properties?.width||"full",onChange:h=>a("width",h.target.value),className:"form-input",children:[t.jsx("option",{value:"25",children:"25%"}),t.jsx("option",{value:"33",children:"33%"}),t.jsx("option",{value:"50",children:"50%"}),t.jsx("option",{value:"66",children:"66%"}),t.jsx("option",{value:"75",children:"75%"}),t.jsx("option",{value:"full",children:"100%"})]})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Margin"}),t.jsx("input",{type:"text",value:e.properties?.margin||"",onChange:h=>a("margin",h.target.value),className:"form-input",placeholder:"10px 0"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Background Color"}),t.jsx("input",{type:"color",value:e.properties?.backgroundColor||"#ffffff",onChange:h=>a("backgroundColor",h.target.value),className:"form-input color-input"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Border Style"}),t.jsxs("select",{value:e.properties?.borderStyle||"solid",onChange:h=>a("borderStyle",h.target.value),className:"form-input",children:[t.jsx("option",{value:"none",children:"None"}),t.jsx("option",{value:"solid",children:"Solid"}),t.jsx("option",{value:"dashed",children:"Dashed"}),t.jsx("option",{value:"dotted",children:"Dotted"})]})]})]}),d==="advanced"&&t.jsxs("div",{className:"panel-section",children:[t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"CSS Class"}),t.jsx("input",{type:"text",value:e.properties?.cssClass||"",onChange:h=>a("cssClass",h.target.value),className:"form-input",placeholder:"custom-class"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Conditional Logic"}),t.jsxs("select",{value:e.properties?.conditionalLogic||"none",onChange:h=>a("conditionalLogic",h.target.value),className:"form-input",children:[t.jsx("option",{value:"none",children:"No conditions"}),t.jsx("option",{value:"show",children:"Show if..."}),t.jsx("option",{value:"hide",children:"Hide if..."}),t.jsx("option",{value:"require",children:"Require if..."})]})]}),m&&t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Default Value"}),t.jsx("input",{type:"text",value:e.properties?.defaultValue||"",onChange:h=>a("defaultValue",h.target.value),className:"form-input"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Custom Attributes"}),t.jsx("textarea",{value:e.properties?.customAttributes||"",onChange:h=>a("customAttributes",h.target.value),className:"form-input",rows:3,placeholder:`data-custom="value"
aria-label="Custom label"`})]})]})]}),t.jsx("div",{className:"panel-footer",children:t.jsxs("button",{onClick:i,className:"btn btn-danger btn-sm",children:[t.jsx(Nn,{size:14}),"Delete Element"]})})]})},jj=({position:e,onClose:o,settings:r,onUpdate:a,devicePreview:i})=>{const c=f.useRef(null),[d,u]=f.useState("appearance"),[m,h]=f.useState(e),[g,j]=f.useState(!1),[y,w]=f.useState({x:0,y:0}),C=({label:_,values:E,onChange:v})=>{const R=(z,L)=>{v({...E,[z]:L})};return t.jsxs("div",{className:"spacing-editor",children:[t.jsx("label",{className:"property-label",children:_}),t.jsxs("div",{className:"spacing-visual",children:[t.jsx("input",{type:"number",value:E.top,onChange:z=>R("top",parseInt(z.target.value)||0),className:"spacing-input spacing-input-top",placeholder:"0",min:"0",max:"200"}),t.jsxs("div",{className:"spacing-middle",children:[t.jsx("input",{type:"number",value:E.left,onChange:z=>R("left",parseInt(z.target.value)||0),className:"spacing-input spacing-input-left",placeholder:"0",min:"0",max:"200"}),t.jsx("div",{className:"spacing-preview",children:t.jsx("div",{className:"spacing-content",children:"Content"})}),t.jsx("input",{type:"number",value:E.right,onChange:z=>R("right",parseInt(z.target.value)||0),className:"spacing-input spacing-input-right",placeholder:"0",min:"0",max:"200"})]}),t.jsx("input",{type:"number",value:E.bottom,onChange:z=>R("bottom",parseInt(z.target.value)||0),className:"spacing-input spacing-input-bottom",placeholder:"0",min:"0",max:"200"})]})]})},N=_=>{_.target.closest(".panel-header")&&(j(!0),w({x:_.clientX-m.x,y:_.clientY-m.y}))};f.useEffect(()=>{const _=v=>{g&&h({x:Math.max(0,Math.min(v.clientX-y.x,window.innerWidth-400)),y:Math.max(0,Math.min(v.clientY-y.y,window.innerHeight-500))})},E=()=>{j(!1)};return g&&(document.addEventListener("mousemove",_),document.addEventListener("mouseup",E)),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",E)}},[g,y]),f.useEffect(()=>{const _=E=>{c.current&&!c.current.contains(E.target)&&o()};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[o]);const k=r[i]||r;return t.jsxs("div",{ref:c,className:`floating-properties-panel form-wrapper-panel ${g?"dragging":""}`,style:{position:"fixed",left:m.x,top:m.y,zIndex:1e3,cursor:g?"grabbing":"default"},onMouseDown:N,children:[t.jsxs("div",{className:"panel-header",style:{cursor:"grab"},children:[t.jsxs("div",{className:"panel-title-group",children:[t.jsxs("h3",{className:"panel-title",children:[t.jsx(tm,{size:16}),"Form Wrapper Settings"]}),t.jsx("div",{className:"device-indicator",children:t.jsxs("span",{className:`device-badge device-badge-${i}`,children:[i==="desktop"&&t.jsx(Gs,{size:14}),i==="tablet"&&t.jsx(ld,{size:14}),i==="mobile"&&t.jsx(la,{size:14}),i.charAt(0).toUpperCase()+i.slice(1)]})})]}),t.jsx("button",{onClick:o,className:"panel-close-btn",children:t.jsx(pt,{size:16})})]}),t.jsxs("div",{className:"panel-tabs",children:[t.jsx("button",{className:`panel-tab ${d==="appearance"?"panel-tab-active":""}`,onClick:()=>u("appearance"),children:"Appearance"}),t.jsx("button",{className:`panel-tab ${d==="spacing"?"panel-tab-active":""}`,onClick:()=>u("spacing"),children:"Spacing"})]}),t.jsxs("div",{className:"panel-content",children:[d==="appearance"&&t.jsxs("div",{className:"panel-section",children:[t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Background Type"}),t.jsxs("select",{value:r.backgroundType,onChange:_=>a("backgroundType",_.target.value),className:"form-input",children:[t.jsx("option",{value:"none",children:"None"}),t.jsx("option",{value:"color",children:"Solid Color"}),t.jsx("option",{value:"image",children:"Background Image"})]})]}),r.backgroundType==="color"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Background Color"}),t.jsx("input",{type:"color",value:r.backgroundColor,onChange:_=>a("backgroundColor",_.target.value),className:"form-input"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Opacity"}),t.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:r.backgroundOpacity,onChange:_=>a("backgroundOpacity",parseFloat(_.target.value)),className:"form-input"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(r.backgroundOpacity*100),"%"]})]})]}),r.backgroundType==="image"&&t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Image URL"}),t.jsx("input",{type:"url",value:r.backgroundImage,onChange:_=>a("backgroundImage",_.target.value),className:"form-input",placeholder:"https://example.com/image.jpg"})]})]}),d==="spacing"&&t.jsxs("div",{className:"panel-section",children:[t.jsx(C,{label:"Padding",values:k.padding||{top:0,right:0,bottom:0,left:0},onChange:_=>a(`${i}.padding`,_)}),t.jsx(C,{label:"Margin",values:k.margin||{top:0,right:0,bottom:0,left:0},onChange:_=>a(`${i}.margin`,_)})]})]})]})},Nj=()=>{const[e,o]=f.useState(""),[r,a]=f.useState("all"),[i,c]=f.useState("all");return t.jsx("div",{className:"sidebar-content",children:t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"font-semibold",children:"Form Entries"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"247 total"}),t.jsxs("button",{className:"btn btn-sm btn-outline",children:[t.jsx(ki,{size:14}),"Export"]})]})]}),t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Qs,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search entries...",value:e,onChange:d=>o(d.target.value),className:"form-input pl-10"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:r,onChange:d=>a(d.target.value),className:"form-input flex-1",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"new",children:"New"}),t.jsx("option",{value:"read",children:"Read"}),t.jsx("option",{value:"flagged",children:"Flagged"})]}),t.jsxs("select",{value:i,onChange:d=>c(d.target.value),className:"form-input flex-1",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"today",children:"Today"}),t.jsx("option",{value:"week",children:"This Week"}),t.jsx("option",{value:"month",children:"This Month"})]})]})]}),t.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6,7,8].map(d=>t.jsxs("div",{className:"entry-item",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("span",{className:"font-medium",children:["Entry #",247-d]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`entry-status ${d<=2?"entry-status-new":d===3?"entry-status-flagged":"entry-status-read"}`,children:d<=2?"New":d===3?"Flagged":"Read"}),t.jsx("button",{className:"btn btn-xs btn-ghost",children:t.jsx(Ys,{size:12})})]})]}),t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:d===1?"john.doe@example.com":d===2?"jane.smith@example.com":`user${d}@example.com`}),t.jsx("p",{className:"text-xs text-gray-400",children:d<=2?`${d*15} minutes ago`:d===3?"2 hours ago":`${d} days ago`})]},d))}),t.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Showing 1-8 of 247"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{className:"btn btn-xs btn-outline",children:"Previous"}),t.jsx("button",{className:"btn btn-xs btn-outline",children:"Next"})]})]})]})})},kj=()=>{const[e,o]=f.useState([{id:"1",name:"Show Phone Number",condition:'When "Contact Method" equals "Phone"',action:'Show "Phone Number" field',enabled:!0}]);return t.jsx("div",{className:"sidebar-content",children:t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"font-semibold",children:"Conditional Logic"}),t.jsxs("button",{className:"btn btn-sm btn-primary",children:[t.jsx(tr,{size:14}),"Add Rule"]})]}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Create rules to show/hide fields, make fields required, or trigger actions based on user responses."}),t.jsx("div",{className:"space-y-3",children:e.map(r=>t.jsxs("div",{className:"logic-rule",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:r.enabled,onChange:a=>{o(e.map(i=>i.id===r.id?{...i,enabled:a.target.checked}:i))}}),t.jsx("span",{className:"font-medium",children:r.name})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{className:"btn btn-xs btn-ghost",children:t.jsx(Ii,{size:12})}),t.jsx("button",{className:"btn btn-xs btn-ghost text-red-500",children:t.jsx(Nn,{size:12})})]})]}),t.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[t.jsx("strong",{children:"IF:"})," ",r.condition]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("strong",{children:"THEN:"})," ",r.action]})]},r.id))}),t.jsxs("div",{className:"mt-6 p-4 border border-dashed border-gray-300 rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-3",children:"Quick Rule Builder"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{className:"form-input flex-1",children:[t.jsx("option",{children:"Choose a field..."}),t.jsx("option",{children:"Contact Method"}),t.jsx("option",{children:"Age Range"}),t.jsx("option",{children:"Country"})]}),t.jsxs("select",{className:"form-input",children:[t.jsx("option",{children:"equals"}),t.jsx("option",{children:"not equals"}),t.jsx("option",{children:"contains"}),t.jsx("option",{children:"is empty"}),t.jsx("option",{children:"is not empty"})]}),t.jsx("input",{type:"text",className:"form-input flex-1",placeholder:"Value"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{className:"form-input",children:[t.jsx("option",{children:"Show"}),t.jsx("option",{children:"Hide"}),t.jsx("option",{children:"Require"}),t.jsx("option",{children:"Optional"})]}),t.jsxs("select",{className:"form-input flex-1",children:[t.jsx("option",{children:"Choose a field..."}),t.jsx("option",{children:"Phone Number"}),t.jsx("option",{children:"Company Name"}),t.jsx("option",{children:"Address"})]})]}),t.jsxs("button",{className:"w-full btn btn-outline btn-sm",children:[t.jsx(tr,{size:14}),"Create Rule"]})]})]})]})})},Cj=()=>{const[e,o]=f.useState("theme");return t.jsx("div",{className:"sidebar-content",children:t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Form Styling"}),t.jsxs("div",{className:"style-tabs mb-4",children:[t.jsx("button",{className:`style-tab ${e==="theme"?"style-tab-active":""}`,onClick:()=>o("theme"),children:"Theme"}),t.jsx("button",{className:`style-tab ${e==="colors"?"style-tab-active":""}`,onClick:()=>o("colors"),children:"Colors"}),t.jsx("button",{className:`style-tab ${e==="fonts"?"style-tab-active":""}`,onClick:()=>o("fonts"),children:"Fonts"}),t.jsx("button",{className:`style-tab ${e==="layout"?"style-tab-active":""}`,onClick:()=>o("layout"),children:"Layout"}),t.jsx("button",{className:`style-tab ${e==="custom"?"style-tab-active":""}`,onClick:()=>o("custom"),children:"Custom CSS"})]}),e==="theme"&&t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"theme-selector",children:[t.jsx("label",{className:"property-label",children:"Choose Theme"}),t.jsx("div",{className:"theme-grid",children:["default","minimal","modern","classic"].map(r=>t.jsxs("div",{className:"theme-option",children:[t.jsxs("div",{className:`theme-preview theme-preview-${r}`,children:[t.jsx("div",{className:"theme-preview-header"}),t.jsx("div",{className:"theme-preview-field"}),t.jsx("div",{className:"theme-preview-field"}),t.jsx("div",{className:"theme-preview-button"})]}),t.jsx("span",{className:"theme-name",children:r})]},r))})]})}),e==="colors"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Primary Color"}),t.jsx("input",{type:"color",defaultValue:"#3b82f6",className:"form-input color-input"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Secondary Color"}),t.jsx("input",{type:"color",defaultValue:"#6b7280",className:"form-input color-input"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Background Color"}),t.jsx("input",{type:"color",defaultValue:"#ffffff",className:"form-input color-input"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Text Color"}),t.jsx("input",{type:"color",defaultValue:"#1f2937",className:"form-input color-input"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Border Color"}),t.jsx("input",{type:"color",defaultValue:"#d1d5db",className:"form-input color-input"})]})]}),e==="fonts"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Font Family"}),t.jsxs("select",{className:"form-input",children:[t.jsx("option",{children:"Inter"}),t.jsx("option",{children:"Roboto"}),t.jsx("option",{children:"Open Sans"}),t.jsx("option",{children:"Lato"}),t.jsx("option",{children:"Montserrat"}),t.jsx("option",{children:"Custom Font"})]})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Font Size"}),t.jsxs("select",{className:"form-input",children:[t.jsx("option",{children:"Small (14px)"}),t.jsx("option",{children:"Medium (16px)"}),t.jsx("option",{children:"Large (18px)"}),t.jsx("option",{children:"Extra Large (20px)"})]})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Line Height"}),t.jsxs("select",{className:"form-input",children:[t.jsx("option",{children:"Compact (1.4)"}),t.jsx("option",{children:"Normal (1.5)"}),t.jsx("option",{children:"Comfortable (1.6)"}),t.jsx("option",{children:"Spacious (1.8)"})]})]})]}),e==="custom"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Custom CSS"}),t.jsx("textarea",{className:"form-input font-mono text-sm",rows:8,placeholder:`.form-container {
  max-width: 600px;
  margin: 0 auto;
}

.form-input {
  border-radius: 8px;
  border: 2px solid #e5e7eb;
}

.form-input:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}`})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{className:"btn btn-outline btn-sm flex-1",children:[t.jsx(Ys,{size:14}),"Preview"]}),t.jsxs("button",{className:"btn btn-primary btn-sm flex-1",children:[t.jsx(Xs,{size:14}),"Apply"]})]})]}),e==="layout"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Form Background"}),t.jsxs("div",{className:"background-type-selector",children:[t.jsxs("label",{className:"radio-option",children:[t.jsx("input",{type:"radio",name:"backgroundType",value:"none",checked:!1,onChange:()=>{}}),t.jsx("span",{children:"None"})]}),t.jsxs("label",{className:"radio-option",children:[t.jsx("input",{type:"radio",name:"backgroundType",value:"color",checked:!0,onChange:()=>{}}),t.jsx("span",{children:"Color"})]}),t.jsxs("label",{className:"radio-option",children:[t.jsx("input",{type:"radio",name:"backgroundType",value:"image",checked:!1,onChange:()=>{}}),t.jsx("span",{children:"Image"})]})]})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Background Color"}),t.jsxs("div",{className:"color-input-group",children:[t.jsx("input",{type:"color",value:"#ffffff",onChange:()=>{},className:"color-picker"}),t.jsx("input",{type:"text",value:"#ffffff",onChange:()=>{},className:"form-input",placeholder:"#ffffff"})]})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Background Opacity"}),t.jsxs("div",{className:"slider-input-group",children:[t.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:"1",onChange:()=>{},className:"slider"}),t.jsx("span",{className:"slider-value",children:"100%"})]})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Form Padding"}),t.jsxs("div",{className:"spacing-controls",children:[t.jsxs("div",{className:"spacing-input",children:[t.jsx("label",{children:"Top"}),t.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"form-input"})]}),t.jsxs("div",{className:"spacing-input",children:[t.jsx("label",{children:"Right"}),t.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"form-input"})]}),t.jsxs("div",{className:"spacing-input",children:[t.jsx("label",{children:"Bottom"}),t.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"form-input"})]}),t.jsxs("div",{className:"spacing-input",children:[t.jsx("label",{children:"Left"}),t.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"form-input"})]})]})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Form Margin"}),t.jsxs("div",{className:"spacing-controls",children:[t.jsxs("div",{className:"spacing-input",children:[t.jsx("label",{children:"Top"}),t.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"form-input"})]}),t.jsxs("div",{className:"spacing-input",children:[t.jsx("label",{children:"Right"}),t.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"form-input"})]}),t.jsxs("div",{className:"spacing-input",children:[t.jsx("label",{children:"Bottom"}),t.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"form-input"})]}),t.jsxs("div",{className:"spacing-input",children:[t.jsx("label",{children:"Left"}),t.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"form-input"})]})]})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Background Image"}),t.jsxs("div",{className:"image-upload-area",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:()=>{},className:"file-input"}),t.jsxs("div",{className:"upload-placeholder",children:[t.jsx(gs,{size:24}),t.jsx("p",{children:"Click to upload or drag image here"}),t.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 2MB"})]})]})]})]})]})})},Sj=()=>{const[e,o]=f.useState([{id:"email",name:"Email Notifications",enabled:!0,configured:!0},{id:"webhook",name:"Webhook",enabled:!1,configured:!1},{id:"zapier",name:"Zapier",enabled:!1,configured:!1},{id:"mailchimp",name:"Mailchimp",enabled:!0,configured:!0},{id:"slack",name:"Slack",enabled:!1,configured:!1}]);return t.jsx("div",{className:"sidebar-content",children:t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Integrations"}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Connect your form to external services and automate workflows."}),t.jsx("div",{className:"space-y-3",children:e.map(r=>t.jsx("div",{className:"integration-item",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:`integration-icon integration-icon-${r.id}`,children:[r.id==="email"&&t.jsx(hs,{size:16}),r.id==="webhook"&&t.jsx(Wi,{size:16}),r.id==="zapier"&&t.jsx(Bi,{size:16}),r.id==="mailchimp"&&t.jsx(hs,{size:16}),r.id==="slack"&&t.jsx(Zf,{size:16})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:r.name}),t.jsx("div",{className:"text-sm text-gray-500",children:r.configured?"Configured":"Not configured"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:r.enabled,onChange:a=>{o(e.map(i=>i.id===r.id?{...i,enabled:a.target.checked}:i))},disabled:!r.configured}),t.jsx("button",{className:"btn btn-xs btn-outline",children:r.configured?"Configure":"Setup"})]})]})},r.id))}),t.jsxs("div",{className:"mt-6 p-4 border border-gray-200 rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-3",children:"Webhook Configuration"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Webhook URL"}),t.jsx("input",{type:"url",className:"form-input",placeholder:"https://your-webhook-url.com/endpoint"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"HTTP Method"}),t.jsxs("select",{className:"form-input",children:[t.jsx("option",{children:"POST"}),t.jsx("option",{children:"PUT"}),t.jsx("option",{children:"PATCH"})]})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Custom Headers"}),t.jsx("textarea",{className:"form-input",rows:3,placeholder:`Authorization: Bearer your-token
Content-Type: application/json`})]}),t.jsxs("button",{className:"btn btn-outline btn-sm",children:[t.jsx(id,{size:14}),"Test Webhook"]})]})]})]})})},Ej=({position:e,onResize:o,currentWidth:r,showInput:a,onInputVisibilityChange:i,maxWidth:c})=>{const[d,u]=f.useState(!1),[m,h]=f.useState(r),[g,j]=f.useState(!1),y=N=>{u(!0),N.preventDefault()},w=f.useCallback(N=>{if(d){const k=document.querySelector(".form-wrapper");if(k){const _=k.getBoundingClientRect(),E=k.closest(".canvas-responsive")?.getBoundingClientRect();if(_&&E){const v=E.width*.95,R=c?parseInt(c):1/0,z=Math.min(v,R),A=Math.min(z,Math.max(200,N.clientX-_.left));o(`${Math.round(A)}px`)}}}},[d,o]),C=f.useCallback(()=>{u(!1)},[]);return f.useEffect(()=>{if(d)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",C),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",C)}},[d,w,C]),t.jsxs("div",{className:`resize-bar resize-bar-${e}`,onMouseDown:y,onMouseEnter:()=>!g&&i(!0),onMouseLeave:()=>!g&&i(!1),children:[t.jsx("div",{className:"resize-handle"}),(a||g)&&t.jsx("div",{className:"resize-input-popup",onMouseEnter:()=>i(!0),onMouseLeave:()=>!g&&i(!1),children:t.jsx("input",{type:"text",value:m,onChange:N=>h(N.target.value),onFocus:()=>j(!0),onBlur:()=>{j(!1),o(m),i(!1)},onKeyDown:N=>{N.key==="Enter"&&(o(m),N.currentTarget.blur())},className:"resize-input",placeholder:"100% or 400px"})})]})},_j=({isVisible:e,position:o,isCollapsed:r,onClose:a,onPositionChange:i,onCollapse:c,onElementClick:d})=>{const{items:u,order:m,reorderElements:h,removeElement:g,addElement:j}=$m(),y=Array.isArray(m)?m.map($=>u[$]).filter(Boolean):[],[w,C]=f.useState(!1),[N,k]=f.useState({x:0,y:0}),_=$=>{if($.target.closest(".floating-panel-header")){C(!0);const H=$.currentTarget.getBoundingClientRect();k({x:$.clientX-H.left,y:$.clientY-H.top})}},E=f.useCallback($=>{w&&i({x:$.clientX-N.x,y:$.clientY-N.y})},[w,N,i]),v=f.useCallback(()=>{C(!1)},[]);f.useEffect(()=>{if(w)return document.addEventListener("mousemove",E),document.addEventListener("mouseup",v),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",v)}},[w,E,v]);const R=($,H)=>{const G=[...m],se=G[$];G.splice($,1),G.splice(H,0,se),h(G)},z=$=>{g($)},L=$=>{const H=u[$];if(H){const G={...H,id:gt(),name:`${H.name}_copy`};j(G)}},A=($,H)=>{$.preventDefault(),console.log("Context menu for element:",H)};return e?t.jsxs("div",{className:`floating-elements-panel ${r?"floating-panel-collapsed":""}`,style:{left:o.x,top:o.y,cursor:w?"grabbing":"default"},onMouseDown:_,children:[t.jsxs("div",{className:"floating-panel-header",children:[t.jsxs("div",{className:"floating-panel-title",children:[t.jsx(aa,{size:16}),t.jsxs("span",{children:["Elements (",y.length,")"]})]}),t.jsxs("div",{className:"floating-panel-controls",children:[t.jsx("button",{className:"floating-panel-btn",onClick:()=>c(!r),title:r?"Expand":"Collapse",children:r?t.jsx(mn,{size:14}):t.jsx(ra,{size:14})}),t.jsx("button",{className:"floating-panel-btn",onClick:a,title:"Close",children:t.jsx(pt,{size:14})})]})]}),!r&&t.jsx("div",{className:"floating-panel-content",children:y.length===0?t.jsxs("div",{className:"floating-panel-empty",children:[t.jsx(aa,{size:24,className:"opacity-50"}),t.jsx("p",{className:"text-xs text-gray-500",children:"No elements yet"})]}):t.jsx("div",{className:"floating-elements-list",children:y.map(($,H)=>t.jsxs("div",{className:"floating-element-item",draggable:!0,onClick:()=>d($.id),onContextMenu:G=>A(G,$.id),onDragStart:G=>{G.dataTransfer.setData("text/plain",H.toString())},onDragOver:G=>G.preventDefault(),onDrop:G=>{G.preventDefault();const se=parseInt(G.dataTransfer.getData("text/plain"));R(se,H)},children:[t.jsx("div",{className:"floating-element-drag",children:t.jsx(ad,{size:12})}),t.jsxs("div",{className:"floating-element-info",children:[t.jsx("div",{className:"floating-element-label",children:$.properties?.label||$.label}),t.jsxs("div",{className:"floating-element-type",children:[$.type.replace("_"," ")," ",$.properties?.required&&""]})]}),t.jsxs("div",{className:"floating-element-actions",children:[t.jsx("button",{className:"floating-element-btn",onClick:G=>{G.stopPropagation(),L($.id)},title:"Duplicate",children:t.jsx(oa,{size:12})}),t.jsx("button",{className:"floating-element-btn",onClick:G=>{G.stopPropagation(),z($.id)},title:"Delete",children:t.jsx(Nn,{size:12})})]})]},$.id))})})]}):null},Rj=()=>{const{items:e,order:o,addElement:r,removeElement:a,updateElement:i,reorderElements:c}=$m(),{selectedElements:d,setSelectedElements:u}=Cw(),[m,h]=f.useState("canvas"),[g,j]=f.useState("desktop"),[y,w]=f.useState("Untitled Form"),[C,N]=f.useState("idle"),[k,_]=f.useState("1"),[E,v]=f.useState([]),R=f.useCallback((M,Z,te=5e3)=>{const Re=Math.random().toString(36).substr(2,9),Te={id:Re,type:M,message:Z,visible:!1};v(at=>[...at,Te]),setTimeout(()=>{v(at=>at.map(mt=>mt.id===Re?{...mt,visible:!0}:mt))},100),M!=="error"&&setTimeout(()=>{z(Re)},te)},[]),z=f.useCallback(M=>{v(Z=>Z.map(te=>te.id===M?{...te,hiding:!0}:te)),setTimeout(()=>{v(Z=>Z.filter(te=>te.id!==M))},400)},[]),[L,A]=f.useState(1),[$,H]=f.useState(!1),[G,se]=f.useState(!0),[de,je]=f.useState(250),[ne,Ne]=f.useState(!1),[oe,ee]=f.useState("all"),[F,X]=f.useState(""),[K,D]=f.useState(!1),[T,q]=f.useState(150),[Y,J]=f.useState(250),[xe,V]=f.useState(0),[ge,_e]=f.useState(!1),[Se,Qe]=f.useState(!1),[He,Je]=f.useState(null);f.useRef(null);const Ve=f.useCallback(M=>{je(M);const Te=M-50-16-8,at=Te<160;if(D(at),at){const Co=Math.max(100,Te);q(Co)}else{const Co=Math.max(160,Te);q(Co)}J((ne?40:M)+100)},[ne]);f.useEffect(()=>{Ve(220)},[Ve]),f.useEffect(()=>{J((ne?40:de)+100)},[ne,de]);const[xt,At]=f.useState(""),[Ht,Qt]=f.useState(!1),[ie,ce]=f.useState(!1),[me,$e]=f.useState({x:100,y:100}),[Ue,Fe]=f.useState(!1),[fe,lt]=f.useState({backgroundType:"color",backgroundColor:"#ffffff",backgroundImage:"",backgroundOpacity:1,desktop:{padding:{top:40,right:40,bottom:40,left:40},margin:{top:20,right:20,bottom:20,left:20}},tablet:{padding:{top:30,right:30,bottom:30,left:30},margin:{top:15,right:15,bottom:15,left:15}},mobile:{padding:{top:20,right:20,bottom:20,left:20},margin:{top:10,right:10,bottom:10,left:10}}}),[Ye,qe]=f.useState([]),[gn,Jt]=f.useState(null),[wt,ir]=f.useState(!1),[Ca,Sa]=f.useState(!1),[bs,Wr]=f.useState(!1),[lr,cr]=f.useState("100%"),Br=f.useCallback(M=>{const Z=Ym[M];if(!Z)return"100%";const Re={mobile:70,tablet:90,desktop:30}[M]||0;return`${Z.width-Re}px`},[]);f.useEffect(()=>{if(G&&g!=="desktop"){const M=Br(g),Z=parseInt(lr)||0,te=parseInt(M)||1/0;te>0&&Z!==te&&cr(M)}else(!G||g==="desktop")&&(parseInt(lr)||0)<600&&cr("100%")},[g,G,Br]);const yt=f.useRef(null),Ft=f.useRef(null),[ot,Et]=f.useState(null),[Ze,Zt]=f.useState(!1),[jt,Nt]=f.useState(null),[_t,_n]=f.useState(null),[Ge,en]=f.useState([]),[ft,Vt]=f.useState(null),[vt,Rt]=f.useState(null),[sn,Hn]=f.useState(null),[ws,Ea]=f.useState(!1),[hu,dr]=f.useState(!1),[El,vo]=f.useState(!1),[gu,_a]=f.useState(!1),[Nr,_l]=f.useState([]),[xn,Ra]=f.useState(-1),[js,ct]=f.useState(!1),[Hr,Ns]=f.useState(!1),bo=f.useRef(null),wo=f.useRef(null);f.useEffect(()=>{const M=Z=>{bo.current&&!bo.current.contains(Z.target)&&Ns(!1)};return Hr&&document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[Hr]);const ur=Array.isArray(o)?o.map(M=>e[M]).filter(Boolean):[],Ke=d[0]?e[d[0]]:null,jo=M=>{switch(M){case"desktop":return t.jsx(Gs,{size:18});case"tablet":return t.jsx(ld,{size:18});case"mobile":return t.jsx(la,{size:18});default:return t.jsx(Gs,{size:18})}},Rn=M=>{switch(M){case"desktop":return"Desktop";case"tablet":return"Tablet";case"mobile":return"Mobile";default:return"Desktop"}},xu=[{value:"desktop",label:"Desktop",icon:t.jsx(Gs,{size:18})},{value:"tablet",label:"Tablet",icon:t.jsx(ld,{size:18})},{value:"mobile",label:"Mobile",icon:t.jsx(la,{size:18})}],Ut=f.useCallback(()=>{if(!F.trim())return oe==="all"?Ui.filter(Te=>Te.id!=="all").flatMap(Te=>Te.elements):Ui.find(Te=>Te.id===oe)?.elements||[];const M=F.toLowerCase().trim(),Z=["the","a","an","and","or","but","in","on","at","to","for","of","with","by","is","are","was","were","be","been","have","has","had","do","does","did","will","would","could","should","may","might","can","this","that","these","those","it","its","he","she","they","them","their","his","her"],te=M.split(" ").filter(Te=>Te.length>2&&!Z.includes(Te));return Ui.filter(Te=>Te.id!=="all").flatMap(Te=>Te.elements).filter(Te=>{const at=[Te.label.toLowerCase(),Te.type.toLowerCase(),...Te.keywords||[]].join(" ");return te.some(mt=>at.includes(mt))||Te.label.toLowerCase().includes(M)})},[F,oe]),Vr=f.useCallback(()=>{if(yt.current){const{scrollLeft:M,scrollWidth:Z,clientWidth:te}=yt.current,Re=50;_e(M>Re),Qe(M<Z-te-Re),V(M)}},[]),Rl=f.useCallback(M=>{if(yt.current){const te=M==="left"?yt.current.scrollLeft-200:yt.current.scrollLeft+200;yt.current.scrollTo({left:te,behavior:"smooth"})}},[]),No=f.useCallback(()=>{Ft.current&&(clearInterval(Ft.current),Ft.current=null),Et(null)},[]),ks=f.useCallback(M=>{Ft.current&&clearInterval(Ft.current),Et(M);const Z=()=>{if(yt.current){const{scrollLeft:te,scrollWidth:Re,clientWidth:Te}=yt.current,at=9;M==="left"&&te>0?yt.current.scrollLeft-=at:M==="right"&&te<Re-Te?yt.current.scrollLeft+=at:No()}};Z(),Ft.current=setInterval(Z,16)},[No]);f.useEffect(()=>()=>{Ft.current&&clearInterval(Ft.current)},[]),f.useEffect(()=>{const M=yt.current;if(M&&K)return Vr(),M.addEventListener("scroll",Vr),window.addEventListener("resize",Vr),()=>{M.removeEventListener("scroll",Vr),window.removeEventListener("resize",Vr)}},[Vr,K]),f.useCallback((M,Z)=>{if(!K||!yt.current)return;const te=Z.getBoundingClientRect(),Re=yt.current.getBoundingClientRect();Je({element:M,rect:te,containerRect:Re})},[K]),f.useCallback(()=>{Je(null)},[]),f.useEffect(()=>{const M=yt.current;if(!M||!He)return;const Z=()=>{Je(null)};return M.addEventListener("scroll",Z),()=>M.removeEventListener("scroll",Z)},[He]),f.useEffect(()=>{const M=()=>{ct(window.innerWidth<=768)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),f.useEffect(()=>{if(C==="saving"){const M=setTimeout(()=>{N("saved"),R("success","All changes saved"),setTimeout(()=>N("idle"),1e3)},1e3);return()=>clearTimeout(M)}},[C,R]),f.useEffect(()=>{const M=Z=>{if(Z.ctrlKey||Z.metaKey)switch(Z.key){case"z":Z.preventDefault(),Z.shiftKey?Dl():Ss();break;case"c":Ke&&(Z.preventDefault(),ko());break;case"v":Z.preventDefault(),Pa();break;case"d":Ke&&(Z.preventDefault(),Ma());break;case"s":Z.preventDefault(),Vn();break}(Z.key==="Delete"||Z.key==="Backspace")&&Ke&&!Z.target?.closest(".inline-editable-input")&&(Z.preventDefault(),Oe(Ke.id)),Z.key==="Escape"&&(Vt(null),Rt(null),u([]))};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[Ke,Nr,xn]),f.useEffect(()=>()=>{document.removeEventListener("dragover",Cs),document.removeEventListener("drop",Cs)},[]);const Cs=M=>{M.preventDefault()},on=()=>{const M=Nr.slice(0,xn+1);M.push({items:{...e},order:[...o]}),_l(M),Ra(M.length-1)},Ss=()=>{xn>0&&(Ra(xn-1),Nr[xn-1])},Dl=()=>{xn<Nr.length-1&&(Ra(xn+1),Nr[xn+1])},Tl=f.useCallback((M,Z,te)=>{try{const Re=["columns","step-wizard","tabs","accordion","section","repeater","conditional-group","card"],Te=Re.includes(M),at=()=>{switch(M){case"columns":return{columnCount:2,columnWidths:["50%","50%"],gap:"20px",alignment:"stretch"};case"step-wizard":return{steps:[{id:gt(),title:"Step 1",description:"First step"},{id:gt(),title:"Step 2",description:"Second step"}],currentStep:0,showStepNumbers:!0,allowBackNavigation:!0};case"tabs":return{tabs:[{id:gt(),title:"Tab 1",active:!0},{id:gt(),title:"Tab 2",active:!1}],activeTab:0,tabPosition:"top"};case"accordion":return{sections:[{id:gt(),title:"Section 1",expanded:!0},{id:gt(),title:"Section 2",expanded:!1}],allowMultiple:!1,expandFirst:!0};case"section":return{legend:Z,showBorder:!0,collapsible:!1,collapsed:!1};case"repeater":return{minItems:1,maxItems:10,allowAdd:!0,allowRemove:!0,allowReorder:!0,itemLabel:"Item"};case"conditional-group":return{condition:{field:"",operator:"equals",value:""},showWhenTrue:!0};case"card":return{showHeader:!0,headerTitle:Z,showFooter:!1,elevation:"medium"};default:return{}}},mt={id:gt(),type:M,label:Z,category:Te?"containers":"basic",icon:te.name||M,name:Z.toLowerCase().replace(/\s+/g,"_"),children:Te?[]:void 0,properties:{label:Z,placeholder:["heading","paragraph","divider","spacer","html-block","section","page-break",...Re].includes(M)?"":`Enter ${Z.toLowerCase()}`,required:!1,helperText:"",validation:{},content:M==="paragraph"?"Add your paragraph text here...":M==="heading"?"Heading Text":void 0,options:["select","radio","checkbox","radio-cards","checkbox-cards"].includes(M)?["Option 1","Option 2"]:void 0,htmlContent:M==="html-block"?"<div>Custom HTML content</div>":void 0,min:M==="slider"?0:void 0,max:M==="slider"?100:M==="rating"?5:void 0,step:M==="slider"?1:void 0,maxRating:M==="rating"?5:void 0,acceptedTypes:M==="file"?".pdf,.doc,.docx":void 0,maxSize:M==="file"?10:void 0,amountType:M==="payment"?"fixed":void 0,currency:M==="payment"?"USD":void 0,showDescriptions:["radio-cards","checkbox-cards"].includes(M)?!0:void 0,cardLayout:["radio-cards","checkbox-cards"].includes(M)?"grid":void 0,columnsPerRow:["radio-cards","checkbox-cards"].includes(M)?2:void 0,...at()}};r(mt),u([mt.id]),N("saving"),on()}catch(Re){console.error("Error adding element:",Re),N("error")}},[dispatch,e,o]),Es=f.useCallback((M,Z,te=!1)=>{try{Zt(!0);const Re={type:Z.type,label:Z.label,icon:Z.icon?.name||Z.type,keywords:Z.keywords,isNew:te};Nt(Re),M.dataTransfer.effectAllowed="move",M.dataTransfer.setData("text/plain",JSON.stringify(Re))}catch(Re){console.error("Error in drag start:",Re),Zt(!1),Nt(null)}},[]),Ur=f.useCallback(()=>{Zt(!1),Nt(null),_n(null)},[]),qr=f.useCallback((M,Z)=>{M.preventDefault(),M.stopPropagation(),M.dataTransfer.dropEffect="move",_n(Z)},[]),pr=f.useCallback((M,Z)=>{M.preventDefault(),M.stopPropagation();try{let te=jt;if(!te){const Re=M.dataTransfer.getData("text/plain");Re&&(te=JSON.parse(Re))}if(te)if(te.isNew)yu(te,Z);else{const Re=o.indexOf(te.id);if(Re!==Z&&Re!==-1){const Te=[...o],[at]=Te.splice(Re,1);Te.splice(Z,0,at),c(Te),N("saving"),on()}}}catch(te){console.error("Error in drop handler:",te),N("error")}Ur()},[jt,o,dispatch,Ur]),yu=(M,Z)=>{const te={id:gt(),type:M.type,label:M.label,category:"basic",icon:M.icon?.name||M.type,name:M.label.toLowerCase().replace(/\s+/g,"_"),properties:{label:M.label,placeholder:`Enter ${M.label.toLowerCase()}`,required:!1,options:["select","radio","checkbox"].includes(M.type)?["Option 1","Option 2"]:void 0}};r(te,Z),u([te.id]),N("saving"),on()},Yr=f.useCallback((M,Z)=>{const te=Z?.ctrlKey||Z?.metaKey;if(te?en(Re=>Re.includes(M)?Re.filter(Te=>Te!==M):[...Re,M]):(u([M]),en([]),ir(!1),Jt(M),qe([M])),Z&&!te){const Re=e[M];if(Re){const at=Z.currentTarget.getBoundingClientRect();Rt({element:Re,position:{x:at.left,y:at.bottom+10},isVisible:!0})}}},[e]),Oe=f.useCallback(M=>{try{a(M),Ke?.id===M&&(u([]),Jt(null),qe([]),ir(!1)),qe(Z=>Z.filter(te=>te!==M)),N("saving"),Rt(null),on()}catch(Z){console.error("Error deleting element:",Z),N("error")}},[Ke,a,u]),fr=f.useCallback((M,Z,te)=>{const Re=e[M];if(Re)try{i(M,{properties:{...Re.properties,[Z]:te}}),N("saving"),on()}catch(Te){console.error("Error updating element property:",Te),N("error")}},[e,i]),Da=f.useCallback((M,Z)=>{M.preventDefault(),Yr(Z),Vt({x:M.clientX,y:M.clientY})},[Yr]),Ta=f.useCallback(M=>{if(Ke)try{switch(M){case"edit":Rt({element:Ke,position:ft||{x:0,y:0}});break;case"duplicate":Ma();break;case"copy":ko();break;case"cut":Ml();break;case"move-up":_s("up");break;case"move-down":_s("down");break;case"delete":Oe(Ke.id);break}}catch(Z){console.error("Error in context action:",Z),N("error")}Vt(null)},[Ke,dispatch,Oe,ft]),Ma=()=>{if(Ke){const M={...Ke,id:gt(),properties:{...Ke.properties,label:`${Ke.properties?.label} (Copy)`}};r(M),N("saving"),on()}},ko=()=>{Ke&&localStorage.setItem("copiedElement",JSON.stringify(Ke))},Ml=()=>{Ke&&(ko(),Oe(Ke.id))},Pa=()=>{const M=localStorage.getItem("copiedElement");if(M){const te={...JSON.parse(M),id:gt()};r(te),N("saving"),on()}},_s=M=>{if(Ke){const Z=o.indexOf(Ke.id),te=M==="up"?Z-1:Z+1;if(te>=0&&te<o.length){const Re=[...o],[Te]=Re.splice(Z,1);Re.splice(te,0,Te),c(Re),N("saving"),on()}}},Vn=()=>{N("saving")},Un=f.useCallback(M=>{console.log("Format text:",M),Hn(null)},[]),mr=M=>{console.log("Restore version:",M),Ea(!1)},Rs=M=>{console.log("Export as:",M),vo(!1)};return t.jsx(pj,{children:t.jsxs("div",{className:"flex flex-col h-screen",children:[t.jsxs("div",{className:"form-builder-topbar",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(yj,{currentForm:k,onFormSelect:_}),t.jsx(nr,{value:y,onChange:w,className:"form-title",placeholder:"Untitled Form"}),t.jsxs("div",{className:"device-selector",children:[t.jsxs("div",{className:"device-dropdown",ref:bo,children:[t.jsxs("button",{className:"device-dropdown-trigger",onClick:()=>Ns(!Hr),"aria-haspopup":"listbox","aria-expanded":Hr,children:[jo(g),t.jsx("span",{className:"device-dropdown-label",children:Rn(g)}),t.jsx(mn,{size:14,className:`device-dropdown-chevron ${Hr?"rotate-180":""}`})]}),Hr&&t.jsx("div",{className:"device-dropdown-menu",role:"listbox",children:xu.map(M=>t.jsxs("div",{className:`device-dropdown-item ${g===M.value?"device-dropdown-item-active":""}`,onClick:()=>{j(M.value),Ns(!1)},role:"option","aria-selected":g===M.value,children:[M.icon,t.jsx("span",{children:M.label})]},M.value))})]}),t.jsx("button",{className:`device-button ${G?"device-button-active":""}`,onClick:()=>se(!G),title:"Toggle Device Frame",children:t.jsx(lm,{size:18})})]})]}),t.jsxs("div",{className:"action-bar",children:[t.jsxs("div",{className:"action-group",children:[t.jsx("button",{className:"btn btn-ghost btn-icon",onClick:Ss,disabled:xn<=0,title:"Undo (Ctrl+Z)",children:t.jsx(mm,{size:20})}),t.jsx("button",{className:"btn btn-ghost btn-icon",onClick:Dl,disabled:xn>=Nr.length-1,title:"Redo (Ctrl+Shift+Z)",children:t.jsx(Ks,{size:20})})]}),t.jsxs("div",{className:"action-group",children:[t.jsx("button",{className:`btn btn-ghost btn-icon ${$?"btn-active":""}`,onClick:()=>H(!$),title:"Toggle Grid",children:t.jsx(W1,{size:20})}),t.jsx(bj,{currentZoom:L,onZoomChange:A})]}),t.jsxs("div",{className:"action-group",children:[t.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>ce(!ie),title:"Elements Panel",children:t.jsx(aa,{size:20})}),t.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>Ea(!0),title:"Version History",children:t.jsx(V1,{size:20})}),t.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>dr(!0),title:"Share & Collaborate",children:t.jsx(ow,{size:20})}),t.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>vo(!0),title:"Export Form",children:t.jsx(ki,{size:20})}),t.jsx("button",{className:"btn btn-ghost btn-icon",onClick:()=>_a(!0),title:"Analytics",children:t.jsx(wi,{size:20})})]}),t.jsxs("div",{className:"action-group",children:[t.jsxs("button",{className:"btn btn-secondary",children:[t.jsx(Ys,{size:20}),!js&&"Preview"]}),t.jsxs("button",{className:"btn btn-save",onClick:Vn,children:[C==="saving"?t.jsx(Ks,{size:20,className:"animate-spin"}):t.jsx(Xs,{size:20}),!js&&"Save"]}),t.jsxs("button",{className:"btn btn-publish",children:[t.jsx(ia,{size:20}),!js&&"Publish"]})]})]})]}),t.jsx("div",{className:"tabs-bar",children:t.jsxs("div",{className:"tabs-container",children:[t.jsxs("button",{className:`tab-btn ${m==="settings"?"tab-btn-active":""}`,onClick:()=>h("settings"),title:"Form Settings",children:[t.jsx(Ai,{size:20}),t.jsx("span",{children:"Settings"})]}),t.jsxs("button",{className:`tab-btn ${m==="entries"?"tab-btn-active":""}`,onClick:()=>h("entries"),title:"Form Entries",children:[t.jsx(Ni,{size:20}),t.jsx("span",{children:"Entries"})]}),t.jsxs("button",{className:`tab-btn ${m==="logic"?"tab-btn-active":""}`,onClick:()=>h("logic"),title:"Conditional Logic",children:[t.jsx(Bi,{size:20}),t.jsx("span",{children:"Logic"})]}),t.jsxs("button",{className:`tab-btn ${m==="style"?"tab-btn-active":""}`,onClick:()=>h("style"),title:"Form Styling",children:[t.jsx(Zn,{size:20}),t.jsx("span",{children:"Style"})]}),t.jsxs("button",{className:`tab-btn ${m==="integrations"?"tab-btn-active":""}`,onClick:()=>h("integrations"),title:"Integrations",children:[t.jsx(Wi,{size:20}),t.jsx("span",{children:"Integrations"})]})]})}),t.jsxs("div",{className:"main-content",children:[m!=="canvas"&&t.jsxs("div",{className:"tab-content-panel",children:[t.jsxs("div",{className:"tab-panel-header",children:[t.jsxs("h3",{className:"tab-panel-title",children:[m==="settings"&&"Form Settings",m==="entries"&&"Form Entries",m==="logic"&&"Conditional Logic",m==="style"&&"Form Styling",m==="integrations"&&"Integrations"]}),t.jsx("button",{className:"tab-panel-close",onClick:()=>h("canvas"),title:"Close panel",children:t.jsx(pt,{size:16})})]}),m==="settings"&&t.jsx("div",{className:"sidebar-content",children:t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold mb-4",children:"Form Settings"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Form Name"}),t.jsx(nr,{value:y,onChange:w,className:"form-input",placeholder:"Form Name"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Form Description"}),t.jsx(nr,{value:"",onChange:()=>{},className:"form-input",placeholder:"Describe what this form is for...",multiline:!0})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Submit Button Text"}),t.jsx(nr,{value:"Submit",onChange:()=>{},className:"form-input",placeholder:"Submit"})]}),t.jsxs("div",{className:"settings-section",children:[t.jsx("h4",{className:"font-medium mb-3",children:"Submission Settings"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"mr-2"}),t.jsx("span",{className:"property-label mb-0",children:"Require login to submit"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"mr-2"}),t.jsx("span",{className:"property-label mb-0",children:"Allow multiple submissions"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"mr-2"}),t.jsx("span",{className:"property-label mb-0",children:"Save as draft"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"mr-2"}),t.jsx("span",{className:"property-label mb-0",children:"Show progress bar"})]})]})]}),t.jsxs("div",{className:"settings-section",children:[t.jsx("h4",{className:"font-medium mb-3",children:"Notifications"}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Admin Email"}),t.jsx("input",{type:"email",className:"form-input",placeholder:"admin@example.com"})]}),t.jsxs("div",{className:"property-field",children:[t.jsx("label",{className:"property-label",children:"Thank You Page URL"}),t.jsx("input",{type:"url",className:"form-input",placeholder:"https://example.com/thank-you"})]})]})]})]})}),m==="entries"&&t.jsx(Nj,{}),m==="logic"&&t.jsx(kj,{}),m==="style"&&t.jsx(Cj,{}),m==="integrations"&&t.jsx(Sj,{})]}),t.jsxs("div",{className:"canvas-container",style:{paddingBottom:`${Y}px`},children:[t.jsxs("div",{className:"canvas-width-control",children:[t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:Ht,onChange:M=>Qt(M.target.checked),style:{marginRight:"8px"}}),"Custom Width:"]}),t.jsx("input",{type:"text",className:"canvas-width-input",value:xt,onChange:M=>At(M.target.value),placeholder:g==="desktop"?"1200px":g==="tablet"?"768px":"375px",disabled:!Ht})]}),t.jsx("div",{className:"canvas-zoom-wrapper",style:{transform:`scale(${L})`},children:t.jsxs("div",{ref:wo,className:`canvas-responsive ${g==="tablet"?"canvas-tablet":g==="mobile"?"canvas-mobile":"canvas-desktop"} ${G?"canvas-framed":""}`,style:Ht&&xt?{maxWidth:xt}:{},children:[t.jsx(hj,{isVisible:$}),G&&g!=="desktop"&&t.jsxs("div",{className:"simple-breadcrumb",style:{position:"absolute",top:"20px",left:"20px",zIndex:25},children:[t.jsx("button",{className:`breadcrumb-root ${wt?"breadcrumb-current":""}`,onClick:()=>{Jt(null),qe([]),ir(!0),u([]);const M=document.querySelector(".form-wrapper");M&&(M.classList.add("element-orange-flash"),setTimeout(()=>{M.classList.remove("element-orange-flash")},1500)),Rt({element:null,position:{x:window.innerWidth/2-200,y:window.innerHeight/2-250}})},children:"Form"}),Ye.length>0&&t.jsx(t.Fragment,{children:Ye.map((M,Z)=>{const te=e[M];if(!te)return null;const Re=te.properties?.label||te.label||te.type,Te=Z===Ye.length-1;return t.jsxs(De.Fragment,{children:[t.jsx("span",{className:"breadcrumb-separator",children:">"}),t.jsx("button",{className:`breadcrumb-item ${Te?"breadcrumb-current":""}`,onClick:()=>{const at=Ye.slice(0,Z+1);qe(at),Jt(M);const mt=document.querySelector(`[data-element-id="${M}"]`);mt&&(mt.scrollIntoView({behavior:"smooth",block:"center"}),mt.classList.add("element-orange-flash"),setTimeout(()=>{mt.classList.remove("element-orange-flash")},1500))},children:Re})]},M)})})]}),G&&g!=="desktop"&&t.jsxs("div",{className:`device-frame device-frame-${g}`,style:{marginTop:"60px"},children:[t.jsx("div",{className:"device-frame-header",children:t.jsx("div",{className:"device-frame-title",children:Ym[g].name})}),g==="mobile"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"device-home-button"}),t.jsx("div",{className:"device-speaker"}),t.jsx("div",{className:"device-camera"})]}),g==="tablet"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"device-home-button-tablet"}),t.jsx("div",{className:"device-camera-tablet"})]}),t.jsx("div",{className:"device-screen-overlay",children:t.jsx("div",{className:`form-wrapper ${wt?"form-wrapper-selected":""}`,style:{background:fe.backgroundType==="none"?"transparent":fe.backgroundType==="color"?`${fe.backgroundColor}${Math.round(fe.backgroundOpacity*255).toString(16).padStart(2,"0")}`:fe.backgroundImage?`url(${fe.backgroundImage})`:fe.backgroundColor,backgroundSize:fe.backgroundType==="image"?"cover":"auto",backgroundPosition:fe.backgroundType==="image"?"center":"auto",backgroundRepeat:fe.backgroundType==="image"?"no-repeat":"auto",padding:`${fe[g]?.padding?.top||0}px ${fe[g]?.padding?.right||0}px ${fe[g]?.padding?.bottom||0}px ${fe[g]?.padding?.left||0}px`,margin:`${fe[g]?.margin?.top||0}px ${fe[g]?.margin?.right||0}px ${fe[g]?.margin?.bottom||0}px ${fe[g]?.margin?.left||0}px`,borderRadius:"var(--radius-lg)",minHeight:"200px",width:"100%",position:"relative"},children:ur.length===0?t.jsxs("div",{className:`drop-zone ${Ze?"drop-zone-active":""}`,onDragOver:M=>qr(M,0),onDrop:M=>pr(M,0),children:[t.jsx(aa,{size:24,className:"mb-2"}),t.jsx("p",{children:"Drag elements from the bottom tray to start building your form"})]}):t.jsxs("div",{children:[ur.map((M,Z)=>t.jsxs(De.Fragment,{children:[Ze&&_t===Z&&t.jsx("div",{className:"drop-zone drop-zone-hover"}),t.jsxs("div",{className:`form-element ${Ke?.id===M.id||Ge.includes(M.id)?"form-element-selected":""} ${Ze&&jt?.id===M.id?"form-element-dragging":""}`,"data-element-id":M.id,draggable:!0,onDragStart:te=>Es(te,M),onDragEnd:Ur,onDragOver:te=>qr(te,Z+1),onDrop:te=>pr(te,Z+1),onClick:te=>Yr(M.id,te),onContextMenu:te=>Da(te,M.id),children:[t.jsxs("div",{className:"element-controls",children:[t.jsx("button",{className:"element-control-btn",title:"Drag to reorder",children:t.jsx(ad,{size:16})}),t.jsx("button",{className:"element-control-btn",title:"Edit Properties",children:t.jsx(Ai,{size:16})}),t.jsx("button",{className:"element-control-btn",title:"Delete",onClick:te=>{te.stopPropagation(),Oe(M.id)},children:t.jsx(Nn,{size:16})})]}),t.jsxs("div",{className:"mb-2",children:[t.jsx(nr,{value:M.properties?.label||M.label,onChange:te=>fr(M.id,"label",te),className:"property-label",placeholder:"Field Label",onFormat:Un}),M.properties?.required&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"}),M.properties?.helperText&&t.jsx(nr,{value:M.properties.helperText,onChange:te=>fr(M.id,"helperText",te),className:"property-help",placeholder:"Helper text"})]}),t.jsx(Bm,{element:M,updateElementProperty:fr})]}),Ze&&_t===ur.length&&Z===ur.length-1&&t.jsx("div",{className:"drop-zone drop-zone-hover"})]},M.id)),t.jsx("div",{className:"mt-6",children:t.jsx(nr,{value:"Submit",onChange:()=>{},className:"w-full px-4 py-2 bg-blue-500 text-white rounded-md font-medium text-center",placeholder:"Submit"})})]})})})]}),(!G||g==="desktop")&&t.jsxs("div",{className:"simple-breadcrumb",children:[t.jsx("button",{className:`breadcrumb-root ${wt?"breadcrumb-current":""}`,onClick:()=>{Jt(null),qe([]),ir(!0),u([]);const M=document.querySelector(".form-wrapper");M&&(M.classList.add("element-orange-flash"),setTimeout(()=>{M.classList.remove("element-orange-flash")},1500)),Rt({element:null,position:{x:window.innerWidth/2-200,y:window.innerHeight/2-250}})},children:"Form"}),Ye.length>0&&t.jsx(t.Fragment,{children:Ye.map((M,Z)=>{const te=e[M];if(!te)return null;const Re=te.properties?.label||te.label||te.type,Te=Z===Ye.length-1;return t.jsxs(De.Fragment,{children:[t.jsx("span",{className:"breadcrumb-separator",children:">"}),t.jsx("button",{className:`breadcrumb-item ${Te?"breadcrumb-current":""}`,onClick:()=>{const at=Ye.slice(0,Z+1);qe(at),Jt(M);const mt=document.querySelector(`[data-element-id="${M}"]`);mt&&(mt.scrollIntoView({behavior:"smooth",block:"center"}),mt.classList.add("element-orange-flash"),setTimeout(()=>{mt.classList.remove("element-orange-flash")},1500))},children:Re})]},M)})})]}),(!G||g==="desktop")&&t.jsx("div",{className:"desktop-form-container",style:{display:"flex",justifyContent:"center",width:"100%",minHeight:"200px"},children:t.jsxs("div",{className:`form-wrapper ${wt?"form-wrapper-selected":""}`,style:{background:fe.backgroundType==="none"?"transparent":fe.backgroundType==="color"?`${fe.backgroundColor}${Math.round(fe.backgroundOpacity*255).toString(16).padStart(2,"0")}`:fe.backgroundImage?`url(${fe.backgroundImage})`:fe.backgroundColor,backgroundSize:fe.backgroundType==="image"?"cover":"auto",backgroundPosition:fe.backgroundType==="image"?"center":"auto",backgroundRepeat:fe.backgroundType==="image"?"no-repeat":"auto",padding:`${fe[g]?.padding?.top||0}px ${fe[g]?.padding?.right||0}px ${fe[g]?.padding?.bottom||0}px ${fe[g]?.padding?.left||0}px`,margin:`${fe[g]?.margin?.top||0}px ${fe[g]?.margin?.right||0}px ${fe[g]?.margin?.bottom||0}px ${fe[g]?.margin?.left||0}px`,borderRadius:"var(--radius-lg)",minHeight:"200px",width:lr,position:"relative"},children:[t.jsx(Ej,{position:"right",currentWidth:lr,showInput:bs,onInputVisibilityChange:Wr,onResize:M=>cr(M),maxWidth:void 0}),ur.length===0?t.jsxs("div",{className:`drop-zone ${Ze?"drop-zone-active":""}`,onDragOver:M=>qr(M,0),onDrop:M=>pr(M,0),children:[t.jsx(aa,{size:24,className:"mb-2"}),t.jsx("p",{children:"Drag elements from the bottom tray to start building your form"})]}):t.jsxs("div",{children:[ur.map((M,Z)=>t.jsxs(De.Fragment,{children:[Ze&&_t===Z&&t.jsx("div",{className:"drop-zone drop-zone-hover"}),t.jsxs("div",{className:`form-element ${Ke?.id===M.id||Ge.includes(M.id)?"form-element-selected":""} ${Ze&&jt?.id===M.id?"form-element-dragging":""}`,"data-element-id":M.id,draggable:!0,onDragStart:te=>Es(te,M),onDragEnd:Ur,onDragOver:te=>qr(te,Z+1),onDrop:te=>pr(te,Z+1),onClick:te=>Yr(M.id,te),onContextMenu:te=>Da(te,M.id),children:[t.jsxs("div",{className:"element-controls",children:[t.jsx("button",{className:"element-control-btn",title:"Drag to reorder",children:t.jsx(ad,{size:16})}),t.jsx("button",{className:"element-control-btn",title:"Edit Properties",children:t.jsx(Ai,{size:16})}),t.jsx("button",{className:"element-control-btn",title:"Delete",onClick:te=>{te.stopPropagation(),Oe(M.id)},children:t.jsx(Nn,{size:16})})]}),t.jsxs("div",{className:"mb-2",children:[t.jsx(nr,{value:M.properties?.label||M.label,onChange:te=>fr(M.id,"label",te),className:"property-label",placeholder:"Field Label",onFormat:Un}),M.properties?.required&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"}),M.properties?.helperText&&t.jsx(nr,{value:M.properties.helperText,onChange:te=>fr(M.id,"helperText",te),className:"property-help",placeholder:"Helper text"})]}),t.jsx(Bm,{element:M,updateElementProperty:fr})]}),Ze&&_t===ur.length&&Z===ur.length-1&&t.jsx("div",{className:"drop-zone drop-zone-hover"})]},M.id)),t.jsx("div",{className:"mt-6",children:t.jsx(nr,{value:"Submit",onChange:()=>{},className:"w-full px-4 py-2 bg-blue-500 text-white rounded-md font-medium text-center",placeholder:"Submit"})})]})]})})]})})]})]}),t.jsxs(gj,{isCollapsed:ne,onToggleCollapse:()=>Ne(!ne),isMobile:js,onHeightChange:Ve,children:[t.jsx("div",{className:"tray-header",children:t.jsxs("div",{className:"tray-header-left",children:[t.jsx("div",{className:"tray-categories",children:!F&&Ui.map(M=>t.jsx("button",{className:`tray-category-btn ${oe===M.id?"tray-category-btn-active":""}`,onClick:()=>ee(M.id),children:M.name},M.id))}),t.jsxs("div",{className:"tray-search",children:[t.jsx(Qs,{size:16,className:"tray-search-icon"}),t.jsx("input",{type:"text",placeholder:"Search elements...",value:F,onChange:M=>X(M.target.value),onKeyDown:M=>{if(M.key==="Enter"&&F.trim()){const Z=Ut();if(Z.length===1){M.preventDefault();const te=Z[0];Tl(te.type,te.label,te.icon),X("")}}},className:"tray-search-input"}),F&&t.jsx("button",{onClick:()=>X(""),className:"tray-search-clear",title:"Clear search",children:t.jsx(pt,{size:14})})]})]})}),t.jsxs("div",{className:"tray-elements-container",style:{height:`${T}px`},children:[t.jsx("div",{ref:yt,className:`tray-elements-scroll ${js?"tray-elements-mobile":""}`,children:t.jsxs("div",{className:`tray-elements-inner ${K?"tray-elements-horizontal":"tray-elements-grid"}`,children:[Ut().map(M=>{const te=Ut().length===1&&F.trim();return t.jsxs("div",{className:`tray-element-item ${te?"tray-element-item-highlighted":""}`,draggable:!0,onDragStart:Re=>Es(Re,M,!0),onDragEnd:Ur,onClick:()=>Tl(M.type,M.label,M.icon),children:[t.jsx(M.icon,{className:"tray-element-icon"}),t.jsx("span",{className:"tray-element-label",children:M.label}),te&&t.jsx("div",{className:"tray-single-element-tooltip tray-single-element-tooltip-visible",children:"Press Enter to add"})]},M.type)}),Ut().length===0&&F&&t.jsxs("div",{className:"tray-no-results",children:[t.jsx(Qs,{size:24,className:"tray-no-results-icon"}),t.jsxs("span",{className:"tray-no-results-text",children:['No elements found for "',F,'"']})]})]})}),K&&ge&&t.jsx("button",{className:"tray-scroll-btn tray-scroll-left",onClick:()=>Rl("left"),onMouseEnter:()=>ks("left"),onMouseLeave:No,title:"Scroll left",children:t.jsx(z1,{size:20})}),K&&Se&&t.jsx("button",{className:"tray-scroll-btn tray-scroll-right",onClick:()=>Rl("right"),onMouseEnter:()=>ks("right"),onMouseLeave:No,title:"Scroll right",children:t.jsx(Lr,{size:20})}),K&&ge&&t.jsx("div",{className:"tray-shadow-left"}),K&&Se&&t.jsx("div",{className:"tray-shadow-right"})]})]}),vt&&vt.element&&t.jsx(wj,{element:vt.element,position:vt.position,onClose:()=>Rt(null),onUpdate:(M,Z)=>fr(vt.element.id,M,Z),onDelete:()=>Oe(vt.element.id)}),vt&&!vt.element&&wt&&t.jsx(jj,{position:vt.position,settings:fe,devicePreview:g,onClose:()=>{Rt(null),ir(!1)},onUpdate:(M,Z)=>{if(M.includes(".")){const[te,Re]=M.split(".");lt(Te=>({...Te,[te]:{...Te[te],[Re]:Z}}))}else lt(te=>({...te,[M]:Z}))}}),ft&&t.jsx(mj,{x:ft.x,y:ft.y,onClose:()=>Vt(null),onAction:Ta}),t.jsx(dj,{isOpen:ws,onClose:()=>Ea(!1),onRestore:mr}),t.jsx(sj,{isOpen:hu,onClose:()=>dr(!1)}),t.jsx(aj,{isOpen:El,onClose:()=>vo(!1),onExport:Rs}),t.jsx(lj,{isOpen:gu,onClose:()=>_a(!1)}),t.jsx(_j,{isVisible:ie,position:me,isCollapsed:Ue,onClose:()=>ce(!1),onPositionChange:$e,onCollapse:Fe,onElementClick:M=>{console.log("Element clicked:",M)}}),t.jsx("div",{className:"toast-container",children:E.map(M=>t.jsx(Vm,{id:M.id,type:M.type,message:M.message,visible:M.visible,hiding:M.hiding,onClose:z},M.id))})]})})},Dj=e=>t.jsx(nj,{children:t.jsx(Rj,{...e})});window.addEventListener("error",e=>{console.error("SFUI Admin: Global error caught:",e.error)}),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Gm):Gm();function Gm(){const e=document.getElementById("super-form-builder-v2-root");if(e){da(e,t.jsx(Dj,{}));return}const o=document.getElementById("sfui-admin-root");if(!o)return;if(!window.sfuiData){console.error("SFUI Admin: Data not found on window.sfuiData");return}const{currentPage:r}=window.sfuiData;switch(r){case"super_create_form":da(o,t.jsx(qf,{}));break;case"super_settings":da(o,t.jsx(v1,{}));break;case"super_entries":da(o,t.jsx(b1,{}));break;default:da(o,t.jsx(qf,{}))}}function da(e,o){try{console.log("SFUI Admin: Initializing page:",window.sfuiData?.currentPage),nv.createRoot(e).render(t.jsx(De.StrictMode,{children:o})),console.log("SFUI Admin: Page mounted successfully")}catch(r){console.error("SFUI Admin: Error during initialization:",r)}}const{useDebugValue:Tj}=De,{useSyncExternalStoreWithSelector:Mj}=Dm,Pj=e=>e;function $j(e,o=Pj,r){const a=Mj(e.subscribe,e.getState,e.getServerState||e.getInitialState,o,r);return Tj(a),a}const Km=(e,o)=>{const r=Cm(e),a=(i,c=o)=>$j(r,i,c);return Object.assign(a,r),a},Xm=(e,o)=>e?Km(e,o):Km,md={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},hd=new Map,qi=e=>{const o=hd.get(e);return o?Object.fromEntries(Object.entries(o.stores).map(([r,a])=>[r,a.getState()])):{}},zj=(e,o,r)=>{if(e===void 0)return{type:"untracked",connection:o.connect(r)};const a=hd.get(r.name);if(a)return{type:"tracked",store:e,...a};const i={connection:o.connect(r),stores:{}};return hd.set(r.name,i),{type:"tracked",store:e,...i}},Qm=(e,o={})=>(r,a,i)=>{const{enabled:c,anonymousActionType:d,store:u,...m}=o;let h;try{h=(c??(md?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!h)return(md?"production":void 0)!=="production"&&c&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(r,a,i);const{connection:g,...j}=zj(u,h,m);let y=!0;i.setState=(N,k,_)=>{const E=r(N,k);if(!y)return E;const v=_===void 0?{type:d||"anonymous"}:typeof _=="string"?{type:_}:_;return u===void 0?(g?.send(v,a()),E):(g?.send({...v,type:`${u}/${v.type}`},{...qi(m.name),[u]:i.getState()}),E)};const w=(...N)=>{const k=y;y=!1,r(...N),y=k},C=e(i.setState,a,i);if(j.type==="untracked"?g?.init(C):(j.stores[j.store]=i,g?.init(Object.fromEntries(Object.entries(j.stores).map(([N,k])=>[N,N===j.store?C:k.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let N=!1;const k=i.dispatch;i.dispatch=(..._)=>{(md?"production":void 0)!=="production"&&_[0].type==="__setState"&&!N&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),N=!0),k(..._)}}return g.subscribe(N=>{var k;switch(N.type){case"ACTION":if(typeof N.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return gd(N.payload,_=>{if(_.type==="__setState"){if(u===void 0){w(_.state);return}Object.keys(_.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const E=_.state[u];if(E==null)return;JSON.stringify(i.getState())!==JSON.stringify(E)&&w(E);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(_)});case"DISPATCH":switch(N.payload.type){case"RESET":return w(C),u===void 0?g?.init(i.getState()):g?.init(qi(m.name));case"COMMIT":if(u===void 0){g?.init(i.getState());return}return g?.init(qi(m.name));case"ROLLBACK":return gd(N.state,_=>{if(u===void 0){w(_),g?.init(i.getState());return}w(_[u]),g?.init(qi(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return gd(N.state,_=>{if(u===void 0){w(_);return}JSON.stringify(i.getState())!==JSON.stringify(_[u])&&w(_[u])});case"IMPORT_STATE":{const{nextLiftedState:_}=N.payload,E=(k=_.computedStates.slice(-1)[0])==null?void 0:k.state;if(!E)return;w(u===void 0?E:E[u]),g?.send(null,_);return}case"PAUSE_RECORDING":return y=!y}return}}),C},gd=(e,o)=>{let r;try{r=JSON.parse(e)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}r!==void 0&&o(r)},Zs=Xm()(Qm((e,o)=>({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null,initializeStore:r=>{e({emails:r.emails||[],activeEmailId:r.emails?.[0]?.id||null,translations:r.translations||{}})},addEmail:()=>{const r={id:`email_${Date.now()}`,enabled:!0,description:"New Email",to:"{email}",from_email:"",from_name:"{option_blogname}",subject:"New submission",body:"<p>The following information has been sent:</p>{loop_fields}",attachments:[],reply_to:{enabled:!1,email:"",name:""},cc:"",bcc:"",template:{slug:"none"},conditions:{enabled:!1,f1:"",logic:"==",f2:""},schedule:{enabled:!1,schedules:[]}};e(a=>({emails:[...a.emails,r],activeEmailId:r.id,isDirty:!0}))},removeEmail:r=>{e(a=>{const i=a.emails.filter(d=>d.id!==r),c=a.activeEmailId===r?i[0]?.id||null:a.activeEmailId;return{emails:i,activeEmailId:c,isDirty:!0}})},duplicateEmail:r=>{e(a=>{const i=a.emails.find(m=>m.id===r);if(!i)return a;const c={...i,id:`email_${Date.now()}`,description:`${i.description||"Email"} (Copy)`},d=a.emails.findIndex(m=>m.id===r),u=[...a.emails];return u.splice(d+1,0,c),{emails:u,activeEmailId:c.id,isDirty:!0}})},updateEmail:(r,a)=>{e(i=>({emails:i.emails.map(c=>c.id===r?{...c,...a}:c),isDirty:!0}))},updateEmailField:(r,a,i)=>{e(c=>({emails:c.emails.map(u=>{if(u.id!==r)return u;const m=a.split("."),h={...u};let g=h;for(let j=0;j<m.length-1;j++){const y=m[j];g[y]={...g[y]},g=g[y]}return g[m[m.length-1]]=i,h}),isDirty:!0}))},setActiveEmailId:r=>{e({activeEmailId:r})},getActiveEmail:()=>{const r=o();return r.emails.find(a=>a.id===r.activeEmailId)},setActiveLanguage:r=>{e({activeLanguage:r})},updateTranslation:(r,a,i,c)=>{e(d=>{const u={...d.translations};return u[i]||(u[i]={}),u[i][r]||(u[i][r]={}),u[i][r][a]=c,{translations:u,isDirty:!0}})},reorderEmails:(r,a)=>{e(i=>{const c=[...i.emails],[d]=c.splice(r,1);return c.splice(a,0,d),{emails:c,isDirty:!0}})},save:async(r,a,i)=>{const c=o();e({isSaving:!0,error:null});try{const d=new FormData;d.append("action","super_save_form_emails"),d.append("form_id",String(r)),d.append("nonce",i),d.append("emails",JSON.stringify(c.emails)),d.append("translations",JSON.stringify(c.translations));const u=await fetch(a,{method:"POST",body:d}),m=await u.json();if(!u.ok||!m.success)throw new Error(m.message||"Failed to save");return e({isSaving:!1,isDirty:!1}),{success:!0}}catch(d){const u=d instanceof Error?d.message:"Unknown error";return e({isSaving:!1,error:u}),{success:!1,error:u}}},reset:()=>{e({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null})}})));function Lj(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return f.useMemo(()=>a=>{o.forEach(i=>i(a))},o)}const Yi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function eo(e){const o=Object.prototype.toString.call(e);return o==="[object Window]"||o==="[object global]"}function xd(e){return"nodeType"in e}function Xt(e){var o,r;return e?eo(e)?e:xd(e)&&(o=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?o:window:window}function yd(e){const{Document:o}=Xt(e);return e instanceof o}function ua(e){return eo(e)?!1:e instanceof Xt(e).HTMLElement}function Jm(e){return e instanceof Xt(e).SVGElement}function to(e){return e?eo(e)?e.document:xd(e)?yd(e)?e:ua(e)||Jm(e)?e.ownerDocument:document:document:document}const An=Yi?f.useLayoutEffect:f.useEffect;function Gi(e){const o=f.useRef(e);return An(()=>{o.current=e}),f.useCallback(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return o.current==null?void 0:o.current(...a)},[])}function Ij(){const e=f.useRef(null),o=f.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),r=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[o,r]}function pa(e,o){o===void 0&&(o=[e]);const r=f.useRef(e);return An(()=>{r.current!==e&&(r.current=e)},o),r}function fa(e,o){const r=f.useRef();return f.useMemo(()=>{const a=e(r.current);return r.current=a,a},[...o])}function Ki(e){const o=Gi(e),r=f.useRef(null),a=f.useCallback(i=>{i!==r.current&&o?.(i,r.current),r.current=i},[]);return[r,a]}function Xi(e){const o=f.useRef();return f.useEffect(()=>{o.current=e},[e]),o.current}let vd={};function ma(e,o){return f.useMemo(()=>{if(o)return o;const r=vd[e]==null?0:vd[e]+1;return vd[e]=r,e+"-"+r},[e,o])}function Zm(e){return function(o){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((c,d)=>{const u=Object.entries(d);for(const[m,h]of u){const g=c[m];g!=null&&(c[m]=g+e*h)}return c},{...o})}}const no=Zm(1),ha=Zm(-1);function Oj(e){return"clientX"in e&&"clientY"in e}function Qi(e){if(!e)return!1;const{KeyboardEvent:o}=Xt(e.target);return o&&e instanceof o}function Aj(e){if(!e)return!1;const{TouchEvent:o}=Xt(e.target);return o&&e instanceof o}function Ji(e){if(Aj(e)){if(e.touches&&e.touches.length){const{clientX:o,clientY:r}=e.touches[0];return{x:o,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:o,clientY:r}=e.changedTouches[0];return{x:o,y:r}}}return Oj(e)?{x:e.clientX,y:e.clientY}:null}const rr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:o,y:r}=e;return"translate3d("+(o?Math.round(o):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:o,scaleY:r}=e;return"scaleX("+o+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[rr.Translate.toString(e),rr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:o,duration:r,easing:a}=e;return o+" "+r+"ms "+a}}}),eh="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Fj(e){return e.matches(eh)?e:e.querySelector(eh)}const Wj={display:"none"};function Bj(e){let{id:o,value:r}=e;return De.createElement("div",{id:o,style:Wj},r)}function Hj(e){let{id:o,announcement:r,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return De.createElement("div",{id:o,style:i,role:"status","aria-live":a,"aria-atomic":!0},r)}function Vj(){const[e,o]=f.useState("");return{announce:f.useCallback(a=>{a!=null&&o(a)},[]),announcement:e}}const th=f.createContext(null);function Uj(e){const o=f.useContext(th);f.useEffect(()=>{if(!o)throw new Error("useDndMonitor must be used within a children of <DndContext>");return o(e)},[e,o])}function qj(){const[e]=f.useState(()=>new Set),o=f.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[f.useCallback(a=>{let{type:i,event:c}=a;e.forEach(d=>{var u;return(u=d[i])==null?void 0:u.call(d,c)})},[e]),o]}const Yj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Gj={onDragStart(e){let{active:o}=e;return"Picked up draggable item "+o.id+"."},onDragOver(e){let{active:o,over:r}=e;return r?"Draggable item "+o.id+" was moved over droppable area "+r.id+".":"Draggable item "+o.id+" is no longer over a droppable area."},onDragEnd(e){let{active:o,over:r}=e;return r?"Draggable item "+o.id+" was dropped over droppable area "+r.id:"Draggable item "+o.id+" was dropped."},onDragCancel(e){let{active:o}=e;return"Dragging was cancelled. Draggable item "+o.id+" was dropped."}};function Kj(e){let{announcements:o=Gj,container:r,hiddenTextDescribedById:a,screenReaderInstructions:i=Yj}=e;const{announce:c,announcement:d}=Vj(),u=ma("DndLiveRegion"),[m,h]=f.useState(!1);if(f.useEffect(()=>{h(!0)},[]),Uj(f.useMemo(()=>({onDragStart(j){let{active:y}=j;c(o.onDragStart({active:y}))},onDragMove(j){let{active:y,over:w}=j;o.onDragMove&&c(o.onDragMove({active:y,over:w}))},onDragOver(j){let{active:y,over:w}=j;c(o.onDragOver({active:y,over:w}))},onDragEnd(j){let{active:y,over:w}=j;c(o.onDragEnd({active:y,over:w}))},onDragCancel(j){let{active:y,over:w}=j;c(o.onDragCancel({active:y,over:w}))}}),[c,o])),!m)return null;const g=De.createElement(De.Fragment,null,De.createElement(Bj,{id:a,value:i.draggable}),De.createElement(Hj,{id:u,announcement:d}));return r?us.createPortal(g,r):g}var St;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(St||(St={}));function Zi(){}function nh(e,o){return f.useMemo(()=>({sensor:e,options:o??{}}),[e,o])}function Xj(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return f.useMemo(()=>[...o].filter(a=>a!=null),[...o])}const Fn=Object.freeze({x:0,y:0});function rh(e,o){return Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))}function Qj(e,o){const r=Ji(e);if(!r)return"0 0";const a={x:(r.x-o.left)/o.width*100,y:(r.y-o.top)/o.height*100};return a.x+"% "+a.y+"%"}function sh(e,o){let{data:{value:r}}=e,{data:{value:a}}=o;return r-a}function Jj(e,o){let{data:{value:r}}=e,{data:{value:a}}=o;return a-r}function oh(e){let{left:o,top:r,height:a,width:i}=e;return[{x:o,y:r},{x:o+i,y:r},{x:o,y:r+a},{x:o+i,y:r+a}]}function ah(e,o){if(!e||e.length===0)return null;const[r]=e;return r[o]}function ih(e,o,r){return o===void 0&&(o=e.left),r===void 0&&(r=e.top),{x:o+e.width*.5,y:r+e.height*.5}}const bd=e=>{let{collisionRect:o,droppableRects:r,droppableContainers:a}=e;const i=ih(o,o.left,o.top),c=[];for(const d of a){const{id:u}=d,m=r.get(u);if(m){const h=rh(ih(m),i);c.push({id:u,data:{droppableContainer:d,value:h}})}}return c.sort(sh)},Zj=e=>{let{collisionRect:o,droppableRects:r,droppableContainers:a}=e;const i=oh(o),c=[];for(const d of a){const{id:u}=d,m=r.get(u);if(m){const h=oh(m),g=i.reduce((y,w,C)=>y+rh(h[C],w),0),j=Number((g/4).toFixed(4));c.push({id:u,data:{droppableContainer:d,value:j}})}}return c.sort(sh)};function eN(e,o){const r=Math.max(o.top,e.top),a=Math.max(o.left,e.left),i=Math.min(o.left+o.width,e.left+e.width),c=Math.min(o.top+o.height,e.top+e.height),d=i-a,u=c-r;if(a<i&&r<c){const m=o.width*o.height,h=e.width*e.height,g=d*u,j=g/(m+h-g);return Number(j.toFixed(4))}return 0}const tN=e=>{let{collisionRect:o,droppableRects:r,droppableContainers:a}=e;const i=[];for(const c of a){const{id:d}=c,u=r.get(d);if(u){const m=eN(u,o);m>0&&i.push({id:d,data:{droppableContainer:c,value:m}})}}return i.sort(Jj)};function nN(e,o,r){return{...e,scaleX:o&&r?o.width/r.width:1,scaleY:o&&r?o.height/r.height:1}}function lh(e,o){return e&&o?{x:e.left-o.left,y:e.top-o.top}:Fn}function rN(e){return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),c=1;c<a;c++)i[c-1]=arguments[c];return i.reduce((d,u)=>({...d,top:d.top+e*u.y,bottom:d.bottom+e*u.y,left:d.left+e*u.x,right:d.right+e*u.x}),{...r})}}const sN=rN(1);function ch(e){if(e.startsWith("matrix3d(")){const o=e.slice(9,-1).split(/, /);return{x:+o[12],y:+o[13],scaleX:+o[0],scaleY:+o[5]}}else if(e.startsWith("matrix(")){const o=e.slice(7,-1).split(/, /);return{x:+o[4],y:+o[5],scaleX:+o[0],scaleY:+o[3]}}return null}function oN(e,o,r){const a=ch(o);if(!a)return e;const{scaleX:i,scaleY:c,x:d,y:u}=a,m=e.left-d-(1-i)*parseFloat(r),h=e.top-u-(1-c)*parseFloat(r.slice(r.indexOf(" ")+1)),g=i?e.width/i:e.width,j=c?e.height/c:e.height;return{width:g,height:j,top:h,right:m+g,bottom:h+j,left:m}}const aN={ignoreTransform:!1};function ro(e,o){o===void 0&&(o=aN);let r=e.getBoundingClientRect();if(o.ignoreTransform){const{transform:h,transformOrigin:g}=Xt(e).getComputedStyle(e);h&&(r=oN(r,h,g))}const{top:a,left:i,width:c,height:d,bottom:u,right:m}=r;return{top:a,left:i,width:c,height:d,bottom:u,right:m}}function dh(e){return ro(e,{ignoreTransform:!0})}function iN(e){const o=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:o,bottom:r,width:o,height:r}}function lN(e,o){return o===void 0&&(o=Xt(e).getComputedStyle(e)),o.position==="fixed"}function cN(e,o){o===void 0&&(o=Xt(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const c=o[i];return typeof c=="string"?r.test(c):!1})}function el(e,o){const r=[];function a(i){if(o!=null&&r.length>=o||!i)return r;if(yd(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!ua(i)||Jm(i)||r.includes(i))return r;const c=Xt(e).getComputedStyle(i);return i!==e&&cN(i,c)&&r.push(i),lN(i,c)?r:a(i.parentNode)}return e?a(e):r}function uh(e){const[o]=el(e,1);return o??null}function wd(e){return!Yi||!e?null:eo(e)?e:xd(e)?yd(e)||e===to(e).scrollingElement?window:ua(e)?e:null:null}function ph(e){return eo(e)?e.scrollX:e.scrollLeft}function fh(e){return eo(e)?e.scrollY:e.scrollTop}function jd(e){return{x:ph(e),y:fh(e)}}var Mt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Mt||(Mt={}));function mh(e){return!Yi||!e?!1:e===document.scrollingElement}function hh(e){const o={x:0,y:0},r=mh(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=o.y,c=e.scrollLeft<=o.x,d=e.scrollTop>=a.y,u=e.scrollLeft>=a.x;return{isTop:i,isLeft:c,isBottom:d,isRight:u,maxScroll:a,minScroll:o}}const dN={x:.2,y:.2};function uN(e,o,r,a,i){let{top:c,left:d,right:u,bottom:m}=r;a===void 0&&(a=10),i===void 0&&(i=dN);const{isTop:h,isBottom:g,isLeft:j,isRight:y}=hh(e),w={x:0,y:0},C={x:0,y:0},N={height:o.height*i.y,width:o.width*i.x};return!h&&c<=o.top+N.height?(w.y=Mt.Backward,C.y=a*Math.abs((o.top+N.height-c)/N.height)):!g&&m>=o.bottom-N.height&&(w.y=Mt.Forward,C.y=a*Math.abs((o.bottom-N.height-m)/N.height)),!y&&u>=o.right-N.width?(w.x=Mt.Forward,C.x=a*Math.abs((o.right-N.width-u)/N.width)):!j&&d<=o.left+N.width&&(w.x=Mt.Backward,C.x=a*Math.abs((o.left+N.width-d)/N.width)),{direction:w,speed:C}}function pN(e){if(e===document.scrollingElement){const{innerWidth:c,innerHeight:d}=window;return{top:0,left:0,right:c,bottom:d,width:c,height:d}}const{top:o,left:r,right:a,bottom:i}=e.getBoundingClientRect();return{top:o,left:r,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function gh(e){return e.reduce((o,r)=>no(o,jd(r)),Fn)}function fN(e){return e.reduce((o,r)=>o+ph(r),0)}function mN(e){return e.reduce((o,r)=>o+fh(r),0)}function xh(e,o){if(o===void 0&&(o=ro),!e)return;const{top:r,left:a,bottom:i,right:c}=o(e);uh(e)&&(i<=0||c<=0||r>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const hN=[["x",["left","right"],fN],["y",["top","bottom"],mN]];class Nd{constructor(o,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=el(r),i=gh(a);this.rect={...o},this.width=o.width,this.height=o.height;for(const[c,d,u]of hN)for(const m of d)Object.defineProperty(this,m,{get:()=>{const h=u(a),g=i[c]-h;return this.rect[m]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ga{constructor(o){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...r)})},this.target=o}add(o,r,a){var i;(i=this.target)==null||i.addEventListener(o,r,a),this.listeners.push([o,r,a])}}function gN(e){const{EventTarget:o}=Xt(e);return e instanceof o?e:to(e)}function kd(e,o){const r=Math.abs(e.x),a=Math.abs(e.y);return typeof o=="number"?Math.sqrt(r**2+a**2)>o:"x"in o&&"y"in o?r>o.x&&a>o.y:"x"in o?r>o.x:"y"in o?a>o.y:!1}var kn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(kn||(kn={}));function yh(e){e.preventDefault()}function xN(e){e.stopPropagation()}var Ae;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ae||(Ae={}));const vh={start:[Ae.Space,Ae.Enter],cancel:[Ae.Esc],end:[Ae.Space,Ae.Enter,Ae.Tab]},yN=(e,o)=>{let{currentCoordinates:r}=o;switch(e.code){case Ae.Right:return{...r,x:r.x+25};case Ae.Left:return{...r,x:r.x-25};case Ae.Down:return{...r,y:r.y+25};case Ae.Up:return{...r,y:r.y-25}}};class Cd{constructor(o){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=o;const{event:{target:r}}=o;this.props=o,this.listeners=new ga(to(r)),this.windowListeners=new ga(Xt(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(kn.Resize,this.handleCancel),this.windowListeners.add(kn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(kn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:o,onStart:r}=this.props,a=o.node.current;a&&xh(a),r(Fn)}handleKeyDown(o){if(Qi(o)){const{active:r,context:a,options:i}=this.props,{keyboardCodes:c=vh,coordinateGetter:d=yN,scrollBehavior:u="smooth"}=i,{code:m}=o;if(c.end.includes(m)){this.handleEnd(o);return}if(c.cancel.includes(m)){this.handleCancel(o);return}const{collisionRect:h}=a.current,g=h?{x:h.left,y:h.top}:Fn;this.referenceCoordinates||(this.referenceCoordinates=g);const j=d(o,{active:r,context:a.current,currentCoordinates:g});if(j){const y=ha(j,g),w={x:0,y:0},{scrollableAncestors:C}=a.current;for(const N of C){const k=o.code,{isTop:_,isRight:E,isLeft:v,isBottom:R,maxScroll:z,minScroll:L}=hh(N),A=pN(N),$={x:Math.min(k===Ae.Right?A.right-A.width/2:A.right,Math.max(k===Ae.Right?A.left:A.left+A.width/2,j.x)),y:Math.min(k===Ae.Down?A.bottom-A.height/2:A.bottom,Math.max(k===Ae.Down?A.top:A.top+A.height/2,j.y))},H=k===Ae.Right&&!E||k===Ae.Left&&!v,G=k===Ae.Down&&!R||k===Ae.Up&&!_;if(H&&$.x!==j.x){const se=N.scrollLeft+y.x,de=k===Ae.Right&&se<=z.x||k===Ae.Left&&se>=L.x;if(de&&!y.y){N.scrollTo({left:se,behavior:u});return}de?w.x=N.scrollLeft-se:w.x=k===Ae.Right?N.scrollLeft-z.x:N.scrollLeft-L.x,w.x&&N.scrollBy({left:-w.x,behavior:u});break}else if(G&&$.y!==j.y){const se=N.scrollTop+y.y,de=k===Ae.Down&&se<=z.y||k===Ae.Up&&se>=L.y;if(de&&!y.x){N.scrollTo({top:se,behavior:u});return}de?w.y=N.scrollTop-se:w.y=k===Ae.Down?N.scrollTop-z.y:N.scrollTop-L.y,w.y&&N.scrollBy({top:-w.y,behavior:u});break}}this.handleMove(o,no(ha(j,this.referenceCoordinates),w))}}}handleMove(o,r){const{onMove:a}=this.props;o.preventDefault(),a(r)}handleEnd(o){const{onEnd:r}=this.props;o.preventDefault(),this.detach(),r()}handleCancel(o){const{onCancel:r}=this.props;o.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Cd.activators=[{eventName:"onKeyDown",handler:(e,o,r)=>{let{keyboardCodes:a=vh,onActivation:i}=o,{active:c}=r;const{code:d}=e.nativeEvent;if(a.start.includes(d)){const u=c.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function bh(e){return!!(e&&"distance"in e)}function wh(e){return!!(e&&"delay"in e)}class Sd{constructor(o,r,a){var i;a===void 0&&(a=gN(o.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=o,this.events=r;const{event:c}=o,{target:d}=c;this.props=o,this.events=r,this.document=to(d),this.documentListeners=new ga(this.document),this.listeners=new ga(a),this.windowListeners=new ga(Xt(d)),this.initialCoordinates=(i=Ji(c))!=null?i:Fn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:o,props:{options:{activationConstraint:r,bypassActivationConstraint:a}}}=this;if(this.listeners.add(o.move.name,this.handleMove,{passive:!1}),this.listeners.add(o.end.name,this.handleEnd),o.cancel&&this.listeners.add(o.cancel.name,this.handleCancel),this.windowListeners.add(kn.Resize,this.handleCancel),this.windowListeners.add(kn.DragStart,yh),this.windowListeners.add(kn.VisibilityChange,this.handleCancel),this.windowListeners.add(kn.ContextMenu,yh),this.documentListeners.add(kn.Keydown,this.handleKeydown),r){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(wh(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(bh(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(o,r){const{active:a,onPending:i}=this.props;i(a,o,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:o}=this,{onStart:r}=this.props;o&&(this.activated=!0,this.documentListeners.add(kn.Click,xN,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(kn.SelectionChange,this.removeTextSelection),r(o))}handleMove(o){var r;const{activated:a,initialCoordinates:i,props:c}=this,{onMove:d,options:{activationConstraint:u}}=c;if(!i)return;const m=(r=Ji(o))!=null?r:Fn,h=ha(i,m);if(!a&&u){if(bh(u)){if(u.tolerance!=null&&kd(h,u.tolerance))return this.handleCancel();if(kd(h,u.distance))return this.handleStart()}if(wh(u)&&kd(h,u.tolerance))return this.handleCancel();this.handlePending(u,h);return}o.cancelable&&o.preventDefault(),d(m)}handleEnd(){const{onAbort:o,onEnd:r}=this.props;this.detach(),this.activated||o(this.props.active),r()}handleCancel(){const{onAbort:o,onCancel:r}=this.props;this.detach(),this.activated||o(this.props.active),r()}handleKeydown(o){o.code===Ae.Esc&&this.handleCancel()}removeTextSelection(){var o;(o=this.document.getSelection())==null||o.removeAllRanges()}}const vN={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ed extends Sd{constructor(o){const{event:r}=o,a=to(r.target);super(o,vN,a)}}Ed.activators=[{eventName:"onPointerDown",handler:(e,o)=>{let{nativeEvent:r}=e,{onActivation:a}=o;return!r.isPrimary||r.button!==0?!1:(a?.({event:r}),!0)}}];const bN={move:{name:"mousemove"},end:{name:"mouseup"}};var _d;(function(e){e[e.RightClick=2]="RightClick"})(_d||(_d={}));class wN extends Sd{constructor(o){super(o,bN,to(o.event.target))}}wN.activators=[{eventName:"onMouseDown",handler:(e,o)=>{let{nativeEvent:r}=e,{onActivation:a}=o;return r.button===_d.RightClick?!1:(a?.({event:r}),!0)}}];const Rd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class jN extends Sd{constructor(o){super(o,Rd)}static setup(){return window.addEventListener(Rd.move.name,o,{capture:!1,passive:!1}),function(){window.removeEventListener(Rd.move.name,o)};function o(){}}}jN.activators=[{eventName:"onTouchStart",handler:(e,o)=>{let{nativeEvent:r}=e,{onActivation:a}=o;const{touches:i}=r;return i.length>1?!1:(a?.({event:r}),!0)}}];var xa;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(xa||(xa={}));var tl;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(tl||(tl={}));function NN(e){let{acceleration:o,activator:r=xa.Pointer,canScroll:a,draggingRect:i,enabled:c,interval:d=5,order:u=tl.TreeOrder,pointerCoordinates:m,scrollableAncestors:h,scrollableAncestorRects:g,delta:j,threshold:y}=e;const w=CN({delta:j,disabled:!c}),[C,N]=Ij(),k=f.useRef({x:0,y:0}),_=f.useRef({x:0,y:0}),E=f.useMemo(()=>{switch(r){case xa.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case xa.DraggableRect:return i}},[r,i,m]),v=f.useRef(null),R=f.useCallback(()=>{const L=v.current;if(!L)return;const A=k.current.x*_.current.x,$=k.current.y*_.current.y;L.scrollBy(A,$)},[]),z=f.useMemo(()=>u===tl.TreeOrder?[...h].reverse():h,[u,h]);f.useEffect(()=>{if(!c||!h.length||!E){N();return}for(const L of z){if(a?.(L)===!1)continue;const A=h.indexOf(L),$=g[A];if(!$)continue;const{direction:H,speed:G}=uN(L,$,E,o,y);for(const se of["x","y"])w[se][H[se]]||(G[se]=0,H[se]=0);if(G.x>0||G.y>0){N(),v.current=L,C(R,d),k.current=G,_.current=H;return}}k.current={x:0,y:0},_.current={x:0,y:0},N()},[o,R,a,N,c,d,JSON.stringify(E),JSON.stringify(w),C,h,z,g,JSON.stringify(y)])}const kN={x:{[Mt.Backward]:!1,[Mt.Forward]:!1},y:{[Mt.Backward]:!1,[Mt.Forward]:!1}};function CN(e){let{delta:o,disabled:r}=e;const a=Xi(o);return fa(i=>{if(r||!a||!i)return kN;const c={x:Math.sign(o.x-a.x),y:Math.sign(o.y-a.y)};return{x:{[Mt.Backward]:i.x[Mt.Backward]||c.x===-1,[Mt.Forward]:i.x[Mt.Forward]||c.x===1},y:{[Mt.Backward]:i.y[Mt.Backward]||c.y===-1,[Mt.Forward]:i.y[Mt.Forward]||c.y===1}}},[r,o,a])}function SN(e,o){const r=o!=null?e.get(o):void 0,a=r?r.node.current:null;return fa(i=>{var c;return o==null?null:(c=a??i)!=null?c:null},[a,o])}function EN(e,o){return f.useMemo(()=>e.reduce((r,a)=>{const{sensor:i}=a,c=i.activators.map(d=>({eventName:d.eventName,handler:o(d.handler,a)}));return[...r,...c]},[]),[e,o])}var ya;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ya||(ya={}));var Dd;(function(e){e.Optimized="optimized"})(Dd||(Dd={}));const jh=new Map;function _N(e,o){let{dragging:r,dependencies:a,config:i}=o;const[c,d]=f.useState(null),{frequency:u,measure:m,strategy:h}=i,g=f.useRef(e),j=k(),y=pa(j),w=f.useCallback(function(_){_===void 0&&(_=[]),!y.current&&d(E=>E===null?_:E.concat(_.filter(v=>!E.includes(v))))},[y]),C=f.useRef(null),N=fa(_=>{if(j&&!r)return jh;if(!_||_===jh||g.current!==e||c!=null){const E=new Map;for(let v of e){if(!v)continue;if(c&&c.length>0&&!c.includes(v.id)&&v.rect.current){E.set(v.id,v.rect.current);continue}const R=v.node.current,z=R?new Nd(m(R),R):null;v.rect.current=z,z&&E.set(v.id,z)}return E}return _},[e,c,r,j,m]);return f.useEffect(()=>{g.current=e},[e]),f.useEffect(()=>{j||w()},[r,j]),f.useEffect(()=>{c&&c.length>0&&d(null)},[JSON.stringify(c)]),f.useEffect(()=>{j||typeof u!="number"||C.current!==null||(C.current=setTimeout(()=>{w(),C.current=null},u))},[u,j,w,...a]),{droppableRects:N,measureDroppableContainers:w,measuringScheduled:c!=null};function k(){switch(h){case ya.Always:return!1;case ya.BeforeDragging:return r;default:return!r}}}function Td(e,o){return fa(r=>e?r||(typeof o=="function"?o(e):e):null,[o,e])}function RN(e,o){return Td(e,o)}function DN(e){let{callback:o,disabled:r}=e;const a=Gi(o),i=f.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(a)},[a,r]);return f.useEffect(()=>()=>i?.disconnect(),[i]),i}function nl(e){let{callback:o,disabled:r}=e;const a=Gi(o),i=f.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(a)},[r]);return f.useEffect(()=>()=>i?.disconnect(),[i]),i}function TN(e){return new Nd(ro(e),e)}function Nh(e,o,r){o===void 0&&(o=TN);const[a,i]=f.useState(null);function c(){i(m=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=m??r)!=null?h:null}const g=o(e);return JSON.stringify(m)===JSON.stringify(g)?m:g})}const d=DN({callback(m){if(e)for(const h of m){const{type:g,target:j}=h;if(g==="childList"&&j instanceof HTMLElement&&j.contains(e)){c();break}}}}),u=nl({callback:c});return An(()=>{c(),e?(u?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),d?.disconnect())},[e]),a}function MN(e){const o=Td(e);return lh(e,o)}const kh=[];function PN(e){const o=f.useRef(e),r=fa(a=>e?a&&a!==kh&&e&&o.current&&e.parentNode===o.current.parentNode?a:el(e):kh,[e]);return f.useEffect(()=>{o.current=e},[e]),r}function $N(e){const[o,r]=f.useState(null),a=f.useRef(e),i=f.useCallback(c=>{const d=wd(c.target);d&&r(u=>u?(u.set(d,jd(d)),new Map(u)):null)},[]);return f.useEffect(()=>{const c=a.current;if(e!==c){d(c);const u=e.map(m=>{const h=wd(m);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,jd(h)]):null}).filter(m=>m!=null);r(u.length?new Map(u):null),a.current=e}return()=>{d(e),d(c)};function d(u){u.forEach(m=>{const h=wd(m);h?.removeEventListener("scroll",i)})}},[i,e]),f.useMemo(()=>e.length?o?Array.from(o.values()).reduce((c,d)=>no(c,d),Fn):gh(e):Fn,[e,o])}function Ch(e,o){o===void 0&&(o=[]);const r=f.useRef(null);return f.useEffect(()=>{r.current=null},o),f.useEffect(()=>{const a=e!==Fn;a&&!r.current&&(r.current=e),!a&&r.current&&(r.current=null)},[e]),r.current?ha(e,r.current):Fn}function zN(e){f.useEffect(()=>{if(!Yi)return;const o=e.map(r=>{let{sensor:a}=r;return a.setup==null?void 0:a.setup()});return()=>{for(const r of o)r?.()}},e.map(o=>{let{sensor:r}=o;return r}))}function LN(e,o){return f.useMemo(()=>e.reduce((r,a)=>{let{eventName:i,handler:c}=a;return r[i]=d=>{c(d,o)},r},{}),[e,o])}function Sh(e){return f.useMemo(()=>e?iN(e):null,[e])}const Eh=[];function IN(e,o){o===void 0&&(o=ro);const[r]=e,a=Sh(r?Xt(r):null),[i,c]=f.useState(Eh);function d(){c(()=>e.length?e.map(m=>mh(m)?a:new Nd(o(m),m)):Eh)}const u=nl({callback:d});return An(()=>{u?.disconnect(),d(),e.forEach(m=>u?.observe(m))},[e]),i}function _h(e){if(!e)return null;if(e.children.length>1)return e;const o=e.children[0];return ua(o)?o:e}function ON(e){let{measure:o}=e;const[r,a]=f.useState(null),i=f.useCallback(h=>{for(const{target:g}of h)if(ua(g)){a(j=>{const y=o(g);return j?{...j,width:y.width,height:y.height}:y});break}},[o]),c=nl({callback:i}),d=f.useCallback(h=>{const g=_h(h);c?.disconnect(),g&&c?.observe(g),a(g?o(g):null)},[o,c]),[u,m]=Ki(d);return f.useMemo(()=>({nodeRef:u,rect:r,setRef:m}),[r,u,m])}const AN=[{sensor:Ed,options:{}},{sensor:Cd,options:{}}],FN={current:{}},rl={draggable:{measure:dh},droppable:{measure:dh,strategy:ya.WhileDragging,frequency:Dd.Optimized},dragOverlay:{measure:ro}};class va extends Map{get(o){var r;return o!=null&&(r=super.get(o))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(o=>{let{disabled:r}=o;return!r})}getNodeFor(o){var r,a;return(r=(a=this.get(o))==null?void 0:a.node.current)!=null?r:void 0}}const WN={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new va,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zi},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rl,measureDroppableContainers:Zi,windowRect:null,measuringScheduled:!1},Rh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zi,draggableNodes:new Map,over:null,measureDroppableContainers:Zi},ba=f.createContext(Rh),Dh=f.createContext(WN);function BN(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new va}}}function HN(e,o){switch(o.type){case St.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:o.initialCoordinates,active:o.active}};case St.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:o.coordinates.x-e.draggable.initialCoordinates.x,y:o.coordinates.y-e.draggable.initialCoordinates.y}}};case St.DragEnd:case St.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case St.RegisterDroppable:{const{element:r}=o,{id:a}=r,i=new va(e.droppable.containers);return i.set(a,r),{...e,droppable:{...e.droppable,containers:i}}}case St.SetDroppableDisabled:{const{id:r,key:a,disabled:i}=o,c=e.droppable.containers.get(r);if(!c||a!==c.key)return e;const d=new va(e.droppable.containers);return d.set(r,{...c,disabled:i}),{...e,droppable:{...e.droppable,containers:d}}}case St.UnregisterDroppable:{const{id:r,key:a}=o,i=e.droppable.containers.get(r);if(!i||a!==i.key)return e;const c=new va(e.droppable.containers);return c.delete(r),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}function VN(e){let{disabled:o}=e;const{active:r,activatorEvent:a,draggableNodes:i}=f.useContext(ba),c=Xi(a),d=Xi(r?.id);return f.useEffect(()=>{if(!o&&!a&&c&&d!=null){if(!Qi(c)||document.activeElement===c.target)return;const u=i.get(d);if(!u)return;const{activatorNode:m,node:h}=u;if(!m.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[m.current,h.current]){if(!g)continue;const j=Fj(g);if(j){j.focus();break}}})}},[a,o,i,d,c]),null}function Th(e,o){let{transform:r,...a}=o;return e!=null&&e.length?e.reduce((i,c)=>c({transform:i,...a}),r):r}function UN(e){return f.useMemo(()=>({draggable:{...rl.draggable,...e?.draggable},droppable:{...rl.droppable,...e?.droppable},dragOverlay:{...rl.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function qN(e){let{activeNode:o,measure:r,initialRect:a,config:i=!0}=e;const c=f.useRef(!1),{x:d,y:u}=typeof i=="boolean"?{x:i,y:i}:i;An(()=>{if(!d&&!u||!o){c.current=!1;return}if(c.current||!a)return;const h=o?.node.current;if(!h||h.isConnected===!1)return;const g=r(h),j=lh(g,a);if(d||(j.x=0),u||(j.y=0),c.current=!0,Math.abs(j.x)>0||Math.abs(j.y)>0){const y=uh(h);y&&y.scrollBy({top:j.y,left:j.x})}},[o,d,u,a,r])}const sl=f.createContext({...Fn,scaleX:1,scaleY:1});var Ar;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ar||(Ar={}));const Md=f.memo(function(o){var r,a,i,c;let{id:d,accessibility:u,autoScroll:m=!0,children:h,sensors:g=AN,collisionDetection:j=tN,measuring:y,modifiers:w,...C}=o;const N=f.useReducer(HN,void 0,BN),[k,_]=N,[E,v]=qj(),[R,z]=f.useState(Ar.Uninitialized),L=R===Ar.Initialized,{draggable:{active:A,nodes:$,translate:H},droppable:{containers:G}}=k,se=A!=null?$.get(A):null,de=f.useRef({initial:null,translated:null}),je=f.useMemo(()=>{var ot;return A!=null?{id:A,data:(ot=se?.data)!=null?ot:FN,rect:de}:null},[A,se]),ne=f.useRef(null),[Ne,oe]=f.useState(null),[ee,F]=f.useState(null),X=pa(C,Object.values(C)),K=ma("DndDescribedBy",d),D=f.useMemo(()=>G.getEnabled(),[G]),T=UN(y),{droppableRects:q,measureDroppableContainers:Y,measuringScheduled:J}=_N(D,{dragging:L,dependencies:[H.x,H.y],config:T.droppable}),xe=SN($,A),V=f.useMemo(()=>ee?Ji(ee):null,[ee]),ge=Ft(),_e=RN(xe,T.draggable.measure);qN({activeNode:A!=null?$.get(A):null,config:ge.layoutShiftCompensation,initialRect:_e,measure:T.draggable.measure});const Se=Nh(xe,T.draggable.measure,_e),Qe=Nh(xe?xe.parentElement:null),He=f.useRef({activatorEvent:null,active:null,activeNode:xe,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:G,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Je=G.getNodeFor((r=He.current.over)==null?void 0:r.id),Ve=ON({measure:T.dragOverlay.measure}),xt=(a=Ve.nodeRef.current)!=null?a:xe,At=L?(i=Ve.rect)!=null?i:Se:null,Ht=!!(Ve.nodeRef.current&&Ve.rect),Qt=MN(Ht?null:Se),ie=Sh(xt?Xt(xt):null),ce=PN(L?Je??xe:null),me=IN(ce),$e=Th(w,{transform:{x:H.x-Qt.x,y:H.y-Qt.y,scaleX:1,scaleY:1},activatorEvent:ee,active:je,activeNodeRect:Se,containerNodeRect:Qe,draggingNodeRect:At,over:He.current.over,overlayNodeRect:Ve.rect,scrollableAncestors:ce,scrollableAncestorRects:me,windowRect:ie}),Ue=V?no(V,H):null,Fe=$N(ce),fe=Ch(Fe),lt=Ch(Fe,[Se]),Ye=no($e,fe),qe=At?sN(At,$e):null,gn=je&&qe?j({active:je,collisionRect:qe,droppableRects:q,droppableContainers:D,pointerCoordinates:Ue}):null,Jt=ah(gn,"id"),[wt,ir]=f.useState(null),Ca=Ht?$e:no($e,lt),Sa=nN(Ca,(c=wt?.rect)!=null?c:null,Se),bs=f.useRef(null),Wr=f.useCallback((ot,Et)=>{let{sensor:Ze,options:Zt}=Et;if(ne.current==null)return;const jt=$.get(ne.current);if(!jt)return;const Nt=ot.nativeEvent,_t=new Ze({active:ne.current,activeNode:jt,event:Nt,options:Zt,context:He,onAbort(Ge){if(!$.get(Ge))return;const{onDragAbort:ft}=X.current,Vt={id:Ge};ft?.(Vt),E({type:"onDragAbort",event:Vt})},onPending(Ge,en,ft,Vt){if(!$.get(Ge))return;const{onDragPending:Rt}=X.current,sn={id:Ge,constraint:en,initialCoordinates:ft,offset:Vt};Rt?.(sn),E({type:"onDragPending",event:sn})},onStart(Ge){const en=ne.current;if(en==null)return;const ft=$.get(en);if(!ft)return;const{onDragStart:Vt}=X.current,vt={activatorEvent:Nt,active:{id:en,data:ft.data,rect:de}};us.unstable_batchedUpdates(()=>{Vt?.(vt),z(Ar.Initializing),_({type:St.DragStart,initialCoordinates:Ge,active:en}),E({type:"onDragStart",event:vt}),oe(bs.current),F(Nt)})},onMove(Ge){_({type:St.DragMove,coordinates:Ge})},onEnd:_n(St.DragEnd),onCancel:_n(St.DragCancel)});bs.current=_t;function _n(Ge){return async function(){const{active:ft,collisions:Vt,over:vt,scrollAdjustedTranslate:Rt}=He.current;let sn=null;if(ft&&Rt){const{cancelDrop:Hn}=X.current;sn={activatorEvent:Nt,active:ft,collisions:Vt,delta:Rt,over:vt},Ge===St.DragEnd&&typeof Hn=="function"&&await Promise.resolve(Hn(sn))&&(Ge=St.DragCancel)}ne.current=null,us.unstable_batchedUpdates(()=>{_({type:Ge}),z(Ar.Uninitialized),ir(null),oe(null),F(null),bs.current=null;const Hn=Ge===St.DragEnd?"onDragEnd":"onDragCancel";if(sn){const ws=X.current[Hn];ws?.(sn),E({type:Hn,event:sn})}})}}},[$]),lr=f.useCallback((ot,Et)=>(Ze,Zt)=>{const jt=Ze.nativeEvent,Nt=$.get(Zt);if(ne.current!==null||!Nt||jt.dndKit||jt.defaultPrevented)return;const _t={active:Nt};ot(Ze,Et.options,_t)===!0&&(jt.dndKit={capturedBy:Et.sensor},ne.current=Zt,Wr(Ze,Et))},[$,Wr]),cr=EN(g,lr);zN(g),An(()=>{Se&&R===Ar.Initializing&&z(Ar.Initialized)},[Se,R]),f.useEffect(()=>{const{onDragMove:ot}=X.current,{active:Et,activatorEvent:Ze,collisions:Zt,over:jt}=He.current;if(!Et||!Ze)return;const Nt={active:Et,activatorEvent:Ze,collisions:Zt,delta:{x:Ye.x,y:Ye.y},over:jt};us.unstable_batchedUpdates(()=>{ot?.(Nt),E({type:"onDragMove",event:Nt})})},[Ye.x,Ye.y]),f.useEffect(()=>{const{active:ot,activatorEvent:Et,collisions:Ze,droppableContainers:Zt,scrollAdjustedTranslate:jt}=He.current;if(!ot||ne.current==null||!Et||!jt)return;const{onDragOver:Nt}=X.current,_t=Zt.get(Jt),_n=_t&&_t.rect.current?{id:_t.id,rect:_t.rect.current,data:_t.data,disabled:_t.disabled}:null,Ge={active:ot,activatorEvent:Et,collisions:Ze,delta:{x:jt.x,y:jt.y},over:_n};us.unstable_batchedUpdates(()=>{ir(_n),Nt?.(Ge),E({type:"onDragOver",event:Ge})})},[Jt]),An(()=>{He.current={activatorEvent:ee,active:je,activeNode:xe,collisionRect:qe,collisions:gn,droppableRects:q,draggableNodes:$,draggingNode:xt,draggingNodeRect:At,droppableContainers:G,over:wt,scrollableAncestors:ce,scrollAdjustedTranslate:Ye},de.current={initial:At,translated:qe}},[je,xe,gn,qe,$,xt,At,q,G,wt,ce,Ye]),NN({...ge,delta:H,draggingRect:qe,pointerCoordinates:Ue,scrollableAncestors:ce,scrollableAncestorRects:me});const Br=f.useMemo(()=>({active:je,activeNode:xe,activeNodeRect:Se,activatorEvent:ee,collisions:gn,containerNodeRect:Qe,dragOverlay:Ve,draggableNodes:$,droppableContainers:G,droppableRects:q,over:wt,measureDroppableContainers:Y,scrollableAncestors:ce,scrollableAncestorRects:me,measuringConfiguration:T,measuringScheduled:J,windowRect:ie}),[je,xe,Se,ee,gn,Qe,Ve,$,G,q,wt,Y,ce,me,T,J,ie]),yt=f.useMemo(()=>({activatorEvent:ee,activators:cr,active:je,activeNodeRect:Se,ariaDescribedById:{draggable:K},dispatch:_,draggableNodes:$,over:wt,measureDroppableContainers:Y}),[ee,cr,je,Se,_,K,$,wt,Y]);return De.createElement(th.Provider,{value:v},De.createElement(ba.Provider,{value:yt},De.createElement(Dh.Provider,{value:Br},De.createElement(sl.Provider,{value:Sa},h)),De.createElement(VN,{disabled:u?.restoreFocus===!1})),De.createElement(Kj,{...u,hiddenTextDescribedById:K}));function Ft(){const ot=Ne?.autoScrollEnabled===!1,Et=typeof m=="object"?m.enabled===!1:m===!1,Ze=L&&!ot&&!Et;return typeof m=="object"?{...m,enabled:Ze}:{enabled:Ze}}}),YN=f.createContext(null),Mh="button",GN="Draggable";function Pd(e){let{id:o,data:r,disabled:a=!1,attributes:i}=e;const c=ma(GN),{activators:d,activatorEvent:u,active:m,activeNodeRect:h,ariaDescribedById:g,draggableNodes:j,over:y}=f.useContext(ba),{role:w=Mh,roleDescription:C="draggable",tabIndex:N=0}=i??{},k=m?.id===o,_=f.useContext(k?sl:YN),[E,v]=Ki(),[R,z]=Ki(),L=LN(d,o),A=pa(r);An(()=>(j.set(o,{id:o,key:c,node:E,activatorNode:R,data:A}),()=>{const H=j.get(o);H&&H.key===c&&j.delete(o)}),[j,o]);const $=f.useMemo(()=>({role:w,tabIndex:N,"aria-disabled":a,"aria-pressed":k&&w===Mh?!0:void 0,"aria-roledescription":C,"aria-describedby":g.draggable}),[a,w,N,k,C,g.draggable]);return{active:m,activatorEvent:u,activeNodeRect:h,attributes:$,isDragging:k,listeners:a?void 0:L,node:E,over:y,setNodeRef:v,setActivatorNodeRef:z,transform:_}}function Ph(){return f.useContext(Dh)}const KN="Droppable",XN={timeout:25};function Wn(e){let{data:o,disabled:r=!1,id:a,resizeObserverConfig:i}=e;const c=ma(KN),{active:d,dispatch:u,over:m,measureDroppableContainers:h}=f.useContext(ba),g=f.useRef({disabled:r}),j=f.useRef(!1),y=f.useRef(null),w=f.useRef(null),{disabled:C,updateMeasurementsFor:N,timeout:k}={...XN,...i},_=pa(N??a),E=f.useCallback(()=>{if(!j.current){j.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{h(Array.isArray(_.current)?_.current:[_.current]),w.current=null},k)},[k]),v=nl({callback:E,disabled:C||!d}),R=f.useCallback(($,H)=>{v&&(H&&(v.unobserve(H),j.current=!1),$&&v.observe($))},[v]),[z,L]=Ki(R),A=pa(o);return f.useEffect(()=>{!v||!z.current||(v.disconnect(),j.current=!1,v.observe(z.current))},[z,v]),f.useEffect(()=>(u({type:St.RegisterDroppable,element:{id:a,key:c,disabled:r,node:z,rect:y,data:A}}),()=>u({type:St.UnregisterDroppable,key:c,id:a})),[a]),f.useEffect(()=>{r!==g.current.disabled&&(u({type:St.SetDroppableDisabled,id:a,key:c,disabled:r}),g.current.disabled=r)},[a,c,r,u]),{active:d,rect:y,isOver:m?.id===a,node:z,over:m,setNodeRef:L}}function QN(e){let{animation:o,children:r}=e;const[a,i]=f.useState(null),[c,d]=f.useState(null),u=Xi(r);return!r&&!a&&u&&i(u),An(()=>{if(!c)return;const m=a?.key,h=a?.props.id;if(m==null||h==null){i(null);return}Promise.resolve(o(h,c)).then(()=>{i(null)})},[o,a,c]),De.createElement(De.Fragment,null,r,a?f.cloneElement(a,{ref:d}):null)}const JN={x:0,y:0,scaleX:1,scaleY:1};function ZN(e){let{children:o}=e;return De.createElement(ba.Provider,{value:Rh},De.createElement(sl.Provider,{value:JN},o))}const e2={position:"fixed",touchAction:"none"},t2=e=>Qi(e)?"transform 250ms ease":void 0,n2=f.forwardRef((e,o)=>{let{as:r,activatorEvent:a,adjustScale:i,children:c,className:d,rect:u,style:m,transform:h,transition:g=t2}=e;if(!u)return null;const j=i?h:{...h,scaleX:1,scaleY:1},y={...e2,width:u.width,height:u.height,top:u.top,left:u.left,transform:rr.Transform.toString(j),transformOrigin:i&&a?Qj(a,u):void 0,transition:typeof g=="function"?g(a):g,...m};return De.createElement(r,{className:d,style:y,ref:o},c)}),r2={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:o,final:r}}=e;return[{transform:rr.Transform.toString(o)},{transform:rr.Transform.toString(r)}]},sideEffects:(e=>o=>{let{active:r,dragOverlay:a}=o;const i={},{styles:c,className:d}=e;if(c!=null&&c.active)for(const[u,m]of Object.entries(c.active))m!==void 0&&(i[u]=r.node.style.getPropertyValue(u),r.node.style.setProperty(u,m));if(c!=null&&c.dragOverlay)for(const[u,m]of Object.entries(c.dragOverlay))m!==void 0&&a.node.style.setProperty(u,m);return d!=null&&d.active&&r.node.classList.add(d.active),d!=null&&d.dragOverlay&&a.node.classList.add(d.dragOverlay),function(){for(const[m,h]of Object.entries(i))r.node.style.setProperty(m,h);d!=null&&d.active&&r.node.classList.remove(d.active)}})({styles:{active:{opacity:"0"}}})};function s2(e){let{config:o,draggableNodes:r,droppableContainers:a,measuringConfiguration:i}=e;return Gi((c,d)=>{if(o===null)return;const u=r.get(c);if(!u)return;const m=u.node.current;if(!m)return;const h=_h(d);if(!h)return;const{transform:g}=Xt(d).getComputedStyle(d),j=ch(g);if(!j)return;const y=typeof o=="function"?o:o2(o);return xh(m,i.draggable.measure),y({active:{id:c,data:u.data,node:m,rect:i.draggable.measure(m)},draggableNodes:r,dragOverlay:{node:d,rect:i.dragOverlay.measure(h)},droppableContainers:a,measuringConfiguration:i,transform:j})})}function o2(e){const{duration:o,easing:r,sideEffects:a,keyframes:i}={...r2,...e};return c=>{let{active:d,dragOverlay:u,transform:m,...h}=c;if(!o)return;const g={x:u.rect.left-d.rect.left,y:u.rect.top-d.rect.top},j={scaleX:m.scaleX!==1?d.rect.width*m.scaleX/u.rect.width:1,scaleY:m.scaleY!==1?d.rect.height*m.scaleY/u.rect.height:1},y={x:m.x-g.x,y:m.y-g.y,...j},w=i({...h,active:d,dragOverlay:u,transform:{initial:m,final:y}}),[C]=w,N=w[w.length-1];if(JSON.stringify(C)===JSON.stringify(N))return;const k=a?.({active:d,dragOverlay:u,...h}),_=u.node.animate(w,{duration:o,easing:r,fill:"forwards"});return new Promise(E=>{_.onfinish=()=>{k?.(),E()}})}}let $h=0;function a2(e){return f.useMemo(()=>{if(e!=null)return $h++,$h},[e])}const zh=De.memo(e=>{let{adjustScale:o=!1,children:r,dropAnimation:a,style:i,transition:c,modifiers:d,wrapperElement:u="div",className:m,zIndex:h=999}=e;const{activatorEvent:g,active:j,activeNodeRect:y,containerNodeRect:w,draggableNodes:C,droppableContainers:N,dragOverlay:k,over:_,measuringConfiguration:E,scrollableAncestors:v,scrollableAncestorRects:R,windowRect:z}=Ph(),L=f.useContext(sl),A=a2(j?.id),$=Th(d,{activatorEvent:g,active:j,activeNodeRect:y,containerNodeRect:w,draggingNodeRect:k.rect,over:_,overlayNodeRect:k.rect,scrollableAncestors:v,scrollableAncestorRects:R,transform:L,windowRect:z}),H=Td(y),G=s2({config:a,draggableNodes:C,droppableContainers:N,measuringConfiguration:E}),se=H?k.setRef:void 0;return De.createElement(ZN,null,De.createElement(QN,{animation:G},j&&A?De.createElement(n2,{key:A,id:j.id,ref:se,as:u,activatorEvent:g,adjustScale:o,className:m,transition:c,rect:H,style:{zIndex:h,...i},transform:$},r):null))});function Lh(e,o,r){const a=e.slice();return a.splice(r<0?a.length+r:r,0,a.splice(o,1)[0]),a}function i2(e,o){return e.reduce((r,a,i)=>{const c=o.get(a);return c&&(r[i]=c),r},Array(e.length))}function ol(e){return e!==null&&e>=0}function l2(e,o){if(e===o)return!0;if(e.length!==o.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==o[r])return!1;return!0}function c2(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Ih=e=>{let{rects:o,activeIndex:r,overIndex:a,index:i}=e;const c=Lh(o,a,r),d=o[i],u=c[i];return!u||!d?null:{x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height}},al={scaleX:1,scaleY:1},$d=e=>{var o;let{activeIndex:r,activeNodeRect:a,index:i,rects:c,overIndex:d}=e;const u=(o=c[r])!=null?o:a;if(!u)return null;if(i===r){const h=c[d];return h?{x:0,y:r<d?h.top+h.height-(u.top+u.height):h.top-u.top,...al}:null}const m=d2(c,i,r);return i>r&&i<=d?{x:0,y:-u.height-m,...al}:i<r&&i>=d?{x:0,y:u.height+m,...al}:{x:0,y:0,...al}};function d2(e,o,r){const a=e[o],i=e[o-1],c=e[o+1];return a?r<o?i?a.top-(i.top+i.height):c?c.top-(a.top+a.height):0:c?c.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const Oh="Sortable",Ah=De.createContext({activeIndex:-1,containerId:Oh,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ih,disabled:{draggable:!1,droppable:!1}});function zd(e){let{children:o,id:r,items:a,strategy:i=Ih,disabled:c=!1}=e;const{active:d,dragOverlay:u,droppableRects:m,over:h,measureDroppableContainers:g}=Ph(),j=ma(Oh,r),y=u.rect!==null,w=f.useMemo(()=>a.map(L=>typeof L=="object"&&"id"in L?L.id:L),[a]),C=d!=null,N=d?w.indexOf(d.id):-1,k=h?w.indexOf(h.id):-1,_=f.useRef(w),E=!l2(w,_.current),v=k!==-1&&N===-1||E,R=c2(c);An(()=>{E&&C&&g(w)},[E,w,C,g]),f.useEffect(()=>{_.current=w},[w]);const z=f.useMemo(()=>({activeIndex:N,containerId:j,disabled:R,disableTransforms:v,items:w,overIndex:k,useDragOverlay:y,sortedRects:i2(w,m),strategy:i}),[N,j,R.draggable,R.droppable,v,w,k,m,y,i]);return De.createElement(Ah.Provider,{value:z},o)}const u2=e=>{let{id:o,items:r,activeIndex:a,overIndex:i}=e;return Lh(r,a,i).indexOf(o)},p2=e=>{let{containerId:o,isSorting:r,wasDragging:a,index:i,items:c,newIndex:d,previousItems:u,previousContainerId:m,transition:h}=e;return!h||!a||u!==c&&i===d?!1:r?!0:d!==i&&o===m},f2={duration:200,easing:"ease"},Fh="transform",m2=rr.Transition.toString({property:Fh,duration:0,easing:"linear"}),h2={roleDescription:"sortable"};function g2(e){let{disabled:o,index:r,node:a,rect:i}=e;const[c,d]=f.useState(null),u=f.useRef(r);return An(()=>{if(!o&&r!==u.current&&a.current){const m=i.current;if(m){const h=ro(a.current,{ignoreTransform:!0}),g={x:m.left-h.left,y:m.top-h.top,scaleX:m.width/h.width,scaleY:m.height/h.height};(g.x||g.y)&&d(g)}}r!==u.current&&(u.current=r)},[o,r,a,i]),f.useEffect(()=>{c&&d(null)},[c]),c}function Ld(e){let{animateLayoutChanges:o=p2,attributes:r,disabled:a,data:i,getNewIndex:c=u2,id:d,strategy:u,resizeObserverConfig:m,transition:h=f2}=e;const{items:g,containerId:j,activeIndex:y,disabled:w,disableTransforms:C,sortedRects:N,overIndex:k,useDragOverlay:_,strategy:E}=f.useContext(Ah),v=x2(a,w),R=g.indexOf(d),z=f.useMemo(()=>({sortable:{containerId:j,index:R,items:g},...i}),[j,i,R,g]),L=f.useMemo(()=>g.slice(g.indexOf(d)),[g,d]),{rect:A,node:$,isOver:H,setNodeRef:G}=Wn({id:d,data:z,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:L,...m}}),{active:se,activatorEvent:de,activeNodeRect:je,attributes:ne,setNodeRef:Ne,listeners:oe,isDragging:ee,over:F,setActivatorNodeRef:X,transform:K}=Pd({id:d,data:z,attributes:{...h2,...r},disabled:v.draggable}),D=Lj(G,Ne),T=!!se,q=T&&!C&&ol(y)&&ol(k),Y=!_&&ee,J=Y&&q?K:null,V=q?J??(u??E)({rects:N,activeNodeRect:je,activeIndex:y,overIndex:k,index:R}):null,ge=ol(y)&&ol(k)?c({id:d,items:g,activeIndex:y,overIndex:k}):R,_e=se?.id,Se=f.useRef({activeId:_e,items:g,newIndex:ge,containerId:j}),Qe=g!==Se.current.items,He=o({active:se,containerId:j,isDragging:ee,isSorting:T,id:d,index:R,items:g,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:h,wasDragging:Se.current.activeId!=null}),Je=g2({disabled:!He,index:R,node:$,rect:A});return f.useEffect(()=>{T&&Se.current.newIndex!==ge&&(Se.current.newIndex=ge),j!==Se.current.containerId&&(Se.current.containerId=j),g!==Se.current.items&&(Se.current.items=g)},[T,ge,j,g]),f.useEffect(()=>{if(_e===Se.current.activeId)return;if(_e&&!Se.current.activeId){Se.current.activeId=_e;return}const xt=setTimeout(()=>{Se.current.activeId=_e},50);return()=>clearTimeout(xt)},[_e]),{active:se,activeIndex:y,attributes:ne,data:z,rect:A,index:R,newIndex:ge,items:g,isOver:H,isSorting:T,isDragging:ee,listeners:oe,node:$,overIndex:k,over:F,setNodeRef:D,setActivatorNodeRef:X,setDroppableNodeRef:G,setDraggableNodeRef:Ne,transform:Je??V,transition:Ve()};function Ve(){if(Je||Qe&&Se.current.newIndex===R)return m2;if(!(Y&&!Qi(de)||!h)&&(T||He))return rr.Transition.toString({...h,property:Fh})}}function x2(e,o){var r,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:o.draggable,droppable:(a=e?.droppable)!=null?a:o.droppable}}function il(e){if(!e)return!1;const o=e.data.current;return!!(o&&"sortable"in o&&typeof o.sortable=="object"&&"containerId"in o.sortable&&"items"in o.sortable&&"index"in o.sortable)}const y2=[Ae.Down,Ae.Right,Ae.Up,Ae.Left],v2=(e,o)=>{let{context:{active:r,collisionRect:a,droppableRects:i,droppableContainers:c,over:d,scrollableAncestors:u}}=o;if(y2.includes(e.code)){if(e.preventDefault(),!r||!a)return;const m=[];c.getEnabled().forEach(j=>{if(!j||j!=null&&j.disabled)return;const y=i.get(j.id);if(y)switch(e.code){case Ae.Down:a.top<y.top&&m.push(j);break;case Ae.Up:a.top>y.top&&m.push(j);break;case Ae.Left:a.left>y.left&&m.push(j);break;case Ae.Right:a.left<y.left&&m.push(j);break}});const h=Zj({collisionRect:a,droppableRects:i,droppableContainers:m});let g=ah(h,"id");if(g===d?.id&&h.length>1&&(g=h[1].id),g!=null){const j=c.get(r.id),y=c.get(g),w=y?i.get(y.id):null,C=y?.node.current;if(C&&w&&j&&y){const k=el(C).some((L,A)=>u[A]!==L),_=Wh(j,y),E=b2(j,y),v=k||!_?{x:0,y:0}:{x:E?a.width-w.width:0,y:E?a.height-w.height:0},R={x:w.left,y:w.top};return v.x&&v.y?R:ha(R,v)}}}};function Wh(e,o){return!il(e)||!il(o)?!1:e.data.current.sortable.containerId===o.data.current.sortable.containerId}function b2(e,o){return!il(e)||!il(o)||!Wh(e,o)?!1:e.data.current.sortable.index<o.data.current.sortable.index}function Bh({scheduledDate:e,schedule:o,className:r="",size:a="normal"}){const i=o?.enabled&&o?.schedules?.length>0;if(!e&&!i)return null;const c=a==="small";if(i&&!e){const u=o.schedules.length;return t.jsxs("div",{className:pe("inline-flex items-center gap-1",c?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",c?"px-2 py-0.5":"px-3 py-1",r),children:[t.jsx(On,{className:pe(c?"w-3 h-3":"w-4 h-4")}),t.jsxs("span",{className:"font-medium",children:[u," ",u===1?"Schedule":"Schedules"]})]})}const d=new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return t.jsxs("div",{className:pe("inline-flex items-center gap-1",c?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",c?"px-2 py-0.5":"px-3 py-1",r),children:[t.jsx(On,{className:pe(c?"w-3 h-3":"w-4 h-4")}),t.jsx("span",{className:"font-medium",children:"Scheduled"}),!c&&t.jsx("span",{className:"text-blue-500",children:""}),!c&&t.jsx("span",{children:d})]})}function w2({isOpen:e,onClose:o,onSchedule:r,currentSchedule:a}){const[i,c]=f.useState(a?.schedules||[]),[d,u]=f.useState(!1),[m,h]=f.useState(null),[g,j]=f.useState({});De.useEffect(()=>{c(a?.schedules||[])},[a]);const y=()=>{const v={id:Date.now(),baseDate:"",daysOffset:"",executionMethod:"",time:"",offset:""};c([...i,v])},w=v=>{c(i.filter(R=>R.id!==v))},C=(v,R,z)=>{c(i.map(A=>A.id===v?{...A,[R]:z}:A));const L=`${v}_${R}`;g[L]&&j(A=>{const $={...A};return delete $[L],$})},N=(v,R)=>g[`${v}_${R}`]||null,k=(v,R)=>!!g[`${v}_${R}`],_=()=>{const v={};i.forEach((R,z)=>{const L=R.id;!R.daysOffset&&R.daysOffset!=="0"&&(v[`${L}_daysOffset`]="Days offset is required"),R.executionMethod||(v[`${L}_executionMethod`]="Execution method is required"),(R.executionMethod==="time"||R.executionMethod.includes("time"))&&!R.time&&(v[`${L}_time`]='Time is required for "time" execution method'),(R.executionMethod==="offset"||R.executionMethod.includes("offset"))&&!R.offset&&R.offset!=="0"&&(v[`${L}_offset`]='Offset is required for "offset" execution method'),R.baseDate&&!R.baseDate.includes("{")&&(/^\d{2}-\d{2}-\d{4}$/.test(R.baseDate)||(v[`${L}_baseDate`]="Base date must be in DD-MM-YYYY format"))}),j(v),!(Object.keys(v).length>0)&&(r({enabled:i.length>0,schedules:i}),o())},E=()=>{c(a?.schedules||[]),j({}),o()};return e?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:E}),t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden pointer-events-auto flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Schedule Settings"}),t.jsx("button",{onClick:E,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(pt,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Schedules"}),t.jsxs("button",{onClick:y,className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[t.jsx(tr,{className:"w-4 h-4"}),"Add Item"]})]}),t.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg flex items-start gap-2",children:[t.jsx(U1,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-xs text-blue-800",children:[t.jsxs("p",{className:"font-medium mb-1",children:["You can use ","{tags}"," to retrieve form values"]}),t.jsxs("p",{children:["Examples: ",t.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date}"}),", ",t.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date;timestamp}"}),", ",t.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{field_name}"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[i.map((v,R)=>t.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Schedule ",R+1]}),t.jsx("button",{onClick:()=>w(v.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove schedule",children:t.jsx(pt,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[t.jsx("span",{children:"Base date"}),v.baseDate&&v.baseDate.includes("{")&&t.jsx(Or,{className:"w-3 h-3 text-blue-600"})]}),t.jsx("input",{type:"text",value:v.baseDate,onChange:z=>C(v.id,"baseDate",z.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",k(v.id,"baseDate")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"DD-MM-YYYY or {date;timestamp}"}),N(v.id,"baseDate")&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(v.id,"baseDate")})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[t.jsx("span",{children:"Days offset"}),v.daysOffset&&v.daysOffset.includes("{")&&t.jsx(Or,{className:"w-3 h-3 text-blue-600"})]}),t.jsx("input",{type:"text",value:v.daysOffset,onChange:z=>C(v.id,"daysOffset",z.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",k(v.id,"daysOffset")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"0, 1, -1, or {tag}"}),N(v.id,"daysOffset")&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(v.id,"daysOffset")})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[t.jsx("span",{children:"Execution method"}),v.executionMethod&&v.executionMethod.includes("{")&&t.jsx(Or,{className:"w-3 h-3 text-blue-600"})]}),t.jsx("input",{type:"text",value:v.executionMethod,onChange:z=>C(v.id,"executionMethod",z.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",k(v.id,"executionMethod")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"instant, time, offset, or {tag}"}),N(v.id,"executionMethod")&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(v.id,"executionMethod")})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[t.jsxs("p",{className:"mb-1",children:[t.jsx("strong",{children:"Base date:"})," Leave blank for submission date, or use DD-MM-YYYY format or ","{date;timestamp}"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Days offset:"})," 0 = same day, 1 = next day, -1 = previous day"]})]}),(v.executionMethod==="time"||v.executionMethod.includes("time"))&&t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[t.jsx("span",{children:"Time (24h format)"}),v.time&&v.time.includes("{")&&t.jsx(Or,{className:"w-3 h-3 text-blue-600"})]}),t.jsx("input",{type:"text",value:v.time||"",onChange:z=>C(v.id,"time",z.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",k(v.id,"time")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"14:30"}),N(v.id,"time")&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(v.id,"time")}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Use 24h format: 09:00, 14:30, 18:00 or ","{field_name}"]})]}),(v.executionMethod==="offset"||v.executionMethod.includes("offset"))&&t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[t.jsx("span",{children:"Offset (in hours)"}),v.offset&&v.offset.includes("{")&&t.jsx(Or,{className:"w-3 h-3 text-blue-600"})]}),t.jsx("input",{type:"text",value:v.offset||"0",onChange:z=>C(v.id,"offset",z.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",k(v.id,"offset")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"0"}),N(v.id,"offset")&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(v.id,"offset")}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"0 = instantly, 0.08 = 5 min, 0.5 = 30 min, 2 = 2 hours, -5 = 5 hours before"})]})]},v.id)),i.length===0&&t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(On,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),t.jsx("p",{className:"text-sm",children:"No schedules configured"}),t.jsx("p",{className:"text-xs mt-1",children:'Click "Add Item" to create a schedule'})]})]})]}),t.jsxs("div",{className:"mt-8 border-t pt-6",children:[t.jsxs("button",{onClick:()=>u(!d),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:[d?t.jsx(mn,{className:"w-4 h-4"}):t.jsx(Lr,{className:"w-4 h-4"}),t.jsx(M1,{className:"w-4 h-4"}),"Documentation & Examples"]}),d&&t.jsxs("div",{className:"mt-4 space-y-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Common Use Cases"}),t.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[t.jsxs("button",{onClick:()=>h(m==="immediate"?null:"immediate"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hs,{className:"w-4 h-4 text-blue-600"}),t.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Immediate Confirmation Email"})]}),m==="immediate"?t.jsx(mn,{className:"w-4 h-4 text-gray-400"}):t.jsx(Lr,{className:"w-4 h-4 text-gray-400"})]}),m==="immediate"&&t.jsxs("div",{className:"px-3 pb-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send a confirmation immediately after form submission."}),t.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[t.jsxs("div",{children:["Base date: ",t.jsx("span",{className:"text-blue-600",children:"(leave empty)"})]}),t.jsxs("div",{children:["Days offset: ",t.jsx("span",{className:"text-blue-600",children:"0"})]}),t.jsxs("div",{children:["Execution: ",t.jsx("span",{className:"text-blue-600",children:"Instant"})]})]})]})]}),t.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[t.jsxs("button",{onClick:()=>h(m==="nextday"?null:"nextday"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zf,{className:"w-4 h-4 text-orange-600"}),t.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Next Day Follow-up"})]}),m==="nextday"?t.jsx(mn,{className:"w-4 h-4 text-gray-400"}):t.jsx(Lr,{className:"w-4 h-4 text-gray-400"})]}),m==="nextday"&&t.jsxs("div",{className:"px-3 pb-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send a follow-up email the day after submission at 9 AM."}),t.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[t.jsxs("div",{children:["Base date: ",t.jsx("span",{className:"text-blue-600",children:"(leave empty)"})]}),t.jsxs("div",{children:["Days offset: ",t.jsx("span",{className:"text-blue-600",children:"1"})]}),t.jsxs("div",{children:["Execution: ",t.jsx("span",{className:"text-blue-600",children:"At specific time"})]}),t.jsxs("div",{children:["Time: ",t.jsx("span",{className:"text-blue-600",children:"09:00"})]})]})]})]}),t.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[t.jsxs("button",{onClick:()=>h(m==="appointment"?null:"appointment"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($1,{className:"w-4 h-4 text-green-600"}),t.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Appointment Reminder"})]}),m==="appointment"?t.jsx(mn,{className:"w-4 h-4 text-gray-400"}):t.jsx(Lr,{className:"w-4 h-4 text-gray-400"})]}),m==="appointment"&&t.jsxs("div",{className:"px-3 pb-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send reminder 1 day before an appointment date from the form."}),t.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[t.jsxs("div",{children:["Base date: ",t.jsx("span",{className:"text-blue-600",children:"{appointment_date}"})]}),t.jsxs("div",{children:["Days offset: ",t.jsx("span",{className:"text-blue-600",children:"-1"})]}),t.jsxs("div",{children:["Execution: ",t.jsx("span",{className:"text-blue-600",children:"At specific time"})]}),t.jsxs("div",{children:["Time: ",t.jsx("span",{className:"text-blue-600",children:"14:00"})]})]})]})]}),t.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[t.jsxs("button",{onClick:()=>h(m==="weekly"?null:"weekly"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(sw,{className:"w-4 h-4 text-purple-600"}),t.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Weekly Follow-up Series"})]}),m==="weekly"?t.jsx(mn,{className:"w-4 h-4 text-gray-400"}):t.jsx(Lr,{className:"w-4 h-4 text-gray-400"})]}),m==="weekly"&&t.jsxs("div",{className:"px-3 pb-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send emails 1, 7, and 14 days after submission."}),t.jsx("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[t.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 1:"}),t.jsxs("div",{className:"text-gray-600",children:["Days offset: ",t.jsx("span",{className:"text-blue-600",children:"1"})]}),t.jsxs("div",{className:"text-gray-600",children:["Execution: ",t.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]}),t.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[t.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 2:"}),t.jsxs("div",{className:"text-gray-600",children:["Days offset: ",t.jsx("span",{className:"text-blue-600",children:"7"})]}),t.jsxs("div",{className:"text-gray-600",children:["Execution: ",t.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]}),t.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[t.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 3:"}),t.jsxs("div",{className:"text-gray-600",children:["Days offset: ",t.jsx("span",{className:"text-blue-600",children:"14"})]}),t.jsxs("div",{className:"text-gray-600",children:["Execution: ",t.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]})]})})]})]})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"How Email Scheduling Works"}),t.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"The email scheduler allows you to send emails at specific times relative to form submission. You can create multiple schedules to send follow-up emails, reminders, or notifications."}),t.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Base Date:"})," The starting point for calculating when to send (default: form submission date)"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Days Offset:"})," Number of days to add/subtract from the base date"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Execution Method:"})," When exactly on that day to send the email"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Or,{className:"w-4 h-4"}),"Using Dynamic Tags"]}),t.jsx("p",{className:"text-xs text-gray-700 mb-3",children:"Tags allow you to use form field values dynamically. Any field with a tag icon supports dynamic values."}),t.jsxs("div",{className:"space-y-2 text-xs",children:[t.jsxs("div",{children:[t.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date}"}),t.jsx("span",{className:"text-gray-600 ml-2",children:"Current date (25-03-2024 format)"})]}),t.jsxs("div",{children:[t.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date;timestamp}"}),t.jsx("span",{className:"text-gray-600 ml-2",children:"Unix timestamp"})]}),t.jsxs("div",{children:[t.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{field_name}"}),t.jsx("span",{className:"text-gray-600 ml-2",children:'Value from form field with name "field_name"'})]}),t.jsxs("div",{children:[t.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{appointment_date}"}),t.jsx("span",{className:"text-gray-600 ml-2",children:"Date from appointment_date field"})]})]})]}),t.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[t.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(dw,{className:"w-4 h-4"}),"Time Offset Reference"]}),t.jsx("p",{className:"text-xs text-gray-700 mb-3",children:'When using "Time offset" execution method, specify hours as decimal numbers:'}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{children:[t.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0"})," = Instantly"]}),t.jsxs("div",{children:[t.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.08"})," = 5 minutes"]}),t.jsxs("div",{children:[t.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.25"})," = 15 minutes"]}),t.jsxs("div",{children:[t.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.5"})," = 30 minutes"]}),t.jsxs("div",{children:[t.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"1"})," = 1 hour"]}),t.jsxs("div",{children:[t.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"2"})," = 2 hours"]}),t.jsxs("div",{children:[t.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"24"})," = 24 hours"]}),t.jsxs("div",{children:[t.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"-1"})," = 1 hour before"]})]})]})]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 border-t px-6 py-4",children:[t.jsx("button",{onClick:E,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:_,className:pe("px-4 py-2 text-sm font-medium rounded-lg transition-colors","flex items-center gap-2","bg-blue-600 text-white hover:bg-blue-700"),children:[t.jsx(ia,{className:"w-4 h-4"}),"Save Schedule"]})]})]})})]}):null}function sr({variant:e="primary",size:o="md",disabled:r=!1,className:a,children:i,...c}){const d=["inline-flex items-center justify-center gap-x-2","bg-transparent cursor-pointer","font-medium","transition-colors duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2",r&&"opacity-50 cursor-not-allowed pointer-events-none"],u={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"},m={primary:["rounded-lg border-0 bg-primary-600 text-white shadow-sm","hover:bg-primary-700 hover:text-white","focus:ring-primary-500"],secondary:["rounded-lg bg-white text-gray-700 shadow-sm","border border-gray-300","hover:bg-gray-50 hover:text-gray-800","focus:ring-gray-500"],ghost:["rounded-lg border-0 text-gray-600","hover:bg-gray-100 hover:text-gray-900","focus:ring-gray-500"],danger:["rounded-lg border-0 bg-red-600 text-white shadow-sm","hover:bg-red-700 hover:text-white","focus:ring-red-500"],success:["rounded-lg border-0 bg-green-600 text-white shadow-sm","hover:bg-green-700 hover:text-white","focus:ring-green-500"],link:["border-0 text-primary-600","hover:text-primary-700","focus:ring-0"],pill:["rounded-full bg-white text-gray-700 shadow-sm","border border-gray-300","hover:bg-gray-50 hover:text-gray-800","focus:ring-gray-500"],unstyled:["border-0"],outline:["bg-transparent text-gray-500 rounded-md","border border-gray-300","hover:border-primary-600 hover:text-primary-600","focus:ring-primary-500"],outlineActive:["bg-transparent text-primary-600 rounded-md","border border-primary-600","hover:border-primary-700 hover:text-primary-700","focus:ring-primary-500"]};return t.jsx("button",{type:"button",disabled:r,className:pe(d,u[o],m[e],a),...c,children:i})}function Id({variant:e="ghost",size:o="md",disabled:r=!1,className:a,children:i,...c}){const d=["inline-flex items-center justify-center","border-0 bg-transparent cursor-pointer","rounded-lg","transition-colors duration-200","focus:outline-none",r&&"opacity-50 cursor-not-allowed pointer-events-none"],u={sm:"p-1",md:"p-1.5",lg:"p-2"},m={ghost:"text-gray-500 hover:text-gray-700 hover:bg-gray-100",danger:"text-red-500 hover:text-red-700 hover:bg-red-50",primary:"text-primary-500 hover:text-primary-700 hover:bg-primary-50"};return t.jsx("button",{type:"button",disabled:r,className:pe(d,u[o],m[e],a),...c,children:i})}function j2({email:e,isActive:o,onSelect:r,onDelete:a,onSchedule:i,onToggle:c,onDuplicate:d}){const[u,m]=f.useState(!1),{attributes:h,listeners:g,setNodeRef:j,transform:y,transition:w,isDragging:C}=Ld({id:e.id}),k={...{transform:rr.Transform.toString(y),transition:w,opacity:C?.5:1},boxShadow:o?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"};return t.jsx("div",{ref:j,style:k,"data-testid":"email-item-"+e.id,className:pe("relative p-3 rounded-lg cursor-pointer transition-all",o?"bg-blue-50 border-2 border-blue-400 ring-2 ring-blue-200":"bg-white border border-gray-200 hover:border-gray-300",C&&"z-50"),onClick:()=>r(e.id),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{"data-testid":"drag-handle",...h,...g,style:{position:"absolute",left:-4,top:"50%",transform:"translateY(-50%)"},className:pe("w-2 h-10 bg-gray-300 rounded transition-opacity cursor-move hover:bg-gray-400",u?"opacity-100":"opacity-0")}),t.jsx("div",{"data-testid":"toggle-container",className:"flex-shrink-0 flex items-center",children:t.jsx("button",{"data-testid":"email-toggle",type:"button",onClick:_=>{_.stopPropagation(),c(e.id,!e.enabled)},className:pe("relative inline-flex items-center flex-shrink-0 cursor-pointer rounded-full border-0 p-0 m-0 transition-colors duration-200 ease-in-out focus:outline-none",e.enabled?"bg-green-500":"bg-gray-300"),style:{width:36,height:20,minHeight:20,lineHeight:"normal"},title:e.enabled?"Disable email":"Enable email",children:t.jsx("span",{"data-testid":"toggle-knob",className:"pointer-events-none rounded-full bg-white shadow ring-0 transition-transform duration-200 ease-in-out",style:{position:"absolute",top:2,left:2,width:16,height:16,transform:e.enabled?"translateX(16px)":"translateX(0)"}})})}),t.jsxs("div",{"data-testid":"email-info",className:"flex-1 min-w-0 overflow-hidden",children:[t.jsx("span",{"data-testid":"email-name",className:pe("font-medium text-sm block whitespace-nowrap overflow-hidden text-ellipsis",e.enabled?"text-gray-900":"text-gray-400"),children:e.description||"Untitled Email"}),t.jsx("span",{"data-testid":"email-subject",className:pe("text-xs block whitespace-nowrap overflow-hidden text-ellipsis",e.enabled?"text-gray-500":"text-gray-400"),children:e.subject||"No subject"}),(e.scheduled_date||e.schedule)&&t.jsx("div",{"data-testid":"schedule-indicator",className:"mt-1",children:t.jsx(Bh,{scheduledDate:e.scheduled_date,schedule:e.schedule,size:"small"})})]}),t.jsxs("div",{"data-testid":"email-actions",className:pe("items-center gap-0.5 flex-shrink-0",u?"flex":"hidden"),children:[t.jsx(Id,{"data-testid":"duplicate-btn",variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),d(e.id)},className:"text-gray-400 hover:text-gray-600",title:"Duplicate email",children:t.jsx(oa,{className:"w-4 h-4"})}),t.jsx(Id,{"data-testid":"schedule-btn",variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),i(e.id)},className:"text-gray-400 hover:text-gray-600",title:"Schedule email",children:t.jsx(On,{className:"w-4 h-4"})}),t.jsx(Id,{"data-testid":"delete-btn",variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),a(e.id)},className:"text-gray-400 hover:text-red-500",title:"Delete email",children:t.jsx(Nn,{className:"w-4 h-4"})})]})]})})}function N2(){const{emails:e,activeEmailId:o,setActiveEmailId:r,addEmail:a,removeEmail:i,duplicateEmail:c,reorderEmails:d,updateEmailField:u}=Zs(),[m,h]=f.useState(null),[g,j]=f.useState(!1),y=Xj(nh(Ed,{activationConstraint:{distance:8}}),nh(Cd,{coordinateGetter:v2})),w=v=>{const{active:R,over:z}=v;if(R.id!==z.id){const L=e.findIndex($=>$.id===R.id),A=e.findIndex($=>$.id===z.id);L!==-1&&A!==-1&&d(L,A)}},C=v=>{window.confirm("Are you sure you want to delete this email?")&&i(v)},N=v=>{h(v),j(!0)},k=(v,R)=>{u(v,"enabled",R)},_=v=>{m&&(u(m,"schedule",v),j(!1),h(null))},E=e.find(v=>v.id===m);return t.jsxs("div",{"data-testid":"email-list",className:"bg-gray-50 rounded-lg p-4 h-full",children:[t.jsx("div",{className:"flex items-center justify-end mb-4",children:t.jsxs(sr,{"data-testid":"add-email-btn",variant:"ghost",onClick:a,children:[t.jsx(tr,{className:"w-4 h-4"}),"Add Email"]})}),e.length>0?t.jsx(Md,{sensors:y,collisionDetection:bd,onDragEnd:w,children:t.jsx(zd,{items:e.map(v=>v.id),strategy:$d,children:t.jsx("div",{className:"space-y-2",children:e.map(v=>t.jsx(j2,{email:v,isActive:v.id===o,onSelect:r,onDelete:C,onSchedule:N,onToggle:k,onDuplicate:c},v.id))})})}):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.jsx("p",{className:"mt-2 text-sm",children:"No emails configured"}),t.jsx(sr,{variant:"link",onClick:a,className:"mt-3",children:"Add your first email"})]}),t.jsx(w2,{isOpen:g,onClose:()=>{j(!1),h(null)},onSchedule:_,currentSchedule:E?.schedule})]})}function Hh({email:e}){const a=`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    <style>
      /* Reset styles for email content */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        font-size: 14px;
        line-height: 1.6;
        color: #333333;
      }
      
      p {
        margin: 0 0 10px 0;
      }
      
      h1, h2, h3, h4, h5, h6 {
        margin: 0 0 10px 0;
        font-weight: 600;
      }
      
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      h3 { font-size: 18px; }
      h4 { font-size: 16px; }
      h5 { font-size: 14px; }
      h6 { font-size: 12px; }
      
      a {
        color: #0066cc;
        text-decoration: underline;
      }
      
      img {
        max-width: 100%;
        height: auto;
      }
      
      table {
        border-collapse: collapse;
        width: 100%;
      }
      
      th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
      
      blockquote {
        margin: 0 0 10px 0;
        padding: 10px 20px;
        border-left: 4px solid #ddd;
        background-color: #f9f9f9;
      }
      
      ul, ol {
        margin: 0 0 10px 20px;
        padding: 0;
      }
      
      li {
        margin: 0 0 5px 0;
      }
      
      /* Button styles */
      .button {
        display: inline-block;
        padding: 12px 24px;
        background-color: #0066cc;
        color: #ffffff;
        text-decoration: none;
        border-radius: 4px;
        font-weight: 600;
      }
      
      /* Responsive */
      @media only screen and (max-width: 600px) {
        body {
          font-size: 16px !important;
        }
        
        table {
          width: 100% !important;
        }
        
        .button {
          display: block !important;
          width: 100% !important;
        }
      }
    </style>
  
      </head>
      <body>
        <div style="max-width: 600px; margin: 0 auto;">
          ${e.body||"<p>Email content will appear here...</p>"}
        </div>
      </body>
    </html>
  `;return t.jsx("div",{className:"email-content",children:t.jsx("iframe",{srcDoc:a,className:"w-full h-full border-0",style:{minHeight:"400px"},title:"Email Preview",sandbox:"allow-same-origin"})})}function so({value:e,onChange:o,placeholder:r="Click to edit",className:a="",multiline:i=!1,type:c="text",showEditIcon:d=!0,noPadding:u=!1,"data-testid":m}){const[h,g]=f.useState(!1),[j,y]=f.useState(e||""),[w,C]=f.useState(!1),N=f.useRef(null);f.useEffect(()=>{h&&N.current&&(N.current.focus(),N.current.select&&N.current.select())},[h]),f.useEffect(()=>{y(e||"")},[e]);const k=()=>{o&&j!==e&&o(j),g(!1)},_=()=>{y(e||""),g(!1)},E=R=>{R.key==="Enter"&&!i?(R.preventDefault(),k()):R.key==="Escape"&&(R.preventDefault(),_())},v=()=>{h||g(!0)};if(h){const R=i?"textarea":"input";return t.jsxs("div",{"data-testid":m?`${m}-editing`:void 0,className:"inline-flex items-center gap-1",children:[t.jsx(R,{ref:N,type:c,value:j,onChange:z=>y(z.target.value),onKeyDown:E,onBlur:k,className:pe("bg-white border border-gray-300 rounded",!u&&"px-2 py-0.5","outline-none focus:border-blue-500",!u&&"h-[28px]",i&&"resize-none min-h-[60px] h-auto",a),placeholder:r,"data-testid":m?`${m}-input`:void 0}),t.jsxs("div",{"data-testid":m?`${m}-actions`:void 0,className:"flex gap-1",children:[t.jsx("button",{type:"button",onClick:k,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Save","data-testid":m?`${m}-save-btn`:void 0,children:t.jsx(ji,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onClick:_,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Cancel","data-testid":m?`${m}-cancel-btn`:void 0,children:t.jsx(pt,{className:"w-4 h-4"})})]})]})}return t.jsxs("span",{"data-testid":m,className:pe("inline-flex items-center gap-1 cursor-pointer group","border border-transparent rounded",!u&&"px-2 py-0.5",!u&&"h-[28px]",a),onClick:v,onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),title:"Click to edit",children:[t.jsx("span",{"data-testid":m?`${m}-value`:void 0,className:pe(!e&&"text-gray-400"),children:e||r}),d&&w&&t.jsx(er,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}function k2({children:e,onRemove:o,variant:r="default",className:a,...i}){const d={display:"inline-flex",alignItems:"center",gap:"4px",padding:"2px 8px",borderRadius:"9999px",fontSize:"12px",fontWeight:500,lineHeight:"1.4",...{default:{background:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb"},email:{background:"#dbeafe",color:"#1d4ed8",border:"1px solid #bfdbfe"},field:{background:"#f3e8ff",color:"#7c3aed",border:"1px solid #e9d5ff"},success:{background:"#dcfce7",color:"#16a34a",border:"1px solid #bbf7d0"},warning:{background:"#fef3c7",color:"#d97706",border:"1px solid #fde68a"},error:{background:"#fee2e2",color:"#dc2626",border:"1px solid #fecaca"}}[r]},u={display:"inline-flex",alignItems:"center",justifyContent:"center",width:"16px",height:"16px",padding:0,margin:0,border:"none",background:"transparent",cursor:"pointer",borderRadius:"50%",color:"inherit",opacity:.6,transition:"opacity 0.15s, color 0.15s"},m=g=>{g.currentTarget.style.opacity="1",g.currentTarget.style.color="#dc2626"},h=g=>{g.currentTarget.style.opacity="0.6",g.currentTarget.style.color="inherit"};return t.jsxs("span",{style:d,className:a,...i,children:[t.jsx("span",{children:e}),o&&t.jsx("button",{type:"button",onClick:o,title:"Remove",style:u,onMouseEnter:m,onMouseLeave:h,children:t.jsx(pt,{size:12,strokeWidth:2.5})})]})}function C2({value:e="",onChange:o,validate:r,getVariant:a,placeholder:i="Type and press Enter...",className:c,"data-testid":d}){const u=f.useRef(null),[m,h]=f.useState(""),g=e?e.split(",").map(v=>v.trim()).filter(Boolean):[],j=f.useCallback(v=>{const R=v.trim();if(!R)return;if(g.includes(R)){h("");return}if(r&&!r(R))return;const z=[...g,R];o(z.join(", ")),h("")},[g,o,r]),y=f.useCallback(v=>{const R=g.filter((z,L)=>L!==v);o(R.join(", "))},[g,o]),w=f.useCallback(v=>{const R=m.trim();if(v.key==="Enter"||v.key==="Tab"||v.key===",")if(R)v.preventDefault(),j(R);else{if(v.key==="Tab")return;v.preventDefault()}v.key==="Backspace"&&!m&&g.length>0&&y(g.length-1)},[m,j,y,g.length]),C=f.useCallback(v=>{v.preventDefault();const z=v.clipboardData.getData("text").split(",").map(A=>A.trim()).filter(Boolean),L=[...g];z.forEach(A=>{!L.includes(A)&&(!r||r(A))&&L.push(A)}),o(L.join(", "))},[g,o,r]),N=f.useCallback(()=>{m.trim()&&j(m)},[m,j]),k=f.useCallback(v=>a?a(v):"default",[a]),_={display:"flex",flexWrap:"wrap",alignItems:"center",gap:"4px",minHeight:"32px",padding:"4px 8px",background:"transparent",borderRadius:"6px",cursor:"text"},E={flex:1,minWidth:"120px",border:"none",outline:"none",padding:"2px 4px",fontSize:"14px",background:"transparent",fontFamily:"inherit"};return t.jsxs("div",{"data-testid":d,className:c,style:_,onClick:()=>u.current?.focus(),children:[g.map((v,R)=>t.jsx(k2,{"data-testid":d?`${d}-tag-${R}`:void 0,variant:k(v),onRemove:()=>y(R),children:v},`${v}-${R}`)),t.jsx("input",{ref:u,type:"text",value:m,onChange:v=>h(v.target.value),onKeyDown:w,onPaste:C,onBlur:N,placeholder:g.length===0?i:"",style:E,"data-testid":d?`${d}-input`:void 0})]})}function oo({value:e="",onChange:o,placeholder:r="Enter email addresses...",className:a,"data-testid":i}){const c=f.useCallback(u=>{const m=u.trim();return/^\{[a-zA-Z0-9_]+\}$/.test(m)?!0:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m)},[]),d=f.useCallback(u=>/^\{[a-zA-Z0-9_]+\}$/.test(u.trim())?"field":"email",[]);return t.jsx(C2,{value:e,onChange:o,validate:c,getVariant:d,placeholder:r,className:a,"data-testid":i})}let Cn=null;function S2({onSelect:e,onClose:o,title:r="Select Media"}){f.useEffect(()=>{if(typeof wp>"u"||!wp.media){console.error("WordPress media library is not available"),o();return}Cn?Cn.options.title=r:Cn=wp.media({title:r,button:{text:"Select"},multiple:!1}),Cn.off("select"),Cn.off("close");const i=()=>{const d=Cn.state().get("selection").first().toJSON();if(d){const u={id:d.id,title:d.title,filename:d.filename,url:d.url,mime:d.mime||d.type,type:d.mime||d.type,filesizeHumanReadable:d.filesizeHumanReadable||a(d.filesize),filesize:d.filesize};e(u)}},c=()=>{o()};return Cn.on("select",i),Cn.on("close",c),Cn.open(),()=>{Cn&&(Cn.off("select",i),Cn.off("close",c))}},[]);function a(i){if(!i)return"Unknown size";const c=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(i)/Math.log(1024));return Math.round(i/Math.pow(1024,d)*100)/100+" "+c[d]}return null}const E2=De.memo(S2),Vh=({className:e})=>t.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("text",{x:"7",y:"17",fontSize:"8",fontWeight:"600",fill:"currentColor",stroke:"none",children:"PDF"})]});function _2({attachments:e=[],onChange:o,isBuilder:r=!1}){const[a,i]=f.useState(!1),[c,d]=f.useState(null),u=f.useCallback(y=>{const w={id:y.id,name:y.filename||y.title||"Untitled",url:y.url,type:y.mime||y.type||"application/octet-stream",size:y.filesizeHumanReadable||y.filesize||"Unknown size"};if(c!==null){const C=[...e];C[c]=w,o(C),d(null)}else o([...e,w]);i(!1)},[e,o,c]),m=y=>{const w=e.filter((C,N)=>N!==y);o(w)},h=y=>{d(y),i(!0)},g=f.useCallback(()=>{i(!1),d(null)},[]),j=(y,w="")=>{if(y.startsWith("image/"))return Di;if(y.includes("pdf"))return Vh;if(y.includes("spreadsheet")||y.includes("excel")||y.includes("csv"))return Ti;if(y.includes("video/"))return Pi;if(y.includes("audio/"))return _i;if(y.includes("zip")||y.includes("tar")||y.includes("archive"))return Ei;if(y.includes("text/plain"))return Mi;switch(w.split(".").pop()?.toLowerCase()){case"pdf":return Vh;case"csv":case"xls":case"xlsx":case"ods":return Ti;case"doc":case"docx":case"odt":case"rtf":case"txt":return Mi;case"mp4":case"avi":case"mov":case"wmv":case"flv":case"webm":return Pi;case"mp3":case"wav":case"ogg":case"flac":case"aac":return _i;case"zip":case"rar":case"7z":case"tar":case"gz":return Ei;case"js":case"jsx":case"ts":case"tsx":case"html":case"css":case"php":case"py":case"java":case"cpp":case"c":case"json":case"xml":return Ri;case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":case"bmp":case"ico":return Di;default:return rm}};return!r&&e.length===0?null:t.jsxs("div",{"data-testid":"attachment-manager",className:"border-t pt-4 mt-2.5",children:[r&&t.jsxs(sr,{"data-testid":"attach-files-btn",variant:"link",size:"sm",onClick:()=>{d(null),i(!0)},className:"mb-3",children:[t.jsx(um,{className:"w-3 h-3"}),"Attach files"]}),e.length>0&&t.jsx("div",{"data-testid":"attachment-list",className:"flex flex-wrap gap-2",children:e.map((y,w)=>{const C=j(y.type,y.name);return t.jsxs("div",{"data-testid":`attachment-item-${w}`,className:"group inline-flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#f5f5f5"},children:[t.jsx(C,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),t.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer","data-testid":`attachment-link-${w}`,className:"text-sm text-gray-700 group-hover:text-blue-600 transition-colors flex items-center gap-1",children:[t.jsx("span",{"data-testid":`attachment-name-${w}`,children:y.name}),t.jsx(Ci,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),t.jsxs("span",{"data-testid":`attachment-size-${w}`,className:"text-xs text-gray-500",children:["(",y.size,")"]}),r&&t.jsxs("div",{"data-testid":`attachment-actions-${w}`,className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{"data-testid":`attachment-edit-btn-${w}`,onClick:()=>h(w),className:"p-1 text-blue-600 hover:text-blue-700",title:"Replace attachment",children:t.jsx(er,{className:"w-4 h-4"})}),t.jsx("button",{"data-testid":`attachment-remove-btn-${w}`,onClick:()=>m(w),className:"p-1 text-red-600 hover:text-red-700",title:"Remove attachment",children:t.jsx(pt,{className:"w-4 h-4"})})]})]},`${y.id}-${w}`)})}),a&&t.jsx(E2,{onSelect:u,onClose:g,title:c!==null?"Replace Attachment":"Select Attachment"})]})}const Uh=De.memo(_2);function Ot(e,o,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return o?.(i)}}function qh(e,o){if(typeof e=="function")return e(o);e!=null&&(e.current=o)}function jr(...e){return o=>{let r=!1;const a=e.map(i=>{const c=qh(i,o);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let i=0;i<a.length;i++){const c=a[i];typeof c=="function"?c():qh(e[i],null)}}}}function hn(...e){return f.useCallback(jr(...e),e)}function R2(e,o){const r=f.createContext(o),a=c=>{const{children:d,...u}=c,m=f.useMemo(()=>u,Object.values(u));return t.jsx(r.Provider,{value:m,children:d})};a.displayName=e+"Provider";function i(c){const d=f.useContext(r);if(d)return d;if(o!==void 0)return o;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[a,i]}function wa(e,o=[]){let r=[];function a(c,d){const u=f.createContext(d),m=r.length;r=[...r,d];const h=j=>{const{scope:y,children:w,...C}=j,N=y?.[e]?.[m]||u,k=f.useMemo(()=>C,Object.values(C));return t.jsx(N.Provider,{value:k,children:w})};h.displayName=c+"Provider";function g(j,y){const w=y?.[e]?.[m]||u,C=f.useContext(w);if(C)return C;if(d!==void 0)return d;throw new Error(`\`${j}\` must be used within \`${c}\``)}return[h,g]}const i=()=>{const c=r.map(d=>f.createContext(d));return function(u){const m=u?.[e]||c;return f.useMemo(()=>({[`__scope${e}`]:{...u,[e]:m}}),[u,m])}};return i.scopeName=e,[a,D2(i,...o)]}function D2(...e){const o=e[0];if(e.length===1)return o;const r=()=>{const a=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const d=a.reduce((u,{useScope:m,scopeName:h})=>{const j=m(c)[`__scope${h}`];return{...u,...j}},{});return f.useMemo(()=>({[`__scope${o.scopeName}`]:d}),[d])}};return r.scopeName=o.scopeName,r}var ao=globalThis?.document?f.useLayoutEffect:()=>{},T2=Pc[" useId ".trim().toString()]||(()=>{}),M2=0;function ll(e){const[o,r]=f.useState(T2());return ao(()=>{r(a=>a??String(M2++))},[e]),e||(o?`radix-${o}`:"")}var P2=Pc[" useInsertionEffect ".trim().toString()]||ao;function Od({prop:e,defaultProp:o,onChange:r=()=>{},caller:a}){const[i,c,d]=$2({defaultProp:o,onChange:r}),u=e!==void 0,m=u?e:i;{const g=f.useRef(e!==void 0);f.useEffect(()=>{const j=g.current;j!==u&&console.warn(`${a} is changing from ${j?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,a])}const h=f.useCallback(g=>{if(u){const j=z2(g)?g(e):g;j!==e&&d.current?.(j)}else c(g)},[u,e,c,d]);return[m,h]}function $2({defaultProp:e,onChange:o}){const[r,a]=f.useState(e),i=f.useRef(r),c=f.useRef(o);return P2(()=>{c.current=o},[o]),f.useEffect(()=>{i.current!==r&&(c.current?.(r),i.current=r)},[r,i]),[r,a,c]}function z2(e){return typeof e=="function"}function L2(e){const o=I2(e),r=f.forwardRef((a,i)=>{const{children:c,...d}=a,u=f.Children.toArray(c),m=u.find(A2);if(m){const h=m.props.children,g=u.map(j=>j===m?f.Children.count(h)>1?f.Children.only(null):f.isValidElement(h)?h.props.children:null:j);return t.jsx(o,{...d,ref:i,children:f.isValidElement(h)?f.cloneElement(h,void 0,g):null})}return t.jsx(o,{...d,ref:i,children:c})});return r.displayName=`${e}.Slot`,r}function I2(e){const o=f.forwardRef((r,a)=>{const{children:i,...c}=r;if(f.isValidElement(i)){const d=W2(i),u=F2(c,i.props);return i.type!==f.Fragment&&(u.ref=a?jr(a,d):d),f.cloneElement(i,u)}return f.Children.count(i)>1?f.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var O2=Symbol("radix.slottable");function A2(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===O2}function F2(e,o){const r={...o};for(const a in o){const i=e[a],c=o[a];/^on[A-Z]/.test(a)?i&&c?r[a]=(...u)=>{const m=c(...u);return i(...u),m}:i&&(r[a]=i):a==="style"?r[a]={...i,...c}:a==="className"&&(r[a]=[i,c].filter(Boolean).join(" "))}return{...e,...r}}function W2(e){let o=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning;return r?e.ref:(o=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var B2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yh=B2.reduce((e,o)=>{const r=L2(`Primitive.${o}`),a=f.forwardRef((i,c)=>{const{asChild:d,...u}=i,m=d?r:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...u,ref:c})});return a.displayName=`Primitive.${o}`,{...e,[o]:a}},{});function H2(e,o){e&&us.flushSync(()=>e.dispatchEvent(o))}function io(e){const o=f.useRef(e);return f.useEffect(()=>{o.current=e}),f.useMemo(()=>(...r)=>o.current?.(...r),[])}function V2(e,o=globalThis?.document){const r=io(e);f.useEffect(()=>{const a=i=>{i.key==="Escape"&&r(i)};return o.addEventListener("keydown",a,{capture:!0}),()=>o.removeEventListener("keydown",a,{capture:!0})},[r,o])}var U2="DismissableLayer",Ad="dismissableLayer.update",q2="dismissableLayer.pointerDownOutside",Y2="dismissableLayer.focusOutside",Gh,Kh=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xh=f.forwardRef((e,o)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:d,onDismiss:u,...m}=e,h=f.useContext(Kh),[g,j]=f.useState(null),y=g?.ownerDocument??globalThis?.document,[,w]=f.useState({}),C=hn(o,A=>j(A)),N=Array.from(h.layers),[k]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(k),E=g?N.indexOf(g):-1,v=h.layersWithOutsidePointerEventsDisabled.size>0,R=E>=_,z=X2(A=>{const $=A.target,H=[...h.branches].some(G=>G.contains($));!R||H||(i?.(A),d?.(A),A.defaultPrevented||u?.())},y),L=Q2(A=>{const $=A.target;[...h.branches].some(G=>G.contains($))||(c?.(A),d?.(A),A.defaultPrevented||u?.())},y);return V2(A=>{E===h.layers.size-1&&(a?.(A),!A.defaultPrevented&&u&&(A.preventDefault(),u()))},y),f.useEffect(()=>{if(g)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Gh=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),Qh(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Gh)}},[g,y,r,h]),f.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),Qh())},[g,h]),f.useEffect(()=>{const A=()=>w({});return document.addEventListener(Ad,A),()=>document.removeEventListener(Ad,A)},[]),t.jsx(Yh.div,{...m,ref:C,style:{pointerEvents:v?R?"auto":"none":void 0,...e.style},onFocusCapture:Ot(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Ot(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ot(e.onPointerDownCapture,z.onPointerDownCapture)})});Xh.displayName=U2;var G2="DismissableLayerBranch",K2=f.forwardRef((e,o)=>{const r=f.useContext(Kh),a=f.useRef(null),i=hn(o,a);return f.useEffect(()=>{const c=a.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),t.jsx(Yh.div,{...e,ref:i})});K2.displayName=G2;function X2(e,o=globalThis?.document){const r=io(e),a=f.useRef(!1),i=f.useRef(()=>{});return f.useEffect(()=>{const c=u=>{if(u.target&&!a.current){let m=function(){Jh(q2,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(o.removeEventListener("click",i.current),i.current=m,o.addEventListener("click",i.current,{once:!0})):m()}else o.removeEventListener("click",i.current);a.current=!1},d=window.setTimeout(()=>{o.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),o.removeEventListener("pointerdown",c),o.removeEventListener("click",i.current)}},[o,r]),{onPointerDownCapture:()=>a.current=!0}}function Q2(e,o=globalThis?.document){const r=io(e),a=f.useRef(!1);return f.useEffect(()=>{const i=c=>{c.target&&!a.current&&Jh(Y2,r,{originalEvent:c},{discrete:!1})};return o.addEventListener("focusin",i),()=>o.removeEventListener("focusin",i)},[o,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Qh(){const e=new CustomEvent(Ad);document.dispatchEvent(e)}function Jh(e,o,r,{discrete:a}){const i=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});o&&i.addEventListener(e,o,{once:!0}),a?H2(i,c):i.dispatchEvent(c)}function J2(e){const o=Z2(e),r=f.forwardRef((a,i)=>{const{children:c,...d}=a,u=f.Children.toArray(c),m=u.find(tk);if(m){const h=m.props.children,g=u.map(j=>j===m?f.Children.count(h)>1?f.Children.only(null):f.isValidElement(h)?h.props.children:null:j);return t.jsx(o,{...d,ref:i,children:f.isValidElement(h)?f.cloneElement(h,void 0,g):null})}return t.jsx(o,{...d,ref:i,children:c})});return r.displayName=`${e}.Slot`,r}function Z2(e){const o=f.forwardRef((r,a)=>{const{children:i,...c}=r;if(f.isValidElement(i)){const d=rk(i),u=nk(c,i.props);return i.type!==f.Fragment&&(u.ref=a?jr(a,d):d),f.cloneElement(i,u)}return f.Children.count(i)>1?f.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var ek=Symbol("radix.slottable");function tk(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ek}function nk(e,o){const r={...o};for(const a in o){const i=e[a],c=o[a];/^on[A-Z]/.test(a)?i&&c?r[a]=(...u)=>{const m=c(...u);return i(...u),m}:i&&(r[a]=i):a==="style"?r[a]={...i,...c}:a==="className"&&(r[a]=[i,c].filter(Boolean).join(" "))}return{...e,...r}}function rk(e){let o=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning;return r?e.ref:(o=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ok=sk.reduce((e,o)=>{const r=J2(`Primitive.${o}`),a=f.forwardRef((i,c)=>{const{asChild:d,...u}=i,m=d?r:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...u,ref:c})});return a.displayName=`Primitive.${o}`,{...e,[o]:a}},{}),Fd="focusScope.autoFocusOnMount",Wd="focusScope.autoFocusOnUnmount",Zh={bubbles:!1,cancelable:!0},ak="FocusScope",eg=f.forwardRef((e,o)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...d}=e,[u,m]=f.useState(null),h=io(i),g=io(c),j=f.useRef(null),y=hn(o,N=>m(N)),w=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(a){let N=function(v){if(w.paused||!u)return;const R=v.target;u.contains(R)?j.current=R:Fr(j.current,{select:!0})},k=function(v){if(w.paused||!u)return;const R=v.relatedTarget;R!==null&&(u.contains(R)||Fr(j.current,{select:!0}))},_=function(v){if(document.activeElement===document.body)for(const z of v)z.removedNodes.length>0&&Fr(u)};document.addEventListener("focusin",N),document.addEventListener("focusout",k);const E=new MutationObserver(_);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",k),E.disconnect()}}},[a,u,w.paused]),f.useEffect(()=>{if(u){rg.add(w);const N=document.activeElement;if(!u.contains(N)){const _=new CustomEvent(Fd,Zh);u.addEventListener(Fd,h),u.dispatchEvent(_),_.defaultPrevented||(ik(pk(tg(u)),{select:!0}),document.activeElement===N&&Fr(u))}return()=>{u.removeEventListener(Fd,h),setTimeout(()=>{const _=new CustomEvent(Wd,Zh);u.addEventListener(Wd,g),u.dispatchEvent(_),_.defaultPrevented||Fr(N??document.body,{select:!0}),u.removeEventListener(Wd,g),rg.remove(w)},0)}}},[u,h,g,w]);const C=f.useCallback(N=>{if(!r&&!a||w.paused)return;const k=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(k&&_){const E=N.currentTarget,[v,R]=lk(E);v&&R?!N.shiftKey&&_===R?(N.preventDefault(),r&&Fr(v,{select:!0})):N.shiftKey&&_===v&&(N.preventDefault(),r&&Fr(R,{select:!0})):_===E&&N.preventDefault()}},[r,a,w.paused]);return t.jsx(ok.div,{tabIndex:-1,...d,ref:y,onKeyDown:C})});eg.displayName=ak;function ik(e,{select:o=!1}={}){const r=document.activeElement;for(const a of e)if(Fr(a,{select:o}),document.activeElement!==r)return}function lk(e){const o=tg(e),r=ng(o,e),a=ng(o.reverse(),e);return[r,a]}function tg(e){const o=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)o.push(r.currentNode);return o}function ng(e,o){for(const r of e)if(!ck(r,{upTo:o}))return r}function ck(e,{upTo:o}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(o!==void 0&&e===o)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dk(e){return e instanceof HTMLInputElement&&"select"in e}function Fr(e,{select:o=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&dk(e)&&o&&e.select()}}var rg=uk();function uk(){let e=[];return{add(o){const r=e[0];o!==r&&r?.pause(),e=sg(e,o),e.unshift(o)},remove(o){e=sg(e,o),e[0]?.resume()}}}function sg(e,o){const r=[...e],a=r.indexOf(o);return a!==-1&&r.splice(a,1),r}function pk(e){return e.filter(o=>o.tagName!=="A")}function fk(e){const o=mk(e),r=f.forwardRef((a,i)=>{const{children:c,...d}=a,u=f.Children.toArray(c),m=u.find(gk);if(m){const h=m.props.children,g=u.map(j=>j===m?f.Children.count(h)>1?f.Children.only(null):f.isValidElement(h)?h.props.children:null:j);return t.jsx(o,{...d,ref:i,children:f.isValidElement(h)?f.cloneElement(h,void 0,g):null})}return t.jsx(o,{...d,ref:i,children:c})});return r.displayName=`${e}.Slot`,r}function mk(e){const o=f.forwardRef((r,a)=>{const{children:i,...c}=r;if(f.isValidElement(i)){const d=yk(i),u=xk(c,i.props);return i.type!==f.Fragment&&(u.ref=a?jr(a,d):d),f.cloneElement(i,u)}return f.Children.count(i)>1?f.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var hk=Symbol("radix.slottable");function gk(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hk}function xk(e,o){const r={...o};for(const a in o){const i=e[a],c=o[a];/^on[A-Z]/.test(a)?i&&c?r[a]=(...u)=>{const m=c(...u);return i(...u),m}:i&&(r[a]=i):a==="style"?r[a]={...i,...c}:a==="className"&&(r[a]=[i,c].filter(Boolean).join(" "))}return{...e,...r}}function yk(e){let o=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning;return r?e.ref:(o=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bk=vk.reduce((e,o)=>{const r=fk(`Primitive.${o}`),a=f.forwardRef((i,c)=>{const{asChild:d,...u}=i,m=d?r:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...u,ref:c})});return a.displayName=`Primitive.${o}`,{...e,[o]:a}},{}),wk="Portal",og=f.forwardRef((e,o)=>{const{container:r,...a}=e,[i,c]=f.useState(!1);ao(()=>c(!0),[]);const d=r||i&&globalThis?.document?.body;return d?Sb.createPortal(t.jsx(bk.div,{...a,ref:o}),d):null});og.displayName=wk;function jk(e,o){return f.useReducer((r,a)=>o[r][a]??r,e)}var ja=e=>{const{present:o,children:r}=e,a=Nk(o),i=typeof r=="function"?r({present:a.isPresent}):f.Children.only(r),c=hn(a.ref,kk(i));return typeof r=="function"||a.isPresent?f.cloneElement(i,{ref:c}):null};ja.displayName="Presence";function Nk(e){const[o,r]=f.useState(),a=f.useRef(null),i=f.useRef(e),c=f.useRef("none"),d=e?"mounted":"unmounted",[u,m]=jk(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const h=cl(a.current);c.current=u==="mounted"?h:"none"},[u]),ao(()=>{const h=a.current,g=i.current;if(g!==e){const y=c.current,w=cl(h);e?m("MOUNT"):w==="none"||h?.display==="none"?m("UNMOUNT"):m(g&&y!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,m]),ao(()=>{if(o){let h;const g=o.ownerDocument.defaultView??window,j=w=>{const N=cl(a.current).includes(CSS.escape(w.animationName));if(w.target===o&&N&&(m("ANIMATION_END"),!i.current)){const k=o.style.animationFillMode;o.style.animationFillMode="forwards",h=g.setTimeout(()=>{o.style.animationFillMode==="forwards"&&(o.style.animationFillMode=k)})}},y=w=>{w.target===o&&(c.current=cl(a.current))};return o.addEventListener("animationstart",y),o.addEventListener("animationcancel",j),o.addEventListener("animationend",j),()=>{g.clearTimeout(h),o.removeEventListener("animationstart",y),o.removeEventListener("animationcancel",j),o.removeEventListener("animationend",j)}}else m("ANIMATION_END")},[o,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:f.useCallback(h=>{a.current=h?getComputedStyle(h):null,r(h)},[])}}function cl(e){return e?.animationName||"none"}function kk(e){let o=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning;return r?e.ref:(o=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ag(e){const o=Ck(e),r=f.forwardRef((a,i)=>{const{children:c,...d}=a,u=f.Children.toArray(c),m=u.find(Ek);if(m){const h=m.props.children,g=u.map(j=>j===m?f.Children.count(h)>1?f.Children.only(null):f.isValidElement(h)?h.props.children:null:j);return t.jsx(o,{...d,ref:i,children:f.isValidElement(h)?f.cloneElement(h,void 0,g):null})}return t.jsx(o,{...d,ref:i,children:c})});return r.displayName=`${e}.Slot`,r}function Ck(e){const o=f.forwardRef((r,a)=>{const{children:i,...c}=r;if(f.isValidElement(i)){const d=Rk(i),u=_k(c,i.props);return i.type!==f.Fragment&&(u.ref=a?jr(a,d):d),f.cloneElement(i,u)}return f.Children.count(i)>1?f.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var Sk=Symbol("radix.slottable");function Ek(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sk}function _k(e,o){const r={...o};for(const a in o){const i=e[a],c=o[a];/^on[A-Z]/.test(a)?i&&c?r[a]=(...u)=>{const m=c(...u);return i(...u),m}:i&&(r[a]=i):a==="style"?r[a]={...i,...c}:a==="className"&&(r[a]=[i,c].filter(Boolean).join(" "))}return{...e,...r}}function Rk(e){let o=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning;return r?e.ref:(o=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Dk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Na=Dk.reduce((e,o)=>{const r=ag(`Primitive.${o}`),a=f.forwardRef((i,c)=>{const{asChild:d,...u}=i,m=d?r:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...u,ref:c})});return a.displayName=`Primitive.${o}`,{...e,[o]:a}},{}),Bd=0;function Tk(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ig()),document.body.insertAdjacentElement("beforeend",e[1]??ig()),Bd++,()=>{Bd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),Bd--}},[])}function ig(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var or=function(){return or=Object.assign||function(o){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(o[c]=r[c])}return o},or.apply(this,arguments)};function lg(e,o){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&o.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)o.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r}function Mk(e,o,r){if(r||arguments.length===2)for(var a=0,i=o.length,c;a<i;a++)(c||!(a in o))&&(c||(c=Array.prototype.slice.call(o,0,a)),c[a]=o[a]);return e.concat(c||Array.prototype.slice.call(o))}typeof SuppressedError=="function"&&SuppressedError;var dl="right-scroll-bar-position",ul="width-before-scroll-bar",Pk="with-scroll-bars-hidden",$k="--removed-body-scroll-bar-size";function Hd(e,o){return typeof e=="function"?e(o):e&&(e.current=o),e}function zk(e,o){var r=f.useState(function(){return{value:e,callback:o,facade:{get current(){return r.value},set current(a){var i=r.value;i!==a&&(r.value=a,r.callback(a,i))}}}})[0];return r.callback=o,r.facade}var Lk=typeof window<"u"?f.useLayoutEffect:f.useEffect,cg=new WeakMap;function Ik(e,o){var r=zk(null,function(a){return e.forEach(function(i){return Hd(i,a)})});return Lk(function(){var a=cg.get(r);if(a){var i=new Set(a),c=new Set(e),d=r.current;i.forEach(function(u){c.has(u)||Hd(u,null)}),c.forEach(function(u){i.has(u)||Hd(u,d)})}cg.set(r,e)},[e]),r}function Ok(e){return e}function Ak(e,o){o===void 0&&(o=Ok);var r=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var d=o(c,a);return r.push(d),function(){r=r.filter(function(u){return u!==d})}},assignSyncMedium:function(c){for(a=!0;r.length;){var d=r;r=[],d.forEach(c)}r={push:function(u){return c(u)},filter:function(){return r}}},assignMedium:function(c){a=!0;var d=[];if(r.length){var u=r;r=[],u.forEach(c),d=r}var m=function(){var g=d;d=[],g.forEach(c)},h=function(){return Promise.resolve().then(m)};h(),r={push:function(g){d.push(g),h()},filter:function(g){return d=d.filter(g),r}}}};return i}function Fk(e){e===void 0&&(e={});var o=Ak(null);return o.options=or({async:!0,ssr:!1},e),o}var dg=function(e){var o=e.sideCar,r=lg(e,["sideCar"]);if(!o)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=o.read();if(!a)throw new Error("Sidecar medium not found");return f.createElement(a,or({},r))};dg.isSideCarExport=!0;function Wk(e,o){return e.useMedium(o),dg}var ug=Fk(),Vd=function(){},pl=f.forwardRef(function(e,o){var r=f.useRef(null),a=f.useState({onScrollCapture:Vd,onWheelCapture:Vd,onTouchMoveCapture:Vd}),i=a[0],c=a[1],d=e.forwardProps,u=e.children,m=e.className,h=e.removeScrollBar,g=e.enabled,j=e.shards,y=e.sideCar,w=e.noRelative,C=e.noIsolation,N=e.inert,k=e.allowPinchZoom,_=e.as,E=_===void 0?"div":_,v=e.gapMode,R=lg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=y,L=Ik([r,o]),A=or(or({},R),i);return f.createElement(f.Fragment,null,g&&f.createElement(z,{sideCar:ug,removeScrollBar:h,shards:j,noRelative:w,noIsolation:C,inert:N,setCallbacks:c,allowPinchZoom:!!k,lockRef:r,gapMode:v}),d?f.cloneElement(f.Children.only(u),or(or({},A),{ref:L})):f.createElement(E,or({},A,{className:m,ref:L}),u))});pl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},pl.classNames={fullWidth:ul,zeroRight:dl};var Bk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Hk(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var o=Bk();return o&&e.setAttribute("nonce",o),e}function Vk(e,o){e.styleSheet?e.styleSheet.cssText=o:e.appendChild(document.createTextNode(o))}function Uk(e){var o=document.head||document.getElementsByTagName("head")[0];o.appendChild(e)}var qk=function(){var e=0,o=null;return{add:function(r){e==0&&(o=Hk())&&(Vk(o,r),Uk(o)),e++},remove:function(){e--,!e&&o&&(o.parentNode&&o.parentNode.removeChild(o),o=null)}}},Yk=function(){var e=qk();return function(o,r){f.useEffect(function(){return e.add(o),function(){e.remove()}},[o&&r])}},pg=function(){var e=Yk(),o=function(r){var a=r.styles,i=r.dynamic;return e(a,i),null};return o},Gk={left:0,top:0,right:0,gap:0},Ud=function(e){return parseInt(e||"",10)||0},Kk=function(e){var o=window.getComputedStyle(document.body),r=o[e==="padding"?"paddingLeft":"marginLeft"],a=o[e==="padding"?"paddingTop":"marginTop"],i=o[e==="padding"?"paddingRight":"marginRight"];return[Ud(r),Ud(a),Ud(i)]},Xk=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Gk;var o=Kk(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:o[0],top:o[1],right:o[2],gap:Math.max(0,a-r+o[2]-o[0])}},Qk=pg(),lo="data-scroll-locked",Jk=function(e,o,r,a){var i=e.left,c=e.top,d=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Pk,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(lo,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([o&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dl,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(ul,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(dl," .").concat(dl,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(ul," .").concat(ul,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(lo,`] {
    `).concat($k,": ").concat(u,`px;
  }
`)},fg=function(){var e=parseInt(document.body.getAttribute(lo)||"0",10);return isFinite(e)?e:0},Zk=function(){f.useEffect(function(){return document.body.setAttribute(lo,(fg()+1).toString()),function(){var e=fg()-1;e<=0?document.body.removeAttribute(lo):document.body.setAttribute(lo,e.toString())}},[])},eC=function(e){var o=e.noRelative,r=e.noImportant,a=e.gapMode,i=a===void 0?"margin":a;Zk();var c=f.useMemo(function(){return Xk(i)},[i]);return f.createElement(Qk,{styles:Jk(c,!o,i,r?"":"!important")})},qd=!1;if(typeof window<"u")try{var fl=Object.defineProperty({},"passive",{get:function(){return qd=!0,!0}});window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{qd=!1}var co=qd?{passive:!1}:!1,tC=function(e){return e.tagName==="TEXTAREA"},mg=function(e,o){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[o]!=="hidden"&&!(r.overflowY===r.overflowX&&!tC(e)&&r[o]==="visible")},nC=function(e){return mg(e,"overflowY")},rC=function(e){return mg(e,"overflowX")},hg=function(e,o){var r=o.ownerDocument,a=o;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=gg(e,a);if(i){var c=xg(e,a),d=c[1],u=c[2];if(d>u)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},sC=function(e){var o=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[o,r,a]},oC=function(e){var o=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[o,r,a]},gg=function(e,o){return e==="v"?nC(o):rC(o)},xg=function(e,o){return e==="v"?sC(o):oC(o)},aC=function(e,o){return e==="h"&&o==="rtl"?-1:1},iC=function(e,o,r,a,i){var c=aC(e,window.getComputedStyle(o).direction),d=c*a,u=r.target,m=o.contains(u),h=!1,g=d>0,j=0,y=0;do{if(!u)break;var w=xg(e,u),C=w[0],N=w[1],k=w[2],_=N-k-c*C;(C||_)&&gg(e,u)&&(j+=_,y+=C);var E=u.parentNode;u=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!m&&u!==document.body||m&&(o.contains(u)||o===u));return(g&&Math.abs(j)<1||!g&&Math.abs(y)<1)&&(h=!0),h},ml=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yg=function(e){return[e.deltaX,e.deltaY]},vg=function(e){return e&&"current"in e?e.current:e},lC=function(e,o){return e[0]===o[0]&&e[1]===o[1]},cC=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dC=0,uo=[];function uC(e){var o=f.useRef([]),r=f.useRef([0,0]),a=f.useRef(),i=f.useState(dC++)[0],c=f.useState(pg)[0],d=f.useRef(e);f.useEffect(function(){d.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var N=Mk([e.lockRef.current],(e.shards||[]).map(vg),!0).filter(Boolean);return N.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=f.useCallback(function(N,k){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!d.current.allowPinchZoom;var _=ml(N),E=r.current,v="deltaX"in N?N.deltaX:E[0]-_[0],R="deltaY"in N?N.deltaY:E[1]-_[1],z,L=N.target,A=Math.abs(v)>Math.abs(R)?"h":"v";if("touches"in N&&A==="h"&&L.type==="range")return!1;var $=hg(A,L);if(!$)return!0;if($?z=A:(z=A==="v"?"h":"v",$=hg(A,L)),!$)return!1;if(!a.current&&"changedTouches"in N&&(v||R)&&(a.current=z),!z)return!0;var H=a.current||z;return iC(H,k,N,H==="h"?v:R)},[]),m=f.useCallback(function(N){var k=N;if(!(!uo.length||uo[uo.length-1]!==c)){var _="deltaY"in k?yg(k):ml(k),E=o.current.filter(function(z){return z.name===k.type&&(z.target===k.target||k.target===z.shadowParent)&&lC(z.delta,_)})[0];if(E&&E.should){k.cancelable&&k.preventDefault();return}if(!E){var v=(d.current.shards||[]).map(vg).filter(Boolean).filter(function(z){return z.contains(k.target)}),R=v.length>0?u(k,v[0]):!d.current.noIsolation;R&&k.cancelable&&k.preventDefault()}}},[]),h=f.useCallback(function(N,k,_,E){var v={name:N,delta:k,target:_,should:E,shadowParent:pC(_)};o.current.push(v),setTimeout(function(){o.current=o.current.filter(function(R){return R!==v})},1)},[]),g=f.useCallback(function(N){r.current=ml(N),a.current=void 0},[]),j=f.useCallback(function(N){h(N.type,yg(N),N.target,u(N,e.lockRef.current))},[]),y=f.useCallback(function(N){h(N.type,ml(N),N.target,u(N,e.lockRef.current))},[]);f.useEffect(function(){return uo.push(c),e.setCallbacks({onScrollCapture:j,onWheelCapture:j,onTouchMoveCapture:y}),document.addEventListener("wheel",m,co),document.addEventListener("touchmove",m,co),document.addEventListener("touchstart",g,co),function(){uo=uo.filter(function(N){return N!==c}),document.removeEventListener("wheel",m,co),document.removeEventListener("touchmove",m,co),document.removeEventListener("touchstart",g,co)}},[]);var w=e.removeScrollBar,C=e.inert;return f.createElement(f.Fragment,null,C?f.createElement(c,{styles:cC(i)}):null,w?f.createElement(eC,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function pC(e){for(var o=null;e!==null;)e instanceof ShadowRoot&&(o=e.host,e=e.host),e=e.parentNode;return o}const fC=Wk(ug,uC);var bg=f.forwardRef(function(e,o){return f.createElement(pl,or({},e,{ref:o,sideCar:fC}))});bg.classNames=pl.classNames;var mC=function(e){if(typeof document>"u")return null;var o=Array.isArray(e)?e[0]:e;return o.ownerDocument.body},po=new WeakMap,hl=new WeakMap,gl={},Yd=0,wg=function(e){return e&&(e.host||wg(e.parentNode))},hC=function(e,o){return o.map(function(r){if(e.contains(r))return r;var a=wg(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},gC=function(e,o,r,a){var i=hC(o,Array.isArray(e)?e:[e]);gl[r]||(gl[r]=new WeakMap);var c=gl[r],d=[],u=new Set,m=new Set(i),h=function(j){!j||u.has(j)||(u.add(j),h(j.parentNode))};i.forEach(h);var g=function(j){!j||m.has(j)||Array.prototype.forEach.call(j.children,function(y){if(u.has(y))g(y);else try{var w=y.getAttribute(a),C=w!==null&&w!=="false",N=(po.get(y)||0)+1,k=(c.get(y)||0)+1;po.set(y,N),c.set(y,k),d.push(y),N===1&&C&&hl.set(y,!0),k===1&&y.setAttribute(r,"true"),C||y.setAttribute(a,"true")}catch(_){console.error("aria-hidden: cannot operate on ",y,_)}})};return g(o),u.clear(),Yd++,function(){d.forEach(function(j){var y=po.get(j)-1,w=c.get(j)-1;po.set(j,y),c.set(j,w),y||(hl.has(j)||j.removeAttribute(a),hl.delete(j)),w||j.removeAttribute(r)}),Yd--,Yd||(po=new WeakMap,po=new WeakMap,hl=new WeakMap,gl={})}},xC=function(e,o,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),i=mC(e);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),gC(a,i,r,"aria-hidden")):function(){return null}},xl="Dialog",[jg]=wa(xl),[yC,Bn]=jg(xl),Ng=e=>{const{__scopeDialog:o,children:r,open:a,defaultOpen:i,onOpenChange:c,modal:d=!0}=e,u=f.useRef(null),m=f.useRef(null),[h,g]=Od({prop:a,defaultProp:i??!1,onChange:c,caller:xl});return t.jsx(yC,{scope:o,triggerRef:u,contentRef:m,contentId:ll(),titleId:ll(),descriptionId:ll(),open:h,onOpenChange:g,onOpenToggle:f.useCallback(()=>g(j=>!j),[g]),modal:d,children:r})};Ng.displayName=xl;var kg="DialogTrigger",vC=f.forwardRef((e,o)=>{const{__scopeDialog:r,...a}=e,i=Bn(kg,r),c=hn(o,i.triggerRef);return t.jsx(Na.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Xd(i.open),...a,ref:c,onClick:Ot(e.onClick,i.onOpenToggle)})});vC.displayName=kg;var Gd="DialogPortal",[bC,Cg]=jg(Gd,{forceMount:void 0}),Sg=e=>{const{__scopeDialog:o,forceMount:r,children:a,container:i}=e,c=Bn(Gd,o);return t.jsx(bC,{scope:o,forceMount:r,children:f.Children.map(a,d=>t.jsx(ja,{present:r||c.open,children:t.jsx(og,{asChild:!0,container:i,children:d})}))})};Sg.displayName=Gd;var yl="DialogOverlay",Eg=f.forwardRef((e,o)=>{const r=Cg(yl,e.__scopeDialog),{forceMount:a=r.forceMount,...i}=e,c=Bn(yl,e.__scopeDialog);return c.modal?t.jsx(ja,{present:a||c.open,children:t.jsx(jC,{...i,ref:o})}):null});Eg.displayName=yl;var wC=ag("DialogOverlay.RemoveScroll"),jC=f.forwardRef((e,o)=>{const{__scopeDialog:r,...a}=e,i=Bn(yl,r);return t.jsx(bg,{as:wC,allowPinchZoom:!0,shards:[i.contentRef],children:t.jsx(Na.div,{"data-state":Xd(i.open),...a,ref:o,style:{pointerEvents:"auto",...a.style}})})}),xs="DialogContent",_g=f.forwardRef((e,o)=>{const r=Cg(xs,e.__scopeDialog),{forceMount:a=r.forceMount,...i}=e,c=Bn(xs,e.__scopeDialog);return t.jsx(ja,{present:a||c.open,children:c.modal?t.jsx(NC,{...i,ref:o}):t.jsx(kC,{...i,ref:o})})});_g.displayName=xs;var NC=f.forwardRef((e,o)=>{const r=Bn(xs,e.__scopeDialog),a=f.useRef(null),i=hn(o,r.contentRef,a);return f.useEffect(()=>{const c=a.current;if(c)return xC(c)},[]),t.jsx(Rg,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ot(e.onCloseAutoFocus,c=>{c.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ot(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0;(d.button===2||u)&&c.preventDefault()}),onFocusOutside:Ot(e.onFocusOutside,c=>c.preventDefault())})}),kC=f.forwardRef((e,o)=>{const r=Bn(xs,e.__scopeDialog),a=f.useRef(!1),i=f.useRef(!1);return t.jsx(Rg,{...e,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||r.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=c.target;r.triggerRef.current?.contains(d)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),Rg=f.forwardRef((e,o)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:c,...d}=e,u=Bn(xs,r),m=f.useRef(null),h=hn(o,m);return Tk(),t.jsxs(t.Fragment,{children:[t.jsx(eg,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:c,children:t.jsx(Xh,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Xd(u.open),...d,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(CC,{titleId:u.titleId}),t.jsx(EC,{contentRef:m,descriptionId:u.descriptionId})]})]})}),Kd="DialogTitle",Dg=f.forwardRef((e,o)=>{const{__scopeDialog:r,...a}=e,i=Bn(Kd,r);return t.jsx(Na.h2,{id:i.titleId,...a,ref:o})});Dg.displayName=Kd;var Tg="DialogDescription",Mg=f.forwardRef((e,o)=>{const{__scopeDialog:r,...a}=e,i=Bn(Tg,r);return t.jsx(Na.p,{id:i.descriptionId,...a,ref:o})});Mg.displayName=Tg;var Pg="DialogClose",$g=f.forwardRef((e,o)=>{const{__scopeDialog:r,...a}=e,i=Bn(Pg,r);return t.jsx(Na.button,{type:"button",...a,ref:o,onClick:Ot(e.onClick,()=>i.onOpenChange(!1))})});$g.displayName=Pg;function Xd(e){return e?"open":"closed"}var zg="DialogTitleWarning",[gR,Lg]=R2(zg,{contentName:xs,titleName:Kd,docsSlug:"dialog"}),CC=({titleId:e})=>{const o=Lg(zg),r=`\`${o.contentName}\` requires a \`${o.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${o.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${o.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},SC="DialogDescriptionWarning",EC=({contentRef:e,descriptionId:o})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lg(SC).contentName}}.`;return f.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");o&&i&&(document.getElementById(o)||console.warn(a))},[a,e,o]),null},_C=Ng,RC=Sg,Ig=Eg,Og=_g,Ag=Dg,Fg=Mg,DC=$g;const Wg=_C,TC=RC,Bg=f.forwardRef(({className:e,...o},r)=>t.jsx(Ig,{ref:r,className:fn("fixed inset-0 z-[100000] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...o}));Bg.displayName=Ig.displayName;const Qd=f.forwardRef(({className:e,children:o,...r},a)=>t.jsxs(TC,{children:[t.jsx(Bg,{}),t.jsxs(Og,{ref:a,className:fn("fixed left-[50%] top-[50%] z-[100000] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[o,t.jsxs(DC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(pt,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qd.displayName=Og.displayName;const Jd=({className:e,...o})=>t.jsx("div",{className:fn("flex flex-col space-y-1.5 text-center sm:text-left",e),...o});Jd.displayName="DialogHeader";const Hg=({className:e,...o})=>t.jsx("div",{className:fn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...o});Hg.displayName="DialogFooter";const Zd=f.forwardRef(({className:e,...o},r)=>t.jsx(Ag,{ref:r,className:fn("text-lg font-semibold leading-none tracking-tight",e),...o}));Zd.displayName=Ag.displayName;const eu=f.forwardRef(({className:e,...o},r)=>t.jsx(Fg,{ref:r,className:fn("text-sm text-muted-foreground",e),...o}));eu.displayName=Fg.displayName;var MC=Symbol.for("react.lazy"),vl=Pc[" use ".trim().toString()];function PC(e){return typeof e=="object"&&e!==null&&"then"in e}function Vg(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===MC&&"_payload"in e&&PC(e._payload)}function Ug(e){const o=zC(e),r=f.forwardRef((a,i)=>{let{children:c,...d}=a;Vg(c)&&typeof vl=="function"&&(c=vl(c._payload));const u=f.Children.toArray(c),m=u.find(IC);if(m){const h=m.props.children,g=u.map(j=>j===m?f.Children.count(h)>1?f.Children.only(null):f.isValidElement(h)?h.props.children:null:j);return t.jsx(o,{...d,ref:i,children:f.isValidElement(h)?f.cloneElement(h,void 0,g):null})}return t.jsx(o,{...d,ref:i,children:c})});return r.displayName=`${e}.Slot`,r}var $C=Ug("Slot");function zC(e){const o=f.forwardRef((r,a)=>{let{children:i,...c}=r;if(Vg(i)&&typeof vl=="function"&&(i=vl(i._payload)),f.isValidElement(i)){const d=AC(i),u=OC(c,i.props);return i.type!==f.Fragment&&(u.ref=a?jr(a,d):d),f.cloneElement(i,u)}return f.Children.count(i)>1?f.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var LC=Symbol("radix.slottable");function IC(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LC}function OC(e,o){const r={...o};for(const a in o){const i=e[a],c=o[a];/^on[A-Z]/.test(a)?i&&c?r[a]=(...u)=>{const m=c(...u);return i(...u),m}:i&&(r[a]=i):a==="style"?r[a]={...i,...c}:a==="className"&&(r[a]=[i,c].filter(Boolean).join(" "))}return{...e,...r}}function AC(e){let o=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning;return r?e.ref:(o=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const qg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Yg=pe,Gg=(e,o)=>r=>{var a;if(o?.variants==null)return Yg(e,r?.class,r?.className);const{variants:i,defaultVariants:c}=o,d=Object.keys(i).map(h=>{const g=r?.[h],j=c?.[h];if(g===null)return null;const y=qg(g)||qg(j);return i[h][y]}),u=r&&Object.entries(r).reduce((h,g)=>{let[j,y]=g;return y===void 0||(h[j]=y),h},{}),m=o==null||(a=o.compoundVariants)===null||a===void 0?void 0:a.reduce((h,g)=>{let{class:j,className:y,...w}=g;return Object.entries(w).every(C=>{let[N,k]=C;return Array.isArray(k)?k.includes({...c,...u}[N]):{...c,...u}[N]===k})?[...h,j,y]:h},[]);return Yg(e,d,m,r?.class,r?.className)},FC=Gg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-gray-200 bg-white hover:bg-gray-100 hover:text-gray-900",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ar=f.forwardRef(({className:e,variant:o,size:r,asChild:a=!1,...i},c)=>{const d=a?$C:"button";return t.jsx(d,{className:fn(FC({variant:o,size:r,className:e})),ref:c,...i})});ar.displayName="Button";const tu=f.forwardRef(({className:e,type:o,...r},a)=>t.jsx("input",{type:o,className:fn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));tu.displayName="Input";var WC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BC=WC.reduce((e,o)=>{const r=Ug(`Primitive.${o}`),a=f.forwardRef((i,c)=>{const{asChild:d,...u}=i,m=d?r:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...u,ref:c})});return a.displayName=`Primitive.${o}`,{...e,[o]:a}},{}),HC="Label",Kg=f.forwardRef((e,o)=>t.jsx(BC.label,{...e,ref:o,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Kg.displayName=HC;var Xg=Kg;const VC=Gg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fo=f.forwardRef(({className:e,...o},r)=>t.jsx(Xg,{ref:r,className:fn(VC(),e),...o}));fo.displayName=Xg.displayName;function UC(e){const o=qC(e),r=f.forwardRef((a,i)=>{const{children:c,...d}=a,u=f.Children.toArray(c),m=u.find(GC);if(m){const h=m.props.children,g=u.map(j=>j===m?f.Children.count(h)>1?f.Children.only(null):f.isValidElement(h)?h.props.children:null:j);return t.jsx(o,{...d,ref:i,children:f.isValidElement(h)?f.cloneElement(h,void 0,g):null})}return t.jsx(o,{...d,ref:i,children:c})});return r.displayName=`${e}.Slot`,r}function qC(e){const o=f.forwardRef((r,a)=>{const{children:i,...c}=r;if(f.isValidElement(i)){const d=XC(i),u=KC(c,i.props);return i.type!==f.Fragment&&(u.ref=a?jr(a,d):d),f.cloneElement(i,u)}return f.Children.count(i)>1?f.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var YC=Symbol("radix.slottable");function GC(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YC}function KC(e,o){const r={...o};for(const a in o){const i=e[a],c=o[a];/^on[A-Z]/.test(a)?i&&c?r[a]=(...u)=>{const m=c(...u);return i(...u),m}:i&&(r[a]=i):a==="style"?r[a]={...i,...c}:a==="className"&&(r[a]=[i,c].filter(Boolean).join(" "))}return{...e,...r}}function XC(e){let o=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning;return r?e.ref:(o=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var QC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bl=QC.reduce((e,o)=>{const r=UC(`Primitive.${o}`),a=f.forwardRef((i,c)=>{const{asChild:d,...u}=i,m=d?r:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...u,ref:c})});return a.displayName=`Primitive.${o}`,{...e,[o]:a}},{});function Qg(e){const o=JC(e),r=f.forwardRef((a,i)=>{const{children:c,...d}=a,u=f.Children.toArray(c),m=u.find(eS);if(m){const h=m.props.children,g=u.map(j=>j===m?f.Children.count(h)>1?f.Children.only(null):f.isValidElement(h)?h.props.children:null:j);return t.jsx(o,{...d,ref:i,children:f.isValidElement(h)?f.cloneElement(h,void 0,g):null})}return t.jsx(o,{...d,ref:i,children:c})});return r.displayName=`${e}.Slot`,r}function JC(e){const o=f.forwardRef((r,a)=>{const{children:i,...c}=r;if(f.isValidElement(i)){const d=nS(i),u=tS(c,i.props);return i.type!==f.Fragment&&(u.ref=a?jr(a,d):d),f.cloneElement(i,u)}return f.Children.count(i)>1?f.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var ZC=Symbol("radix.slottable");function eS(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZC}function tS(e,o){const r={...o};for(const a in o){const i=e[a],c=o[a];/^on[A-Z]/.test(a)?i&&c?r[a]=(...u)=>{const m=c(...u);return i(...u),m}:i&&(r[a]=i):a==="style"?r[a]={...i,...c}:a==="className"&&(r[a]=[i,c].filter(Boolean).join(" "))}return{...e,...r}}function nS(e){let o=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning;return r?e.ref:(o=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function rS(e){const o=e+"CollectionProvider",[r,a]=wa(o),[i,c]=r(o,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:k,children:_}=N,E=De.useRef(null),v=De.useRef(new Map).current;return t.jsx(i,{scope:k,itemMap:v,collectionRef:E,children:_})};d.displayName=o;const u=e+"CollectionSlot",m=Qg(u),h=De.forwardRef((N,k)=>{const{scope:_,children:E}=N,v=c(u,_),R=hn(k,v.collectionRef);return t.jsx(m,{ref:R,children:E})});h.displayName=u;const g=e+"CollectionItemSlot",j="data-radix-collection-item",y=Qg(g),w=De.forwardRef((N,k)=>{const{scope:_,children:E,...v}=N,R=De.useRef(null),z=hn(k,R),L=c(g,_);return De.useEffect(()=>(L.itemMap.set(R,{ref:R,...v}),()=>void L.itemMap.delete(R))),t.jsx(y,{[j]:"",ref:z,children:E})});w.displayName=g;function C(N){const k=c(e+"CollectionConsumer",N);return De.useCallback(()=>{const E=k.collectionRef.current;if(!E)return[];const v=Array.from(E.querySelectorAll(`[${j}]`));return Array.from(k.itemMap.values()).sort((L,A)=>v.indexOf(L.ref.current)-v.indexOf(A.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:d,Slot:h,ItemSlot:w},C,a]}function sS(e){const o=oS(e),r=f.forwardRef((a,i)=>{const{children:c,...d}=a,u=f.Children.toArray(c),m=u.find(iS);if(m){const h=m.props.children,g=u.map(j=>j===m?f.Children.count(h)>1?f.Children.only(null):f.isValidElement(h)?h.props.children:null:j);return t.jsx(o,{...d,ref:i,children:f.isValidElement(h)?f.cloneElement(h,void 0,g):null})}return t.jsx(o,{...d,ref:i,children:c})});return r.displayName=`${e}.Slot`,r}function oS(e){const o=f.forwardRef((r,a)=>{const{children:i,...c}=r;if(f.isValidElement(i)){const d=cS(i),u=lS(c,i.props);return i.type!==f.Fragment&&(u.ref=a?jr(a,d):d),f.cloneElement(i,u)}return f.Children.count(i)>1?f.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var aS=Symbol("radix.slottable");function iS(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aS}function lS(e,o){const r={...o};for(const a in o){const i=e[a],c=o[a];/^on[A-Z]/.test(a)?i&&c?r[a]=(...u)=>{const m=c(...u);return i(...u),m}:i&&(r[a]=i):a==="style"?r[a]={...i,...c}:a==="className"&&(r[a]=[i,c].filter(Boolean).join(" "))}return{...e,...r}}function cS(e){let o=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning;return r?e.ref:(o=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=o&&"isReactWarning"in o&&o.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jg=dS.reduce((e,o)=>{const r=sS(`Primitive.${o}`),a=f.forwardRef((i,c)=>{const{asChild:d,...u}=i,m=d?r:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...u,ref:c})});return a.displayName=`Primitive.${o}`,{...e,[o]:a}},{}),uS=f.createContext(void 0);function Zg(e){const o=f.useContext(uS);return e||o||"ltr"}var nu="rovingFocusGroup.onEntryFocus",pS={bubbles:!1,cancelable:!0},ka="RovingFocusGroup",[ru,ex,fS]=rS(ka),[mS,tx]=wa(ka,[fS]),[hS,gS]=mS(ka),nx=f.forwardRef((e,o)=>t.jsx(ru.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(ru.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(xS,{...e,ref:o})})}));nx.displayName=ka;var xS=f.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:i=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:m,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...j}=e,y=f.useRef(null),w=hn(o,y),C=Zg(c),[N,k]=Od({prop:d,defaultProp:u??null,onChange:m,caller:ka}),[_,E]=f.useState(!1),v=io(h),R=ex(r),z=f.useRef(!1),[L,A]=f.useState(0);return f.useEffect(()=>{const $=y.current;if($)return $.addEventListener(nu,v),()=>$.removeEventListener(nu,v)},[v]),t.jsx(hS,{scope:r,orientation:a,dir:C,loop:i,currentTabStopId:N,onItemFocus:f.useCallback($=>k($),[k]),onItemShiftTab:f.useCallback(()=>E(!0),[]),onFocusableItemAdd:f.useCallback(()=>A($=>$+1),[]),onFocusableItemRemove:f.useCallback(()=>A($=>$-1),[]),children:t.jsx(Jg.div,{tabIndex:_||L===0?-1:0,"data-orientation":a,...j,ref:w,style:{outline:"none",...e.style},onMouseDown:Ot(e.onMouseDown,()=>{z.current=!0}),onFocus:Ot(e.onFocus,$=>{const H=!z.current;if($.target===$.currentTarget&&H&&!_){const G=new CustomEvent(nu,pS);if($.currentTarget.dispatchEvent(G),!G.defaultPrevented){const se=R().filter(oe=>oe.focusable),de=se.find(oe=>oe.active),je=se.find(oe=>oe.id===N),Ne=[de,je,...se].filter(Boolean).map(oe=>oe.ref.current);ox(Ne,g)}}z.current=!1}),onBlur:Ot(e.onBlur,()=>E(!1))})})}),rx="RovingFocusGroupItem",sx=f.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:i=!1,tabStopId:c,children:d,...u}=e,m=ll(),h=c||m,g=gS(rx,r),j=g.currentTabStopId===h,y=ex(r),{onFocusableItemAdd:w,onFocusableItemRemove:C,currentTabStopId:N}=g;return f.useEffect(()=>{if(a)return w(),()=>C()},[a,w,C]),t.jsx(ru.ItemSlot,{scope:r,id:h,focusable:a,active:i,children:t.jsx(Jg.span,{tabIndex:j?0:-1,"data-orientation":g.orientation,...u,ref:o,onMouseDown:Ot(e.onMouseDown,k=>{a?g.onItemFocus(h):k.preventDefault()}),onFocus:Ot(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:Ot(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){g.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const _=bS(k,g.orientation,g.dir);if(_!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let v=y().filter(R=>R.focusable).map(R=>R.ref.current);if(_==="last")v.reverse();else if(_==="prev"||_==="next"){_==="prev"&&v.reverse();const R=v.indexOf(k.currentTarget);v=g.loop?wS(v,R+1):v.slice(R+1)}setTimeout(()=>ox(v))}}),children:typeof d=="function"?d({isCurrentTabStop:j,hasTabStop:N!=null}):d})})});sx.displayName=rx;var yS={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vS(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bS(e,o,r){const a=vS(e.key,r);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return yS[a]}function ox(e,o=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:o}),document.activeElement!==r))return}function wS(e,o){return e.map((r,a)=>e[(o+a)%e.length])}var jS=nx,NS=sx;function kS(e){const[o,r]=f.useState(void 0);return ao(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let d,u;if("borderBoxSize"in c){const m=c.borderBoxSize,h=Array.isArray(m)?m[0]:m;d=h.inlineSize,u=h.blockSize}else d=e.offsetWidth,u=e.offsetHeight;r({width:d,height:u})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),o}function CS(e){const o=f.useRef({value:e,previous:e});return f.useMemo(()=>(o.current.value!==e&&(o.current.previous=o.current.value,o.current.value=e),o.current.previous),[e])}var su="Radio",[SS,ax]=wa(su),[ES,_S]=SS(su),ix=f.forwardRef((e,o)=>{const{__scopeRadio:r,name:a,checked:i=!1,required:c,disabled:d,value:u="on",onCheck:m,form:h,...g}=e,[j,y]=f.useState(null),w=hn(o,k=>y(k)),C=f.useRef(!1),N=j?h||!!j.closest("form"):!0;return t.jsxs(ES,{scope:r,checked:i,disabled:d,children:[t.jsx(bl.button,{type:"button",role:"radio","aria-checked":i,"data-state":ux(i),"data-disabled":d?"":void 0,disabled:d,value:u,...g,ref:w,onClick:Ot(e.onClick,k=>{i||m?.(),N&&(C.current=k.isPropagationStopped(),C.current||k.stopPropagation())})}),N&&t.jsx(dx,{control:j,bubbles:!C.current,name:a,value:u,checked:i,required:c,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});ix.displayName=su;var lx="RadioIndicator",cx=f.forwardRef((e,o)=>{const{__scopeRadio:r,forceMount:a,...i}=e,c=_S(lx,r);return t.jsx(ja,{present:a||c.checked,children:t.jsx(bl.span,{"data-state":ux(c.checked),"data-disabled":c.disabled?"":void 0,...i,ref:o})})});cx.displayName=lx;var RS="RadioBubbleInput",dx=f.forwardRef(({__scopeRadio:e,control:o,checked:r,bubbles:a=!0,...i},c)=>{const d=f.useRef(null),u=hn(d,c),m=CS(r),h=kS(o);return f.useEffect(()=>{const g=d.current;if(!g)return;const j=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(j,"checked").set;if(m!==r&&w){const C=new Event("click",{bubbles:a});w.call(g,r),g.dispatchEvent(C)}},[m,r,a]),t.jsx(bl.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:u,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dx.displayName=RS;function ux(e){return e?"checked":"unchecked"}var DS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],wl="RadioGroup",[TS]=wa(wl,[tx,ax]),px=tx(),fx=ax(),[MS,PS]=TS(wl),mx=f.forwardRef((e,o)=>{const{__scopeRadioGroup:r,name:a,defaultValue:i,value:c,required:d=!1,disabled:u=!1,orientation:m,dir:h,loop:g=!0,onValueChange:j,...y}=e,w=px(r),C=Zg(h),[N,k]=Od({prop:c,defaultProp:i??null,onChange:j,caller:wl});return t.jsx(MS,{scope:r,name:a,required:d,disabled:u,value:N,onValueChange:k,children:t.jsx(jS,{asChild:!0,...w,orientation:m,dir:C,loop:g,children:t.jsx(bl.div,{role:"radiogroup","aria-required":d,"aria-orientation":m,"data-disabled":u?"":void 0,dir:C,...y,ref:o})})})});mx.displayName=wl;var hx="RadioGroupItem",gx=f.forwardRef((e,o)=>{const{__scopeRadioGroup:r,disabled:a,...i}=e,c=PS(hx,r),d=c.disabled||a,u=px(r),m=fx(r),h=f.useRef(null),g=hn(o,h),j=c.value===i.value,y=f.useRef(!1);return f.useEffect(()=>{const w=N=>{DS.includes(N.key)&&(y.current=!0)},C=()=>y.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",C)}},[]),t.jsx(NS,{asChild:!0,...u,focusable:!d,active:j,children:t.jsx(ix,{disabled:d,required:c.required,checked:j,...m,...i,name:c.name,ref:g,onCheck:()=>c.onValueChange(i.value),onKeyDown:Ot(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:Ot(i.onFocus,()=>{y.current&&h.current?.click()})})})});gx.displayName=hx;var $S="RadioGroupIndicator",xx=f.forwardRef((e,o)=>{const{__scopeRadioGroup:r,...a}=e,i=fx(r);return t.jsx(cx,{...i,...a,ref:o})});xx.displayName=$S;var yx=mx,vx=gx,zS=xx;const bx=f.forwardRef(({className:e,...o},r)=>t.jsx(yx,{className:fn("grid gap-2",e),...o,ref:r}));bx.displayName=yx.displayName;const ou=f.forwardRef(({className:e,...o},r)=>t.jsx(vx,{ref:r,className:fn("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...o,children:t.jsx(zS,{className:"flex items-center justify-center",children:t.jsx(O1,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ou.displayName=vx.displayName;function wx({open:e,onOpenChange:o}){const{activeEmailId:r,emails:a}=Zs(),i=a.find(N=>N.id===r),[c,d]=f.useState("dummy"),[u,m]=f.useState(""),[h,g]=f.useState(()=>window.sfuiData?.currentUserEmail||""),[j,y]=f.useState({type:null,message:""}),w=f.useCallback(async()=>{if(!h){y({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)){y({type:"error",message:"Please enter a valid email address"});return}if(!i){y({type:"error",message:"No email selected"});return}const{formId:k,ajaxUrl:_,nonce:E}=window.sfuiData||{};if(!_||!E){y({type:"error",message:"WordPress context not available"});return}y({type:"loading",message:"Sending test email..."});try{const v={from:i.from_email||"",from_name:i.from_name||"",reply:i.reply_to?.email||"",reply_name:i.reply_to?.name||"",cc:i.cc||"",bcc:i.bcc||"",subject:i.subject||"Test Email",body:i.body||"",attachments:i.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},R=new FormData;R.append("action","super_send_test_email"),R.append("nonce",E),R.append("form_id",k||0),R.append("data_type",c),R.append("entry_id",c==="entry"?u:""),R.append("test_recipient",h),Object.entries(v).forEach(([A,$])=>{Array.isArray($)?$.forEach((H,G)=>{R.append(`email_settings[${A}][${G}]`,H)}):R.append(`email_settings[${A}]`,String($))});const L=await(await fetch(_,{method:"POST",body:R,credentials:"same-origin"})).json();L.success?(y({type:"success",message:L.data?.message||"Test email sent!"}),setTimeout(()=>{o(!1),y({type:null,message:""})},2e3)):y({type:"error",message:L.data?.message||"Failed to send test email"})}catch(v){console.error("Test email error:",v),y({type:"error",message:"Network error - please try again"})}},[i,c,u,h,o]),C=f.useCallback(N=>{N||y({type:null,message:""}),o(N)},[o]);return t.jsx(Wg,{open:e,onOpenChange:C,children:t.jsxs(Qd,{className:"sm:max-w-md",children:[t.jsxs(Jd,{children:[t.jsx(Zd,{children:"Send Test Email"}),t.jsx(eu,{children:"Send a test version of this email to verify it looks correct."})]}),t.jsxs("div",{"data-testid":"recipient-section",className:"grid gap-2",children:[t.jsx(fo,{htmlFor:"test-recipient",children:"Recipient Email"}),t.jsx(tu,{id:"test-recipient","data-testid":"test-recipient-input",type:"email",value:h,onChange:N=>g(N.target.value),placeholder:"recipient@example.com"})]}),t.jsxs("div",{"data-testid":"data-source-section",className:"grid gap-2",children:[t.jsx(fo,{children:"Test Data Source"}),t.jsxs(bx,{value:c,onValueChange:d,className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ou,{value:"dummy",id:"dummy-data","data-testid":"dummy-data-radio"}),t.jsx(fo,{htmlFor:"dummy-data",className:"font-normal cursor-pointer",children:"Dummy data"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ou,{value:"entry",id:"entry-data","data-testid":"entry-data-radio"}),t.jsx(fo,{htmlFor:"entry-data",className:"font-normal cursor-pointer",children:"Entry data"})]})]})]}),c==="entry"&&t.jsxs("div",{"data-testid":"entry-id-section",className:"grid gap-2",children:[t.jsx(fo,{htmlFor:"entry-id",children:"Entry ID"}),t.jsx(tu,{id:"entry-id","data-testid":"entry-id-input",type:"number",value:u,onChange:N=>m(N.target.value),placeholder:"Leave empty for latest entry",min:1})]}),j.type&&t.jsxs("div",{"data-testid":"status-message",className:fn("flex items-center gap-2 p-3 rounded-md text-sm",j.type==="loading"&&"bg-blue-50 text-blue-700",j.type==="success"&&"bg-green-50 text-green-700",j.type==="error"&&"bg-red-50 text-red-700"),children:[j.type==="loading"&&t.jsx(Li,{className:"w-4 h-4 animate-spin"}),j.type==="success"&&t.jsx(sa,{className:"w-4 h-4"}),j.type==="error"&&t.jsx(ms,{className:"w-4 h-4"}),t.jsx("span",{children:j.message})]}),t.jsxs(Hg,{className:"sm:justify-start",children:[t.jsxs(ar,{"data-testid":"send-test-btn",onClick:w,disabled:j.type==="loading",children:[j.type==="loading"?t.jsx(Li,{className:"w-4 h-4 animate-spin"}):t.jsx(ia,{className:"w-4 h-4"}),t.jsx("span",{children:"Send Test"})]}),t.jsx(ar,{"data-testid":"cancel-btn",type:"button",variant:"secondary",onClick:()=>C(!1),disabled:j.type==="loading",children:"Close"})]})]})})}function au({email:e,isMobile:o,isBuilder:r,renderBody:a,updateEmailField:i,activeEmailId:c,isHtmlMode:d,onModeChange:u,onShowTestEmail:m}){const h=e.from_name||"Sender Name",g=e.from_email||"sender@example.com",j=e.subject||"Email Subject",y=e.to||"recipient@example.com",w=e.cc||"",C=e.bcc||"",[N,k]=f.useState(!1),_=new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),E=f.useCallback((v,R)=>{i&&c&&i(c,v,R)},[i,c]);return o?t.jsxs("div",{"data-testid":"gmail-chrome-mobile",className:"h-full bg-white flex flex-col max-w-md mx-auto",children:[t.jsx("div",{"data-testid":"mobile-header",className:"bg-white border-b px-4 py-3",children:t.jsxs("div",{"data-testid":"mobile-header-nav",className:"flex items-center justify-between",children:[t.jsx("button",{"data-testid":"mobile-back-btn",className:"p-2",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsxs("div",{"data-testid":"mobile-header-actions",className:"flex gap-4",children:[r&&t.jsx(ar,{"data-testid":"mobile-reply-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Send Test Email",onClick:()=>k(!0),children:t.jsx(Oi,{className:"w-4 h-4"})}),t.jsx(ar,{"data-testid":"mobile-label-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Label",children:t.jsx(Or,{className:"w-4 h-4"})}),t.jsx(ar,{"data-testid":"mobile-more-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"More options",children:t.jsx(nm,{className:"w-4 h-4"})})]})]})}),t.jsx("div",{"data-testid":"mobile-content-scroll",className:"flex-1 overflow-auto",children:t.jsxs("div",{"data-testid":"mobile-content-inner",className:"p-4",children:[r?t.jsx(so,{"data-testid":"mobile-subject-field",value:e.subject,onChange:v=>E("subject",v),placeholder:"Email Subject",className:"text-lg font-normal text-gray-900 mb-4",noPadding:!0}):t.jsx("h2",{"data-testid":"mobile-subject-display",className:"text-lg font-normal text-gray-900 mb-4",children:j}),t.jsxs("div",{"data-testid":"mobile-sender-section",className:"flex items-start gap-5 mb-4",children:[t.jsx("div",{"data-testid":"mobile-sender-avatar",className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600",children:t.jsx(ca,{className:"w-6 h-6"})}),t.jsxs("div",{"data-testid":"mobile-sender-details",className:"flex-1",children:[t.jsxs("div",{"data-testid":"mobile-sender-row",className:"flex items-center gap-2",children:[r?t.jsx(so,{"data-testid":"mobile-from-name-field",value:e.from_name,onChange:v=>E("from_name",v),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}):t.jsx("span",{"data-testid":"mobile-from-name-display",className:"font-medium text-gray-900",children:h}),t.jsx("span",{"data-testid":"mobile-date",className:"text-xs text-gray-500",children:_})]}),t.jsx("div",{"data-testid":"mobile-recipients-list",className:"text-sm text-gray-600 space-y-2 mt-2",children:r?t.jsxs(t.Fragment,{children:[t.jsxs("div",{"data-testid":"mobile-to-row",className:"flex items-center",children:[t.jsx("span",{"data-testid":"mobile-to-label",className:"inline-block w-12 text-gray-500 font-medium",children:"To"}),t.jsx("div",{"data-testid":"mobile-to-field-wrapper",className:"flex-1",children:t.jsx(oo,{"data-testid":"mobile-to-field",value:e.to||"",onChange:v=>E("to",v),placeholder:"Add recipients..."})})]}),t.jsxs("div",{"data-testid":"mobile-cc-row",className:"flex items-center",children:[t.jsx("span",{"data-testid":"mobile-cc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Cc"}),t.jsx("div",{"data-testid":"mobile-cc-field-wrapper",className:"flex-1",children:t.jsx(oo,{"data-testid":"mobile-cc-field",value:e.cc||"",onChange:v=>E("cc",v),placeholder:"Add Cc..."})})]}),t.jsxs("div",{"data-testid":"mobile-bcc-row",className:"flex items-center",children:[t.jsx("span",{"data-testid":"mobile-bcc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Bcc"}),t.jsx("div",{"data-testid":"mobile-bcc-field-wrapper",className:"flex-1",children:t.jsx(oo,{"data-testid":"mobile-bcc-field",value:e.bcc||"",onChange:v=>E("bcc",v),placeholder:"Add Bcc..."})})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{"data-testid":"mobile-to-display",children:["to ",y]}),w&&t.jsxs("div",{"data-testid":"mobile-cc-display",children:["cc: ",w]}),C&&t.jsxs("div",{"data-testid":"mobile-bcc-display",children:["bcc: ",C]})]})})]})]}),t.jsxs("div",{"data-testid":"mobile-attachments-mode-row",className:"flex items-center justify-between gap-2 px-2",children:[t.jsx(Uh,{attachments:e.attachments||[],onChange:v=>E("attachments",v),isBuilder:r}),r&&u&&t.jsxs("div",{"data-testid":"mobile-mode-toggle",className:"flex items-center gap-0.5 bg-gray-100 rounded-md p-0.5",children:[t.jsx("button",{"data-testid":"mobile-visual-mode-btn",onClick:()=>!d||u("visual"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"text-gray-500":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:t.jsx(Zn,{className:"w-3 h-3"})}),t.jsx("button",{"data-testid":"mobile-html-mode-btn",onClick:()=>d||u("html"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"bg-white text-gray-900 shadow-sm":"text-gray-500"),title:"HTML Editor",children:t.jsx(It,{className:"w-3 h-3"})})]})]}),t.jsx("div",{"data-testid":"mobile-email-container",className:"bg-white p-2",children:t.jsx("div",{"data-testid":"mobile-email-body",className:"bg-white min-h-[200px] p-0",children:r&&a?a():t.jsx(Hh,{email:e})})})]})}),r&&t.jsx(wx,{open:N,onOpenChange:k})]}):t.jsxs("div",{"data-testid":"gmail-chrome-desktop",className:"h-full bg-white flex flex-col",children:[t.jsx("div",{"data-testid":"gmail-header",className:"border-b border-gray-200 bg-white",children:t.jsx("div",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-start gap-5",children:[t.jsx("div",{"data-testid":"sender-avatar",className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 flex-shrink-0",children:t.jsx(ca,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{"data-testid":"subject-row",className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[r?t.jsx(so,{"data-testid":"subject-field",value:e.subject,onChange:v=>E("subject",v),placeholder:"Email Subject",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},noPadding:!0}):t.jsx("h1",{"data-testid":"subject-display",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},children:j}),t.jsx("span",{"data-testid":"inbox-label",className:"px-2 py-0.5 bg-gray-100 text-xs text-gray-600 rounded",children:"Inbox"}),(e.scheduled_date||e.schedule)&&t.jsx(Bh,{scheduledDate:e.scheduled_date,schedule:e.schedule})]}),t.jsxs("div",{"data-testid":"subject-row-actions",className:"flex items-center gap-2",children:[t.jsx(ar,{"data-testid":"label-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Label",children:t.jsx(Or,{className:"w-4 h-4"})}),t.jsx(ar,{"data-testid":"more-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"More options",children:t.jsx(nm,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{"data-testid":"from-to-section",className:"flex items-center justify-between mt-2",children:[t.jsxs("div",{"data-testid":"sender-recipients",children:[t.jsx("div",{"data-testid":"from-row",className:"flex items-center pb-8",children:r?t.jsxs(t.Fragment,{children:[t.jsx(so,{"data-testid":"from-name-field",value:e.from_name,onChange:v=>E("from_name",v),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}),t.jsx("span",{className:"text-sm text-gray-600 ml-2.5",children:"<"}),t.jsx(so,{"data-testid":"from-email-field",value:e.from_email,onChange:v=>E("from_email",v),placeholder:"sender@example.com",type:"email",className:"text-sm text-gray-600",noPadding:!0}),t.jsx("span",{className:"text-sm text-gray-600",children:">"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{"data-testid":"from-name-display",className:"font-medium text-gray-900",children:h}),t.jsxs("span",{"data-testid":"from-email-display",className:"text-sm text-gray-600",children:["<",g,">"]})]})}),t.jsx("div",{"data-testid":"recipients-list",className:"text-sm text-gray-600 border-t border-gray-200",children:r?t.jsxs(t.Fragment,{children:[t.jsxs("div",{"data-testid":"to-row",className:"flex items-center",children:[t.jsx("span",{"data-testid":"to-label",className:"inline-block w-12 text-gray-500 font-medium",children:"To"}),t.jsx("div",{"data-testid":"to-field-wrapper",className:"flex-1",children:t.jsx(oo,{"data-testid":"to-field",value:e.to||"",onChange:v=>E("to",v),placeholder:"Add recipients..."})})]}),t.jsxs("div",{"data-testid":"cc-row",className:"flex items-center border-t border-gray-200",children:[t.jsx("span",{"data-testid":"cc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Cc"}),t.jsx("div",{"data-testid":"cc-field-wrapper",className:"flex-1",children:t.jsx(oo,{"data-testid":"cc-field",value:e.cc||"",onChange:v=>E("cc",v),placeholder:"Add Cc recipients..."})})]}),t.jsxs("div",{"data-testid":"bcc-row",className:"flex items-center border-t border-gray-200",children:[t.jsx("span",{"data-testid":"bcc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Bcc"}),t.jsx("div",{"data-testid":"bcc-field-wrapper",className:"flex-1",children:t.jsx(oo,{"data-testid":"bcc-field",value:e.bcc||"",onChange:v=>E("bcc",v),placeholder:"Add Bcc recipients..."})})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{"data-testid":"to-display",className:"py-1",children:["to ",y]}),w&&t.jsxs("div",{"data-testid":"cc-display",className:"py-1 border-t border-gray-200",children:["cc: ",w]}),C&&t.jsxs("div",{"data-testid":"bcc-display",className:"py-1 border-t border-gray-200",children:["bcc: ",C]})]})})]}),t.jsxs("div",{"data-testid":"header-actions",className:"flex items-center gap-2",children:[t.jsx("div",{"data-testid":"email-date",className:"text-sm text-gray-500",children:_}),t.jsx(ar,{"data-testid":"star-btn",variant:"outline",size:"icon",className:"h-8",disabled:!0,children:t.jsx(wm,{className:"w-4 h-4"})}),r&&t.jsx(ar,{"data-testid":"reply-header-btn",variant:"outline",size:"icon",className:"h-8",onClick:()=>k(!0),title:"Send Test Email",children:t.jsx(Oi,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{"data-testid":"attachments-mode-row",className:"flex items-center justify-between gap-4 mt-2",children:[t.jsx(Uh,{attachments:e.attachments||[],onChange:v=>E("attachments",v),isBuilder:r}),r&&u&&t.jsxs("div",{"data-testid":"mode-toggle",className:"flex items-center gap-1",children:[t.jsxs(sr,{"data-testid":"visual-mode-btn",variant:d?"outline":"outlineActive",size:"sm",onClick:()=>!d||u("visual"),title:"Visual Builder",children:[t.jsx(Zn,{className:"w-4 h-4"}),t.jsx("span",{children:"Visual"})]}),t.jsxs(sr,{"data-testid":"html-mode-btn",variant:d?"outlineActive":"outline",size:"sm",onClick:()=>d||u("html"),title:"HTML Editor",children:[t.jsx(It,{className:"w-4 h-4"}),t.jsx("span",{children:"HTML"})]})]})]})]})]})})}),t.jsx("div",{"data-testid":"email-content-scroll",className:"flex-1 overflow-auto",children:t.jsxs("div",{"data-testid":"email-content-container",className:"max-w-[1000px] mx-auto bg-white",children:[t.jsx("div",{"data-testid":"email-body",className:"bg-white min-h-[200px] p-0",children:r&&a?a():t.jsx(Hh,{email:e})}),t.jsx("div",{"data-testid":"reply-section",className:"border-t border-gray-200 pt-6 pl-6",children:t.jsx("div",{className:"flex gap-3",children:r?t.jsxs(t.Fragment,{children:[t.jsxs(sr,{"data-testid":"reply-btn",variant:"pill",onClick:()=>k(!0),children:[t.jsx(Oi,{className:"w-4 h-4"}),"Reply"]}),t.jsxs(sr,{"data-testid":"forward-btn",variant:"pill",onClick:()=>k(!0),children:[t.jsx(sm,{className:"w-4 h-4"}),"Forward"]})]}):t.jsxs(t.Fragment,{children:[t.jsxs(sr,{"data-testid":"reply-btn",variant:"pill",disabled:!0,children:[t.jsx(Oi,{className:"w-4 h-4"}),"Reply"]}),t.jsxs(sr,{"data-testid":"forward-btn",variant:"pill",disabled:!0,children:[t.jsx(sm,{className:"w-4 h-4"}),"Forward"]})]})})})]})}),r&&t.jsx(wx,{open:N,onOpenChange:k})]})}const rt=Hi((e,o)=>({elements:[],selectedElementId:null,isDragging:!1,draggedElement:null,editingTextElementId:null,currentTemplate:null,savedTemplates:[],templateCategories:[{id:"welcome",name:"Welcome/Onboarding",count:5},{id:"transactional",name:"Transactional",count:5},{id:"newsletter",name:"Newsletter",count:5},{id:"notification",name:"Notification",count:5},{id:"minimal",name:"Minimal",count:3}],previewClient:"gmail-desktop",previewData:{},elementTypes:{emailWrapper:{id:"emailWrapper",name:"Email Wrapper",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{backgroundColor:"#f5f5f5"}},emailContainer:{id:"emailContainer",name:"Email Container",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{width:"600px",margin:{top:50,right:"auto",bottom:50,left:"auto"},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#e5e5e5",padding:{top:60,right:30,bottom:60,left:30},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",boxShadow:"none",borderRadius:0}},section:{id:"section",name:"Section",icon:"",defaultProps:{margin:{top:0,right:0,bottom:0,left:0},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#000000",padding:{top:20,right:20,bottom:20,left:20},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",fullWidth:!1}},columns:{id:"columns",name:"Columns",icon:"",defaultProps:{columns:2,gap:20,stackOnMobile:!0}},text:{id:"text",name:"Text",icon:"",defaultProps:{content:"Click to edit this text...",fontSize:16,fontFamily:"Arial, sans-serif",color:"#333333",lineHeight:1.6,align:"left",width:"100%",margin:{top:0,right:0,bottom:0,left:0},padding:{top:0,right:0,bottom:0,left:0}}},image:{id:"image",name:"Image",icon:"",defaultProps:{src:"",alt:"",width:"100%",height:"auto",align:"center",link:""}},button:{id:"button",name:"Button",icon:"",defaultProps:{text:"Click Here",href:"#",backgroundColor:"#0066cc",color:"#ffffff",fontSize:16,fontWeight:"bold",padding:{top:12,right:24,bottom:12,left:24},borderRadius:4,align:"center",fullWidth:!1}},divider:{id:"divider",name:"Divider",icon:"",defaultProps:{height:1,color:"#dddddd",style:"solid",margin:{top:20,bottom:20}}},spacer:{id:"spacer",name:"Spacer",icon:"",defaultProps:{height:20}},social:{id:"social",name:"Social Icons",icon:"",defaultProps:{icons:["facebook","twitter","instagram","linkedin"],iconSize:32,iconColor:"#333333",spacing:10,align:"center"}},formData:{id:"formData",name:"Form Data",icon:"",defaultProps:{field:"",fallback:"",format:"text"}},html:{id:"html",name:"HTML",icon:"</>",defaultProps:{content:"<p>Your HTML content here...</p>"}}},addElement:(r,a=null,i=null)=>{console.log(" addElement called:",{type:r,parentId:a,position:i});const{elementTypes:c}=o(),d=c[r];if(!d){console.error(" Element type not found:",r);return}if(d.isSystemElement){console.log(" Skipping system element creation:",r);return}const u={id:gt(),type:r,props:{...d.defaultProps},children:[]};return console.log(" Created new element:",u),e(m=>{console.log(" Current state before adding:",m.elements);const h=o().ensureSystemElements(m.elements);if(console.log(" State after ensuring system elements:",h),a){console.log(" Adding to parent:",a);const g={elements:mo(h,a,u,i)};return console.log(" Final state after addToParent:",g.elements),g}else{console.log(" Adding to root - finding email container...");const g=(y,w)=>{for(const C of y){if(C.type===w)return C;if(C.children&&C.children.length>0){const N=g(C.children,w);if(N)return N}}return null},j=g(h,"emailContainer");if(console.log(" Found email container:",j),j){console.log(" Adding to email container:",j.id);const y={elements:mo(h,j.id,u,i)};return console.log(" Final state after addToParent to container:",y.elements),y}else{console.log(" No email container found, adding to root");const y=[...h];return i!==null?y.splice(i,0,u):y.push(u),console.log(" Final state (root fallback):",y),{elements:y}}}}),console.log(" addElement completed, returning:",u.id),u.id},updateElement:(r,a)=>{e(i=>({elements:lu(i.elements,r,a)}))},deleteElement:r=>{e(a=>({elements:Nl(a.elements,r),selectedElementId:a.selectedElementId===r?null:a.selectedElementId}))},moveElement:(r,a,i)=>{e(c=>{let d=[...c.elements],u=null;if(d=Nl(d,r,m=>{u=m}),!u)return c;if(u.type==="emailWrapper"||u.type==="emailContainer")return console.log(" Cannot move system elements"),c;if(a)d=mo(d,a,u,i);else{const m=(g,j)=>{for(const y of g){if(y.type===j)return y;if(y.children&&y.children.length>0){const w=m(y.children,j);if(w)return w}}return null},h=m(d,"emailContainer");if(h)console.log(" Moving to email container:",h.id),d=mo(d,h.id,u,i);else return console.log(" No email container found, cannot add element"),c}return{elements:d}})},selectElement:r=>{console.log("selectElement called with id:",r),e({selectedElementId:r}),console.log("selectedElementId set to:",r)},clearCanvas:()=>{e({elements:[],selectedElementId:null})},setElements:r=>{const a=o().ensureSystemElements(r||[]);e({elements:a})},ensureSystemElements:r=>{const{elementTypes:a}=o();let i=[...r];const c=(h,g)=>{for(const j of h){if(j.type===g)return j;if(j.children&&j.children.length>0){const y=c(j.children,g);if(y)return y}}return null};let d=i.find(h=>h.type==="emailWrapper");d||(d={id:`email-wrapper-${Date.now()}`,type:"emailWrapper",props:{...a.emailWrapper.defaultProps},children:[]},i.unshift(d));let u=c([d],"emailContainer");u||(u={id:`email-container-${Date.now()}`,type:"emailContainer",props:{...a.emailContainer.defaultProps},children:[]},d.children.unshift(u));const m=i.filter(h=>h.type!=="emailWrapper");return m.length>0&&(u.children.push(...m),i=i.filter(h=>h.type==="emailWrapper")),i},saveAsTemplate:(r,a,i)=>{const{elements:c}=o(),d={id:gt(),name:r,description:a,category:i,elements:JSON.parse(JSON.stringify(c)),createdAt:new Date().toISOString(),thumbnail:null};return e(u=>({savedTemplates:[...u.savedTemplates,d]})),d},loadTemplate:r=>{const{savedTemplates:a}=o(),i=a.find(c=>c.id===r);i&&e({elements:JSON.parse(JSON.stringify(i.elements)),currentTemplate:i,selectedElementId:null})},deleteTemplate:r=>{e(a=>({savedTemplates:a.savedTemplates.filter(i=>i.id!==r)}))},generateHtml:()=>{const{elements:r}=o();return LS(r)},startDrag:r=>{e({isDragging:!0,draggedElement:r})},endDrag:()=>{e({isDragging:!1,draggedElement:null})},setEditingTextElement:r=>{e({editingTextElementId:r})},moveElementUpDown:(r,a)=>{const i=o(),c=iu(i.elements,r);if(!c){console.log("Element not found:",r);return}const{parent:d,parentId:u,position:m}=c,h=d?d.children:i.elements,g=a==="up"?m-1:m+1;if(g<0||g>=h.length){console.log("Cannot move element beyond bounds");return}const j=u||null;o().moveElement(r,j,g)}})),jl=(e,o)=>{for(const r of e){if(r.id===o)return r;if(r.children&&r.children.length>0)if(r.type==="columns")for(const a of r.children){const i=jl(a.children||[],o);if(i)return i}else{const a=jl(r.children,o);if(a)return a}}return null},iu=(e,o,r=null,a=null)=>{for(let i=0;i<e.length;i++){const c=e[i];if(c.id===o)return{parent:r,parentId:a,position:i};if(c.children&&c.children.length>0)if(c.type==="columns")for(const d of c.children){const u=iu(d.children||[],o,d,d.id);if(u)return u}else{const d=iu(c.children,o,c,c.id);if(d)return d}}return null},ys=()=>{const e=rt(v=>v.selectElement),o=rt(v=>v.updateElement),r=rt(v=>v.addElement),a=rt(v=>v.deleteElement),i=rt(v=>v.moveElement),c=rt(v=>v.setElements),d=rt(v=>v.clearCanvas),u=rt(v=>v.generateHtml),m=rt(v=>v.startDrag),h=rt(v=>v.endDrag),g=rt(v=>v.setEditingTextElement),j=rt(v=>v.moveElementUpDown),y=rt(v=>v.selectedElementId),w=rt(v=>v.isDragging),C=rt(v=>v.draggedElement),N=rt(v=>v.elementTypes),k=rt(v=>v.editingTextElementId),_=rt(v=>v.elements),E=f.useMemo(()=>y?jl(_,y):null,[y,_]);return{elements:_,selectedElementId:y,selectedElement:E,isDragging:w,draggedElement:C,elementTypes:N,editingTextElementId:k,selectElement:e,updateElement:o,addElement:r,deleteElement:a,moveElement:i,setElements:c,clearCanvas:d,generateHtml:u,startDrag:m,endDrag:h,setEditingTextElement:g,moveElementUpDown:j}};ys.getState=()=>{const e=rt.getState(),o=e.selectedElementId?jl(e.elements,e.selectedElementId):null;return{...e,selectedElement:o}};function mo(e,o,r,a){if(console.log(" addToParent called:",{parentId:o,newElement:r,position:a}),console.log(" Elements structure:",e),o&&o.includes("-col-")){const[i,,c]=o.split("-"),d=parseInt(c);return e.map(u=>{if(u.id===i&&u.type==="columns"){const m=[...u.children||[]];for(;m.length<=d;)m.push({type:"column",children:[]});const h=[...m[d]?.children||[]];return a!=null?h.splice(a,0,r):h.push(r),m[d]={type:"column",children:h},{...u,children:m}}return u.children&&u.children.length>0?{...u,children:mo(u.children,o,r,a)}:u})}return e.map(i=>{if(i.id===o){console.log(" Found target parent element:",i);const c=[...i.children];a!=null?(c.splice(a,0,r),console.log(" Added at position",a,"- new children:",c)):(c.push(r),console.log(" Added at end - new children:",c));const d={...i,children:c};return console.log(" Updated parent element:",d),d}return i.children&&i.children.length>0?{...i,children:mo(i.children,o,r,a)}:i})}function lu(e,o,r){return e.map(a=>a.id===o?typeof r=="function"?r(a):{...a,...r}:a.children&&a.children.length>0?a.type==="columns"?{...a,children:a.children.map(i=>({...i,children:lu(i.children||[],o,r)}))}:{...a,children:lu(a.children,o,r)}:a)}function Nl(e,o,r){return e.filter(a=>a.id===o?(r&&r(a),!1):(a.children&&a.children.length>0&&(a.type==="columns"?a.children=a.children.map(i=>({...i,children:Nl(i.children||[],o,r)})):a.children=Nl(a.children,o,r)),!0))}function LS(e){const o=a=>{switch(a.type){case"section":const i=a.props.margin||{top:0,right:0,bottom:0,left:0},c=a.props.border||{top:0,right:0,bottom:0,left:0},d=a.props.borderStyle||"solid",u=a.props.borderColor||"#000000",m=i.top||i.bottom?`<tr><td style="padding: ${i.top}px ${i.right}px ${i.bottom}px ${i.left}px;"></td></tr>`:"",h=a.props.backgroundImage?`background-image: url('${a.props.backgroundImage}'); background-size: ${a.props.backgroundSize||"cover"}; background-position: ${a.props.backgroundPosition||"center"}; background-repeat: ${a.props.backgroundRepeat||"no-repeat"};`:"",j=c.top>0||c.right>0||c.bottom>0||c.left>0?`border-top: ${c.top}px ${d} ${u}; border-right: ${c.right}px ${d} ${u}; border-bottom: ${c.bottom}px ${d} ${u}; border-left: ${c.left}px ${d} ${u};`:"";return`${m}<tr><td style="padding: ${a.props.padding.top}px ${a.props.padding.right}px ${a.props.padding.bottom}px ${a.props.padding.left}px; background-color: ${a.props.backgroundColor}; ${h} ${j}">
          ${a.children.map(o).join("")}
        </td></tr>`;case"text":return`<div style="font-size: ${a.props.fontSize}px; color: ${a.props.color}; text-align: ${a.props.align}; line-height: ${a.props.lineHeight};">
          ${a.props.content}
        </div>`;case"button":return`<div style="text-align: ${a.props.align};">
          <a href="${a.props.href}" style="display: inline-block; background-color: ${a.props.backgroundColor}; color: ${a.props.color}; padding: ${a.props.padding.top}px ${a.props.padding.right}px ${a.props.padding.bottom}px ${a.props.padding.left}px; text-decoration: none; border-radius: ${a.props.borderRadius}px; font-size: ${a.props.fontSize}px; font-weight: ${a.props.fontWeight};">
            ${a.props.text}
          </a>
        </div>`;case"html":return a.props.content||"";default:return""}};return`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f4f4f4;">
  <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="min-width: 100%;">
    <tr>
      <td align="center">
        <!--[if mso]>
        <table role="presentation" width="600" cellpadding="0" cellspacing="0">
        <tr>
        <td>
        <![endif]-->
        
        <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
          ${e.map(o).join("")}
        </table>
        
        <!--[if mso]>
        </td>
        </tr>
        </table>
        <![endif]-->
      </td>
    </tr>
  </table>
</body>
</html>`}const IS={section:na,columns:nd,text:Js,image:od,button:bm,divider:cm,spacer:dm,social:gm,formData:Ni,html:It};function OS({element:e}){const{attributes:o,listeners:r,setNodeRef:a,isDragging:i}=Pd({id:`palette-${e.id}`,data:{type:"new-element",elementType:e.id}}),c=IS[e.id]||na;return t.jsxs("div",{ref:a,...r,...o,className:pe("flex flex-col items-center justify-center p-3 cursor-move","hover:bg-gray-100 transition-colors rounded-lg group",i&&"opacity-50"),title:e.name,children:[t.jsx(c,{className:"w-5 h-5 mb-1 text-gray-600 group-hover:text-gray-800"}),t.jsx("span",{className:"text-xs text-gray-600 text-center leading-tight group-hover:text-gray-800",children:e.name})]})}function AS(){const{elementTypes:e}=ys(),o=[{name:"Layout",elements:["section","columns","spacer"]},{name:"Content",elements:["text","image","button","divider","html"]},{name:"Dynamic",elements:["formData","social"]}];return t.jsx("div",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("div",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Elements:"}),t.jsx("div",{className:"flex items-center gap-6 overflow-x-auto",children:o.map((r,a)=>t.jsxs(De.Fragment,{children:[a>0&&t.jsx("div",{className:"h-8 w-px bg-gray-300"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-xs text-gray-500 uppercase mr-2",children:r.name}),r.elements.map(i=>{const c=e[i];return c?t.jsx(OS,{element:c},c.id):null})]})]},r.name))}),t.jsx("div",{className:"ml-auto text-xs text-gray-500 whitespace-nowrap",children:"Drag to add"})]})})}const FS={emailWrapper:{resizable:!1,background:{color:!0,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,canDelete:!1,isSystemElement:!0,backgroundOnly:!0},display:{showInBuilder:!0,selectable:!0}},emailContainer:{resizable:!1,background:{color:!0,image:!0},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{canDelete:!1,isSystemElement:!0,droppable:!0,widthOptions:["600px","700px"]},effects:{borderRadius:!0,shadow:!0},display:{showInBuilder:!0,selectable:!0}},text:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0,lineHeight:!0,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},display:{showInBuilder:!0,selectable:!0}},button:{resizable:{horizontal:!0,vertical:!1,minWidth:80,maxWidth:400},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!1,lineHeight:!1,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},display:{showInBuilder:!0,selectable:!0}},image:{resizable:{horizontal:!0,vertical:!0,minWidth:50,minHeight:50,maxWidth:1e3,maxHeight:800,aspectRatio:!0},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,alt:!0,title:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},media:{formats:["jpg","png","gif"],maxFileSize:"5MB",optimization:!0},display:{showInBuilder:!0,selectable:!0}},section:{resizable:{horizontal:!0,vertical:!0,minWidth:200,minHeight:50,maxWidth:700,defaultWidth:600},background:{color:!0,image:!0,gradient:!1},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,contained:!0,centered:!0,columns:!0,droppable:!0},container:{maxColumns:4,columnSpacing:!0,verticalAlignment:!0,equalHeight:!0},effects:{borderRadius:!0,shadow:!1}},spacer:{resizable:{horizontal:!1,vertical:!0,minHeight:10,maxHeight:200},background:{color:!1,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,inline:!1},display:{showInBuilder:!0,showInEmail:!1}},divider:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!0,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!0,inline:!1},style:{thickness:!0,style:!0,opacity:!0},display:{showInBuilder:!0,selectable:!0}},social:{resizable:{horizontal:!1,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!1,inline:!0},social:{platforms:["facebook","twitter","linkedin","instagram","youtube"],iconStyle:["default","round","square"],iconSize:["small","medium","large"],showLabels:!0},display:{showInBuilder:!0,selectable:!0}},columns:{resizable:{horizontal:!0,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,droppable:!0},columns:{count:{min:2,max:4},distribution:["equal","custom"],spacing:!0,verticalAlignment:["top","middle","bottom"],responsive:{mobile:"stack",tablet:"maintain",desktop:"maintain"}},display:{showInBuilder:!0,selectable:!0}},formData:{resizable:{horizontal:!0,vertical:!1},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},data:{fields:["name","email","phone","company","custom"],formatting:!0,fallback:!0},display:{showInBuilder:!0,selectable:!0}}};function cu(e){return FS[e]||{}}function ho(e,o){const r=cu(e),a=o.split(".");let i=r;for(const c of a)if(i&&typeof i=="object"&&c in i)i=i[c];else return!1;return!!i}function jx({margin:e,border:o,padding:r,backgroundColor:a,backgroundImage:i,borderRadius:c,boxShadow:d,children:u,className:m,isResizing:h=!1}){const g=()=>{const y={};if(e&&(e.top!==void 0&&(y.marginTop=`${e.top}px`),e.right!==void 0&&(y.marginRight=`${e.right}px`),e.bottom!==void 0&&(y.marginBottom=`${e.bottom}px`),e.left!==void 0&&(y.marginLeft=`${e.left}px`)),o&&o.width){const{width:w,style:C="solid",color:N="#000000"}=o;w.top>0&&(y.borderTop=`${w.top}px ${C} ${N}`),w.right>0&&(y.borderRight=`${w.right}px ${C} ${N}`),w.bottom>0&&(y.borderBottom=`${w.bottom}px ${C} ${N}`),w.left>0&&(y.borderLeft=`${w.left}px ${C} ${N}`)}return r&&(r.top!==void 0&&(y.paddingTop=`${r.top}px`),r.right!==void 0&&(y.paddingRight=`${r.right}px`),r.bottom!==void 0&&(y.paddingBottom=`${r.bottom}px`),r.left!==void 0&&(y.paddingLeft=`${r.left}px`)),a&&a!=="transparent"&&(y.backgroundColor=a),i&&i.url&&(y.backgroundImage=`url(${i.url})`,y.backgroundSize=i.size||"cover",y.backgroundPosition=i.position||"center",y.backgroundRepeat=i.repeat||"no-repeat"),c&&c>0&&(y.borderRadius=`${c}px`,y.WebkitBorderRadius=`${c}px`,y.MozBorderRadius=`${c}px`),d&&d!=="none"&&(y.boxShadow=d,y.WebkitBoxShadow=d,y.MozBoxShadow=d),y},j=()=>{const y={};return a&&a!=="transparent"&&(y.bgcolor=a),i&&i.url&&(y.background=i.url),y};return t.jsx("div",{className:pe("spacing-layer",!h&&"transition-all duration-200",m),style:g(),...j(),children:u})}function WS({capabilities:e,isResizing:o=!1,intensity:r="normal"}){const a=()=>{const d="absolute inset-0 pointer-events-none rounded";switch(r){case"subtle":return pe(d,"ring-1 ring-green-400 animate-pulse","transition-all duration-1000");case"strong":return pe(d,"ring-4 ring-green-500 animate-pulse","transition-all duration-500");default:return pe(d,"ring-2 ring-green-500 animate-pulse","transition-all duration-700")}},i=()=>{const d={};return e.effects?.borderRadius&&(d.borderRadius="inherit"),o&&(d.opacity=.3),d},c=()=>{const d=[];return e.resizable?.horizontal&&!o&&d.push(t.jsx("div",{className:"absolute top-1/2 right-0 w-1 h-4 bg-green-500 opacity-40 transform -translate-y-1/2 rounded-l"},"resize-horizontal-hint")),e.resizable?.vertical&&!o&&d.push(t.jsx("div",{className:"absolute bottom-0 left-1/2 w-4 h-1 bg-green-500 opacity-40 transform -translate-x-1/2 rounded-t"},"resize-vertical-hint")),d};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:a(),style:i()}),c(),t.jsx("div",{className:"absolute inset-0 pointer-events-none rounded",style:{boxShadow:"inset 0 0 0 1px rgba(34, 197, 94, 0.3)",borderRadius:"inherit",opacity:o?.2:.6}})]})}function BS({element:e,isSelected:o,isHovered:r,renderElements:a,children:i,onElementUpdate:c,onCapabilityAction:d,onEdit:u,isMobile:m}){const h=f.useRef(null),[g,j]=f.useState(!1),[y,w]=f.useState(null),[C,N]=f.useState(!1),[k,_]=f.useState(null),E=rt(V=>V.updateElement),v=cu(e.type),{margin:R={top:0,right:0,bottom:0,left:0},border:z={top:0,right:0,bottom:0,left:0},borderStyle:L="solid",borderColor:A="#000000",padding:$={top:0,right:0,bottom:0,left:0},backgroundColor:H="transparent",backgroundImage:G="",backgroundSize:se="cover",backgroundPosition:de="center",backgroundRepeat:je="no-repeat",width:ne,height:Ne,maxWidth:oe,minWidth:ee,fullWidth:F}=e.props||{},X=(V,ge)=>{ge.preventDefault(),ge.stopPropagation(),j(!0),w(V);const _e=ge.clientX,Se=ge.clientY,Qe=h.current?.offsetWidth||0,He=h.current?.offsetHeight||0,Je=xt=>{const At=xt.clientX-_e,Ht=xt.clientY-Se;let Qt=Qe,ie=He;if(V==="right"||V==="corner"){const ce=v.resizable?.minWidth||100,me=v.resizable?.maxWidth||700;Qt=Math.max(ce,Math.min(me,Qe+At))}if(V==="bottom"||V==="corner"){const ce=v.resizable?.minHeight||50,me=v.resizable?.maxHeight||1e3;ie=Math.max(ce,Math.min(me,He+Ht))}E(e.id,{props:{...e.props,...V==="right"||V==="corner"?{width:`${Qt}px`}:{},...V==="bottom"||V==="corner"?{height:`${ie}px`}:{}}})},Ve=()=>{j(!1),w(null),document.removeEventListener("mousemove",Je),document.removeEventListener("mouseup",Ve)};document.addEventListener("mousemove",Je),document.addEventListener("mouseup",Ve)},K=()=>{j(!1),w(null)},D=V=>{V.stopPropagation(),_(e.props?.backgroundColor||"#ffffff"),N(!0)},T=V=>{_(V),E(e.id,{props:{...e.props,backgroundColor:V}})},q=()=>{k&&E(e.id,{props:{...e.props,backgroundColor:k}}),N(!1),_(null)},Y=()=>{const V=e.props?.backgroundColor||"#ffffff";E(e.id,{props:{...e.props,backgroundColor:V}}),N(!1),_(null)};f.useEffect(()=>{const V=ge=>{C&&h.current&&!h.current.contains(ge.target)&&Y()};return document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[C]);const J=e.type!=="emailWrapper"&&e.type!=="emailContainer"&&(ho(e.type,"spacing.margin")||ho(e.type,"spacing.border")||ho(e.type,"spacing.padding")),xe=()=>{const V={};return v.resizable?.horizontal&&ne&&(V.width=ne),v.resizable?.vertical&&Ne&&(V.height=Ne),oe&&(V.maxWidth=oe),ee&&(V.minWidth=ee),V};return t.jsxs("div",{ref:h,className:pe("universal-element-wrapper","relative",!g&&"transition-all duration-200",o&&"selected",r&&!o&&"hovered ring-2 ring-gray-400 ring-opacity-40",g&&"resizing",v.layout?.fullWidth&&"full-width",v.layout?.inline&&"inline-element"),style:{...xe(),...F?{width:"100%"}:{},...v.layout?.fullWidth&&!ne&&!F&&{width:"100%"},...v.layout?.inline&&{display:"inline-block"},...v.layout?.centered&&!F&&{margin:"0 auto"},...e.type==="section"&&!ne&&!F&&{width:`${v.resizable?.defaultWidth||600}px`},...e.type==="emailWrapper"&&{width:"100%",minHeight:"200px",display:"block",backgroundColor:H!=="transparent"?H:"#f5f5f5"},...e.type==="emailContainer"&&{width:m?"100%":ne||"600px",maxWidth:m?"100%":ne||"600px",margin:m?"0":"0 auto",display:"block",minHeight:"200px"}},"data-element-type":e.type,"data-element-id":e.id,"data-component":"UniversalElementWrapper","data-is-system":v.layout?.isSystemElement?"true":"false","data-is-selected":o?"true":"false","data-is-hovered":r?"true":"false","data-debug-env":"production",children:[o&&t.jsx(WS,{capabilities:v,isResizing:g}),(r&&!o||o&&v.layout?.backgroundOnly)&&v.layout?.isSystemElement&&u&&t.jsx("div",{className:"absolute top-1 left-1 z-[60] pointer-events-auto",children:t.jsx("button",{onClick:V=>{V.stopPropagation(),e.type==="emailWrapper"&&v.layout?.backgroundOnly?D(V):u(V)},className:"p-1.5 bg-blue-500 text-white rounded shadow-lg hover:shadow-xl transition-all hover:scale-110",title:e.type==="emailWrapper"?"Change Background Color":`Edit ${e.type==="emailContainer"?"Email Container":e.type}`,children:e.type==="emailWrapper"&&v.layout?.backgroundOnly?t.jsx(Zn,{className:"w-3 h-3"}):t.jsx(er,{className:"w-3 h-3"})})}),o&&v.layout?.isSystemElement&&t.jsx("div",{className:"absolute top-1 left-1 z-10",children:t.jsxs("div",{className:"bg-blue-500 text-white p-1 rounded shadow-sm flex items-center gap-1",children:[t.jsx(er,{className:"w-3 h-3"}),t.jsx("span",{className:"text-xs font-medium",children:e.type==="emailWrapper"?"Wrapper":"Container"})]})}),C&&e.type==="emailWrapper"&&t.jsx("div",{className:"absolute top-10 left-1 z-[70] pointer-events-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl border p-3 min-w-[200px]",children:[t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("button",{onClick:Y,className:"flex-1 px-3 py-1.5 text-sm text-gray-600 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"Cancel"}),t.jsx("button",{onClick:q,className:"flex-1 px-3 py-1.5 text-sm text-white bg-blue-500 hover:bg-blue-600 rounded transition-colors",children:"Apply"})]}),t.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Background Color"}),t.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:["#ffffff","#f8f9fa","#e9ecef","#dee2e6","#f8f5f0","#fff9e6","#e8f4fd","#e6f7ff","#f0f8f0","#fef7f0","#f5f5f5","#000000"].map(V=>t.jsx("button",{onClick:()=>T(V),className:pe("w-6 h-6 rounded border-2 transition-colors",k===V?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-blue-500"),style:{backgroundColor:V},title:V},V))}),t.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Custom Color"}),t.jsx("input",{type:"color",value:k||e.props?.backgroundColor||"#ffffff",onChange:V=>T(V.target.value),className:"w-full h-8 rounded border border-gray-300"})]})}),o&&v.resizable&&t.jsx(HS,{capabilities:v.resizable,onResizeStart:X,onResizeEnd:K,isResizing:g,direction:y}),J?t.jsx(jx,{margin:ho(e.type,"spacing.margin")?R:null,border:ho(e.type,"spacing.border")?{width:z,style:L,color:A}:null,padding:ho(e.type,"spacing.padding")?$:null,backgroundColor:v.background?.color?H:null,backgroundImage:v.background?.image?{url:G,size:se,position:de,repeat:je}:null,borderRadius:v.effects?.borderRadius?e.props.borderRadius:null,isResizing:g,children:i}):t.jsx("div",{className:"element-content",children:i})]})}function HS({capabilities:e,onResizeStart:o,onResizeEnd:r,isResizing:a,direction:i}){const c=[];return e.horizontal&&c.push(t.jsx("div",{className:pe("resize-handle resize-handle-right","absolute top-0 right-0 w-2 h-full cursor-ew-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",a&&i==="right"&&"opacity-75"),onMouseDown:d=>o("right",d)},"resize-right")),e.vertical&&c.push(t.jsx("div",{className:pe("resize-handle resize-handle-bottom","absolute bottom-0 left-0 w-full h-2 cursor-ns-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",a&&i==="bottom"&&"opacity-75"),onMouseDown:d=>o("bottom",d)},"resize-bottom")),e.horizontal&&e.vertical&&c.push(t.jsx("div",{className:pe("resize-handle resize-handle-corner","absolute bottom-0 right-0 w-3 h-3 cursor-nw-resize","bg-blue-500 opacity-0 hover:opacity-75 transition-opacity",a&&i==="corner"&&"opacity-100"),onMouseDown:d=>o("corner",d)},"resize-corner")),t.jsx(t.Fragment,{children:c})}function VS({element:e,renderElements:o}){const{children:r=[]}=e;return t.jsx("div",{className:"email-wrapper-content w-full min-h-[200px] relative","data-component":"EmailWrapperElement","data-element-type":"emailWrapper","data-element-id":e.id,"data-is-system":"true","data-children-count":r.length,children:r.length>0?o(r,e.id):t.jsx("div",{className:"p-6 text-center text-gray-400 border-2 border-dashed border-purple-200 rounded-lg min-h-[150px] flex flex-col items-center justify-center",children:t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-4xl mb-2",children:""}),t.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Email Client Background"}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Click to edit the email client background color"}),t.jsx("div",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded text-xs font-medium",children:"Clickable Email Wrapper"})]})})})}function US({element:e,renderElements:o}){const{children:r=[]}=e;new Date().toISOString();const{margin:a={top:0,right:0,bottom:0,left:0},padding:i={top:0,right:0,bottom:0,left:0},border:c={top:0,right:0,bottom:0,left:0},borderStyle:d="solid",borderColor:u="#000000",backgroundColor:m,backgroundImage:h,backgroundSize:g="cover",backgroundPosition:j="center",backgroundRepeat:y="no-repeat",borderRadius:w=0,boxShadow:C="none"}=e.props||{},{setNodeRef:N}=Wn({id:`email-container-main-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-drop"}}),{setNodeRef:k,isOver:_}=Wn({id:`email-container-empty-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-empty-drop"}});return t.jsx("div",{style:{paddingTop:`${a.top}px`,paddingRight:`${a.right}px`,paddingBottom:`${a.bottom}px`,paddingLeft:`${a.left}px`},children:t.jsx(jx,{margin:null,padding:i,border:{width:c,style:d,color:u},backgroundColor:m,backgroundImage:h?{url:h,size:g,position:j,repeat:y}:null,borderRadius:w,boxShadow:C,children:t.jsx("div",{className:"email-container-content w-full h-full min-h-[200px] relative","data-component":"EmailContainerElement","data-element-type":"emailContainer","data-element-id":e.id,"data-is-system":"true","data-children-count":r.length,children:r.length>0?t.jsx("div",{ref:N,className:"min-h-full",children:o(r,e.id)}):t.jsxs("div",{ref:k,className:pe("h-full min-h-[150px] flex flex-col items-center justify-center text-gray-400 transition-all",_&&"bg-blue-50 border-2 border-blue-300 border-dashed"),children:[t.jsx(gs,{className:"w-10 h-10 mb-3"}),t.jsx("p",{className:"text-sm",children:"Drop elements here"}),_&&t.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Release to add element"})]})})})})}function qS({element:e,renderElements:o}){const[r,a]=De.useState(!1),{setNodeRef:i,isOver:c}=Wn({id:`${e.id}-droppable`,data:{parentId:e.id,position:e.children?.length||0}}),{backgroundColor:d="transparent",backgroundImage:u,backgroundSize:m="cover",backgroundPosition:h="center",backgroundRepeat:g="no-repeat"}=e.props;return t.jsx("div",{ref:i,className:pe("element-content min-h-[50px] transition-all",c&&"bg-primary-50"),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),style:{backgroundColor:d!=="transparent"?d:void 0,backgroundImage:u?`url(${u})`:void 0,backgroundSize:m,backgroundPosition:h,backgroundRepeat:g},children:e.children&&e.children.length>0?o(e.children,e.id):t.jsx("div",{className:pe("py-8 text-center text-sm border-2 border-dashed rounded transition-all",r?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop elements here"})})}function YS({position:e,onFormatText:o,onAlignText:r,onFontSize:a,onTextColor:i,onDelete:c,onMoveUp:d,onMoveDown:u,onStartDrag:m,onSave:h,currentAlign:g="left",currentFontSize:j=16,currentColor:y="#000000",isVisible:w=!1,showElementControls:C=!1}){const N=f.useRef(null);if(f.useEffect(()=>{if(w&&e&&N.current){const v=N.current;v.style.left=`${e.x}px`,v.style.top=`${e.y}px`}},[e,w]),!w)return null;const k=[{icon:em,command:"bold",title:"Bold (Ctrl+B)"},{icon:im,command:"italic",title:"Italic (Ctrl+I)"},{icon:Nm,command:"underline",title:"Underline (Ctrl+U)"},{icon:zi,command:"createLink",title:"Add Link (Ctrl+K)"}],_=[{icon:Qf,value:"left",title:"Align Left"},{icon:Xf,value:"center",title:"Align Center"},{icon:Jf,value:"right",title:"Align Right"}],E=[12,14,16,18,20,24,28,32,36];return t.jsxs("div",{ref:N,className:"fixed z-50 bg-white shadow-lg border border-gray-200 rounded-lg p-2 flex items-center gap-1 pointer-events-auto",style:{position:"fixed",transform:"translateX(-50%)"},children:[C&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onMouseDown:v=>{v.preventDefault(),v.stopPropagation()},onClick:v=>{v.preventDefault(),v.stopPropagation(),h&&h()},className:"p-2 rounded bg-green-500 hover:bg-green-600 text-white",title:"Save and exit",children:t.jsx(Xs,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onMouseDown:v=>{v.preventDefault(),v.stopPropagation(),m&&m(v)},className:"p-2 rounded hover:bg-gray-100 cursor-move",title:"Drag to move",children:t.jsx($i,{className:"w-4 h-4 text-gray-700"})}),t.jsx("button",{type:"button",onMouseDown:v=>{v.preventDefault(),v.stopPropagation()},onClick:v=>{v.preventDefault(),v.stopPropagation(),d&&d()},className:"p-2 rounded hover:bg-gray-100",title:"Move Up",children:t.jsx(ra,{className:"w-4 h-4 text-gray-700"})}),t.jsx("button",{type:"button",onMouseDown:v=>{v.preventDefault(),v.stopPropagation()},onClick:v=>{v.preventDefault(),v.stopPropagation(),u&&u()},className:"p-2 rounded hover:bg-gray-100",title:"Move Down",children:t.jsx(mn,{className:"w-4 h-4 text-gray-700"})}),t.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"})]}),t.jsx("div",{className:"flex border-r border-gray-200 pr-2 mr-2",children:k.map(({icon:v,command:R,title:z})=>t.jsx("button",{type:"button",onMouseDown:L=>{L.preventDefault(),L.stopPropagation()},onClick:L=>{L.preventDefault(),L.stopPropagation(),o(R)},className:"p-2 rounded hover:bg-gray-100",title:z,children:t.jsx(v,{className:"w-4 h-4 text-gray-700"})},R))}),t.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[t.jsx(Js,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx("select",{value:j,onChange:v=>a(parseInt(v.target.value)),className:"text-sm border border-gray-300 rounded px-2 py-1 min-w-[60px]",children:E.map(v=>t.jsxs("option",{value:v,children:[v,"px"]},v))})]}),t.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[t.jsx(Zn,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx("input",{type:"color",value:y,onChange:v=>i(v.target.value),className:"w-8 h-8 border border-gray-300 rounded cursor-pointer",title:"Text Color"})]}),t.jsx("div",{className:"flex",children:_.map(({icon:v,value:R,title:z})=>t.jsx("button",{type:"button",onClick:()=>r(R),className:pe("p-2 rounded transition-colors",g===R?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-700"),title:z,children:t.jsx(v,{className:"w-4 h-4"})},R))}),C&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),t.jsx("button",{type:"button",onMouseDown:v=>{v.preventDefault(),v.stopPropagation()},onClick:v=>{v.preventDefault(),v.stopPropagation(),c&&c()},className:"p-2 rounded hover:bg-red-100",title:"Delete Element",children:t.jsx(Nn,{className:"w-4 h-4 text-red-600"})})]})]})}function GS({element:e}){const{content:o,fontSize:r=16,fontFamily:a="Arial, sans-serif",color:i="#000000",lineHeight:c=1.6,align:d="left",width:u="100%",margin:m={top:0,right:0,bottom:16,left:0},padding:h={top:0,right:0,bottom:0,left:0}}=e.props,[g,j]=f.useState(!1),[y,w]=f.useState(null),[C,N]=f.useState(!1),k=f.useRef(null),_=rt.getState().updateElement,E=rt.getState().deleteElement,v=rt.getState().selectElement,{setEditingTextElement:R,moveElementUpDown:z,isDragging:L}=ys();f.useEffect(()=>{!g&&k.current&&k.current.innerHTML!==(o||"")&&(k.current.innerHTML=o||"")},[o,g]);const A=T=>{T.stopPropagation(),g||(v(e.id),j(!0),R(e.id),k.current&&(k.current.innerHTML=o||""),setTimeout(()=>{if(k.current){k.current.focus();const q=window.getSelection(),Y=document.createRange();Y.selectNodeContents(k.current),Y.collapse(!1),q.removeAllRanges(),q.addRange(Y),H()}},0))};f.useEffect(()=>{const T=q=>{if(g&&k.current&&!k.current.contains(q.target)){const Y=document.querySelector(".fixed.z-50");if(Y&&Y.contains(q.target))return;G()}};return g&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[g]);const $=()=>{g&&H()};f.useEffect(()=>{!L&&g&&k.current&&H()},[L]),f.useEffect(()=>{if(!g||!C)return;const T=()=>{if(k.current){const J=k.current.getBoundingClientRect();w({x:J.left+J.width/2,y:J.top-50-20})}},q=[];let Y=k.current;for(;Y;){const J=window.getComputedStyle(Y);(Y.scrollHeight>Y.clientHeight||J.overflowY==="scroll"||J.overflowY==="auto"||J.overflow==="scroll"||J.overflow==="auto")&&(q.push(Y),Y.addEventListener("scroll",T,{passive:!0})),Y=Y.parentElement}return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",T,{passive:!0}),T(),()=>{q.forEach(J=>{J.removeEventListener("scroll",T)}),window.removeEventListener("scroll",T),window.removeEventListener("resize",T)}},[g,C]);const H=()=>{if(k.current){const T=k.current.getBoundingClientRect();w({x:T.left+T.width/2,y:T.top-50-20}),N(!0)}},G=()=>{if(k.current){const T=k.current.innerHTML;_(e.id,{props:{...e.props,content:T}})}j(!1),N(!1),w(null),R(null)},se=T=>{T.key==="Enter"&&(T.ctrlKey||T.metaKey)&&(T.preventDefault(),G()),T.key==="Escape"&&(T.preventDefault(),G())},de=T=>{if(T==="createLink"){const q=prompt("Enter URL:");q&&document.execCommand("createLink",!1,q)}else document.execCommand(T,!1,null);k.current?.focus()},je=T=>{_(e.id,{props:{...e.props,align:T}})},ne=T=>{_(e.id,{props:{...e.props,fontSize:T}})},Ne=T=>{_(e.id,{props:{...e.props,color:T}})},oe=T=>{const q=T.target.innerHTML;clearTimeout(window.textUpdateTimeout),window.textUpdateTimeout=setTimeout(()=>{_(e.id,{props:{...e.props,content:q}})},300)},ee=()=>{G(),E(e.id)},F=()=>{z(e.id,"up")},X=()=>{z(e.id,"down")},K=T=>{G();const q=T.target.closest('[data-component="SortableElement"]');if(q){const Y=q.querySelector('[data-drag-handle="true"]');if(Y){const J=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:T.clientX,clientY:T.clientY});Y.dispatchEvent(J)}}},D=()=>{G()};return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:k,className:`min-h-[20px] element-content ${g?"outline-2 outline-blue-500 outline-dashed":""}`,style:{fontSize:`${r}px`,fontFamily:a,color:i,lineHeight:c,textAlign:d,width:u,marginTop:`${m.top}px`,marginRight:`${m.right}px`,marginBottom:`${m.bottom}px`,marginLeft:`${m.left}px`,paddingTop:`${h.top}px`,paddingRight:`${h.right}px`,paddingBottom:`${h.bottom}px`,paddingLeft:`${h.left}px`,cursor:g?"text":"pointer",minHeight:"1em"},contentEditable:g,suppressContentEditableWarning:!0,onClick:A,onKeyDown:g?se:void 0,onInput:g?oe:void 0,onMouseUp:g?$:void 0,onKeyUp:g?$:void 0,"data-component":"TextElement","data-element-type":"text","data-element-id":e.id,"data-is-editing":g?"true":"false"}),t.jsx(YS,{position:y,isVisible:C&&g&&!L,onFormatText:de,onAlignText:je,onFontSize:ne,onTextColor:Ne,onDelete:ee,onMoveUp:F,onMoveDown:X,onStartDrag:K,onSave:D,currentAlign:d,currentFontSize:r,currentColor:i,showElementControls:!0}),g&&t.jsx("div",{className:"absolute bottom-[-30px] left-0 right-0 text-xs text-gray-500 text-center bg-white px-2 py-1 rounded shadow-sm",children:"Press Ctrl+Enter or click outside to finish  ESC to cancel"})]})}function KS({element:e}){const{text:o="Button",href:r="#",backgroundColor:a="#007cba",color:i="#ffffff",fontSize:c=16,fontWeight:d="normal",borderRadius:u=4,align:m="left",fullWidth:h=!1,target:g="_blank"}=e.props;return t.jsx("div",{className:"element-content",style:{textAlign:m},children:t.jsx("a",{href:r,target:g,rel:g==="_blank"?"noopener noreferrer":void 0,className:"inline-block no-underline transition-opacity hover:opacity-80",style:{backgroundColor:a,color:i,fontSize:`${c}px`,fontWeight:d,borderRadius:`${u}px`,width:h?"100%":"auto",textAlign:"center",padding:"12px 24px"},children:o})})}function XS({element:e}){const{src:o,alt:r="Image",width:a="auto",height:i="auto",align:c="left",link:d,target:u="_blank"}=e.props,m=t.jsx("img",{src:o||"https://via.placeholder.com/600x300",alt:r,style:{width:a,height:i,maxWidth:"100%",display:"block",border:"0",outline:"none",textDecoration:"none",msInterpolationMode:"bicubic"}});return t.jsx("div",{className:"element-content",style:{textAlign:c},children:d?t.jsx("a",{href:d,target:u,rel:u==="_blank"?"noopener noreferrer":void 0,style:{textDecoration:"none",border:"0",outline:"none"},children:m}):m})}function QS({element:e}){const{height:o=20}=e.props;return t.jsx("div",{className:"element-content bg-transparent",style:{height:`${o}px`,fontSize:"0",lineHeight:"0"},children:""})}function JS({element:e}){const{height:o=1,color:r="#cccccc",style:a="solid",align:i="center",width:c="100%"}=e.props;return t.jsx("div",{className:"element-content",style:{textAlign:i},children:t.jsx("hr",{style:{height:`${o}px`,width:c,backgroundColor:a==="solid"?r:"transparent",border:"none",borderTop:a==="dashed"?`${o}px dashed ${r}`:a==="dotted"?`${o}px dotted ${r}`:void 0,margin:0,display:"block",fontSize:"0",lineHeight:"0"}})})}function ZS({element:e,renderElements:o}){const{columns:r=2,gap:a=16,stackOnMobile:i=!0}=e.props,c=Array(r).fill(null).map((d,u)=>e.children?.[u]||{type:"column",children:[]});return t.jsx("div",{className:"element-content flex flex-wrap",style:{gap:`${a}px`},"data-stack-mobile":i,children:c.map((d,u)=>t.jsx(eE,{columnId:`${e.id}-col-${u}`,parentId:e.id,index:u,width:`${100/r}%`,gap:a,renderElements:o,children:d.children||[]},u))})}function eE({columnId:e,parentId:o,index:r,width:a,gap:i,renderElements:c,children:d}){const[u,m]=De.useState(!1),{setNodeRef:h,isOver:g}=Wn({id:e,data:{parentId:o,position:r,isColumn:!0}});return t.jsx("div",{ref:h,className:pe("min-h-[100px] transition-all",g&&"bg-primary-50"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),style:{flex:`0 0 calc(${a} - ${i}px)`},children:d.length>0?c(d,e):t.jsx("div",{className:pe("h-full flex items-center justify-center text-sm border-2 border-dashed rounded p-4 transition-all",u?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop here"})})}const tE={facebook:{icon:"",defaultUrl:"https://facebook.com",label:"Facebook"},twitter:{icon:"",defaultUrl:"https://twitter.com",label:"Twitter"},instagram:{icon:"",defaultUrl:"https://instagram.com",label:"Instagram"},linkedin:{icon:"",defaultUrl:"https://linkedin.com",label:"LinkedIn"},youtube:{icon:"",defaultUrl:"https://youtube.com",label:"YouTube"},pinterest:{icon:"",defaultUrl:"https://pinterest.com",label:"Pinterest"}};function nE({element:e}){const{icons:o=["facebook","twitter","instagram"],iconSize:r=32,iconColor:a="#333333",spacing:i=8,align:c="left"}=e.props;return t.jsx("div",{className:"element-content",style:{textAlign:c},children:t.jsx("div",{className:"inline-flex items-center",style:{gap:`${i}px`},children:o.map(d=>{const u=tE[d];return u?t.jsx("a",{href:u.defaultUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center transition-opacity hover:opacity-70",style:{width:`${r}px`,height:`${r}px`,fontSize:`${r*.6}px`,color:a},title:u.label,children:t.jsx("span",{children:u.icon})},d):null})})})}function rE({element:e}){const{field:o="email",fallback:r="[Form Field]",format:a="text"}=e.props,i=o?`{${o}}`:r;return t.jsx("div",{className:"element-content inline-block px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:i})}function sE({element:e}){const{content:o=""}=e.props,[r,a]=f.useState(!1),[i,c]=f.useState(!0),[d,u]=f.useState(o),m=f.useRef(null),h=rt.getState().updateElement;f.useEffect(()=>{r||u(o)},[o,r]),f.useEffect(()=>{r&&m.current&&(m.current.style.height="auto",m.current.style.height=Math.max(100,m.current.scrollHeight)+"px")},[d,r]);const g=w=>{w.stopPropagation(),r||(a(!0),setTimeout(()=>m.current?.focus(),0))},j=()=>{h(e.id,{props:{...e.props,content:d}}),a(!1)},y=w=>{w.key==="Escape"&&(w.preventDefault(),u(o),a(!1)),w.key==="Enter"&&(w.ctrlKey||w.metaKey)&&(w.preventDefault(),j())};return r?t.jsxs("div",{className:"border-2 border-blue-500 rounded overflow-hidden","data-component":"HtmlElement","data-element-id":e.id,"data-is-editing":"true",children:[t.jsxs("div",{className:"bg-gray-800 px-3 py-2 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(It,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-300 font-mono",children:"HTML Block"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>c(!i),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors",i?"bg-gray-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[i?t.jsx(Si,{className:"w-3 h-3"}):t.jsx(Ys,{className:"w-3 h-3"}),i?"Hide Preview":"Show Preview"]}),t.jsxs("button",{onClick:j,className:"flex items-center gap-1 bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition-colors",children:[t.jsx(ji,{className:"w-3 h-3"}),"Save"]})]})]}),t.jsxs("div",{className:pe("flex",i?"flex-row":"flex-col"),children:[t.jsx("div",{className:pe("bg-gray-900",i?"w-1/2":"w-full"),children:t.jsx("textarea",{ref:m,value:d,onChange:w=>u(w.target.value),onKeyDown:y,className:"w-full min-h-[100px] bg-gray-900 text-gray-100 font-mono text-sm p-3 border-0 outline-none resize-none",placeholder:"Enter your HTML code here...",spellCheck:!1})}),i&&t.jsxs("div",{className:"w-1/2 bg-white border-l border-gray-700",children:[t.jsx("div",{className:"bg-gray-100 px-3 py-1 text-xs text-gray-500 border-b",children:"Preview"}),t.jsx("div",{className:"p-3 prose max-w-none min-h-[100px]",children:d?t.jsx("div",{dangerouslySetInnerHTML:{__html:d}}):t.jsx("span",{className:"text-gray-400",children:"Preview will appear here..."})})]})]}),t.jsx("div",{className:"bg-gray-800 px-3 py-1 text-xs text-gray-500 text-center",children:"Ctrl+Enter to save | ESC to cancel"})]}):t.jsxs("div",{onClick:g,className:"relative cursor-pointer group min-h-[40px]","data-component":"HtmlElement","data-element-id":e.id,children:[t.jsxs("div",{className:"absolute top-1 right-1 bg-gray-700 text-white text-xs px-1.5 py-0.5 rounded opacity-60 group-hover:opacity-100 flex items-center gap-1 z-10",children:[t.jsx(It,{className:"w-3 h-3"}),t.jsx("span",{children:"HTML"})]}),o?t.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:o}}):t.jsx("div",{className:"text-gray-400 text-center py-4 border-2 border-dashed border-gray-300 rounded",children:"Click to add HTML code"}),t.jsx("div",{className:"absolute inset-0 bg-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:"Click to edit HTML"})})]})}const oE={emailWrapper:VS,emailContainer:US,section:qS,text:GS,button:KS,image:XS,spacer:QS,divider:JS,columns:ZS,social:nE,formData:rE,html:sE};function aE({element:e,renderElements:o,isSelected:r,isHovered:a=!1,onElementUpdate:i,onCapabilityAction:c,onEdit:d,isMobile:u}){const m=oE[e.type];return m?t.jsx(BS,{element:e,isSelected:r,isHovered:a,renderElements:o,onElementUpdate:i,onCapabilityAction:c,onEdit:d,isMobile:u,children:t.jsx(m,{element:e,renderElements:o})}):t.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm",children:["Unknown element type: ",e.type]})}function Nx({element:e,index:o,parentId:r,isSelected:a,onSelect:i,renderElements:c,isMobile:d}){const[u,m]=f.useState(!1),{deleteElement:h,editingTextElementId:g}=ys(),y=cu(e.type).layout?.isSystemElement,{attributes:w,listeners:C,setNodeRef:N,transform:k,transition:_,isDragging:E}=Ld({id:e.id,disabled:y,data:{type:"canvas-element",elementId:e.id,parentId:r,position:o}}),v={transform:rr.Transform.toString(k),transition:_,opacity:E?.5:void 0},R=H=>{H.stopPropagation(),confirm("Are you sure you want to delete this element?")&&h(e.id)},z=H=>{H.stopPropagation(),i(),e.type==="text"&&setTimeout(()=>{const G=H.target.closest('[data-component="SortableElement"]')?.querySelector('[data-component="TextElement"]');G&&G.click()},50)},L=H=>{if(e.type==="emailWrapper"){H.stopPropagation();return}if(e.type==="emailContainer"){const G=H.currentTarget.getBoundingClientRect(),se=H.clientX,de=parseInt(e.props?.width||"600px"),je=G.left+(G.width-de)/2,ne=je+de;se>=je&&se<=ne&&(H.stopPropagation(),i());return}H.stopPropagation(),i()},A=(H,G,se)=>{console.log("Element update:",H,G,se)},$=(H,G,se)=>{console.log("Capability action:",H,G,se)};return t.jsxs("div",{ref:N,style:v,className:pe("relative group transition-all duration-200",E&&"z-50",y&&"cursor-default"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),"data-component":"SortableElement","data-element-type":e.type,"data-element-id":e.id,"data-is-system":y?"true":"false","data-is-sortable":y?"false":"true","data-is-selected":a?"true":"false","data-is-hovered":u?"true":"false","data-is-dragging":E?"true":"false",children:[u&&!E&&!y&&g!==e.id&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:t.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[t.jsx("button",{onClick:z,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Edit element",children:t.jsx(er,{className:"w-5 h-5 text-gray-700"})}),t.jsx("button",{onClick:R,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Delete element",children:t.jsx(Nn,{className:"w-5 h-5 text-red-600"})}),t.jsx("button",{...C,...w,"data-drag-handle":"true",className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110 cursor-move",title:"Drag to reposition",children:t.jsx($i,{className:"w-5 h-5 text-gray-700"})})]})}),t.jsx("div",{onClick:L,className:"cursor-pointer transition-all",children:t.jsx(aE,{element:e,renderElements:c,isSelected:a,isHovered:u&&!E,onElementUpdate:A,isMobile:d,onCapabilityAction:$,onEdit:z})})]})}function iE({isMobile:e=!1}){const{elements:o,isDragging:r,selectElement:a,selectedElementId:i,setElements:c}=ys();De.useEffect(()=>{(!o||o.length===0)&&c([])},[o,c]);const d=(h,g=null)=>{if(!h||h.length===0)return g?null:t.jsx(u,{parentId:null,position:0,children:t.jsxs("div",{className:"py-12 text-center text-gray-400",children:[t.jsx("svg",{className:"w-10 h-10 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),t.jsx("p",{className:"text-sm",children:"Drag elements here to start building"})]})});const j=h.filter(C=>C.type!=="emailWrapper"&&C.type!=="emailContainer").map(C=>C.id),y=h.filter(C=>C.type==="emailWrapper"||C.type==="emailContainer"),w=h.filter(C=>C.type!=="emailWrapper"&&C.type!=="emailContainer");return t.jsxs(t.Fragment,{children:[y.map(C=>t.jsx("div",{className:"system-element-container",children:t.jsx(Nx,{element:C,index:0,parentId:g,isSelected:i===C.id,onSelect:()=>a(C.id),renderElements:d,isMobile:e})},C.id)),t.jsxs(zd,{items:j,strategy:$d,children:[t.jsx(u,{parentId:g,position:0,elementCount:w.length}),w.map((C,N)=>t.jsxs(De.Fragment,{children:[t.jsx(Nx,{element:C,index:N,parentId:g,isSelected:i===C.id,onSelect:()=>a(C.id),renderElements:d,isMobile:e}),t.jsx(u,{parentId:g,position:N+1,elementCount:w.length})]},C.id))]})]})};function u({parentId:h,position:g,children:j,elementCount:y=0}){const{setNodeRef:w,isOver:C}=Wn({id:`dropzone-${h||"root"}-${g}`,data:{parentId:h,position:g,type:"dropzone"}}),N=!h||g===0&&h&&h.includes("email-wrapper");return t.jsxs("div",{ref:w,className:pe(N?"min-h-0":"min-h-[4px]","transition-all relative",!N&&r&&"min-h-[8px]",!N&&C&&"min-h-[30px]"),"data-component":"DropZone","data-parent-id":h||"root","data-position":g,"data-is-over":C?"true":"false","data-should-hide":N?"true":"false",children:[!N&&C&&t.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 h-1 bg-blue-500 rounded"}),j]})}const m=h=>{h.target===h.currentTarget&&a(null)};return t.jsx("div",{className:pe("min-h-[100px] transition-colors",r&&"bg-gray-50"),onClick:m,children:d(o)})}function kx(){const{activeEmailId:e,emails:o}=Zs(),r=o.find(y=>y.id===e),[a,i]=f.useState("dummy"),[c,d]=f.useState(""),[u,m]=f.useState(()=>window.sfuiData?.currentUserEmail||""),[h,g]=f.useState({type:null,message:""}),j=f.useCallback(async()=>{if(!u){g({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){g({type:"error",message:"Please enter a valid email address"});return}if(!r){g({type:"error",message:"No email selected"});return}const{formId:w,ajaxUrl:C,nonce:N}=window.sfuiData||{};if(!C||!N){g({type:"error",message:"WordPress context not available"});return}g({type:"loading",message:"Sending test email..."});try{const k={from:r.from_email||"",from_name:r.from_name||"",reply:r.reply_to?.email||"",reply_name:r.reply_to?.name||"",cc:r.cc||"",bcc:r.bcc||"",subject:r.subject||"Test Email",body:r.body||"",attachments:r.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},_=new FormData;_.append("action","super_send_test_email"),_.append("nonce",N),_.append("form_id",w||0),_.append("data_type",a),_.append("entry_id",a==="entry"?c:""),_.append("test_recipient",u),Object.entries(k).forEach(([R,z])=>{Array.isArray(z)?z.forEach((L,A)=>{_.append(`email_settings[${R}][${A}]`,L)}):_.append(`email_settings[${R}]`,z)});const v=await(await fetch(C,{method:"POST",body:_,credentials:"same-origin"})).json();v.success?(g({type:"success",message:v.data?.message||"Test email sent!"}),setTimeout(()=>g({type:null,message:""}),5e3)):g({type:"error",message:v.data?.message||"Failed to send test email"})}catch(k){console.error("Test email error:",k),g({type:"error",message:"Network error - please try again"})}},[r,a,c,u]);return r?t.jsx("div",{"data-testid":"test-email-bar",className:"bg-gray-50 border-t border-b border-gray-200 px-4 py-2",children:t.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[t.jsxs("div",{"data-testid":"data-source-section",className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Test Data:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[t.jsx("input",{"data-testid":"dummy-data-radio",type:"radio",name:"dataType",value:"dummy",checked:a==="dummy",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Dummy data"})]}),t.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[t.jsx("input",{"data-testid":"entry-data-radio",type:"radio",name:"dataType",value:"entry",checked:a==="entry",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Entry data"})]})]})]}),a==="entry"&&t.jsx("div",{"data-testid":"entry-id-section",className:"flex items-center gap-2",children:t.jsx("input",{"data-testid":"entry-id-input",type:"text",value:c,onChange:y=>d(y.target.value),placeholder:"Entry ID (empty = latest)",className:"w-40 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})}),t.jsx("div",{className:"flex-1"}),t.jsxs("div",{"data-testid":"send-section",className:"flex items-center gap-2",children:[t.jsx("input",{"data-testid":"recipient-input",type:"email",value:u,onChange:y=>m(y.target.value),placeholder:"recipient@example.com",className:"w-52 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),t.jsxs("button",{"data-testid":"send-test-btn",type:"button",onClick:j,disabled:h.type==="loading",className:pe("inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded transition-colors",h.type==="loading"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-500 text-white hover:bg-primary-600"),children:[h.type==="loading"?t.jsx(Li,{className:"w-4 h-4 animate-spin"}):t.jsx(ia,{className:"w-4 h-4"}),t.jsx("span",{children:"Send Test"})]})]}),h.type&&h.type!=="loading"&&t.jsxs("div",{"data-testid":"status-message",className:pe("flex items-center gap-1.5 text-sm",h.type==="success"&&"text-green-600",h.type==="error"&&"text-red-600"),children:[h.type==="success"&&t.jsx(sa,{className:"w-4 h-4"}),h.type==="error"&&t.jsx(ms,{className:"w-4 h-4"}),t.jsx("span",{children:h.message})]})]})}):null}const Cx=[{id:"desktop",name:"Desktop",icon:Gs,component:au},{id:"mobile",name:"Mobile",icon:la,component:au}];function lE({value:e,onChange:o}){const[r,a]=f.useState(e||"");f.useEffect(()=>{a(e||"")},[e]);const i=c=>{const d=c.target.value;a(d),clearTimeout(window.htmlEditorTimeout),window.htmlEditorTimeout=setTimeout(()=>{o(d)},300)};return t.jsxs("div",{className:"min-h-[300px] bg-gray-900 rounded overflow-hidden",children:[t.jsx("div",{className:"bg-gray-800 px-3 py-2 text-xs text-gray-400 border-b border-gray-700 font-mono",children:"HTML Source"}),t.jsx("textarea",{value:r,onChange:i,className:"w-full min-h-[300px] bg-gray-900 text-gray-100 font-mono text-sm p-4 border-0 outline-none resize-y",placeholder:"Enter your HTML email content here...",spellCheck:!1})]})}function cE(){const[e,o]=f.useState("desktop"),[r,a]=f.useState(null),[i,c]=f.useState(!1),{activeEmailId:d,emails:u,updateEmailField:m,activeLanguage:h,translations:g,setActiveLanguage:j}=Zs(),{elements:y,setElements:w,isDragging:C,draggedElement:N,startDrag:k,endDrag:_,addElement:E,moveElement:v,generateHtml:R,elementTypes:z}=ys(),L=u.find(oe=>oe.id===d),A=Cx.find(oe=>oe.id===e)?.component||au,$=L?.body_type==="html";f.useEffect(()=>{L&&!$&&(L.template&&typeof L.template=="object"&&L.template.elements?w(L.template.elements):w([]))},[L,w,$]),f.useEffect(()=>{if(L&&!$&&y.length>0){const oe=R(),ee=setTimeout(()=>{m(d,"template",{elements:y,html:oe}),m(d,"body",oe)},500);return()=>clearTimeout(ee)}},[y,L,d,R,m,$]);const H=f.useCallback(oe=>{oe==="html"&&!$?a({title:"Switch to HTML Mode",message:"Your visual elements will be converted to raw HTML code. You can edit the HTML directly.",confirmText:"Switch to HTML",onConfirm:()=>{const ee=R();m(d,"body",ee),m(d,"body_type","html"),a(null)},onCancel:()=>a(null)}):oe==="visual"&&$&&a({title:"Switch to Visual Mode",message:"Your HTML content will be placed in an editable HTML block within the visual builder.",confirmText:"Switch to Visual",onConfirm:()=>{const F=[{id:gt(),type:"html",props:{content:L.body||""},children:[]}];m(d,"body_type","visual"),m(d,"template",{elements:F,html:L.body||""}),w(F),a(null)},onCancel:()=>a(null)})},[$,d,L,R,m,w]),G=oe=>{const{active:ee,over:F}=oe;if(!F){_();return}const X=ee.data.current,K=F.data.current;if(X.type==="new-element"){const D=K?.position!==void 0?K.position:null,T=K?.parentId||null;E(X.elementType,T,D)}else if(X.type==="canvas-element"&&ee.id!==F.id){const D=K?.position!==void 0?K.position:null,T=K?.parentId||null;v(ee.id,T,D)}_()},se=oe=>{const{active:ee}=oe,F=ee.data.current;if(F.type==="new-element"){const X=ys.getState().elementTypes[F.elementType];k(X)}};if(!L)return t.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.jsx("p",{className:"mt-2 text-gray-500",children:"Select an email to preview"})]})});const de={...L,body:$?L.body:y.length>0?R():L.body},je=t.jsx("div",{"data-testid":"email-builder-header",className:"bg-white border-b border-gray-200 px-4 py-2 shadow-sm",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{"data-testid":"header-left",className:"flex items-center gap-3",children:[t.jsxs("div",{"data-testid":"email-title-section",className:"flex items-center gap-2",children:[t.jsx(so,{"data-testid":"email-description-field",value:L.description,onChange:oe=>m(d,"description",oe),placeholder:"Untitled Email",className:"text-sm font-medium text-gray-700",showEditIcon:!0}),t.jsx("span",{"data-testid":"mode-badge",className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:$?"HTML":"Visual"})]}),g&&Object.keys(g).length>0&&t.jsxs("div",{"data-testid":"language-selector",className:"flex items-center gap-2",children:[t.jsx(sd,{className:"w-4 h-4 text-gray-500"}),t.jsxs("select",{"data-testid":"language-dropdown",value:h,onChange:oe=>j(oe.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:[t.jsx("option",{value:"default",children:"Default"}),Object.entries(g).map(([oe,ee])=>t.jsx("option",{value:oe,children:ee.name||oe},oe))]})]})]}),t.jsx("div",{"data-testid":"viewport-toggle",className:"flex gap-2",children:Cx.map(oe=>t.jsxs(sr,{"data-testid":"viewport-"+oe.id+"-btn",variant:"unstyled",size:"sm",onClick:()=>o(oe.id),className:pe("hover:text-primary-600",e===oe.id?"text-primary-600":"text-gray-500"),children:[t.jsx(oe.icon,{className:"w-4 h-4"}),t.jsx("span",{children:oe.name})]},oe.id))})]})}),ne=r&&t.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center overflow-x-hidden overflow-y-auto bg-black/50",children:t.jsxs("div",{className:"bg-white border border-gray-200 shadow-lg rounded-xl max-w-lg w-full mx-4",children:[t.jsx("div",{className:"flex justify-between items-center py-3 px-4 border-b border-gray-200",children:t.jsx("h3",{className:"font-bold text-gray-800",children:r.title})}),t.jsx("div",{className:"p-4",children:t.jsx("p",{className:"text-gray-600",children:r.message})}),t.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:r.onCancel,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"button",onClick:r.onConfirm,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700",children:r.confirmText})]})]})}),Ne=()=>$?t.jsx(lE,{value:L.body,onChange:oe=>m(d,"body",oe)}):t.jsx(iE,{isMobile:e==="mobile"});return $?t.jsxs("div",{"data-testid":"email-builder-html",className:"h-full flex flex-col bg-gray-100",children:[je,ne,t.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx(A,{email:de,isMobile:e==="mobile",isBuilder:!0,renderBody:Ne,updateEmailField:m,activeEmailId:d,isHtmlMode:$,onModeChange:H,onShowTestEmail:()=>c(!0)})}),i&&t.jsx(kx,{})]})]}):t.jsxs(Md,{collisionDetection:bd,onDragEnd:G,onDragStart:se,children:[t.jsxs("div",{"data-testid":"email-builder-visual",className:"h-full flex flex-col bg-gray-100",children:[je,ne,t.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx(A,{email:de,isMobile:e==="mobile",isBuilder:!0,renderBody:Ne,updateEmailField:m,activeEmailId:d,isHtmlMode:$,onModeChange:H,onShowTestEmail:()=>c(!0)})}),i&&t.jsx(kx,{}),t.jsx("div",{"data-testid":"element-palette",className:"bg-white border-t",children:t.jsx(AS,{})})]})]}),t.jsx(zh,{children:N&&t.jsx("div",{className:"bg-white rounded shadow-lg p-3 opacity-90",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:N.icon}),t.jsx("span",{className:"text-sm font-medium",children:N.name})]})})})]})}function dE({formId:e,emails:o,translations:r,ajaxUrl:a,nonce:i,i18n:c}){const{initializeStore:d,activeEmailId:u,isDirty:m,isSaving:h,save:g}=Zs();f.useEffect(()=>{const w=document.querySelector(".super-element-settings");w&&(w.style.display="none");const C=document.querySelector(".super-elements");C&&(C.style.display="none");const N=document.querySelector(".super-tabs-content");return N&&(N.style.width="100%",N.style.float="none"),()=>{w&&(w.style.display=""),C&&(C.style.display=""),N&&(N.style.width="",N.style.float="")}},[]),f.useEffect(()=>{d({emails:o,translations:r})},[]),f.useEffect(()=>{if(m&&!h){const w=setTimeout(()=>{j()},2e3);return()=>clearTimeout(w)}},[m]);const j=async()=>{if(!e||!a||!i)return console.log(" Development mode: Skipping WordPress save (no backend context)"),{success:!0};const w=await g(e,a,i);return w.success&&y(),w},y=()=>{const w=Zs.getState(),C=document.querySelector(".super-raw-code-emails-settings textarea");C&&(C.value=JSON.stringify(w.emails,null,2),C.dispatchEvent(new Event("change",{bubbles:!0})))};return t.jsxs("div",{"data-testid":"emails-tab",className:"sfui-emails-tab h-full",children:[t.jsxs("div",{className:"flex h-full gap-4",children:[t.jsx("div",{"data-testid":"email-list-sidebar",className:"w-64 flex-shrink-0",children:t.jsx(N2,{})}),t.jsx("div",{"data-testid":"email-builder-main",className:"flex-1 min-w-0",children:u?t.jsx("div",{"data-testid":"email-builder-container",className:"bg-white rounded-lg border border-gray-200 overflow-hidden h-full",style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:t.jsx(cE,{})}):t.jsx("div",{"data-testid":"email-placeholder",className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500 h-full flex items-center justify-center",children:t.jsxs("div",{children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.jsx("p",{className:"text-lg",children:c?.selectEmail||"Select an email to edit"})]})})})]}),(m||h)&&t.jsx("div",{"data-testid":"save-status",className:"absolute bottom-4 left-4 bg-white rounded-lg shadow-md px-4 py-2 flex items-center gap-2 z-10",children:h?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin h-4 w-4 text-primary-600",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t.jsx("span",{className:"text-sm text-gray-600",children:c?.saving||"Saving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Unsaved changes"})]})})]})}const uE=Object.freeze(Object.defineProperty({__proto__:null,default:dE},Symbol.toStringTag,{value:"Module"})),kl=20,Sx=50;function pE(){const[e,o]=f.useState([]),[r,a]=f.useState([]),[i,c]=f.useState([]),[d,u]=f.useState({x:0,y:0,zoom:1}),[m,h]=f.useState([]),[g,j]=f.useState([]),[y,w]=f.useState(null),[C,N]=f.useState(!1),[k,_]=f.useState(null),[E,v]=f.useState([]),[R,z]=f.useState(-1),L=f.useRef(1),A=f.useRef(1),$=f.useRef(1),H=f.useCallback((ie,ce)=>({x:(ie-d.x)/d.zoom,y:(ce-d.y)/d.zoom}),[d]),G=f.useCallback((ie,ce)=>({x:ie*d.zoom+d.x,y:ce*d.zoom+d.y}),[d]),se=f.useCallback((ie,ce)=>({x:Math.round(ie/kl)*kl,y:Math.round(ce/kl)*kl}),[]),de=f.useCallback(()=>{const ie={nodes:e,connections:r,groups:i,viewport:d};v(ce=>{const me=ce.slice(0,R+1);return me.push(ie),me.length>Sx&&me.shift(),me}),z(ce=>Math.min(ce+1,Sx-1))},[e,r,i,d,R]),je=f.useCallback(()=>{if(R>0){const ie=E[R-1];o(ie.nodes),a(ie.connections),c(ie.groups),u(ie.viewport),z(R-1)}},[E,R]),ne=f.useCallback(()=>{if(R<E.length-1){const ie=E[R+1];o(ie.nodes),a(ie.connections),c(ie.groups),u(ie.viewport),z(R+1)}},[E,R]),Ne=f.useCallback((ie,ce,me={})=>{const $e=se(ce.x,ce.y),Ue={id:`node-${L.current++}`,type:ie,position:$e,config:me,selected:!1,zIndex:e.length+1};return de(),o(Fe=>[...Fe,Ue]),Ue.id},[e,se,de]),oe=f.useCallback((ie,ce)=>{de(),o(me=>me.map($e=>$e.id===ie?{...$e,...ce}:$e))},[de]),ee=f.useCallback(ie=>{de(),o(ce=>ce.filter(me=>me.id!==ie)),a(ce=>ce.filter(me=>me.from!==ie&&me.to!==ie))},[de]),F=f.useCallback(ie=>{de(),o(ce=>ce.filter(me=>!ie.includes(me.id))),a(ce=>ce.filter(me=>!ie.includes(me.from)&&!ie.includes(me.to))),h([])},[de]),X=f.useCallback((ie,ce,me,$e)=>{if(r.some(fe=>fe.from===ie&&fe.fromOutput===ce&&fe.to===me&&fe.toInput===$e))return null;const Fe={id:`conn-${A.current++}`,from:ie,fromOutput:ce,to:me,toInput:$e,selected:!1};return de(),a(fe=>[...fe,Fe]),Fe.id},[r,de]),K=f.useCallback(ie=>{de(),a(ce=>ce.filter(me=>me.id!==ie))},[de]),D=f.useCallback((ie,ce=!1)=>{h(ce?me=>me.includes(ie)?me.filter($e=>$e!==ie):[...me,ie]:[ie]),o(me=>me.map($e=>({...$e,selected:ce?$e.id===ie?!$e.selected:$e.selected:$e.id===ie})))},[]),T=f.useCallback(ie=>{h(ie),o(ce=>ce.map(me=>({...me,selected:ie.includes(me.id)})))},[]),q=f.useCallback(()=>{h([]),j([]),o(ie=>ie.map(ce=>({...ce,selected:!1}))),a(ie=>ie.map(ce=>({...ce,selected:!1})))},[]),Y=f.useCallback((ie,ce)=>{u(me=>({...me,x:me.x+ie,y:me.y+ce}))},[]),J=f.useCallback((ie,ce,me)=>{u($e=>{const Ue=ie>0?1.05:.95,Fe=Math.max(.1,Math.min(3,$e.zoom*Ue));if(ce!==void 0&&me!==void 0){const fe=Fe/$e.zoom,lt=ce-(ce-$e.x)*fe,Ye=me-(me-$e.y)*fe;return{x:lt,y:Ye,zoom:Fe}}return{...$e,zoom:Fe}})},[]),xe=f.useCallback(()=>{u({x:0,y:0,zoom:1})},[]),V=f.useCallback(ie=>{o(ie.nodes),a(ie.connections),c(ie.groups),u(ie.viewport),v([ie]),z(0),q()},[q]),ge=f.useCallback(()=>({nodes:e,connections:r,groups:i,viewport:d}),[e,r,i,d]),_e=f.useCallback(()=>{de(),o([]),a([]),c([]),q()},[de,q]),Se=f.useCallback((ie,ce,me,$e)=>{if(ie===me||r.find(lt=>lt.from===ie&&lt.fromOutput===ce&&lt.to===me&&lt.toInput===$e))return!1;const Fe=new Set,fe=(lt,Ye)=>lt===Ye?!0:Fe.has(lt)?!1:(Fe.add(lt),r.filter(gn=>gn.from===lt).some(gn=>fe(gn.to,Ye)));return!fe(me,ie)},[r]),Qe=f.useCallback((ie,ce)=>{console.log("Starting connection from:",ie,ce),N(!0),_({nodeId:ie,outputName:ce})},[]),He=f.useCallback((ie,ce)=>{console.log("Ending connection to:",ie,ce),k&&Se(k.nodeId,k.outputName,ie,ce)&&(console.log("Creating connection:",k.nodeId,"->",ie),X(k.nodeId,k.outputName,ie,ce)),console.log("Setting isConnecting to false"),N(!1),_(null)},[k,Se,X]),Je=f.useCallback(()=>{console.log("Canceling connection"),N(!1),_(null)},[]),Ve=f.useCallback((ie,ce,me=[])=>{const $e={id:`group-${$.current++}`,name:ie,nodeIds:me,bounds:ce,color:"rgba(59, 130, 246, 0.3)",zIndex:-1};return c(Ue=>[...Ue,$e]),de(),$e.id},[de]),xt=f.useCallback((ie,ce)=>{c(me=>me.map($e=>$e.id===ie?{...$e,...ce}:$e))},[]),At=f.useCallback(ie=>{c(ce=>ce.filter(me=>me.id!==ie)),de()},[de]),Ht=f.useCallback((ie,ce,me,$e)=>{const Ue=i.find(Fe=>Fe.id===ie);Ue&&($e==="start"?o(Fe=>Fe.map(fe=>({...fe,isGroupDragging:Ue.nodeIds.includes(fe.id),groupDragOffset:Ue.nodeIds.includes(fe.id)?{x:0,y:0}:void 0}))):$e==="move"?o(Fe=>Fe.map(fe=>Ue.nodeIds.includes(fe.id)?{...fe,groupDragOffset:{x:ce,y:me}}:fe)):$e==="end"&&(o(Fe=>Fe.map(fe=>Ue.nodeIds.includes(fe.id)?{...fe,position:{x:fe.position.x+ce,y:fe.position.y+me},isGroupDragging:!1,groupDragOffset:void 0}:fe)),c(Fe=>Fe.map(fe=>fe.id===ie?{...fe,bounds:{...fe.bounds,x:fe.bounds.x+ce,y:fe.bounds.y+me}}:fe)),de()))},[i,de]),Qt=f.useCallback(()=>{if(m.length<2)return null;const ie=e.filter(qe=>m.includes(qe.id));if(ie.length===0)return null;const ce=20,me=200,$e=100;let Ue=1/0,Fe=1/0,fe=-1/0,lt=-1/0;ie.forEach(qe=>{Ue=Math.min(Ue,qe.position.x),Fe=Math.min(Fe,qe.position.y),fe=Math.max(fe,qe.position.x+me),lt=Math.max(lt,qe.position.y+$e)});const Ye={x:Ue-ce,y:Fe-ce,width:fe-Ue+ce*2,height:lt-Fe+ce*2};return Ve(`Group ${$.current}`,Ye,m)},[m,e,Ve]);return{nodes:e,connections:r,groups:i,viewport:d,selectedNodes:m,selectedConnections:g,dragState:y,isConnecting:C,connectionStart:k,addNode:Ne,updateNode:oe,deleteNode:ee,deleteNodes:F,selectNode:D,selectNodes:T,addConnection:X,deleteConnection:K,startConnection:Qe,endConnection:He,cancelConnection:Je,canConnect:Se,clearSelection:q,addGroup:Ve,updateGroup:xt,removeGroup:At,moveGroup:Ht,createGroupFromSelection:Qt,panViewport:Y,zoomViewport:J,resetViewport:xe,screenToCanvas:H,canvasToScreen:G,snapToGrid:se,undo:je,redo:ne,canUndo:R>0,canRedo:R<E.length-1,loadWorkflow:V,exportWorkflow:ge,clearWorkflow:_e,setDragState:w}}const go={...{"form.submitted":{id:"form.submitted",name:"Form Submitted",category:"event",color:"#10b981",icon:nw,description:"Trigger when a form is submitted",inputs:[],outputs:["entry_data","form_data"],config:{scope:"all",formId:null,includeSpam:!1}},"form.spam_detected":{id:"form.spam_detected",name:"Spam Detected",category:"event",color:"#10b981",icon:xm,description:"Trigger when spam is detected",inputs:[],outputs:["detection_details"],config:{scope:"all",formId:null,detectionMethods:[]}},"form.duplicate_detected":{id:"form.duplicate_detected",name:"Duplicate Detected",category:"event",color:"#10b981",icon:ms,description:"Trigger when duplicate submission detected",inputs:[],outputs:["duplicate_data"],config:{scope:"all",formId:null}},"entry.created":{id:"entry.created",name:"Entry Created",category:"event",color:"#10b981",icon:Ir,description:"Trigger after entry is saved to database",inputs:[],outputs:["entry_id","entry_data"],config:{scope:"all",formId:null}},"entry.updated":{id:"entry.updated",name:"Entry Updated",category:"event",color:"#10b981",icon:Ks,description:"Trigger when entry data is modified",inputs:[],outputs:["entry_id","changes"],config:{scope:"all",formId:null}},"entry.status_changed":{id:"entry.status_changed",name:"Entry Status Changed",category:"event",color:"#10b981",icon:Ks,description:"Trigger when entry status changes",inputs:[],outputs:["entry_id","old_status","new_status"],config:{scope:"all",formId:null}},"entry.deleted":{id:"entry.deleted",name:"Entry Deleted",category:"event",color:"#10b981",icon:jm,description:"Trigger when entry is deleted",inputs:[],outputs:["entry_id"],config:{scope:"all",formId:null}},"payment.stripe.payment_succeeded":{id:"payment.stripe.payment_succeeded",name:"Stripe Payment Success",category:"event",color:"#10b981",icon:rd,description:"Trigger when Stripe payment succeeds",inputs:[],outputs:["payment_data"],config:{scope:"all"}},"payment.stripe.payment_failed":{id:"payment.stripe.payment_failed",name:"Stripe Payment Failed",category:"event",color:"#10b981",icon:td,description:"Trigger when Stripe payment fails",inputs:[],outputs:["error_data"],config:{scope:"all"}},"payment.paypal.capture_completed":{id:"payment.paypal.capture_completed",name:"PayPal Payment Complete",category:"event",color:"#10b981",icon:A1,description:"Trigger when PayPal payment completes",inputs:[],outputs:["payment_data"],config:{scope:"all"}},"session.abandoned":{id:"session.abandoned",name:"Session Abandoned",category:"event",color:"#10b981",icon:On,description:"Trigger when form session is abandoned",inputs:[],outputs:["session_data"],config:{scope:"all",formId:null,abandonTime:30}},"file.uploaded":{id:"file.uploaded",name:"File Uploaded",category:"event",color:"#10b981",icon:gs,description:"Trigger when file is uploaded",inputs:[],outputs:["file_data"],config:{scope:"all",formId:null}}},...{send_email:{id:"send_email",name:"Send Email",category:"action",color:"#3b82f6",icon:hs,description:"Send an email notification",inputs:["trigger"],outputs:["success"],config:{to:"",subject:"",body:"",bodyType:"html",from:"{admin_email}",replyTo:""}},http_request:{id:"http_request",name:"HTTP Request",category:"action",color:"#3b82f6",icon:sd,description:"Make an HTTP API call",inputs:["trigger"],outputs:["response"],config:{url:"",method:"POST",headers:{},body:"",auth:"none"}},webhook:{id:"webhook",name:"Webhook",category:"action",color:"#3b82f6",icon:Wi,description:"Send webhook notification",inputs:["trigger"],outputs:["success"],config:{url:"",method:"POST",headers:{},payload:""}},update_entry_status:{id:"update_entry_status",name:"Update Entry Status",category:"action",color:"#3b82f6",icon:Ks,description:"Change entry status",inputs:["trigger"],outputs:["success"],config:{status:"approved"}},update_entry_field:{id:"update_entry_field",name:"Update Entry Field",category:"action",color:"#3b82f6",icon:Ir,description:"Modify entry field value",inputs:["trigger"],outputs:["success"],config:{fieldName:"",value:""}},delete_entry:{id:"delete_entry",name:"Delete Entry",category:"action",color:"#3b82f6",icon:jm,description:"Delete the entry",inputs:["trigger"],outputs:["success"],config:{}},create_post:{id:"create_post",name:"Create Post",category:"action",color:"#3b82f6",icon:Ir,description:"Create WordPress post",inputs:["trigger"],outputs:["post_id"],config:{postType:"post",postStatus:"publish",postTitle:"",postContent:""}},delay_execution:{id:"delay_execution",name:"Delay",category:"action",color:"#3b82f6",icon:Z1,description:"Delay execution for specified time",inputs:["trigger"],outputs:["continue"],config:{duration:60,unit:"minutes"}},abort_submission:{id:"abort_submission",name:"Abort Submission",category:"action",color:"#3b82f6",icon:td,description:"Stop form submission",inputs:["trigger"],outputs:[],config:{message:"Submission rejected"}},stop_execution:{id:"stop_execution",name:"Stop Execution",category:"action",color:"#3b82f6",icon:td,description:"Stop trigger execution",inputs:["trigger"],outputs:[],config:{}},set_variable:{id:"set_variable",name:"Set Variable",category:"action",color:"#3b82f6",icon:It,description:"Set a context variable",inputs:["trigger"],outputs:["continue"],config:{variableName:"",value:""}},log_message:{id:"log_message",name:"Log Message",category:"action",color:"#3b82f6",icon:Q1,description:"Write to debug log",inputs:["trigger"],outputs:["continue"],config:{message:"",level:"info"}},"mailpoet.add_subscriber":{id:"mailpoet.add_subscriber",name:"MailPoet Subscribe",category:"action",color:"#3b82f6",icon:cd,description:"Add subscriber to MailPoet",inputs:["trigger"],outputs:["success"],config:{listIds:[],email:"{email}",firstName:"{first_name}",lastName:"{last_name}"}},"woocommerce.add_to_cart":{id:"woocommerce.add_to_cart",name:"WooCommerce Add to Cart",category:"action",color:"#3b82f6",icon:aw,description:"Add product to cart",inputs:["trigger"],outputs:["cart_data"],config:{productId:"",quantity:1}}},...{conditional_action:{id:"conditional_action",name:"If Condition",category:"condition",color:"#f97316",icon:am,description:"Branch based on conditions",inputs:["trigger"],outputs:["true","false"],config:{operator:"AND",rules:[]}},condition_group:{id:"condition_group",name:"Condition Group",category:"condition",color:"#f97316",icon:om,description:"Group multiple conditions (AND/OR)",inputs:["trigger"],outputs:["true","false"],config:{operator:"AND",rules:[]}}}};function fE(e){return Object.values(go).filter(o=>o.category===e)}function mE(e){return go[e]}const hE=f.memo(function({node:o,selected:r,isDragging:a=!1,isConnecting:i=!1,connectionStart:c=null,onConnectionStart:d,onConnectionEnd:u}){const m=go[o.type];if(!m)return t.jsx("div",{"data-node-id":o.id,className:"absolute bg-red-100 border-2 border-red-500 rounded-lg p-4 z-30",style:{left:o.position.x,top:o.position.y,zIndex:o.zIndex},children:t.jsxs("p",{className:"text-sm text-red-600",children:["Unknown node: ",o.type]})});const h=m.icon,g=o.config._enabled!==!1,j={event:"border-green-500 bg-green-50",action:"border-blue-500 bg-blue-50",condition:"border-orange-500 bg-orange-50"}[m.category],y=r?"ring-4 ring-blue-300 shadow-xl scale-105":"shadow-md hover:shadow-lg hover:scale-[1.02]",w=a?"":"transition-all duration-200",C=i&&c?.nodeId!==o.id&&m.inputs.length>0,N=k=>{C&&u&&(k.preventDefault(),k.stopPropagation(),u(o.id,m.inputs[0]))};return t.jsxs("div",{"data-node-id":o.id,className:`absolute rounded-lg cursor-move select-none z-30 ${j} ${y} ${w}`,style:{left:o.position.x,top:o.position.y,width:200,zIndex:o.zIndex,border:C?"3px solid #3b82f6":"2px solid",boxShadow:C?"0 0 20px rgba(59, 130, 246, 0.4)":void 0},onMouseUp:N,children:[t.jsxs("div",{className:"flex items-center gap-2 p-3 border-b border-current/20",children:[t.jsx(h,{className:"w-5 h-5 flex-shrink-0",style:{color:m.color}}),t.jsx("span",{className:"font-medium text-sm truncate",children:m.name})]}),t.jsx("div",{className:"p-3 text-xs text-gray-600 space-y-1",children:Object.keys(o.config).length>0?Object.entries(o.config).slice(0,2).map(([k,_])=>t.jsxs("div",{className:"truncate",children:[t.jsxs("span",{className:"font-medium",children:[k,":"]})," ",t.jsx("span",{className:"text-gray-500",children:typeof _=="string"&&_.length>20?_.substring(0,20)+"...":String(_)})]},k)):t.jsx("div",{className:"text-gray-400 italic",children:"Not configured"})}),m.inputs.length>0&&t.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2",style:{zIndex:100},children:m.inputs.map((k,_)=>t.jsxs("div",{style:{marginTop:_*20},className:"relative",children:[t.jsx("div",{"data-port-type":"input","data-port-name":k,className:"w-4 h-4 rounded-full bg-gray-400 border-2 border-white shadow-sm transition-all duration-150",style:{transform:i&&c?.nodeId!==o.id?"scale(1.3)":"scale(1)",backgroundColor:i&&c?.nodeId!==o.id?"#3b82f6":"#9ca3af",boxShadow:i&&c?.nodeId!==o.id?"0 0 12px rgba(59, 130, 246, 0.6)":void 0},title:`Input: ${k}`}),t.jsx("div",{className:"absolute w-6 h-6 -translate-x-1/2 -translate-y-1/2 cursor-pointer",style:{left:"50%",top:"50%",zIndex:30},onMouseDown:E=>{E.preventDefault(),E.stopPropagation()},onMouseUp:E=>{E.preventDefault(),E.stopPropagation(),i&&c?.nodeId!==o.id&&u&&u(o.id,k)}})]},k))}),m.outputs.length>0&&t.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2",style:{zIndex:100},children:m.outputs.map((k,_)=>t.jsx("div",{"data-port-type":"output","data-port-name":k,className:"w-4 h-4 rounded-full border-2 border-white shadow-sm cursor-pointer hover:scale-130 transition-all duration-150",style:{backgroundColor:m.color,marginTop:_*20},title:`Output: ${k}`,onMouseDown:E=>{E.preventDefault(),E.stopPropagation(),d&&d(o.id,k)},onMouseEnter:E=>{const v=E.currentTarget;v.style.transform="scale(1.3)",v.style.boxShadow=`0 0 12px ${m.color}99`},onMouseLeave:E=>{const v=E.currentTarget;v.style.transform="scale(1)",v.style.boxShadow=""}},k))}),t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500 animate-pulse":"bg-gray-400"}`,title:g?"Enabled":"Disabled"})}),!g&&t.jsx("div",{className:"absolute inset-0 bg-gray-200/50 rounded-lg pointer-events-none flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Paused"})})]})});function gE({connections:e,nodes:o,viewport:r,selectedConnections:a,onConnectionClick:i,onDeleteConnection:c,isConnecting:d=!1,connectionStart:u=null}){const[m,h]=f.useState({x:0,y:0}),[g,j]=f.useState(null),y=f.useCallback((E,v,R=!1)=>{const z=o.find(de=>de.id===E);if(!z)return{x:0,y:0};const L=go[z.type];if(!L)return{x:0,y:0};const $=(R?L.outputs:L.inputs).findIndex(de=>de===v),H=200,G=100;return R?{x:z.position.x+H,y:z.position.y+G/2+$*20}:{x:z.position.x,y:z.position.y+G/2+$*20}},[o]),w=f.useCallback((E,v)=>{const R=v.x-E.x,z=Math.max(50,Math.abs(R)*.5),L=E.x+z,A=E.y,$=v.x-z,H=v.y;return`M ${E.x} ${E.y} C ${L} ${A}, ${$} ${H}, ${v.x} ${v.y}`},[]),C=f.useCallback((E,v)=>{let z=null,L=30;return o.forEach(A=>{if(A.id===u?.nodeId)return;const $=go[A.type];!$?.inputs||$.inputs.length===0||$.inputs.forEach(H=>{const G=y(A.id,H,!1),se=Math.sqrt(Math.pow(E-G.x,2)+Math.pow(v-G.y,2));se<L&&(L=se,z={nodeId:A.id,inputName:H,position:G})})}),z},[o,u,y]);f.useEffect(()=>{if(!d)return;const E=v=>{const R=document.querySelector(".canvas-container");if(!R)return;const z=R.getBoundingClientRect(),L=(v.clientX-z.left-r.x)/r.zoom,A=(v.clientY-z.top-r.y)/r.zoom,$=C(L,A);h($?$.position:{x:L,y:A})};return document.addEventListener("mousemove",E),()=>{document.removeEventListener("mousemove",E)}},[d,r,C]),f.useEffect(()=>{if(d&&u){const E=y(u.nodeId,u.outputName,!0);h(E)}},[d,u,y]);const N=f.useMemo(()=>e.map(E=>{const v=y(E.from,E.fromOutput,!0),R=y(E.to,E.toInput,!1);return{...E,path:w(v,R),startPos:v,endPos:R}}),[e,y,w]),k=f.useMemo(()=>{if(!d||!u)return null;const E=y(u.nodeId,u.outputName,!0),v={x:m.x,y:m.y};return w(E,v)},[d,u,y,w,m]),_=(E,v)=>{E.stopPropagation(),c?c(v):i?.(v)};return t.jsxs("svg",{className:"connection-overlay absolute pointer-events-none z-10",style:{left:0,top:0,width:"100%",height:"100%",overflow:"visible"},children:[t.jsxs("defs",{children:[t.jsxs("filter",{id:"electric-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),t.jsx("feGaussianBlur",{stdDeviation:"6",result:"outerGlow"}),t.jsx("feGaussianBlur",{stdDeviation:"12",result:"farGlow"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"farGlow"}),t.jsx("feMergeNode",{in:"outerGlow"}),t.jsx("feMergeNode",{in:"coloredBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsxs("radialGradient",{id:"electric-light",cx:"50%",cy:"50%",r:"50%",children:[t.jsx("stop",{offset:"0%",style:{stopColor:"#ffffff",stopOpacity:1}}),t.jsx("stop",{offset:"30%",style:{stopColor:"#bfdbfe",stopOpacity:.9}}),t.jsx("stop",{offset:"60%",style:{stopColor:"#3b82f6",stopOpacity:.6}}),t.jsx("stop",{offset:"100%",style:{stopColor:"#1d4ed8",stopOpacity:0}})]}),t.jsxs("filter",{id:"glow",children:[t.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"coloredBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsxs("filter",{id:"hover-glow",children:[t.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"coloredBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:t.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#6b7280"})}),t.jsx("marker",{id:"arrowhead-selected",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:t.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#3b82f6"})}),t.jsx("marker",{id:"arrowhead-hovered",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:t.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#ef4444"})}),t.jsx("marker",{id:"arrowhead-preview",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:t.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#10b981"})})]}),N.map(E=>{const v=a.includes(E.id),R=g===E.id;return t.jsxs("g",{onMouseEnter:()=>j(E.id),onMouseLeave:()=>j(null),children:[t.jsx("path",{d:E.path,stroke:"transparent",strokeWidth:"20",fill:"none",className:"pointer-events-auto cursor-pointer",onClick:z=>_(z,E.id)}),t.jsx("path",{d:E.path,stroke:v?"#3b82f6":R?"#ef4444":"#6b7280",strokeWidth:v?"3":"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",markerEnd:v?"url(#arrowhead-selected)":R?"url(#arrowhead-hovered)":"url(#arrowhead)",className:"pointer-events-none",style:{filter:v?"url(#glow)":R?"url(#hover-glow)":"none"}}),t.jsxs("g",{className:"pointer-events-none",children:[t.jsxs("ellipse",{rx:"10",ry:"3",fill:"url(#electric-light)",filter:"url(#electric-glow)",style:{opacity:.9},children:[t.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:E.path,rotate:"auto"}),t.jsx("animate",{attributeName:"opacity",values:"0.6;1;0.6",dur:"0.4s",repeatCount:"indefinite"})]}),t.jsxs("ellipse",{rx:"5",ry:"1.5",fill:"#ffffff",style:{opacity:.85},children:[t.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:E.path,rotate:"auto"}),t.jsx("animate",{attributeName:"opacity",values:"0.7;1;0.7",dur:"0.25s",repeatCount:"indefinite"})]})]}),t.jsx("text",{x:(E.startPos.x+E.endPos.x)/2,y:(E.startPos.y+E.endPos.y)/2-8,fill:R?"#ef4444":"#9ca3af",fontSize:"10",textAnchor:"middle",className:"pointer-events-none select-none",children:E.fromOutput}),R&&t.jsx("text",{x:(E.startPos.x+E.endPos.x)/2,y:(E.startPos.y+E.endPos.y)/2+12,fill:"#ef4444",fontSize:"9",textAnchor:"middle",className:"pointer-events-none select-none",style:{fontWeight:500},children:"Click to delete"})]},E.id)}),d&&k&&t.jsx("path",{d:k,stroke:"#10b981",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",markerEnd:"url(#arrowhead-preview)",className:"pointer-events-none",style:{animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]})}function xE({group:e,viewport:o,nodes:r,isAnyNodeDragging:a=!1,onUpdateGroup:i,onRemoveGroup:c,onMoveGroup:d}){const{id:u,name:m,bounds:h,color:g}=e,[j,y]=f.useState(!1),[w,C]=f.useState(!1),[N,k]=f.useState(!1),[_,E]=f.useState(null),[v,R]=f.useState({x:0,y:0}),[z,L]=f.useState({width:0,height:0,x:0,y:0}),A=f.useRef({x:0,y:0}),$=f.useRef({width:0,height:0,x:0,y:0}),H=f.useRef({x:0,y:0,initialBounds:h}),G=f.useRef({x:0,y:0,initialBounds:h}),se=f.useRef(h);f.useEffect(()=>{(h.x!==se.current.x||h.y!==se.current.y||h.width!==se.current.width||h.height!==se.current.height)&&!w&&!N&&((A.current.x!==0||A.current.y!==0)&&(R({x:0,y:0}),A.current={x:0,y:0}),($.current.width!==0||$.current.height!==0||$.current.x!==0||$.current.y!==0)&&(L({width:0,height:0,x:0,y:0}),$.current={width:0,height:0,x:0,y:0})),se.current=h},[h,w,N]);const de=ee=>{if(ee.type==="blur"||ee.key==="Enter"){const F=ee.target.value.trim();F&&F!==m&&i(u,{name:F}),ee.target.blur()}},je=ee=>{ee.stopPropagation(),c(u)},ne=f.useCallback(ee=>{if(ee.target.tagName==="INPUT"||ee.target.tagName==="BUTTON")return;ee.stopPropagation(),ee.preventDefault(),C(!0),H.current={x:ee.clientX,y:ee.clientY,initialBounds:{...h}},d(u,0,0,"start");const F=K=>{if(!H.current.initialBounds)return;const D=(K.clientX-H.current.x)/o.zoom,T=(K.clientY-H.current.y)/o.zoom,q=Math.round(D/20)*20,Y=Math.round(T/20)*20,J={x:q,y:Y};R(J),A.current=J,d(u,q,Y,"move")},X=()=>{const K=A.current;C(!1),(K.x!==0||K.y!==0)&&d(u,K.x,K.y,"end"),R({x:0,y:0}),A.current={x:0,y:0},H.current={x:0,y:0,initialBounds:h},document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",X)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",X)},[h,o.zoom,d,u]),Ne=f.useCallback((ee,F)=>{ee.stopPropagation(),ee.preventDefault(),k(!0),E(F),G.current={x:ee.clientX,y:ee.clientY,initialBounds:{...h}};const X=D=>{if(!G.current.initialBounds)return;const T=(D.clientX-G.current.x)/o.zoom,q=(D.clientY-G.current.y)/o.zoom,Y=G.current.initialBounds;let J={...Y};if(F==="bottom-right")J.width=Math.max(100,Y.width+T),J.height=Math.max(80,Y.height+q);else if(F==="bottom-left"){const V=Math.max(100,Y.width-T),ge=V-Y.width;J.x=Y.x-ge,J.width=V,J.height=Math.max(80,Y.height+q)}J.x=Math.round(J.x/20)*20,J.y=Math.round(J.y/20)*20,J.width=Math.round(J.width/20)*20,J.height=Math.round(J.height/20)*20;const xe={x:J.x-h.x,y:J.y-h.y,width:J.width-h.width,height:J.height-h.height};L(xe),$.current=xe},K=()=>{const D=$.current;if(k(!1),E(null),D.width!==0||D.height!==0||D.x!==0||D.y!==0){const T={x:h.x+D.x,y:h.y+D.y,width:h.width+D.width,height:h.height+D.height},q=r.filter(Y=>{const J=Y.position.x+200,xe=Y.position.y+100;return Y.position.x>=T.x&&J<=T.x+T.width&&Y.position.y>=T.y&&xe<=T.y+T.height});i(u,{bounds:T,nodeIds:q.map(Y=>Y.id)})}L({width:0,height:0,x:0,y:0}),$.current={width:0,height:0,x:0,y:0},G.current={x:0,y:0,initialBounds:h},document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",K)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",K)},[h,o.zoom,i,u,r]),oe=r&&e.nodeIds.some(ee=>{const F=r.find(X=>X.id===ee);return F&&F.isGroupDragging});return t.jsxs("div",{className:`absolute rounded-lg border group-container ${w||N||oe||a?"":"transition-all duration-200"}`,style:{left:h.x+v.x+z.x,top:h.y+v.y+z.y,width:h.width+z.width,height:h.height+z.height,borderColor:g||"rgba(59, 130, 246, 0.3)",backgroundColor:"rgba(59, 130, 246, 0.05)",borderStyle:"dashed",borderWidth:"2px",zIndex:e.zIndex||-1,pointerEvents:"auto"},onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[t.jsxs("div",{className:"absolute -top-7 left-0 flex items-center gap-1 pointer-events-auto",style:{zIndex:1},children:[t.jsx("div",{className:`cursor-move px-1 py-1 rounded text-center transition-all duration-200 flex items-center justify-center ${j?"bg-blue-100 border border-blue-300":"bg-transparent border border-transparent"}`,style:{width:"24px",height:"24px"},onMouseDown:ne,title:"Drag to move group",children:t.jsx("span",{className:"text-blue-500 text-sm leading-none",children:""})}),t.jsx("input",{type:"text",defaultValue:m,className:`text-gray-700 text-sm px-2 py-1 rounded min-w-0 transition-all duration-200 outline-none ${j?"border border-blue-300 bg-blue-50":"border border-transparent bg-transparent"}`,style:{height:"24px",minWidth:"80px"},onKeyDown:de,onBlur:de,onClick:ee=>ee.stopPropagation(),onMouseDown:ee=>ee.stopPropagation()}),t.jsx("button",{onClick:je,onMouseDown:ee=>ee.stopPropagation(),className:`text-red-400 hover:text-red-500 text-sm px-1 py-1 rounded transition-all duration-200 flex items-center justify-center ${j?"border border-red-300 bg-red-50 opacity-100":"border border-transparent bg-transparent opacity-0"}`,style:{width:"24px",height:"24px"},title:"Delete group",children:""})]}),j&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize bg-blue-200 border border-blue-400 rounded-tl-lg",style:{transform:"translate(2px, 2px)",zIndex:2},onMouseDown:ee=>Ne(ee,"bottom-right"),title:"Resize group",children:t.jsx("div",{className:"absolute inset-1 border-r border-b border-blue-500"})}),t.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 cursor-ne-resize bg-blue-200 border border-blue-400 rounded-tr-lg",style:{transform:"translate(-2px, 2px)",zIndex:2},onMouseDown:ee=>Ne(ee,"bottom-left"),title:"Resize group",children:t.jsx("div",{className:"absolute inset-1 border-l border-b border-blue-500"})})]}),w&&t.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 rounded-lg border-2 border-blue-400 border-opacity-50 pointer-events-none"}),N&&t.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 rounded-lg border-2 border-blue-400 border-opacity-50 pointer-events-none"})]})}function yE({nodes:e,connections:o,groups:r,viewport:a,selectedNodes:i,selectedConnections:c,onNodeClick:d,onNodeDragStart:u,onNodeDrag:m,onNodeDragEnd:h,onCanvasPan:g,onCanvasClick:j,onZoom:y,dragState:w,setDragState:C,isConnecting:N=!1,connectionStart:k=null,onConnectionStart:_,onConnectionEnd:E,onConnectionDropOnCanvas:v,onConnectionClick:R,onDeleteConnection:z,onCancelConnection:L,onSelectNodesInRect:A,onUpdateGroup:$,onRemoveGroup:H,onMoveGroup:G}){const se=f.useRef(null),de=f.useRef(!1),je=f.useRef({x:0,y:0}),ne=f.useRef({startPos:{x:0,y:0},initialViewport:{x:0,y:0,zoom:1},initialNodePositions:new Map}),Ne=f.useCallback(D=>{if(D.button!==0)return;const T=D.target,q={x:D.clientX,y:D.clientY};ne.current.startPos=q,ne.current.initialViewport={...a};const Y=T.closest("[data-node-id]");if(Y){const J=Y.getAttribute("data-node-id"),xe=D.shiftKey||D.metaKey||D.ctrlKey;d(J,xe);const V=i.includes(J)?i:[J];ne.current.initialNodePositions.clear(),V.forEach(ge=>{const _e=e.find(Se=>Se.id===ge);_e&&ne.current.initialNodePositions.set(ge,{..._e.position})}),de.current=!0,je.current=q,u(J,D.clientX,D.clientY),C({type:"node",startX:D.clientX,startY:D.clientY,currentX:D.clientX,currentY:D.clientY,nodeId:J});return}if(D.ctrlKey||D.metaKey){de.current=!0,je.current=q,C({type:"selection",startX:D.clientX,startY:D.clientY,currentX:D.clientX,currentY:D.clientY});return}de.current=!0,je.current=q,C({type:"viewport",startX:D.clientX,startY:D.clientY,currentX:D.clientX,currentY:D.clientY})},[d,u,C,a,i,e]),oe=f.useCallback(D=>{if(!de.current||!w)return;const T={x:D.clientX,y:D.clientY},q=T.x-ne.current.startPos.x,Y=T.y-ne.current.startPos.y;if(w.type==="node"){const J=ne.current.initialViewport.zoom;ne.current.initialNodePositions.forEach((xe,V)=>{const ge={x:xe.x+q/J,y:xe.y+Y/J};ge.x=Math.round(ge.x/20)*20,ge.y=Math.round(ge.y/20)*20,m(V,ge)})}else if(w.type==="viewport"){const J={x:ne.current.initialViewport.x+q,y:ne.current.initialViewport.y+Y};g(J.x-a.x,J.y-a.y)}je.current=T,C({...w,currentX:D.clientX,currentY:D.clientY})},[w,e,m,g,C]),ee=f.useCallback(D=>{if(N&&v){const T=D.target,q=T.closest("[data-node-id]"),Y=T.closest("[data-port-type]");if(!q&&!Y){const J=se.current?.getBoundingClientRect();if(J){const xe=(D.clientX-J.left-a.x)/a.zoom,V=(D.clientY-J.top-a.y)/a.zoom;v({x:xe,y:V})}}}if(de.current){if(de.current=!1,w?.type==="node")h();else if(w?.type==="selection"&&A){const T=se.current?.getBoundingClientRect();if(T){const q=(w.startX-T.left-a.x)/a.zoom,Y=(w.startY-T.top-a.y)/a.zoom,J=(w.currentX-T.left-a.x)/a.zoom,xe=(w.currentY-T.top-a.y)/a.zoom,V={x:Math.min(q,J),y:Math.min(Y,xe),width:Math.abs(J-q),height:Math.abs(xe-Y)},ge=e.filter(_e=>{const He=_e.position.x+200,Je=_e.position.y+100;return _e.position.x<V.x+V.width&&He>V.x&&_e.position.y<V.y+V.height&&Je>V.y});ge.length>0&&A(ge.map(_e=>_e.id))}}C(null)}},[w,h,C,N,v,a,e,A]),F=f.useCallback(D=>{const T=D.target;(T===se.current||T.closest(".canvas-grid"))&&j()},[j]),X=f.useCallback(D=>{D.preventDefault();const T=se.current?.getBoundingClientRect();if(!T)return;const q=D.clientX-T.left,Y=D.clientY-T.top;y(D.deltaY>0?-1:1,q,Y)},[y]),K=f.useCallback(D=>{if(D)return D.addEventListener("wheel",X,{passive:!1}),()=>{D.removeEventListener("wheel",X)}},[X]);return f.useEffect(()=>{const D=T=>{T.key==="Escape"&&N&&L&&(T.preventDefault(),L())};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[N,L]),t.jsxs("div",{ref:D=>{se.current=D,K(D)},className:"canvas-container relative w-full h-full bg-gray-50 cursor-grab active:cursor-grabbing",onMouseDown:Ne,onMouseMove:oe,onMouseUp:ee,onMouseLeave:ee,onClick:F,children:[t.jsx("div",{className:"canvas-grid absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(156, 163, 175, 0.4) 1px, transparent 0)",backgroundSize:`${20*a.zoom}px ${20*a.zoom}px`,backgroundPosition:`${a.x}px ${a.y}px`}}),t.jsxs("div",{className:"nodes-layer absolute inset-0",style:{transform:`translate(${a.x}px, ${a.y}px) scale(${a.zoom})`,transformOrigin:"0 0"},children:[r.map(D=>t.jsx(xE,{group:D,viewport:a,nodes:e,isAnyNodeDragging:w?.type==="node",onUpdateGroup:$||(()=>{}),onRemoveGroup:H||(()=>{}),onMoveGroup:G||(()=>{})},D.id)),t.jsx(gE,{connections:o,nodes:e,viewport:a,selectedConnections:c,onConnectionClick:R,onDeleteConnection:z,isConnecting:N,connectionStart:k}),e.map(D=>t.jsx(hE,{node:D,selected:i.includes(D.id),isDragging:w?.type==="node"&&w.nodeId===D.id,isConnecting:N,connectionStart:k,onConnectionStart:_,onConnectionEnd:E},D.id))]}),w?.type==="selection"&&t.jsx("div",{className:"absolute border-2 border-blue-500 bg-blue-500/10 pointer-events-none z-40",style:{left:Math.min(w.startX,w.currentX)-(se.current?.getBoundingClientRect().left||0),top:Math.min(w.startY,w.currentY)-(se.current?.getBoundingClientRect().top||0),width:Math.abs(w.currentX-w.startX),height:Math.abs(w.currentY-w.startY)}}),N&&t.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),t.jsx("span",{className:"text-sm font-medium",children:"Drag to a node input port to connect  Press Escape to cancel"})]}),t.jsxs("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2 bg-white rounded-lg shadow-lg p-2",children:[t.jsx("button",{onClick:()=>y(.1),className:"px-3 py-2 hover:bg-gray-100 rounded text-sm font-medium",title:"Zoom in",children:"+"}),t.jsx("button",{onClick:()=>y(-.1),className:"px-3 py-2 hover:bg-gray-100 rounded text-sm font-medium",title:"Zoom out",children:""}),t.jsxs("button",{onClick:()=>y(0),className:"px-3 py-2 hover:bg-gray-100 rounded text-xs",title:"Reset zoom",children:[Math.round(a.zoom*100),"%"]})]})]})}const vE=[{id:"event",name:"Events",icon:Bi,color:"#10b981"},{id:"action",name:"Actions",icon:id,color:"#3b82f6"},{id:"condition",name:"Conditions",icon:am,color:"#f97316"}];function bE({onAddNode:e}){const[o,r]=f.useState("event"),[a,i]=f.useState(""),d=(()=>{const h=fE(o);if(!a)return h;const g=a.toLowerCase();return h.filter(j=>j.name.toLowerCase().includes(g)||j.description.toLowerCase().includes(g))})(),u=(h,g)=>{h.dataTransfer.setData("application/super-forms-node",g.id),h.dataTransfer.effectAllowed="copy"},m=h=>{e(h.id,{x:Math.random()*200+100,y:Math.random()*200+100})};return t.jsxs("div",{className:"node-palette flex flex-col h-full bg-white border-r border-gray-200",children:[t.jsxs("div",{className:"p-3 border-b border-gray-200",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Node Library"}),t.jsxs("div",{className:"relative",children:[t.jsx(Qs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",value:a,onChange:h=>i(h.target.value),placeholder:"Search nodes...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsx("div",{className:"flex border-b border-gray-200",children:vE.map(h=>{const g=h.icon,j=o===h.id;return t.jsx("button",{onClick:()=>r(h.id),className:`flex-1 px-2 py-2 text-xs font-medium transition-colors ${j?"bg-gray-50 text-gray-900 border-b-2":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,style:{borderBottomColor:j?h.color:"transparent"},children:t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[t.jsx(g,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:h.name})]})},h.id)})}),t.jsx("div",{className:"flex-1 overflow-y-auto",style:{maxHeight:"400px"},children:t.jsxs("div",{className:"p-2 space-y-1",children:[d.map(h=>t.jsx(wE,{node:h,onDragStart:g=>u(g,h),onClick:()=>m(h)},h.id)),d.length===0&&t.jsxs("div",{className:"text-center py-6 text-gray-500",children:[t.jsx(Qs,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No nodes found"}),t.jsx("p",{className:"text-xs mt-1",children:"Try a different search term"})]})]})}),t.jsx("div",{className:"p-2 border-t border-gray-200 bg-gray-50",children:t.jsx("p",{className:"text-xs text-gray-500",children:"Drag or click nodes to add them to the canvas"})})]})}function wE({node:e,onDragStart:o,onClick:r}){const a=e.icon;return t.jsxs("div",{draggable:!0,onDragStart:o,onClick:r,className:"flex items-center gap-2 p-2 rounded-md border border-gray-200 hover:border-gray-300 hover:bg-gray-50 cursor-move transition-all",style:{borderLeftColor:e.color,borderLeftWidth:"3px"},children:[t.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded flex items-center justify-center",style:{backgroundColor:`${e.color}15`},children:t.jsx(a,{className:"w-4 h-4",style:{color:e.color}})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-xs font-medium text-gray-900 truncate",children:e.name}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.description})]}),t.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[e.inputs.length>0&&t.jsxs("div",{className:"flex items-center gap-0.5",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),t.jsx("span",{children:e.inputs.length})]}),e.outputs.length>0&&t.jsxs("div",{className:"flex items-center gap-0.5",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),t.jsx("span",{children:e.outputs.length})]})]})]})}function jE({selectedNode:e,onUpdateNode:o,onClose:r,onOpenEmailBuilder:a}){if(!e)return t.jsx("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:t.jsx("div",{className:"flex-1 flex items-center justify-center p-8 text-center",children:t.jsxs("div",{children:[t.jsx(Ai,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No Node Selected"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Click on a node to view its properties"})]})})});const i=mE(e.type);if(!i)return t.jsx("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:t.jsx("div",{className:"flex-1 flex items-center justify-center p-8 text-center",children:t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-red-600",children:["Unknown node type: ",e.type]})})})});const c=i.icon,d=(m,h)=>{o(e.id,{config:{...e.config,[m]:h}})},u=(m,h)=>m==="formId"?t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Form"}),t.jsxs("select",{value:h||"",onChange:g=>d(m,g.target.value?parseInt(g.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"All Forms"}),window.sfuiData?.forms?.map(g=>t.jsx("option",{value:g.id,children:g.title},g.id))]})]},m):m==="method"&&e.type==="http_request"?t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"HTTP Method"}),t.jsxs("select",{value:h||"POST",onChange:g=>d(m,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"GET",children:"GET"}),t.jsx("option",{value:"POST",children:"POST"}),t.jsx("option",{value:"PUT",children:"PUT"}),t.jsx("option",{value:"PATCH",children:"PATCH"}),t.jsx("option",{value:"DELETE",children:"DELETE"})]})]},m):m==="bodyType"&&e.type==="send_email"?t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Body Type"}),t.jsxs("select",{value:h||"html",onChange:g=>d(m,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"html",children:"HTML"}),t.jsx("option",{value:"text",children:"Plain Text"})]})]},m):m==="body"||m==="message"||m==="payload"||m==="postContent"?t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()}),t.jsx("textarea",{value:h||"",onChange:g=>d(m,g.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"Supports {tags} for dynamic values"}),t.jsxs("p",{className:"text-xs text-gray-500",children:[" Use ","{field_name}"," to insert form field values"]})]},m):typeof h=="number"||m==="duration"||m==="quantity"?t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()}),t.jsx("input",{type:"number",value:h||"",onChange:g=>d(m,parseFloat(g.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},m):typeof h=="boolean"?t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",id:`config-${m}`,checked:h,onChange:g=>d(m,g.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("label",{htmlFor:`config-${m}`,className:"text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()})]},m):Array.isArray(h)?t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()}),t.jsx("textarea",{value:JSON.stringify(h,null,2),onChange:g=>{try{const j=JSON.parse(g.target.value);d(m,j)}catch{}},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]},m):typeof h=="object"&&h!==null?t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()}),t.jsx("textarea",{value:JSON.stringify(h,null,2),onChange:g=>{try{const j=JSON.parse(g.target.value);d(m,j)}catch{}},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]},m):t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()}),t.jsx("input",{type:"text",value:h||"",onChange:g=>d(m,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Supports {tags}"})]},m);return t.jsxs("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${i.color}20`},children:t.jsx(c,{className:"w-5 h-5",style:{color:i.color}})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:i.name}),t.jsx("p",{className:"text-xs text-gray-500 capitalize",children:i.category})]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(pt,{className:"w-4 h-4 text-gray-500"})})]}),t.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:t.jsx("p",{className:"text-sm text-gray-600",children:i.description})}),t.jsxs("div",{className:"p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(pm,{className:"w-4 h-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Node Enabled"})]}),t.jsx("button",{onClick:()=>o(e.id,{config:{...e.config,_enabled:e.config._enabled===!1}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${e.config._enabled!==!1?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm ${e.config._enabled!==!1?"translate-x-6":"translate-x-1"}`})})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.config._enabled!==!1?"This node will execute when triggered":"This node is paused and will be skipped"})]}),e.type==="send_email"&&a&&t.jsxs("div",{className:"p-4 border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>a(e),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(hs,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"Open Email Builder"}),t.jsx(Ci,{className:"w-3 h-3 ml-1"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Design your email template visually"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:Object.keys(e.config).filter(m=>!m.startsWith("_")).length>0?Object.entries(e.config).filter(([m])=>!m.startsWith("_")).map(([m,h])=>u(m,h)):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(It,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),t.jsx("p",{className:"text-sm",children:"No configuration needed"}),t.jsx("p",{className:"text-xs mt-1",children:"This node works out of the box"})]})}),t.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[t.jsx("span",{children:"Node ID:"}),t.jsx("code",{className:"font-mono bg-white px-2 py-1 rounded border border-gray-200",children:e.id})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[t.jsx("span",{children:"Type:"}),t.jsx("code",{className:"font-mono bg-white px-2 py-1 rounded border border-gray-200",children:e.type})]})]})]})}function NE({workflowName:e,onWorkflowNameChange:o,onSave:r,onUndo:a,onRedo:i,onClear:c,onTest:d,onPreview:u,canUndo:m,canRedo:h,isSaving:g=!1}){return t.jsxs("div",{className:"toolbar flex items-center justify-between px-4 py-3 bg-white border-b border-gray-200",children:[t.jsx("div",{className:"flex items-center gap-4",children:t.jsx("input",{type:"text",value:e,onChange:j=>o(j.target.value),placeholder:"Untitled Workflow",className:"text-lg font-semibold text-gray-900 bg-transparent border-none focus:outline-none focus:ring-0 min-w-[300px]"})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:a,disabled:!m,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Undo (Ctrl+Z)",children:t.jsx(uw,{className:"w-4 h-4 text-gray-700"})}),t.jsx("button",{onClick:i,disabled:!h,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Redo (Ctrl+Y)",children:t.jsx(rw,{className:"w-4 h-4 text-gray-700"})}),t.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),t.jsx("button",{onClick:c,className:"p-2 rounded hover:bg-gray-100 transition-colors",title:"Clear Workflow",children:t.jsx(Nn,{className:"w-4 h-4 text-gray-700"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx(Ys,{className:"w-4 h-4"}),"Preview"]}),t.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx(id,{className:"w-4 h-4"}),"Test"]}),t.jsxs("button",{onClick:r,disabled:g,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[t.jsx(Xs,{className:"w-4 h-4"}),g?"Saving...":"Save Workflow"]})]})]})}function kE({isOpen:e,onClose:o,connectionStart:r,position:a,onCreateAndConnect:i}){const[c,d]=f.useState(""),[u,m]=f.useState("all"),h=[{id:"all",name:"All Nodes",icon:""},{id:"action",name:"Actions",icon:""},{id:"condition",name:"Conditions",icon:""}],g=f.useMemo(()=>Object.entries(go).map(([C,N])=>({id:C,...N})).filter(C=>{if(!C.inputs||C.inputs.length===0||u!=="all"&&C.category!==u)return!1;if(c){const N=c.toLowerCase();return C.name.toLowerCase().includes(N)||C.description&&C.description.toLowerCase().includes(N)}return!0}),[u,c]),j=w=>{a&&(i(w.id,a),o())},y=w=>{w.key==="Escape"&&o()};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:o,children:t.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-96 max-h-[600px] flex flex-col",onClick:w=>w.stopPropagation(),onKeyDown:y,children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Connect to New Node"}),t.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 dark:hover:text-white transition-colors",title:"Close",children:t.jsx(pt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Choose a node to create and connect to"})]}),t.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"relative",children:[t.jsx(Qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search nodes...",value:c,onChange:w=>d(w.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg pl-10 pr-3 py-2 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",autoFocus:!0})]})}),t.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:t.jsx("div",{className:"flex gap-2",children:h.map(w=>t.jsxs("button",{onClick:()=>m(w.id),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${u===w.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[w.icon," ",w.name]},w.id))})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:t.jsxs("div",{className:"space-y-2",children:[g.map(w=>{const C=w.icon;return t.jsx("div",{onClick:()=>j(w),className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 cursor-pointer transition-all duration-200 hover:bg-gray-100 dark:hover:bg-gray-700 hover:shadow-lg border border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500",style:{borderLeftColor:w.color,borderLeftWidth:"4px"},children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-xl flex-shrink-0",children:t.jsx(C,{className:"w-5 h-5",style:{color:w.color}})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-gray-900 dark:text-white font-medium text-sm",children:w.name}),w.description&&t.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-xs",children:w.description}),t.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs",children:[w.inputs&&w.inputs.length>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),t.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[w.inputs.length," input",w.inputs.length>1?"s":""]})]}),w.outputs&&w.outputs.length>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[w.outputs.length," output",w.outputs.length>1?"s":""]})]})]})]})]})},w.id)}),g.length===0&&t.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[t.jsx("div",{className:"text-4xl mb-3",children:""}),t.jsx("p",{children:"No matching nodes found"}),t.jsx("p",{className:"text-xs mt-1",children:"Try adjusting your search terms"})]})]})}),t.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:t.jsx("div",{className:"flex justify-end gap-2",children:t.jsx("button",{onClick:o,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cancel"})})})]})}):null}function Ex({email:e}){const a=`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    <style>
      /* Reset styles for email content */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        font-size: 14px;
        line-height: 1.6;
        color: #333333;
      }
      
      p {
        margin: 0 0 10px 0;
      }
      
      h1, h2, h3, h4, h5, h6 {
        margin: 0 0 10px 0;
        font-weight: 600;
      }
      
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      h3 { font-size: 18px; }
      h4 { font-size: 16px; }
      h5 { font-size: 14px; }
      h6 { font-size: 12px; }
      
      a {
        color: #0066cc;
        text-decoration: underline;
      }
      
      img {
        max-width: 100%;
        height: auto;
      }
      
      table {
        border-collapse: collapse;
        width: 100%;
      }
      
      th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
      
      blockquote {
        margin: 0 0 10px 0;
        padding: 10px 20px;
        border-left: 4px solid #ddd;
        background-color: #f9f9f9;
      }
      
      ul, ol {
        margin: 0 0 10px 20px;
        padding: 0;
      }
      
      li {
        margin: 0 0 5px 0;
      }
      
      /* Button styles */
      .button {
        display: inline-block;
        padding: 12px 24px;
        background-color: #0066cc;
        color: #ffffff;
        text-decoration: none;
        border-radius: 4px;
        font-weight: 600;
      }
      
      /* Responsive */
      @media only screen and (max-width: 600px) {
        body {
          font-size: 16px !important;
        }
        
        table {
          width: 100% !important;
        }
        
        .button {
          display: block !important;
          width: 100% !important;
        }
      }
    </style>
  
      </head>
      <body>
        <div style="max-width: 600px; margin: 0 auto;">
          ${e.body||"<p>Email content will appear here...</p>"}
        </div>
      </body>
    </html>
  `;return t.jsx("div",{className:"email-content",children:t.jsx("iframe",{srcDoc:a,className:"w-full h-full border-0",style:{minHeight:"400px"},title:"Email Preview",sandbox:"allow-same-origin"})})}function Sn({value:e,onChange:o,placeholder:r="Click to edit",className:a="",multiline:i=!1,type:c="text",showEditIcon:d=!0,noPadding:u=!1}){const[m,h]=f.useState(!1),[g,j]=f.useState(e||""),[y,w]=f.useState(!1),C=f.useRef(null);f.useEffect(()=>{m&&C.current&&(C.current.focus(),C.current.select&&C.current.select())},[m]),f.useEffect(()=>{j(e||"")},[e]);const N=()=>{o&&g!==e&&o(g),h(!1)},k=()=>{j(e||""),h(!1)},_=v=>{v.key==="Enter"&&!i?(v.preventDefault(),N()):v.key==="Escape"&&(v.preventDefault(),k())},E=()=>{m||h(!0)};if(m){const v=i?"textarea":"input";return t.jsxs("div",{className:"inline-flex items-center gap-1",children:[t.jsx(v,{ref:C,type:c,value:g,onChange:R=>j(R.target.value),onKeyDown:_,onBlur:N,className:pe("bg-white border border-gray-300 rounded",!u&&"px-2 py-0.5","outline-none focus:border-blue-500",!u&&"h-[28px]",i&&"resize-none min-h-[60px] h-auto",a),placeholder:r}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{type:"button",onClick:N,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Save",children:t.jsx(ji,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onClick:k,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Cancel",children:t.jsx(pt,{className:"w-4 h-4"})})]})]})}return t.jsxs("span",{className:pe("inline-flex items-center gap-1 cursor-pointer group","border border-transparent rounded",!u&&"px-2 py-0.5",!u&&"h-[28px]",a),onClick:E,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),title:"Click to edit",children:[t.jsx("span",{className:pe(!e&&"text-gray-400"),children:e||r}),d&&y&&t.jsx(er,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}function CE({scheduledDate:e,schedule:o,className:r="",size:a="normal"}){const i=o?.enabled&&o?.schedules?.length>0;if(!e&&!i)return null;const c=a==="small";if(i&&!e){const u=o.schedules.length;return t.jsxs("div",{className:pe("inline-flex items-center gap-1",c?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",c?"px-2 py-0.5":"px-3 py-1",r),children:[t.jsx(On,{className:pe(c?"w-3 h-3":"w-4 h-4")}),t.jsxs("span",{className:"font-medium",children:[u," ",u===1?"Schedule":"Schedules"]})]})}const d=new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return t.jsxs("div",{className:pe("inline-flex items-center gap-1",c?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",c?"px-2 py-0.5":"px-3 py-1",r),children:[t.jsx(On,{className:pe(c?"w-3 h-3":"w-4 h-4")}),t.jsx("span",{className:"font-medium",children:"Scheduled"}),!c&&t.jsx("span",{className:"text-blue-500",children:""}),!c&&t.jsx("span",{children:d})]})}let En=null;function SE({onSelect:e,onClose:o,title:r="Select Media"}){f.useEffect(()=>{if(typeof wp>"u"||!wp.media){console.error("WordPress media library is not available"),o();return}En?En.options.title=r:En=wp.media({title:r,button:{text:"Select"},multiple:!1}),En.off("select"),En.off("close");const i=()=>{const d=En.state().get("selection").first().toJSON();if(d){const u={id:d.id,title:d.title,filename:d.filename,url:d.url,mime:d.mime||d.type,type:d.mime||d.type,filesizeHumanReadable:d.filesizeHumanReadable||a(d.filesize),filesize:d.filesize};e(u)}},c=()=>{o()};return En.on("select",i),En.on("close",c),En.open(),()=>{En&&(En.off("select",i),En.off("close",c))}},[]);function a(i){if(!i)return"Unknown size";const c=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(i)/Math.log(1024));return Math.round(i/Math.pow(1024,d)*100)/100+" "+c[d]}return null}const EE=De.memo(SE),_x=({className:e})=>t.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("text",{x:"7",y:"17",fontSize:"8",fontWeight:"600",fill:"currentColor",stroke:"none",children:"PDF"})]});function _E({attachments:e=[],onChange:o,isBuilder:r=!1}){const[a,i]=f.useState(!1),[c,d]=f.useState(null),u=f.useCallback(y=>{const w={id:y.id,name:y.filename||y.title||"Untitled",url:y.url,type:y.mime||y.type||"application/octet-stream",size:y.filesizeHumanReadable||y.filesize||"Unknown size"};if(c!==null){const C=[...e];C[c]=w,o(C),d(null)}else o([...e,w]);i(!1)},[e,o,c]),m=y=>{const w=e.filter((C,N)=>N!==y);o(w)},h=y=>{d(y),i(!0)},g=f.useCallback(()=>{i(!1),d(null)},[]),j=(y,w="")=>{if(y.startsWith("image/"))return Di;if(y.includes("pdf"))return _x;if(y.includes("spreadsheet")||y.includes("excel")||y.includes("csv"))return Ti;if(y.includes("video/"))return Pi;if(y.includes("audio/"))return _i;if(y.includes("zip")||y.includes("tar")||y.includes("archive"))return Ei;if(y.includes("text/plain"))return Mi;switch(w.split(".").pop()?.toLowerCase()){case"pdf":return _x;case"csv":case"xls":case"xlsx":case"ods":return Ti;case"doc":case"docx":case"odt":case"rtf":case"txt":return Mi;case"mp4":case"avi":case"mov":case"wmv":case"flv":case"webm":return Pi;case"mp3":case"wav":case"ogg":case"flac":case"aac":return _i;case"zip":case"rar":case"7z":case"tar":case"gz":return Ei;case"js":case"jsx":case"ts":case"tsx":case"html":case"css":case"php":case"py":case"java":case"cpp":case"c":case"json":case"xml":return Ri;case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":case"bmp":case"ico":return Di;default:return rm}};return!r&&e.length===0?null:t.jsxs("div",{className:"border-t pt-4 mt-2.5",children:[r&&t.jsxs("button",{onClick:()=>{d(null),i(!0)},className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1 mb-3",children:[t.jsx(um,{className:"w-3 h-3"}),"Attach files"]}),e.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((y,w)=>{const C=j(y.type,y.name);return t.jsxs("div",{className:"group inline-flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#f5f5f5"},children:[t.jsx(C,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),t.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-700 group-hover:text-blue-600 transition-colors flex items-center gap-1",children:[t.jsx("span",{children:y.name}),t.jsx(Ci,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",y.size,")"]}),r&&t.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>h(w),className:"p-1 text-blue-600 hover:text-blue-700",title:"Replace attachment",children:t.jsx(er,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>m(w),className:"p-1 text-red-600 hover:text-red-700",title:"Remove attachment",children:t.jsx(pt,{className:"w-4 h-4"})})]})]},`${y.id}-${w}`)})}),a&&t.jsx(EE,{onSelect:u,onClose:g,title:c!==null?"Replace Attachment":"Select Attachment"})]})}const Rx=De.memo(_E);function du({email:e,isMobile:o,isBuilder:r,renderBody:a,updateEmailField:i,activeEmailId:c,isHtmlMode:d,onModeChange:u}){const m=e.from_name||"Sender Name",h=e.from_email||"sender@example.com",g=e.subject||"Email Subject",j=e.to||"recipient@example.com",y=e.cc||"",w=e.bcc||"",C=new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),N=f.useCallback((k,_)=>{i&&c&&i(c,k,_)},[i,c]);return o?t.jsxs("div",{className:"h-full bg-white flex flex-col max-w-md mx-auto",children:[t.jsx("div",{className:"bg-white border-b px-4 py-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("button",{className:"p-2",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{className:"p-2",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),t.jsx("button",{className:"p-2",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]})}),t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsxs("div",{className:"p-4",children:[r?t.jsx(Sn,{value:e.subject,onChange:k=>N("subject",k),placeholder:"Email Subject",className:"text-lg font-normal text-gray-900 mb-4",noPadding:!0}):t.jsx("h2",{className:"text-lg font-normal text-gray-900 mb-4",children:g}),t.jsxs("div",{className:"flex items-start gap-5 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600",children:t.jsx(ca,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[r?t.jsx(Sn,{value:e.from_name,onChange:k=>N("from_name",k),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}):t.jsx("span",{className:"font-medium text-gray-900",children:m}),t.jsx("span",{className:"text-xs text-gray-500",children:C})]}),t.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:r?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"inline-block w-12",children:"to"}),t.jsx(Sn,{value:e.to,onChange:k=>N("to",k),placeholder:"recipient@example.com",type:"email",className:"text-sm text-gray-600"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"inline-block w-12",children:"cc"}),t.jsx(Sn,{value:e.cc||"",onChange:k=>N("cc",k),placeholder:"no CC defined",type:"email",className:"text-sm text-gray-600"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"inline-block w-12",children:"bcc"}),t.jsx(Sn,{value:e.bcc||"",onChange:k=>N("bcc",k),placeholder:"no BCC defined",type:"email",className:"text-sm text-gray-600"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:["to ",j]}),y&&t.jsxs("div",{children:["cc: ",y]}),w&&t.jsxs("div",{children:["bcc: ",w]})]})})]})]}),t.jsxs("div",{className:"flex items-center justify-between gap-2 px-2",children:[t.jsx(Rx,{attachments:e.attachments||[],onChange:k=>N("attachments",k),isBuilder:r}),r&&u&&t.jsxs("div",{className:"flex items-center gap-0.5 bg-gray-100 rounded-md p-0.5",children:[t.jsx("button",{onClick:()=>!d||u("visual"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"text-gray-500":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:t.jsx(Zn,{className:"w-3 h-3"})}),t.jsx("button",{onClick:()=>d||u("html"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"bg-white text-gray-900 shadow-sm":"text-gray-500"),title:"HTML Editor",children:t.jsx(It,{className:"w-3 h-3"})})]})]}),t.jsx("div",{className:"bg-white p-2",children:t.jsx("div",{className:"bg-white min-h-[200px] p-0",children:r&&a?a():t.jsx(Ex,{email:e})})})]})})]}):t.jsxs("div",{className:"h-full bg-white flex flex-col",children:[t.jsx("div",{className:"border-b bg-white",children:t.jsx("div",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-start gap-5",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 flex-shrink-0",children:t.jsx(ca,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[r?t.jsx(Sn,{value:e.subject,onChange:k=>N("subject",k),placeholder:"Email Subject",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},noPadding:!0}):t.jsx("h1",{className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},children:g}),t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-xs text-gray-600 rounded",children:"Inbox"}),(e.scheduled_date||e.schedule)&&t.jsx(CE,{scheduledDate:e.scheduled_date,schedule:e.schedule})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:t.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),t.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:t.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center",children:r?t.jsxs(t.Fragment,{children:[t.jsx(Sn,{value:e.from_name,onChange:k=>N("from_name",k),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}),t.jsx("span",{className:"text-sm text-gray-600 ml-2.5",children:"<"}),t.jsx(Sn,{value:e.from_email,onChange:k=>N("from_email",k),placeholder:"sender@example.com",type:"email",className:"text-sm text-gray-600",noPadding:!0}),t.jsx("span",{className:"text-sm text-gray-600",children:">"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"font-medium text-gray-900",children:m}),t.jsxs("span",{className:"text-sm text-gray-600",children:["<",h,">"]})]})}),t.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:r?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"inline-block w-12",children:"to"}),t.jsx(Sn,{value:e.to,onChange:k=>N("to",k),placeholder:"recipient@example.com",type:"email",className:"text-sm text-gray-600"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"inline-block w-12",children:"cc"}),t.jsx(Sn,{value:e.cc||"",onChange:k=>N("cc",k),placeholder:"no CC defined",type:"email",className:"text-sm text-gray-600"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"inline-block w-12",children:"bcc"}),t.jsx(Sn,{value:e.bcc||"",onChange:k=>N("bcc",k),placeholder:"no BCC defined",type:"email",className:"text-sm text-gray-600"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:["to ",j]}),y&&t.jsxs("div",{children:["cc: ",y]}),w&&t.jsxs("div",{children:["bcc: ",w]})]})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"text-sm text-gray-500",children:C}),t.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:t.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),t.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:t.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})})]})]}),t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsx(Rx,{attachments:e.attachments||[],onChange:k=>N("attachments",k),isBuilder:r}),r&&u&&t.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-0.5",children:[t.jsxs("button",{onClick:()=>!d||u("visual"),className:pe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all",d?"text-gray-500 hover:text-gray-700":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:[t.jsx(Zn,{className:"w-4 h-4"}),t.jsx("span",{children:"Visual"})]}),t.jsxs("button",{onClick:()=>d||u("html"),className:pe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all",d?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),title:"HTML Editor",children:[t.jsx(It,{className:"w-4 h-4"}),t.jsx("span",{children:"HTML"})]})]})]})]})]})})}),t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsxs("div",{className:"max-w-[1000px] mx-auto bg-white",children:[t.jsx("div",{className:"bg-white min-h-[200px] p-0",children:r&&a?a():t.jsx(Ex,{email:e})}),t.jsx("div",{className:"border-t pt-6 pl-6",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{className:"px-4 py-2 bg-white border rounded-full text-sm font-medium text-gray-700 cursor-not-allowed",disabled:!0,children:[t.jsx("svg",{className:"w-4 h-4 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Reply"]}),t.jsxs("button",{className:"px-4 py-2 bg-white border rounded-full text-sm font-medium text-gray-700 cursor-not-allowed",disabled:!0,children:[t.jsx("svg",{className:"w-4 h-4 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),"Forward"]})]})})]})})]})}const st=Hi((e,o)=>({elements:[],selectedElementId:null,isDragging:!1,draggedElement:null,editingTextElementId:null,currentTemplate:null,savedTemplates:[],templateCategories:[{id:"welcome",name:"Welcome/Onboarding",count:5},{id:"transactional",name:"Transactional",count:5},{id:"newsletter",name:"Newsletter",count:5},{id:"notification",name:"Notification",count:5},{id:"minimal",name:"Minimal",count:3}],previewClient:"gmail-desktop",previewData:{},elementTypes:{emailWrapper:{id:"emailWrapper",name:"Email Wrapper",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{backgroundColor:"#f5f5f5"}},emailContainer:{id:"emailContainer",name:"Email Container",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{width:"600px",margin:{top:50,right:"auto",bottom:50,left:"auto"},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#e5e5e5",padding:{top:60,right:30,bottom:60,left:30},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",boxShadow:"none",borderRadius:0}},section:{id:"section",name:"Section",icon:"",defaultProps:{margin:{top:0,right:0,bottom:0,left:0},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#000000",padding:{top:20,right:20,bottom:20,left:20},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",fullWidth:!1}},columns:{id:"columns",name:"Columns",icon:"",defaultProps:{columns:2,gap:20,stackOnMobile:!0}},text:{id:"text",name:"Text",icon:"",defaultProps:{content:"Click to edit this text...",fontSize:16,fontFamily:"Arial, sans-serif",color:"#333333",lineHeight:1.6,align:"left",width:"100%",margin:{top:0,right:0,bottom:0,left:0},padding:{top:0,right:0,bottom:0,left:0}}},image:{id:"image",name:"Image",icon:"",defaultProps:{src:"",alt:"",width:"100%",height:"auto",align:"center",link:""}},button:{id:"button",name:"Button",icon:"",defaultProps:{text:"Click Here",href:"#",backgroundColor:"#0066cc",color:"#ffffff",fontSize:16,fontWeight:"bold",padding:{top:12,right:24,bottom:12,left:24},borderRadius:4,align:"center",fullWidth:!1}},divider:{id:"divider",name:"Divider",icon:"",defaultProps:{height:1,color:"#dddddd",style:"solid",margin:{top:20,bottom:20}}},spacer:{id:"spacer",name:"Spacer",icon:"",defaultProps:{height:20}},social:{id:"social",name:"Social Icons",icon:"",defaultProps:{icons:["facebook","twitter","instagram","linkedin"],iconSize:32,iconColor:"#333333",spacing:10,align:"center"}},formData:{id:"formData",name:"Form Data",icon:"",defaultProps:{field:"",fallback:"",format:"text"}},html:{id:"html",name:"HTML",icon:"</>",defaultProps:{content:"<p>Your HTML content here...</p>"}}},addElement:(r,a=null,i=null)=>{console.log(" addElement called:",{type:r,parentId:a,position:i});const{elementTypes:c}=o(),d=c[r];if(!d){console.error(" Element type not found:",r);return}if(d.isSystemElement){console.log(" Skipping system element creation:",r);return}const u={id:gt(),type:r,props:{...d.defaultProps},children:[]};return console.log(" Created new element:",u),e(m=>{console.log(" Current state before adding:",m.elements);const h=o().ensureSystemElements(m.elements);if(console.log(" State after ensuring system elements:",h),a){console.log(" Adding to parent:",a);const g={elements:xo(h,a,u,i)};return console.log(" Final state after addToParent:",g.elements),g}else{console.log(" Adding to root - finding email container...");const g=(y,w)=>{for(const C of y){if(C.type===w)return C;if(C.children&&C.children.length>0){const N=g(C.children,w);if(N)return N}}return null},j=g(h,"emailContainer");if(console.log(" Found email container:",j),j){console.log(" Adding to email container:",j.id);const y={elements:xo(h,j.id,u,i)};return console.log(" Final state after addToParent to container:",y.elements),y}else{console.log(" No email container found, adding to root");const y=[...h];return i!==null?y.splice(i,0,u):y.push(u),console.log(" Final state (root fallback):",y),{elements:y}}}}),console.log(" addElement completed, returning:",u.id),u.id},updateElement:(r,a)=>{e(i=>({elements:pu(i.elements,r,a)}))},deleteElement:r=>{e(a=>({elements:Sl(a.elements,r),selectedElementId:a.selectedElementId===r?null:a.selectedElementId}))},moveElement:(r,a,i)=>{e(c=>{let d=[...c.elements],u=null;if(d=Sl(d,r,m=>{u=m}),!u)return c;if(u.type==="emailWrapper"||u.type==="emailContainer")return console.log(" Cannot move system elements"),c;if(a)d=xo(d,a,u,i);else{const m=(g,j)=>{for(const y of g){if(y.type===j)return y;if(y.children&&y.children.length>0){const w=m(y.children,j);if(w)return w}}return null},h=m(d,"emailContainer");if(h)console.log(" Moving to email container:",h.id),d=xo(d,h.id,u,i);else return console.log(" No email container found, cannot add element"),c}return{elements:d}})},selectElement:r=>{console.log("selectElement called with id:",r),e({selectedElementId:r}),console.log("selectedElementId set to:",r)},clearCanvas:()=>{e({elements:[],selectedElementId:null})},setElements:r=>{const a=o().ensureSystemElements(r||[]);e({elements:a})},ensureSystemElements:r=>{const{elementTypes:a}=o();let i=[...r];const c=(h,g)=>{for(const j of h){if(j.type===g)return j;if(j.children&&j.children.length>0){const y=c(j.children,g);if(y)return y}}return null};let d=i.find(h=>h.type==="emailWrapper");d||(d={id:`email-wrapper-${Date.now()}`,type:"emailWrapper",props:{...a.emailWrapper.defaultProps},children:[]},i.unshift(d));let u=c([d],"emailContainer");u||(u={id:`email-container-${Date.now()}`,type:"emailContainer",props:{...a.emailContainer.defaultProps},children:[]},d.children.unshift(u));const m=i.filter(h=>h.type!=="emailWrapper");return m.length>0&&(u.children.push(...m),i=i.filter(h=>h.type==="emailWrapper")),i},saveAsTemplate:(r,a,i)=>{const{elements:c}=o(),d={id:gt(),name:r,description:a,category:i,elements:JSON.parse(JSON.stringify(c)),createdAt:new Date().toISOString(),thumbnail:null};return e(u=>({savedTemplates:[...u.savedTemplates,d]})),d},loadTemplate:r=>{const{savedTemplates:a}=o(),i=a.find(c=>c.id===r);i&&e({elements:JSON.parse(JSON.stringify(i.elements)),currentTemplate:i,selectedElementId:null})},deleteTemplate:r=>{e(a=>({savedTemplates:a.savedTemplates.filter(i=>i.id!==r)}))},generateHtml:()=>{const{elements:r}=o();return RE(r)},startDrag:r=>{e({isDragging:!0,draggedElement:r})},endDrag:()=>{e({isDragging:!1,draggedElement:null})},setEditingTextElement:r=>{e({editingTextElementId:r})},moveElementUpDown:(r,a)=>{const i=o(),c=uu(i.elements,r);if(!c){console.log("Element not found:",r);return}const{parent:d,parentId:u,position:m}=c,h=d?d.children:i.elements,g=a==="up"?m-1:m+1;if(g<0||g>=h.length){console.log("Cannot move element beyond bounds");return}const j=u||null;o().moveElement(r,j,g)}})),Cl=(e,o)=>{for(const r of e){if(r.id===o)return r;if(r.children&&r.children.length>0)if(r.type==="columns")for(const a of r.children){const i=Cl(a.children||[],o);if(i)return i}else{const a=Cl(r.children,o);if(a)return a}}return null},uu=(e,o,r=null,a=null)=>{for(let i=0;i<e.length;i++){const c=e[i];if(c.id===o)return{parent:r,parentId:a,position:i};if(c.children&&c.children.length>0)if(c.type==="columns")for(const d of c.children){const u=uu(d.children||[],o,d,d.id);if(u)return u}else{const d=uu(c.children,o,c,c.id);if(d)return d}}return null},vs=()=>{const e=st(v=>v.selectElement),o=st(v=>v.updateElement),r=st(v=>v.addElement),a=st(v=>v.deleteElement),i=st(v=>v.moveElement),c=st(v=>v.setElements),d=st(v=>v.clearCanvas),u=st(v=>v.generateHtml),m=st(v=>v.startDrag),h=st(v=>v.endDrag),g=st(v=>v.setEditingTextElement),j=st(v=>v.moveElementUpDown),y=st(v=>v.selectedElementId),w=st(v=>v.isDragging),C=st(v=>v.draggedElement),N=st(v=>v.elementTypes),k=st(v=>v.editingTextElementId),_=st(v=>v.elements),E=f.useMemo(()=>y?Cl(_,y):null,[y,_]);return{elements:_,selectedElementId:y,selectedElement:E,isDragging:w,draggedElement:C,elementTypes:N,editingTextElementId:k,selectElement:e,updateElement:o,addElement:r,deleteElement:a,moveElement:i,setElements:c,clearCanvas:d,generateHtml:u,startDrag:m,endDrag:h,setEditingTextElement:g,moveElementUpDown:j}};vs.getState=()=>{const e=st.getState(),o=e.selectedElementId?Cl(e.elements,e.selectedElementId):null;return{...e,selectedElement:o}};function xo(e,o,r,a){if(console.log(" addToParent called:",{parentId:o,newElement:r,position:a}),console.log(" Elements structure:",e),o&&o.includes("-col-")){const[i,,c]=o.split("-"),d=parseInt(c);return e.map(u=>{if(u.id===i&&u.type==="columns"){const m=[...u.children||[]];for(;m.length<=d;)m.push({type:"column",children:[]});const h=[...m[d]?.children||[]];return a!=null?h.splice(a,0,r):h.push(r),m[d]={type:"column",children:h},{...u,children:m}}return u.children&&u.children.length>0?{...u,children:xo(u.children,o,r,a)}:u})}return e.map(i=>{if(i.id===o){console.log(" Found target parent element:",i);const c=[...i.children];a!=null?(c.splice(a,0,r),console.log(" Added at position",a,"- new children:",c)):(c.push(r),console.log(" Added at end - new children:",c));const d={...i,children:c};return console.log(" Updated parent element:",d),d}return i.children&&i.children.length>0?{...i,children:xo(i.children,o,r,a)}:i})}function pu(e,o,r){return e.map(a=>a.id===o?typeof r=="function"?r(a):{...a,...r}:a.children&&a.children.length>0?a.type==="columns"?{...a,children:a.children.map(i=>({...i,children:pu(i.children||[],o,r)}))}:{...a,children:pu(a.children,o,r)}:a)}function Sl(e,o,r){return e.filter(a=>a.id===o?(r&&r(a),!1):(a.children&&a.children.length>0&&(a.type==="columns"?a.children=a.children.map(i=>({...i,children:Sl(i.children||[],o,r)})):a.children=Sl(a.children,o,r)),!0))}function RE(e){const o=a=>{switch(a.type){case"section":const i=a.props.margin||{top:0,right:0,bottom:0,left:0},c=a.props.border||{top:0,right:0,bottom:0,left:0},d=a.props.borderStyle||"solid",u=a.props.borderColor||"#000000",m=i.top||i.bottom?`<tr><td style="padding: ${i.top}px ${i.right}px ${i.bottom}px ${i.left}px;"></td></tr>`:"",h=a.props.backgroundImage?`background-image: url('${a.props.backgroundImage}'); background-size: ${a.props.backgroundSize||"cover"}; background-position: ${a.props.backgroundPosition||"center"}; background-repeat: ${a.props.backgroundRepeat||"no-repeat"};`:"",j=c.top>0||c.right>0||c.bottom>0||c.left>0?`border-top: ${c.top}px ${d} ${u}; border-right: ${c.right}px ${d} ${u}; border-bottom: ${c.bottom}px ${d} ${u}; border-left: ${c.left}px ${d} ${u};`:"";return`${m}<tr><td style="padding: ${a.props.padding.top}px ${a.props.padding.right}px ${a.props.padding.bottom}px ${a.props.padding.left}px; background-color: ${a.props.backgroundColor}; ${h} ${j}">
          ${a.children.map(o).join("")}
        </td></tr>`;case"text":return`<div style="font-size: ${a.props.fontSize}px; color: ${a.props.color}; text-align: ${a.props.align}; line-height: ${a.props.lineHeight};">
          ${a.props.content}
        </div>`;case"button":return`<div style="text-align: ${a.props.align};">
          <a href="${a.props.href}" style="display: inline-block; background-color: ${a.props.backgroundColor}; color: ${a.props.color}; padding: ${a.props.padding.top}px ${a.props.padding.right}px ${a.props.padding.bottom}px ${a.props.padding.left}px; text-decoration: none; border-radius: ${a.props.borderRadius}px; font-size: ${a.props.fontSize}px; font-weight: ${a.props.fontWeight};">
            ${a.props.text}
          </a>
        </div>`;case"html":return a.props.content||"";default:return""}};return`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f4f4f4;">
  <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="min-width: 100%;">
    <tr>
      <td align="center">
        <!--[if mso]>
        <table role="presentation" width="600" cellpadding="0" cellspacing="0">
        <tr>
        <td>
        <![endif]-->
        
        <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
          ${e.map(o).join("")}
        </table>
        
        <!--[if mso]>
        </td>
        </tr>
        </table>
        <![endif]-->
      </td>
    </tr>
  </table>
</body>
</html>`}const DE={section:na,columns:nd,text:Js,image:od,button:bm,divider:cm,spacer:dm,social:gm,formData:Ni,html:It};function TE({element:e}){const{attributes:o,listeners:r,setNodeRef:a,isDragging:i}=Pd({id:`palette-${e.id}`,data:{type:"new-element",elementType:e.id}}),c=DE[e.id]||na;return t.jsxs("div",{ref:a,...r,...o,className:pe("flex flex-col items-center justify-center p-3 cursor-move","hover:bg-gray-100 transition-colors rounded-lg group",i&&"opacity-50"),title:e.name,children:[t.jsx(c,{className:"w-5 h-5 mb-1 text-gray-600 group-hover:text-gray-800"}),t.jsx("span",{className:"text-xs text-gray-600 text-center leading-tight group-hover:text-gray-800",children:e.name})]})}function ME(){const{elementTypes:e}=vs(),o=[{name:"Layout",elements:["section","columns","spacer"]},{name:"Content",elements:["text","image","button","divider","html"]},{name:"Dynamic",elements:["formData","social"]}];return t.jsx("div",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("div",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Elements:"}),t.jsx("div",{className:"flex items-center gap-6 overflow-x-auto",children:o.map((r,a)=>t.jsxs(De.Fragment,{children:[a>0&&t.jsx("div",{className:"h-8 w-px bg-gray-300"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-xs text-gray-500 uppercase mr-2",children:r.name}),r.elements.map(i=>{const c=e[i];return c?t.jsx(TE,{element:c},c.id):null})]})]},r.name))}),t.jsx("div",{className:"ml-auto text-xs text-gray-500 whitespace-nowrap",children:"Drag to add"})]})})}const PE={emailWrapper:{resizable:!1,background:{color:!0,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,canDelete:!1,isSystemElement:!0,backgroundOnly:!0},display:{showInBuilder:!0,selectable:!0}},emailContainer:{resizable:!1,background:{color:!0,image:!0},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{canDelete:!1,isSystemElement:!0,droppable:!0,widthOptions:["600px","700px"]},effects:{borderRadius:!0,shadow:!0},display:{showInBuilder:!0,selectable:!0}},text:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0,lineHeight:!0,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0}},button:{resizable:{horizontal:!0,vertical:!1,minWidth:80,maxWidth:400},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!1,lineHeight:!1,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1}},image:{resizable:{horizontal:!0,vertical:!0,minWidth:50,minHeight:50,maxWidth:1e3,maxHeight:800,aspectRatio:!0},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,alt:!0,title:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},media:{formats:["jpg","png","gif"],maxFileSize:"5MB",optimization:!0}},section:{resizable:{horizontal:!0,vertical:!0,minWidth:200,minHeight:50,maxWidth:700,defaultWidth:600},background:{color:!0,image:!0,gradient:!1},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,contained:!0,centered:!0,columns:!0,droppable:!0},container:{maxColumns:4,columnSpacing:!0,verticalAlignment:!0,equalHeight:!0},effects:{borderRadius:!0,shadow:!1}},spacer:{resizable:{horizontal:!1,vertical:!0,minHeight:10,maxHeight:200},background:{color:!1,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,inline:!1},display:{showInBuilder:!0,showInEmail:!1}},divider:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!0,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!0,inline:!1},style:{thickness:!0,style:!0,opacity:!0}},social:{resizable:{horizontal:!1,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!1,inline:!0},social:{platforms:["facebook","twitter","linkedin","instagram","youtube"],iconStyle:["default","round","square"],iconSize:["small","medium","large"],showLabels:!0}},columns:{resizable:{horizontal:!0,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,droppable:!0},columns:{count:{min:2,max:4},distribution:["equal","custom"],spacing:!0,verticalAlignment:["top","middle","bottom"],responsive:{mobile:"stack",tablet:"maintain",desktop:"maintain"}}},formData:{resizable:{horizontal:!0,vertical:!1},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},data:{fields:["name","email","phone","company","custom"],formatting:!0,fallback:!0}}};function fu(e){return PE[e]||{}}function yo(e,o){const r=fu(e),a=o.split(".");let i=r;for(const c of a)if(i&&typeof i=="object"&&c in i)i=i[c];else return!1;return!!i}function Dx({margin:e,border:o,padding:r,backgroundColor:a,backgroundImage:i,borderRadius:c,boxShadow:d,children:u,className:m,isResizing:h=!1}){const g=()=>{const y={};if(e&&(e.top!==void 0&&(y.marginTop=`${e.top}px`),e.right!==void 0&&(y.marginRight=`${e.right}px`),e.bottom!==void 0&&(y.marginBottom=`${e.bottom}px`),e.left!==void 0&&(y.marginLeft=`${e.left}px`)),o&&o.width){const{width:w,style:C="solid",color:N="#000000"}=o;w.top>0&&(y.borderTop=`${w.top}px ${C} ${N}`),w.right>0&&(y.borderRight=`${w.right}px ${C} ${N}`),w.bottom>0&&(y.borderBottom=`${w.bottom}px ${C} ${N}`),w.left>0&&(y.borderLeft=`${w.left}px ${C} ${N}`)}return r&&(r.top!==void 0&&(y.paddingTop=`${r.top}px`),r.right!==void 0&&(y.paddingRight=`${r.right}px`),r.bottom!==void 0&&(y.paddingBottom=`${r.bottom}px`),r.left!==void 0&&(y.paddingLeft=`${r.left}px`)),a&&a!=="transparent"&&(y.backgroundColor=a),i&&i.url&&(y.backgroundImage=`url(${i.url})`,y.backgroundSize=i.size||"cover",y.backgroundPosition=i.position||"center",y.backgroundRepeat=i.repeat||"no-repeat"),c&&c>0&&(y.borderRadius=`${c}px`,y.WebkitBorderRadius=`${c}px`,y.MozBorderRadius=`${c}px`),d&&d!=="none"&&(y.boxShadow=d,y.WebkitBoxShadow=d,y.MozBoxShadow=d),y},j=()=>{const y={};return a&&a!=="transparent"&&(y.bgcolor=a),i&&i.url&&(y.background=i.url),y};return t.jsx("div",{className:pe("spacing-layer",!h&&"transition-all duration-200",m),style:g(),...j(),children:u})}function $E({capabilities:e,isResizing:o=!1,intensity:r="normal"}){const a=()=>{const d="absolute inset-0 pointer-events-none rounded";switch(r){case"subtle":return pe(d,"ring-1 ring-green-400 animate-pulse","transition-all duration-1000");case"strong":return pe(d,"ring-4 ring-green-500 animate-pulse","transition-all duration-500");default:return pe(d,"ring-2 ring-green-500 animate-pulse","transition-all duration-700")}},i=()=>{const d={};return e.effects?.borderRadius&&(d.borderRadius="inherit"),o&&(d.opacity=.3),d},c=()=>{const d=[];return e.resizable?.horizontal&&!o&&d.push(t.jsx("div",{className:"absolute top-1/2 right-0 w-1 h-4 bg-green-500 opacity-40 transform -translate-y-1/2 rounded-l"},"resize-horizontal-hint")),e.resizable?.vertical&&!o&&d.push(t.jsx("div",{className:"absolute bottom-0 left-1/2 w-4 h-1 bg-green-500 opacity-40 transform -translate-x-1/2 rounded-t"},"resize-vertical-hint")),d};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:a(),style:i()}),c(),t.jsx("div",{className:"absolute inset-0 pointer-events-none rounded",style:{boxShadow:"inset 0 0 0 1px rgba(34, 197, 94, 0.3)",borderRadius:"inherit",opacity:o?.2:.6}})]})}function zE({element:e,isSelected:o,isHovered:r,renderElements:a,children:i,onElementUpdate:c,onCapabilityAction:d,onEdit:u,isMobile:m}){const h=f.useRef(null),[g,j]=f.useState(!1),[y,w]=f.useState(null),[C,N]=f.useState(!1),[k,_]=f.useState(null),E=st(V=>V.updateElement),v=fu(e.type),{margin:R={top:0,right:0,bottom:0,left:0},border:z={top:0,right:0,bottom:0,left:0},borderStyle:L="solid",borderColor:A="#000000",padding:$={top:0,right:0,bottom:0,left:0},backgroundColor:H="transparent",backgroundImage:G="",backgroundSize:se="cover",backgroundPosition:de="center",backgroundRepeat:je="no-repeat",width:ne,height:Ne,maxWidth:oe,minWidth:ee,fullWidth:F}=e.props||{},X=(V,ge)=>{ge.preventDefault(),ge.stopPropagation(),j(!0),w(V);const _e=ge.clientX,Se=ge.clientY,Qe=h.current?.offsetWidth||0,He=h.current?.offsetHeight||0,Je=xt=>{const At=xt.clientX-_e,Ht=xt.clientY-Se;let Qt=Qe,ie=He;if(V==="right"||V==="corner"){const ce=v.resizable?.minWidth||100,me=v.resizable?.maxWidth||700;Qt=Math.max(ce,Math.min(me,Qe+At))}if(V==="bottom"||V==="corner"){const ce=v.resizable?.minHeight||50,me=v.resizable?.maxHeight||1e3;ie=Math.max(ce,Math.min(me,He+Ht))}E(e.id,{props:{...e.props,...V==="right"||V==="corner"?{width:`${Qt}px`}:{},...V==="bottom"||V==="corner"?{height:`${ie}px`}:{}}})},Ve=()=>{j(!1),w(null),document.removeEventListener("mousemove",Je),document.removeEventListener("mouseup",Ve)};document.addEventListener("mousemove",Je),document.addEventListener("mouseup",Ve)},K=()=>{j(!1),w(null)},D=V=>{V.stopPropagation(),_(e.props?.backgroundColor||"#ffffff"),N(!0)},T=V=>{_(V),E(e.id,{props:{...e.props,backgroundColor:V}})},q=()=>{k&&E(e.id,{props:{...e.props,backgroundColor:k}}),N(!1),_(null)},Y=()=>{const V=e.props?.backgroundColor||"#ffffff";E(e.id,{props:{...e.props,backgroundColor:V}}),N(!1),_(null)};f.useEffect(()=>{const V=ge=>{C&&h.current&&!h.current.contains(ge.target)&&Y()};return document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[C]);const J=e.type!=="emailWrapper"&&e.type!=="emailContainer"&&(yo(e.type,"spacing.margin")||yo(e.type,"spacing.border")||yo(e.type,"spacing.padding")),xe=()=>{const V={};return v.resizable?.horizontal&&ne&&(V.width=ne),v.resizable?.vertical&&Ne&&(V.height=Ne),oe&&(V.maxWidth=oe),ee&&(V.minWidth=ee),V};return t.jsxs("div",{ref:h,className:pe("universal-element-wrapper","relative",!g&&"transition-all duration-200",o&&"selected",r&&!o&&"hovered ring-2 ring-gray-400 ring-opacity-40",g&&"resizing",v.layout?.fullWidth&&"full-width",v.layout?.inline&&"inline-element"),style:{...xe(),...F?{width:"100%"}:{},...v.layout?.fullWidth&&!ne&&!F&&{width:"100%"},...v.layout?.inline&&{display:"inline-block"},...v.layout?.centered&&!F&&{margin:"0 auto"},...e.type==="section"&&!ne&&!F&&{width:`${v.resizable?.defaultWidth||600}px`},...e.type==="emailWrapper"&&{width:"100%",minHeight:"200px",display:"block",backgroundColor:H!=="transparent"?H:"#f5f5f5"},...e.type==="emailContainer"&&{width:m?"100%":ne||"600px",maxWidth:m?"100%":ne||"600px",margin:m?"0":"0 auto",display:"block",minHeight:"200px"}},"data-element-type":e.type,"data-element-id":e.id,"data-component":"UniversalElementWrapper","data-is-system":v.layout?.isSystemElement?"true":"false","data-is-selected":o?"true":"false","data-is-hovered":r?"true":"false","data-debug-env":"production",children:[o&&t.jsx($E,{capabilities:v,isResizing:g}),(r&&!o||o&&v.layout?.backgroundOnly)&&v.layout?.isSystemElement&&u&&t.jsx("div",{className:"absolute top-1 left-1 z-[60] pointer-events-auto",children:t.jsx("button",{onClick:V=>{V.stopPropagation(),e.type==="emailWrapper"&&v.layout?.backgroundOnly?D(V):u(V)},className:"p-1.5 bg-blue-500 text-white rounded shadow-lg hover:shadow-xl transition-all hover:scale-110",title:e.type==="emailWrapper"?"Change Background Color":`Edit ${e.type==="emailContainer"?"Email Container":e.type}`,children:e.type==="emailWrapper"&&v.layout?.backgroundOnly?t.jsx(Zn,{className:"w-3 h-3"}):t.jsx(er,{className:"w-3 h-3"})})}),o&&v.layout?.isSystemElement&&t.jsx("div",{className:"absolute top-1 left-1 z-10",children:t.jsxs("div",{className:"bg-blue-500 text-white p-1 rounded shadow-sm flex items-center gap-1",children:[t.jsx(er,{className:"w-3 h-3"}),t.jsx("span",{className:"text-xs font-medium",children:e.type==="emailWrapper"?"Wrapper":"Container"})]})}),C&&e.type==="emailWrapper"&&t.jsx("div",{className:"absolute top-10 left-1 z-[70] pointer-events-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl border p-3 min-w-[200px]",children:[t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("button",{onClick:Y,className:"flex-1 px-3 py-1.5 text-sm text-gray-600 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"Cancel"}),t.jsx("button",{onClick:q,className:"flex-1 px-3 py-1.5 text-sm text-white bg-blue-500 hover:bg-blue-600 rounded transition-colors",children:"Apply"})]}),t.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Background Color"}),t.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:["#ffffff","#f8f9fa","#e9ecef","#dee2e6","#f8f5f0","#fff9e6","#e8f4fd","#e6f7ff","#f0f8f0","#fef7f0","#f5f5f5","#000000"].map(V=>t.jsx("button",{onClick:()=>T(V),className:pe("w-6 h-6 rounded border-2 transition-colors",k===V?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-blue-500"),style:{backgroundColor:V},title:V},V))}),t.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Custom Color"}),t.jsx("input",{type:"color",value:k||e.props?.backgroundColor||"#ffffff",onChange:V=>T(V.target.value),className:"w-full h-8 rounded border border-gray-300"})]})}),o&&v.resizable&&t.jsx(LE,{capabilities:v.resizable,onResizeStart:X,onResizeEnd:K,isResizing:g,direction:y}),J?t.jsx(Dx,{margin:yo(e.type,"spacing.margin")?R:null,border:yo(e.type,"spacing.border")?{width:z,style:L,color:A}:null,padding:yo(e.type,"spacing.padding")?$:null,backgroundColor:v.background?.color?H:null,backgroundImage:v.background?.image?{url:G,size:se,position:de,repeat:je}:null,borderRadius:v.effects?.borderRadius?e.props.borderRadius:null,isResizing:g,children:i}):t.jsx("div",{className:"element-content",children:i})]})}function LE({capabilities:e,onResizeStart:o,onResizeEnd:r,isResizing:a,direction:i}){const c=[];return e.horizontal&&c.push(t.jsx("div",{className:pe("resize-handle resize-handle-right","absolute top-0 right-0 w-2 h-full cursor-ew-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",a&&i==="right"&&"opacity-75"),onMouseDown:d=>o("right",d)},"resize-right")),e.vertical&&c.push(t.jsx("div",{className:pe("resize-handle resize-handle-bottom","absolute bottom-0 left-0 w-full h-2 cursor-ns-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",a&&i==="bottom"&&"opacity-75"),onMouseDown:d=>o("bottom",d)},"resize-bottom")),e.horizontal&&e.vertical&&c.push(t.jsx("div",{className:pe("resize-handle resize-handle-corner","absolute bottom-0 right-0 w-3 h-3 cursor-nw-resize","bg-blue-500 opacity-0 hover:opacity-75 transition-opacity",a&&i==="corner"&&"opacity-100"),onMouseDown:d=>o("corner",d)},"resize-corner")),t.jsx(t.Fragment,{children:c})}function IE({element:e,renderElements:o}){const{children:r=[]}=e;return t.jsx("div",{className:"email-wrapper-content w-full min-h-[200px] relative","data-component":"EmailWrapperElement","data-element-type":"emailWrapper","data-element-id":e.id,"data-is-system":"true","data-children-count":r.length,children:r.length>0?o(r,e.id):t.jsx("div",{className:"p-6 text-center text-gray-400 border-2 border-dashed border-purple-200 rounded-lg min-h-[150px] flex flex-col items-center justify-center",children:t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-4xl mb-2",children:""}),t.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Email Client Background"}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Click to edit the email client background color"}),t.jsx("div",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded text-xs font-medium",children:"Clickable Email Wrapper"})]})})})}function OE({element:e,renderElements:o}){const{children:r=[]}=e;new Date().toISOString();const{margin:a={top:0,right:0,bottom:0,left:0},padding:i={top:0,right:0,bottom:0,left:0},border:c={top:0,right:0,bottom:0,left:0},borderStyle:d="solid",borderColor:u="#000000",backgroundColor:m,backgroundImage:h,backgroundSize:g="cover",backgroundPosition:j="center",backgroundRepeat:y="no-repeat",borderRadius:w=0,boxShadow:C="none"}=e.props||{},{setNodeRef:N}=Wn({id:`email-container-main-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-drop"}}),{setNodeRef:k,isOver:_}=Wn({id:`email-container-empty-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-empty-drop"}});return t.jsx("div",{style:{paddingTop:`${a.top}px`,paddingRight:`${a.right}px`,paddingBottom:`${a.bottom}px`,paddingLeft:`${a.left}px`},children:t.jsx(Dx,{margin:null,padding:i,border:{width:c,style:d,color:u},backgroundColor:m,backgroundImage:h?{url:h,size:g,position:j,repeat:y}:null,borderRadius:w,boxShadow:C,children:t.jsx("div",{className:"email-container-content w-full h-full min-h-[200px] relative","data-component":"EmailContainerElement","data-element-type":"emailContainer","data-element-id":e.id,"data-is-system":"true","data-children-count":r.length,children:r.length>0?t.jsx("div",{ref:N,className:"min-h-full",children:o(r,e.id)}):t.jsxs("div",{ref:k,className:pe("h-full min-h-[150px] flex flex-col items-center justify-center text-gray-400 transition-all",_&&"bg-blue-50 border-2 border-blue-300 border-dashed"),children:[t.jsx(gs,{className:"w-10 h-10 mb-3"}),t.jsx("p",{className:"text-sm",children:"Drop elements here"}),_&&t.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Release to add element"})]})})})})}function AE({element:e,renderElements:o}){const[r,a]=De.useState(!1),{setNodeRef:i,isOver:c}=Wn({id:`${e.id}-droppable`,data:{parentId:e.id,position:e.children?.length||0}}),{backgroundColor:d="transparent",backgroundImage:u,backgroundSize:m="cover",backgroundPosition:h="center",backgroundRepeat:g="no-repeat"}=e.props;return t.jsx("div",{ref:i,className:pe("element-content min-h-[50px] transition-all",c&&"bg-primary-50"),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),style:{backgroundColor:d!=="transparent"?d:void 0,backgroundImage:u?`url(${u})`:void 0,backgroundSize:m,backgroundPosition:h,backgroundRepeat:g},children:e.children&&e.children.length>0?o(e.children,e.id):t.jsx("div",{className:pe("py-8 text-center text-sm border-2 border-dashed rounded transition-all",r?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop elements here"})})}function FE({position:e,onFormatText:o,onAlignText:r,onFontSize:a,onTextColor:i,onDelete:c,onMoveUp:d,onMoveDown:u,onStartDrag:m,onSave:h,currentAlign:g="left",currentFontSize:j=16,currentColor:y="#000000",isVisible:w=!1,showElementControls:C=!1}){const N=f.useRef(null);if(f.useEffect(()=>{if(w&&e&&N.current){const v=N.current;v.style.left=`${e.x}px`,v.style.top=`${e.y}px`}},[e,w]),!w)return null;const k=[{icon:em,command:"bold",title:"Bold (Ctrl+B)"},{icon:im,command:"italic",title:"Italic (Ctrl+I)"},{icon:Nm,command:"underline",title:"Underline (Ctrl+U)"},{icon:zi,command:"createLink",title:"Add Link (Ctrl+K)"}],_=[{icon:Qf,value:"left",title:"Align Left"},{icon:Xf,value:"center",title:"Align Center"},{icon:Jf,value:"right",title:"Align Right"}],E=[12,14,16,18,20,24,28,32,36];return t.jsxs("div",{ref:N,className:"fixed z-50 bg-white shadow-lg border border-gray-200 rounded-lg p-2 flex items-center gap-1 pointer-events-auto",style:{position:"fixed",transform:"translateX(-50%)"},children:[C&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onMouseDown:v=>{v.preventDefault(),v.stopPropagation()},onClick:v=>{v.preventDefault(),v.stopPropagation(),h&&h()},className:"p-2 rounded bg-green-500 hover:bg-green-600 text-white",title:"Save and exit",children:t.jsx(Xs,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onMouseDown:v=>{v.preventDefault(),v.stopPropagation(),m&&m(v)},className:"p-2 rounded hover:bg-gray-100 cursor-move",title:"Drag to move",children:t.jsx($i,{className:"w-4 h-4 text-gray-700"})}),t.jsx("button",{type:"button",onMouseDown:v=>{v.preventDefault(),v.stopPropagation()},onClick:v=>{v.preventDefault(),v.stopPropagation(),d&&d()},className:"p-2 rounded hover:bg-gray-100",title:"Move Up",children:t.jsx(ra,{className:"w-4 h-4 text-gray-700"})}),t.jsx("button",{type:"button",onMouseDown:v=>{v.preventDefault(),v.stopPropagation()},onClick:v=>{v.preventDefault(),v.stopPropagation(),u&&u()},className:"p-2 rounded hover:bg-gray-100",title:"Move Down",children:t.jsx(mn,{className:"w-4 h-4 text-gray-700"})}),t.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"})]}),t.jsx("div",{className:"flex border-r border-gray-200 pr-2 mr-2",children:k.map(({icon:v,command:R,title:z})=>t.jsx("button",{type:"button",onMouseDown:L=>{L.preventDefault(),L.stopPropagation()},onClick:L=>{L.preventDefault(),L.stopPropagation(),o(R)},className:"p-2 rounded hover:bg-gray-100",title:z,children:t.jsx(v,{className:"w-4 h-4 text-gray-700"})},R))}),t.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[t.jsx(Js,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx("select",{value:j,onChange:v=>a(parseInt(v.target.value)),className:"text-sm border border-gray-300 rounded px-2 py-1 min-w-[60px]",children:E.map(v=>t.jsxs("option",{value:v,children:[v,"px"]},v))})]}),t.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[t.jsx(Zn,{className:"w-4 h-4 text-gray-500 mr-1"}),t.jsx("input",{type:"color",value:y,onChange:v=>i(v.target.value),className:"w-8 h-8 border border-gray-300 rounded cursor-pointer",title:"Text Color"})]}),t.jsx("div",{className:"flex",children:_.map(({icon:v,value:R,title:z})=>t.jsx("button",{type:"button",onClick:()=>r(R),className:pe("p-2 rounded transition-colors",g===R?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-700"),title:z,children:t.jsx(v,{className:"w-4 h-4"})},R))}),C&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),t.jsx("button",{type:"button",onMouseDown:v=>{v.preventDefault(),v.stopPropagation()},onClick:v=>{v.preventDefault(),v.stopPropagation(),c&&c()},className:"p-2 rounded hover:bg-red-100",title:"Delete Element",children:t.jsx(Nn,{className:"w-4 h-4 text-red-600"})})]})]})}function WE({element:e}){const{content:o,fontSize:r=16,fontFamily:a="Arial, sans-serif",color:i="#000000",lineHeight:c=1.6,align:d="left",width:u="100%",margin:m={top:0,right:0,bottom:16,left:0},padding:h={top:0,right:0,bottom:0,left:0}}=e.props,[g,j]=f.useState(!1),[y,w]=f.useState(null),[C,N]=f.useState(!1),k=f.useRef(null),_=st.getState().updateElement,E=st.getState().deleteElement,v=st.getState().selectElement,{setEditingTextElement:R,moveElementUpDown:z,isDragging:L}=vs();f.useEffect(()=>{!g&&k.current&&k.current.innerHTML!==(o||"")&&(k.current.innerHTML=o||"")},[o,g]);const A=T=>{T.stopPropagation(),g||(v(e.id),j(!0),R(e.id),k.current&&(k.current.innerHTML=o||""),setTimeout(()=>{if(k.current){k.current.focus();const q=window.getSelection(),Y=document.createRange();Y.selectNodeContents(k.current),Y.collapse(!1),q.removeAllRanges(),q.addRange(Y),H()}},0))};f.useEffect(()=>{const T=q=>{if(g&&k.current&&!k.current.contains(q.target)){const Y=document.querySelector(".fixed.z-50");if(Y&&Y.contains(q.target))return;G()}};return g&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[g]);const $=()=>{g&&H()};f.useEffect(()=>{!L&&g&&k.current&&H()},[L]),f.useEffect(()=>{if(!g||!C)return;const T=()=>{if(k.current){const J=k.current.getBoundingClientRect();w({x:J.left+J.width/2,y:J.top-50-20})}},q=[];let Y=k.current;for(;Y;){const J=window.getComputedStyle(Y);(Y.scrollHeight>Y.clientHeight||J.overflowY==="scroll"||J.overflowY==="auto"||J.overflow==="scroll"||J.overflow==="auto")&&(q.push(Y),Y.addEventListener("scroll",T,{passive:!0})),Y=Y.parentElement}return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",T,{passive:!0}),T(),()=>{q.forEach(J=>{J.removeEventListener("scroll",T)}),window.removeEventListener("scroll",T),window.removeEventListener("resize",T)}},[g,C]);const H=()=>{if(k.current){const T=k.current.getBoundingClientRect();w({x:T.left+T.width/2,y:T.top-50-20}),N(!0)}},G=()=>{if(k.current){const T=k.current.innerHTML;_(e.id,{props:{...e.props,content:T}})}j(!1),N(!1),w(null),R(null)},se=T=>{T.key==="Enter"&&(T.ctrlKey||T.metaKey)&&(T.preventDefault(),G()),T.key==="Escape"&&(T.preventDefault(),G())},de=T=>{if(T==="createLink"){const q=prompt("Enter URL:");q&&document.execCommand("createLink",!1,q)}else document.execCommand(T,!1,null);k.current?.focus()},je=T=>{_(e.id,{props:{...e.props,align:T}})},ne=T=>{_(e.id,{props:{...e.props,fontSize:T}})},Ne=T=>{_(e.id,{props:{...e.props,color:T}})},oe=T=>{const q=T.target.innerHTML;clearTimeout(window.textUpdateTimeout),window.textUpdateTimeout=setTimeout(()=>{_(e.id,{props:{...e.props,content:q}})},300)},ee=()=>{G(),E(e.id)},F=()=>{z(e.id,"up")},X=()=>{z(e.id,"down")},K=T=>{G();const q=T.target.closest('[data-component="SortableElement"]');if(q){const Y=q.querySelector('[data-drag-handle="true"]');if(Y){const J=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:T.clientX,clientY:T.clientY});Y.dispatchEvent(J)}}},D=()=>{G()};return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:k,className:`min-h-[20px] element-content ${g?"outline-2 outline-blue-500 outline-dashed":""}`,style:{fontSize:`${r}px`,fontFamily:a,color:i,lineHeight:c,textAlign:d,width:u,marginTop:`${m.top}px`,marginRight:`${m.right}px`,marginBottom:`${m.bottom}px`,marginLeft:`${m.left}px`,paddingTop:`${h.top}px`,paddingRight:`${h.right}px`,paddingBottom:`${h.bottom}px`,paddingLeft:`${h.left}px`,cursor:g?"text":"pointer",minHeight:"1em"},contentEditable:g,suppressContentEditableWarning:!0,onClick:A,onKeyDown:g?se:void 0,onInput:g?oe:void 0,onMouseUp:g?$:void 0,onKeyUp:g?$:void 0,"data-component":"TextElement","data-element-type":"text","data-element-id":e.id,"data-is-editing":g?"true":"false"}),t.jsx(FE,{position:y,isVisible:C&&g&&!L,onFormatText:de,onAlignText:je,onFontSize:ne,onTextColor:Ne,onDelete:ee,onMoveUp:F,onMoveDown:X,onStartDrag:K,onSave:D,currentAlign:d,currentFontSize:r,currentColor:i,showElementControls:!0}),g&&t.jsx("div",{className:"absolute bottom-[-30px] left-0 right-0 text-xs text-gray-500 text-center bg-white px-2 py-1 rounded shadow-sm",children:"Press Ctrl+Enter or click outside to finish  ESC to cancel"})]})}function BE({element:e}){const{text:o="Button",href:r="#",backgroundColor:a="#007cba",color:i="#ffffff",fontSize:c=16,fontWeight:d="normal",borderRadius:u=4,align:m="left",fullWidth:h=!1,target:g="_blank"}=e.props;return t.jsx("div",{className:"element-content",style:{textAlign:m},children:t.jsx("a",{href:r,target:g,rel:g==="_blank"?"noopener noreferrer":void 0,className:"inline-block no-underline transition-opacity hover:opacity-80",style:{backgroundColor:a,color:i,fontSize:`${c}px`,fontWeight:d,borderRadius:`${u}px`,width:h?"100%":"auto",textAlign:"center",padding:"12px 24px"},children:o})})}function HE({element:e}){const{src:o,alt:r="Image",width:a="auto",height:i="auto",align:c="left",link:d,target:u="_blank"}=e.props,m=t.jsx("img",{src:o||"https://via.placeholder.com/600x300",alt:r,style:{width:a,height:i,maxWidth:"100%",display:"block",border:"0",outline:"none",textDecoration:"none",msInterpolationMode:"bicubic"}});return t.jsx("div",{className:"element-content",style:{textAlign:c},children:d?t.jsx("a",{href:d,target:u,rel:u==="_blank"?"noopener noreferrer":void 0,style:{textDecoration:"none",border:"0",outline:"none"},children:m}):m})}function VE({element:e}){const{height:o=20}=e.props;return t.jsx("div",{className:"element-content bg-transparent",style:{height:`${o}px`,fontSize:"0",lineHeight:"0"},children:""})}function UE({element:e}){const{height:o=1,color:r="#cccccc",style:a="solid",align:i="center",width:c="100%"}=e.props;return t.jsx("div",{className:"element-content",style:{textAlign:i},children:t.jsx("hr",{style:{height:`${o}px`,width:c,backgroundColor:a==="solid"?r:"transparent",border:"none",borderTop:a==="dashed"?`${o}px dashed ${r}`:a==="dotted"?`${o}px dotted ${r}`:void 0,margin:0,display:"block",fontSize:"0",lineHeight:"0"}})})}function qE({element:e,renderElements:o}){const{columns:r=2,gap:a=16,stackOnMobile:i=!0}=e.props,c=Array(r).fill(null).map((d,u)=>e.children?.[u]||{type:"column",children:[]});return t.jsx("div",{className:"element-content flex flex-wrap",style:{gap:`${a}px`},"data-stack-mobile":i,children:c.map((d,u)=>t.jsx(YE,{columnId:`${e.id}-col-${u}`,parentId:e.id,index:u,width:`${100/r}%`,gap:a,renderElements:o,children:d.children||[]},u))})}function YE({columnId:e,parentId:o,index:r,width:a,gap:i,renderElements:c,children:d}){const[u,m]=De.useState(!1),{setNodeRef:h,isOver:g}=Wn({id:e,data:{parentId:o,position:r,isColumn:!0}});return t.jsx("div",{ref:h,className:pe("min-h-[100px] transition-all",g&&"bg-primary-50"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),style:{flex:`0 0 calc(${a} - ${i}px)`},children:d.length>0?c(d,e):t.jsx("div",{className:pe("h-full flex items-center justify-center text-sm border-2 border-dashed rounded p-4 transition-all",u?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop here"})})}const GE={facebook:{icon:"",defaultUrl:"https://facebook.com",label:"Facebook"},twitter:{icon:"",defaultUrl:"https://twitter.com",label:"Twitter"},instagram:{icon:"",defaultUrl:"https://instagram.com",label:"Instagram"},linkedin:{icon:"",defaultUrl:"https://linkedin.com",label:"LinkedIn"},youtube:{icon:"",defaultUrl:"https://youtube.com",label:"YouTube"},pinterest:{icon:"",defaultUrl:"https://pinterest.com",label:"Pinterest"}};function KE({element:e}){const{icons:o=["facebook","twitter","instagram"],iconSize:r=32,iconColor:a="#333333",spacing:i=8,align:c="left"}=e.props;return t.jsx("div",{className:"element-content",style:{textAlign:c},children:t.jsx("div",{className:"inline-flex items-center",style:{gap:`${i}px`},children:o.map(d=>{const u=GE[d];return u?t.jsx("a",{href:u.defaultUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center transition-opacity hover:opacity-70",style:{width:`${r}px`,height:`${r}px`,fontSize:`${r*.6}px`,color:a},title:u.label,children:t.jsx("span",{children:u.icon})},d):null})})})}function XE({element:e}){const{field:o="email",fallback:r="[Form Field]",format:a="text"}=e.props,i=o?`{${o}}`:r;return t.jsx("div",{className:"element-content inline-block px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:i})}function QE({element:e}){const{content:o=""}=e.props,[r,a]=f.useState(!1),[i,c]=f.useState(!0),[d,u]=f.useState(o),m=f.useRef(null),h=st.getState().updateElement;f.useEffect(()=>{r||u(o)},[o,r]),f.useEffect(()=>{r&&m.current&&(m.current.style.height="auto",m.current.style.height=Math.max(100,m.current.scrollHeight)+"px")},[d,r]);const g=w=>{w.stopPropagation(),r||(a(!0),setTimeout(()=>m.current?.focus(),0))},j=()=>{h(e.id,{props:{...e.props,content:d}}),a(!1)},y=w=>{w.key==="Escape"&&(w.preventDefault(),u(o),a(!1)),w.key==="Enter"&&(w.ctrlKey||w.metaKey)&&(w.preventDefault(),j())};return r?t.jsxs("div",{className:"border-2 border-blue-500 rounded overflow-hidden","data-component":"HtmlElement","data-element-id":e.id,"data-is-editing":"true",children:[t.jsxs("div",{className:"bg-gray-800 px-3 py-2 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(It,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-300 font-mono",children:"HTML Block"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>c(!i),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors",i?"bg-gray-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[i?t.jsx(Si,{className:"w-3 h-3"}):t.jsx(Ys,{className:"w-3 h-3"}),i?"Hide Preview":"Show Preview"]}),t.jsxs("button",{onClick:j,className:"flex items-center gap-1 bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition-colors",children:[t.jsx(ji,{className:"w-3 h-3"}),"Save"]})]})]}),t.jsxs("div",{className:pe("flex",i?"flex-row":"flex-col"),children:[t.jsx("div",{className:pe("bg-gray-900",i?"w-1/2":"w-full"),children:t.jsx("textarea",{ref:m,value:d,onChange:w=>u(w.target.value),onKeyDown:y,className:"w-full min-h-[100px] bg-gray-900 text-gray-100 font-mono text-sm p-3 border-0 outline-none resize-none",placeholder:"Enter your HTML code here...",spellCheck:!1})}),i&&t.jsxs("div",{className:"w-1/2 bg-white border-l border-gray-700",children:[t.jsx("div",{className:"bg-gray-100 px-3 py-1 text-xs text-gray-500 border-b",children:"Preview"}),t.jsx("div",{className:"p-3 prose max-w-none min-h-[100px]",children:d?t.jsx("div",{dangerouslySetInnerHTML:{__html:d}}):t.jsx("span",{className:"text-gray-400",children:"Preview will appear here..."})})]})]}),t.jsx("div",{className:"bg-gray-800 px-3 py-1 text-xs text-gray-500 text-center",children:"Ctrl+Enter to save | ESC to cancel"})]}):t.jsxs("div",{onClick:g,className:"relative cursor-pointer group min-h-[40px]","data-component":"HtmlElement","data-element-id":e.id,children:[t.jsxs("div",{className:"absolute top-1 right-1 bg-gray-700 text-white text-xs px-1.5 py-0.5 rounded opacity-60 group-hover:opacity-100 flex items-center gap-1 z-10",children:[t.jsx(It,{className:"w-3 h-3"}),t.jsx("span",{children:"HTML"})]}),o?t.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:o}}):t.jsx("div",{className:"text-gray-400 text-center py-4 border-2 border-dashed border-gray-300 rounded",children:"Click to add HTML code"}),t.jsx("div",{className:"absolute inset-0 bg-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:"Click to edit HTML"})})]})}const JE={emailWrapper:IE,emailContainer:OE,section:AE,text:WE,button:BE,image:HE,spacer:VE,divider:UE,columns:qE,social:KE,formData:XE,html:QE};function ZE({element:e,renderElements:o,isSelected:r,isHovered:a=!1,onElementUpdate:i,onCapabilityAction:c,onEdit:d,isMobile:u}){const m=JE[e.type];return m?t.jsx(zE,{element:e,isSelected:r,isHovered:a,renderElements:o,onElementUpdate:i,onCapabilityAction:c,onEdit:d,isMobile:u,children:t.jsx(m,{element:e,renderElements:o})}):t.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm",children:["Unknown element type: ",e.type]})}function Tx({element:e,index:o,parentId:r,isSelected:a,onSelect:i,renderElements:c,isMobile:d}){const[u,m]=f.useState(!1),{deleteElement:h,editingTextElementId:g}=vs(),y=fu(e.type).layout?.isSystemElement,{attributes:w,listeners:C,setNodeRef:N,transform:k,transition:_,isDragging:E}=Ld({id:e.id,disabled:y,data:{type:"canvas-element",elementId:e.id,parentId:r,position:o}}),v={transform:rr.Transform.toString(k),transition:_,opacity:E?.5:void 0},R=H=>{H.stopPropagation(),confirm("Are you sure you want to delete this element?")&&h(e.id)},z=H=>{H.stopPropagation(),i(),e.type==="text"&&setTimeout(()=>{const G=H.target.closest('[data-component="SortableElement"]')?.querySelector('[data-component="TextElement"]');G&&G.click()},50)},L=H=>{if(e.type==="emailWrapper"){H.stopPropagation();return}if(e.type==="emailContainer"){const G=H.currentTarget.getBoundingClientRect(),se=H.clientX,de=parseInt(e.props?.width||"600px"),je=G.left+(G.width-de)/2,ne=je+de;se>=je&&se<=ne&&(H.stopPropagation(),i());return}H.stopPropagation(),i()},A=(H,G,se)=>{console.log("Element update:",H,G,se)},$=(H,G,se)=>{console.log("Capability action:",H,G,se)};return t.jsxs("div",{ref:N,style:v,className:pe("relative group transition-all duration-200",E&&"z-50",y&&"cursor-default"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),"data-component":"SortableElement","data-element-type":e.type,"data-element-id":e.id,"data-is-system":y?"true":"false","data-is-sortable":y?"false":"true","data-is-selected":a?"true":"false","data-is-hovered":u?"true":"false","data-is-dragging":E?"true":"false",children:[u&&!E&&!y&&g!==e.id&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:t.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[t.jsx("button",{onClick:z,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Edit element",children:t.jsx(er,{className:"w-5 h-5 text-gray-700"})}),t.jsx("button",{onClick:R,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Delete element",children:t.jsx(Nn,{className:"w-5 h-5 text-red-600"})}),t.jsx("button",{...C,...w,"data-drag-handle":"true",className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110 cursor-move",title:"Drag to reposition",children:t.jsx($i,{className:"w-5 h-5 text-gray-700"})})]})}),t.jsx("div",{onClick:L,className:"cursor-pointer transition-all",children:t.jsx(ZE,{element:e,renderElements:c,isSelected:a,isHovered:u&&!E,onElementUpdate:A,isMobile:d,onCapabilityAction:$,onEdit:z})})]})}function e4({isMobile:e=!1}){const{elements:o,isDragging:r,selectElement:a,selectedElementId:i,setElements:c}=vs();De.useEffect(()=>{(!o||o.length===0)&&c([])},[o,c]);const d=(h,g=null)=>{if(!h||h.length===0)return g?null:t.jsx(u,{parentId:null,position:0,children:t.jsxs("div",{className:"py-12 text-center text-gray-400",children:[t.jsx("svg",{className:"w-10 h-10 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),t.jsx("p",{className:"text-sm",children:"Drag elements here to start building"})]})});const j=h.filter(C=>C.type!=="emailWrapper"&&C.type!=="emailContainer").map(C=>C.id),y=h.filter(C=>C.type==="emailWrapper"||C.type==="emailContainer"),w=h.filter(C=>C.type!=="emailWrapper"&&C.type!=="emailContainer");return t.jsxs(t.Fragment,{children:[y.map(C=>t.jsx("div",{className:"system-element-container",children:t.jsx(Tx,{element:C,index:0,parentId:g,isSelected:i===C.id,onSelect:()=>a(C.id),renderElements:d,isMobile:e})},C.id)),t.jsxs(zd,{items:j,strategy:$d,children:[t.jsx(u,{parentId:g,position:0,elementCount:w.length}),w.map((C,N)=>t.jsxs(De.Fragment,{children:[t.jsx(Tx,{element:C,index:N,parentId:g,isSelected:i===C.id,onSelect:()=>a(C.id),renderElements:d,isMobile:e}),t.jsx(u,{parentId:g,position:N+1,elementCount:w.length})]},C.id))]})]})};function u({parentId:h,position:g,children:j,elementCount:y=0}){const{setNodeRef:w,isOver:C}=Wn({id:`dropzone-${h||"root"}-${g}`,data:{parentId:h,position:g,type:"dropzone"}}),N=!h||g===0&&h&&h.includes("email-wrapper");return t.jsxs("div",{ref:w,className:pe(N?"min-h-0":"min-h-[4px]","transition-all relative",!N&&r&&"min-h-[8px]",!N&&C&&"min-h-[30px]"),"data-component":"DropZone","data-parent-id":h||"root","data-position":g,"data-is-over":C?"true":"false","data-should-hide":N?"true":"false",children:[!N&&C&&t.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 h-1 bg-blue-500 rounded"}),j]})}const m=h=>{h.target===h.currentTarget&&a(null)};return t.jsx("div",{className:pe("min-h-[100px] transition-colors",r&&"bg-gray-50"),onClick:m,children:d(o)})}const mu=Xm(Qm((e,o)=>({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null,initializeStore:r=>{e({emails:r.emails||[],activeEmailId:r.emails?.[0]?.id||null,translations:r.translations||{}})},addEmail:()=>{const r={id:`email_${Date.now()}`,enabled:!0,description:"New Email",to:"{email}",from_email:"",from_name:"{option_blogname}",subject:"New submission",body:"<p>The following information has been sent:</p>{loop_fields}",attachments:[],reply_to:{enabled:!1,email:"",name:""},cc:"",bcc:"",template:{slug:"none"},conditions:{enabled:!1,f1:"",logic:"==",f2:""},schedule:{enabled:!1,schedules:[]}};e(a=>({emails:[...a.emails,r],activeEmailId:r.id,isDirty:!0}))},removeEmail:r=>{e(a=>{const i=a.emails.filter(d=>d.id!==r),c=a.activeEmailId===r?i[0]?.id||null:a.activeEmailId;return{emails:i,activeEmailId:c,isDirty:!0}})},updateEmail:(r,a)=>{e(i=>({emails:i.emails.map(c=>c.id===r?{...c,...a}:c),isDirty:!0}))},updateEmailField:(r,a,i)=>{e(c=>({emails:c.emails.map(u=>{if(u.id!==r)return u;const m=a.split("."),h={...u};let g=h;for(let j=0;j<m.length-1;j++){const y=m[j];g[y]={...g[y]},g=g[y]}return g[m[m.length-1]]=i,h}),isDirty:!0}))},setActiveEmailId:r=>{e({activeEmailId:r})},getActiveEmail:()=>{const r=o();return r.emails.find(a=>a.id===r.activeEmailId)},setActiveLanguage:r=>{e({activeLanguage:r})},updateTranslation:(r,a,i,c)=>{e(d=>{const u={...d.translations};return u[i]||(u[i]={}),u[i][r]||(u[i][r]={}),u[i][r][a]=c,{translations:u,isDirty:!0}})},reorderEmails:(r,a)=>{e(i=>{const c=[...i.emails],[d]=c.splice(r,1);return c.splice(a,0,d),{emails:c,isDirty:!0}})},save:async(r,a,i)=>{const c=o();e({isSaving:!0,error:null});try{const d=new FormData;d.append("action","super_save_form_emails"),d.append("form_id",r),d.append("nonce",i),d.append("emails",JSON.stringify(c.emails)),d.append("translations",JSON.stringify(c.translations));const u=await fetch(a,{method:"POST",body:d}),m=await u.json();if(!u.ok||!m.success)throw new Error(m.message||"Failed to save");return e({isSaving:!1,isDirty:!1}),{success:!0}}catch(d){return e({isSaving:!1,error:d.message}),{success:!1,error:d.message}}},reset:()=>{e({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null})}})));function Mx(){const{activeEmailId:e,emails:o}=mu(),r=o.find(y=>y.id===e),[a,i]=f.useState("dummy"),[c,d]=f.useState(""),[u,m]=f.useState(()=>window.superEmailsData?.currentUserEmail||""),[h,g]=f.useState({type:null,message:""}),j=f.useCallback(async()=>{if(!u){g({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){g({type:"error",message:"Please enter a valid email address"});return}if(!r){g({type:"error",message:"No email selected"});return}const{formId:w,ajaxUrl:C,nonce:N}=window.superEmailsData||{};if(!C||!N){g({type:"error",message:"WordPress context not available"});return}g({type:"loading",message:"Sending test email..."});try{const k={from:r.from_email||"",from_name:r.from_name||"",reply:r.reply_to?.email||"",reply_name:r.reply_to?.name||"",cc:r.cc||"",bcc:r.bcc||"",subject:r.subject||"Test Email",body:r.body||"",attachments:r.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},_=new FormData;_.append("action","super_send_test_email"),_.append("nonce",N),_.append("form_id",w||0),_.append("data_type",a),_.append("entry_id",a==="entry"?c:""),_.append("test_recipient",u),Object.entries(k).forEach(([R,z])=>{Array.isArray(z)?z.forEach((L,A)=>{_.append(`email_settings[${R}][${A}]`,L)}):_.append(`email_settings[${R}]`,z)});const v=await(await fetch(C,{method:"POST",body:_,credentials:"same-origin"})).json();v.success?(g({type:"success",message:v.data?.message||"Test email sent!"}),setTimeout(()=>g({type:null,message:""}),5e3)):g({type:"error",message:v.data?.message||"Failed to send test email"})}catch(k){console.error("Test email error:",k),g({type:"error",message:"Network error - please try again"})}},[r,a,c,u]);return r?t.jsx("div",{className:"bg-gray-50 border-t border-b border-gray-200 px-4 py-2",children:t.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Test Data:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"dataType",value:"dummy",checked:a==="dummy",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Dummy data"})]}),t.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"dataType",value:"entry",checked:a==="entry",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Entry data"})]})]})]}),a==="entry"&&t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("input",{type:"text",value:c,onChange:y=>d(y.target.value),placeholder:"Entry ID (empty = latest)",className:"w-40 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})}),t.jsx("div",{className:"flex-1"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"email",value:u,onChange:y=>m(y.target.value),placeholder:"recipient@example.com",className:"w-52 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),t.jsxs("button",{type:"button",onClick:j,disabled:h.type==="loading",className:pe("inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded transition-colors",h.type==="loading"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-500 text-white hover:bg-primary-600"),children:[h.type==="loading"?t.jsx(Li,{className:"w-4 h-4 animate-spin"}):t.jsx(ia,{className:"w-4 h-4"}),t.jsx("span",{children:"Send Test"})]})]}),h.type&&h.type!=="loading"&&t.jsxs("div",{className:pe("flex items-center gap-1.5 text-sm",h.type==="success"&&"text-green-600",h.type==="error"&&"text-red-600"),children:[h.type==="success"&&t.jsx(sa,{className:"w-4 h-4"}),h.type==="error"&&t.jsx(ms,{className:"w-4 h-4"}),t.jsx("span",{children:h.message})]})]})}):null}const Px=[{id:"desktop",name:"Desktop",icon:Gs,component:du},{id:"mobile",name:"Mobile",icon:la,component:du}];function t4({value:e,onChange:o}){const[r,a]=f.useState(e||"");f.useEffect(()=>{a(e||"")},[e]);const i=c=>{const d=c.target.value;a(d),clearTimeout(window.htmlEditorTimeout),window.htmlEditorTimeout=setTimeout(()=>{o(d)},300)};return t.jsxs("div",{className:"min-h-[300px] bg-gray-900 rounded overflow-hidden",children:[t.jsx("div",{className:"bg-gray-800 px-3 py-2 text-xs text-gray-400 border-b border-gray-700 font-mono",children:"HTML Source"}),t.jsx("textarea",{value:r,onChange:i,className:"w-full min-h-[300px] bg-gray-900 text-gray-100 font-mono text-sm p-4 border-0 outline-none resize-y",placeholder:"Enter your HTML email content here...",spellCheck:!1})]})}function n4(){const[e,o]=f.useState("desktop"),[r,a]=f.useState(null),{activeEmailId:i,emails:c,updateEmailField:d,activeLanguage:u,translations:m,setActiveLanguage:h}=mu(),{elements:g,setElements:j,isDragging:y,draggedElement:w,startDrag:C,endDrag:N,addElement:k,moveElement:_,generateHtml:E,elementTypes:v}=vs(),R=c.find(ne=>ne.id===i),z=Px.find(ne=>ne.id===e)?.component||du,L=R?.body_type==="html";f.useEffect(()=>{R&&!L&&(R.template&&typeof R.template=="object"&&R.template.elements?j(R.template.elements):j([]))},[R,j,L]),f.useEffect(()=>{if(R&&!L&&g.length>0){const ne=E(),Ne=setTimeout(()=>{d(i,"template",{elements:g,html:ne}),d(i,"body",ne)},500);return()=>clearTimeout(Ne)}},[g,R,i,E,d,L]);const A=f.useCallback(ne=>{ne==="html"&&!L?a({title:"Switch to HTML Mode",message:"Your visual elements will be converted to raw HTML code. You can edit the HTML directly.",confirmText:"Switch to HTML",onConfirm:()=>{const Ne=E();d(i,"body",Ne),d(i,"body_type","html"),a(null)},onCancel:()=>a(null)}):ne==="visual"&&L&&a({title:"Switch to Visual Mode",message:"Your HTML content will be placed in an editable HTML block within the visual builder.",confirmText:"Switch to Visual",onConfirm:()=>{const oe=[{id:gt(),type:"html",props:{content:R.body||""},children:[]}];d(i,"body_type","visual"),d(i,"template",{elements:oe,html:R.body||""}),j(oe),a(null)},onCancel:()=>a(null)})},[L,i,R,E,d,j]),$=ne=>{const{active:Ne,over:oe}=ne;if(!oe){N();return}const ee=Ne.data.current,F=oe.data.current;if(ee.type==="new-element"){const X=F?.position!==void 0?F.position:null,K=F?.parentId||null;k(ee.elementType,K,X)}else if(ee.type==="canvas-element"&&Ne.id!==oe.id){const X=F?.position!==void 0?F.position:null,K=F?.parentId||null;_(Ne.id,K,X)}N()},H=ne=>{const{active:Ne}=ne,oe=Ne.data.current;if(oe.type==="new-element"){const ee=vs.getState().elementTypes[oe.elementType];C(ee)}};if(!R)return t.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.jsx("p",{className:"mt-2 text-gray-500",children:"Select an email to preview"})]})});const G={...R,body:L?R.body:g.length>0?E():R.body},se=t.jsx("div",{className:"bg-white border-b px-4 py-2 shadow-sm",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Sn,{value:R.description,onChange:ne=>d(i,"description",ne),placeholder:"Untitled Email",className:"text-sm font-medium text-gray-700",showEditIcon:!0}),t.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:L?"HTML":"Visual"})]}),m&&Object.keys(m).length>0&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(sd,{className:"w-4 h-4 text-gray-500"}),t.jsxs("select",{value:u,onChange:ne=>h(ne.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:[t.jsx("option",{value:"default",children:"Default"}),Object.entries(m).map(([ne,Ne])=>t.jsx("option",{value:ne,children:Ne.name||ne},ne))]})]})]}),t.jsx("div",{className:"flex gap-1",children:Px.map(ne=>{const Ne=ne.icon;return t.jsxs("button",{onClick:()=>o(ne.id),className:pe("px-3 py-1 rounded-md text-sm transition-colors flex items-center gap-1",e===ne.id?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:ne.name,children:[t.jsx(Ne,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:ne.name})]},ne.id)})})]})}),de=r&&t.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center overflow-x-hidden overflow-y-auto bg-black/50",children:t.jsxs("div",{className:"bg-white border border-gray-200 shadow-lg rounded-xl max-w-lg w-full mx-4",children:[t.jsx("div",{className:"flex justify-between items-center py-3 px-4 border-b border-gray-200",children:t.jsx("h3",{className:"font-bold text-gray-800",children:r.title})}),t.jsx("div",{className:"p-4",children:t.jsx("p",{className:"text-gray-600",children:r.message})}),t.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:r.onCancel,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"button",onClick:r.onConfirm,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700",children:r.confirmText})]})]})}),je=()=>L?t.jsx(t4,{value:R.body,onChange:ne=>d(i,"body",ne)}):t.jsx(e4,{isMobile:e==="mobile"});return L?t.jsxs("div",{className:"h-full flex flex-col bg-gray-100",children:[se,de,t.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx(z,{email:G,isMobile:e==="mobile",isBuilder:!0,renderBody:je,updateEmailField:d,activeEmailId:i,isHtmlMode:L,onModeChange:A})}),t.jsx(Mx,{})]})]}):t.jsxs(Md,{collisionDetection:bd,onDragEnd:$,onDragStart:H,children:[t.jsxs("div",{className:"h-full flex flex-col bg-gray-100",children:[se,de,t.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx(z,{email:G,isMobile:e==="mobile",isBuilder:!0,renderBody:je,updateEmailField:d,activeEmailId:i,isHtmlMode:L,onModeChange:A})}),t.jsx(Mx,{}),t.jsx("div",{className:"bg-white border-t",children:t.jsx(ME,{})})]})]}),t.jsx(zh,{children:w&&t.jsx("div",{className:"bg-white rounded shadow-lg p-3 opacity-90",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:w.icon}),t.jsx("span",{className:"text-sm font-medium",children:w.name})]})})})]})}function r4({isOpen:e,onClose:o,node:r,onUpdateNode:a}){const[i,c]=f.useState({to:r.config.to||"",subject:r.config.subject||"",from:r.config.from||"{admin_email}",replyTo:r.config.replyTo||"",template:r.config.template||null}),[d,u]=f.useState(!0),m=r.config._enabled!==!1;f.useEffect(()=>{c({to:r.config.to||"",subject:r.config.subject||"",from:r.config.from||"{admin_email}",replyTo:r.config.replyTo||"",template:r.config.template||null})},[r.id]);const h=f.useCallback(w=>{c(C=>({...C,template:w}))},[]),g=(w,C)=>{c(N=>({...N,[w]:C}))},j=()=>{a(r.id,{config:{...r.config,_enabled:!m}})},y=()=>{a(r.id,{config:{...r.config,...i}}),o()};return t.jsx(Wg,{open:e,onOpenChange:w=>!w&&o(),children:t.jsxs(Qd,{className:"max-w-[95vw] w-[95vw] h-[90vh] max-h-[90vh] p-0 overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-white",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:t.jsx(hs,{className:"w-5 h-5 text-blue-600"})}),t.jsx("div",{children:t.jsxs(Jd,{className:"p-0 space-y-0",children:[t.jsx(Zd,{className:"text-lg font-semibold",children:"Send Email"}),t.jsx(eu,{className:"text-sm text-gray-500",children:"Configure the email that will be sent when this action triggers"})]})})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(pm,{className:"w-4 h-4 text-gray-500"}),t.jsx("span",{className:"text-sm text-gray-600",children:m?"Enabled":"Disabled"}),t.jsx("button",{onClick:j,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${m?"bg-green-500":"bg-gray-300"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm ${m?"translate-x-6":"translate-x-1"}`})})]}),t.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(Xs,{className:"w-4 h-4"}),"Save & Close"]}),t.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(pt,{className:"w-5 h-5 text-gray-500"})})]})]}),t.jsxs("div",{className:"border-b bg-gray-50",children:[t.jsxs("button",{onClick:()=>u(!d),className:"w-full flex items-center justify-between px-6 py-3 hover:bg-gray-100 transition-colors",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email Settings"}),d?t.jsx(ra,{className:"w-4 h-4 text-gray-500"}):t.jsx(mn,{className:"w-4 h-4 text-gray-500"})]}),d&&t.jsxs("div",{className:"px-6 pb-4 grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To"}),t.jsx("input",{type:"text",value:i.to,onChange:w=>g("to",w.target.value),placeholder:"{email} or recipient@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Use ","{field_name}"," to insert form field values"]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),t.jsx("input",{type:"text",value:i.subject,onChange:w=>g("subject",w.target.value),placeholder:"Email subject line",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From"}),t.jsx("input",{type:"text",value:i.from,onChange:w=>g("from",w.target.value),placeholder:"{admin_email}",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reply-To"}),t.jsx("input",{type:"text",value:i.replyTo,onChange:w=>g("replyTo",w.target.value),placeholder:"Optional reply-to address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),t.jsx(s4,{node:r,emailConfig:i,onChange:h})]})})}function s4({node:e,emailConfig:o,onChange:r}){const{initializeStore:a,activeEmailId:i,emails:c,reset:d}=mu();return f.useEffect(()=>{const u={id:`temp-${e.id}`,description:"Email Template",subject:o.subject,to:o.to,from:o.from,replyTo:o.replyTo,body:o.template?.html||"",body_type:"visual",template:o.template||{elements:[],html:""}};return a({emails:[u]}),()=>{d()}},[e.id,o,a,d]),f.useEffect(()=>{if(i&&c.length>0){const u=c.find(m=>m.id===i);u?.template&&r({elements:u.template.elements||[],html:u.template.html||""})}},[c,i,r]),t.jsx("div",{className:"flex-1 overflow-hidden",children:t.jsx(n4,{})})}function o4({formId:e,automationId:o}){const r=pE(),[a,i]=f.useState("Untitled Workflow"),[c,d]=f.useState(null),[u,m]=f.useState(!1),h=f.useRef(null),[g,j]=f.useState(!1),[y,w]=f.useState(null),[C,N]=f.useState(!1),[k,_]=f.useState(null);f.useEffect(()=>{o&&E(o)},[o]);const E=async X=>{try{const K=await fetch(`${window.sfuiData.restUrl}/automations/${X}`,{headers:{"X-WP-Nonce":window.sfuiData.restNonce}});if(!K.ok)throw new Error("Failed to load workflow");const D=await K.json();if(i(D.name||"Untitled Workflow"),D.workflow_graph){const T=JSON.parse(D.workflow_graph);r.loadWorkflow(T)}}catch(K){console.error("Failed to load workflow:",K),alert("Failed to load workflow. Please try again.")}},v=async()=>{if(!a.trim()){alert("Please enter a workflow name");return}m(!0);try{const X=r.exportWorkflow();if(!r.nodes.find(J=>J.type.startsWith("form.")||J.type.startsWith("entry.")||J.type.startsWith("payment.")||J.type.startsWith("session."))){alert("Please add at least one trigger node (event) to your workflow"),m(!1);return}const D={name:a,type:"visual",workflow_graph:JSON.stringify(X),enabled:!0},T=o?`${window.sfuiData.restUrl}/automations/${o}`:`${window.sfuiData.restUrl}/automations`,q=await fetch(T,{method:o?"PUT":"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.sfuiData.restNonce},body:JSON.stringify(D)});if(!q.ok){const J=await q.json();throw new Error(J.message||"Failed to save workflow")}const Y=await q.json();alert("Workflow saved successfully!"),!o&&Y.id&&(window.location.href=`${window.location.pathname}?page=super_create_form&id=${e}&tab=automations&automation_id=${Y.id}`)}catch(X){console.error("Failed to save workflow:",X),alert("Failed to save workflow. Please try again.")}finally{m(!1)}},R=f.useCallback(X=>{X.preventDefault();const K=X.dataTransfer.getData("application/super-forms-node");if(!K||!h.current)return;const D=h.current.getBoundingClientRect(),T=X.clientX-D.left,q=X.clientY-D.top,Y=r.screenToCanvas(T,q);r.addNode(K,Y)},[r]),z=f.useCallback(X=>{X.preventDefault(),X.dataTransfer.dropEffect="copy"},[]),L=f.useCallback((X,K)=>{r.selectNode(X,K),d(X)},[r]),A=f.useCallback((X,K)=>{r.endConnection(X,K)},[r]),$=f.useCallback(X=>{w(X),j(!0)},[]),H=f.useCallback((X,K)=>{const D=r.addNode(X,K);if(D&&r.connectionStart){const q=Object.values(r.nodes).find(Y=>Y.type===X)?.config?.inputs?.[0]||"data";r.endConnection(D,q)}j(!1),w(null)},[r]),G=f.useCallback((X,K,D)=>{},[]),se=f.useCallback((X,K)=>{r.updateNode(X,{position:K})},[r]),de=f.useCallback(()=>{},[]),je=c&&r.nodes.find(X=>X.id===c)||null,ne=f.useCallback(()=>{r.nodes.length!==0&&confirm("Are you sure you want to clear this workflow? This action cannot be undone.")&&(r.clearWorkflow(),d(null))},[r]),Ne=f.useCallback(()=>{alert("Test functionality coming soon! This will fire a test event with sample data.")},[]),oe=f.useCallback(()=>{alert("Preview functionality coming soon! This will show the workflow execution flow.")},[]),ee=f.useCallback(X=>{_(X),N(!0)},[]),F=f.useCallback(()=>{N(!1),_(null)},[]);return t.jsxs("div",{className:"visual-builder flex flex-col h-full bg-gray-100",children:[t.jsx(NE,{workflowName:a,onWorkflowNameChange:i,onSave:v,onUndo:r.undo,onRedo:r.redo,onClear:ne,onTest:Ne,onPreview:oe,canUndo:r.canUndo,canRedo:r.canRedo,isSaving:u}),t.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[t.jsx("div",{className:"w-80 flex-shrink-0",children:t.jsx(bE,{onAddNode:(X,K)=>r.addNode(X,K)})}),t.jsx("div",{ref:h,className:"flex-1 relative",onDrop:R,onDragOver:z,children:t.jsx(yE,{nodes:r.nodes,connections:r.connections,groups:r.groups,viewport:r.viewport,selectedNodes:r.selectedNodes,selectedConnections:r.selectedConnections,onNodeClick:L,onNodeDragStart:G,onNodeDrag:se,onNodeDragEnd:de,onCanvasPan:r.panViewport,onCanvasClick:()=>{r.clearSelection(),d(null)},onZoom:r.zoomViewport,dragState:r.dragState,setDragState:r.setDragState,isConnecting:r.isConnecting,connectionStart:r.connectionStart,onConnectionStart:r.startConnection,onConnectionEnd:A,onConnectionDropOnCanvas:$,onConnectionClick:X=>{},onDeleteConnection:r.deleteConnection,onCancelConnection:r.cancelConnection,onSelectNodesInRect:r.selectNodes,onUpdateGroup:r.updateGroup,onRemoveGroup:r.removeGroup,onMoveGroup:r.moveGroup})}),je&&t.jsx("div",{className:"w-96 flex-shrink-0",children:t.jsx(jE,{selectedNode:je,onUpdateNode:r.updateNode,onClose:()=>{r.clearSelection(),d(null)},onOpenEmailBuilder:ee})})]}),k&&t.jsx(r4,{isOpen:C,onClose:F,node:k,onUpdateNode:r.updateNode}),t.jsx(kE,{isOpen:g,onClose:()=>{j(!1),w(null),r.cancelConnection()},connectionStart:r.connectionStart,position:y,onCreateAndConnect:H})]})}function a4({formId:e}){const o=new URLSearchParams(window.location.search),r=o.get("automation_id")?parseInt(o.get("automation_id")):null;return t.jsx("div",{className:"automations-tab h-full",children:t.jsx(o4,{formId:e,automationId:r})})}function i4({formId:e,forms:o,restUrl:r,restNonce:a}){return e?t.jsx(a4,{formId:e}):t.jsx("div",{className:"flex items-center justify-center h-full p-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Form Selected"}),t.jsx("p",{className:"text-gray-600",children:"Please select a form to manage automations and workflows."})]})})}const l4=Object.freeze(Object.defineProperty({__proto__:null,default:i4},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=admin.js.map
