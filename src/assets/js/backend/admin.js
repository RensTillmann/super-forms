var s$=Object.defineProperty;var a$=(So,Dn,Yr)=>Dn in So?s$(So,Dn,{enumerable:!0,configurable:!0,writable:!0,value:Yr}):So[Dn]=Yr;var vu=(So,Dn,Yr)=>a$(So,typeof Dn!="symbol"?Dn+"":Dn,Yr);(function(){"use strict";function So(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const c=Object.getOwnPropertyDescriptor(a,i);c&&Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Dn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yr={exports:{}},xa={},bu={exports:{}},Oe={};var nm;function Gb(){if(nm)return Oe;nm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function k(z,T,Y){this.props=z,this.context=T,this.refs=N,this.updater=Y||v}k.prototype.isReactComponent={},k.prototype.setState=function(z,T){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,T,"setState")},k.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function _(){}_.prototype=k.prototype;function S(z,T,Y){this.props=z,this.context=T,this.refs=N,this.updater=Y||v}var w=S.prototype=new _;w.constructor=S,C(w,k.prototype),w.isPureReactComponent=!0;var R=Array.isArray,M=Object.prototype.hasOwnProperty,I={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function P(z,T,Y){var q,Q={},xe=null,H=null;if(T!=null)for(q in T.ref!==void 0&&(H=T.ref),T.key!==void 0&&(xe=""+T.key),T)M.call(T,q)&&!O.hasOwnProperty(q)&&(Q[q]=T[q]);var ge=arguments.length-2;if(ge===1)Q.children=Y;else if(1<ge){for(var ze=Array(ge),Se=0;Se<ge;Se++)ze[Se]=arguments[Se+2];Q.children=ze}if(z&&z.defaultProps)for(q in ge=z.defaultProps,ge)Q[q]===void 0&&(Q[q]=ge[q]);return{$$typeof:e,type:z,key:xe,ref:H,props:Q,_owner:I.current}}function U(z,T){return{$$typeof:e,type:z.type,key:T,ref:z.ref,props:z.props,_owner:z._owner}}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function oe(z){var T={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Y){return T[Y]})}var de=/\/+/g;function Ne(z,T){return typeof z=="object"&&z!==null&&z.key!=null?oe(""+z.key):T.toString(36)}function re(z,T,Y,q,Q){var xe=typeof z;(xe==="undefined"||xe==="boolean")&&(z=null);var H=!1;if(z===null)H=!0;else switch(xe){case"string":case"number":H=!0;break;case"object":switch(z.$$typeof){case e:case t:H=!0}}if(H)return H=z,Q=Q(H),z=q===""?"."+Ne(H,0):q,R(Q)?(Y="",z!=null&&(Y=z.replace(de,"$&/")+"/"),re(Q,T,Y,"",function(Se){return Se})):Q!=null&&(V(Q)&&(Q=U(Q,Y+(!Q.key||H&&H.key===Q.key?"":(""+Q.key).replace(de,"$&/")+"/")+z)),T.push(Q)),1;if(H=0,q=q===""?".":q+":",R(z))for(var ge=0;ge<z.length;ge++){xe=z[ge];var ze=q+Ne(xe,ge);H+=re(xe,T,Y,ze,Q)}else if(ze=y(z),typeof ze=="function")for(z=ze.call(z),ge=0;!(xe=z.next()).done;)xe=xe.value,ze=q+Ne(xe,ge++),H+=re(xe,T,Y,ze,Q);else if(xe==="object")throw T=String(z),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return H}function ke(z,T,Y){if(z==null)return z;var q=[],Q=0;return re(z,q,"","",function(xe){return T.call(Y,xe,Q++)}),q}function ae(z){if(z._status===-1){var T=z._result;T=T(),T.then(function(Y){(z._status===0||z._status===-1)&&(z._status=1,z._result=Y)},function(Y){(z._status===0||z._status===-1)&&(z._status=2,z._result=Y)}),z._status===-1&&(z._status=0,z._result=T)}if(z._status===1)return z._result.default;throw z._result}var ne={current:null},F={transition:null},K={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:F,ReactCurrentOwner:I};function G(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:ke,forEach:function(z,T,Y){ke(z,function(){T.apply(this,arguments)},Y)},count:function(z){var T=0;return ke(z,function(){T++}),T},toArray:function(z){return ke(z,function(T){return T})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Oe.Component=k,Oe.Fragment=n,Oe.Profiler=i,Oe.PureComponent=S,Oe.StrictMode=a,Oe.Suspense=m,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Oe.act=G,Oe.cloneElement=function(z,T,Y){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var q=C({},z.props),Q=z.key,xe=z.ref,H=z._owner;if(T!=null){if(T.ref!==void 0&&(xe=T.ref,H=I.current),T.key!==void 0&&(Q=""+T.key),z.type&&z.type.defaultProps)var ge=z.type.defaultProps;for(ze in T)M.call(T,ze)&&!O.hasOwnProperty(ze)&&(q[ze]=T[ze]===void 0&&ge!==void 0?ge[ze]:T[ze])}var ze=arguments.length-2;if(ze===1)q.children=Y;else if(1<ze){ge=Array(ze);for(var Se=0;Se<ze;Se++)ge[Se]=arguments[Se+2];q.children=ge}return{$$typeof:e,type:z.type,key:Q,ref:xe,props:q,_owner:H}},Oe.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:c,_context:z},z.Consumer=z},Oe.createElement=P,Oe.createFactory=function(z){var T=P.bind(null,z);return T.type=z,T},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(z){return{$$typeof:d,render:z}},Oe.isValidElement=V,Oe.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ae}},Oe.memo=function(z,T){return{$$typeof:h,type:z,compare:T===void 0?null:T}},Oe.startTransition=function(z){var T=F.transition;F.transition={};try{z()}finally{F.transition=T}},Oe.unstable_act=G,Oe.useCallback=function(z,T){return ne.current.useCallback(z,T)},Oe.useContext=function(z){return ne.current.useContext(z)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(z){return ne.current.useDeferredValue(z)},Oe.useEffect=function(z,T){return ne.current.useEffect(z,T)},Oe.useId=function(){return ne.current.useId()},Oe.useImperativeHandle=function(z,T,Y){return ne.current.useImperativeHandle(z,T,Y)},Oe.useInsertionEffect=function(z,T){return ne.current.useInsertionEffect(z,T)},Oe.useLayoutEffect=function(z,T){return ne.current.useLayoutEffect(z,T)},Oe.useMemo=function(z,T){return ne.current.useMemo(z,T)},Oe.useReducer=function(z,T,Y){return ne.current.useReducer(z,T,Y)},Oe.useRef=function(z){return ne.current.useRef(z)},Oe.useState=function(z){return ne.current.useState(z)},Oe.useSyncExternalStore=function(z,T,Y){return ne.current.useSyncExternalStore(z,T,Y)},Oe.useTransition=function(){return ne.current.useTransition()},Oe.version="18.3.1",Oe}var rm;function ya(){return rm||(rm=1,bu.exports=Gb()),bu.exports}var om;function Kb(){if(om)return xa;om=1;var e=ya(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(d,m,h){var g,b={},y=null,v=null;h!==void 0&&(y=""+h),m.key!==void 0&&(y=""+m.key),m.ref!==void 0&&(v=m.ref);for(g in m)a.call(m,g)&&!c.hasOwnProperty(g)&&(b[g]=m[g]);if(d&&d.defaultProps)for(g in m=d.defaultProps,m)b[g]===void 0&&(b[g]=m[g]);return{$$typeof:t,type:d,key:y,ref:v,props:b,_owner:i.current}}return xa.Fragment=n,xa.jsx=u,xa.jsxs=u,xa}var sm;function Xb(){return sm||(sm=1,Yr.exports=Kb()),Yr.exports}var r=Xb(),p=ya();const De=Dn(p),wu=So({__proto__:null,default:De},[p]);var Li={},ju={exports:{}},fn={},Nu={exports:{}},ku={};var am;function Qb(){return am||(am=1,(function(e){function t(F,K){var G=F.length;F.push(K);e:for(;0<G;){var z=G-1>>>1,T=F[z];if(0<i(T,K))F[z]=K,F[G]=T,G=z;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var K=F[0],G=F.pop();if(G!==K){F[0]=G;e:for(var z=0,T=F.length,Y=T>>>1;z<Y;){var q=2*(z+1)-1,Q=F[q],xe=q+1,H=F[xe];if(0>i(Q,G))xe<T&&0>i(H,Q)?(F[z]=H,F[xe]=G,z=xe):(F[z]=Q,F[q]=G,z=q);else if(xe<T&&0>i(H,G))F[z]=H,F[xe]=G,z=xe;else break e}}return K}function i(F,K){var G=F.sortIndex-K.sortIndex;return G!==0?G:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var m=[],h=[],g=1,b=null,y=3,v=!1,C=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var K=n(h);K!==null;){if(K.callback===null)a(h);else if(K.startTime<=F)a(h),K.sortIndex=K.expirationTime,t(m,K);else break;K=n(h)}}function R(F){if(N=!1,w(F),!C)if(n(m)!==null)C=!0,ae(M);else{var K=n(h);K!==null&&ne(R,K.startTime-F)}}function M(F,K){C=!1,N&&(N=!1,_(P),P=-1),v=!0;var G=y;try{for(w(K),b=n(m);b!==null&&(!(b.expirationTime>K)||F&&!oe());){var z=b.callback;if(typeof z=="function"){b.callback=null,y=b.priorityLevel;var T=z(b.expirationTime<=K);K=e.unstable_now(),typeof T=="function"?b.callback=T:b===n(m)&&a(m),w(K)}else a(m);b=n(m)}if(b!==null)var Y=!0;else{var q=n(h);q!==null&&ne(R,q.startTime-K),Y=!1}return Y}finally{b=null,y=G,v=!1}}var I=!1,O=null,P=-1,U=5,V=-1;function oe(){return!(e.unstable_now()-V<U)}function de(){if(O!==null){var F=e.unstable_now();V=F;var K=!0;try{K=O(!0,F)}finally{K?Ne():(I=!1,O=null)}}else I=!1}var Ne;if(typeof S=="function")Ne=function(){S(de)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ke=re.port2;re.port1.onmessage=de,Ne=function(){ke.postMessage(null)}}else Ne=function(){k(de,0)};function ae(F){O=F,I||(I=!0,Ne())}function ne(F,K){P=k(function(){F(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){C||v||(C=!0,ae(M))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(F){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var G=y;y=K;try{return F()}finally{y=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=y;y=F;try{return K()}finally{y=G}},e.unstable_scheduleCallback=function(F,K,G){var z=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?z+G:z):G=z,F){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=G+T,F={id:g++,callback:K,priorityLevel:F,startTime:G,expirationTime:T,sortIndex:-1},G>z?(F.sortIndex=G,t(h,F),n(m)===null&&F===n(h)&&(N?(_(P),P=-1):N=!0,ne(R,G-z))):(F.sortIndex=T,t(m,F),C||v||(C=!0,ae(M))),F},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(F){var K=y;return function(){var G=y;y=K;try{return F.apply(this,arguments)}finally{y=G}}}})(ku)),ku}var im;function Jb(){return im||(im=1,Nu.exports=Qb()),Nu.exports}var lm;function e1(){if(lm)return fn;lm=1;var e=ya(),t=Jb();function n(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function c(o,s){u(o,s),u(o+"Capture",s)}function u(o,s){for(i[o]=s,o=0;o<s.length;o++)a.add(s[o])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},b={};function y(o){return m.call(b,o)?!0:m.call(g,o)?!1:h.test(o)?b[o]=!0:(g[o]=!0,!1)}function v(o,s,l,f){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function C(o,s,l,f){if(s===null||typeof s>"u"||v(o,s,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(o,s,l,f,x,j,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=x,this.mustUseProperty=l,this.propertyName=o,this.type=s,this.sanitizeURL=j,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new N(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];k[s]=new N(s,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new N(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new N(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new N(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new N(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new N(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new N(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new N(o,5,!1,o.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function S(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(_,S);k[s]=new N(s,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(_,S);k[s]=new N(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(_,S);k[s]=new N(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new N(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new N(o,1,!1,o.toLowerCase(),null,!0,!0)});function w(o,s,l,f){var x=k.hasOwnProperty(s)?k[s]:null;(x!==null?x.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,l,x,f)&&(l=null),f||x===null?y(s)&&(l===null?o.removeAttribute(s):o.setAttribute(s,""+l)):x.mustUseProperty?o[x.propertyName]=l===null?x.type===3?!1:"":l:(s=x.attributeName,f=x.attributeNamespace,l===null?o.removeAttribute(s):(x=x.type,l=x===3||x===4&&l===!0?"":""+l,f?o.setAttributeNS(f,s,l):o.setAttribute(s,l))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),oe=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),F=Symbol.iterator;function K(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var G=Object.assign,z;function T(o){if(z===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+o}var Y=!1;function q(o,s){if(!o||Y)return"";Y=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Z){var f=Z}Reflect.construct(o,[],s)}else{try{s.call()}catch(Z){f=Z}o.call(s.prototype)}else{try{throw Error()}catch(Z){f=Z}o()}}catch(Z){if(Z&&f&&typeof Z.stack=="string"){for(var x=Z.stack.split(`
`),j=f.stack.split(`
`),E=x.length-1,D=j.length-1;1<=E&&0<=D&&x[E]!==j[D];)D--;for(;1<=E&&0<=D;E--,D--)if(x[E]!==j[D]){if(E!==1||D!==1)do if(E--,D--,0>D||x[E]!==j[D]){var L=`
`+x[E].replace(" at new "," at ");return o.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",o.displayName)),L}while(1<=E&&0<=D);break}}}finally{Y=!1,Error.prepareStackTrace=l}return(o=o?o.displayName||o.name:"")?T(o):""}function Q(o){switch(o.tag){case 5:return T(o.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return o=q(o.type,!1),o;case 11:return o=q(o.type.render,!1),o;case 1:return o=q(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case O:return"Fragment";case I:return"Portal";case U:return"Profiler";case P:return"StrictMode";case Ne:return"Suspense";case re:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case oe:return(o.displayName||"Context")+".Consumer";case V:return(o._context.displayName||"Context")+".Provider";case de:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ke:return s=o.displayName||null,s!==null?s:xe(o.type)||"Memo";case ae:s=o._payload,o=o._init;try{return xe(o(s))}catch{}}return null}function H(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(s);case 8:return s===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ge(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ze(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Se(o){var s=ze(o)?"checked":"value",l=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),f=""+o[s];if(!o.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var x=l.get,j=l.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return x.call(this)},set:function(E){f=""+E,j.call(this,E)}}),Object.defineProperty(o,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function rt(o){o._valueTracker||(o._valueTracker=Se(o))}function Ze(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return o&&(f=ze(o)?o.checked?"true":"false":o.value),o=f,o!==l?(s.setValue(o),!0):!1}function ot(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ke(o,s){var l=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??o._wrapperState.initialChecked})}function Ct(o,s){var l=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;l=ge(s.value!=null?s.value:l),o._wrapperState={initialChecked:f,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function qt(o,s){s=s.checked,s!=null&&w(o,"checked",s,!1)}function Jt(o,s){qt(o,s);var l=ge(s.value),f=s.type;if(l!=null)f==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+l):o.value!==""+l&&(o.value=""+l);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?le(o,s.type,l):s.hasOwnProperty("defaultValue")&&le(o,s.type,ge(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function sn(o,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,l||s===o.value||(o.value=s),o.defaultValue=s}l=o.name,l!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,l!==""&&(o.name=l)}function le(o,s,l){(s!=="number"||ot(o.ownerDocument)!==o)&&(l==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+l&&(o.defaultValue=""+l))}var ue=Array.isArray;function he(o,s,l,f){if(o=o.options,s){s={};for(var x=0;x<l.length;x++)s["$"+l[x]]=!0;for(l=0;l<o.length;l++)x=s.hasOwnProperty("$"+o[l].value),o[l].selected!==x&&(o[l].selected=x),x&&f&&(o[l].defaultSelected=!0)}else{for(l=""+ge(l),s=null,x=0;x<o.length;x++){if(o[x].value===l){o[x].selected=!0,f&&(o[x].defaultSelected=!0);return}s!==null||o[x].disabled||(s=o[x])}s!==null&&(s.selected=!0)}}function Me(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Xe(o,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(ue(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}o._wrapperState={initialValue:ge(l)}}function We(o,s){var l=ge(s.value),f=ge(s.defaultValue);l!=null&&(l=""+l,l!==o.value&&(o.value=l),s.defaultValue==null&&o.defaultValue!==l&&(o.defaultValue=l)),f!=null&&(o.defaultValue=""+f)}function me(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function gt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?gt(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Qe,kn=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,f,x){MSApp.execUnsafeLocalFunction(function(){return o(s,l,f,x)})}:o})(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Qe.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function an(o,s){if(s){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=s;return}}o.textContent=s}var _t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},br=["Webkit","ms","Moz","O"];Object.keys(_t).forEach(function(o){br.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),_t[s]=_t[o]})});function Qa(o,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||_t.hasOwnProperty(o)&&_t[o]?(""+s).trim():s+"px"}function Ja(o,s){o=o.style;for(var l in s)if(s.hasOwnProperty(l)){var f=l.indexOf("--")===0,x=Qa(l,s[l],f);l==="float"&&(l="cssFloat"),f?o.setProperty(l,x):o[l]=x}}var Vo=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ao(o,s){if(s){if(Vo[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function wr(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jr=null;function io(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qe=null,Gt=null,ft=null;function $t(o){if(o=ji(o)){if(typeof qe!="function")throw Error(n(280));var s=o.stateNode;s&&(s=Pc(s),qe(o.stateNode,o.type,s))}}function jt(o){Gt?ft?ft.push(o):ft=[o]:Gt=o}function xt(){if(Gt){var o=Gt,s=ft;if(ft=Gt=null,$t(o),s)for(o=0;o<s.length;o++)$t(s[o])}}function pt(o,s){return o(s)}function Rt(){}var Pt=!1;function Cn(o,s,l){if(Pt)return o(s,l);Pt=!0;try{return pt(o,s,l)}finally{Pt=!1,(Gt!==null||ft!==null)&&(Rt(),xt())}}function Ge(o,s){var l=o.stateNode;if(l===null)return null;var f=Pc(l);if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var ln=!1;if(d)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){ln=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{ln=!1}function hn(o,s,l,f,x,j,E,D,L){var Z=Array.prototype.slice.call(arguments,3);try{s.apply(l,Z)}catch(ie){this.onError(ie)}}var Kt=!1,cn=null,yt=!1,At=null,Bs={onError:function(o){Kt=!0,cn=o}};function Nf(o,s,l,f,x,j,E,D,L){Kt=!1,cn=null,hn.apply(Bs,arguments)}function kf(o,s,l,f,x,j,E,D,L){if(Nf.apply(this,arguments),Kt){if(Kt){var Z=cn;Kt=!1,cn=null}else throw Error(n(198));yt||(yt=!0,At=Z)}}function er(o){var s=o,l=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(l=s.return),o=s.return;while(o)}return s.tag===3?l:null}function pc(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function ei(o){if(er(o)!==o)throw Error(n(188))}function Cf(o){var s=o.alternate;if(!s){if(s=er(o),s===null)throw Error(n(188));return s!==o?null:o}for(var l=o,f=s;;){var x=l.return;if(x===null)break;var j=x.alternate;if(j===null){if(f=x.return,f!==null){l=f;continue}break}if(x.child===j.child){for(j=x.child;j;){if(j===l)return ei(x),o;if(j===f)return ei(x),s;j=j.sibling}throw Error(n(188))}if(l.return!==f.return)l=x,f=j;else{for(var E=!1,D=x.child;D;){if(D===l){E=!0,l=x,f=j;break}if(D===f){E=!0,f=x,l=j;break}D=D.sibling}if(!E){for(D=j.child;D;){if(D===l){E=!0,l=j,f=x;break}if(D===f){E=!0,f=j,l=x;break}D=D.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?o:s}function Us(o){return o=Cf(o),o!==null?mc(o):null}function mc(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=mc(o);if(s!==null)return s;o=o.sibling}return null}var ti=t.unstable_scheduleCallback,Ir=t.unstable_cancelCallback,Ef=t.unstable_shouldYield,An=t.unstable_requestPaint,st=t.unstable_now,ni=t.unstable_getCurrentPriorityLevel,ri=t.unstable_ImmediatePriority,oi=t.unstable_UserBlockingPriority,Hs=t.unstable_NormalPriority,hc=t.unstable_LowPriority,gc=t.unstable_IdlePriority,En=null,Be=null;function Vs(o){if(Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(En,o,void 0,(o.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:ai,xc=Math.log,si=Math.LN2;function ai(o){return o>>>=0,o===0?32:31-(xc(o)/si|0)|0}var Lr=64,Zo=4194304;function lo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Sn(o,s){var l=o.pendingLanes;if(l===0)return 0;var f=0,x=o.suspendedLanes,j=o.pingedLanes,E=l&268435455;if(E!==0){var D=E&~x;D!==0?f=lo(D):(j&=E,j!==0&&(f=lo(j)))}else E=l&~x,E!==0?f=lo(E):j!==0&&(f=lo(j));if(f===0)return 0;if(s!==0&&s!==f&&(s&x)===0&&(x=f&-f,j=s&-s,x>=j||x===16&&(j&4194240)!==0))return s;if((f&4)!==0&&(f|=l&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=f;0<s;)l=31-Ft(s),x=1<<l,f|=o[l],s&=~x;return f}function yc(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(o,s){for(var l=o.suspendedLanes,f=o.pingedLanes,x=o.expirationTimes,j=o.pendingLanes;0<j;){var E=31-Ft(j),D=1<<E,L=x[E];L===-1?((D&l)===0||(D&f)!==0)&&(x[E]=yc(D,s)):L<=s&&(o.expiredLanes|=D),j&=~D}}function Zs(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ii(){var o=Lr;return Lr<<=1,(Lr&4194240)===0&&(Lr=64),o}function Yo(o){for(var s=[],l=0;31>l;l++)s.push(o);return s}function tr(o,s,l){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-Ft(s),o[s]=l}function Ys(o,s){var l=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<l;){var x=31-Ft(l),j=1<<x;s[x]=0,f[x]=-1,o[x]=-1,l&=~j}}function co(o,s){var l=o.entangledLanes|=s;for(o=o.entanglements;l;){var f=31-Ft(l),x=1<<f;x&s|o[f]&s&&(o[f]|=s),l&=~x}}var Ye=0;function qo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Nr,nr,li,bc,ci,Go=!1,qs=[],kr=null,rr=null,or=null,uo=new Map,Ko=new Map,Cr=[],$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function te(o,s){switch(o){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":uo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(s.pointerId)}}function J(o,s,l,f,x,j){return o===null||o.nativeEvent!==j?(o={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:j,targetContainers:[x]},s!==null&&(s=ji(s),s!==null&&nr(s)),o):(o.eventSystemFlags|=f,s=o.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),o)}function be(o,s,l,f,x){switch(s){case"focusin":return kr=J(kr,o,s,l,f,x),!0;case"dragenter":return rr=J(rr,o,s,l,f,x),!0;case"mouseover":return or=J(or,o,s,l,f,x),!0;case"pointerover":var j=x.pointerId;return uo.set(j,J(uo.get(j)||null,o,s,l,f,x)),!0;case"gotpointercapture":return j=x.pointerId,Ko.set(j,J(Ko.get(j)||null,o,s,l,f,x)),!0}return!1}function Re(o){var s=Xo(o.target);if(s!==null){var l=er(s);if(l!==null){if(s=l.tag,s===13){if(s=pc(l),s!==null){o.blockedOn=s,ci(o.priority,function(){li(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ue(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var l=_f(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(l===null){l=o.nativeEvent;var f=new l.constructor(l.type,l);jr=f,l.target.dispatchEvent(f),jr=null}else return s=ji(l),s!==null&&nr(s),o.blockedOn=l,!1;s.shift()}return!0}function Et(o,s,l){Ue(o)&&l.delete(s)}function Py(){Go=!1,kr!==null&&Ue(kr)&&(kr=null),rr!==null&&Ue(rr)&&(rr=null),or!==null&&Ue(or)&&(or=null),uo.forEach(Et),Ko.forEach(Et)}function Or(o,s){o.blockedOn===s&&(o.blockedOn=null,Go||(Go=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Py)))}function ui(o){function s(x){return Or(x,o)}if(0<qs.length){Or(qs[0],o);for(var l=1;l<qs.length;l++){var f=qs[l];f.blockedOn===o&&(f.blockedOn=null)}}for(kr!==null&&Or(kr,o),rr!==null&&Or(rr,o),or!==null&&Or(or,o),uo.forEach(s),Ko.forEach(s),l=0;l<Cr.length;l++)f=Cr[l],f.blockedOn===o&&(f.blockedOn=null);for(;0<Cr.length&&(l=Cr[0],l.blockedOn===null);)Re(l),l.blockedOn===null&&Cr.shift()}var Gs=R.ReactCurrentBatchConfig,wc=!0;function zT(o,s,l,f){var x=Ye,j=Gs.transition;Gs.transition=null;try{Ye=1,Sf(o,s,l,f)}finally{Ye=x,Gs.transition=j}}function TT(o,s,l,f){var x=Ye,j=Gs.transition;Gs.transition=null;try{Ye=4,Sf(o,s,l,f)}finally{Ye=x,Gs.transition=j}}function Sf(o,s,l,f){if(wc){var x=_f(o,s,l,f);if(x===null)Vf(o,s,f,jc,l),te(o,f);else if(be(x,o,s,l,f))f.stopPropagation();else if(te(o,f),s&4&&-1<$.indexOf(o)){for(;x!==null;){var j=ji(x);if(j!==null&&Nr(j),j=_f(o,s,l,f),j===null&&Vf(o,s,f,jc,l),j===x)break;x=j}x!==null&&f.stopPropagation()}else Vf(o,s,f,null,l)}}var jc=null;function _f(o,s,l,f){if(jc=null,o=io(f),o=Xo(o),o!==null)if(s=er(o),s===null)o=null;else if(l=s.tag,l===13){if(o=pc(s),o!==null)return o;o=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return jc=o,null}function My(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ni()){case ri:return 1;case oi:return 4;case Hs:case hc:return 16;case gc:return 536870912;default:return 16}default:return 16}}var fo=null,Rf=null,Nc=null;function Iy(){if(Nc)return Nc;var o,s=Rf,l=s.length,f,x="value"in fo?fo.value:fo.textContent,j=x.length;for(o=0;o<l&&s[o]===x[o];o++);var E=l-o;for(f=1;f<=E&&s[l-f]===x[j-f];f++);return Nc=x.slice(o,1<f?1-f:void 0)}function kc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Cc(){return!0}function Ly(){return!1}function _n(o){function s(l,f,x,j,E){this._reactName=l,this._targetInst=x,this.type=f,this.nativeEvent=j,this.target=E,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(l=o[D],this[D]=l?l(j):j[D]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Cc:Ly,this.isPropagationStopped=Ly,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cc)},persist:function(){},isPersistent:Cc}),s}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zf=_n(Ks),di=G({},Ks,{view:0,detail:0}),DT=_n(di),Tf,Df,fi,Ec=G({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==fi&&(fi&&o.type==="mousemove"?(Tf=o.screenX-fi.screenX,Df=o.screenY-fi.screenY):Df=Tf=0,fi=o),Tf)},movementY:function(o){return"movementY"in o?o.movementY:Df}}),Oy=_n(Ec),$T=G({},Ec,{dataTransfer:0}),PT=_n($T),MT=G({},di,{relatedTarget:0}),$f=_n(MT),IT=G({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),LT=_n(IT),OT=G({},Ks,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),AT=_n(OT),FT=G({},Ks,{data:0}),Ay=_n(FT),WT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HT(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=UT[o])?!!s[o]:!1}function Pf(){return HT}var VT=G({},di,{key:function(o){if(o.key){var s=WT[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=kc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?BT[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pf,charCode:function(o){return o.type==="keypress"?kc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?kc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ZT=_n(VT),YT=G({},Ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=_n(YT),qT=G({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pf}),GT=_n(qT),KT=G({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),XT=_n(KT),QT=G({},Ec,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),JT=_n(QT),eD=[9,13,27,32],Mf=d&&"CompositionEvent"in window,pi=null;d&&"documentMode"in document&&(pi=document.documentMode);var tD=d&&"TextEvent"in window&&!pi,Wy=d&&(!Mf||pi&&8<pi&&11>=pi),By=" ",Uy=!1;function Hy(o,s){switch(o){case"keyup":return eD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vy(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Xs=!1;function nD(o,s){switch(o){case"compositionend":return Vy(s);case"keypress":return s.which!==32?null:(Uy=!0,By);case"textInput":return o=s.data,o===By&&Uy?null:o;default:return null}}function rD(o,s){if(Xs)return o==="compositionend"||!Mf&&Hy(o,s)?(o=Iy(),Nc=Rf=fo=null,Xs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wy&&s.locale!=="ko"?null:s.data;default:return null}}var oD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zy(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!oD[o.type]:s==="textarea"}function Yy(o,s,l,f){jt(f),s=Tc(s,"onChange"),0<s.length&&(l=new zf("onChange","change",null,l,f),o.push({event:l,listeners:s}))}var mi=null,hi=null;function sD(o){dv(o,0)}function Sc(o){var s=na(o);if(Ze(s))return o}function aD(o,s){if(o==="change")return s}var qy=!1;if(d){var If;if(d){var Lf="oninput"in document;if(!Lf){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Lf=typeof Gy.oninput=="function"}If=Lf}else If=!1;qy=If&&(!document.documentMode||9<document.documentMode)}function Ky(){mi&&(mi.detachEvent("onpropertychange",Xy),hi=mi=null)}function Xy(o){if(o.propertyName==="value"&&Sc(hi)){var s=[];Yy(s,hi,o,io(o)),Cn(sD,s)}}function iD(o,s,l){o==="focusin"?(Ky(),mi=s,hi=l,mi.attachEvent("onpropertychange",Xy)):o==="focusout"&&Ky()}function lD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Sc(hi)}function cD(o,s){if(o==="click")return Sc(s)}function uD(o,s){if(o==="input"||o==="change")return Sc(s)}function dD(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var sr=typeof Object.is=="function"?Object.is:dD;function gi(o,s){if(sr(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var l=Object.keys(o),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var x=l[f];if(!m.call(s,x)||!sr(o[x],s[x]))return!1}return!0}function Qy(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Jy(o,s){var l=Qy(o);o=0;for(var f;l;){if(l.nodeType===3){if(f=o+l.textContent.length,o<=s&&f>=s)return{node:l,offset:s-o};o=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qy(l)}}function ev(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?ev(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function tv(){for(var o=window,s=ot();s instanceof o.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)o=s.contentWindow;else break;s=ot(o.document)}return s}function Of(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function fD(o){var s=tv(),l=o.focusedElem,f=o.selectionRange;if(s!==l&&l&&l.ownerDocument&&ev(l.ownerDocument.documentElement,l)){if(f!==null&&Of(l)){if(s=f.start,o=f.end,o===void 0&&(o=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(o,l.value.length);else if(o=(s=l.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var x=l.textContent.length,j=Math.min(f.start,x);f=f.end===void 0?j:Math.min(f.end,x),!o.extend&&j>f&&(x=f,f=j,j=x),x=Jy(l,j);var E=Jy(l,f);x&&E&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(x.node,x.offset),o.removeAllRanges(),j>f?(o.addRange(s),o.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),o.addRange(s)))}}for(s=[],o=l;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)o=s[l],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var pD=d&&"documentMode"in document&&11>=document.documentMode,Qs=null,Af=null,xi=null,Ff=!1;function nv(o,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ff||Qs==null||Qs!==ot(f)||(f=Qs,"selectionStart"in f&&Of(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xi&&gi(xi,f)||(xi=f,f=Tc(Af,"onSelect"),0<f.length&&(s=new zf("onSelect","select",null,s,l),o.push({event:s,listeners:f}),s.target=Qs)))}function _c(o,s){var l={};return l[o.toLowerCase()]=s.toLowerCase(),l["Webkit"+o]="webkit"+s,l["Moz"+o]="moz"+s,l}var Js={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},Wf={},rv={};d&&(rv=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Rc(o){if(Wf[o])return Wf[o];if(!Js[o])return o;var s=Js[o],l;for(l in s)if(s.hasOwnProperty(l)&&l in rv)return Wf[o]=s[l];return o}var ov=Rc("animationend"),sv=Rc("animationiteration"),av=Rc("animationstart"),iv=Rc("transitionend"),lv=new Map,cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(o,s){lv.set(o,s),c(s,[o])}for(var Bf=0;Bf<cv.length;Bf++){var Uf=cv[Bf],mD=Uf.toLowerCase(),hD=Uf[0].toUpperCase()+Uf.slice(1);po(mD,"on"+hD)}po(ov,"onAnimationEnd"),po(sv,"onAnimationIteration"),po(av,"onAnimationStart"),po("dblclick","onDoubleClick"),po("focusin","onFocus"),po("focusout","onBlur"),po(iv,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gD=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function uv(o,s,l){var f=o.type||"unknown-event";o.currentTarget=l,kf(f,s,void 0,o),o.currentTarget=null}function dv(o,s){s=(s&4)!==0;for(var l=0;l<o.length;l++){var f=o[l],x=f.event;f=f.listeners;e:{var j=void 0;if(s)for(var E=f.length-1;0<=E;E--){var D=f[E],L=D.instance,Z=D.currentTarget;if(D=D.listener,L!==j&&x.isPropagationStopped())break e;uv(x,D,Z),j=L}else for(E=0;E<f.length;E++){if(D=f[E],L=D.instance,Z=D.currentTarget,D=D.listener,L!==j&&x.isPropagationStopped())break e;uv(x,D,Z),j=L}}}if(yt)throw o=At,yt=!1,At=null,o}function at(o,s){var l=s[Xf];l===void 0&&(l=s[Xf]=new Set);var f=o+"__bubble";l.has(f)||(fv(s,o,2,!1),l.add(f))}function Hf(o,s,l){var f=0;s&&(f|=4),fv(l,o,f,s)}var zc="_reactListening"+Math.random().toString(36).slice(2);function vi(o){if(!o[zc]){o[zc]=!0,a.forEach(function(l){l!=="selectionchange"&&(gD.has(l)||Hf(l,!1,o),Hf(l,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[zc]||(s[zc]=!0,Hf("selectionchange",!1,s))}}function fv(o,s,l,f){switch(My(s)){case 1:var x=zT;break;case 4:x=TT;break;default:x=Sf}l=x.bind(null,s,l,o),x=void 0,!ln||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),f?x!==void 0?o.addEventListener(s,l,{capture:!0,passive:x}):o.addEventListener(s,l,!0):x!==void 0?o.addEventListener(s,l,{passive:x}):o.addEventListener(s,l,!1)}function Vf(o,s,l,f,x){var j=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var D=f.stateNode.containerInfo;if(D===x||D.nodeType===8&&D.parentNode===x)break;if(E===4)for(E=f.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===x||L.nodeType===8&&L.parentNode===x))return;E=E.return}for(;D!==null;){if(E=Xo(D),E===null)return;if(L=E.tag,L===5||L===6){f=j=E;continue e}D=D.parentNode}}f=f.return}Cn(function(){var Z=j,ie=io(l),ce=[];e:{var se=lv.get(o);if(se!==void 0){var ye=zf,Ce=o;switch(o){case"keypress":if(kc(l)===0)break e;case"keydown":case"keyup":ye=ZT;break;case"focusin":Ce="focus",ye=$f;break;case"focusout":Ce="blur",ye=$f;break;case"beforeblur":case"afterblur":ye=$f;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=PT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=GT;break;case ov:case sv:case av:ye=LT;break;case iv:ye=XT;break;case"scroll":ye=DT;break;case"wheel":ye=JT;break;case"copy":case"cut":case"paste":ye=AT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Fy}var Ee=(s&4)!==0,St=!Ee&&o==="scroll",W=Ee?se!==null?se+"Capture":null:se;Ee=[];for(var A=Z,B;A!==null;){B=A;var fe=B.stateNode;if(B.tag===5&&fe!==null&&(B=fe,W!==null&&(fe=Ge(A,W),fe!=null&&Ee.push(bi(A,fe,B)))),St)break;A=A.return}0<Ee.length&&(se=new ye(se,Ce,null,l,ie),ce.push({event:se,listeners:Ee}))}}if((s&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",ye=o==="mouseout"||o==="pointerout",se&&l!==jr&&(Ce=l.relatedTarget||l.fromElement)&&(Xo(Ce)||Ce[Ar]))break e;if((ye||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,ye?(Ce=l.relatedTarget||l.toElement,ye=Z,Ce=Ce?Xo(Ce):null,Ce!==null&&(St=er(Ce),Ce!==St||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(ye=null,Ce=Z),ye!==Ce)){if(Ee=Oy,fe="onMouseLeave",W="onMouseEnter",A="mouse",(o==="pointerout"||o==="pointerover")&&(Ee=Fy,fe="onPointerLeave",W="onPointerEnter",A="pointer"),St=ye==null?se:na(ye),B=Ce==null?se:na(Ce),se=new Ee(fe,A+"leave",ye,l,ie),se.target=St,se.relatedTarget=B,fe=null,Xo(ie)===Z&&(Ee=new Ee(W,A+"enter",Ce,l,ie),Ee.target=B,Ee.relatedTarget=St,fe=Ee),St=fe,ye&&Ce)t:{for(Ee=ye,W=Ce,A=0,B=Ee;B;B=ea(B))A++;for(B=0,fe=W;fe;fe=ea(fe))B++;for(;0<A-B;)Ee=ea(Ee),A--;for(;0<B-A;)W=ea(W),B--;for(;A--;){if(Ee===W||W!==null&&Ee===W.alternate)break t;Ee=ea(Ee),W=ea(W)}Ee=null}else Ee=null;ye!==null&&pv(ce,se,ye,Ee,!1),Ce!==null&&St!==null&&pv(ce,St,Ce,Ee,!0)}}e:{if(se=Z?na(Z):window,ye=se.nodeName&&se.nodeName.toLowerCase(),ye==="select"||ye==="input"&&se.type==="file")var _e=aD;else if(Zy(se))if(qy)_e=uD;else{_e=lD;var $e=iD}else(ye=se.nodeName)&&ye.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=cD);if(_e&&(_e=_e(o,Z))){Yy(ce,_e,l,ie);break e}$e&&$e(o,se,Z),o==="focusout"&&($e=se._wrapperState)&&$e.controlled&&se.type==="number"&&le(se,"number",se.value)}switch($e=Z?na(Z):window,o){case"focusin":(Zy($e)||$e.contentEditable==="true")&&(Qs=$e,Af=Z,xi=null);break;case"focusout":xi=Af=Qs=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,nv(ce,l,ie);break;case"selectionchange":if(pD)break;case"keydown":case"keyup":nv(ce,l,ie)}var Pe;if(Mf)e:{switch(o){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Xs?Hy(o,l)&&(Ie="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(Wy&&l.locale!=="ko"&&(Xs||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Xs&&(Pe=Iy()):(fo=ie,Rf="value"in fo?fo.value:fo.textContent,Xs=!0)),$e=Tc(Z,Ie),0<$e.length&&(Ie=new Ay(Ie,o,null,l,ie),ce.push({event:Ie,listeners:$e}),Pe?Ie.data=Pe:(Pe=Vy(l),Pe!==null&&(Ie.data=Pe)))),(Pe=tD?nD(o,l):rD(o,l))&&(Z=Tc(Z,"onBeforeInput"),0<Z.length&&(ie=new Ay("onBeforeInput","beforeinput",null,l,ie),ce.push({event:ie,listeners:Z}),ie.data=Pe))}dv(ce,s)})}function bi(o,s,l){return{instance:o,listener:s,currentTarget:l}}function Tc(o,s){for(var l=s+"Capture",f=[];o!==null;){var x=o,j=x.stateNode;x.tag===5&&j!==null&&(x=j,j=Ge(o,l),j!=null&&f.unshift(bi(o,j,x)),j=Ge(o,s),j!=null&&f.push(bi(o,j,x))),o=o.return}return f}function ea(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function pv(o,s,l,f,x){for(var j=s._reactName,E=[];l!==null&&l!==f;){var D=l,L=D.alternate,Z=D.stateNode;if(L!==null&&L===f)break;D.tag===5&&Z!==null&&(D=Z,x?(L=Ge(l,j),L!=null&&E.unshift(bi(l,L,D))):x||(L=Ge(l,j),L!=null&&E.push(bi(l,L,D)))),l=l.return}E.length!==0&&o.push({event:s,listeners:E})}var xD=/\r\n?/g,yD=/\u0000|\uFFFD/g;function mv(o){return(typeof o=="string"?o:""+o).replace(xD,`
`).replace(yD,"")}function Dc(o,s,l){if(s=mv(s),mv(o)!==s&&l)throw Error(n(425))}function $c(){}var Zf=null,Yf=null;function qf(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,vD=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,bD=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(o){return hv.resolve(null).then(o).catch(wD)}:Gf;function wD(o){setTimeout(function(){throw o})}function Kf(o,s){var l=s,f=0;do{var x=l.nextSibling;if(o.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(f===0){o.removeChild(x),ui(s);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=x}while(l);ui(s)}function mo(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function gv(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return o;s--}else l==="/$"&&s++}o=o.previousSibling}return null}var ta=Math.random().toString(36).slice(2),Er="__reactFiber$"+ta,wi="__reactProps$"+ta,Ar="__reactContainer$"+ta,Xf="__reactEvents$"+ta,jD="__reactListeners$"+ta,ND="__reactHandles$"+ta;function Xo(o){var s=o[Er];if(s)return s;for(var l=o.parentNode;l;){if(s=l[Ar]||l[Er]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(o=gv(o);o!==null;){if(l=o[Er])return l;o=gv(o)}return s}o=l,l=o.parentNode}return null}function ji(o){return o=o[Er]||o[Ar],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function na(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Pc(o){return o[wi]||null}var Qf=[],ra=-1;function ho(o){return{current:o}}function it(o){0>ra||(o.current=Qf[ra],Qf[ra]=null,ra--)}function nt(o,s){ra++,Qf[ra]=o.current,o.current=s}var go={},en=ho(go),gn=ho(!1),Qo=go;function oa(o,s){var l=o.type.contextTypes;if(!l)return go;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var x={},j;for(j in l)x[j]=s[j];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=x),x}function xn(o){return o=o.childContextTypes,o!=null}function Mc(){it(gn),it(en)}function xv(o,s,l){if(en.current!==go)throw Error(n(168));nt(en,s),nt(gn,l)}function yv(o,s,l){var f=o.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var x in f)if(!(x in s))throw Error(n(108,H(o)||"Unknown",x));return G({},l,f)}function Ic(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||go,Qo=en.current,nt(en,o),nt(gn,gn.current),!0}function vv(o,s,l){var f=o.stateNode;if(!f)throw Error(n(169));l?(o=yv(o,s,Qo),f.__reactInternalMemoizedMergedChildContext=o,it(gn),it(en),nt(en,o)):it(gn),nt(gn,l)}var Fr=null,Lc=!1,Jf=!1;function bv(o){Fr===null?Fr=[o]:Fr.push(o)}function kD(o){Lc=!0,bv(o)}function xo(){if(!Jf&&Fr!==null){Jf=!0;var o=0,s=Ye;try{var l=Fr;for(Ye=1;o<l.length;o++){var f=l[o];do f=f(!0);while(f!==null)}Fr=null,Lc=!1}catch(x){throw Fr!==null&&(Fr=Fr.slice(o+1)),ti(ri,xo),x}finally{Ye=s,Jf=!1}}return null}var sa=[],aa=0,Oc=null,Ac=0,Fn=[],Wn=0,Jo=null,Wr=1,Br="";function es(o,s){sa[aa++]=Ac,sa[aa++]=Oc,Oc=o,Ac=s}function wv(o,s,l){Fn[Wn++]=Wr,Fn[Wn++]=Br,Fn[Wn++]=Jo,Jo=o;var f=Wr;o=Br;var x=32-Ft(f)-1;f&=~(1<<x),l+=1;var j=32-Ft(s)+x;if(30<j){var E=x-x%5;j=(f&(1<<E)-1).toString(32),f>>=E,x-=E,Wr=1<<32-Ft(s)+x|l<<x|f,Br=j+o}else Wr=1<<j|l<<x|f,Br=o}function ep(o){o.return!==null&&(es(o,1),wv(o,1,0))}function tp(o){for(;o===Oc;)Oc=sa[--aa],sa[aa]=null,Ac=sa[--aa],sa[aa]=null;for(;o===Jo;)Jo=Fn[--Wn],Fn[Wn]=null,Br=Fn[--Wn],Fn[Wn]=null,Wr=Fn[--Wn],Fn[Wn]=null}var Rn=null,zn=null,mt=!1,ar=null;function jv(o,s){var l=Vn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=o,s=o.deletions,s===null?(o.deletions=[l],o.flags|=16):s.push(l)}function Nv(o,s){switch(o.tag){case 5:var l=o.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,Rn=o,zn=mo(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,Rn=o,zn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Jo!==null?{id:Wr,overflow:Br}:null,o.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Vn(18,null,null,0),l.stateNode=s,l.return=o,o.child=l,Rn=o,zn=null,!0):!1;default:return!1}}function np(o){return(o.mode&1)!==0&&(o.flags&128)===0}function rp(o){if(mt){var s=zn;if(s){var l=s;if(!Nv(o,s)){if(np(o))throw Error(n(418));s=mo(l.nextSibling);var f=Rn;s&&Nv(o,s)?jv(f,l):(o.flags=o.flags&-4097|2,mt=!1,Rn=o)}}else{if(np(o))throw Error(n(418));o.flags=o.flags&-4097|2,mt=!1,Rn=o}}}function kv(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Rn=o}function Fc(o){if(o!==Rn)return!1;if(!mt)return kv(o),mt=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!qf(o.type,o.memoizedProps)),s&&(s=zn)){if(np(o))throw Cv(),Error(n(418));for(;s;)jv(o,s),s=mo(s.nextSibling)}if(kv(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="/$"){if(s===0){zn=mo(o.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}o=o.nextSibling}zn=null}}else zn=Rn?mo(o.stateNode.nextSibling):null;return!0}function Cv(){for(var o=zn;o;)o=mo(o.nextSibling)}function ia(){zn=Rn=null,mt=!1}function op(o){ar===null?ar=[o]:ar.push(o)}var CD=R.ReactCurrentBatchConfig;function Ni(o,s,l){if(o=l.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var f=l.stateNode}if(!f)throw Error(n(147,o));var x=f,j=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===j?s.ref:(s=function(E){var D=x.refs;E===null?delete D[j]:D[j]=E},s._stringRef=j,s)}if(typeof o!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,o))}return o}function Wc(o,s){throw o=Object.prototype.toString.call(s),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function Ev(o){var s=o._init;return s(o._payload)}function Sv(o){function s(W,A){if(o){var B=W.deletions;B===null?(W.deletions=[A],W.flags|=16):B.push(A)}}function l(W,A){if(!o)return null;for(;A!==null;)s(W,A),A=A.sibling;return null}function f(W,A){for(W=new Map;A!==null;)A.key!==null?W.set(A.key,A):W.set(A.index,A),A=A.sibling;return W}function x(W,A){return W=Co(W,A),W.index=0,W.sibling=null,W}function j(W,A,B){return W.index=B,o?(B=W.alternate,B!==null?(B=B.index,B<A?(W.flags|=2,A):B):(W.flags|=2,A)):(W.flags|=1048576,A)}function E(W){return o&&W.alternate===null&&(W.flags|=2),W}function D(W,A,B,fe){return A===null||A.tag!==6?(A=Kp(B,W.mode,fe),A.return=W,A):(A=x(A,B),A.return=W,A)}function L(W,A,B,fe){var _e=B.type;return _e===O?ie(W,A,B.props.children,fe,B.key):A!==null&&(A.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ae&&Ev(_e)===A.type)?(fe=x(A,B.props),fe.ref=Ni(W,A,B),fe.return=W,fe):(fe=du(B.type,B.key,B.props,null,W.mode,fe),fe.ref=Ni(W,A,B),fe.return=W,fe)}function Z(W,A,B,fe){return A===null||A.tag!==4||A.stateNode.containerInfo!==B.containerInfo||A.stateNode.implementation!==B.implementation?(A=Xp(B,W.mode,fe),A.return=W,A):(A=x(A,B.children||[]),A.return=W,A)}function ie(W,A,B,fe,_e){return A===null||A.tag!==7?(A=ls(B,W.mode,fe,_e),A.return=W,A):(A=x(A,B),A.return=W,A)}function ce(W,A,B){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Kp(""+A,W.mode,B),A.return=W,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case M:return B=du(A.type,A.key,A.props,null,W.mode,B),B.ref=Ni(W,null,A),B.return=W,B;case I:return A=Xp(A,W.mode,B),A.return=W,A;case ae:var fe=A._init;return ce(W,fe(A._payload),B)}if(ue(A)||K(A))return A=ls(A,W.mode,B,null),A.return=W,A;Wc(W,A)}return null}function se(W,A,B,fe){var _e=A!==null?A.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return _e!==null?null:D(W,A,""+B,fe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case M:return B.key===_e?L(W,A,B,fe):null;case I:return B.key===_e?Z(W,A,B,fe):null;case ae:return _e=B._init,se(W,A,_e(B._payload),fe)}if(ue(B)||K(B))return _e!==null?null:ie(W,A,B,fe,null);Wc(W,B)}return null}function ye(W,A,B,fe,_e){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return W=W.get(B)||null,D(A,W,""+fe,_e);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case M:return W=W.get(fe.key===null?B:fe.key)||null,L(A,W,fe,_e);case I:return W=W.get(fe.key===null?B:fe.key)||null,Z(A,W,fe,_e);case ae:var $e=fe._init;return ye(W,A,B,$e(fe._payload),_e)}if(ue(fe)||K(fe))return W=W.get(B)||null,ie(A,W,fe,_e,null);Wc(A,fe)}return null}function Ce(W,A,B,fe){for(var _e=null,$e=null,Pe=A,Ie=A=0,Ut=null;Pe!==null&&Ie<B.length;Ie++){Pe.index>Ie?(Ut=Pe,Pe=null):Ut=Pe.sibling;var Ve=se(W,Pe,B[Ie],fe);if(Ve===null){Pe===null&&(Pe=Ut);break}o&&Pe&&Ve.alternate===null&&s(W,Pe),A=j(Ve,A,Ie),$e===null?_e=Ve:$e.sibling=Ve,$e=Ve,Pe=Ut}if(Ie===B.length)return l(W,Pe),mt&&es(W,Ie),_e;if(Pe===null){for(;Ie<B.length;Ie++)Pe=ce(W,B[Ie],fe),Pe!==null&&(A=j(Pe,A,Ie),$e===null?_e=Pe:$e.sibling=Pe,$e=Pe);return mt&&es(W,Ie),_e}for(Pe=f(W,Pe);Ie<B.length;Ie++)Ut=ye(Pe,W,Ie,B[Ie],fe),Ut!==null&&(o&&Ut.alternate!==null&&Pe.delete(Ut.key===null?Ie:Ut.key),A=j(Ut,A,Ie),$e===null?_e=Ut:$e.sibling=Ut,$e=Ut);return o&&Pe.forEach(function(Eo){return s(W,Eo)}),mt&&es(W,Ie),_e}function Ee(W,A,B,fe){var _e=K(B);if(typeof _e!="function")throw Error(n(150));if(B=_e.call(B),B==null)throw Error(n(151));for(var $e=_e=null,Pe=A,Ie=A=0,Ut=null,Ve=B.next();Pe!==null&&!Ve.done;Ie++,Ve=B.next()){Pe.index>Ie?(Ut=Pe,Pe=null):Ut=Pe.sibling;var Eo=se(W,Pe,Ve.value,fe);if(Eo===null){Pe===null&&(Pe=Ut);break}o&&Pe&&Eo.alternate===null&&s(W,Pe),A=j(Eo,A,Ie),$e===null?_e=Eo:$e.sibling=Eo,$e=Eo,Pe=Ut}if(Ve.done)return l(W,Pe),mt&&es(W,Ie),_e;if(Pe===null){for(;!Ve.done;Ie++,Ve=B.next())Ve=ce(W,Ve.value,fe),Ve!==null&&(A=j(Ve,A,Ie),$e===null?_e=Ve:$e.sibling=Ve,$e=Ve);return mt&&es(W,Ie),_e}for(Pe=f(W,Pe);!Ve.done;Ie++,Ve=B.next())Ve=ye(Pe,W,Ie,Ve.value,fe),Ve!==null&&(o&&Ve.alternate!==null&&Pe.delete(Ve.key===null?Ie:Ve.key),A=j(Ve,A,Ie),$e===null?_e=Ve:$e.sibling=Ve,$e=Ve);return o&&Pe.forEach(function(o$){return s(W,o$)}),mt&&es(W,Ie),_e}function St(W,A,B,fe){if(typeof B=="object"&&B!==null&&B.type===O&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case M:e:{for(var _e=B.key,$e=A;$e!==null;){if($e.key===_e){if(_e=B.type,_e===O){if($e.tag===7){l(W,$e.sibling),A=x($e,B.props.children),A.return=W,W=A;break e}}else if($e.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ae&&Ev(_e)===$e.type){l(W,$e.sibling),A=x($e,B.props),A.ref=Ni(W,$e,B),A.return=W,W=A;break e}l(W,$e);break}else s(W,$e);$e=$e.sibling}B.type===O?(A=ls(B.props.children,W.mode,fe,B.key),A.return=W,W=A):(fe=du(B.type,B.key,B.props,null,W.mode,fe),fe.ref=Ni(W,A,B),fe.return=W,W=fe)}return E(W);case I:e:{for($e=B.key;A!==null;){if(A.key===$e)if(A.tag===4&&A.stateNode.containerInfo===B.containerInfo&&A.stateNode.implementation===B.implementation){l(W,A.sibling),A=x(A,B.children||[]),A.return=W,W=A;break e}else{l(W,A);break}else s(W,A);A=A.sibling}A=Xp(B,W.mode,fe),A.return=W,W=A}return E(W);case ae:return $e=B._init,St(W,A,$e(B._payload),fe)}if(ue(B))return Ce(W,A,B,fe);if(K(B))return Ee(W,A,B,fe);Wc(W,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,A!==null&&A.tag===6?(l(W,A.sibling),A=x(A,B),A.return=W,W=A):(l(W,A),A=Kp(B,W.mode,fe),A.return=W,W=A),E(W)):l(W,A)}return St}var la=Sv(!0),_v=Sv(!1),Bc=ho(null),Uc=null,ca=null,sp=null;function ap(){sp=ca=Uc=null}function ip(o){var s=Bc.current;it(Bc),o._currentValue=s}function lp(o,s,l){for(;o!==null;){var f=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),o===l)break;o=o.return}}function ua(o,s){Uc=o,sp=ca=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&s)!==0&&(yn=!0),o.firstContext=null)}function Bn(o){var s=o._currentValue;if(sp!==o)if(o={context:o,memoizedValue:s,next:null},ca===null){if(Uc===null)throw Error(n(308));ca=o,Uc.dependencies={lanes:0,firstContext:o}}else ca=ca.next=o;return s}var ts=null;function cp(o){ts===null?ts=[o]:ts.push(o)}function Rv(o,s,l,f){var x=s.interleaved;return x===null?(l.next=l,cp(s)):(l.next=x.next,x.next=l),s.interleaved=l,Ur(o,f)}function Ur(o,s){o.lanes|=s;var l=o.alternate;for(l!==null&&(l.lanes|=s),l=o,o=o.return;o!==null;)o.childLanes|=s,l=o.alternate,l!==null&&(l.childLanes|=s),l=o,o=o.return;return l.tag===3?l.stateNode:null}var yo=!1;function up(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zv(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Hr(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function vo(o,s,l){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(He&2)!==0){var x=f.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),f.pending=s,Ur(o,l)}return x=f.interleaved,x===null?(s.next=s,cp(f)):(s.next=x.next,x.next=s),f.interleaved=s,Ur(o,l)}function Hc(o,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var f=s.lanes;f&=o.pendingLanes,l|=f,s.lanes=l,co(o,l)}}function Tv(o,s){var l=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var x=null,j=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};j===null?x=j=E:j=j.next=E,l=l.next}while(l!==null);j===null?x=j=s:j=j.next=s}else x=j=s;l={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:j,shared:f.shared,effects:f.effects},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=s:o.next=s,l.lastBaseUpdate=s}function Vc(o,s,l,f){var x=o.updateQueue;yo=!1;var j=x.firstBaseUpdate,E=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var L=D,Z=L.next;L.next=null,E===null?j=Z:E.next=Z,E=L;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==E&&(D===null?ie.firstBaseUpdate=Z:D.next=Z,ie.lastBaseUpdate=L))}if(j!==null){var ce=x.baseState;E=0,ie=Z=L=null,D=j;do{var se=D.lane,ye=D.eventTime;if((f&se)===se){ie!==null&&(ie=ie.next={eventTime:ye,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Ce=o,Ee=D;switch(se=s,ye=l,Ee.tag){case 1:if(Ce=Ee.payload,typeof Ce=="function"){ce=Ce.call(ye,ce,se);break e}ce=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ee.payload,se=typeof Ce=="function"?Ce.call(ye,ce,se):Ce,se==null)break e;ce=G({},ce,se);break e;case 2:yo=!0}}D.callback!==null&&D.lane!==0&&(o.flags|=64,se=x.effects,se===null?x.effects=[D]:se.push(D))}else ye={eventTime:ye,lane:se,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(Z=ie=ye,L=ce):ie=ie.next=ye,E|=se;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;se=D,D=se.next,se.next=null,x.lastBaseUpdate=se,x.shared.pending=null}}while(!0);if(ie===null&&(L=ce),x.baseState=L,x.firstBaseUpdate=Z,x.lastBaseUpdate=ie,s=x.shared.interleaved,s!==null){x=s;do E|=x.lane,x=x.next;while(x!==s)}else j===null&&(x.shared.lanes=0);os|=E,o.lanes=E,o.memoizedState=ce}}function Dv(o,s,l){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var f=o[s],x=f.callback;if(x!==null){if(f.callback=null,f=l,typeof x!="function")throw Error(n(191,x));x.call(f)}}}var ki={},Sr=ho(ki),Ci=ho(ki),Ei=ho(ki);function ns(o){if(o===ki)throw Error(n(174));return o}function dp(o,s){switch(nt(Ei,s),nt(Ci,o),nt(Sr,ki),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:tt(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=tt(s,o)}it(Sr),nt(Sr,s)}function da(){it(Sr),it(Ci),it(Ei)}function $v(o){ns(Ei.current);var s=ns(Sr.current),l=tt(s,o.type);s!==l&&(nt(Ci,o),nt(Sr,l))}function fp(o){Ci.current===o&&(it(Sr),it(Ci))}var vt=ho(0);function Zc(o){for(var s=o;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var pp=[];function mp(){for(var o=0;o<pp.length;o++)pp[o]._workInProgressVersionPrimary=null;pp.length=0}var Yc=R.ReactCurrentDispatcher,hp=R.ReactCurrentBatchConfig,rs=0,bt=null,It=null,Wt=null,qc=!1,Si=!1,_i=0,ED=0;function tn(){throw Error(n(321))}function gp(o,s){if(s===null)return!1;for(var l=0;l<s.length&&l<o.length;l++)if(!sr(o[l],s[l]))return!1;return!0}function xp(o,s,l,f,x,j){if(rs=j,bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Yc.current=o===null||o.memoizedState===null?zD:TD,o=l(f,x),Si){j=0;do{if(Si=!1,_i=0,25<=j)throw Error(n(301));j+=1,Wt=It=null,s.updateQueue=null,Yc.current=DD,o=l(f,x)}while(Si)}if(Yc.current=Xc,s=It!==null&&It.next!==null,rs=0,Wt=It=bt=null,qc=!1,s)throw Error(n(300));return o}function yp(){var o=_i!==0;return _i=0,o}function _r(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?bt.memoizedState=Wt=o:Wt=Wt.next=o,Wt}function Un(){if(It===null){var o=bt.alternate;o=o!==null?o.memoizedState:null}else o=It.next;var s=Wt===null?bt.memoizedState:Wt.next;if(s!==null)Wt=s,It=o;else{if(o===null)throw Error(n(310));It=o,o={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Wt===null?bt.memoizedState=Wt=o:Wt=Wt.next=o}return Wt}function Ri(o,s){return typeof s=="function"?s(o):s}function vp(o){var s=Un(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=o;var f=It,x=f.baseQueue,j=l.pending;if(j!==null){if(x!==null){var E=x.next;x.next=j.next,j.next=E}f.baseQueue=x=j,l.pending=null}if(x!==null){j=x.next,f=f.baseState;var D=E=null,L=null,Z=j;do{var ie=Z.lane;if((rs&ie)===ie)L!==null&&(L=L.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),f=Z.hasEagerState?Z.eagerState:o(f,Z.action);else{var ce={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};L===null?(D=L=ce,E=f):L=L.next=ce,bt.lanes|=ie,os|=ie}Z=Z.next}while(Z!==null&&Z!==j);L===null?E=f:L.next=D,sr(f,s.memoizedState)||(yn=!0),s.memoizedState=f,s.baseState=E,s.baseQueue=L,l.lastRenderedState=f}if(o=l.interleaved,o!==null){x=o;do j=x.lane,bt.lanes|=j,os|=j,x=x.next;while(x!==o)}else x===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function bp(o){var s=Un(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=o;var f=l.dispatch,x=l.pending,j=s.memoizedState;if(x!==null){l.pending=null;var E=x=x.next;do j=o(j,E.action),E=E.next;while(E!==x);sr(j,s.memoizedState)||(yn=!0),s.memoizedState=j,s.baseQueue===null&&(s.baseState=j),l.lastRenderedState=j}return[j,f]}function Pv(){}function Mv(o,s){var l=bt,f=Un(),x=s(),j=!sr(f.memoizedState,x);if(j&&(f.memoizedState=x,yn=!0),f=f.queue,jp(Ov.bind(null,l,f,o),[o]),f.getSnapshot!==s||j||Wt!==null&&Wt.memoizedState.tag&1){if(l.flags|=2048,zi(9,Lv.bind(null,l,f,x,s),void 0,null),Bt===null)throw Error(n(349));(rs&30)!==0||Iv(l,s,x)}return x}function Iv(o,s,l){o.flags|=16384,o={getSnapshot:s,value:l},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.stores=[o]):(l=s.stores,l===null?s.stores=[o]:l.push(o))}function Lv(o,s,l,f){s.value=l,s.getSnapshot=f,Av(s)&&Fv(o)}function Ov(o,s,l){return l(function(){Av(s)&&Fv(o)})}function Av(o){var s=o.getSnapshot;o=o.value;try{var l=s();return!sr(o,l)}catch{return!0}}function Fv(o){var s=Ur(o,1);s!==null&&ur(s,o,1,-1)}function Wv(o){var s=_r();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:o},s.queue=o,o=o.dispatch=RD.bind(null,bt,o),[s.memoizedState,o]}function zi(o,s,l,f){return o={tag:o,create:s,destroy:l,deps:f,next:null},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.lastEffect=o.next=o):(l=s.lastEffect,l===null?s.lastEffect=o.next=o:(f=l.next,l.next=o,o.next=f,s.lastEffect=o)),o}function Bv(){return Un().memoizedState}function Gc(o,s,l,f){var x=_r();bt.flags|=o,x.memoizedState=zi(1|s,l,void 0,f===void 0?null:f)}function Kc(o,s,l,f){var x=Un();f=f===void 0?null:f;var j=void 0;if(It!==null){var E=It.memoizedState;if(j=E.destroy,f!==null&&gp(f,E.deps)){x.memoizedState=zi(s,l,j,f);return}}bt.flags|=o,x.memoizedState=zi(1|s,l,j,f)}function Uv(o,s){return Gc(8390656,8,o,s)}function jp(o,s){return Kc(2048,8,o,s)}function Hv(o,s){return Kc(4,2,o,s)}function Vv(o,s){return Kc(4,4,o,s)}function Zv(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function Yv(o,s,l){return l=l!=null?l.concat([o]):null,Kc(4,4,Zv.bind(null,s,o),l)}function Np(){}function qv(o,s){var l=Un();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&gp(s,f[1])?f[0]:(l.memoizedState=[o,s],o)}function Gv(o,s){var l=Un();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&gp(s,f[1])?f[0]:(o=o(),l.memoizedState=[o,s],o)}function Kv(o,s,l){return(rs&21)===0?(o.baseState&&(o.baseState=!1,yn=!0),o.memoizedState=l):(sr(l,s)||(l=ii(),bt.lanes|=l,os|=l,o.baseState=!0),s)}function SD(o,s){var l=Ye;Ye=l!==0&&4>l?l:4,o(!0);var f=hp.transition;hp.transition={};try{o(!1),s()}finally{Ye=l,hp.transition=f}}function Xv(){return Un().memoizedState}function _D(o,s,l){var f=No(o);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Qv(o))Jv(s,l);else if(l=Rv(o,s,l,f),l!==null){var x=dn();ur(l,o,f,x),eb(l,s,f)}}function RD(o,s,l){var f=No(o),x={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qv(o))Jv(s,x);else{var j=o.alternate;if(o.lanes===0&&(j===null||j.lanes===0)&&(j=s.lastRenderedReducer,j!==null))try{var E=s.lastRenderedState,D=j(E,l);if(x.hasEagerState=!0,x.eagerState=D,sr(D,E)){var L=s.interleaved;L===null?(x.next=x,cp(s)):(x.next=L.next,L.next=x),s.interleaved=x;return}}catch{}finally{}l=Rv(o,s,x,f),l!==null&&(x=dn(),ur(l,o,f,x),eb(l,s,f))}}function Qv(o){var s=o.alternate;return o===bt||s!==null&&s===bt}function Jv(o,s){Si=qc=!0;var l=o.pending;l===null?s.next=s:(s.next=l.next,l.next=s),o.pending=s}function eb(o,s,l){if((l&4194240)!==0){var f=s.lanes;f&=o.pendingLanes,l|=f,s.lanes=l,co(o,l)}}var Xc={readContext:Bn,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},zD={readContext:Bn,useCallback:function(o,s){return _r().memoizedState=[o,s===void 0?null:s],o},useContext:Bn,useEffect:Uv,useImperativeHandle:function(o,s,l){return l=l!=null?l.concat([o]):null,Gc(4194308,4,Zv.bind(null,s,o),l)},useLayoutEffect:function(o,s){return Gc(4194308,4,o,s)},useInsertionEffect:function(o,s){return Gc(4,2,o,s)},useMemo:function(o,s){var l=_r();return s=s===void 0?null:s,o=o(),l.memoizedState=[o,s],o},useReducer:function(o,s,l){var f=_r();return s=l!==void 0?l(s):s,f.memoizedState=f.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},f.queue=o,o=o.dispatch=_D.bind(null,bt,o),[f.memoizedState,o]},useRef:function(o){var s=_r();return o={current:o},s.memoizedState=o},useState:Wv,useDebugValue:Np,useDeferredValue:function(o){return _r().memoizedState=o},useTransition:function(){var o=Wv(!1),s=o[0];return o=SD.bind(null,o[1]),_r().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,l){var f=bt,x=_r();if(mt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Bt===null)throw Error(n(349));(rs&30)!==0||Iv(f,s,l)}x.memoizedState=l;var j={value:l,getSnapshot:s};return x.queue=j,Uv(Ov.bind(null,f,j,o),[o]),f.flags|=2048,zi(9,Lv.bind(null,f,j,l,s),void 0,null),l},useId:function(){var o=_r(),s=Bt.identifierPrefix;if(mt){var l=Br,f=Wr;l=(f&~(1<<32-Ft(f)-1)).toString(32)+l,s=":"+s+"R"+l,l=_i++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=ED++,s=":"+s+"r"+l.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},TD={readContext:Bn,useCallback:qv,useContext:Bn,useEffect:jp,useImperativeHandle:Yv,useInsertionEffect:Hv,useLayoutEffect:Vv,useMemo:Gv,useReducer:vp,useRef:Bv,useState:function(){return vp(Ri)},useDebugValue:Np,useDeferredValue:function(o){var s=Un();return Kv(s,It.memoizedState,o)},useTransition:function(){var o=vp(Ri)[0],s=Un().memoizedState;return[o,s]},useMutableSource:Pv,useSyncExternalStore:Mv,useId:Xv,unstable_isNewReconciler:!1},DD={readContext:Bn,useCallback:qv,useContext:Bn,useEffect:jp,useImperativeHandle:Yv,useInsertionEffect:Hv,useLayoutEffect:Vv,useMemo:Gv,useReducer:bp,useRef:Bv,useState:function(){return bp(Ri)},useDebugValue:Np,useDeferredValue:function(o){var s=Un();return It===null?s.memoizedState=o:Kv(s,It.memoizedState,o)},useTransition:function(){var o=bp(Ri)[0],s=Un().memoizedState;return[o,s]},useMutableSource:Pv,useSyncExternalStore:Mv,useId:Xv,unstable_isNewReconciler:!1};function ir(o,s){if(o&&o.defaultProps){s=G({},s),o=o.defaultProps;for(var l in o)s[l]===void 0&&(s[l]=o[l]);return s}return s}function kp(o,s,l,f){s=o.memoizedState,l=l(f,s),l=l==null?s:G({},s,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var Qc={isMounted:function(o){return(o=o._reactInternals)?er(o)===o:!1},enqueueSetState:function(o,s,l){o=o._reactInternals;var f=dn(),x=No(o),j=Hr(f,x);j.payload=s,l!=null&&(j.callback=l),s=vo(o,j,x),s!==null&&(ur(s,o,x,f),Hc(s,o,x))},enqueueReplaceState:function(o,s,l){o=o._reactInternals;var f=dn(),x=No(o),j=Hr(f,x);j.tag=1,j.payload=s,l!=null&&(j.callback=l),s=vo(o,j,x),s!==null&&(ur(s,o,x,f),Hc(s,o,x))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var l=dn(),f=No(o),x=Hr(l,f);x.tag=2,s!=null&&(x.callback=s),s=vo(o,x,f),s!==null&&(ur(s,o,f,l),Hc(s,o,f))}};function tb(o,s,l,f,x,j,E){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,j,E):s.prototype&&s.prototype.isPureReactComponent?!gi(l,f)||!gi(x,j):!0}function nb(o,s,l){var f=!1,x=go,j=s.contextType;return typeof j=="object"&&j!==null?j=Bn(j):(x=xn(s)?Qo:en.current,f=s.contextTypes,j=(f=f!=null)?oa(o,x):go),s=new s(l,j),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Qc,o.stateNode=s,s._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=j),s}function rb(o,s,l,f){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==o&&Qc.enqueueReplaceState(s,s.state,null)}function Cp(o,s,l,f){var x=o.stateNode;x.props=l,x.state=o.memoizedState,x.refs={},up(o);var j=s.contextType;typeof j=="object"&&j!==null?x.context=Bn(j):(j=xn(s)?Qo:en.current,x.context=oa(o,j)),x.state=o.memoizedState,j=s.getDerivedStateFromProps,typeof j=="function"&&(kp(o,s,j,l),x.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&Qc.enqueueReplaceState(x,x.state,null),Vc(o,l,x,f),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function fa(o,s){try{var l="",f=s;do l+=Q(f),f=f.return;while(f);var x=l}catch(j){x=`
Error generating stack: `+j.message+`
`+j.stack}return{value:o,source:s,stack:x,digest:null}}function Ep(o,s,l){return{value:o,source:null,stack:l??null,digest:s??null}}function Sp(o,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var $D=typeof WeakMap=="function"?WeakMap:Map;function ob(o,s,l){l=Hr(-1,l),l.tag=3,l.payload={element:null};var f=s.value;return l.callback=function(){su||(su=!0,Bp=f),Sp(o,s)},l}function sb(o,s,l){l=Hr(-1,l),l.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var x=s.value;l.payload=function(){return f(x)},l.callback=function(){Sp(o,s)}}var j=o.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(l.callback=function(){Sp(o,s),typeof f!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function ab(o,s,l){var f=o.pingCache;if(f===null){f=o.pingCache=new $D;var x=new Set;f.set(s,x)}else x=f.get(s),x===void 0&&(x=new Set,f.set(s,x));x.has(l)||(x.add(l),o=YD.bind(null,o,s,l),s.then(o,o))}function ib(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function lb(o,s,l,f,x){return(o.mode&1)===0?(o===s?o.flags|=65536:(o.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Hr(-1,1),s.tag=2,vo(l,s,1))),l.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var PD=R.ReactCurrentOwner,yn=!1;function un(o,s,l,f){s.child=o===null?_v(s,null,l,f):la(s,o.child,l,f)}function cb(o,s,l,f,x){l=l.render;var j=s.ref;return ua(s,x),f=xp(o,s,l,f,j,x),l=yp(),o!==null&&!yn?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~x,Vr(o,s,x)):(mt&&l&&ep(s),s.flags|=1,un(o,s,f,x),s.child)}function ub(o,s,l,f,x){if(o===null){var j=l.type;return typeof j=="function"&&!Gp(j)&&j.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=j,db(o,s,j,f,x)):(o=du(l.type,null,f,s,s.mode,x),o.ref=s.ref,o.return=s,s.child=o)}if(j=o.child,(o.lanes&x)===0){var E=j.memoizedProps;if(l=l.compare,l=l!==null?l:gi,l(E,f)&&o.ref===s.ref)return Vr(o,s,x)}return s.flags|=1,o=Co(j,f),o.ref=s.ref,o.return=s,s.child=o}function db(o,s,l,f,x){if(o!==null){var j=o.memoizedProps;if(gi(j,f)&&o.ref===s.ref)if(yn=!1,s.pendingProps=f=j,(o.lanes&x)!==0)(o.flags&131072)!==0&&(yn=!0);else return s.lanes=o.lanes,Vr(o,s,x)}return _p(o,s,l,f,x)}function fb(o,s,l){var f=s.pendingProps,x=f.children,j=o!==null?o.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ma,Tn),Tn|=l;else{if((l&1073741824)===0)return o=j!==null?j.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,nt(ma,Tn),Tn|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=j!==null?j.baseLanes:l,nt(ma,Tn),Tn|=f}else j!==null?(f=j.baseLanes|l,s.memoizedState=null):f=l,nt(ma,Tn),Tn|=f;return un(o,s,x,l),s.child}function pb(o,s){var l=s.ref;(o===null&&l!==null||o!==null&&o.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function _p(o,s,l,f,x){var j=xn(l)?Qo:en.current;return j=oa(s,j),ua(s,x),l=xp(o,s,l,f,j,x),f=yp(),o!==null&&!yn?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~x,Vr(o,s,x)):(mt&&f&&ep(s),s.flags|=1,un(o,s,l,x),s.child)}function mb(o,s,l,f,x){if(xn(l)){var j=!0;Ic(s)}else j=!1;if(ua(s,x),s.stateNode===null)eu(o,s),nb(s,l,f),Cp(s,l,f,x),f=!0;else if(o===null){var E=s.stateNode,D=s.memoizedProps;E.props=D;var L=E.context,Z=l.contextType;typeof Z=="object"&&Z!==null?Z=Bn(Z):(Z=xn(l)?Qo:en.current,Z=oa(s,Z));var ie=l.getDerivedStateFromProps,ce=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function";ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==f||L!==Z)&&rb(s,E,f,Z),yo=!1;var se=s.memoizedState;E.state=se,Vc(s,f,E,x),L=s.memoizedState,D!==f||se!==L||gn.current||yo?(typeof ie=="function"&&(kp(s,l,ie,f),L=s.memoizedState),(D=yo||tb(s,l,D,f,se,L,Z))?(ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=L),E.props=f,E.state=L,E.context=Z,f=D):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{E=s.stateNode,zv(o,s),D=s.memoizedProps,Z=s.type===s.elementType?D:ir(s.type,D),E.props=Z,ce=s.pendingProps,se=E.context,L=l.contextType,typeof L=="object"&&L!==null?L=Bn(L):(L=xn(l)?Qo:en.current,L=oa(s,L));var ye=l.getDerivedStateFromProps;(ie=typeof ye=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==ce||se!==L)&&rb(s,E,f,L),yo=!1,se=s.memoizedState,E.state=se,Vc(s,f,E,x);var Ce=s.memoizedState;D!==ce||se!==Ce||gn.current||yo?(typeof ye=="function"&&(kp(s,l,ye,f),Ce=s.memoizedState),(Z=yo||tb(s,l,Z,f,se,Ce,L)||!1)?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,Ce,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,Ce,L)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Ce),E.props=f,E.state=Ce,E.context=L,f=Z):(typeof E.componentDidUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(s.flags|=1024),f=!1)}return Rp(o,s,l,f,j,x)}function Rp(o,s,l,f,x,j){pb(o,s);var E=(s.flags&128)!==0;if(!f&&!E)return x&&vv(s,l,!1),Vr(o,s,j);f=s.stateNode,PD.current=s;var D=E&&typeof l.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,o!==null&&E?(s.child=la(s,o.child,null,j),s.child=la(s,null,D,j)):un(o,s,D,j),s.memoizedState=f.state,x&&vv(s,l,!0),s.child}function hb(o){var s=o.stateNode;s.pendingContext?xv(o,s.pendingContext,s.pendingContext!==s.context):s.context&&xv(o,s.context,!1),dp(o,s.containerInfo)}function gb(o,s,l,f,x){return ia(),op(x),s.flags|=256,un(o,s,l,f),s.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function Tp(o){return{baseLanes:o,cachePool:null,transitions:null}}function xb(o,s,l){var f=s.pendingProps,x=vt.current,j=!1,E=(s.flags&128)!==0,D;if((D=E)||(D=o!==null&&o.memoizedState===null?!1:(x&2)!==0),D?(j=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),nt(vt,x&1),o===null)return rp(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((s.mode&1)===0?s.lanes=1:o.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=f.children,o=f.fallback,j?(f=s.mode,j=s.child,E={mode:"hidden",children:E},(f&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=E):j=fu(E,f,0,null),o=ls(o,f,l,null),j.return=s,o.return=s,j.sibling=o,s.child=j,s.child.memoizedState=Tp(l),s.memoizedState=zp,o):Dp(s,E));if(x=o.memoizedState,x!==null&&(D=x.dehydrated,D!==null))return MD(o,s,E,f,D,x,l);if(j){j=f.fallback,E=s.mode,x=o.child,D=x.sibling;var L={mode:"hidden",children:f.children};return(E&1)===0&&s.child!==x?(f=s.child,f.childLanes=0,f.pendingProps=L,s.deletions=null):(f=Co(x,L),f.subtreeFlags=x.subtreeFlags&14680064),D!==null?j=Co(D,j):(j=ls(j,E,l,null),j.flags|=2),j.return=s,f.return=s,f.sibling=j,s.child=f,f=j,j=s.child,E=o.child.memoizedState,E=E===null?Tp(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},j.memoizedState=E,j.childLanes=o.childLanes&~l,s.memoizedState=zp,f}return j=o.child,o=j.sibling,f=Co(j,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=l),f.return=s,f.sibling=null,o!==null&&(l=s.deletions,l===null?(s.deletions=[o],s.flags|=16):l.push(o)),s.child=f,s.memoizedState=null,f}function Dp(o,s){return s=fu({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function Jc(o,s,l,f){return f!==null&&op(f),la(s,o.child,null,l),o=Dp(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function MD(o,s,l,f,x,j,E){if(l)return s.flags&256?(s.flags&=-257,f=Ep(Error(n(422))),Jc(o,s,E,f)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(j=f.fallback,x=s.mode,f=fu({mode:"visible",children:f.children},x,0,null),j=ls(j,x,E,null),j.flags|=2,f.return=s,j.return=s,f.sibling=j,s.child=f,(s.mode&1)!==0&&la(s,o.child,null,E),s.child.memoizedState=Tp(E),s.memoizedState=zp,j);if((s.mode&1)===0)return Jc(o,s,E,null);if(x.data==="$!"){if(f=x.nextSibling&&x.nextSibling.dataset,f)var D=f.dgst;return f=D,j=Error(n(419)),f=Ep(j,f,void 0),Jc(o,s,E,f)}if(D=(E&o.childLanes)!==0,yn||D){if(f=Bt,f!==null){switch(E&-E){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(f.suspendedLanes|E))!==0?0:x,x!==0&&x!==j.retryLane&&(j.retryLane=x,Ur(o,x),ur(f,o,x,-1))}return qp(),f=Ep(Error(n(421))),Jc(o,s,E,f)}return x.data==="$?"?(s.flags|=128,s.child=o.child,s=qD.bind(null,o),x._reactRetry=s,null):(o=j.treeContext,zn=mo(x.nextSibling),Rn=s,mt=!0,ar=null,o!==null&&(Fn[Wn++]=Wr,Fn[Wn++]=Br,Fn[Wn++]=Jo,Wr=o.id,Br=o.overflow,Jo=s),s=Dp(s,f.children),s.flags|=4096,s)}function yb(o,s,l){o.lanes|=s;var f=o.alternate;f!==null&&(f.lanes|=s),lp(o.return,s,l)}function $p(o,s,l,f,x){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:x}:(j.isBackwards=s,j.rendering=null,j.renderingStartTime=0,j.last=f,j.tail=l,j.tailMode=x)}function vb(o,s,l){var f=s.pendingProps,x=f.revealOrder,j=f.tail;if(un(o,s,f.children,l),f=vt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&yb(o,l,s);else if(o.tag===19)yb(o,l,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(nt(vt,f),(s.mode&1)===0)s.memoizedState=null;else switch(x){case"forwards":for(l=s.child,x=null;l!==null;)o=l.alternate,o!==null&&Zc(o)===null&&(x=l),l=l.sibling;l=x,l===null?(x=s.child,s.child=null):(x=l.sibling,l.sibling=null),$p(s,!1,x,l,j);break;case"backwards":for(l=null,x=s.child,s.child=null;x!==null;){if(o=x.alternate,o!==null&&Zc(o)===null){s.child=x;break}o=x.sibling,x.sibling=l,l=x,x=o}$p(s,!0,l,null,j);break;case"together":$p(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function eu(o,s){(s.mode&1)===0&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function Vr(o,s,l){if(o!==null&&(s.dependencies=o.dependencies),os|=s.lanes,(l&s.childLanes)===0)return null;if(o!==null&&s.child!==o.child)throw Error(n(153));if(s.child!==null){for(o=s.child,l=Co(o,o.pendingProps),s.child=l,l.return=s;o.sibling!==null;)o=o.sibling,l=l.sibling=Co(o,o.pendingProps),l.return=s;l.sibling=null}return s.child}function ID(o,s,l){switch(s.tag){case 3:hb(s),ia();break;case 5:$v(s);break;case 1:xn(s.type)&&Ic(s);break;case 4:dp(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,x=s.memoizedProps.value;nt(Bc,f._currentValue),f._currentValue=x;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(nt(vt,vt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?xb(o,s,l):(nt(vt,vt.current&1),o=Vr(o,s,l),o!==null?o.sibling:null);nt(vt,vt.current&1);break;case 19:if(f=(l&s.childLanes)!==0,(o.flags&128)!==0){if(f)return vb(o,s,l);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),nt(vt,vt.current),f)break;return null;case 22:case 23:return s.lanes=0,fb(o,s,l)}return Vr(o,s,l)}var bb,Pp,wb,jb;bb=function(o,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)o.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Pp=function(){},wb=function(o,s,l,f){var x=o.memoizedProps;if(x!==f){o=s.stateNode,ns(Sr.current);var j=null;switch(l){case"input":x=Ke(o,x),f=Ke(o,f),j=[];break;case"select":x=G({},x,{value:void 0}),f=G({},f,{value:void 0}),j=[];break;case"textarea":x=Me(o,x),f=Me(o,f),j=[];break;default:typeof x.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=$c)}ao(l,f);var E;l=null;for(Z in x)if(!f.hasOwnProperty(Z)&&x.hasOwnProperty(Z)&&x[Z]!=null)if(Z==="style"){var D=x[Z];for(E in D)D.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?j||(j=[]):(j=j||[]).push(Z,null));for(Z in f){var L=f[Z];if(D=x?.[Z],f.hasOwnProperty(Z)&&L!==D&&(L!=null||D!=null))if(Z==="style")if(D){for(E in D)!D.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in L)L.hasOwnProperty(E)&&D[E]!==L[E]&&(l||(l={}),l[E]=L[E])}else l||(j||(j=[]),j.push(Z,l)),l=L;else Z==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,D=D?D.__html:void 0,L!=null&&D!==L&&(j=j||[]).push(Z,L)):Z==="children"?typeof L!="string"&&typeof L!="number"||(j=j||[]).push(Z,""+L):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(L!=null&&Z==="onScroll"&&at("scroll",o),j||D===L||(j=[])):(j=j||[]).push(Z,L))}l&&(j=j||[]).push("style",l);var Z=j;(s.updateQueue=Z)&&(s.flags|=4)}},jb=function(o,s,l,f){l!==f&&(s.flags|=4)};function Ti(o,s){if(!mt)switch(o.tailMode){case"hidden":s=o.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function nn(o){var s=o.alternate!==null&&o.alternate.child===o.child,l=0,f=0;if(s)for(var x=o.child;x!==null;)l|=x.lanes|x.childLanes,f|=x.subtreeFlags&14680064,f|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)l|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=f,o.childLanes=l,s}function LD(o,s,l){var f=s.pendingProps;switch(tp(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(s),null;case 1:return xn(s.type)&&Mc(),nn(s),null;case 3:return f=s.stateNode,da(),it(gn),it(en),mp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Fc(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ar!==null&&(Vp(ar),ar=null))),Pp(o,s),nn(s),null;case 5:fp(s);var x=ns(Ei.current);if(l=s.type,o!==null&&s.stateNode!=null)wb(o,s,l,f,x),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(n(166));return nn(s),null}if(o=ns(Sr.current),Fc(s)){f=s.stateNode,l=s.type;var j=s.memoizedProps;switch(f[Er]=s,f[wi]=j,o=(s.mode&1)!==0,l){case"dialog":at("cancel",f),at("close",f);break;case"iframe":case"object":case"embed":at("load",f);break;case"video":case"audio":for(x=0;x<yi.length;x++)at(yi[x],f);break;case"source":at("error",f);break;case"img":case"image":case"link":at("error",f),at("load",f);break;case"details":at("toggle",f);break;case"input":Ct(f,j),at("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!j.multiple},at("invalid",f);break;case"textarea":Xe(f,j),at("invalid",f)}ao(l,j),x=null;for(var E in j)if(j.hasOwnProperty(E)){var D=j[E];E==="children"?typeof D=="string"?f.textContent!==D&&(j.suppressHydrationWarning!==!0&&Dc(f.textContent,D,o),x=["children",D]):typeof D=="number"&&f.textContent!==""+D&&(j.suppressHydrationWarning!==!0&&Dc(f.textContent,D,o),x=["children",""+D]):i.hasOwnProperty(E)&&D!=null&&E==="onScroll"&&at("scroll",f)}switch(l){case"input":rt(f),sn(f,j,!0);break;case"textarea":rt(f),me(f);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(f.onclick=$c)}f=x,s.updateQueue=f,f!==null&&(s.flags|=4)}else{E=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=gt(l)),o==="http://www.w3.org/1999/xhtml"?l==="script"?(o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=E.createElement(l,{is:f.is}):(o=E.createElement(l),l==="select"&&(E=o,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):o=E.createElementNS(o,l),o[Er]=s,o[wi]=f,bb(o,s,!1,!1),s.stateNode=o;e:{switch(E=wr(l,f),l){case"dialog":at("cancel",o),at("close",o),x=f;break;case"iframe":case"object":case"embed":at("load",o),x=f;break;case"video":case"audio":for(x=0;x<yi.length;x++)at(yi[x],o);x=f;break;case"source":at("error",o),x=f;break;case"img":case"image":case"link":at("error",o),at("load",o),x=f;break;case"details":at("toggle",o),x=f;break;case"input":Ct(o,f),x=Ke(o,f),at("invalid",o);break;case"option":x=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},x=G({},f,{value:void 0}),at("invalid",o);break;case"textarea":Xe(o,f),x=Me(o,f),at("invalid",o);break;default:x=f}ao(l,x),D=x;for(j in D)if(D.hasOwnProperty(j)){var L=D[j];j==="style"?Ja(o,L):j==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&kn(o,L)):j==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&an(o,L):typeof L=="number"&&an(o,""+L):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?L!=null&&j==="onScroll"&&at("scroll",o):L!=null&&w(o,j,L,E))}switch(l){case"input":rt(o),sn(o,f,!1);break;case"textarea":rt(o),me(o);break;case"option":f.value!=null&&o.setAttribute("value",""+ge(f.value));break;case"select":o.multiple=!!f.multiple,j=f.value,j!=null?he(o,!!f.multiple,j,!1):f.defaultValue!=null&&he(o,!!f.multiple,f.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=$c)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return nn(s),null;case 6:if(o&&s.stateNode!=null)jb(o,s,o.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(l=ns(Ei.current),ns(Sr.current),Fc(s)){if(f=s.stateNode,l=s.memoizedProps,f[Er]=s,(j=f.nodeValue!==l)&&(o=Rn,o!==null))switch(o.tag){case 3:Dc(f.nodeValue,l,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Dc(f.nodeValue,l,(o.mode&1)!==0)}j&&(s.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[Er]=s,s.stateNode=f}return nn(s),null;case 13:if(it(vt),f=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(mt&&zn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Cv(),ia(),s.flags|=98560,j=!1;else if(j=Fc(s),f!==null&&f.dehydrated!==null){if(o===null){if(!j)throw Error(n(318));if(j=s.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Er]=s}else ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;nn(s),j=!1}else ar!==null&&(Vp(ar),ar=null),j=!0;if(!j)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(o===null||(vt.current&1)!==0?Lt===0&&(Lt=3):qp())),s.updateQueue!==null&&(s.flags|=4),nn(s),null);case 4:return da(),Pp(o,s),o===null&&vi(s.stateNode.containerInfo),nn(s),null;case 10:return ip(s.type._context),nn(s),null;case 17:return xn(s.type)&&Mc(),nn(s),null;case 19:if(it(vt),j=s.memoizedState,j===null)return nn(s),null;if(f=(s.flags&128)!==0,E=j.rendering,E===null)if(f)Ti(j,!1);else{if(Lt!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(E=Zc(o),E!==null){for(s.flags|=128,Ti(j,!1),f=E.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=l,l=s.child;l!==null;)j=l,o=f,j.flags&=14680066,E=j.alternate,E===null?(j.childLanes=0,j.lanes=o,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=E.childLanes,j.lanes=E.lanes,j.child=E.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=E.memoizedProps,j.memoizedState=E.memoizedState,j.updateQueue=E.updateQueue,j.type=E.type,o=E.dependencies,j.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),l=l.sibling;return nt(vt,vt.current&1|2),s.child}o=o.sibling}j.tail!==null&&st()>ha&&(s.flags|=128,f=!0,Ti(j,!1),s.lanes=4194304)}else{if(!f)if(o=Zc(E),o!==null){if(s.flags|=128,f=!0,l=o.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ti(j,!0),j.tail===null&&j.tailMode==="hidden"&&!E.alternate&&!mt)return nn(s),null}else 2*st()-j.renderingStartTime>ha&&l!==1073741824&&(s.flags|=128,f=!0,Ti(j,!1),s.lanes=4194304);j.isBackwards?(E.sibling=s.child,s.child=E):(l=j.last,l!==null?l.sibling=E:s.child=E,j.last=E)}return j.tail!==null?(s=j.tail,j.rendering=s,j.tail=s.sibling,j.renderingStartTime=st(),s.sibling=null,l=vt.current,nt(vt,f?l&1|2:l&1),s):(nn(s),null);case 22:case 23:return Yp(),f=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(Tn&1073741824)!==0&&(nn(s),s.subtreeFlags&6&&(s.flags|=8192)):nn(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function OD(o,s){switch(tp(s),s.tag){case 1:return xn(s.type)&&Mc(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return da(),it(gn),it(en),mp(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 5:return fp(s),null;case 13:if(it(vt),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ia()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return it(vt),null;case 4:return da(),null;case 10:return ip(s.type._context),null;case 22:case 23:return Yp(),null;case 24:return null;default:return null}}var tu=!1,rn=!1,AD=typeof WeakSet=="function"?WeakSet:Set,ve=null;function pa(o,s){var l=o.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Nt(o,s,f)}else l.current=null}function Mp(o,s,l){try{l()}catch(f){Nt(o,s,f)}}var Nb=!1;function FD(o,s){if(Zf=wc,o=tv(),Of(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var x=f.anchorOffset,j=f.focusNode;f=f.focusOffset;try{l.nodeType,j.nodeType}catch{l=null;break e}var E=0,D=-1,L=-1,Z=0,ie=0,ce=o,se=null;t:for(;;){for(var ye;ce!==l||x!==0&&ce.nodeType!==3||(D=E+x),ce!==j||f!==0&&ce.nodeType!==3||(L=E+f),ce.nodeType===3&&(E+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)se=ce,ce=ye;for(;;){if(ce===o)break t;if(se===l&&++Z===x&&(D=E),se===j&&++ie===f&&(L=E),(ye=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=ye}l=D===-1||L===-1?null:{start:D,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yf={focusedElem:o,selectionRange:l},wc=!1,ve=s;ve!==null;)if(s=ve,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,ve=o;else for(;ve!==null;){s=ve;try{var Ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ee=Ce.memoizedProps,St=Ce.memoizedState,W=s.stateNode,A=W.getSnapshotBeforeUpdate(s.elementType===s.type?Ee:ir(s.type,Ee),St);W.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){Nt(s,s.return,fe)}if(o=s.sibling,o!==null){o.return=s.return,ve=o;break}ve=s.return}return Ce=Nb,Nb=!1,Ce}function Di(o,s,l){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&o)===o){var j=x.destroy;x.destroy=void 0,j!==void 0&&Mp(s,l,j)}x=x.next}while(x!==f)}}function nu(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&o)===o){var f=l.create;l.destroy=f()}l=l.next}while(l!==s)}}function Ip(o){var s=o.ref;if(s!==null){var l=o.stateNode;switch(o.tag){case 5:o=l;break;default:o=l}typeof s=="function"?s(o):s.current=o}}function kb(o){var s=o.alternate;s!==null&&(o.alternate=null,kb(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[Er],delete s[wi],delete s[Xf],delete s[jD],delete s[ND])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Cb(o){return o.tag===5||o.tag===3||o.tag===4}function Eb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Cb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Lp(o,s,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(o,s):l.insertBefore(o,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(o,l)):(s=l,s.appendChild(o)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=$c));else if(f!==4&&(o=o.child,o!==null))for(Lp(o,s,l),o=o.sibling;o!==null;)Lp(o,s,l),o=o.sibling}function Op(o,s,l){var f=o.tag;if(f===5||f===6)o=o.stateNode,s?l.insertBefore(o,s):l.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(Op(o,s,l),o=o.sibling;o!==null;)Op(o,s,l),o=o.sibling}var Xt=null,lr=!1;function bo(o,s,l){for(l=l.child;l!==null;)Sb(o,s,l),l=l.sibling}function Sb(o,s,l){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(En,l)}catch{}switch(l.tag){case 5:rn||pa(l,s);case 6:var f=Xt,x=lr;Xt=null,bo(o,s,l),Xt=f,lr=x,Xt!==null&&(lr?(o=Xt,l=l.stateNode,o.nodeType===8?o.parentNode.removeChild(l):o.removeChild(l)):Xt.removeChild(l.stateNode));break;case 18:Xt!==null&&(lr?(o=Xt,l=l.stateNode,o.nodeType===8?Kf(o.parentNode,l):o.nodeType===1&&Kf(o,l),ui(o)):Kf(Xt,l.stateNode));break;case 4:f=Xt,x=lr,Xt=l.stateNode.containerInfo,lr=!0,bo(o,s,l),Xt=f,lr=x;break;case 0:case 11:case 14:case 15:if(!rn&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){x=f=f.next;do{var j=x,E=j.destroy;j=j.tag,E!==void 0&&((j&2)!==0||(j&4)!==0)&&Mp(l,s,E),x=x.next}while(x!==f)}bo(o,s,l);break;case 1:if(!rn&&(pa(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(D){Nt(l,s,D)}bo(o,s,l);break;case 21:bo(o,s,l);break;case 22:l.mode&1?(rn=(f=rn)||l.memoizedState!==null,bo(o,s,l),rn=f):bo(o,s,l);break;default:bo(o,s,l)}}function _b(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var l=o.stateNode;l===null&&(l=o.stateNode=new AD),s.forEach(function(f){var x=GD.bind(null,o,f);l.has(f)||(l.add(f),f.then(x,x))})}}function cr(o,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var x=l[f];try{var j=o,E=s,D=E;e:for(;D!==null;){switch(D.tag){case 5:Xt=D.stateNode,lr=!1;break e;case 3:Xt=D.stateNode.containerInfo,lr=!0;break e;case 4:Xt=D.stateNode.containerInfo,lr=!0;break e}D=D.return}if(Xt===null)throw Error(n(160));Sb(j,E,x),Xt=null,lr=!1;var L=x.alternate;L!==null&&(L.return=null),x.return=null}catch(Z){Nt(x,s,Z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Rb(s,o),s=s.sibling}function Rb(o,s){var l=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(cr(s,o),Rr(o),f&4){try{Di(3,o,o.return),nu(3,o)}catch(Ee){Nt(o,o.return,Ee)}try{Di(5,o,o.return)}catch(Ee){Nt(o,o.return,Ee)}}break;case 1:cr(s,o),Rr(o),f&512&&l!==null&&pa(l,l.return);break;case 5:if(cr(s,o),Rr(o),f&512&&l!==null&&pa(l,l.return),o.flags&32){var x=o.stateNode;try{an(x,"")}catch(Ee){Nt(o,o.return,Ee)}}if(f&4&&(x=o.stateNode,x!=null)){var j=o.memoizedProps,E=l!==null?l.memoizedProps:j,D=o.type,L=o.updateQueue;if(o.updateQueue=null,L!==null)try{D==="input"&&j.type==="radio"&&j.name!=null&&qt(x,j),wr(D,E);var Z=wr(D,j);for(E=0;E<L.length;E+=2){var ie=L[E],ce=L[E+1];ie==="style"?Ja(x,ce):ie==="dangerouslySetInnerHTML"?kn(x,ce):ie==="children"?an(x,ce):w(x,ie,ce,Z)}switch(D){case"input":Jt(x,j);break;case"textarea":We(x,j);break;case"select":var se=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!j.multiple;var ye=j.value;ye!=null?he(x,!!j.multiple,ye,!1):se!==!!j.multiple&&(j.defaultValue!=null?he(x,!!j.multiple,j.defaultValue,!0):he(x,!!j.multiple,j.multiple?[]:"",!1))}x[wi]=j}catch(Ee){Nt(o,o.return,Ee)}}break;case 6:if(cr(s,o),Rr(o),f&4){if(o.stateNode===null)throw Error(n(162));x=o.stateNode,j=o.memoizedProps;try{x.nodeValue=j}catch(Ee){Nt(o,o.return,Ee)}}break;case 3:if(cr(s,o),Rr(o),f&4&&l!==null&&l.memoizedState.isDehydrated)try{ui(s.containerInfo)}catch(Ee){Nt(o,o.return,Ee)}break;case 4:cr(s,o),Rr(o);break;case 13:cr(s,o),Rr(o),x=o.child,x.flags&8192&&(j=x.memoizedState!==null,x.stateNode.isHidden=j,!j||x.alternate!==null&&x.alternate.memoizedState!==null||(Wp=st())),f&4&&_b(o);break;case 22:if(ie=l!==null&&l.memoizedState!==null,o.mode&1?(rn=(Z=rn)||ie,cr(s,o),rn=Z):cr(s,o),Rr(o),f&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!ie&&(o.mode&1)!==0)for(ve=o,ie=o.child;ie!==null;){for(ce=ve=ie;ve!==null;){switch(se=ve,ye=se.child,se.tag){case 0:case 11:case 14:case 15:Di(4,se,se.return);break;case 1:pa(se,se.return);var Ce=se.stateNode;if(typeof Ce.componentWillUnmount=="function"){f=se,l=se.return;try{s=f,Ce.props=s.memoizedProps,Ce.state=s.memoizedState,Ce.componentWillUnmount()}catch(Ee){Nt(f,l,Ee)}}break;case 5:pa(se,se.return);break;case 22:if(se.memoizedState!==null){Db(ce);continue}}ye!==null?(ye.return=se,ve=ye):Db(ce)}ie=ie.sibling}e:for(ie=null,ce=o;;){if(ce.tag===5){if(ie===null){ie=ce;try{x=ce.stateNode,Z?(j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(D=ce.stateNode,L=ce.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,D.style.display=Qa("display",E))}catch(Ee){Nt(o,o.return,Ee)}}}else if(ce.tag===6){if(ie===null)try{ce.stateNode.nodeValue=Z?"":ce.memoizedProps}catch(Ee){Nt(o,o.return,Ee)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===o)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===o)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===o)break e;ie===ce&&(ie=null),ce=ce.return}ie===ce&&(ie=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:cr(s,o),Rr(o),f&4&&_b(o);break;case 21:break;default:cr(s,o),Rr(o)}}function Rr(o){var s=o.flags;if(s&2){try{e:{for(var l=o.return;l!==null;){if(Cb(l)){var f=l;break e}l=l.return}throw Error(n(160))}switch(f.tag){case 5:var x=f.stateNode;f.flags&32&&(an(x,""),f.flags&=-33);var j=Eb(o);Op(o,j,x);break;case 3:case 4:var E=f.stateNode.containerInfo,D=Eb(o);Lp(o,D,E);break;default:throw Error(n(161))}}catch(L){Nt(o,o.return,L)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function WD(o,s,l){ve=o,zb(o)}function zb(o,s,l){for(var f=(o.mode&1)!==0;ve!==null;){var x=ve,j=x.child;if(x.tag===22&&f){var E=x.memoizedState!==null||tu;if(!E){var D=x.alternate,L=D!==null&&D.memoizedState!==null||rn;D=tu;var Z=rn;if(tu=E,(rn=L)&&!Z)for(ve=x;ve!==null;)E=ve,L=E.child,E.tag===22&&E.memoizedState!==null?$b(x):L!==null?(L.return=E,ve=L):$b(x);for(;j!==null;)ve=j,zb(j),j=j.sibling;ve=x,tu=D,rn=Z}Tb(o)}else(x.subtreeFlags&8772)!==0&&j!==null?(j.return=x,ve=j):Tb(o)}}function Tb(o){for(;ve!==null;){var s=ve;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:rn||nu(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!rn)if(l===null)f.componentDidMount();else{var x=s.elementType===s.type?l.memoizedProps:ir(s.type,l.memoizedProps);f.componentDidUpdate(x,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var j=s.updateQueue;j!==null&&Dv(s,j,f);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Dv(s,E,l)}break;case 5:var D=s.stateNode;if(l===null&&s.flags&4){l=D;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Z=s.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var ce=ie.dehydrated;ce!==null&&ui(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||s.flags&512&&Ip(s)}catch(se){Nt(s,s.return,se)}}if(s===o){ve=null;break}if(l=s.sibling,l!==null){l.return=s.return,ve=l;break}ve=s.return}}function Db(o){for(;ve!==null;){var s=ve;if(s===o){ve=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ve=l;break}ve=s.return}}function $b(o){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{nu(4,s)}catch(L){Nt(s,l,L)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var x=s.return;try{f.componentDidMount()}catch(L){Nt(s,x,L)}}var j=s.return;try{Ip(s)}catch(L){Nt(s,j,L)}break;case 5:var E=s.return;try{Ip(s)}catch(L){Nt(s,E,L)}}}catch(L){Nt(s,s.return,L)}if(s===o){ve=null;break}var D=s.sibling;if(D!==null){D.return=s.return,ve=D;break}ve=s.return}}var BD=Math.ceil,ru=R.ReactCurrentDispatcher,Ap=R.ReactCurrentOwner,Hn=R.ReactCurrentBatchConfig,He=0,Bt=null,zt=null,Qt=0,Tn=0,ma=ho(0),Lt=0,$i=null,os=0,ou=0,Fp=0,Pi=null,vn=null,Wp=0,ha=1/0,Zr=null,su=!1,Bp=null,wo=null,au=!1,jo=null,iu=0,Mi=0,Up=null,lu=-1,cu=0;function dn(){return(He&6)!==0?st():lu!==-1?lu:lu=st()}function No(o){return(o.mode&1)===0?1:(He&2)!==0&&Qt!==0?Qt&-Qt:CD.transition!==null?(cu===0&&(cu=ii()),cu):(o=Ye,o!==0||(o=window.event,o=o===void 0?16:My(o.type)),o)}function ur(o,s,l,f){if(50<Mi)throw Mi=0,Up=null,Error(n(185));tr(o,l,f),((He&2)===0||o!==Bt)&&(o===Bt&&((He&2)===0&&(ou|=l),Lt===4&&ko(o,Qt)),bn(o,f),l===1&&He===0&&(s.mode&1)===0&&(ha=st()+500,Lc&&xo()))}function bn(o,s){var l=o.callbackNode;vc(o,s);var f=Sn(o,o===Bt?Qt:0);if(f===0)l!==null&&Ir(l),o.callbackNode=null,o.callbackPriority=0;else if(s=f&-f,o.callbackPriority!==s){if(l!=null&&Ir(l),s===1)o.tag===0?kD(Mb.bind(null,o)):bv(Mb.bind(null,o)),bD(function(){(He&6)===0&&xo()}),l=null;else{switch(qo(f)){case 1:l=ri;break;case 4:l=oi;break;case 16:l=Hs;break;case 536870912:l=gc;break;default:l=Hs}l=Ub(l,Pb.bind(null,o))}o.callbackPriority=s,o.callbackNode=l}}function Pb(o,s){if(lu=-1,cu=0,(He&6)!==0)throw Error(n(327));var l=o.callbackNode;if(ga()&&o.callbackNode!==l)return null;var f=Sn(o,o===Bt?Qt:0);if(f===0)return null;if((f&30)!==0||(f&o.expiredLanes)!==0||s)s=uu(o,f);else{s=f;var x=He;He|=2;var j=Lb();(Bt!==o||Qt!==s)&&(Zr=null,ha=st()+500,as(o,s));do try{VD();break}catch(D){Ib(o,D)}while(!0);ap(),ru.current=j,He=x,zt!==null?s=0:(Bt=null,Qt=0,s=Lt)}if(s!==0){if(s===2&&(x=Zs(o),x!==0&&(f=x,s=Hp(o,x))),s===1)throw l=$i,as(o,0),ko(o,f),bn(o,st()),l;if(s===6)ko(o,f);else{if(x=o.current.alternate,(f&30)===0&&!UD(x)&&(s=uu(o,f),s===2&&(j=Zs(o),j!==0&&(f=j,s=Hp(o,j))),s===1))throw l=$i,as(o,0),ko(o,f),bn(o,st()),l;switch(o.finishedWork=x,o.finishedLanes=f,s){case 0:case 1:throw Error(n(345));case 2:is(o,vn,Zr);break;case 3:if(ko(o,f),(f&130023424)===f&&(s=Wp+500-st(),10<s)){if(Sn(o,0)!==0)break;if(x=o.suspendedLanes,(x&f)!==f){dn(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=Gf(is.bind(null,o,vn,Zr),s);break}is(o,vn,Zr);break;case 4:if(ko(o,f),(f&4194240)===f)break;for(s=o.eventTimes,x=-1;0<f;){var E=31-Ft(f);j=1<<E,E=s[E],E>x&&(x=E),f&=~j}if(f=x,f=st()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*BD(f/1960))-f,10<f){o.timeoutHandle=Gf(is.bind(null,o,vn,Zr),f);break}is(o,vn,Zr);break;case 5:is(o,vn,Zr);break;default:throw Error(n(329))}}}return bn(o,st()),o.callbackNode===l?Pb.bind(null,o):null}function Hp(o,s){var l=Pi;return o.current.memoizedState.isDehydrated&&(as(o,s).flags|=256),o=uu(o,s),o!==2&&(s=vn,vn=l,s!==null&&Vp(s)),o}function Vp(o){vn===null?vn=o:vn.push.apply(vn,o)}function UD(o){for(var s=o;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var x=l[f],j=x.getSnapshot;x=x.value;try{if(!sr(j(),x))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ko(o,s){for(s&=~Fp,s&=~ou,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var l=31-Ft(s),f=1<<l;o[l]=-1,s&=~f}}function Mb(o){if((He&6)!==0)throw Error(n(327));ga();var s=Sn(o,0);if((s&1)===0)return bn(o,st()),null;var l=uu(o,s);if(o.tag!==0&&l===2){var f=Zs(o);f!==0&&(s=f,l=Hp(o,f))}if(l===1)throw l=$i,as(o,0),ko(o,s),bn(o,st()),l;if(l===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,is(o,vn,Zr),bn(o,st()),null}function Zp(o,s){var l=He;He|=1;try{return o(s)}finally{He=l,He===0&&(ha=st()+500,Lc&&xo())}}function ss(o){jo!==null&&jo.tag===0&&(He&6)===0&&ga();var s=He;He|=1;var l=Hn.transition,f=Ye;try{if(Hn.transition=null,Ye=1,o)return o()}finally{Ye=f,Hn.transition=l,He=s,(He&6)===0&&xo()}}function Yp(){Tn=ma.current,it(ma)}function as(o,s){o.finishedWork=null,o.finishedLanes=0;var l=o.timeoutHandle;if(l!==-1&&(o.timeoutHandle=-1,vD(l)),zt!==null)for(l=zt.return;l!==null;){var f=l;switch(tp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Mc();break;case 3:da(),it(gn),it(en),mp();break;case 5:fp(f);break;case 4:da();break;case 13:it(vt);break;case 19:it(vt);break;case 10:ip(f.type._context);break;case 22:case 23:Yp()}l=l.return}if(Bt=o,zt=o=Co(o.current,null),Qt=Tn=s,Lt=0,$i=null,Fp=ou=os=0,vn=Pi=null,ts!==null){for(s=0;s<ts.length;s++)if(l=ts[s],f=l.interleaved,f!==null){l.interleaved=null;var x=f.next,j=l.pending;if(j!==null){var E=j.next;j.next=x,f.next=E}l.pending=f}ts=null}return o}function Ib(o,s){do{var l=zt;try{if(ap(),Yc.current=Xc,qc){for(var f=bt.memoizedState;f!==null;){var x=f.queue;x!==null&&(x.pending=null),f=f.next}qc=!1}if(rs=0,Wt=It=bt=null,Si=!1,_i=0,Ap.current=null,l===null||l.return===null){Lt=1,$i=s,zt=null;break}e:{var j=o,E=l.return,D=l,L=s;if(s=Qt,D.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=L,ie=D,ce=ie.tag;if((ie.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ye=ib(E);if(ye!==null){ye.flags&=-257,lb(ye,E,D,j,s),ye.mode&1&&ab(j,Z,s),s=ye,L=Z;var Ce=s.updateQueue;if(Ce===null){var Ee=new Set;Ee.add(L),s.updateQueue=Ee}else Ce.add(L);break e}else{if((s&1)===0){ab(j,Z,s),qp();break e}L=Error(n(426))}}else if(mt&&D.mode&1){var St=ib(E);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),lb(St,E,D,j,s),op(fa(L,D));break e}}j=L=fa(L,D),Lt!==4&&(Lt=2),Pi===null?Pi=[j]:Pi.push(j),j=E;do{switch(j.tag){case 3:j.flags|=65536,s&=-s,j.lanes|=s;var W=ob(j,L,s);Tv(j,W);break e;case 1:D=L;var A=j.type,B=j.stateNode;if((j.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(wo===null||!wo.has(B)))){j.flags|=65536,s&=-s,j.lanes|=s;var fe=sb(j,D,s);Tv(j,fe);break e}}j=j.return}while(j!==null)}Ab(l)}catch(_e){s=_e,zt===l&&l!==null&&(zt=l=l.return);continue}break}while(!0)}function Lb(){var o=ru.current;return ru.current=Xc,o===null?Xc:o}function qp(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Bt===null||(os&268435455)===0&&(ou&268435455)===0||ko(Bt,Qt)}function uu(o,s){var l=He;He|=2;var f=Lb();(Bt!==o||Qt!==s)&&(Zr=null,as(o,s));do try{HD();break}catch(x){Ib(o,x)}while(!0);if(ap(),He=l,ru.current=f,zt!==null)throw Error(n(261));return Bt=null,Qt=0,Lt}function HD(){for(;zt!==null;)Ob(zt)}function VD(){for(;zt!==null&&!Ef();)Ob(zt)}function Ob(o){var s=Bb(o.alternate,o,Tn);o.memoizedProps=o.pendingProps,s===null?Ab(o):zt=s,Ap.current=null}function Ab(o){var s=o;do{var l=s.alternate;if(o=s.return,(s.flags&32768)===0){if(l=LD(l,s,Tn),l!==null){zt=l;return}}else{if(l=OD(l,s),l!==null){l.flags&=32767,zt=l;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Lt=6,zt=null;return}}if(s=s.sibling,s!==null){zt=s;return}zt=s=o}while(s!==null);Lt===0&&(Lt=5)}function is(o,s,l){var f=Ye,x=Hn.transition;try{Hn.transition=null,Ye=1,ZD(o,s,l,f)}finally{Hn.transition=x,Ye=f}return null}function ZD(o,s,l,f){do ga();while(jo!==null);if((He&6)!==0)throw Error(n(327));l=o.finishedWork;var x=o.finishedLanes;if(l===null)return null;if(o.finishedWork=null,o.finishedLanes=0,l===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var j=l.lanes|l.childLanes;if(Ys(o,j),o===Bt&&(zt=Bt=null,Qt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||au||(au=!0,Ub(Hs,function(){return ga(),null})),j=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||j){j=Hn.transition,Hn.transition=null;var E=Ye;Ye=1;var D=He;He|=4,Ap.current=null,FD(o,l),Rb(l,o),fD(Yf),wc=!!Zf,Yf=Zf=null,o.current=l,WD(l),An(),He=D,Ye=E,Hn.transition=j}else o.current=l;if(au&&(au=!1,jo=o,iu=x),j=o.pendingLanes,j===0&&(wo=null),Vs(l.stateNode),bn(o,st()),s!==null)for(f=o.onRecoverableError,l=0;l<s.length;l++)x=s[l],f(x.value,{componentStack:x.stack,digest:x.digest});if(su)throw su=!1,o=Bp,Bp=null,o;return(iu&1)!==0&&o.tag!==0&&ga(),j=o.pendingLanes,(j&1)!==0?o===Up?Mi++:(Mi=0,Up=o):Mi=0,xo(),null}function ga(){if(jo!==null){var o=qo(iu),s=Hn.transition,l=Ye;try{if(Hn.transition=null,Ye=16>o?16:o,jo===null)var f=!1;else{if(o=jo,jo=null,iu=0,(He&6)!==0)throw Error(n(331));var x=He;for(He|=4,ve=o.current;ve!==null;){var j=ve,E=j.child;if((ve.flags&16)!==0){var D=j.deletions;if(D!==null){for(var L=0;L<D.length;L++){var Z=D[L];for(ve=Z;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:Di(8,ie,j)}var ce=ie.child;if(ce!==null)ce.return=ie,ve=ce;else for(;ve!==null;){ie=ve;var se=ie.sibling,ye=ie.return;if(kb(ie),ie===Z){ve=null;break}if(se!==null){se.return=ye,ve=se;break}ve=ye}}}var Ce=j.alternate;if(Ce!==null){var Ee=Ce.child;if(Ee!==null){Ce.child=null;do{var St=Ee.sibling;Ee.sibling=null,Ee=St}while(Ee!==null)}}ve=j}}if((j.subtreeFlags&2064)!==0&&E!==null)E.return=j,ve=E;else e:for(;ve!==null;){if(j=ve,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Di(9,j,j.return)}var W=j.sibling;if(W!==null){W.return=j.return,ve=W;break e}ve=j.return}}var A=o.current;for(ve=A;ve!==null;){E=ve;var B=E.child;if((E.subtreeFlags&2064)!==0&&B!==null)B.return=E,ve=B;else e:for(E=A;ve!==null;){if(D=ve,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:nu(9,D)}}catch(_e){Nt(D,D.return,_e)}if(D===E){ve=null;break e}var fe=D.sibling;if(fe!==null){fe.return=D.return,ve=fe;break e}ve=D.return}}if(He=x,xo(),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(En,o)}catch{}f=!0}return f}finally{Ye=l,Hn.transition=s}}return!1}function Fb(o,s,l){s=fa(l,s),s=ob(o,s,1),o=vo(o,s,1),s=dn(),o!==null&&(tr(o,1,s),bn(o,s))}function Nt(o,s,l){if(o.tag===3)Fb(o,o,l);else for(;s!==null;){if(s.tag===3){Fb(s,o,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(wo===null||!wo.has(f))){o=fa(l,o),o=sb(s,o,1),s=vo(s,o,1),o=dn(),s!==null&&(tr(s,1,o),bn(s,o));break}}s=s.return}}function YD(o,s,l){var f=o.pingCache;f!==null&&f.delete(s),s=dn(),o.pingedLanes|=o.suspendedLanes&l,Bt===o&&(Qt&l)===l&&(Lt===4||Lt===3&&(Qt&130023424)===Qt&&500>st()-Wp?as(o,0):Fp|=l),bn(o,s)}function Wb(o,s){s===0&&((o.mode&1)===0?s=1:(s=Zo,Zo<<=1,(Zo&130023424)===0&&(Zo=4194304)));var l=dn();o=Ur(o,s),o!==null&&(tr(o,s,l),bn(o,l))}function qD(o){var s=o.memoizedState,l=0;s!==null&&(l=s.retryLane),Wb(o,l)}function GD(o,s){var l=0;switch(o.tag){case 13:var f=o.stateNode,x=o.memoizedState;x!==null&&(l=x.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(s),Wb(o,l)}var Bb;Bb=function(o,s,l){if(o!==null)if(o.memoizedProps!==s.pendingProps||gn.current)yn=!0;else{if((o.lanes&l)===0&&(s.flags&128)===0)return yn=!1,ID(o,s,l);yn=(o.flags&131072)!==0}else yn=!1,mt&&(s.flags&1048576)!==0&&wv(s,Ac,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;eu(o,s),o=s.pendingProps;var x=oa(s,en.current);ua(s,l),x=xp(null,s,f,o,x,l);var j=yp();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,xn(f)?(j=!0,Ic(s)):j=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,up(s),x.updater=Qc,s.stateNode=x,x._reactInternals=s,Cp(s,f,o,l),s=Rp(null,s,f,!0,j,l)):(s.tag=0,mt&&j&&ep(s),un(null,s,x,l),s=s.child),s;case 16:f=s.elementType;e:{switch(eu(o,s),o=s.pendingProps,x=f._init,f=x(f._payload),s.type=f,x=s.tag=XD(f),o=ir(f,o),x){case 0:s=_p(null,s,f,o,l);break e;case 1:s=mb(null,s,f,o,l);break e;case 11:s=cb(null,s,f,o,l);break e;case 14:s=ub(null,s,f,ir(f.type,o),l);break e}throw Error(n(306,f,""))}return s;case 0:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:ir(f,x),_p(o,s,f,x,l);case 1:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:ir(f,x),mb(o,s,f,x,l);case 3:e:{if(hb(s),o===null)throw Error(n(387));f=s.pendingProps,j=s.memoizedState,x=j.element,zv(o,s),Vc(s,f,null,l);var E=s.memoizedState;if(f=E.element,j.isDehydrated)if(j={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=j,s.memoizedState=j,s.flags&256){x=fa(Error(n(423)),s),s=gb(o,s,f,l,x);break e}else if(f!==x){x=fa(Error(n(424)),s),s=gb(o,s,f,l,x);break e}else for(zn=mo(s.stateNode.containerInfo.firstChild),Rn=s,mt=!0,ar=null,l=_v(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ia(),f===x){s=Vr(o,s,l);break e}un(o,s,f,l)}s=s.child}return s;case 5:return $v(s),o===null&&rp(s),f=s.type,x=s.pendingProps,j=o!==null?o.memoizedProps:null,E=x.children,qf(f,x)?E=null:j!==null&&qf(f,j)&&(s.flags|=32),pb(o,s),un(o,s,E,l),s.child;case 6:return o===null&&rp(s),null;case 13:return xb(o,s,l);case 4:return dp(s,s.stateNode.containerInfo),f=s.pendingProps,o===null?s.child=la(s,null,f,l):un(o,s,f,l),s.child;case 11:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:ir(f,x),cb(o,s,f,x,l);case 7:return un(o,s,s.pendingProps,l),s.child;case 8:return un(o,s,s.pendingProps.children,l),s.child;case 12:return un(o,s,s.pendingProps.children,l),s.child;case 10:e:{if(f=s.type._context,x=s.pendingProps,j=s.memoizedProps,E=x.value,nt(Bc,f._currentValue),f._currentValue=E,j!==null)if(sr(j.value,E)){if(j.children===x.children&&!gn.current){s=Vr(o,s,l);break e}}else for(j=s.child,j!==null&&(j.return=s);j!==null;){var D=j.dependencies;if(D!==null){E=j.child;for(var L=D.firstContext;L!==null;){if(L.context===f){if(j.tag===1){L=Hr(-1,l&-l),L.tag=2;var Z=j.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?L.next=L:(L.next=ie.next,ie.next=L),Z.pending=L}}j.lanes|=l,L=j.alternate,L!==null&&(L.lanes|=l),lp(j.return,l,s),D.lanes|=l;break}L=L.next}}else if(j.tag===10)E=j.type===s.type?null:j.child;else if(j.tag===18){if(E=j.return,E===null)throw Error(n(341));E.lanes|=l,D=E.alternate,D!==null&&(D.lanes|=l),lp(E,l,s),E=j.sibling}else E=j.child;if(E!==null)E.return=j;else for(E=j;E!==null;){if(E===s){E=null;break}if(j=E.sibling,j!==null){j.return=E.return,E=j;break}E=E.return}j=E}un(o,s,x.children,l),s=s.child}return s;case 9:return x=s.type,f=s.pendingProps.children,ua(s,l),x=Bn(x),f=f(x),s.flags|=1,un(o,s,f,l),s.child;case 14:return f=s.type,x=ir(f,s.pendingProps),x=ir(f.type,x),ub(o,s,f,x,l);case 15:return db(o,s,s.type,s.pendingProps,l);case 17:return f=s.type,x=s.pendingProps,x=s.elementType===f?x:ir(f,x),eu(o,s),s.tag=1,xn(f)?(o=!0,Ic(s)):o=!1,ua(s,l),nb(s,f,x),Cp(s,f,x,l),Rp(null,s,f,!0,o,l);case 19:return vb(o,s,l);case 22:return fb(o,s,l)}throw Error(n(156,s.tag))};function Ub(o,s){return ti(o,s)}function KD(o,s,l,f){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(o,s,l,f){return new KD(o,s,l,f)}function Gp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function XD(o){if(typeof o=="function")return Gp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===de)return 11;if(o===ke)return 14}return 2}function Co(o,s){var l=o.alternate;return l===null?(l=Vn(o.tag,s,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=s,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&14680064,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,s=o.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l}function du(o,s,l,f,x,j){var E=2;if(f=o,typeof o=="function")Gp(o)&&(E=1);else if(typeof o=="string")E=5;else e:switch(o){case O:return ls(l.children,x,j,s);case P:E=8,x|=8;break;case U:return o=Vn(12,l,s,x|2),o.elementType=U,o.lanes=j,o;case Ne:return o=Vn(13,l,s,x),o.elementType=Ne,o.lanes=j,o;case re:return o=Vn(19,l,s,x),o.elementType=re,o.lanes=j,o;case ne:return fu(l,x,j,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case V:E=10;break e;case oe:E=9;break e;case de:E=11;break e;case ke:E=14;break e;case ae:E=16,f=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return s=Vn(E,l,s,x),s.elementType=o,s.type=f,s.lanes=j,s}function ls(o,s,l,f){return o=Vn(7,o,f,s),o.lanes=l,o}function fu(o,s,l,f){return o=Vn(22,o,f,s),o.elementType=ne,o.lanes=l,o.stateNode={isHidden:!1},o}function Kp(o,s,l){return o=Vn(6,o,null,s),o.lanes=l,o}function Xp(o,s,l){return s=Vn(4,o.children!==null?o.children:[],o.key,s),s.lanes=l,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function QD(o,s,l,f,x){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yo(0),this.expirationTimes=Yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yo(0),this.identifierPrefix=f,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Qp(o,s,l,f,x,j,E,D,L){return o=new QD(o,s,l,D,L),s===1?(s=1,j===!0&&(s|=8)):s=0,j=Vn(3,null,null,s),o.current=j,j.stateNode=o,j.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(j),o}function JD(o,s,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:f==null?null:""+f,children:o,containerInfo:s,implementation:l}}function Hb(o){if(!o)return go;o=o._reactInternals;e:{if(er(o)!==o||o.tag!==1)throw Error(n(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(xn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(o.tag===1){var l=o.type;if(xn(l))return yv(o,l,s)}return s}function Vb(o,s,l,f,x,j,E,D,L){return o=Qp(l,f,!0,o,x,j,E,D,L),o.context=Hb(null),l=o.current,f=dn(),x=No(l),j=Hr(f,x),j.callback=s??null,vo(l,j,x),o.current.lanes=x,tr(o,x,f),bn(o,f),o}function pu(o,s,l,f){var x=s.current,j=dn(),E=No(x);return l=Hb(l),s.context===null?s.context=l:s.pendingContext=l,s=Hr(j,E),s.payload={element:o},f=f===void 0?null:f,f!==null&&(s.callback=f),o=vo(x,s,E),o!==null&&(ur(o,x,E,j),Hc(o,x,E)),E}function mu(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Zb(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<s?l:s}}function Jp(o,s){Zb(o,s),(o=o.alternate)&&Zb(o,s)}function e$(){return null}var Yb=typeof reportError=="function"?reportError:function(o){console.error(o)};function em(o){this._internalRoot=o}hu.prototype.render=em.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(n(409));pu(o,s,null,null)},hu.prototype.unmount=em.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;ss(function(){pu(null,o,null,null)}),s[Ar]=null}};function hu(o){this._internalRoot=o}hu.prototype.unstable_scheduleHydration=function(o){if(o){var s=bc();o={blockedOn:null,target:o,priority:s};for(var l=0;l<Cr.length&&s!==0&&s<Cr[l].priority;l++);Cr.splice(l,0,o),l===0&&Re(o)}};function tm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function gu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function qb(){}function t$(o,s,l,f,x){if(x){if(typeof f=="function"){var j=f;f=function(){var Z=mu(E);j.call(Z)}}var E=Vb(s,f,o,0,null,!1,!1,"",qb);return o._reactRootContainer=E,o[Ar]=E.current,vi(o.nodeType===8?o.parentNode:o),ss(),E}for(;x=o.lastChild;)o.removeChild(x);if(typeof f=="function"){var D=f;f=function(){var Z=mu(L);D.call(Z)}}var L=Qp(o,0,!1,null,null,!1,!1,"",qb);return o._reactRootContainer=L,o[Ar]=L.current,vi(o.nodeType===8?o.parentNode:o),ss(function(){pu(s,L,l,f)}),L}function xu(o,s,l,f,x){var j=l._reactRootContainer;if(j){var E=j;if(typeof x=="function"){var D=x;x=function(){var L=mu(E);D.call(L)}}pu(s,E,o,x)}else E=t$(l,s,o,x,f);return mu(E)}Nr=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var l=lo(s.pendingLanes);l!==0&&(co(s,l|1),bn(s,st()),(He&6)===0&&(ha=st()+500,xo()))}break;case 13:ss(function(){var f=Ur(o,1);if(f!==null){var x=dn();ur(f,o,1,x)}}),Jp(o,1)}},nr=function(o){if(o.tag===13){var s=Ur(o,134217728);if(s!==null){var l=dn();ur(s,o,134217728,l)}Jp(o,134217728)}},li=function(o){if(o.tag===13){var s=No(o),l=Ur(o,s);if(l!==null){var f=dn();ur(l,o,s,f)}Jp(o,s)}},bc=function(){return Ye},ci=function(o,s){var l=Ye;try{return Ye=o,s()}finally{Ye=l}},qe=function(o,s,l){switch(s){case"input":if(Jt(o,l),s=l.name,l.type==="radio"&&s!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==o&&f.form===o.form){var x=Pc(f);if(!x)throw Error(n(90));Ze(f),Jt(f,x)}}}break;case"textarea":We(o,l);break;case"select":s=l.value,s!=null&&he(o,!!l.multiple,s,!1)}},pt=Zp,Rt=ss;var n$={usingClientEntryPoint:!1,Events:[ji,na,Pc,jt,xt,Zp]},Ii={findFiberByHostInstance:Xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r$={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Us(o),o===null?null:o.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance||e$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{En=yu.inject(r$),Be=yu}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n$,fn.createPortal=function(o,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tm(s))throw Error(n(200));return JD(o,s,null,l)},fn.createRoot=function(o,s){if(!tm(o))throw Error(n(299));var l=!1,f="",x=Yb;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=Qp(o,1,!1,null,null,l,!1,f,x),o[Ar]=s.current,vi(o.nodeType===8?o.parentNode:o),new em(s)},fn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Us(s),o=o===null?null:o.stateNode,o},fn.flushSync=function(o){return ss(o)},fn.hydrate=function(o,s,l){if(!gu(s))throw Error(n(200));return xu(null,o,s,!0,l)},fn.hydrateRoot=function(o,s,l){if(!tm(o))throw Error(n(405));var f=l!=null&&l.hydratedSources||null,x=!1,j="",E=Yb;if(l!=null&&(l.unstable_strictMode===!0&&(x=!0),l.identifierPrefix!==void 0&&(j=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Vb(s,null,o,1,l??null,x,!1,j,E),o[Ar]=s.current,vi(o),f)for(o=0;o<f.length;o++)l=f[o],x=l._getVersion,x=x(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,x]:s.mutableSourceEagerHydrationData.push(l,x);return new hu(s)},fn.render=function(o,s,l){if(!gu(s))throw Error(n(200));return xu(null,o,s,!1,l)},fn.unmountComponentAtNode=function(o){if(!gu(o))throw Error(n(40));return o._reactRootContainer?(ss(function(){xu(null,null,o,!1,function(){o._reactRootContainer=null,o[Ar]=null})}),!0):!1},fn.unstable_batchedUpdates=Zp,fn.unstable_renderSubtreeIntoContainer=function(o,s,l,f){if(!gu(l))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return xu(o,s,l,!1,f)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var cm;function um(){if(cm)return ju.exports;cm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ju.exports=e1(),ju.exports}var dm;function t1(){if(dm)return Li;dm=1;var e=um();return Li.createRoot=e.createRoot,Li.hydrateRoot=e.hydrateRoot,Li}var n1=t1();const r1=Dn(n1),i$="modulepreload",l$=function(e){return"/"+e},c$={},dr=function(t,n,a){let i=Promise.resolve();function c(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&c(d.reason);return t().catch(c)})};var fm="popstate";function o1(e={}){function t(i,c){let{pathname:u="/",search:d="",hash:m=""}=_o(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Cu("",{pathname:u,search:d,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(i,c){let u=i.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let m=i.location.href,h=m.indexOf("#");d=h===-1?m:m.slice(0,h)}return d+"#"+(typeof c=="string"?c:va(c))}function a(i,c){wn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return a1(t,n,a,e)}function lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function s1(){return Math.random().toString(36).substring(2,10)}function pm(e,t){return{usr:e.state,key:e.key,idx:t}}function Cu(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_o(t):t,state:n,key:t&&t.key||a||s1()}}function va({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _o(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function a1(e,t,n,a={}){let{window:i=document.defaultView,v5Compat:c=!1}=a,u=i.history,d="POP",m=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function b(){d="POP";let k=g(),_=k==null?null:k-h;h=k,m&&m({action:d,location:N.location,delta:_})}function y(k,_){d="PUSH";let S=Cu(N.location,k,_);n&&n(S,k),h=g()+1;let w=pm(S,h),R=N.createHref(S);try{u.pushState(w,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(R)}c&&m&&m({action:d,location:N.location,delta:1})}function v(k,_){d="REPLACE";let S=Cu(N.location,k,_);n&&n(S,k),h=g();let w=pm(S,h),R=N.createHref(S);u.replaceState(w,"",R),c&&m&&m({action:d,location:N.location,delta:0})}function C(k){return i1(k)}let N={get action(){return d},get location(){return e(i,u)},listen(k){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(fm,b),m=k,()=>{i.removeEventListener(fm,b),m=null}},createHref(k){return t(i,k)},createURL:C,encodeLocation(k){let _=C(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:v,go(k){return u.go(k)}};return N}function i1(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:va(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function mm(e,t,n="/"){return l1(e,t,n,!1)}function l1(e,t,n,a){let i=typeof t=="string"?_o(t):t,c=zr(i.pathname||"/",n);if(c==null)return null;let u=hm(e);c1(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let h=b1(c);d=y1(u[m],h,a)}return d}function hm(e,t=[],n=[],a="",i=!1){let c=(u,d,m=i,h)=>{let g={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&m)return;lt(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let b=Tr([a,g.relativePath]),y=n.concat(g);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),hm(u.children,t,y,b,m)),!(u.path==null&&!u.index)&&t.push({path:b,score:g1(b,u.index),routesMeta:y})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))c(u,d);else for(let m of gm(u.path))c(u,d,!0,m)}),t}function gm(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,i=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return i?[c,""]:[c];let u=gm(a.join("/")),d=[];return d.push(...u.map(m=>m===""?c:[c,m].join("/"))),i&&d.push(...u),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function c1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:x1(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var u1=/^:[\w-]+$/,d1=3,f1=2,p1=1,m1=10,h1=-2,xm=e=>e==="*";function g1(e,t){let n=e.split("/"),a=n.length;return n.some(xm)&&(a+=h1),t&&(a+=f1),n.filter(i=>!xm(i)).reduce((i,c)=>i+(u1.test(c)?d1:c===""?p1:m1),a)}function x1(e,t){return e.length===t.length&&e.slice(0,-1).every((a,i)=>a===t[i])?e[e.length-1]-t[t.length-1]:0}function y1(e,t,n=!1){let{routesMeta:a}=e,i={},c="/",u=[];for(let d=0;d<a.length;++d){let m=a[d],h=d===a.length-1,g=c==="/"?t:t.slice(c.length)||"/",b=Oi({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},g),y=m.route;if(!b&&h&&n&&!a[a.length-1].route.index&&(b=Oi({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!b)return null;Object.assign(i,b.params),u.push({params:i,pathname:Tr([c,b.pathname]),pathnameBase:C1(Tr([c,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(c=Tr([c,b.pathnameBase]))}return u}function Oi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=v1(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let c=i[0],u=c.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((h,{paramName:g,isOptional:b},y)=>{if(g==="*"){let C=d[y]||"";u=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const v=d[y];return b&&!v?h[g]=void 0:h[g]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:c,pathnameBase:u,pattern:e}}function v1(e,t=!1,n=!0){wn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function b1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}var w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j1=e=>w1.test(e);function N1(e,t="/"){let{pathname:n,search:a="",hash:i=""}=typeof e=="string"?_o(e):e,c;if(n)if(j1(n))c=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?c=ym(n.substring(1),"/"):c=ym(n,t)}else c=t;return{pathname:c,search:E1(a),hash:S1(i)}}function ym(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Eu(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Su(e){let t=k1(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function _u(e,t,n,a=!1){let i;typeof e=="string"?i=_o(e):(i={...e},lt(!i.pathname||!i.pathname.includes("?"),Eu("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),Eu("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),Eu("#","search","hash",i)));let c=e===""||i.pathname==="",u=c?"/":i.pathname,d;if(u==null)d=n;else{let b=t.length-1;if(!a&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),b-=1;i.pathname=y.join("/")}d=b>=0?t[b]:"/"}let m=N1(i,d),h=u&&u!=="/"&&u.endsWith("/"),g=(c||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(h||g)&&(m.pathname+="/"),m}var Tr=e=>e.join("/").replace(/\/\/+/g,"/"),C1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,S1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vm=["POST","PUT","PATCH","DELETE"];new Set(vm);var R1=["GET",...vm];new Set(R1);var cs=p.createContext(null);cs.displayName="DataRouter";var Ai=p.createContext(null);Ai.displayName="DataRouterState",p.createContext(!1);var bm=p.createContext({isTransitioning:!1});bm.displayName="ViewTransition";var z1=p.createContext(new Map);z1.displayName="Fetchers";var T1=p.createContext(null);T1.displayName="Await";var Zn=p.createContext(null);Zn.displayName="Navigation";var ba=p.createContext(null);ba.displayName="Location";var Yn=p.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var Ru=p.createContext(null);Ru.displayName="RouteError";function D1(e,{relative:t}={}){lt(us(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=p.useContext(Zn),{hash:i,pathname:c,search:u}=wa(e,{relative:t}),d=c;return n!=="/"&&(d=c==="/"?n:Tr([n,c])),a.createHref({pathname:d,search:u,hash:i})}function us(){return p.useContext(ba)!=null}function qr(){return lt(us(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(ba).location}var wm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jm(e){p.useContext(Zn).static||p.useLayoutEffect(e)}function Nm(){let{isDataRoute:e}=p.useContext(Yn);return e?Y1():$1()}function $1(){lt(us(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(cs),{basename:t,navigator:n}=p.useContext(Zn),{matches:a}=p.useContext(Yn),{pathname:i}=qr(),c=JSON.stringify(Su(a)),u=p.useRef(!1);return jm(()=>{u.current=!0}),p.useCallback((m,h={})=>{if(wn(u.current,wm),!u.current)return;if(typeof m=="number"){n.go(m);return}let g=_u(m,JSON.parse(c),i,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Tr([t,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[t,n,c,i,e])}var P1=p.createContext(null);function M1(e){let t=p.useContext(Yn).outlet;return p.useMemo(()=>t&&p.createElement(P1.Provider,{value:e},t),[t,e])}function wa(e,{relative:t}={}){let{matches:n}=p.useContext(Yn),{pathname:a}=qr(),i=JSON.stringify(Su(n));return p.useMemo(()=>_u(e,JSON.parse(i),a,t==="path"),[e,i,a,t])}function I1(e,t){return km(e,t)}function km(e,t,n,a,i){lt(us(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=p.useContext(Zn),{matches:u}=p.useContext(Yn),d=u[u.length-1],m=d?d.params:{},h=d?d.pathname:"/",g=d?d.pathnameBase:"/",b=d&&d.route;{let S=b&&b.path||"";Em(h,!b||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=qr(),v;if(t){let S=typeof t=="string"?_o(t):t;lt(g==="/"||S.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${S.pathname}" was given in the \`location\` prop.`),v=S}else v=y;let C=v.pathname||"/",N=C;if(g!=="/"){let S=g.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(S.length).join("/")}let k=mm(e,{pathname:N});wn(b||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),wn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=W1(k&&k.map(S=>Object.assign({},S,{params:Object.assign({},m,S.params),pathname:Tr([g,c.encodeLocation?c.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?g:Tr([g,c.encodeLocation?c.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),u,n,a,i);return t&&_?p.createElement(ba.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function L1(){let e=Z1(),t=_1(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:c},"ErrorBoundary")," or"," ",p.createElement("code",{style:c},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:i},n):null,u)}var O1=p.createElement(L1,null),A1=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?p.createElement(Yn.Provider,{value:this.props.routeContext},p.createElement(Ru.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F1({routeContext:e,match:t,children:n}){let a=p.useContext(cs);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Yn.Provider,{value:e},n)}function W1(e,t=[],n=null,a=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,u=n?.errors;if(u!=null){let g=c.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let d=!1,m=-1;if(n)for(let g=0;g<c.length;g++){let b=c[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=g),b.route.id){let{loaderData:y,errors:v}=n,C=b.route.loader&&!y.hasOwnProperty(b.route.id)&&(!v||v[b.route.id]===void 0);if(b.route.lazy||C){d=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let h=n&&a?(g,b)=>{a(g,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:b})}:void 0;return c.reduceRight((g,b,y)=>{let v,C=!1,N=null,k=null;n&&(v=u&&b.route.id?u[b.route.id]:void 0,N=b.route.errorElement||O1,d&&(m<0&&y===0?(Em("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):m===y&&(C=!0,k=b.route.hydrateFallbackElement||null)));let _=t.concat(c.slice(0,y+1)),S=()=>{let w;return v?w=N:C?w=k:b.route.Component?w=p.createElement(b.route.Component,null):b.route.element?w=b.route.element:w=g,p.createElement(F1,{match:b,routeContext:{outlet:g,matches:_,isDataRoute:n!=null},children:w})};return n&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?p.createElement(A1,{location:n.location,revalidation:n.revalidation,component:N,error:v,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):S()},null)}function zu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B1(e){let t=p.useContext(cs);return lt(t,zu(e)),t}function U1(e){let t=p.useContext(Ai);return lt(t,zu(e)),t}function H1(e){let t=p.useContext(Yn);return lt(t,zu(e)),t}function Tu(e){let t=H1(e),n=t.matches[t.matches.length-1];return lt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function V1(){return Tu("useRouteId")}function Z1(){let e=p.useContext(Ru),t=U1("useRouteError"),n=Tu("useRouteError");return e!==void 0?e:t.errors?.[n]}function Y1(){let{router:e}=B1("useNavigate"),t=Tu("useNavigate"),n=p.useRef(!1);return jm(()=>{n.current=!0}),p.useCallback(async(i,c={})=>{wn(n.current,wm),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...c}))},[e,t])}var Cm={};function Em(e,t,n){!t&&!Cm[e]&&(Cm[e]=!0,wn(!1,n))}p.memo(q1);function q1({routes:e,future:t,state:n,unstable_onError:a}){return km(e,void 0,n,a,t)}function Sm({to:e,replace:t,state:n,relative:a}){lt(us(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=p.useContext(Zn);wn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=p.useContext(Yn),{pathname:u}=qr(),d=Nm(),m=_u(e,Su(c),u,a==="path"),h=JSON.stringify(m);return p.useEffect(()=>{d(JSON.parse(h),{replace:t,state:n,relative:a})},[d,h,a,t,n]),null}function G1(e){return M1(e.context)}function fr(e){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K1({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:i,static:c=!1}){lt(!us(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:u,navigator:i,static:c,future:{}}),[u,i,c]);typeof n=="string"&&(n=_o(n));let{pathname:m="/",search:h="",hash:g="",state:b=null,key:y="default"}=n,v=p.useMemo(()=>{let C=zr(m,u);return C==null?null:{location:{pathname:C,search:h,hash:g,state:b,key:y},navigationType:a}},[u,m,h,g,b,y,a]);return wn(v!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:p.createElement(Zn.Provider,{value:d},p.createElement(ba.Provider,{children:t,value:v}))}function Du({children:e,location:t}){return I1($u(e),t)}function $u(e,t=[]){let n=[];return p.Children.forEach(e,(a,i)=>{if(!p.isValidElement(a))return;let c=[...t,i];if(a.type===p.Fragment){n.push.apply(n,$u(a.props.children,c));return}lt(a.type===fr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=$u(a.props.children,c)),n.push(u)}),n}var Fi="get",Wi="application/x-www-form-urlencoded";function Bi(e){return e!=null&&typeof e.tagName=="string"}function X1(e){return Bi(e)&&e.tagName.toLowerCase()==="button"}function Q1(e){return Bi(e)&&e.tagName.toLowerCase()==="form"}function J1(e){return Bi(e)&&e.tagName.toLowerCase()==="input"}function ew(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tw(e,t){return e.button===0&&(!t||t==="_self")&&!ew(e)}var Ui=null;function nw(){if(Ui===null)try{new FormData(document.createElement("form"),0),Ui=!1}catch{Ui=!0}return Ui}var rw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pu(e){return e!=null&&!rw.has(e)?(wn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wi}"`),null):e}function ow(e,t){let n,a,i,c,u;if(Q1(e)){let d=e.getAttribute("action");a=d?zr(d,t):null,n=e.getAttribute("method")||Fi,i=Pu(e.getAttribute("enctype"))||Wi,c=new FormData(e)}else if(X1(e)||J1(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(a=m?zr(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Fi,i=Pu(e.getAttribute("formenctype"))||Pu(d.getAttribute("enctype"))||Wi,c=new FormData(d,e),!nw()){let{name:h,type:g,value:b}=e;if(g==="image"){let y=h?`${h}.`:"";c.append(`${y}x`,"0"),c.append(`${y}y`,"0")}else h&&c.append(h,b)}}else{if(Bi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fi,a=null,i=Wi,u=e}return c&&i==="text/plain"&&(u=c,c=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sw(e,t,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:t&&zr(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function aw(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function lw(e,t,n){let a=await Promise.all(e.map(async i=>{let c=t.routes[i.route.id];if(c){let u=await aw(c,n);return u.links?u.links():[]}return[]}));return fw(a.flat(1).filter(iw).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _m(e,t,n,a,i,c){let u=(m,h)=>n[h]?m.route.id!==n[h].route.id:!0,d=(m,h)=>n[h].pathname!==m.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==m.params["*"];return c==="assets"?t.filter((m,h)=>u(m,h)||d(m,h)):c==="data"?t.filter((m,h)=>{let g=a.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(u(m,h)||d(m,h))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function cw(e,t,{includeHydrateFallback:n}={}){return uw(e.map(a=>{let i=t.routes[a.route.id];if(!i)return[];let c=[i.module];return i.clientActionModule&&(c=c.concat(i.clientActionModule)),i.clientLoaderModule&&(c=c.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(c=c.concat(i.hydrateFallbackModule)),i.imports&&(c=c.concat(i.imports)),c}).flat(1))}function uw(e){return[...new Set(e)]}function dw(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function fw(e,t){let n=new Set;return new Set(t),e.reduce((a,i)=>{let c=JSON.stringify(dw(i));return n.has(c)||(n.add(c),a.push({key:c,link:i})),a},[])}function Rm(){let e=p.useContext(cs);return Mu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pw(){let e=p.useContext(Ai);return Mu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Iu=p.createContext(void 0);Iu.displayName="FrameworkContext";function zm(){let e=p.useContext(Iu);return Mu(e,"You must render this element inside a <HydratedRouter> element"),e}function mw(e,t){let n=p.useContext(Iu),[a,i]=p.useState(!1),[c,u]=p.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:h,onMouseLeave:g,onTouchStart:b}=t,y=p.useRef(null);p.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let N=_=>{_.forEach(S=>{u(S.isIntersecting)})},k=new IntersectionObserver(N,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[e]),p.useEffect(()=>{if(a){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[a]);let v=()=>{i(!0)},C=()=>{i(!1),u(!1)};return n?e!=="intent"?[c,y,{}]:[c,y,{onFocus:ja(d,v),onBlur:ja(m,C),onMouseEnter:ja(h,v),onMouseLeave:ja(g,C),onTouchStart:ja(b,v)}]:[!1,y,{}]}function ja(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function hw({page:e,...t}){let{router:n}=Rm(),a=p.useMemo(()=>mm(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?p.createElement(xw,{page:e,matches:a,...t}):null}function gw(e){let{manifest:t,routeModules:n}=zm(),[a,i]=p.useState([]);return p.useEffect(()=>{let c=!1;return lw(e,t,n).then(u=>{c||i(u)}),()=>{c=!0}},[e,t,n]),a}function xw({page:e,matches:t,...n}){let a=qr(),{manifest:i,routeModules:c}=zm(),{basename:u}=Rm(),{loaderData:d,matches:m}=pw(),h=p.useMemo(()=>_m(e,t,m,i,a,"data"),[e,t,m,i,a]),g=p.useMemo(()=>_m(e,t,m,i,a,"assets"),[e,t,m,i,a]),b=p.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let C=new Set,N=!1;if(t.forEach(_=>{let S=i.routes[_.route.id];!S||!S.hasLoader||(!h.some(w=>w.route.id===_.route.id)&&_.route.id in d&&c[_.route.id]?.shouldRevalidate||S.hasClientLoader?N=!0:C.add(_.route.id))}),C.size===0)return[];let k=sw(e,u,"data");return N&&C.size>0&&k.searchParams.set("_routes",t.filter(_=>C.has(_.route.id)).map(_=>_.route.id).join(",")),[k.pathname+k.search]},[u,d,a,i,h,t,e,c]),y=p.useMemo(()=>cw(g,i),[g,i]),v=gw(g);return p.createElement(p.Fragment,null,b.map(C=>p.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),y.map(C=>p.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),v.map(({key:C,link:N})=>p.createElement("link",{key:C,nonce:n.nonce,...N})))}function yw(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Tm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tm&&(window.__reactRouterVersion="7.9.6")}catch{}function Lu({basename:e,children:t,window:n}){let a=p.useRef();a.current==null&&(a.current=o1({window:n,v5Compat:!0}));let i=a.current,[c,u]=p.useState({action:i.action,location:i.location}),d=p.useCallback(m=>{p.startTransition(()=>u(m))},[u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.createElement(K1,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:i})}var Dm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$m=p.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:i,reloadDocument:c,replace:u,state:d,target:m,to:h,preventScrollReset:g,viewTransition:b,...y},v){let{basename:C}=p.useContext(Zn),N=typeof h=="string"&&Dm.test(h),k,_=!1;if(typeof h=="string"&&N&&(k=h,Tm))try{let U=new URL(window.location.href),V=h.startsWith("//")?new URL(U.protocol+h):new URL(h),oe=zr(V.pathname,C);V.origin===U.origin&&oe!=null?h=oe+V.search+V.hash:_=!0}catch{wn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=D1(h,{relative:i}),[w,R,M]=mw(a,y),I=ww(h,{replace:u,state:d,target:m,preventScrollReset:g,relative:i,viewTransition:b});function O(U){t&&t(U),U.defaultPrevented||I(U)}let P=p.createElement("a",{...y,...M,href:k||S,onClick:_||c?t:O,ref:yw(v,R),target:m,"data-discover":!N&&n==="render"?"true":void 0});return w&&!N?p.createElement(p.Fragment,null,P,p.createElement(hw,{page:S})):P});$m.displayName="Link";var Na=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:i=!1,style:c,to:u,viewTransition:d,children:m,...h},g){let b=wa(u,{relative:h.relative}),y=qr(),v=p.useContext(Ai),{navigator:C,basename:N}=p.useContext(Zn),k=v!=null&&Ew(b)&&d===!0,_=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,S=y.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(S=S.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&N&&(w=zr(w,N)||w);const R=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=S===_||!i&&S.startsWith(_)&&S.charAt(R)==="/",I=w!=null&&(w===_||!i&&w.startsWith(_)&&w.charAt(_.length)==="/"),O={isActive:M,isPending:I,isTransitioning:k},P=M?t:void 0,U;typeof a=="function"?U=a(O):U=[a,M?"active":null,I?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(O):c;return p.createElement($m,{...h,"aria-current":P,className:U,ref:g,style:V,to:u,viewTransition:d},typeof m=="function"?m(O):m)});Na.displayName="NavLink";var vw=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:i,state:c,method:u=Fi,action:d,onSubmit:m,relative:h,preventScrollReset:g,viewTransition:b,...y},v)=>{let C=kw(),N=Cw(d,{relative:h}),k=u.toLowerCase()==="get"?"get":"post",_=typeof d=="string"&&Dm.test(d),S=w=>{if(m&&m(w),w.defaultPrevented)return;w.preventDefault();let R=w.nativeEvent.submitter,M=R?.getAttribute("formmethod")||u;C(R||w.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:i,state:c,relative:h,preventScrollReset:g,viewTransition:b})};return p.createElement("form",{ref:v,method:k,action:N,onSubmit:a?m:S,...y,"data-discover":!_&&e==="render"?"true":void 0})});vw.displayName="Form";function bw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pm(e){let t=p.useContext(cs);return lt(t,bw(e)),t}function ww(e,{target:t,replace:n,state:a,preventScrollReset:i,relative:c,viewTransition:u}={}){let d=Nm(),m=qr(),h=wa(e,{relative:c});return p.useCallback(g=>{if(tw(g,t)){g.preventDefault();let b=n!==void 0?n:va(m)===va(h);d(e,{replace:b,state:a,preventScrollReset:i,relative:c,viewTransition:u})}},[m,d,h,n,a,t,e,i,c,u])}var jw=0,Nw=()=>`__${String(++jw)}__`;function kw(){let{router:e}=Pm("useSubmit"),{basename:t}=p.useContext(Zn),n=V1();return p.useCallback(async(a,i={})=>{let{action:c,method:u,encType:d,formData:m,body:h}=ow(a,t);if(i.navigate===!1){let g=i.fetcherKey||Nw();await e.fetch(g,n,i.action||c,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||c,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Cw(e,{relative:t}={}){let{basename:n}=p.useContext(Zn),a=p.useContext(Yn);lt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),c={...wa(e||".",{relative:t})},u=qr();if(e==null){c.search=u.search;let d=new URLSearchParams(c.search),m=d.getAll("index");if(m.some(g=>g==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let g=d.toString();c.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Tr([n,c.pathname])),va(c)}function Ew(e,{relative:t}={}){let n=p.useContext(bm);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Pm("useViewTransitionState"),i=wa(e,{relative:t});if(!n.isTransitioning)return!1;let c=zr(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=zr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Oi(i.pathname,u)!=null||Oi(i.pathname,c)!=null}var Ro=um();const Sw=Dn(Ro);function Mm(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Mm(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function pe(){for(var e,t,n=0,a="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Mm(e))&&(a&&(a+=" "),a+=t);return a}const _w=(e,t)=>{const n=new Array(e.length+t.length);for(let a=0;a<e.length;a++)n[a]=e[a];for(let a=0;a<t.length;a++)n[e.length+a]=t[a];return n},Rw=(e,t)=>({classGroupId:e,validator:t}),Im=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Hi="-",Lm=[],zw="arbitrary..",Tw=e=>{const t=$w(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Dw(u);const d=u.split(Hi),m=d[0]===""&&d.length>1?1:0;return Om(d,m,t)},getConflictingClassGroupIds:(u,d)=>{if(d){const m=a[u],h=n[u];return m?h?_w(h,m):m:h||Lm}return n[u]||Lm}}},Om=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],c=n.nextPart.get(i);if(c){const h=Om(e,t+1,c);if(h)return h}const u=n.validators;if(u===null)return;const d=t===0?e.join(Hi):e.slice(t).join(Hi),m=u.length;for(let h=0;h<m;h++){const g=u[h];if(g.validator(d))return g.classGroupId}},Dw=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),a=t.slice(0,n);return a?zw+a:void 0})(),$w=e=>{const{theme:t,classGroups:n}=e;return Pw(n,t)},Pw=(e,t)=>{const n=Im();for(const a in e){const i=e[a];Ou(i,n,a,t)}return n},Ou=(e,t,n,a)=>{const i=e.length;for(let c=0;c<i;c++){const u=e[c];Mw(u,t,n,a)}},Mw=(e,t,n,a)=>{if(typeof e=="string"){Iw(e,t,n);return}if(typeof e=="function"){Lw(e,t,n,a);return}Ow(e,t,n,a)},Iw=(e,t,n)=>{const a=e===""?t:Am(t,e);a.classGroupId=n},Lw=(e,t,n,a)=>{if(Aw(e)){Ou(e(a),t,n,a);return}t.validators===null&&(t.validators=[]),t.validators.push(Rw(n,e))},Ow=(e,t,n,a)=>{const i=Object.entries(e),c=i.length;for(let u=0;u<c;u++){const[d,m]=i[u];Ou(m,Am(t,d),n,a)}},Am=(e,t)=>{let n=e;const a=t.split(Hi),i=a.length;for(let c=0;c<i;c++){const u=a[c];let d=n.nextPart.get(u);d||(d=Im(),n.nextPart.set(u,d)),n=d}return n},Aw=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Fw=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),a=Object.create(null);const i=(c,u)=>{n[c]=u,t++,t>e&&(t=0,a=n,n=Object.create(null))};return{get(c){let u=n[c];if(u!==void 0)return u;if((u=a[c])!==void 0)return i(c,u),u},set(c,u){c in n?n[c]=u:i(c,u)}}},Au="!",Fm=":",Ww=[],Wm=(e,t,n,a,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:a,isExternal:i}),Bw=e=>{const{prefix:t,experimentalParseClassName:n}=e;let a=i=>{const c=[];let u=0,d=0,m=0,h;const g=i.length;for(let N=0;N<g;N++){const k=i[N];if(u===0&&d===0){if(k===Fm){c.push(i.slice(m,N)),m=N+1;continue}if(k==="/"){h=N;continue}}k==="["?u++:k==="]"?u--:k==="("?d++:k===")"&&d--}const b=c.length===0?i:i.slice(m);let y=b,v=!1;b.endsWith(Au)?(y=b.slice(0,-1),v=!0):b.startsWith(Au)&&(y=b.slice(1),v=!0);const C=h&&h>m?h-m:void 0;return Wm(c,v,y,C)};if(t){const i=t+Fm,c=a;a=u=>u.startsWith(i)?c(u.slice(i.length)):Wm(Ww,!1,u,void 0,!0)}if(n){const i=a;a=c=>n({className:c,parseClassName:i})}return a},Uw=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,a)=>{t.set(n,1e6+a)}),n=>{const a=[];let i=[];for(let c=0;c<n.length;c++){const u=n[c],d=u[0]==="[",m=t.has(u);d||m?(i.length>0&&(i.sort(),a.push(...i),i=[]),a.push(u)):i.push(u)}return i.length>0&&(i.sort(),a.push(...i)),a}},Hw=e=>({cache:Fw(e.cacheSize),parseClassName:Bw(e),sortModifiers:Uw(e),...Tw(e)}),Vw=/\s+/,Zw=(e,t)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:i,sortModifiers:c}=t,u=[],d=e.trim().split(Vw);let m="";for(let h=d.length-1;h>=0;h-=1){const g=d[h],{isExternal:b,modifiers:y,hasImportantModifier:v,baseClassName:C,maybePostfixModifierPosition:N}=n(g);if(b){m=g+(m.length>0?" "+m:m);continue}let k=!!N,_=a(k?C.substring(0,N):C);if(!_){if(!k){m=g+(m.length>0?" "+m:m);continue}if(_=a(C),!_){m=g+(m.length>0?" "+m:m);continue}k=!1}const S=y.length===0?"":y.length===1?y[0]:c(y).join(":"),w=v?S+Au:S,R=w+_;if(u.indexOf(R)>-1)continue;u.push(R);const M=i(_,k);for(let I=0;I<M.length;++I){const O=M[I];u.push(w+O)}m=g+(m.length>0?" "+m:m)}return m},Yw=(...e)=>{let t=0,n,a,i="";for(;t<e.length;)(n=e[t++])&&(a=Bm(n))&&(i&&(i+=" "),i+=a);return i},Bm=e=>{if(typeof e=="string")return e;let t,n="";for(let a=0;a<e.length;a++)e[a]&&(t=Bm(e[a]))&&(n&&(n+=" "),n+=t);return n},qw=(e,...t)=>{let n,a,i,c;const u=m=>{const h=t.reduce((g,b)=>b(g),e());return n=Hw(h),a=n.cache.get,i=n.cache.set,c=d,d(m)},d=m=>{const h=a(m);if(h)return h;const g=Zw(m,n);return i(m,g),g};return c=u,(...m)=>c(Yw(...m))},Gw=[],Tt=e=>{const t=n=>n[e]||Gw;return t.isThemeGetter=!0,t},Um=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Hm=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Kw=/^\d+\/\d+$/,Xw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ej=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ds=e=>Kw.test(e),Le=e=>!!e&&!Number.isNaN(Number(e)),Gr=e=>!!e&&Number.isInteger(Number(e)),Fu=e=>e.endsWith("%")&&Le(e.slice(0,-1)),Dr=e=>Xw.test(e),nj=()=>!0,rj=e=>Qw.test(e)&&!Jw.test(e),Vm=()=>!1,oj=e=>ej.test(e),sj=e=>tj.test(e),aj=e=>!we(e)&&!je(e),ij=e=>fs(e,Km,Vm),we=e=>Um.test(e),zo=e=>fs(e,Xm,rj),Wu=e=>fs(e,fj,Le),Zm=e=>fs(e,qm,Vm),lj=e=>fs(e,Gm,sj),Vi=e=>fs(e,Qm,oj),je=e=>Hm.test(e),ka=e=>ps(e,Xm),cj=e=>ps(e,pj),Ym=e=>ps(e,qm),uj=e=>ps(e,Km),dj=e=>ps(e,Gm),Zi=e=>ps(e,Qm,!0),fs=(e,t,n)=>{const a=Um.exec(e);return a?a[1]?t(a[1]):n(a[2]):!1},ps=(e,t,n=!1)=>{const a=Hm.exec(e);return a?a[1]?t(a[1]):n:!1},qm=e=>e==="position"||e==="percentage",Gm=e=>e==="image"||e==="url",Km=e=>e==="length"||e==="size"||e==="bg-size",Xm=e=>e==="length",fj=e=>e==="number",pj=e=>e==="family-name",Qm=e=>e==="shadow",mj=qw(()=>{const e=Tt("color"),t=Tt("font"),n=Tt("text"),a=Tt("font-weight"),i=Tt("tracking"),c=Tt("leading"),u=Tt("breakpoint"),d=Tt("container"),m=Tt("spacing"),h=Tt("radius"),g=Tt("shadow"),b=Tt("inset-shadow"),y=Tt("text-shadow"),v=Tt("drop-shadow"),C=Tt("blur"),N=Tt("perspective"),k=Tt("aspect"),_=Tt("ease"),S=Tt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...R(),je,we],I=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],P=()=>[je,we,m],U=()=>[ds,"full","auto",...P()],V=()=>[Gr,"none","subgrid",je,we],oe=()=>["auto",{span:["full",Gr,je,we]},Gr,je,we],de=()=>[Gr,"auto",je,we],Ne=()=>["auto","min","max","fr",je,we],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...P()],ne=()=>[ds,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],F=()=>[e,je,we],K=()=>[...R(),Ym,Zm,{position:[je,we]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",uj,ij,{size:[je,we]}],T=()=>[Fu,ka,zo],Y=()=>["","none","full",h,je,we],q=()=>["",Le,ka,zo],Q=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>[Le,Fu,Ym,Zm],ge=()=>["","none",C,je,we],ze=()=>["none",Le,je,we],Se=()=>["none",Le,je,we],rt=()=>[Le,je,we],Ze=()=>[ds,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Dr],breakpoint:[Dr],color:[nj],container:[Dr],"drop-shadow":[Dr],ease:["in","out","in-out"],font:[aj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Dr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Dr],shadow:[Dr],spacing:["px",Le],text:[Dr],"text-shadow":[Dr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ds,we,je,k]}],container:["container"],columns:[{columns:[Le,we,je,d]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[Gr,"auto",je,we]}],basis:[{basis:[ds,"full","auto",d,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,ds,"auto","initial","none",we]}],grow:[{grow:["",Le,je,we]}],shrink:[{shrink:["",Le,je,we]}],order:[{order:[Gr,"first","last","none",je,we]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:oe()}],"col-start":[{"col-start":de()}],"col-end":[{"col-end":de()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:oe()}],"row-start":[{"row-start":de()}],"row-end":[{"row-end":de()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ne()}],"auto-rows":[{"auto-rows":Ne()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[d,"screen",...ne()]}],"min-w":[{"min-w":[d,"screen","none",...ne()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,ka,zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,je,Wu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fu,we]}],"font-family":[{font:[cj,we,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,je,we]}],"line-clamp":[{"line-clamp":[Le,"none",je,Wu]}],leading:[{leading:[c,...P()]}],"list-image":[{"list-image":["none",je,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",je,zo]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Le,"auto",je,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gr,je,we],radial:["",je,we],conic:[Gr,je,we]},dj,lj]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,je,we]}],"outline-w":[{outline:["",Le,ka,zo]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",g,Zi,Vi]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",b,Zi,Vi]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Le,zo]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",y,Zi,Vi]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Le,je,we]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":H()}],"mask-image-linear-to-pos":[{"mask-linear-to":H()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":H()}],"mask-image-t-to-pos":[{"mask-t-to":H()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":H()}],"mask-image-r-to-pos":[{"mask-r-to":H()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":H()}],"mask-image-b-to-pos":[{"mask-b-to":H()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":H()}],"mask-image-l-to-pos":[{"mask-l-to":H()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":H()}],"mask-image-x-to-pos":[{"mask-x-to":H()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":H()}],"mask-image-y-to-pos":[{"mask-y-to":H()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[je,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":H()}],"mask-image-radial-to-pos":[{"mask-radial-to":H()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":H()}],"mask-image-conic-to-pos":[{"mask-conic-to":H()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,we]}],filter:[{filter:["","none",je,we]}],blur:[{blur:ge()}],brightness:[{brightness:[Le,je,we]}],contrast:[{contrast:[Le,je,we]}],"drop-shadow":[{"drop-shadow":["","none",v,Zi,Vi]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Le,je,we]}],"hue-rotate":[{"hue-rotate":[Le,je,we]}],invert:[{invert:["",Le,je,we]}],saturate:[{saturate:[Le,je,we]}],sepia:[{sepia:["",Le,je,we]}],"backdrop-filter":[{"backdrop-filter":["","none",je,we]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Le,je,we]}],"backdrop-contrast":[{"backdrop-contrast":[Le,je,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,je,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,je,we]}],"backdrop-invert":[{"backdrop-invert":["",Le,je,we]}],"backdrop-opacity":[{"backdrop-opacity":[Le,je,we]}],"backdrop-saturate":[{"backdrop-saturate":[Le,je,we]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,je,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",je,we]}],ease:[{ease:["linear","initial",_,je,we]}],delay:[{delay:[Le,je,we]}],animate:[{animate:["none",S,je,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,je,we]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ze()}],"rotate-x":[{"rotate-x":ze()}],"rotate-y":[{"rotate-y":ze()}],"rotate-z":[{"rotate-z":ze()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:rt()}],"skew-x":[{"skew-x":rt()}],"skew-y":[{"skew-y":rt()}],transform:[{transform:[je,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ze()}],"translate-x":[{"translate-x":Ze()}],"translate-y":[{"translate-y":Ze()}],"translate-z":[{"translate-z":Ze()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,we]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Le,ka,zo,Wu]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function Ae(...e){return mj(pe(e))}function To({className:e,...t}){return r.jsx("div",{className:Ae("animate-pulse rounded-md bg-muted",e),...t})}function hj(){return r.jsxs("div",{className:"sfui-form-builder","data-testid":"form-builder-layout",children:[r.jsx("nav",{className:"sfui-tabs border-b border-gray-200 mb-6",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(Na,{to:"/emails",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-emails",children:" Emails"}),r.jsx(Na,{to:"/builder",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-builder",children:" Form Builder"}),r.jsx(Na,{to:"/automations",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-automations",children:" Automations"}),r.jsx(Na,{to:"/settings",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-settings",children:" Settings"})]})}),r.jsx("div",{className:"sfui-tab-content",children:r.jsx(G1,{})})]})}const gj=p.lazy(()=>dr(()=>Promise.resolve().then(()=>zz),void 0)),xj=p.lazy(()=>dr(()=>Promise.resolve().then(()=>ST),void 0));function Bu(){return r.jsxs("div",{className:"flex h-full gap-4 p-4","data-testid":"page-skeleton",children:[r.jsxs("div",{className:"w-72 space-y-3",children:[r.jsx(To,{className:"h-10 w-full"}),r.jsx(To,{className:"h-16 w-full"}),r.jsx(To,{className:"h-16 w-full"}),r.jsx(To,{className:"h-16 w-full"})]}),r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsx(To,{className:"h-12 w-full"}),r.jsx(To,{className:"h-64 w-full"}),r.jsx(To,{className:"h-32 w-full"})]})]})}function Jm(){return r.jsx(Lu,{children:r.jsx(p.Suspense,{fallback:r.jsx(Bu,{}),children:r.jsx(Du,{children:r.jsxs(fr,{element:r.jsx(hj,{}),children:[r.jsx(fr,{index:!0,element:r.jsx(Sm,{to:"/emails",replace:!0})}),r.jsx(fr,{path:"/emails",element:r.jsx(gj,{...window.sfuiData})}),r.jsx(fr,{path:"/automations",element:r.jsx(xj,{...window.sfuiData})}),r.jsx(fr,{path:"/builder",element:r.jsx(yj,{})}),r.jsx(fr,{path:"/settings",element:r.jsx(vj,{})}),r.jsx(fr,{path:"*",element:r.jsx(Sm,{to:"/emails",replace:!0})})]})})})})}function yj(){return r.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-lg","data-testid":"builder-placeholder",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:" Form Builder"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The form builder will be available here soon."}),r.jsx("p",{className:"text-sm text-gray-500",children:"This tab will either show the legacy jQuery builder in an iframe, or a new React-based builder in future phases."})]})})}function vj(){return r.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-lg","data-testid":"settings-placeholder",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:" Settings"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Form settings will be available here soon."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Settings configuration UI is planned for future migration phases."})]})})}function bj(){return r.jsx(Lu,{children:r.jsx(p.Suspense,{fallback:r.jsx(Bu,{}),children:r.jsx(Du,{children:r.jsx(fr,{path:"/",element:r.jsx("div",{children:"Settings Page (coming soon)"})})})})})}function wj(){return r.jsx(Lu,{children:r.jsx(p.Suspense,{fallback:r.jsx(Bu,{}),children:r.jsx(Du,{children:r.jsx(fr,{path:"/",element:r.jsx("div",{children:"Entries Page (coming soon)"})})})})})}let Yi;const jj=new Uint8Array(16);function Nj(){if(!Yi&&(Yi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yi(jj)}const Ht=[];for(let e=0;e<256;++e)Ht.push((e+256).toString(16).slice(1));function kj(e,t=0){return Ht[e[t+0]]+Ht[e[t+1]]+Ht[e[t+2]]+Ht[e[t+3]]+"-"+Ht[e[t+4]]+Ht[e[t+5]]+"-"+Ht[e[t+6]]+Ht[e[t+7]]+"-"+Ht[e[t+8]]+Ht[e[t+9]]+"-"+Ht[e[t+10]]+Ht[e[t+11]]+Ht[e[t+12]]+Ht[e[t+13]]+Ht[e[t+14]]+Ht[e[t+15]]}const eh={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function $n(e,t,n){if(eh.randomUUID&&!e)return eh.randomUUID();e=e||{};const a=e.random||(e.rng||Nj)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,kj(a)}const Cj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ej=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),th=e=>{const t=Ej(e);return t.charAt(0).toUpperCase()+t.slice(1)},nh=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),Sj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var _j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rj=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:c,iconNode:u,...d},m)=>p.createElement("svg",{ref:m,..._j,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:nh("lucide",i),...!c&&!Sj(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,g])=>p.createElement(h,g)),...Array.isArray(c)?c:[c]]));const X=(e,t)=>{const n=p.forwardRef(({className:a,...i},c)=>p.createElement(Rj,{ref:c,iconNode:t,className:nh(`lucide-${Cj(th(e))}`,`lucide-${e}`,a),...i}));return n.displayName=th(e),n};const rh=X("align-center",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const oh=X("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const sh=X("align-right",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const zj=X("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Tj=X("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const Dj=X("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const ah=X("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);const ih=X("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);const $j=X("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const Ca=X("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const Pj=X("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const Mj=X("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const qi=X("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Gi=X("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);const Ki=X("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const jn=X("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Ij=X("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Kr=X("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Ea=X("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Do=X("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Xi=X("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Lj=X("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Oj=X("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Uu=X("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Aj=X("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const qn=X("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Vt=X("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);const Hu=X("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);const lh=X("container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);const Sa=X("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Vu=X("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const Qi=X("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Fj=X("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Ji=X("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);const ch=X("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const el=X("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Zu=X("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const $o=X("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const tl=X("file-archive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);const nl=X("file-audio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);const rl=X("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);const ol=X("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);const sl=X("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const Xr=X("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const al=X("file-type",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);const il=X("file-video",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);const uh=X("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const Wj=X("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const dh=X("forward",[["path",{d:"m15 17 5-5-5-5",key:"nf172w"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);const fh=X("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);const ph=X("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const Yu=X("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Bj=X("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const Uj=X("grip-horizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);const ll=X("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const Hj=X("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);X("highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);const Vj=X("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const qu=X("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Zj=X("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const mh=X("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);const Yj=X("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const qj=X("layers-2",[["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74z",key:"15q6uc"}],["path",{d:"m20 14.285 1.5.845a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74l1.5-.845",key:"byia6g"}]]);const _a=X("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);const cl=X("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const Gj=X("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const ul=X("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const $r=X("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);const Kj=X("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Gu=X("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);const Xj=X("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const hh=X("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const Ra=X("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const gh=X("move-vertical",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]]);const Ku=X("move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);const Qj=X("paint-bucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);const Pr=X("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);const Xu=X("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const xh=X("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);const Jj=X("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const Qu=X("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const e2=X("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);const pr=X("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const t2=X("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);const Ju=X("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const za=X("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const yh=X("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const vh=X("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const n2=X("rectangle-ellipsis",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]]);const r2=X("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);const Po=X("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const o2=X("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);const dl=X("reply",[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]]);const bh=X("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Mo=X("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const wh=X("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const ms=X("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const hs=X("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const fl=X("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const jh=X("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const s2=X("share",[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]]);const Nh=X("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const a2=X("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const i2=X("sliders-vertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const Ta=X("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const kh=X("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const l2=X("square-chevron-down",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m16 10-4 4-4-4",key:"894hmk"}]]);const Ch=X("square-stack",[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);const Eh=X("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const Sh=X("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const c2=X("step-forward",[["line",{x1:"6",x2:"6",y1:"4",y2:"20",key:"fy8qot"}],["polygon",{points:"10,4 20,12 10,20",key:"1mc1pf"}]]);const ed=X("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);const Qr=X("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const u2=X("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const Gn=X("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const _h=X("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);const pl=X("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);const gs=X("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);const Rh=X("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);const d2=X("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);const Io=X("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);const Da=X("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const td=X("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);const ml=X("webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);const zh=X("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);const Zt=X("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const hl=X("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);const f2=X("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const p2=X("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),m2={},Th=e=>{let t;const n=new Set,a=(g,b)=>{const y=typeof g=="function"?g(t):g;if(!Object.is(y,t)){const v=t;t=b??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(C=>C(t,v))}},i=()=>t,m={setState:a,getState:i,getInitialState:()=>h,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{(m2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=t=e(a,i,m);return m},Dh=e=>e?Th(e):Th;var nd={exports:{}},rd={},od={exports:{}},sd={};var $h;function h2(){if($h)return sd;$h=1;var e=ya();function t(b,y){return b===y&&(b!==0||1/b===1/y)||b!==b&&y!==y}var n=typeof Object.is=="function"?Object.is:t,a=e.useState,i=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function d(b,y){var v=y(),C=a({inst:{value:v,getSnapshot:y}}),N=C[0].inst,k=C[1];return c(function(){N.value=v,N.getSnapshot=y,m(N)&&k({inst:N})},[b,v,y]),i(function(){return m(N)&&k({inst:N}),b(function(){m(N)&&k({inst:N})})},[b]),u(v),v}function m(b){var y=b.getSnapshot;b=b.value;try{var v=y();return!n(b,v)}catch{return!0}}function h(b,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return sd.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,sd}var Ph;function g2(){return Ph||(Ph=1,od.exports=h2()),od.exports}var Mh;function x2(){if(Mh)return rd;Mh=1;var e=ya(),t=g2();function n(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var a=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,c=e.useRef,u=e.useEffect,d=e.useMemo,m=e.useDebugValue;return rd.useSyncExternalStoreWithSelector=function(h,g,b,y,v){var C=c(null);if(C.current===null){var N={hasValue:!1,value:null};C.current=N}else N=C.current;C=d(function(){function _(I){if(!S){if(S=!0,w=I,I=y(I),v!==void 0&&N.hasValue){var O=N.value;if(v(O,I))return R=O}return R=I}if(O=R,a(w,I))return O;var P=y(I);return v!==void 0&&v(O,P)?(w=I,O):(w=I,R=P)}var S=!1,w,R,M=b===void 0?null:b;return[function(){return _(g())},M===null?void 0:function(){return _(M())}]},[g,b,y,v]);var k=i(h,C[0],C[1]);return u(function(){N.hasValue=!0,N.value=k},[k]),m(k),k},rd}var Ih;function y2(){return Ih||(Ih=1,nd.exports=x2()),nd.exports}var v2=y2();const Lh=Dn(v2),Oh={},{useDebugValue:b2}=De,{useSyncExternalStoreWithSelector:w2}=Lh;let Ah=!1;const j2=e=>e;function N2(e,t=j2,n){(Oh?"production":void 0)!=="production"&&n&&!Ah&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Ah=!0);const a=w2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return b2(a),a}const Fh=e=>{(Oh?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Dh(e):e,n=(a,i)=>N2(t,a,i);return Object.assign(n,t),n},gl=e=>e?Fh(e):Fh,Wh=gl((e,t)=>({items:{},order:[],deviceVisibility:{},addElement:(n,a)=>{e(i=>{const c={...i.items,[n.id]:n},u=[...i.order];a!==void 0?u.splice(a,0,n.id):u.push(n.id);const d={...i.deviceVisibility,[n.id]:{desktop:!0,tablet:!0,mobile:!0}};return{items:c,order:u,deviceVisibility:d}})},removeElement:n=>{e(a=>{const i=a.items[n];if(!i)return a;const c={...a.items},u={...a.deviceVisibility};let d=[...a.order];i.parent&&c[i.parent]?.children&&(c[i.parent]={...c[i.parent],children:c[i.parent].children.filter(h=>h!==n)});const m=h=>{const g=c[h];g?.children&&g.children.forEach(b=>m(b)),delete c[h],delete u[h],d=d.filter(b=>b!==h)};return m(n),{items:c,order:d,deviceVisibility:u}})},updateElement:(n,a)=>{e(i=>i.items[n]?{items:{...i.items,[n]:{...i.items[n],...a}}}:i)},moveElement:(n,a,i,c)=>{e(u=>{const d=u.items[n];if(!d)return u;const m={...u.items};let h=u.order.filter(g=>g!==n);if(d.parent&&m[d.parent]?.children&&(m[d.parent]={...m[d.parent],children:m[d.parent].children.filter(g=>g!==n)}),m[n]={...d,parent:void 0},a&&i==="inside"){const g=m[a];if(g){const b=g.children?[...g.children]:[];b.push(n),m[a]={...g,children:b},m[n]={...m[n],parent:a}}}else if(a){const g=h.indexOf(a);if(g!==-1){const b=i==="before"?g:g+1;h.splice(b,0,n)}}else c!==void 0?h.splice(c,0,n):h.push(n);return{items:m,order:h}})},updateDeviceVisibility:(n,a,i)=>{e(c=>({deviceVisibility:{...c.deviceVisibility,[n]:{...c.deviceVisibility[n]||{desktop:!0,tablet:!0,mobile:!0},[a]:i}}}))},reorderElements:n=>{e({order:n})},loadElements:n=>{e(n)}})),k2=gl(e=>({draggedElement:null,hoveredElement:null,selectedElements:[],dropZoneActive:!1,dropTarget:null,setDraggedElement:t=>{e({draggedElement:t,dropZoneActive:t!==null,dropTarget:t===null?null:void 0})},setHoveredElement:t=>{e({hoveredElement:t})},setSelectedElements:t=>{e({selectedElements:t})},addSelectedElement:t=>{e(n=>({selectedElements:n.selectedElements.includes(t)?n.selectedElements:[...n.selectedElements,t]}))},removeSelectedElement:t=>{e(n=>({selectedElements:n.selectedElements.filter(a=>a!==t)}))},clearSelection:()=>{e({selectedElements:[]})},setDropTarget:t=>{e({dropTarget:t})}})),Bh=({element:e,commonProps:t})=>{const n=()=>{switch(e.type){case"password":return"password";case"number":case"number-formatted":return"number";case"email":return"email";case"phone":return"tel";case"url":return"url";default:return"text"}},a=()=>{if(e.properties?.placeholder)return e.properties.placeholder;switch(e.type){case"password":return"Enter password";case"email":return"Enter email address";case"phone":return"Enter phone number";case"url":return"Enter URL";case"number":case"number-formatted":return"Enter number";default:return"Enter text"}};return r.jsx("input",{type:n(),placeholder:a(),...t})},C2=Object.freeze(Object.defineProperty({__proto__:null,TextInput:Bh,default:Bh},Symbol.toStringTag,{value:"Module"})),Uh=({element:e,commonProps:t})=>r.jsx("textarea",{placeholder:e.properties?.placeholder||"Enter text",rows:e.properties?.rows||3,...t}),E2=Object.freeze(Object.defineProperty({__proto__:null,TextArea:Uh,default:Uh},Symbol.toStringTag,{value:"Module"})),Hh=({element:e,commonProps:t})=>r.jsxs("select",{...t,children:[r.jsx("option",{children:e.properties?.placeholder||"Choose an option"}),e.properties?.options?.map((n,a)=>r.jsx("option",{value:n,children:n},a))]}),S2=Object.freeze(Object.defineProperty({__proto__:null,Select:Hh,default:Hh},Symbol.toStringTag,{value:"Module"})),_2=({position:e,onClose:t,onFormat:n,selectedText:a})=>r.jsxs("div",{className:"floating-toolbar",style:{position:"absolute",left:e.x,top:e.y-40,background:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"4px",zIndex:1e3},children:[r.jsx("button",{onClick:()=>n("bold"),children:"B"}),r.jsx("button",{onClick:()=>n("italic"),children:"I"}),r.jsx("button",{onClick:t,children:""})]}),Vh=({value:e,onChange:t,className:n="",placeholder:a="",multiline:i=!1,onFormat:c})=>{const[u,d]=p.useState(!1),[m,h]=p.useState(e),[g,b]=p.useState(!1),[y,v]=p.useState({x:0,y:0}),[C,N]=p.useState(""),k=p.useRef(null);p.useEffect(()=>{h(e)},[e]);const _=()=>{d(!0),setTimeout(()=>{k.current?.focus()},0)},S=()=>{d(!1),t(m),b(!1)},w=M=>{M.key==="Enter"&&!i&&S(),M.key==="Escape"&&(h(e),d(!1),b(!1))},R=()=>{const M=window.getSelection();if(M&&M.toString().length>0){const O=M.getRangeAt(0).getBoundingClientRect();v({x:O.left,y:O.top}),N(M.toString()),b(!0)}else b(!1)};return u?r.jsxs(r.Fragment,{children:[i?r.jsx("textarea",{ref:k,value:m,onChange:M=>h(M.target.value),onBlur:S,onKeyDown:w,onMouseUp:R,className:`inline-editable-input ${n}`,placeholder:a,rows:3}):r.jsx("input",{ref:k,type:"text",value:m,onChange:M=>h(M.target.value),onBlur:S,onKeyDown:w,onMouseUp:R,className:`inline-editable-input ${n}`,placeholder:a}),g&&c&&r.jsx(_2,{position:y,onClose:()=>b(!1),onFormat:c,selectedText:C})]}):r.jsxs("div",{onClick:_,className:`inline-editable-text ${n}`,title:"Click to edit",children:[e||a,r.jsx(Qu,{size:12,className:"inline-edit-icon"})]})},Zh=({element:e,updateElementProperty:t})=>r.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${e.properties?.columnsPerRow||2}, 1fr)`},children:e.properties?.options?.map((n,a)=>r.jsx("div",{className:"radio-card border-2 border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:border-blue-300 hover:shadow-md",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"radio-card-icon mb-2",children:r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(vh,{size:16,className:"text-gray-400"})})}),r.jsxs("div",{className:"radio-card-content",children:[r.jsx(Vh,{value:n,onChange:i=>{const c=[...e.properties?.options||[]];c[a]=i,t(e.id,"options",c)},className:"font-medium text-gray-900 text-sm leading-tight",placeholder:"Option title"}),e.properties?.showDescriptions!==!1&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Description for this option"})]})]}),r.jsx("input",{type:"radio",name:e.id,className:"radio-card-input mt-1",disabled:!0})]})},a))}),R2=Object.freeze(Object.defineProperty({__proto__:null,RadioCards:Zh,default:Zh},Symbol.toStringTag,{value:"Module"})),Yh=({element:e,updateElementProperty:t})=>r.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${e.properties?.columnsPerRow||2}, 1fr)`},children:e.properties?.options?.map((n,a)=>r.jsx("div",{className:"checkbox-card border-2 border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:border-blue-300 hover:shadow-md",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"checkbox-card-icon mb-2",children:r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(kh,{size:16,className:"text-gray-400"})})}),r.jsxs("div",{className:"checkbox-card-content",children:[r.jsx(Vh,{value:n,onChange:i=>{const c=[...e.properties?.options||[]];c[a]=i,t(e.id,"options",c)},className:"font-medium text-gray-900 text-sm leading-tight",placeholder:"Option title"}),e.properties?.showDescriptions!==!1&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Description for this option"})]})]}),r.jsx("input",{type:"checkbox",className:"checkbox-card-input mt-1",disabled:!0})]})},a))}),z2=Object.freeze(Object.defineProperty({__proto__:null,CheckboxCards:Yh,default:Yh},Symbol.toStringTag,{value:"Module"})),qh=({element:e})=>{const t=e.properties?.columnCount||2,n=e.properties?.gap||"20px";return r.jsx("div",{className:"columns-container",style:{display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,gap:n,minHeight:"80px",border:"2px dashed #e5e7eb",borderRadius:"8px",padding:"16px"},children:Array.from({length:t}).map((a,i)=>r.jsxs("div",{className:"column-drop-zone",style:{border:"1px dashed #d1d5db",borderRadius:"4px",minHeight:"60px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f9fafb",color:"#6b7280",fontSize:"14px"},children:["Column ",i+1]},i))})},T2=Object.freeze(Object.defineProperty({__proto__:null,ColumnsContainer:qh,default:qh},Symbol.toStringTag,{value:"Module"})),D2=p.lazy(()=>dr(()=>Promise.resolve().then(()=>C2),void 0)),$2=p.lazy(()=>dr(()=>Promise.resolve().then(()=>E2),void 0)),P2=p.lazy(()=>dr(()=>Promise.resolve().then(()=>S2),void 0)),M2=p.lazy(()=>dr(()=>Promise.resolve().then(()=>R2),void 0)),I2=p.lazy(()=>dr(()=>Promise.resolve().then(()=>z2),void 0)),L2=p.lazy(()=>dr(()=>Promise.resolve().then(()=>T2),void 0)),Gh=({element:e,updateElementProperty:t})=>{const n={className:"form-input",disabled:!0,style:{width:e.properties?.width==="full"?"100%":`${e.properties?.width||100}%`,margin:e.properties?.margin,backgroundColor:e.properties?.backgroundColor,borderStyle:e.properties?.borderStyle}},a=()=>{switch(e.type){case"text":case"email":case"phone":case"url":case"password":case"number":case"number-formatted":return r.jsx(D2,{element:e,commonProps:n});case"textarea":return r.jsx($2,{element:e,commonProps:n});case"select":return r.jsx(P2,{element:e,commonProps:n});case"radio-cards":return r.jsx(M2,{element:e,updateElementProperty:t});case"checkbox-cards":return r.jsx(I2,{element:e,updateElementProperty:t});case"columns":return r.jsx(L2,{element:e});default:return r.jsxs("div",{className:"border border-gray-300 rounded-md p-4 text-center text-gray-500",children:["Element type: ",e.type," (not yet extracted)"]})}};return r.jsx(p.Suspense,{fallback:r.jsx("div",{className:"border border-gray-200 rounded-md p-4 text-center text-gray-400",children:"Loading element..."}),children:a()})},pn=({label:e,children:t,className:n=""})=>r.jsxs("div",{className:`property-field ${n}`,children:[r.jsx("label",{className:"property-label",children:e}),t]}),O2=({element:e,onUpdate:t})=>r.jsxs(r.Fragment,{children:[r.jsx(pn,{label:"Label",children:r.jsx("input",{type:"text",value:e.properties?.label||"",onChange:n=>t("label",n.target.value),className:"form-input",placeholder:"Field label"})}),r.jsx(pn,{label:"Placeholder",children:r.jsx("input",{type:"text",value:e.properties?.placeholder||"",onChange:n=>t("placeholder",n.target.value),className:"form-input",placeholder:"Enter placeholder text"})}),r.jsx(pn,{label:"Help Text",children:r.jsx("input",{type:"text",value:e.properties?.helpText||"",onChange:n=>t("helpText",n.target.value),className:"form-input",placeholder:"Additional guidance for users"})}),r.jsx(pn,{label:"Required",children:r.jsx("input",{type:"checkbox",checked:e.properties?.required||!1,onChange:n=>t("required",n.target.checked),className:"form-checkbox"})}),r.jsx(pn,{label:"Disabled",children:r.jsx("input",{type:"checkbox",checked:e.properties?.disabled||!1,onChange:n=>t("disabled",n.target.checked),className:"form-checkbox"})}),r.jsx(pn,{label:"Read Only",children:r.jsx("input",{type:"checkbox",checked:e.properties?.readOnly||!1,onChange:n=>t("readOnly",n.target.checked),className:"form-checkbox"})})]}),A2=({element:e,onUpdate:t})=>{const n=e.properties?.validation||{},a=(i,c)=>{const u={...n,[i]:c};t("validation",u)};return r.jsxs(r.Fragment,{children:[r.jsx(pn,{label:"Minimum Length",children:r.jsx("input",{type:"number",value:n.minLength||"",onChange:i=>a("minLength",i.target.value?parseInt(i.target.value):void 0),className:"form-input",min:"0",placeholder:"0"})}),r.jsx(pn,{label:"Maximum Length",children:r.jsx("input",{type:"number",value:n.maxLength||"",onChange:i=>a("maxLength",i.target.value?parseInt(i.target.value):void 0),className:"form-input",min:"1",placeholder:"100"})}),(e.type==="number"||e.type==="slider")&&r.jsxs(r.Fragment,{children:[r.jsx(pn,{label:"Minimum Value",children:r.jsx("input",{type:"number",value:n.min||"",onChange:i=>a("min",i.target.value?parseFloat(i.target.value):void 0),className:"form-input",placeholder:"0"})}),r.jsx(pn,{label:"Maximum Value",children:r.jsx("input",{type:"number",value:n.max||"",onChange:i=>a("max",i.target.value?parseFloat(i.target.value):void 0),className:"form-input",placeholder:"100"})})]}),r.jsx(pn,{label:"Pattern (RegEx)",children:r.jsx("input",{type:"text",value:n.pattern||"",onChange:i=>a("pattern",i.target.value),className:"form-input",placeholder:"^[a-zA-Z0-9]+$"})}),r.jsx(pn,{label:"Custom Error Message",children:r.jsx("input",{type:"text",value:n.errorMessage||"",onChange:i=>a("errorMessage",i.target.value),className:"form-input",placeholder:"Please enter a valid value"})}),r.jsx(pn,{label:"Email Validation",children:r.jsx("input",{type:"checkbox",checked:n.email||!1,onChange:i=>a("email",i.target.checked),className:"form-checkbox"})}),r.jsx(pn,{label:"URL Validation",children:r.jsx("input",{type:"checkbox",checked:n.url||!1,onChange:i=>a("url",i.target.checked),className:"form-checkbox"})})]})};function ee(e,t,n){function a(d,m){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:m,constr:u,traits:new Set},enumerable:!1}),d._zod.traits.has(e))return;d._zod.traits.add(e),t(d,m);const h=u.prototype,g=Object.keys(h);for(let b=0;b<g.length;b++){const y=g[b];y in d||(d[y]=h[y].bind(d))}}const i=n?.Parent??Object;class c extends i{}Object.defineProperty(c,"name",{value:e});function u(d){var m;const h=n?.Parent?new c:this;a(h,d),(m=h._zod).deferred??(m.deferred=[]);for(const g of h._zod.deferred)g();return h}return Object.defineProperty(u,"init",{value:a}),Object.defineProperty(u,Symbol.hasInstance,{value:d=>n?.Parent&&d instanceof n.Parent?!0:d?._zod?.traits?.has(e)}),Object.defineProperty(u,"name",{value:e}),u}class xs extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Kh extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Xh={};function Jr(e){return Xh}function F2(e){const t=Object.values(e).filter(a=>typeof a=="number");return Object.entries(e).filter(([a,i])=>t.indexOf(+a)===-1).map(([a,i])=>i)}function ad(e,t){return typeof t=="bigint"?t.toString():t}function id(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ld(e){return e==null}function cd(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function W2(e,t){const n=(e.toString().split(".")[1]||"").length,a=t.toString();let i=(a.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(a)){const m=a.match(/\d?e-(\d?)/);m?.[1]&&(i=Number.parseInt(m[1]))}const c=n>i?n:i,u=Number.parseInt(e.toFixed(c).replace(".","")),d=Number.parseInt(t.toFixed(c).replace(".",""));return u%d/10**c}const Qh=Symbol("evaluating");function Je(e,t,n){let a;Object.defineProperty(e,t,{get(){if(a!==Qh)return a===void 0&&(a=Qh,a=n()),a},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Lo(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Oo(...e){const t={};for(const n of e){const a=Object.getOwnPropertyDescriptors(n);Object.assign(t,a)}return Object.defineProperties({},t)}function Jh(e){return JSON.stringify(e)}function B2(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const eg="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function xl(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const U2=id(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function ys(e){if(xl(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(xl(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function tg(e){return ys(e)?{...e}:Array.isArray(e)?[...e]:e}const H2=new Set(["string","number","symbol"]);function yl(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function eo(e,t,n){const a=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(a._zod.parent=e),a}function Te(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function V2(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Z2={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Y2(e,t){const n=e._zod.def,a=Oo(e._zod.def,{get shape(){const i={};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(i[c]=n.shape[c])}return Lo(this,"shape",i),i},checks:[]});return eo(e,a)}function q2(e,t){const n=e._zod.def,a=Oo(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&delete i[c]}return Lo(this,"shape",i),i},checks:[]});return eo(e,a)}function G2(e,t){if(!ys(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Oo(e._zod.def,{get shape(){const c={...e._zod.def.shape,...t};return Lo(this,"shape",c),c},checks:[]});return eo(e,i)}function K2(e,t){if(!ys(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const a={...e._zod.def.shape,...t};return Lo(this,"shape",a),a},checks:e._zod.def.checks};return eo(e,n)}function X2(e,t){const n=Oo(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t._zod.def.shape};return Lo(this,"shape",a),a},get catchall(){return t._zod.def.catchall},checks:[]});return eo(e,n)}function Q2(e,t,n){const a=Oo(t._zod.def,{get shape(){const i=t._zod.def.shape,c={...i};if(n)for(const u in n){if(!(u in i))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=e?new e({type:"optional",innerType:i[u]}):i[u])}else for(const u in i)c[u]=e?new e({type:"optional",innerType:i[u]}):i[u];return Lo(this,"shape",c),c},checks:[]});return eo(t,a)}function J2(e,t,n){const a=Oo(t._zod.def,{get shape(){const i=t._zod.def.shape,c={...i};if(n)for(const u in n){if(!(u in c))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=new e({type:"nonoptional",innerType:i[u]}))}else for(const u in i)c[u]=new e({type:"nonoptional",innerType:i[u]});return Lo(this,"shape",c),c},checks:[]});return eo(t,a)}function vs(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function bs(e,t){return t.map(n=>{var a;return(a=n).path??(a.path=[]),n.path.unshift(e),n})}function vl(e){return typeof e=="string"?e:e?.message}function to(e,t,n){const a={...e,path:e.path??[]};if(!e.message){const i=vl(e.inst?._zod.def?.error?.(e))??vl(t?.error?.(e))??vl(n.customError?.(e))??vl(n.localeError?.(e))??"Invalid input";a.message=i}return delete a.inst,delete a.continue,t?.reportInput||delete a.input,a}function ud(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function $a(...e){const[t,n,a]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:a}:{...t}}const ng=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ad,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},rg=ee("$ZodError",ng),og=ee("$ZodError",ng,{Parent:Error});function eN(e,t=n=>n.message){const n={},a=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):a.push(t(i));return{formErrors:a,fieldErrors:n}}function tN(e,t=n=>n.message){const n={_errors:[]},a=i=>{for(const c of i.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(u=>a({issues:u}));else if(c.code==="invalid_key")a({issues:c.issues});else if(c.code==="invalid_element")a({issues:c.issues});else if(c.path.length===0)n._errors.push(t(c));else{let u=n,d=0;for(;d<c.path.length;){const m=c.path[d];d===c.path.length-1?(u[m]=u[m]||{_errors:[]},u[m]._errors.push(t(c))):u[m]=u[m]||{_errors:[]},u=u[m],d++}}};return a(e),n}const dd=e=>(t,n,a,i)=>{const c=a?Object.assign(a,{async:!1}):{async:!1},u=t._zod.run({value:n,issues:[]},c);if(u instanceof Promise)throw new xs;if(u.issues.length){const d=new(i?.Err??e)(u.issues.map(m=>to(m,c,Jr())));throw eg(d,i?.callee),d}return u.value},fd=e=>async(t,n,a,i)=>{const c=a?Object.assign(a,{async:!0}):{async:!0};let u=t._zod.run({value:n,issues:[]},c);if(u instanceof Promise&&(u=await u),u.issues.length){const d=new(i?.Err??e)(u.issues.map(m=>to(m,c,Jr())));throw eg(d,i?.callee),d}return u.value},bl=e=>(t,n,a)=>{const i=a?{...a,async:!1}:{async:!1},c=t._zod.run({value:n,issues:[]},i);if(c instanceof Promise)throw new xs;return c.issues.length?{success:!1,error:new(e??rg)(c.issues.map(u=>to(u,i,Jr())))}:{success:!0,data:c.value}},nN=bl(og),wl=e=>async(t,n,a)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let c=t._zod.run({value:n,issues:[]},i);return c instanceof Promise&&(c=await c),c.issues.length?{success:!1,error:new e(c.issues.map(u=>to(u,i,Jr())))}:{success:!0,data:c.value}},rN=wl(og),oN=e=>(t,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return dd(e)(t,n,i)},sN=e=>(t,n,a)=>dd(e)(t,n,a),aN=e=>async(t,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return fd(e)(t,n,i)},iN=e=>async(t,n,a)=>fd(e)(t,n,a),lN=e=>(t,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return bl(e)(t,n,i)},cN=e=>(t,n,a)=>bl(e)(t,n,a),uN=e=>async(t,n,a)=>{const i=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return wl(e)(t,n,i)},dN=e=>async(t,n,a)=>wl(e)(t,n,a),fN=/^[cC][^\s-]{8,}$/,pN=/^[0-9a-z]+$/,mN=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,hN=/^[0-9a-vA-V]{20}$/,gN=/^[A-Za-z0-9]{27}$/,xN=/^[a-zA-Z0-9_-]{21}$/,yN=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,vN=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,sg=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,bN=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,wN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function jN(){return new RegExp(wN,"u")}const NN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,CN=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,EN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,SN=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ag=/^[A-Za-z0-9_-]*$/,_N=/^\+(?:[0-9]){6,14}[0-9]$/,ig="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",RN=new RegExp(`^${ig}$`);function lg(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function zN(e){return new RegExp(`^${lg(e)}$`)}function TN(e){const t=lg({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${t}(?:${n.join("|")})`;return new RegExp(`^${ig}T(?:${a})$`)}const DN=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},$N=/^-?\d+$/,PN=/^-?\d+(?:\.\d+)?/,MN=/^(?:true|false)$/i,IN=/^[^A-Z]*$/,LN=/^[^a-z]*$/,mn=ee("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),cg={number:"number",bigint:"bigint",object:"date"},ug=ee("$ZodCheckLessThan",(e,t)=>{mn.init(e,t);const n=cg[typeof t.value];e._zod.onattach.push(a=>{const i=a._zod.bag,c=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<c&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value<=t.value:a.value<t.value)||a.issues.push({origin:n,code:"too_big",maximum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),dg=ee("$ZodCheckGreaterThan",(e,t)=>{mn.init(e,t);const n=cg[typeof t.value];e._zod.onattach.push(a=>{const i=a._zod.bag,c=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>c&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value>=t.value:a.value>t.value)||a.issues.push({origin:n,code:"too_small",minimum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ON=ee("$ZodCheckMultipleOf",(e,t)=>{mn.init(e,t),e._zod.onattach.push(n=>{var a;(a=n._zod.bag).multipleOf??(a.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):W2(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),AN=ee("$ZodCheckNumberFormat",(e,t)=>{mn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),a=n?"int":"number",[i,c]=Z2[t.format];e._zod.onattach.push(u=>{const d=u._zod.bag;d.format=t.format,d.minimum=i,d.maximum=c,n&&(d.pattern=$N)}),e._zod.check=u=>{const d=u.value;if(n){if(!Number.isInteger(d)){u.issues.push({expected:a,format:t.format,code:"invalid_type",continue:!1,input:d,inst:e});return}if(!Number.isSafeInteger(d)){d>0?u.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}):u.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort});return}}d<i&&u.issues.push({origin:"number",input:d,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),d>c&&u.issues.push({origin:"number",input:d,code:"too_big",maximum:c,inst:e})}}),FN=ee("$ZodCheckMaxLength",(e,t)=>{var n;mn.init(e,t),(n=e._zod.def).when??(n.when=a=>{const i=a.value;return!ld(i)&&i.length!==void 0}),e._zod.onattach.push(a=>{const i=a._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(a._zod.bag.maximum=t.maximum)}),e._zod.check=a=>{const i=a.value;if(i.length<=t.maximum)return;const u=ud(i);a.issues.push({origin:u,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),WN=ee("$ZodCheckMinLength",(e,t)=>{var n;mn.init(e,t),(n=e._zod.def).when??(n.when=a=>{const i=a.value;return!ld(i)&&i.length!==void 0}),e._zod.onattach.push(a=>{const i=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(a._zod.bag.minimum=t.minimum)}),e._zod.check=a=>{const i=a.value;if(i.length>=t.minimum)return;const u=ud(i);a.issues.push({origin:u,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),BN=ee("$ZodCheckLengthEquals",(e,t)=>{var n;mn.init(e,t),(n=e._zod.def).when??(n.when=a=>{const i=a.value;return!ld(i)&&i.length!==void 0}),e._zod.onattach.push(a=>{const i=a._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=a=>{const i=a.value,c=i.length;if(c===t.length)return;const u=ud(i),d=c>t.length;a.issues.push({origin:u,...d?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:a.value,inst:e,continue:!t.abort})}}),jl=ee("$ZodCheckStringFormat",(e,t)=>{var n,a;mn.init(e,t),e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,t.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(a=e._zod).check??(a.check=()=>{})}),UN=ee("$ZodCheckRegex",(e,t)=>{jl.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),HN=ee("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=IN),jl.init(e,t)}),VN=ee("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=LN),jl.init(e,t)}),ZN=ee("$ZodCheckIncludes",(e,t)=>{mn.init(e,t);const n=yl(t.includes),a=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=a,e._zod.onattach.push(i=>{const c=i._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(a)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),YN=ee("$ZodCheckStartsWith",(e,t)=>{mn.init(e,t);const n=new RegExp(`^${yl(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=a=>{a.value.startsWith(t.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:a.value,inst:e,continue:!t.abort})}}),qN=ee("$ZodCheckEndsWith",(e,t)=>{mn.init(e,t);const n=new RegExp(`.*${yl(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=a=>{a.value.endsWith(t.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:a.value,inst:e,continue:!t.abort})}}),GN=ee("$ZodCheckOverwrite",(e,t)=>{mn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class KN{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const a=t.split(`
`).filter(u=>u),i=Math.min(...a.map(u=>u.length-u.trimStart().length)),c=a.map(u=>u.slice(i)).map(u=>" ".repeat(this.indent*2)+u);for(const u of c)this.content.push(u)}compile(){const t=Function,n=this?.args,i=[...(this?.content??[""]).map(c=>`  ${c}`)];return new t(...n,i.join(`
`))}}const XN={major:4,minor:1,patch:13},wt=ee("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=XN;const a=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&a.unshift(e);for(const i of a)for(const c of i._zod.onattach)c(e);if(a.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(u,d,m)=>{let h=vs(u),g;for(const b of d){if(b._zod.def.when){if(!b._zod.def.when(u))continue}else if(h)continue;const y=u.issues.length,v=b._zod.check(u);if(v instanceof Promise&&m?.async===!1)throw new xs;if(g||v instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await v,u.issues.length!==y&&(h||(h=vs(u,y)))});else{if(u.issues.length===y)continue;h||(h=vs(u,y))}}return g?g.then(()=>u):u},c=(u,d,m)=>{if(vs(u))return u.aborted=!0,u;const h=i(d,a,m);if(h instanceof Promise){if(m.async===!1)throw new xs;return h.then(g=>e._zod.parse(g,m))}return e._zod.parse(h,m)};e._zod.run=(u,d)=>{if(d.skipChecks)return e._zod.parse(u,d);if(d.direction==="backward"){const h=e._zod.parse({value:u.value,issues:[]},{...d,skipChecks:!0});return h instanceof Promise?h.then(g=>c(g,u,d)):c(h,u,d)}const m=e._zod.parse(u,d);if(m instanceof Promise){if(d.async===!1)throw new xs;return m.then(h=>i(h,a,d))}return i(m,a,d)}}e["~standard"]={validate:i=>{try{const c=nN(e,i);return c.success?{value:c.data}:{issues:c.error?.issues}}catch{return rN(e,i).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),pd=ee("$ZodString",(e,t)=>{wt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??DN(e._zod.bag),e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ct=ee("$ZodStringFormat",(e,t)=>{jl.init(e,t),pd.init(e,t)}),QN=ee("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=vN),ct.init(e,t)}),JN=ee("$ZodUUID",(e,t)=>{if(t.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(a===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=sg(a))}else t.pattern??(t.pattern=sg());ct.init(e,t)}),ek=ee("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=bN),ct.init(e,t)}),tk=ee("$ZodURL",(e,t)=>{ct.init(e,t),e._zod.check=n=>{try{const a=n.value.trim(),i=new URL(a);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),nk=ee("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=jN()),ct.init(e,t)}),rk=ee("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=xN),ct.init(e,t)}),ok=ee("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=fN),ct.init(e,t)}),sk=ee("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=pN),ct.init(e,t)}),ak=ee("$ZodULID",(e,t)=>{t.pattern??(t.pattern=mN),ct.init(e,t)}),ik=ee("$ZodXID",(e,t)=>{t.pattern??(t.pattern=hN),ct.init(e,t)}),lk=ee("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=gN),ct.init(e,t)}),ck=ee("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=TN(t)),ct.init(e,t)}),uk=ee("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=RN),ct.init(e,t)}),dk=ee("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=zN(t)),ct.init(e,t)}),fk=ee("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=yN),ct.init(e,t)}),pk=ee("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=NN),ct.init(e,t),e._zod.bag.format="ipv4"}),mk=ee("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=kN),ct.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),hk=ee("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=CN),ct.init(e,t)}),gk=ee("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=EN),ct.init(e,t),e._zod.check=n=>{const a=n.value.split("/");try{if(a.length!==2)throw new Error;const[i,c]=a;if(!c)throw new Error;const u=Number(c);if(`${u}`!==c)throw new Error;if(u<0||u>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function fg(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const xk=ee("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=SN),ct.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{fg(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function yk(e){if(!ag.test(e))return!1;const t=e.replace(/[-_]/g,a=>a==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return fg(n)}const vk=ee("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=ag),ct.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{yk(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),bk=ee("$ZodE164",(e,t)=>{t.pattern??(t.pattern=_N),ct.init(e,t)});function wk(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[a]=n;if(!a)return!1;const i=JSON.parse(atob(a));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const jk=ee("$ZodJWT",(e,t)=>{ct.init(e,t),e._zod.check=n=>{wk(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),pg=ee("$ZodNumber",(e,t)=>{wt.init(e,t),e._zod.pattern=e._zod.bag.pattern??PN,e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const c=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...c?{received:c}:{}}),n}}),Nk=ee("$ZodNumberFormat",(e,t)=>{AN.init(e,t),pg.init(e,t)}),kk=ee("$ZodBoolean",(e,t)=>{wt.init(e,t),e._zod.pattern=MN,e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),Ck=ee("$ZodUnknown",(e,t)=>{wt.init(e,t),e._zod.parse=n=>n}),Ek=ee("$ZodNever",(e,t)=>{wt.init(e,t),e._zod.parse=(n,a)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function mg(e,t,n){e.issues.length&&t.issues.push(...bs(n,e.issues)),t.value[n]=e.value}const Sk=ee("$ZodArray",(e,t)=>{wt.init(e,t),e._zod.parse=(n,a)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const c=[];for(let u=0;u<i.length;u++){const d=i[u],m=t.element._zod.run({value:d,issues:[]},a);m instanceof Promise?c.push(m.then(h=>mg(h,n,u))):mg(m,n,u)}return c.length?Promise.all(c).then(()=>n):n}});function Nl(e,t,n,a){e.issues.length&&t.issues.push(...bs(n,e.issues)),e.value===void 0?n in a&&(t.value[n]=void 0):t.value[n]=e.value}function hg(e){const t=Object.keys(e.shape);for(const a of t)if(!e.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=V2(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function gg(e,t,n,a,i,c){const u=[],d=i.keySet,m=i.catchall._zod,h=m.def.type;for(const g in t){if(d.has(g))continue;if(h==="never"){u.push(g);continue}const b=m.run({value:t[g],issues:[]},a);b instanceof Promise?e.push(b.then(y=>Nl(y,n,g,t))):Nl(b,n,g,t)}return u.length&&n.issues.push({code:"unrecognized_keys",keys:u,input:t,inst:c}),e.length?Promise.all(e).then(()=>n):n}const _k=ee("$ZodObject",(e,t)=>{if(wt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const d=t.shape;Object.defineProperty(t,"shape",{get:()=>{const m={...d};return Object.defineProperty(t,"shape",{value:m}),m}})}const a=id(()=>hg(t));Je(e._zod,"propValues",()=>{const d=t.shape,m={};for(const h in d){const g=d[h]._zod;if(g.values){m[h]??(m[h]=new Set);for(const b of g.values)m[h].add(b)}}return m});const i=xl,c=t.catchall;let u;e._zod.parse=(d,m)=>{u??(u=a.value);const h=d.value;if(!i(h))return d.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),d;d.value={};const g=[],b=u.shape;for(const y of u.keys){const C=b[y]._zod.run({value:h[y],issues:[]},m);C instanceof Promise?g.push(C.then(N=>Nl(N,d,y,h))):Nl(C,d,y,h)}return c?gg(g,h,d,m,a.value,e):g.length?Promise.all(g).then(()=>d):d}}),Rk=ee("$ZodObjectJIT",(e,t)=>{_k.init(e,t);const n=e._zod.parse,a=id(()=>hg(t)),i=y=>{const v=new KN(["shape","payload","ctx"]),C=a.value,N=w=>{const R=Jh(w);return`shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`};v.write("const input = payload.value;");const k=Object.create(null);let _=0;for(const w of C.keys)k[w]=`key_${_++}`;v.write("const newResult = {};");for(const w of C.keys){const R=k[w],M=Jh(w);v.write(`const ${R} = ${N(w)};`),v.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${M}, ...iss.path] : [${M}]
          })));
        }
        
        
        if (${R}.value === undefined) {
          if (${M} in input) {
            newResult[${M}] = undefined;
          }
        } else {
          newResult[${M}] = ${R}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const S=v.compile();return(w,R)=>S(y,w,R)};let c;const u=xl,d=!Xh.jitless,h=d&&U2.value,g=t.catchall;let b;e._zod.parse=(y,v)=>{b??(b=a.value);const C=y.value;return u(C)?d&&h&&v?.async===!1&&v.jitless!==!0?(c||(c=i(t.shape)),y=c(y,v),g?gg([],C,y,v,b,e):y):n(y,v):(y.issues.push({expected:"object",code:"invalid_type",input:C,inst:e}),y)}});function xg(e,t,n,a){for(const c of e)if(c.issues.length===0)return t.value=c.value,t;const i=e.filter(c=>!vs(c));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(c=>c.issues.map(u=>to(u,a,Jr())))}),t)}const zk=ee("$ZodUnion",(e,t)=>{wt.init(e,t),Je(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Je(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Je(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Je(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(c=>c._zod.pattern);return new RegExp(`^(${i.map(c=>cd(c.source)).join("|")})$`)}});const n=t.options.length===1,a=t.options[0]._zod.run;e._zod.parse=(i,c)=>{if(n)return a(i,c);let u=!1;const d=[];for(const m of t.options){const h=m._zod.run({value:i.value,issues:[]},c);if(h instanceof Promise)d.push(h),u=!0;else{if(h.issues.length===0)return h;d.push(h)}}return u?Promise.all(d).then(m=>xg(m,i,e,c)):xg(d,i,e,c)}}),Tk=ee("$ZodIntersection",(e,t)=>{wt.init(e,t),e._zod.parse=(n,a)=>{const i=n.value,c=t.left._zod.run({value:i,issues:[]},a),u=t.right._zod.run({value:i,issues:[]},a);return c instanceof Promise||u instanceof Promise?Promise.all([c,u]).then(([m,h])=>yg(n,m,h)):yg(n,c,u)}});function md(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ys(e)&&ys(t)){const n=Object.keys(t),a=Object.keys(e).filter(c=>n.indexOf(c)!==-1),i={...e,...t};for(const c of a){const u=md(e[c],t[c]);if(!u.valid)return{valid:!1,mergeErrorPath:[c,...u.mergeErrorPath]};i[c]=u.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let a=0;a<e.length;a++){const i=e[a],c=t[a],u=md(i,c);if(!u.valid)return{valid:!1,mergeErrorPath:[a,...u.mergeErrorPath]};n.push(u.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function yg(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),vs(e))return e;const a=md(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const Dk=ee("$ZodRecord",(e,t)=>{wt.init(e,t),e._zod.parse=(n,a)=>{const i=n.value;if(!ys(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const c=[],u=t.keyType._zod.values;if(u){n.value={};const d=new Set;for(const h of u)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){d.add(typeof h=="number"?h.toString():h);const g=t.valueType._zod.run({value:i[h],issues:[]},a);g instanceof Promise?c.push(g.then(b=>{b.issues.length&&n.issues.push(...bs(h,b.issues)),n.value[h]=b.value})):(g.issues.length&&n.issues.push(...bs(h,g.issues)),n.value[h]=g.value)}let m;for(const h in i)d.has(h)||(m=m??[],m.push(h));m&&m.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:m})}else{n.value={};for(const d of Reflect.ownKeys(i)){if(d==="__proto__")continue;const m=t.keyType._zod.run({value:d,issues:[]},a);if(m instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(m.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:m.issues.map(g=>to(g,a,Jr())),input:d,path:[d],inst:e}),n.value[m.value]=m.value;continue}const h=t.valueType._zod.run({value:i[d],issues:[]},a);h instanceof Promise?c.push(h.then(g=>{g.issues.length&&n.issues.push(...bs(d,g.issues)),n.value[m.value]=g.value})):(h.issues.length&&n.issues.push(...bs(d,h.issues)),n.value[m.value]=h.value)}}return c.length?Promise.all(c).then(()=>n):n}}),$k=ee("$ZodEnum",(e,t)=>{wt.init(e,t);const n=F2(t.entries),a=new Set(n);e._zod.values=a,e._zod.pattern=new RegExp(`^(${n.filter(i=>H2.has(typeof i)).map(i=>typeof i=="string"?yl(i):i.toString()).join("|")})$`),e._zod.parse=(i,c)=>{const u=i.value;return a.has(u)||i.issues.push({code:"invalid_value",values:n,input:u,inst:e}),i}}),Pk=ee("$ZodTransform",(e,t)=>{wt.init(e,t),e._zod.parse=(n,a)=>{if(a.direction==="backward")throw new Kh(e.constructor.name);const i=t.transform(n.value,n);if(a.async)return(i instanceof Promise?i:Promise.resolve(i)).then(u=>(n.value=u,n));if(i instanceof Promise)throw new xs;return n.value=i,n}});function vg(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Mk=ee("$ZodOptional",(e,t)=>{wt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Je(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Je(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${cd(n.source)})?$`):void 0}),e._zod.parse=(n,a)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,a);return i instanceof Promise?i.then(c=>vg(c,n.value)):vg(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,a)}}),Ik=ee("$ZodNullable",(e,t)=>{wt.init(e,t),Je(e._zod,"optin",()=>t.innerType._zod.optin),Je(e._zod,"optout",()=>t.innerType._zod.optout),Je(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${cd(n.source)}|null)$`):void 0}),Je(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,a)=>n.value===null?n:t.innerType._zod.run(n,a)}),Lk=ee("$ZodDefault",(e,t)=>{wt.init(e,t),e._zod.optin="optional",Je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,a)=>{if(a.direction==="backward")return t.innerType._zod.run(n,a);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,a);return i instanceof Promise?i.then(c=>bg(c,t)):bg(i,t)}});function bg(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Ok=ee("$ZodPrefault",(e,t)=>{wt.init(e,t),e._zod.optin="optional",Je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,a)=>(a.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,a))}),Ak=ee("$ZodNonOptional",(e,t)=>{wt.init(e,t),Je(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(a=>a!==void 0)):void 0}),e._zod.parse=(n,a)=>{const i=t.innerType._zod.run(n,a);return i instanceof Promise?i.then(c=>wg(c,e)):wg(i,e)}});function wg(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Fk=ee("$ZodCatch",(e,t)=>{wt.init(e,t),Je(e._zod,"optin",()=>t.innerType._zod.optin),Je(e._zod,"optout",()=>t.innerType._zod.optout),Je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,a)=>{if(a.direction==="backward")return t.innerType._zod.run(n,a);const i=t.innerType._zod.run(n,a);return i instanceof Promise?i.then(c=>(n.value=c.value,c.issues.length&&(n.value=t.catchValue({...n,error:{issues:c.issues.map(u=>to(u,a,Jr()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(c=>to(c,a,Jr()))},input:n.value}),n.issues=[]),n)}}),Wk=ee("$ZodPipe",(e,t)=>{wt.init(e,t),Je(e._zod,"values",()=>t.in._zod.values),Je(e._zod,"optin",()=>t.in._zod.optin),Je(e._zod,"optout",()=>t.out._zod.optout),Je(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,a)=>{if(a.direction==="backward"){const c=t.out._zod.run(n,a);return c instanceof Promise?c.then(u=>kl(u,t.in,a)):kl(c,t.in,a)}const i=t.in._zod.run(n,a);return i instanceof Promise?i.then(c=>kl(c,t.out,a)):kl(i,t.out,a)}});function kl(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Bk=ee("$ZodReadonly",(e,t)=>{wt.init(e,t),Je(e._zod,"propValues",()=>t.innerType._zod.propValues),Je(e._zod,"values",()=>t.innerType._zod.values),Je(e._zod,"optin",()=>t.innerType?._zod?.optin),Je(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,a)=>{if(a.direction==="backward")return t.innerType._zod.run(n,a);const i=t.innerType._zod.run(n,a);return i instanceof Promise?i.then(jg):jg(i)}});function jg(e){return e.value=Object.freeze(e.value),e}const Uk=ee("$ZodCustom",(e,t)=>{mn.init(e,t),wt.init(e,t),e._zod.parse=(n,a)=>n,e._zod.check=n=>{const a=n.value,i=t.fn(a);if(i instanceof Promise)return i.then(c=>Ng(c,n,a,e));Ng(i,n,a,e)}});function Ng(e,t,n,a){if(!e){const i={code:"custom",input:n,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(i.params=a._zod.def.params),t.issues.push($a(i))}}var kg;class Hk{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const a=n[0];if(this._map.set(t,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw new Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const a={...this.get(n)??{}};delete a.id;const i={...a,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Vk(){return new Hk}(kg=globalThis).__zod_globalRegistry??(kg.__zod_globalRegistry=Vk());const Cl=globalThis.__zod_globalRegistry;function Zk(e,t){return new e({type:"string",...Te(t)})}function Yk(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Te(t)})}function Cg(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Te(t)})}function qk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Te(t)})}function Gk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Te(t)})}function Kk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Te(t)})}function Xk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Te(t)})}function Qk(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Te(t)})}function Jk(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Te(t)})}function eC(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Te(t)})}function tC(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Te(t)})}function nC(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Te(t)})}function rC(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Te(t)})}function oC(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Te(t)})}function sC(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Te(t)})}function aC(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Te(t)})}function iC(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Te(t)})}function lC(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Te(t)})}function cC(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Te(t)})}function uC(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Te(t)})}function dC(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Te(t)})}function fC(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Te(t)})}function pC(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Te(t)})}function mC(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Te(t)})}function hC(e,t){return new e({type:"string",format:"date",check:"string_format",...Te(t)})}function gC(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Te(t)})}function xC(e,t){return new e({type:"string",format:"duration",check:"string_format",...Te(t)})}function yC(e,t){return new e({type:"number",checks:[],...Te(t)})}function vC(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Te(t)})}function bC(e,t){return new e({type:"boolean",...Te(t)})}function wC(e){return new e({type:"unknown"})}function jC(e,t){return new e({type:"never",...Te(t)})}function Eg(e,t){return new ug({check:"less_than",...Te(t),value:e,inclusive:!1})}function hd(e,t){return new ug({check:"less_than",...Te(t),value:e,inclusive:!0})}function Sg(e,t){return new dg({check:"greater_than",...Te(t),value:e,inclusive:!1})}function gd(e,t){return new dg({check:"greater_than",...Te(t),value:e,inclusive:!0})}function _g(e,t){return new ON({check:"multiple_of",...Te(t),value:e})}function Rg(e,t){return new FN({check:"max_length",...Te(t),maximum:e})}function El(e,t){return new WN({check:"min_length",...Te(t),minimum:e})}function zg(e,t){return new BN({check:"length_equals",...Te(t),length:e})}function NC(e,t){return new UN({check:"string_format",format:"regex",...Te(t),pattern:e})}function kC(e){return new HN({check:"string_format",format:"lowercase",...Te(e)})}function CC(e){return new VN({check:"string_format",format:"uppercase",...Te(e)})}function EC(e,t){return new ZN({check:"string_format",format:"includes",...Te(t),includes:e})}function SC(e,t){return new YN({check:"string_format",format:"starts_with",...Te(t),prefix:e})}function _C(e,t){return new qN({check:"string_format",format:"ends_with",...Te(t),suffix:e})}function ws(e){return new GN({check:"overwrite",tx:e})}function RC(e){return ws(t=>t.normalize(e))}function zC(){return ws(e=>e.trim())}function TC(){return ws(e=>e.toLowerCase())}function DC(){return ws(e=>e.toUpperCase())}function $C(){return ws(e=>B2(e))}function PC(e,t,n){return new e({type:"array",element:t,...Te(n)})}function MC(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Te(n)})}function IC(e){const t=LC(n=>(n.addIssue=a=>{if(typeof a=="string")n.issues.push($a(a,n.value,t._zod.def));else{const i=a;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push($a(i))}},e(n.value,n)));return t}function LC(e,t){const n=new mn({check:"custom",...Te(t)});return n._zod.check=e,n}const OC=ee("ZodISODateTime",(e,t)=>{ck.init(e,t),ht.init(e,t)});function AC(e){return mC(OC,e)}const FC=ee("ZodISODate",(e,t)=>{uk.init(e,t),ht.init(e,t)});function WC(e){return hC(FC,e)}const BC=ee("ZodISOTime",(e,t)=>{dk.init(e,t),ht.init(e,t)});function UC(e){return gC(BC,e)}const HC=ee("ZodISODuration",(e,t)=>{fk.init(e,t),ht.init(e,t)});function VC(e){return xC(HC,e)}const Pn=ee("ZodError",(e,t)=>{rg.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>tN(e,n)},flatten:{value:n=>eN(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,ad,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,ad,2)}},isEmpty:{get(){return e.issues.length===0}}})},{Parent:Error}),ZC=dd(Pn),YC=fd(Pn),qC=bl(Pn),GC=wl(Pn),KC=oN(Pn),XC=sN(Pn),QC=aN(Pn),JC=iN(Pn),eE=lN(Pn),tE=cN(Pn),nE=uN(Pn),rE=dN(Pn),kt=ee("ZodType",(e,t)=>(wt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Oo(t,{checks:[...t.checks??[],...n.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),e.clone=(n,a)=>eo(e,n,a),e.brand=()=>e,e.register=((n,a)=>(n.add(e,a),e)),e.parse=(n,a)=>ZC(e,n,a,{callee:e.parse}),e.safeParse=(n,a)=>qC(e,n,a),e.parseAsync=async(n,a)=>YC(e,n,a,{callee:e.parseAsync}),e.safeParseAsync=async(n,a)=>GC(e,n,a),e.spa=e.safeParseAsync,e.encode=(n,a)=>KC(e,n,a),e.decode=(n,a)=>XC(e,n,a),e.encodeAsync=async(n,a)=>QC(e,n,a),e.decodeAsync=async(n,a)=>JC(e,n,a),e.safeEncode=(n,a)=>eE(e,n,a),e.safeDecode=(n,a)=>tE(e,n,a),e.safeEncodeAsync=async(n,a)=>nE(e,n,a),e.safeDecodeAsync=async(n,a)=>rE(e,n,a),e.refine=(n,a)=>e.check(qE(n,a)),e.superRefine=n=>e.check(GE(n)),e.overwrite=n=>e.check(ws(n)),e.optional=()=>Ig(e),e.nullable=()=>Lg(e),e.nullish=()=>Ig(Lg(e)),e.nonoptional=n=>WE(e,n),e.array=()=>Fo(e),e.or=n=>zE([e,n]),e.and=n=>DE(e,n),e.transform=n=>Ag(e,ME(n)),e.default=n=>OE(e,n),e.prefault=n=>FE(e,n),e.catch=n=>UE(e,n),e.pipe=n=>Ag(e,n),e.readonly=()=>ZE(e),e.describe=n=>{const a=e.clone();return Cl.add(a,{description:n}),a},Object.defineProperty(e,"description",{get(){return Cl.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Cl.get(e);const a=e.clone();return Cl.add(a,n[0]),a},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Tg=ee("_ZodString",(e,t)=>{pd.init(e,t),kt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...a)=>e.check(NC(...a)),e.includes=(...a)=>e.check(EC(...a)),e.startsWith=(...a)=>e.check(SC(...a)),e.endsWith=(...a)=>e.check(_C(...a)),e.min=(...a)=>e.check(El(...a)),e.max=(...a)=>e.check(Rg(...a)),e.length=(...a)=>e.check(zg(...a)),e.nonempty=(...a)=>e.check(El(1,...a)),e.lowercase=a=>e.check(kC(a)),e.uppercase=a=>e.check(CC(a)),e.trim=()=>e.check(zC()),e.normalize=(...a)=>e.check(RC(...a)),e.toLowerCase=()=>e.check(TC()),e.toUpperCase=()=>e.check(DC()),e.slugify=()=>e.check($C())}),oE=ee("ZodString",(e,t)=>{pd.init(e,t),Tg.init(e,t),e.email=n=>e.check(Yk(sE,n)),e.url=n=>e.check(Qk(aE,n)),e.jwt=n=>e.check(pC(wE,n)),e.emoji=n=>e.check(Jk(iE,n)),e.guid=n=>e.check(Cg(Dg,n)),e.uuid=n=>e.check(qk(Sl,n)),e.uuidv4=n=>e.check(Gk(Sl,n)),e.uuidv6=n=>e.check(Kk(Sl,n)),e.uuidv7=n=>e.check(Xk(Sl,n)),e.nanoid=n=>e.check(eC(lE,n)),e.guid=n=>e.check(Cg(Dg,n)),e.cuid=n=>e.check(tC(cE,n)),e.cuid2=n=>e.check(nC(uE,n)),e.ulid=n=>e.check(rC(dE,n)),e.base64=n=>e.check(uC(yE,n)),e.base64url=n=>e.check(dC(vE,n)),e.xid=n=>e.check(oC(fE,n)),e.ksuid=n=>e.check(sC(pE,n)),e.ipv4=n=>e.check(aC(mE,n)),e.ipv6=n=>e.check(iC(hE,n)),e.cidrv4=n=>e.check(lC(gE,n)),e.cidrv6=n=>e.check(cC(xE,n)),e.e164=n=>e.check(fC(bE,n)),e.datetime=n=>e.check(AC(n)),e.date=n=>e.check(WC(n)),e.time=n=>e.check(UC(n)),e.duration=n=>e.check(VC(n))});function et(e){return Zk(oE,e)}const ht=ee("ZodStringFormat",(e,t)=>{ct.init(e,t),Tg.init(e,t)}),sE=ee("ZodEmail",(e,t)=>{ek.init(e,t),ht.init(e,t)}),Dg=ee("ZodGUID",(e,t)=>{QN.init(e,t),ht.init(e,t)}),Sl=ee("ZodUUID",(e,t)=>{JN.init(e,t),ht.init(e,t)}),aE=ee("ZodURL",(e,t)=>{tk.init(e,t),ht.init(e,t)}),iE=ee("ZodEmoji",(e,t)=>{nk.init(e,t),ht.init(e,t)}),lE=ee("ZodNanoID",(e,t)=>{rk.init(e,t),ht.init(e,t)}),cE=ee("ZodCUID",(e,t)=>{ok.init(e,t),ht.init(e,t)}),uE=ee("ZodCUID2",(e,t)=>{sk.init(e,t),ht.init(e,t)}),dE=ee("ZodULID",(e,t)=>{ak.init(e,t),ht.init(e,t)}),fE=ee("ZodXID",(e,t)=>{ik.init(e,t),ht.init(e,t)}),pE=ee("ZodKSUID",(e,t)=>{lk.init(e,t),ht.init(e,t)}),mE=ee("ZodIPv4",(e,t)=>{pk.init(e,t),ht.init(e,t)}),hE=ee("ZodIPv6",(e,t)=>{mk.init(e,t),ht.init(e,t)}),gE=ee("ZodCIDRv4",(e,t)=>{hk.init(e,t),ht.init(e,t)}),xE=ee("ZodCIDRv6",(e,t)=>{gk.init(e,t),ht.init(e,t)}),yE=ee("ZodBase64",(e,t)=>{xk.init(e,t),ht.init(e,t)}),vE=ee("ZodBase64URL",(e,t)=>{vk.init(e,t),ht.init(e,t)}),bE=ee("ZodE164",(e,t)=>{bk.init(e,t),ht.init(e,t)}),wE=ee("ZodJWT",(e,t)=>{jk.init(e,t),ht.init(e,t)}),$g=ee("ZodNumber",(e,t)=>{pg.init(e,t),kt.init(e,t),e.gt=(a,i)=>e.check(Sg(a,i)),e.gte=(a,i)=>e.check(gd(a,i)),e.min=(a,i)=>e.check(gd(a,i)),e.lt=(a,i)=>e.check(Eg(a,i)),e.lte=(a,i)=>e.check(hd(a,i)),e.max=(a,i)=>e.check(hd(a,i)),e.int=a=>e.check(Pg(a)),e.safe=a=>e.check(Pg(a)),e.positive=a=>e.check(Sg(0,a)),e.nonnegative=a=>e.check(gd(0,a)),e.negative=a=>e.check(Eg(0,a)),e.nonpositive=a=>e.check(hd(0,a)),e.multipleOf=(a,i)=>e.check(_g(a,i)),e.step=(a,i)=>e.check(_g(a,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function no(e){return yC($g,e)}const jE=ee("ZodNumberFormat",(e,t)=>{Nk.init(e,t),$g.init(e,t)});function Pg(e){return vC(jE,e)}const NE=ee("ZodBoolean",(e,t)=>{kk.init(e,t),kt.init(e,t)});function Ao(e){return bC(NE,e)}const kE=ee("ZodUnknown",(e,t)=>{Ck.init(e,t),kt.init(e,t)});function Pa(){return wC(kE)}const CE=ee("ZodNever",(e,t)=>{Ek.init(e,t),kt.init(e,t)});function EE(e){return jC(CE,e)}const SE=ee("ZodArray",(e,t)=>{Sk.init(e,t),kt.init(e,t),e.element=t.element,e.min=(n,a)=>e.check(El(n,a)),e.nonempty=n=>e.check(El(1,n)),e.max=(n,a)=>e.check(Rg(n,a)),e.length=(n,a)=>e.check(zg(n,a)),e.unwrap=()=>e.element});function Fo(e,t){return PC(SE,e,t)}const _E=ee("ZodObject",(e,t)=>{Rk.init(e,t),kt.init(e,t),Je(e,"shape",()=>t.shape),e.keyof=()=>Ma(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Pa()}),e.loose=()=>e.clone({...e._zod.def,catchall:Pa()}),e.strict=()=>e.clone({...e._zod.def,catchall:EE()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>G2(e,n),e.safeExtend=n=>K2(e,n),e.merge=n=>X2(e,n),e.pick=n=>Y2(e,n),e.omit=n=>q2(e,n),e.partial=(...n)=>Q2(Mg,e,n[0]),e.required=(...n)=>J2(Og,e,n[0])});function mr(e,t){const n={type:"object",shape:e??{},...Te(t)};return new _E(n)}const RE=ee("ZodUnion",(e,t)=>{zk.init(e,t),kt.init(e,t),e.options=t.options});function zE(e,t){return new RE({type:"union",options:e,...Te(t)})}const TE=ee("ZodIntersection",(e,t)=>{Tk.init(e,t),kt.init(e,t)});function DE(e,t){return new TE({type:"intersection",left:e,right:t})}const $E=ee("ZodRecord",(e,t)=>{Dk.init(e,t),kt.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function xd(e,t,n){return new $E({type:"record",keyType:e,valueType:t,...Te(n)})}const yd=ee("ZodEnum",(e,t)=>{$k.init(e,t),kt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(a,i)=>{const c={};for(const u of a)if(n.has(u))c[u]=t.entries[u];else throw new Error(`Key ${u} not found in enum`);return new yd({...t,checks:[],...Te(i),entries:c})},e.exclude=(a,i)=>{const c={...t.entries};for(const u of a)if(n.has(u))delete c[u];else throw new Error(`Key ${u} not found in enum`);return new yd({...t,checks:[],...Te(i),entries:c})}});function Ma(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(a=>[a,a])):e;return new yd({type:"enum",entries:n,...Te(t)})}const PE=ee("ZodTransform",(e,t)=>{Pk.init(e,t),kt.init(e,t),e._zod.parse=(n,a)=>{if(a.direction==="backward")throw new Kh(e.constructor.name);n.addIssue=c=>{if(typeof c=="string")n.issues.push($a(c,n.value,t));else{const u=c;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=n.value),u.inst??(u.inst=e),n.issues.push($a(u))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(c=>(n.value=c,n)):(n.value=i,n)}});function ME(e){return new PE({type:"transform",transform:e})}const Mg=ee("ZodOptional",(e,t)=>{Mk.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ig(e){return new Mg({type:"optional",innerType:e})}const IE=ee("ZodNullable",(e,t)=>{Ik.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Lg(e){return new IE({type:"nullable",innerType:e})}const LE=ee("ZodDefault",(e,t)=>{Lk.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function OE(e,t){return new LE({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():tg(t)}})}const AE=ee("ZodPrefault",(e,t)=>{Ok.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function FE(e,t){return new AE({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():tg(t)}})}const Og=ee("ZodNonOptional",(e,t)=>{Ak.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function WE(e,t){return new Og({type:"nonoptional",innerType:e,...Te(t)})}const BE=ee("ZodCatch",(e,t)=>{Fk.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function UE(e,t){return new BE({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const HE=ee("ZodPipe",(e,t)=>{Wk.init(e,t),kt.init(e,t),e.in=t.in,e.out=t.out});function Ag(e,t){return new HE({type:"pipe",in:e,out:t})}const VE=ee("ZodReadonly",(e,t)=>{Bk.init(e,t),kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ZE(e){return new VE({type:"readonly",innerType:e})}const YE=ee("ZodCustom",(e,t)=>{Uk.init(e,t),kt.init(e,t)});function qE(e,t={}){return MC(YE,e,t)}function GE(e){return IC(e)}const KE=Ma(["string","number","boolean","select","multi_select","color","icon","array","object","conditional_rules","columns_config","items_config","rich_text","code","date","time","datetime","file","image","range","key_value","repeater_config","step_config","email_template","calculation","tag_input"]),XE=mr({property:et(),operator:Ma(["equals","not_equals","contains","not_contains","gt","lt","gte","lte","empty","not_empty"]),value:Pa().optional()}),QE=mr({value:et(),label:et(),icon:et().optional(),description:et().optional()}),Wo=mr({type:KE,label:et(),description:et().optional(),default:Pa().optional(),required:Ao().optional(),translatable:Ao().optional(),supportsTags:Ao().optional(),readonly:Ao().optional(),options:Fo(QE).optional(),min:no().optional(),max:no().optional(),step:no().optional(),minLength:no().optional(),maxLength:no().optional(),pattern:et().optional(),conditions:Fo(XE).optional(),group:et().optional()}),JE=Ma(["general","validation","appearance","advanced","conditions"]),eS=Ma(["basic","choice","advanced","layout","content"]),tS=mr({accepts:Fo(et()).optional(),rejects:Fo(et()).optional(),maxChildren:no().optional(),minChildren:no().optional(),allowReorder:Ao().optional().default(!0)}),nS=mr({type:et().regex(/^[a-z][a-z0-9-]*$/,"Type must be lowercase alphanumeric with dashes"),name:et().min(1),description:et(),category:eS,icon:et(),container:tS.nullable(),properties:xd(JE,xd(et(),Wo)),defaults:xd(et(),Pa()),translatable:Fo(et()),supportsTags:Fo(et())});mr({general:mr({name:Wo.parse({type:"string",label:"Field Name",description:"Unique identifier for this field",required:!0,pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$"}),label:Wo.parse({type:"string",label:"Label",description:"Label shown above the field",translatable:!0}),width:Wo.parse({type:"select",label:"Width",description:"Field width in the form layout",options:[{value:"full",label:"Full Width"},{value:"1/2",label:"Half (1/2)"},{value:"1/3",label:"Third (1/3)"},{value:"2/3",label:"Two Thirds (2/3)"},{value:"1/4",label:"Quarter (1/4)"},{value:"3/4",label:"Three Quarters (3/4)"}],default:"full"})}),appearance:mr({hideLabel:Wo.parse({type:"boolean",label:"Hide Label",description:"Hide the field label",default:!1}),cssClass:Wo.parse({type:"string",label:"CSS Class",description:"Additional CSS classes for styling"})}),conditions:mr({conditionalLogic:Wo.parse({type:"conditional_rules",label:"Conditional Logic",description:"Show/hide this field based on conditions"})})});const _l=new Map;function rS(e){const t=nS.parse(e);if(_l.has(t.type))throw new Error(`Element type '${t.type}' is already registered. Each element type can only be registered once.`);return _l.set(t.type,t),t}function Rl(e){return _l.get(e)}function oS(e){return _l.has(e)}const Ia={general:{name:{type:"string",label:"Field Name",description:"Unique identifier for this field",required:!0,pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$"},label:{type:"string",label:"Label",description:"Label shown above the field",translatable:!0},width:{type:"select",label:"Width",description:"Field width in the form layout",options:[{value:"full",label:"Full Width"},{value:"1/2",label:"Half (1/2)"},{value:"1/3",label:"Third (1/3)"},{value:"2/3",label:"Two Thirds (2/3)"},{value:"1/4",label:"Quarter (1/4)"},{value:"3/4",label:"Three Quarters (3/4)"}],default:"full"}},validation:{},appearance:{hideLabel:{type:"boolean",label:"Hide Label",description:"Hide the field label",default:!1},cssClass:{type:"string",label:"CSS Class",description:"Additional CSS classes for styling"}},advanced:{},conditions:{conditionalLogic:{type:"conditional_rules",label:"Conditional Logic",description:"Show/hide this field based on conditions"}}};function sS(e){return{general:{...Ia.general,...e.general||{}},validation:{...Ia.validation,...e.validation||{}},appearance:{...Ia.appearance,...e.appearance||{}},advanced:{...Ia.advanced,...e.advanced||{}},conditions:{...Ia.conditions,...e.conditions||{}}}}const aS=({name:e,schema:t,value:n,onChange:a})=>{const i=()=>{switch(t.type){case"string":return r.jsx("input",{type:"text",value:n||"",onChange:u=>a(u.target.value),placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"});case"number":case"range":return r.jsx("input",{type:"number",value:n??"",onChange:u=>a(u.target.value?Number(u.target.value):void 0),min:t.min,max:t.max,step:t.step,placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"});case"boolean":return r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:!!n,onChange:u=>a(u.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.description&&r.jsx("span",{className:"text-sm text-gray-500",children:t.description})]});case"select":return r.jsxs("select",{value:n||"",onChange:u=>a(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select..."}),t.options?.map(u=>r.jsx("option",{value:u.value,children:u.label},u.value))]});case"multi_select":const c=n||[];return r.jsx("div",{className:"space-y-1",children:t.options?.map(u=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c.includes(u.value),onChange:d=>{d.target.checked?a([...c,u.value]):a(c.filter(m=>m!==u.value))},className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm",children:u.label})]},u.value))});case"color":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"color",value:n||"#000000",onChange:u=>a(u.target.value),className:"w-10 h-10 rounded border border-gray-300 cursor-pointer"}),r.jsx("input",{type:"text",value:n||"",onChange:u=>a(u.target.value),placeholder:"#000000",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]});case"icon":return r.jsx("input",{type:"text",value:n||"",onChange:u=>a(u.target.value),placeholder:"Icon name (e.g., user, mail)",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"});case"rich_text":return r.jsx("textarea",{value:n||"",onChange:u=>a(u.target.value),rows:4,placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y"});case"code":return r.jsx("textarea",{value:n||"",onChange:u=>a(u.target.value),rows:6,placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y"});case"conditional_rules":case"columns_config":case"items_config":case"repeater_config":case"step_config":case"email_template":case"calculation":case"key_value":return r.jsxs("div",{className:"px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-sm text-gray-500",children:['Complex editor for "',t.type,'" (not yet implemented)']});default:return r.jsx("input",{type:"text",value:String(n??""),onChange:u=>a(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}};return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[t.label,t.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),t.translatable&&r.jsx("span",{className:"ml-2 text-xs text-blue-500",title:"Translatable field",children:""}),t.supportsTags&&r.jsxs("span",{className:"ml-1 text-xs text-purple-500",title:"Supports dynamic tags",children:["{","...","}"]})]}),i()]})},iS=({elementType:e,properties:t,onPropertyChange:n,categories:a})=>{const i=p.useMemo(()=>Rl(e),[e]),[c,u]=p.useState("general");if(!i)return r.jsxs("div",{className:"p-4 text-sm text-red-600 bg-red-50 rounded-md",children:["Unknown element type: ",e]});const m=(a||["general","validation","appearance","advanced","conditions"]).filter(y=>i.properties[y]&&Object.keys(i.properties[y]).length>0),h={general:"General",validation:"Validation",appearance:"Appearance",advanced:"Advanced",conditions:"Conditions"},g=i.properties[c]||{},b=y=>!y.conditions||y.conditions.length===0?!0:y.conditions.every(v=>{const C=t[v.property];switch(v.operator){case"equals":return C===v.value;case"not_equals":return C!==v.value;case"contains":return Array.isArray(C)&&C.includes(v.value);case"not_contains":return!Array.isArray(C)||!C.includes(v.value);case"empty":return C==null||C==="";case"not_empty":return C!=null&&C!=="";case"gt":return typeof C=="number"&&C>v.value;case"lt":return typeof C=="number"&&C<v.value;case"gte":return typeof C=="number"&&C>=v.value;case"lte":return typeof C=="number"&&C<=v.value;default:return!0}});return r.jsxs("div",{className:"schema-property-panel",children:[m.length>1&&r.jsx("div",{className:"flex border-b border-gray-200 mb-4",children:m.map(y=>r.jsx("button",{onClick:()=>u(y),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${c===y?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:h[y]},y))}),r.jsxs("div",{className:"space-y-4",children:[Object.entries(g).map(([y,v])=>b(v)?r.jsx(aS,{name:y,schema:v,value:t[y],onChange:C=>n(y,C)},y):null),Object.keys(g).length===0&&r.jsx("div",{className:"text-sm text-gray-500 italic",children:"No properties in this category."})]}),!1]})};rS({type:"text",name:"Text Input",description:"Single-line text input field for short text entries",category:"basic",icon:"type",container:null,properties:sS({general:{placeholder:{type:"string",label:"Placeholder",description:"Hint text shown when field is empty",translatable:!0,supportsTags:!0},defaultValue:{type:"string",label:"Default Value",description:"Pre-filled value for the field",supportsTags:!0}},validation:{required:{type:"boolean",label:"Required",description:"User must fill this field to submit",default:!1},minLength:{type:"number",label:"Minimum Length",description:"Minimum number of characters",min:0},maxLength:{type:"number",label:"Maximum Length",description:"Maximum number of characters",min:1},pattern:{type:"string",label:"Pattern (Regex)",description:"Regular expression for validation"},customError:{type:"string",label:"Custom Error Message",description:"Error message shown when validation fails",translatable:!0}},appearance:{inputIcon:{type:"icon",label:"Input Icon",description:"Icon shown inside the input"},iconPosition:{type:"select",label:"Icon Position",options:[{value:"left",label:"Left"},{value:"right",label:"Right"}],default:"left",conditions:[{property:"inputIcon",operator:"not_empty"}]}},advanced:{autocomplete:{type:"select",label:"Autocomplete",description:"Browser autocomplete hint",options:[{value:"off",label:"Off"},{value:"on",label:"On"},{value:"name",label:"Full Name"},{value:"given-name",label:"First Name"},{value:"family-name",label:"Last Name"},{value:"organization",label:"Organization"},{value:"street-address",label:"Street Address"},{value:"postal-code",label:"Postal Code"}],default:"off"},readOnly:{type:"boolean",label:"Read Only",description:"Field cannot be edited by user",default:!1}}}),defaults:{label:"Text Field",name:"",width:"full",required:!1},translatable:["label","placeholder","customError"],supportsTags:["placeholder","defaultValue"]});const lS=({element:e,position:t,onClose:n,onPropertyChange:a,onDelete:i})=>{const c=p.useRef(null),u=p.useMemo(()=>oS(e.type),[e.type]),d=p.useMemo(()=>u?Rl(e.type):null,[e.type,u]);p.useEffect(()=>{const b=v=>{c.current&&!c.current.contains(v.target)&&n()},y=setTimeout(()=>{document.addEventListener("mousedown",b)},100);return()=>{clearTimeout(y),document.removeEventListener("mousedown",b)}},[n]),p.useEffect(()=>{const b=y=>{y.key==="Escape"&&n()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]);const m=p.useMemo(()=>({left:Math.min(Math.max(16,t.x),window.innerWidth-480-16),top:Math.min(Math.max(16,t.y),window.innerHeight-600-16)}),[t]),h=d?.name||e.label||e.type,g=e.icon;return r.jsxs("div",{ref:c,className:"fixed z-50 w-[480px] max-w-[calc(100vw-32px)] bg-white border border-gray-200 rounded-lg shadow-xl flex flex-col max-h-[600px]",style:{left:m.left,top:m.top},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[g&&r.jsx(g,{size:18}),r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:h}),u&&r.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-blue-600 bg-blue-50 rounded",children:"Schema"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:i,className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"Delete element",children:r.jsx(Gn,{size:16})}),r.jsx("button",{onClick:n,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Close panel",children:r.jsx(Zt,{size:16})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u?r.jsx(iS,{elementType:e.type,properties:e.properties||{},onPropertyChange:a}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-md",children:r.jsxs("p",{className:"text-xs text-amber-700",children:["This element type (",e.type,") doesn't have a schema yet. Using legacy property panels."]})}),r.jsx(O2,{element:e,onUpdate:a}),r.jsx(A2,{element:e,onUpdate:a})]})})]})},cS=mr({id:et().regex(/^[a-z][a-z0-9-]*$/,"ID must be lowercase alphanumeric with dashes"),label:et().min(1),icon:et(),position:no(),lazyLoad:Ao().default(!1),componentPath:et().optional(),requiredPermission:et().optional(),requiredPlan:et().optional(),hidden:Ao().default(!1),description:et().optional()}),vd=new Map;function ro(e){const t=cS.parse(e);if(vd.has(t.id))throw new Error(`Tab '${t.id}' is already registered. Each tab can only be registered once.`);return vd.set(t.id,t),t}function uS(e={}){let t=Array.from(vd.values());return e.includeHidden||(t=t.filter(n=>!n.hidden)),e.permission&&(t=t.filter(n=>!n.requiredPermission||n.requiredPermission===e.permission)),e.plan&&(t=t.filter(n=>!n.requiredPlan||n.requiredPlan===e.plan)),t}function dS(e={}){return uS(e).sort((t,n)=>t.position-n.position)}ro({id:"canvas",label:"Canvas",icon:"Layout",position:0,lazyLoad:!1,hidden:!0,description:"Form building canvas"}),ro({id:"builder",label:"Builder",icon:"Layout",position:5,lazyLoad:!1,description:"Form building canvas"}),ro({id:"emails",label:"Emails",icon:"Mail",position:10,lazyLoad:!1,hidden:!1,description:"Configure email notifications"}),ro({id:"settings",label:"Settings",icon:"Settings",position:20,lazyLoad:!1,description:"Form settings and configuration"}),ro({id:"entries",label:"Entries",icon:"Database",position:30,lazyLoad:!1,description:"View form submissions"}),ro({id:"automation",label:"Automation",icon:"Workflow",position:40,lazyLoad:!1,description:"Build automated workflows"}),ro({id:"style",label:"Style",icon:"PaintBucket",position:50,lazyLoad:!1,description:"Customize form appearance"}),ro({id:"integrations",label:"Integrations",icon:"Webhook",position:60,lazyLoad:!1,description:"Connect to external services"});const fS={Layout:Xu,Mail:$r,Settings:fl,Database:Qi,Zap:hl,PaintBucket:Qj,Webhook:ml,Workflow:zh};function pS(e){return fS[e]||Xu}function mS({activeTab:e,onTabChange:t,className:n}){const a=dS(),i=c=>{t(c==="builder"?"canvas":c)};return r.jsx("div",{className:Ae("flex items-center gap-1 px-4 py-2 bg-muted/50 border-b border-border",n),role:"tablist","aria-label":"Form builder tabs",children:a.map(c=>r.jsx(hS,{tab:c,isActive:c.id==="builder"?e==="canvas":e===c.id,onClick:()=>i(c.id)},c.id))})}function hS({tab:e,isActive:t,onClick:n}){const a=pS(e.icon);return r.jsxs("button",{role:"tab","aria-selected":t,"aria-controls":`panel-${e.id}`,id:`tab-${e.id}`,className:Ae("flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors",t?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:n,title:e.description,children:[r.jsx(a,{className:"w-4 h-4"}),r.jsx("span",{children:e.label})]})}const gS={success:r.jsx(Xi,{size:18}),error:r.jsx(Do,{size:18}),warning:r.jsx(Do,{size:18}),info:r.jsx(Oj,{size:18})},Fg=({id:e,type:t,message:n,visible:a,hiding:i,onClose:c})=>{const u=d=>{d.stopPropagation(),c(e)};return r.jsxs("div",{className:`toast toast-${t} ${i?"toast-hiding":a?"toast-visible":""}`,role:"alert","aria-live":"polite",children:[r.jsx("div",{className:"toast-icon",children:gS[t]}),r.jsx("div",{className:"toast-message",children:n}),r.jsx("button",{className:"toast-close",onClick:u,title:"Close","aria-label":"Close notification",children:r.jsx(Zt,{size:14})})]})},Wg=p.createContext(void 0),xS=({children:e,maxToasts:t=5,defaultDuration:n=5e3,position:a="top-right"})=>{const[i,c]=p.useState([]),u=p.useRef(new Map),d=p.useCallback(y=>{const v=u.current.get(y);v&&(clearTimeout(v),u.current.delete(y)),c(C=>C.map(N=>N.id===y?{...N,hiding:!0}:N)),setTimeout(()=>{c(C=>C.filter(N=>N.id!==y))},300)},[]),m=p.useCallback((y,v="info",C)=>{const N=$n(),k=C??n,_={id:N,type:v,message:y,duration:k,visible:!1,hiding:!1};if(c(S=>{const w=[...S,_];if(w.length>t){const R=w[0];return d(R.id),w.slice(1)}return w}),setTimeout(()=>{c(S=>S.map(w=>w.id===N?{...w,visible:!0}:w))},10),k>0){const S=setTimeout(()=>{d(N)},k);u.current.set(N,S)}},[n,t,d]),h=p.useCallback(()=>{u.current.forEach(y=>clearTimeout(y)),u.current.clear(),c(y=>y.map(v=>({...v,hiding:!0}))),setTimeout(()=>{c([])},300)},[]),g={toasts:i,addToast:m,removeToast:d,clearAllToasts:h},b={"top-right":"toast-container-top-right","top-left":"toast-container-top-left","bottom-right":"toast-container-bottom-right","bottom-left":"toast-container-bottom-left","top-center":"toast-container-top-center","bottom-center":"toast-container-bottom-center"};return r.jsxs(Wg.Provider,{value:g,children:[e,r.jsx("div",{className:`toast-container ${b[a]}`,children:i.map(y=>r.jsx(Fg,{id:y.id,type:y.type,message:y.message,visible:y.visible||!1,hiding:y.hiding,onClose:d},y.id))})]})},Bg=()=>{const e=p.useContext(Wg);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},zl=({isOpen:e,onClose:t,title:n,className:a="",position:i="right",size:c="md",children:u})=>{const d=p.useRef(null);if(p.useEffect(()=>{const g=y=>{y.key==="Escape"&&e&&t()},b=y=>{d.current&&!d.current.contains(y.target)&&t()};return e&&(document.addEventListener("keydown",g),document.addEventListener("mousedown",b),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",g),document.removeEventListener("mousedown",b),document.body.style.overflow=""}},[e,t]),!e)return null;const m={sm:"panel-sm",md:"panel-md",lg:"panel-lg",xl:"panel-xl",full:"panel-full"},h={left:"panel-left",right:"panel-right",center:"panel-center"};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"panel-overlay","aria-hidden":"true"}),r.jsxs("div",{ref:d,className:`panel ${m[c]} ${h[i]} ${a}`,role:"dialog","aria-modal":"true","aria-labelledby":n?"panel-title":void 0,children:[n&&r.jsxs("div",{className:"panel-header",children:[r.jsx("h3",{id:"panel-title",children:n}),r.jsx("button",{onClick:t,className:"panel-close","aria-label":"Close panel",children:r.jsx(Zt,{size:16})})]}),r.jsx("div",{className:"panel-body",children:u})]})]})},yS=[{type:"embed",label:"Embed Code",icon:r.jsx(Vt,{size:20})},{type:"popup",label:"Popup",icon:r.jsx(el,{size:20})},{type:"inline",label:"Inline",icon:r.jsx(Xu,{size:20})}],vS=({isOpen:e,onClose:t,formUrl:n="https://forms.example.com/contact-form",onInviteCollaborator:a,collaborators:i=[],embedOptions:c=yS,...u})=>{const[d,m]=p.useState("link"),{addToast:h}=Bg(),g=async v=>{try{await navigator.clipboard.writeText(v),h("Copied to clipboard!","success")}catch{h("Failed to copy","error")}},b=v=>{h("Collaborator removed","success")},y=v=>{h(`${v} embed code copied`,"success")};return r.jsx(zl,{isOpen:e,onClose:t,title:"Share & Collaborate",size:"md",...u,children:r.jsxs("div",{className:"share-content",children:[r.jsxs("div",{className:"share-tabs",children:[r.jsxs("button",{className:`share-tab ${d==="link"?"share-tab-active":""}`,onClick:()=>m("link"),children:[r.jsx(cl,{size:16}),"Public Link"]}),r.jsxs("button",{className:`share-tab ${d==="collaborate"?"share-tab-active":""}`,onClick:()=>m("collaborate"),children:[r.jsx(td,{size:16}),"Collaborate"]}),r.jsxs("button",{className:`share-tab ${d==="embed"?"share-tab-active":""}`,onClick:()=>m("embed"),children:[r.jsx(Vt,{size:16}),"Embed"]})]}),d==="link"&&r.jsxs("div",{className:"share-section",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Share this link to allow anyone to fill out your form"}),r.jsxs("div",{className:"share-link-input",children:[r.jsx("input",{type:"text",value:n,readOnly:!0,className:"form-input"}),r.jsxs("button",{className:"btn btn-sm",onClick:()=>g(n),children:[r.jsx(Sa,{size:16}),"Copy"]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox"}),r.jsx("span",{className:"text-sm",children:"Make form public"})]})})]}),d==="collaborate"&&r.jsxs("div",{className:"share-section",children:[r.jsx("div",{className:"collaborator-list",children:i.map(v=>r.jsxs("div",{className:"collaborator-item",children:[r.jsx("div",{className:"collaborator-avatar",children:v.avatar?r.jsx("img",{src:v.avatar,alt:v.name}):v.initials||v.name.substring(0,2).toUpperCase()}),r.jsxs("div",{className:"collaborator-info",children:[r.jsx("span",{className:"collaborator-name",children:v.name}),r.jsx("span",{className:"collaborator-role",children:v.role})]}),v.role!=="owner"&&r.jsx("button",{className:"btn btn-sm",onClick:()=>b(v.id),children:"Remove"})]},v.id))}),a&&r.jsxs("button",{className:"btn btn-outline w-full mt-4",onClick:a,children:[r.jsx(za,{size:16}),"Invite Collaborator"]})]}),d==="embed"&&r.jsxs("div",{className:"share-section",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to embed this form on your website"}),r.jsx("div",{className:"embed-options",children:c.map(v=>r.jsxs("button",{className:"embed-option",onClick:()=>y(v.type),children:[v.icon,r.jsx("span",{children:v.label})]},v.type))}),r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Embed Settings"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),r.jsx("span",{className:"text-sm",children:"Show form title"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),r.jsx("span",{className:"text-sm",children:"Show form description"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox"}),r.jsx("span",{className:"text-sm",children:"Auto-resize height"})]})]})]})]})]})})},bS=[{type:"html",label:"HTML Export",icon:r.jsx(rl,{size:24}),description:"Export as standalone HTML file with embedded styles"},{type:"json",label:"JSON Export",icon:r.jsx(Qi,{size:24}),description:"Export form structure as JSON data"},{type:"react",label:"React Component",icon:r.jsx(Vt,{size:24}),description:"Export as a React component with TypeScript"},{type:"pdf",label:"PDF Export",icon:r.jsx(Xr,{size:24}),description:"Export form as a printable PDF document"}],wS=({isOpen:e,onClose:t,onExport:n,exportOptions:a=bS,...i})=>{const c=u=>{n(u),setTimeout(()=>t(),500)};return r.jsx(zl,{isOpen:e,onClose:t,title:"Export Form",size:"md",...i,children:r.jsxs("div",{className:"export-content",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Choose a format to export your form. Each format is optimized for different use cases."}),r.jsx("div",{className:"export-options",children:a.map(u=>r.jsxs("button",{className:"export-option",onClick:()=>c(u.type),children:[r.jsx("div",{className:"export-option-icon",children:u.icon}),r.jsxs("div",{className:"export-option-content",children:[r.jsx("span",{className:"export-option-label",children:u.label}),u.description&&r.jsx("span",{className:"export-option-description",children:u.description})]}),r.jsx(Ji,{size:16,className:"export-option-action"})]},u.type))}),r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Pro Tip"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Use JSON export to backup your form structure or migrate it to another system. HTML export is perfect for embedding in static websites."})]})]})})},jS={totalViews:1234,submissions:456,conversionRate:37,averageTime:"2.5min"},NS=({isOpen:e,onClose:t,analytics:n=jS,...a})=>{const[i,c]=p.useState("week"),[u,d]=p.useState("line");return r.jsx(zl,{isOpen:e,onClose:t,title:"Form Analytics",size:"lg",...a,children:r.jsxs("div",{className:"analytics-content",children:[r.jsxs("div",{className:"analytics-header",children:[r.jsxs("div",{className:"analytics-date-range",children:[r.jsx(qi,{size:16}),r.jsxs("select",{value:i,onChange:m=>c(m.target.value),className:"form-select",children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"Last 7 days"}),r.jsx("option",{value:"month",children:"Last 30 days"}),r.jsx("option",{value:"year",children:"Last year"}),r.jsx("option",{value:"all",children:"All time"})]})]}),r.jsxs("div",{className:"analytics-actions",children:[r.jsxs("button",{className:"btn btn-sm btn-outline",children:[r.jsx(fh,{size:14}),"Filter"]}),r.jsxs("button",{className:"btn btn-sm btn-outline",children:[r.jsx(Ji,{size:14}),"Export"]})]})]}),r.jsxs("div",{className:"analytics-stats",children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-blue",children:r.jsx(td,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("div",{className:"stat-number",children:n.totalViews.toLocaleString()}),r.jsx("div",{className:"stat-label",children:"Total Views"}),r.jsxs("div",{className:"stat-change stat-change-positive",children:[r.jsx(pl,{size:12}),"+12% from last period"]})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-green",children:r.jsx(Gi,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("div",{className:"stat-number",children:n.submissions.toLocaleString()}),r.jsx("div",{className:"stat-label",children:"Submissions"}),r.jsxs("div",{className:"stat-change stat-change-positive",children:[r.jsx(pl,{size:12}),"+8% from last period"]})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-purple",children:r.jsx(pl,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsxs("div",{className:"stat-number",children:[n.conversionRate,"%"]}),r.jsx("div",{className:"stat-label",children:"Conversion Rate"}),r.jsxs("div",{className:"stat-change stat-change-negative",children:[r.jsx(pl,{size:12,className:"rotate-180"}),"-2% from last period"]})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-orange",children:r.jsx(qn,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("div",{className:"stat-number",children:n.averageTime}),r.jsx("div",{className:"stat-label",children:"Avg. Time"}),r.jsx("div",{className:"stat-change stat-change-neutral",children:"No change"})]})]})]}),r.jsxs("div",{className:"analytics-chart-section",children:[r.jsxs("div",{className:"analytics-chart-header",children:[r.jsx("h4",{children:"Submissions Over Time"}),r.jsxs("div",{className:"chart-type-selector",children:[r.jsx("button",{className:`chart-type-btn ${u==="line"?"active":""}`,onClick:()=>d("line"),children:"Line"}),r.jsx("button",{className:`chart-type-btn ${u==="bar"?"active":""}`,onClick:()=>d("bar"),children:"Bar"})]})]}),r.jsx("div",{className:"analytics-chart",children:r.jsxs("div",{className:"chart-placeholder",children:[r.jsx(Gi,{size:48,className:"text-gray-400"}),r.jsx("p",{children:"Chart visualization would go here"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Integrate with your preferred charting library (Chart.js, Recharts, etc.)"})]})})]}),r.jsxs("div",{className:"analytics-insights",children:[r.jsx("h4",{className:"mb-3",children:"Key Insights"}),r.jsxs("div",{className:"insight-list",children:[r.jsxs("div",{className:"insight-item",children:[r.jsx("div",{className:"insight-icon",children:""}),r.jsxs("div",{className:"insight-content",children:[r.jsx("p",{className:"insight-title",children:"Peak submission time"}),r.jsx("p",{className:"insight-value",children:"Weekdays between 2-4 PM"})]})]}),r.jsxs("div",{className:"insight-item",children:[r.jsx("div",{className:"insight-icon",children:""}),r.jsxs("div",{className:"insight-content",children:[r.jsx("p",{className:"insight-title",children:"Completion rate"}),r.jsx("p",{className:"insight-value",children:"82% of users who start complete the form"})]})]}),r.jsxs("div",{className:"insight-item",children:[r.jsx("div",{className:"insight-icon",children:""}),r.jsxs("div",{className:"insight-content",children:[r.jsx("p",{className:"insight-title",children:"Device breakdown"}),r.jsx("p",{className:"insight-value",children:"65% Desktop, 30% Mobile, 5% Tablet"})]})]})]})]})]})})},kS=[{id:"1",name:"Current Version",timestamp:Date.now(),isCurrent:!0,author:"John Doe",changes:"Added new fields and validation rules"},{id:"2",name:"Added validation rules",timestamp:Date.now()-36e5,author:"Jane Smith",changes:"Implemented email validation and required fields"},{id:"3",name:"Initial version",timestamp:Date.now()-72e5,author:"John Doe",changes:"Created form with basic fields"}],CS=({isOpen:e,onClose:t,versions:n=kS,onRestore:a,...i})=>{const[c,u]=p.useState(null),[d,m]=p.useState(!1),{addToast:h}=Bg(),g=y=>{const v=n.find(C=>C.id===y);v&&!v.isCurrent&&(a(y),h(`Restored to version: ${v.name}`,"success"),setTimeout(()=>t(),1e3))},b=y=>{const v=new Date(y),N=new Date().getTime()-v.getTime();return N<36e5?`${Math.floor(N/6e4)} minutes ago`:N<864e5?`${Math.floor(N/36e5)} hours ago`:v.toLocaleDateString()+" at "+v.toLocaleTimeString()};return r.jsx(zl,{isOpen:e,onClose:t,title:"Version History",size:"md",...i,children:r.jsxs("div",{className:"version-history-content",children:[r.jsxs("div",{className:"version-history-header",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Track changes and restore previous versions of your form"}),r.jsxs("label",{className:"flex items-center gap-2 mt-2",children:[r.jsx("input",{type:"checkbox",checked:d,onChange:y=>m(y.target.checked),className:"form-checkbox"}),r.jsx("span",{className:"text-sm",children:"Show version comparison"})]})]}),r.jsx("div",{className:"version-list",children:n.map(y=>r.jsxs("div",{className:`version-item ${y.isCurrent?"version-item-current":""} 
                         ${c===y.id?"version-item-selected":""}`,onClick:()=>u(y.id),children:[r.jsxs("div",{className:"version-item-header",children:[r.jsxs("div",{className:"version-info",children:[r.jsxs("h4",{className:"version-name",children:[y.name,y.isCurrent&&r.jsx("span",{className:"version-badge",children:"Current"})]}),r.jsxs("div",{className:"version-meta",children:[r.jsx(qn,{size:12}),r.jsx("span",{children:b(y.timestamp)}),y.author&&r.jsxs(r.Fragment,{children:[r.jsx(Da,{size:12}),r.jsx("span",{children:y.author})]})]})]}),r.jsx(Kr,{size:16,className:`version-chevron ${c===y.id?"rotate-90":""}`})]}),c===y.id&&r.jsxs("div",{className:"version-details",children:[y.changes&&r.jsxs("div",{className:"version-changes",children:[r.jsx(Xr,{size:14}),r.jsx("p",{children:y.changes})]}),!y.isCurrent&&r.jsxs("div",{className:"version-actions",children:[r.jsxs("button",{onClick:v=>{v.stopPropagation(),g(y.id)},className:"btn btn-sm btn-primary",children:[r.jsx(bh,{size:14}),"Restore This Version"]}),d&&r.jsx("button",{className:"btn btn-sm btn-outline",children:"Compare with Current"})]})]})]},y.id))}),r.jsx("div",{className:"version-history-footer",children:r.jsx("p",{className:"text-xs text-gray-500",children:"Version history is automatically saved when you make changes to your form. Older versions may be archived after 30 days."})})]})})},ES=({error:e,errorInfo:t,onReset:n})=>r.jsx("div",{className:"error-boundary",children:r.jsxs("div",{className:"error-content",children:[r.jsx(Do,{size:48,className:"text-red-500 mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The form builder encountered an error. Please refresh the page to continue."}),!1,r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsxs("button",{onClick:n,className:"btn btn-primary",children:[r.jsx(Po,{size:16,className:"mr-2"}),"Try Again"]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-outline",children:"Refresh Page"})]})]})});class SS extends p.Component{constructor(n){super(n);vu(this,"resetTimeoutId",null);vu(this,"previousResetKeys",[]);vu(this,"resetErrorBoundary",()=>{this.resetTimeoutId&&clearTimeout(this.resetTimeoutId),this.resetTimeoutId=window.setTimeout(()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},0)});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){const{onError:i}=this.props;console.error("ErrorBoundary caught an error:",n,a),i&&i(n,a),this.setState({errorInfo:a})}componentDidUpdate(n){const{resetKeys:a=[],resetOnPropsChange:i}=this.props;(a.some((u,d)=>u!==this.previousResetKeys[d])||i&&n.children!==this.props.children)&&(this.resetErrorBoundary(),this.previousResetKeys=[...a])}componentWillUnmount(){this.resetTimeoutId&&clearTimeout(this.resetTimeoutId)}render(){const{hasError:n,error:a,errorInfo:i}=this.state,{children:c,fallback:u}=this.props;return n&&a&&i?u?u(a,i,this.resetErrorBoundary):r.jsx(ES,{error:a,errorInfo:i,onReset:this.resetErrorBoundary}):c}}const _S=[{id:"edit",label:"Edit Properties",icon:r.jsx(Qu,{size:16}),shortcut:"E",action:"edit"},{id:"duplicate",label:"Duplicate",icon:r.jsx(Sa,{size:16}),shortcut:"D",action:"duplicate"},{id:"copy",label:"Copy",icon:r.jsx(Sa,{size:16}),shortcut:"C",action:"copy"},{id:"cut",label:"Cut",icon:r.jsx(wh,{size:16}),shortcut:"X",action:"cut"},{id:"divider1",divider:!0},{id:"move-up",label:"Move Up",icon:r.jsx(Dj,{size:16}),action:"move-up"},{id:"move-down",label:"Move Down",icon:r.jsx(Tj,{size:16}),action:"move-down"},{id:"divider2",divider:!0},{id:"delete",label:"Delete",icon:r.jsx(Gn,{size:16}),shortcut:"",action:"delete",danger:!0}],RS=({x:e,y:t,onClose:n,onAction:a,items:i=_S})=>{const c=p.useRef(null),[u,d]=p.useState({x:e,y:t}),[m,h]=p.useState(null);p.useEffect(()=>{const y=N=>{c.current&&!c.current.contains(N.target)&&n()},v=N=>{N.key==="Escape"&&n()},C=()=>n();if(c.current){const N=c.current.getBoundingClientRect(),k={...u};N.right>window.innerWidth&&(k.x=window.innerWidth-N.width-10),N.bottom>window.innerHeight&&(k.y=window.innerHeight-N.height-10),(k.x!==u.x||k.y!==u.y)&&d(k)}return document.addEventListener("click",y),document.addEventListener("keydown",v),document.addEventListener("scroll",C,!0),()=>{document.removeEventListener("click",y),document.removeEventListener("keydown",v),document.removeEventListener("scroll",C,!0)}},[n,u,e,t]);const g=y=>{y.disabled||y.divider||(y.children?h(y.id===m?null:y.id):y.action&&(a(y.action),n()))},b=y=>{if(y.divider)return r.jsx("div",{className:"context-menu-divider"},y.id);const v=y.children&&y.children.length>0;return r.jsxs("div",{className:`context-menu-item ${y.danger?"context-menu-item-danger":""} 
                   ${y.disabled?"context-menu-item-disabled":""}`,onClick:()=>g(y),onMouseEnter:()=>v&&h(y.id),children:[y.icon&&r.jsx("span",{className:"context-menu-icon",children:y.icon}),r.jsx("span",{className:"context-menu-label",children:y.label}),y.shortcut&&r.jsx("span",{className:"context-menu-shortcut",children:y.shortcut}),v&&r.jsx(Kr,{size:14,className:"context-menu-submenu-icon"}),v&&m===y.id&&r.jsx("div",{className:"context-submenu",children:y.children.map(b)})]},y.id)};return r.jsx("div",{ref:c,className:"context-menu",style:{left:u.x,top:u.y},role:"menu",onClick:y=>y.stopPropagation(),children:i.map(b)})},zS=({isVisible:e,gridSize:t=20,color:n="#E5E7EB",opacity:a=.5})=>e?r.jsx("div",{className:"grid-overlay",style:{opacity:a},children:r.jsxs("svg",{className:"grid-svg",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%","aria-hidden":"true",children:[r.jsxs("defs",{children:[r.jsx("pattern",{id:"grid",width:t,height:t,patternUnits:"userSpaceOnUse",children:r.jsx("path",{d:`M ${t} 0 L 0 0 0 ${t}`,fill:"none",stroke:n,strokeWidth:"1"})}),r.jsxs("pattern",{id:"grid-large",width:t*5,height:t*5,patternUnits:"userSpaceOnUse",children:[r.jsx("rect",{width:t*5,height:t*5,fill:"url(#grid)"}),r.jsx("path",{d:`M ${t*5} 0 L 0 0 0 ${t*5}`,fill:"none",stroke:n,strokeWidth:"2",opacity:"0.5"})]})]}),r.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid-large)"})]})}):null;function TS(){const[e,t]=p.useState(()=>document.getElementById("adminmenuwrap")?.offsetWidth??36),[n,a]=p.useState(()=>document.body.classList.contains("folded"));return p.useEffect(()=>{const i=()=>{a(document.body.classList.contains("folded"));const u=document.getElementById("adminmenuwrap");u&&t(u.offsetWidth)},c=new MutationObserver(i);return c.observe(document.body,{attributes:!0,attributeFilter:["class"]}),i(),()=>c.disconnect()},[]),{width:e,isFolded:n}}const DS=({isCollapsed:e,onToggleCollapse:t,children:n,isMobile:a=!1,minHeight:i=190,maxHeight:c=500,defaultHeight:u=220,onHeightChange:d})=>{const[m,h]=p.useState(u),[g,b]=p.useState(!1),y=p.useRef(null),{width:v}=TS(),C=p.useRef(0),N=p.useRef(0);p.useEffect(()=>{const S=R=>{if(!g)return;const M=C.current-R.clientY,I=window.innerHeight;y.current?.getBoundingClientRect().bottom;const O=I-50,P=Math.min(c,O),U=N.current+M,V=Math.min(P,Math.max(i,U));h(V),d&&d(V)},w=()=>{b(!1),document.body.style.cursor="",document.body.style.userSelect=""};return g&&(document.addEventListener("mousemove",S),document.addEventListener("mouseup",w),document.body.style.cursor="ns-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",w)}},[g,c,i]);const k=S=>{S.preventDefault(),b(!0),C.current=S.clientY,N.current=m},_=e?40:m;return p.useEffect(()=>{!e&&d&&!g&&d(m)},[m,e,d,g]),p.useEffect(()=>{const S=()=>{if(!g&&y.current){const w=window.innerHeight;if(w<200)return;const R=w-50,M=Math.min(c,R);h(I=>{if(I>M){const O=Math.max(i,M);return console.log(`Window resize: limiting height from ${I} to ${O}`),d&&d(O),O}return I})}};return window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}},[c,i,d,g]),r.jsxs("div",{ref:y,className:Ae("fixed bottom-0 right-0 z-[50]","bg-white border-t border-border","shadow-[0_-4px_16px_-2px_rgb(0,0,0,0.1)]","transition-[height,left] duration-300 ease-out","min-h-4",a&&"!h-auto max-h-[50vh]"),style:{left:v,...a?{}:{height:_}},children:[!e&&!a&&r.jsx("div",{className:Ae("h-4 bg-muted border-b border-border cursor-ns-resize","flex items-center justify-center","transition-colors duration-150 ease-out","text-muted-foreground hover:bg-accent"),onMouseDown:k,role:"separator","aria-orientation":"horizontal","aria-label":"Resize tray",children:r.jsx(Uj,{size:16})}),r.jsx("button",{className:Ae("absolute -top-4 left-1/2 -translate-x-1/2","w-12 h-4","bg-muted border border-border border-b-0","rounded-t-lg","cursor-pointer","flex items-center justify-center","text-muted-foreground","transition-all duration-150 ease-out","z-[1]","hover:bg-accent hover:border-primary hover:text-primary"),onClick:t,"aria-label":e?"Show elements":"Hide elements","aria-expanded":!e,children:e?r.jsx(Ea,{size:12}):r.jsx(jn,{size:12})}),!e&&n]})},$S=[{id:"1",name:"Contact Form",status:"published",lastModified:Date.now()-864e5},{id:"2",name:"Registration Form",status:"draft",lastModified:Date.now()-1728e5},{id:"3",name:"Survey Form",status:"published",lastModified:Date.now()-2592e5}],PS=({currentForm:e,onFormSelect:t,forms:n=$S})=>{const[a,i]=p.useState(!1),[c,u]=p.useState(""),d=p.useRef(null);p.useEffect(()=>{const v=C=>{d.current&&!d.current.contains(C.target)&&i(!1)};return a&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[a]);const m=n.find(v=>v.id===e),h=n.filter(v=>v.name.toLowerCase().includes(c.toLowerCase())),g=v=>{switch(v){case"published":return"text-green-600 bg-green-50";case"draft":return"text-gray-600 bg-gray-50";case"archived":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}},b=v=>{switch(v){case"published":return r.jsx(Xr,{size:12});case"draft":return r.jsx(qn,{size:12});case"archived":return r.jsx(zj,{size:12});default:return null}},y=v=>{if(!v)return"";const N=Date.now()-v;return N<36e5?`${Math.floor(N/6e4)}m ago`:N<864e5?`${Math.floor(N/36e5)}h ago`:`${Math.floor(N/864e5)}d ago`};return r.jsxs("div",{className:"form-selector",ref:d,children:[r.jsxs("button",{onClick:()=>i(!a),className:"form-selector-trigger","aria-haspopup":"listbox","aria-expanded":a,children:[r.jsxs("div",{className:"form-selector-value",children:[r.jsx("span",{className:"form-selector-name",children:m?.name||"Select Form"}),m&&r.jsxs("span",{className:`form-selector-status ${g(m.status)}`,children:[b(m.status),m.status]})]}),r.jsx(jn,{size:16,className:`form-selector-chevron ${a?"rotate-180":""}`})]}),a&&r.jsxs("div",{className:"form-selector-dropdown",role:"listbox",children:[r.jsx("div",{className:"form-selector-search",children:r.jsx("input",{type:"text",placeholder:"Search forms...",value:c,onChange:v=>u(v.target.value),className:"form-selector-search-input",onClick:v=>v.stopPropagation()})}),r.jsxs("div",{className:"form-selector-list",children:[h.map(v=>r.jsx("div",{className:`form-selector-item ${v.id===e?"form-selector-item-active":""}`,onClick:()=>{t(v.id),i(!1),u("")},role:"option","aria-selected":v.id===e,children:r.jsxs("div",{className:"form-selector-item-content",children:[r.jsx("span",{className:"form-selector-item-name",children:v.name}),r.jsxs("div",{className:"form-selector-item-meta",children:[r.jsxs("span",{className:`form-selector-item-status ${g(v.status)}`,children:[b(v.status),v.status]}),v.lastModified&&r.jsx("span",{className:"form-selector-item-time",children:y(v.lastModified)})]})]})},v.id)),r.jsxs("div",{className:"form-selector-item form-selector-item-create",children:[r.jsx(za,{size:16}),r.jsx("span",{children:"Create New Form"})]})]})]})]})},MS=[.5,.75,1,1.25,1.5,2],IS=({currentZoom:e,zoomLevels:t=MS,onZoomChange:n,onFitToScreen:a})=>{const i=()=>{const g=t.indexOf(e);g<t.length-1&&n(t[g+1])},c=()=>{const g=t.indexOf(e);g>0&&n(t[g-1])},u=()=>{n(1)},d=Math.round((e||1)*100),m=e<t[t.length-1],h=e>t[0];return r.jsxs("div",{className:"zoom-controls",role:"group","aria-label":"Zoom controls",children:[r.jsx("button",{onClick:c,disabled:!h,className:"zoom-btn","aria-label":"Zoom out",title:`Zoom out (${t[Math.max(0,t.indexOf(e)-1)]*100}%)`,children:r.jsx(p2,{size:16})}),r.jsxs("button",{onClick:u,className:"zoom-value","aria-label":`Current zoom ${d}%, click to reset to 100%`,title:"Reset zoom to 100%",children:[d,"%"]}),r.jsx("button",{onClick:i,disabled:!m,className:"zoom-btn","aria-label":"Zoom in",title:`Zoom in (${t[Math.min(t.length-1,t.indexOf(e)+1)]*100}%)`,children:r.jsx(f2,{size:16})}),a&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"zoom-divider"}),r.jsx("button",{onClick:a,className:"zoom-btn","aria-label":"Fit to screen",title:"Fit form to screen",children:r.jsx(Gu,{size:16})})]})]})},hr=({value:e,onChange:t,className:n="",placeholder:a="Click to edit",multiline:i=!1,onFormat:c,maxLength:u,disabled:d=!1})=>{const[m,h]=p.useState(!1),[g,b]=p.useState(e),[y,v]=p.useState(!1),[C,N]=p.useState({x:0,y:0}),[k,_]=p.useState(""),S=p.useRef(null);p.useRef(null),p.useEffect(()=>{b(e)},[e]);const w=()=>{!d&&!m&&(h(!0),b(e),setTimeout(()=>{S.current?.focus(),S.current?.select()},0))},R=()=>{h(!1),g!==e&&t(g),v(!1)},M=O=>{O.key==="Enter"&&!i&&(O.preventDefault(),R()),O.key==="Escape"&&(b(e),h(!1),v(!1))},I=O=>{const P=O.target.value;(!u||P.length<=u)&&b(P)};return r.jsxs("div",{className:`inline-editable-text ${n} ${d?"inline-editable-disabled":""} ${m?"inline-editable-editing":""}`,style:{position:"relative"},onClick:w,title:d?"":"Click to edit",children:[r.jsx("span",{className:`inline-editable-value ${m?"inline-editable-value-editing":""}`,children:e||r.jsx("span",{className:"inline-editable-placeholder",children:a})}),!d&&!m&&r.jsx(Qu,{size:12,className:"inline-edit-icon"}),m&&(i?r.jsx("textarea",{ref:S,value:g,onChange:I,onBlur:R,onKeyDown:M,className:"inline-editable-overlay-input",maxLength:u,rows:3,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent",border:"none",outline:"none",boxShadow:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",padding:"inherit",margin:"0",textAlign:"inherit",zIndex:10,resize:"none"},autoFocus:!0}):r.jsx("input",{ref:S,type:"text",value:g,onChange:I,onBlur:R,onKeyDown:M,className:"inline-editable-overlay-input",maxLength:u,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent",border:"none",outline:"none",boxShadow:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",padding:"inherit",margin:"0",textAlign:"inherit",zIndex:10},autoFocus:!0}))]})},LS={Monitor:Ra,Tablet:ed,Smartphone:Ta,Maximize:Gu,RotateCcw:bh,RefreshCw:Po,Grid:Bj,Layers:_a,History:Vj,Share:s2,Download:Ji,BarChart:Gi,Eye:$o,Save:Mo,Send:hs};function Ug(e){return e&&LS[e]||null}function bd(e,t){const n="flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors";switch(e){case"ghost":return Ae(n,"text-muted-foreground hover:text-foreground hover:bg-muted");case"secondary":return Ae(n,"bg-secondary text-secondary-foreground hover:bg-secondary/80");case"save":return Ae(n,"bg-primary text-primary-foreground hover:bg-primary/90");case"publish":return Ae(n,"bg-green-600 text-white hover:bg-green-700");default:return Ae(n,"text-muted-foreground hover:text-foreground hover:bg-muted")}}function OS(e){const{currentFormId:t,onFormSelect:n,formTitle:a,onFormTitleChange:i,devicePreview:c,onDeviceChange:u,showDeviceFrame:d,onToggleDeviceFrame:m,canUndo:h,canRedo:g,onUndo:b,onRedo:y,showGrid:v,onToggleGrid:C,zoom:N,onZoomChange:k,showElementsPanel:_,onToggleElementsPanel:S,onShowVersionHistory:w,onShowSharePanel:R,onShowExportPanel:M,onShowAnalytics:I,onPreview:O,onSave:P,onPublish:U,isSaving:V=!1,isMobile:oe=!1}=e;return r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-background border-b border-border",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(PS,{currentForm:t,onFormSelect:n}),r.jsx(hr,{value:a,onChange:i,className:"text-sm font-medium",placeholder:"Untitled Form"}),r.jsx(AS,{value:c,onChange:u,showFrame:d,onToggleFrame:m})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-border",children:[r.jsx(js,{icon:"RotateCcw",tooltip:"Undo (Ctrl+Z)",onClick:b,disabled:!h}),r.jsx(js,{icon:"RefreshCw",tooltip:"Redo (Ctrl+Shift+Z)",onClick:y,disabled:!g})]}),r.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-border",children:[r.jsx(Hg,{icon:"Grid",tooltip:"Toggle Grid",isActive:v,onClick:C}),r.jsx(IS,{currentZoom:N,onZoomChange:k})]}),r.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-border",children:[r.jsx(Hg,{icon:"Layers",tooltip:"Elements Panel",isActive:_,onClick:S}),r.jsx(js,{icon:"History",tooltip:"Version History",onClick:w}),r.jsx(js,{icon:"Share",tooltip:"Share & Collaborate",onClick:R}),r.jsx(js,{icon:"Download",tooltip:"Export Form",onClick:M}),r.jsx(js,{icon:"BarChart",tooltip:"Analytics",onClick:I})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:bd("secondary"),onClick:O,title:"Preview Form",children:[r.jsx($o,{className:"w-4 h-4"}),!oe&&r.jsx("span",{children:"Preview"})]}),r.jsxs("button",{className:bd("save"),onClick:P,title:"Save Form",children:[V?r.jsx(Po,{className:"w-4 h-4 animate-spin"}):r.jsx(Mo,{className:"w-4 h-4"}),!oe&&r.jsx("span",{children:"Save"})]}),r.jsxs("button",{className:bd("publish"),onClick:U,title:"Publish Form",children:[r.jsx(hs,{className:"w-4 h-4"}),!oe&&r.jsx("span",{children:"Publish"})]})]})]})]})}function js({icon:e,tooltip:t,onClick:n,disabled:a}){const i=Ug(e);return r.jsx("button",{className:Ae("flex items-center justify-center w-8 h-8 rounded-md transition-colors",a?"text-muted-foreground/50 cursor-not-allowed":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:n,disabled:a,title:t,children:i&&r.jsx(i,{className:"w-4 h-4"})})}function Hg({icon:e,tooltip:t,isActive:n,onClick:a}){const i=Ug(e);return r.jsx("button",{className:Ae("flex items-center justify-center w-8 h-8 rounded-md transition-colors",n?"bg-muted text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:a,title:t,"aria-pressed":n,children:i&&r.jsx(i,{className:"w-4 h-4"})})}function AS({value:e,onChange:t,showFrame:n,onToggleFrame:a}){const[i,c]=p.useState(!1),u=p.useRef(null);p.useEffect(()=>{function g(b){u.current&&!u.current.contains(b.target)&&c(!1)}return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const d=[{value:"desktop",label:"Desktop",icon:Ra},{value:"tablet",label:"Tablet",icon:ed},{value:"mobile",label:"Mobile",icon:Ta}],m=d.find(g=>g.value===e)||d[0],h=m.icon;return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("div",{className:"relative",ref:u,children:[r.jsxs("button",{className:Ae("flex items-center gap-2 px-3 py-2 text-sm rounded-md transition-colors","text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:()=>c(!i),"aria-haspopup":"listbox","aria-expanded":i,children:[r.jsx(h,{className:"w-4 h-4"}),r.jsx("span",{children:m.label}),r.jsx(jn,{className:Ae("w-3 h-3 transition-transform",i&&"rotate-180")})]}),i&&r.jsx("div",{className:"absolute top-full left-0 mt-1 py-1 bg-popover border border-border rounded-md shadow-md z-50 min-w-[140px]",role:"listbox",children:d.map(g=>{const b=g.icon;return r.jsxs("button",{className:Ae("flex items-center gap-2 w-full px-3 py-2 text-sm transition-colors",e===g.value?"bg-muted text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:()=>{t(g.value),c(!1)},role:"option","aria-selected":e===g.value,children:[r.jsx(b,{className:"w-4 h-4"}),r.jsx("span",{children:g.label})]},g.value)})})]}),r.jsx("button",{className:Ae("flex items-center justify-center w-8 h-8 rounded-md transition-colors",n?"bg-muted text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:a,title:"Toggle Device Frame","aria-pressed":n,children:r.jsx(Gu,{className:"w-4 h-4"})})]})}const FS=p.lazy(()=>dr(()=>Promise.resolve().then(()=>RT),void 0)),WS=p.lazy(()=>dr(()=>Promise.resolve().then(()=>CT),void 0).then(e=>({default:e.AutomationsTab}))),Tl=[{id:"all",name:"All",elements:[]},{id:"basic",name:"Basic",elements:[{type:"text",label:"Text Input",icon:gs,keywords:["text","input","field","single","line"]},{type:"email",label:"Email",icon:$r,keywords:["email","mail","address","contact"]},{type:"textarea",label:"Text Area",icon:Xr,keywords:["textarea","multiline","paragraph","long","text"]},{type:"number",label:"Number",icon:Hj,keywords:["number","numeric","integer","decimal"]},{type:"phone",label:"Phone",icon:t2,keywords:["phone","telephone","mobile","contact"]},{type:"url",label:"URL",icon:cl,keywords:["url","link","website","address"]},{type:"password",label:"Password",icon:Yj,keywords:["password","secret","secure","hidden"]},{type:"hidden",label:"Hidden Field",icon:Zu,keywords:["hidden","invisible","data","tracking"]}]},{id:"choice",name:"Choice",elements:[{type:"select",label:"Dropdown",icon:jn,keywords:["dropdown","select","options","choose"]},{type:"multiselect",label:"Multi Select",icon:Gj,keywords:["multiselect","multiple","options","choose"]},{type:"checkbox",label:"Checkbox",icon:kh,keywords:["checkbox","check","multiple","toggle"]},{type:"radio",label:"Radio Group",icon:vh,keywords:["radio","single","choice","option"]},{type:"checkbox-cards",label:"Checkbox Cards",icon:Ch,keywords:["checkbox","cards","multiple","visual","panel"]},{type:"radio-cards",label:"Radio Cards",icon:qj,keywords:["radio","cards","single","visual","panel"]},{type:"toggle",label:"Toggle Switch",icon:Lj,keywords:["toggle","switch","boolean","yes"]},{type:"rating",label:"Rating Stars",icon:Sh,keywords:["rating","stars","feedback","score"]},{type:"likert",label:"Likert Scale",icon:Gi,keywords:["likert","scale","survey","agreement"]}]},{id:"advanced",name:"Advanced",elements:[{type:"date",label:"Date Picker",icon:qi,keywords:["date","calendar","picker","day"]},{type:"time",label:"Time Picker",icon:qn,keywords:["time","clock","hour","minute"]},{type:"datetime",label:"DateTime",icon:qi,keywords:["datetime","timestamp","date","time"]},{type:"daterange",label:"Date Range",icon:qi,keywords:["daterange","period","from","until"]},{type:"slider",label:"Slider Range",icon:i2,keywords:["slider","range","numeric","scale"]},{type:"color",label:"Color Picker",icon:Pr,keywords:["color","picker","palette","hex"]},{type:"location",label:"Location Map",icon:Kj,keywords:["location","map","address","coordinates"]},{type:"signature",label:"Signature Pad",icon:e2,keywords:["signature","draw","sign","handwriting"]}]},{id:"upload",name:"Upload",elements:[{type:"file",label:"File Upload",icon:Io,keywords:["file","upload","attachment","document"]},{type:"image",label:"Image Upload",icon:qu,keywords:["image","photo","picture","upload"]},{type:"multi-file",label:"Multiple Files",icon:Io,keywords:["multiple","files","batch","upload"]},{type:"drag-drop",label:"Drag & Drop",icon:Io,keywords:["drag","drop","file","zone"]}]},{id:"containers",name:"Containers",elements:[{type:"columns",label:"Columns",icon:Hu,keywords:["columns","layout","grid","split"],allowChildren:!0},{type:"step-wizard",label:"Step Wizard",icon:c2,keywords:["wizard","steps","multi-step","sequential"],allowChildren:!0},{type:"tabs",label:"Tabs",icon:Wj,keywords:["tabs","tabbed","navigation","switch"],allowChildren:!0},{type:"accordion",label:"Accordion",icon:l2,keywords:["accordion","collapsible","expandable","toggle"],allowChildren:!0},{type:"section",label:"Section",icon:lh,keywords:["section","fieldset","group","wrapper"],allowChildren:!0},{type:"repeater",label:"Repeater",icon:Ch,keywords:["repeater","array","dynamic","multiple"],allowChildren:!0},{type:"conditional-group",label:"Conditional Group",icon:zh,keywords:["conditional","group","logic","show-hide"],allowChildren:!0},{type:"card",label:"Card/Panel",icon:Ca,keywords:["card","panel","container","box"],allowChildren:!0}]},{id:"layout",name:"Layout",elements:[{type:"heading",label:"Heading",icon:gs,keywords:["heading","title","header","text"]},{type:"paragraph",label:"Paragraph",icon:Xr,keywords:["paragraph","text","description","content"]},{type:"divider",label:"Divider",icon:Vt,keywords:["divider","separator","line","break"]},{type:"spacer",label:"Spacer",icon:Vt,keywords:["spacer","gap","margin","padding"]},{type:"page-break",label:"Page Break",icon:wh,keywords:["page","break","split","new"]},{type:"html-block",label:"HTML Block",icon:rl,keywords:["html","code","custom","embed"]}]},{id:"integration",name:"Integration",elements:[{type:"payment",label:"Payment (Stripe)",icon:Vu,keywords:["payment","stripe","money","credit"]},{type:"subscription",label:"Subscription",icon:Vu,keywords:["subscription","recurring","monthly","billing"]},{type:"webhook",label:"API Webhook",icon:ml,keywords:["webhook","api","integration","external"]},{type:"calculation",label:"Calculation",icon:Pj,keywords:["calculation","formula","math","compute"]},{type:"conditional",label:"Conditional Logic",icon:hl,keywords:["conditional","logic","if","rules"]},{type:"captcha",label:"reCAPTCHA",icon:Nh,keywords:["captcha","security","bot","protection"]}]}],Vg={mobile:{width:375,height:667,name:"iPhone 8"},tablet:{width:768,height:1024,name:"iPad"},desktop:{width:1200,height:800,name:"Desktop"}},BS=({position:e,onClose:t,settings:n,onUpdate:a,devicePreview:i})=>{const c=p.useRef(null),[u,d]=p.useState("appearance"),[m,h]=p.useState(e),[g,b]=p.useState(!1),[y,v]=p.useState({x:0,y:0}),C=({label:_,values:S,onChange:w})=>{const R=(M,I)=>{w({...S,[M]:I})};return r.jsxs("div",{className:"spacing-editor",children:[r.jsx("label",{className:"property-label",children:_}),r.jsxs("div",{className:"spacing-visual",children:[r.jsx("input",{type:"number",value:S.top,onChange:M=>R("top",parseInt(M.target.value)||0),className:"spacing-input spacing-input-top",placeholder:"0",min:"0",max:"200"}),r.jsxs("div",{className:"spacing-middle",children:[r.jsx("input",{type:"number",value:S.left,onChange:M=>R("left",parseInt(M.target.value)||0),className:"spacing-input spacing-input-left",placeholder:"0",min:"0",max:"200"}),r.jsx("div",{className:"spacing-preview",children:r.jsx("div",{className:"spacing-content",children:"Content"})}),r.jsx("input",{type:"number",value:S.right,onChange:M=>R("right",parseInt(M.target.value)||0),className:"spacing-input spacing-input-right",placeholder:"0",min:"0",max:"200"})]}),r.jsx("input",{type:"number",value:S.bottom,onChange:M=>R("bottom",parseInt(M.target.value)||0),className:"spacing-input spacing-input-bottom",placeholder:"0",min:"0",max:"200"})]})]})},N=_=>{_.target.closest(".panel-header")&&(b(!0),v({x:_.clientX-m.x,y:_.clientY-m.y}))};p.useEffect(()=>{const _=w=>{g&&h({x:Math.max(0,Math.min(w.clientX-y.x,window.innerWidth-400)),y:Math.max(0,Math.min(w.clientY-y.y,window.innerHeight-500))})},S=()=>{b(!1)};return g&&(document.addEventListener("mousemove",_),document.addEventListener("mouseup",S)),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",S)}},[g,y]),p.useEffect(()=>{const _=S=>{c.current&&!c.current.contains(S.target)&&t()};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[t]);const k=n[i]||n;return r.jsxs("div",{ref:c,className:`floating-properties-panel form-wrapper-panel ${g?"dragging":""}`,style:{position:"fixed",left:m.x,top:m.y,zIndex:1e3,cursor:g?"grabbing":"default"},onMouseDown:N,children:[r.jsxs("div",{className:"panel-header",style:{cursor:"grab"},children:[r.jsxs("div",{className:"panel-title-group",children:[r.jsxs("h3",{className:"panel-title",children:[r.jsx(lh,{size:16}),"Form Wrapper Settings"]}),r.jsx("div",{className:"device-indicator",children:r.jsxs("span",{className:`device-badge device-badge-${i}`,children:[i==="desktop"&&r.jsx(Ra,{size:14}),i==="tablet"&&r.jsx(ed,{size:14}),i==="mobile"&&r.jsx(Ta,{size:14}),i.charAt(0).toUpperCase()+i.slice(1)]})})]}),r.jsx("button",{onClick:t,className:"panel-close-btn",children:r.jsx(Zt,{size:16})})]}),r.jsxs("div",{className:"panel-tabs",children:[r.jsx("button",{className:`panel-tab ${u==="appearance"?"panel-tab-active":""}`,onClick:()=>d("appearance"),children:"Appearance"}),r.jsx("button",{className:`panel-tab ${u==="spacing"?"panel-tab-active":""}`,onClick:()=>d("spacing"),children:"Spacing"})]}),r.jsxs("div",{className:"panel-content",children:[u==="appearance"&&r.jsxs("div",{className:"panel-section",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Type"}),r.jsxs("select",{value:n.backgroundType,onChange:_=>a("backgroundType",_.target.value),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{value:"none",children:"None"}),r.jsx("option",{value:"color",children:"Solid Color"}),r.jsx("option",{value:"image",children:"Background Image"})]})]}),n.backgroundType==="color"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Color"}),r.jsx("input",{type:"color",value:n.backgroundColor,onChange:_=>a("backgroundColor",_.target.value),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Opacity"}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.backgroundOpacity,onChange:_=>a("backgroundOpacity",parseFloat(_.target.value)),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(n.backgroundOpacity*100),"%"]})]})]}),n.backgroundType==="image"&&r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Image URL"}),r.jsx("input",{type:"url",value:n.backgroundImage,onChange:_=>a("backgroundImage",_.target.value),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",placeholder:"https://example.com/image.jpg"})]})]}),u==="spacing"&&r.jsxs("div",{className:"panel-section",children:[r.jsx(C,{label:"Padding",values:k.padding||{top:0,right:0,bottom:0,left:0},onChange:_=>a(`${i}.padding`,_)}),r.jsx(C,{label:"Margin",values:k.margin||{top:0,right:0,bottom:0,left:0},onChange:_=>a(`${i}.margin`,_)})]})]})]})},US=()=>{const[e,t]=p.useState(""),[n,a]=p.useState("all"),[i,c]=p.useState("all");return r.jsx("div",{className:"flex-1 flex flex-col overflow-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold",children:"Form Entries"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"247 total"}),r.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded-md",children:[r.jsx(Ji,{size:14}),"Export"]})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ms,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search entries...",value:e,onChange:u=>t(u.target.value),className:"w-full pl-10 pr-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:n,onChange:u=>a(u.target.value),className:"flex-1 px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"read",children:"Read"}),r.jsx("option",{value:"flagged",children:"Flagged"})]}),r.jsxs("select",{value:i,onChange:u=>c(u.target.value),className:"flex-1 px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"})]})]})]}),r.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6,7,8].map(u=>r.jsxs("div",{className:"entry-item",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("span",{className:"font-medium",children:["Entry #",247-u]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`entry-status ${u<=2?"entry-status-new":u===3?"entry-status-flagged":"entry-status-read"}`,children:u<=2?"New":u===3?"Flagged":"Read"}),r.jsx("button",{className:"flex items-center justify-center w-6 h-6 text-muted-foreground hover:text-foreground hover:bg-muted rounded",children:r.jsx($o,{size:12})})]})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:u===1?"john.doe@example.com":u===2?"jane.smith@example.com":`user${u}@example.com`}),r.jsx("p",{className:"text-xs text-gray-400",children:u<=2?`${u*15} minutes ago`:u===3?"2 hours ago":`${u} days ago`})]},u))}),r.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Showing 1-8 of 247"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{className:"px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded",children:"Previous"}),r.jsx("button",{className:"px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded",children:"Next"})]})]})]})})},Zg=()=>r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Po,{className:"w-8 h-8 mx-auto text-muted-foreground/50 animate-spin mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})}),HS=()=>{const[e,t]=p.useState("theme");return r.jsx("div",{className:"flex-1 flex flex-col overflow-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Form Styling"}),r.jsxs("div",{className:"style-tabs mb-4",children:[r.jsx("button",{className:`style-tab ${e==="theme"?"style-tab-active":""}`,onClick:()=>t("theme"),children:"Theme"}),r.jsx("button",{className:`style-tab ${e==="colors"?"style-tab-active":""}`,onClick:()=>t("colors"),children:"Colors"}),r.jsx("button",{className:`style-tab ${e==="fonts"?"style-tab-active":""}`,onClick:()=>t("fonts"),children:"Fonts"}),r.jsx("button",{className:`style-tab ${e==="layout"?"style-tab-active":""}`,onClick:()=>t("layout"),children:"Layout"}),r.jsx("button",{className:`style-tab ${e==="custom"?"style-tab-active":""}`,onClick:()=>t("custom"),children:"Custom CSS"})]}),e==="theme"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"theme-selector",children:[r.jsx("label",{className:"property-label",children:"Choose Theme"}),r.jsx("div",{className:"theme-grid",children:["default","minimal","modern","classic"].map(n=>r.jsxs("div",{className:"theme-option",children:[r.jsxs("div",{className:`theme-preview theme-preview-${n}`,children:[r.jsx("div",{className:"theme-preview-header"}),r.jsx("div",{className:"theme-preview-field"}),r.jsx("div",{className:"theme-preview-field"}),r.jsx("div",{className:"theme-preview-button"})]}),r.jsx("span",{className:"theme-name",children:n})]},n))})]})}),e==="colors"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Primary Color"}),r.jsx("input",{type:"color",defaultValue:"#3b82f6",className:"w-full h-10 px-1 py-1 border border-border rounded-md cursor-pointer"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Secondary Color"}),r.jsx("input",{type:"color",defaultValue:"#6b7280",className:"w-full h-10 px-1 py-1 border border-border rounded-md cursor-pointer"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Color"}),r.jsx("input",{type:"color",defaultValue:"#ffffff",className:"w-full h-10 px-1 py-1 border border-border rounded-md cursor-pointer"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Text Color"}),r.jsx("input",{type:"color",defaultValue:"#1f2937",className:"w-full h-10 px-1 py-1 border border-border rounded-md cursor-pointer"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Border Color"}),r.jsx("input",{type:"color",defaultValue:"#d1d5db",className:"w-full h-10 px-1 py-1 border border-border rounded-md cursor-pointer"})]})]}),e==="fonts"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Font Family"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{children:"Inter"}),r.jsx("option",{children:"Roboto"}),r.jsx("option",{children:"Open Sans"}),r.jsx("option",{children:"Lato"}),r.jsx("option",{children:"Montserrat"}),r.jsx("option",{children:"Custom Font"})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Font Size"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{children:"Small (14px)"}),r.jsx("option",{children:"Medium (16px)"}),r.jsx("option",{children:"Large (18px)"}),r.jsx("option",{children:"Extra Large (20px)"})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Line Height"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{children:"Compact (1.4)"}),r.jsx("option",{children:"Normal (1.5)"}),r.jsx("option",{children:"Comfortable (1.6)"}),r.jsx("option",{children:"Spacious (1.8)"})]})]})]}),e==="custom"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Custom CSS"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background font-mono",rows:8,placeholder:`.form-container {
  max-width: 600px;
  margin: 0 auto;
}

.form-input {
  border-radius: 8px;
  border: 2px solid #e5e7eb;
}

.form-input:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}`})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"flex-1 flex items-center justify-center gap-1 px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded-md",children:[r.jsx($o,{size:14}),"Preview"]}),r.jsxs("button",{className:"flex-1 flex items-center justify-center gap-1 px-2 py-1 text-xs font-medium text-primary-foreground bg-primary hover:bg-primary/90 rounded-md",children:[r.jsx(Mo,{size:14}),"Apply"]})]})]}),e==="layout"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Form Background"}),r.jsxs("div",{className:"background-type-selector",children:[r.jsxs("label",{className:"radio-option",children:[r.jsx("input",{type:"radio",name:"backgroundType",value:"none",checked:!1,onChange:()=>{}}),r.jsx("span",{children:"None"})]}),r.jsxs("label",{className:"radio-option",children:[r.jsx("input",{type:"radio",name:"backgroundType",value:"color",checked:!0,onChange:()=>{}}),r.jsx("span",{children:"Color"})]}),r.jsxs("label",{className:"radio-option",children:[r.jsx("input",{type:"radio",name:"backgroundType",value:"image",checked:!1,onChange:()=>{}}),r.jsx("span",{children:"Image"})]})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Color"}),r.jsxs("div",{className:"color-input-group",children:[r.jsx("input",{type:"color",value:"#ffffff",onChange:()=>{},className:"color-picker"}),r.jsx("input",{type:"text",value:"#ffffff",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",placeholder:"#ffffff"})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Opacity"}),r.jsxs("div",{className:"slider-input-group",children:[r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:"1",onChange:()=>{},className:"slider"}),r.jsx("span",{className:"slider-value",children:"100%"})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Form Padding"}),r.jsxs("div",{className:"spacing-controls",children:[r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Top"}),r.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Right"}),r.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Bottom"}),r.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Left"}),r.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Form Margin"}),r.jsxs("div",{className:"spacing-controls",children:[r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Top"}),r.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Right"}),r.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Bottom"}),r.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Left"}),r.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Image"}),r.jsxs("div",{className:"image-upload-area",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:()=>{},className:"file-input"}),r.jsxs("div",{className:"upload-placeholder",children:[r.jsx(Io,{size:24}),r.jsx("p",{children:"Click to upload or drag image here"}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 2MB"})]})]})]})]})]})})},VS=()=>{const[e,t]=p.useState([{id:"email",name:"Email Notifications",enabled:!0,configured:!0},{id:"webhook",name:"Webhook",enabled:!1,configured:!1},{id:"zapier",name:"Zapier",enabled:!1,configured:!1},{id:"mailchimp",name:"Mailchimp",enabled:!0,configured:!0},{id:"slack",name:"Slack",enabled:!1,configured:!1}]);return r.jsx("div",{className:"flex-1 flex flex-col overflow-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Integrations"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Connect your form to external services and automate workflows."}),r.jsx("div",{className:"space-y-3",children:e.map(n=>r.jsx("div",{className:"integration-item",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:`integration-icon integration-icon-${n.id}`,children:[n.id==="email"&&r.jsx($r,{size:16}),n.id==="webhook"&&r.jsx(ml,{size:16}),n.id==="zapier"&&r.jsx(hl,{size:16}),n.id==="mailchimp"&&r.jsx($r,{size:16}),n.id==="slack"&&r.jsx(ah,{size:16})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:n.name}),r.jsx("div",{className:"text-sm text-gray-500",children:n.configured?"Configured":"Not configured"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.enabled,onChange:a=>{t(e.map(i=>i.id===n.id?{...i,enabled:a.target.checked}:i))},disabled:!n.configured}),r.jsx("button",{className:"px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded",children:n.configured?"Configure":"Setup"})]})]})},n.id))}),r.jsxs("div",{className:"mt-6 p-4 border border-gray-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Webhook Configuration"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Webhook URL"}),r.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",placeholder:"https://your-webhook-url.com/endpoint"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"HTTP Method"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{children:"POST"}),r.jsx("option",{children:"PUT"}),r.jsx("option",{children:"PATCH"})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Custom Headers"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",rows:3,placeholder:`Authorization: Bearer your-token
Content-Type: application/json`})]}),r.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded-md",children:[r.jsx(Ju,{size:14}),"Test Webhook"]})]})]})]})})},ZS=({position:e,onResize:t,currentWidth:n,showInput:a,onInputVisibilityChange:i,maxWidth:c})=>{const[u,d]=p.useState(!1),[m,h]=p.useState(n),[g,b]=p.useState(!1),y=N=>{d(!0),N.preventDefault()},v=p.useCallback(N=>{if(u){const k=document.querySelector(".form-wrapper");if(k){const _=k.getBoundingClientRect(),S=k.closest(".canvas-responsive")?.getBoundingClientRect();if(_&&S){const w=S.width*.95,R=c?parseInt(c):1/0,M=Math.min(w,R),O=Math.min(M,Math.max(200,N.clientX-_.left));t(`${Math.round(O)}px`)}}}},[u,t]),C=p.useCallback(()=>{d(!1)},[]);return p.useEffect(()=>{if(u)return document.addEventListener("mousemove",v),document.addEventListener("mouseup",C),()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",C)}},[u,v,C]),r.jsxs("div",{className:`resize-bar resize-bar-${e}`,onMouseDown:y,onMouseEnter:()=>!g&&i(!0),onMouseLeave:()=>!g&&i(!1),children:[r.jsx("div",{className:"resize-handle"}),(a||g)&&r.jsx("div",{className:"resize-input-popup",onMouseEnter:()=>i(!0),onMouseLeave:()=>!g&&i(!1),children:r.jsx("input",{type:"text",value:m,onChange:N=>h(N.target.value),onFocus:()=>b(!0),onBlur:()=>{b(!1),t(m),i(!1)},onKeyDown:N=>{N.key==="Enter"&&(t(m),N.currentTarget.blur())},className:"resize-input",placeholder:"100% or 400px"})})]})},YS=({isVisible:e,position:t,isCollapsed:n,onClose:a,onPositionChange:i,onCollapse:c,onElementClick:u})=>{const{items:d,order:m,reorderElements:h,removeElement:g,addElement:b}=Wh(),y=Array.isArray(m)?m.map(P=>d[P]).filter(Boolean):[],[v,C]=p.useState(!1),[N,k]=p.useState({x:0,y:0}),_=P=>{if(P.target.closest(".floating-panel-header")){C(!0);const U=P.currentTarget.getBoundingClientRect();k({x:P.clientX-U.left,y:P.clientY-U.top})}},S=p.useCallback(P=>{v&&i({x:P.clientX-N.x,y:P.clientY-N.y})},[v,N,i]),w=p.useCallback(()=>{C(!1)},[]);p.useEffect(()=>{if(v)return document.addEventListener("mousemove",S),document.addEventListener("mouseup",w),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",w)}},[v,S,w]);const R=(P,U)=>{const V=[...m],oe=V[P];V.splice(P,1),V.splice(U,0,oe),h(V)},M=P=>{g(P)},I=P=>{const U=d[P];if(U){const V={...U,id:$n(),name:`${U.name}_copy`};b(V)}},O=(P,U)=>{P.preventDefault(),console.log("Context menu for element:",U)};return e?r.jsxs("div",{className:`floating-elements-panel ${n?"floating-panel-collapsed":""}`,style:{left:t.x,top:t.y,cursor:v?"grabbing":"default"},onMouseDown:_,children:[r.jsxs("div",{className:"floating-panel-header",children:[r.jsxs("div",{className:"floating-panel-title",children:[r.jsx(_a,{size:16}),r.jsxs("span",{children:["Elements (",y.length,")"]})]}),r.jsxs("div",{className:"floating-panel-controls",children:[r.jsx("button",{className:"floating-panel-btn",onClick:()=>c(!n),title:n?"Expand":"Collapse",children:n?r.jsx(jn,{size:14}):r.jsx(Ea,{size:14})}),r.jsx("button",{className:"floating-panel-btn",onClick:a,title:"Close",children:r.jsx(Zt,{size:14})})]})]}),!n&&r.jsx("div",{className:"floating-panel-content",children:y.length===0?r.jsxs("div",{className:"floating-panel-empty",children:[r.jsx(_a,{size:24,className:"opacity-50"}),r.jsx("p",{className:"text-xs text-gray-500",children:"No elements yet"})]}):r.jsx("div",{className:"floating-elements-list",children:y.map((P,U)=>r.jsxs("div",{className:"floating-element-item",draggable:!0,onClick:()=>u(P.id),onContextMenu:V=>O(V,P.id),onDragStart:V=>{V.dataTransfer.setData("text/plain",U.toString())},onDragOver:V=>V.preventDefault(),onDrop:V=>{V.preventDefault();const oe=parseInt(V.dataTransfer.getData("text/plain"));R(oe,U)},children:[r.jsx("div",{className:"floating-element-drag",children:r.jsx(Ku,{size:12})}),r.jsxs("div",{className:"floating-element-info",children:[r.jsx("div",{className:"floating-element-label",children:P.properties?.label||P.label}),r.jsxs("div",{className:"floating-element-type",children:[P.type.replace("_"," ")," ",P.properties?.required&&""]})]}),r.jsxs("div",{className:"floating-element-actions",children:[r.jsx("button",{className:"floating-element-btn",onClick:V=>{V.stopPropagation(),I(P.id)},title:"Duplicate",children:r.jsx(Sa,{size:12})}),r.jsx("button",{className:"floating-element-btn",onClick:V=>{V.stopPropagation(),M(P.id)},title:"Delete",children:r.jsx(Gn,{size:12})})]})]},P.id))})})]}):null},qS=()=>{const{items:e,order:t,addElement:n,removeElement:a,updateElement:i,reorderElements:c}=Wh(),{selectedElements:u,setSelectedElements:d}=k2();p.useEffect(()=>{document.body.classList.add("sticky-menu","folded")},[]);const[m,h]=p.useState("canvas"),[g,b]=p.useState("desktop"),[y,v]=p.useState("Untitled Form"),[C,N]=p.useState("idle"),[k,_]=p.useState("1"),[S,w]=p.useState([]),R=p.useCallback(($,te,J=5e3)=>{const be=Math.random().toString(36).substr(2,9),Re={id:be,type:$,message:te,visible:!1};w(Ue=>[...Ue,Re]),setTimeout(()=>{w(Ue=>Ue.map(Et=>Et.id===be?{...Et,visible:!0}:Et))},100),$!=="error"&&setTimeout(()=>{M(be)},J)},[]),M=p.useCallback($=>{w(te=>te.map(J=>J.id===$?{...J,hiding:!0}:J)),setTimeout(()=>{w(te=>te.filter(J=>J.id!==$))},400)},[]),[I,O]=p.useState(1),[P,U]=p.useState(!1),[V,oe]=p.useState(!0),[de,Ne]=p.useState(250),[re,ke]=p.useState(!1),[ae,ne]=p.useState("all"),[F,K]=p.useState(""),[G,z]=p.useState(!1),[T,Y]=p.useState(150),[q,Q]=p.useState(250),[xe,H]=p.useState(0),[ge,ze]=p.useState(!1),[Se,rt]=p.useState(!1),[Ze,ot]=p.useState(null);p.useRef(null);const Ke=p.useCallback($=>{Ne($);const Re=$-50-16-8,Ue=Re<160;if(z(Ue),Ue){const Or=Math.max(100,Re);Y(Or)}else{const Or=Math.max(160,Re);Y(Or)}Q((re?40:$)+100)},[re]);p.useEffect(()=>{Ke(220)},[Ke]),p.useEffect(()=>{Q((re?40:de)+100)},[re,de]);const[Ct,qt]=p.useState(""),[Jt,sn]=p.useState(!1),[le,ue]=p.useState(!1),[he,Me]=p.useState({x:100,y:100}),[Xe,We]=p.useState(!1),[me,gt]=p.useState({backgroundType:"color",backgroundColor:"#ffffff",backgroundImage:"",backgroundOpacity:1,desktop:{padding:{top:40,right:40,bottom:40,left:40},margin:{top:20,right:20,bottom:20,left:20}},tablet:{padding:{top:30,right:30,bottom:30,left:30},margin:{top:15,right:15,bottom:15,left:15}},mobile:{padding:{top:20,right:20,bottom:20,left:20},margin:{top:10,right:10,bottom:10,left:10}}}),[tt,Qe]=p.useState([]),[kn,an]=p.useState(null),[_t,br]=p.useState(!1),[Qa,Ja]=p.useState(!1),[Vo,ao]=p.useState(!1),[wr,jr]=p.useState("100%"),io=p.useCallback($=>{const te=Vg[$];if(!te)return"100%";const be={mobile:70,tablet:90,desktop:30}[$]||0;return`${te.width-be}px`},[]);p.useEffect(()=>{if(V&&g!=="desktop"){const $=io(g),te=parseInt(wr)||0,J=parseInt($)||1/0;J>0&&te!==J&&jr($)}else(!V||g==="desktop")&&(parseInt(wr)||0)<600&&jr("100%")},[g,V,io]);const qe=p.useRef(null),Gt=p.useRef(null),[ft,$t]=p.useState(null),jt=p.useRef(0),xt=p.useRef(null),[pt,Rt]=p.useState(!1),[Pt,Cn]=p.useState(null),[Ge,ln]=p.useState(null),[Mt,hn]=p.useState([]),[Kt,cn]=p.useState(null),[yt,At]=p.useState(null),[Bs,Nf]=p.useState(null),[kf,er]=p.useState(!1),[pc,ei]=p.useState(!1),[Cf,Us]=p.useState(!1),[mc,ti]=p.useState(!1),[Ir,Ef]=p.useState([]),[An,st]=p.useState(-1),[ni,ri]=p.useState(!1),[oi,Hs]=p.useState(!1),hc=p.useRef(null),gc=p.useRef(null);p.useEffect(()=>{const $=te=>{hc.current&&!hc.current.contains(te.target)&&Hs(!1)};return oi&&document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[oi]);const En=Array.isArray(t)?t.map($=>e[$]).filter(Boolean):[],Be=u[0]?e[u[0]]:null,Vs=p.useCallback(()=>{if(!F.trim())return ae==="all"?Tl.filter(Re=>Re.id!=="all").flatMap(Re=>Re.elements):Tl.find(Re=>Re.id===ae)?.elements||[];const $=F.toLowerCase().trim(),te=["the","a","an","and","or","but","in","on","at","to","for","of","with","by","is","are","was","were","be","been","have","has","had","do","does","did","will","would","could","should","may","might","can","this","that","these","those","it","its","he","she","they","them","their","his","her"],J=$.split(" ").filter(Re=>Re.length>2&&!te.includes(Re));return Tl.filter(Re=>Re.id!=="all").flatMap(Re=>Re.elements).filter(Re=>{const Ue=[Re.label.toLowerCase(),Re.type.toLowerCase(),...Re.keywords||[]].join(" ");return J.some(Et=>Ue.includes(Et))||Re.label.toLowerCase().includes($)})},[F,ae]),Ft=p.useCallback(()=>{if(qe.current){const{scrollLeft:$,scrollWidth:te,clientWidth:J}=qe.current;ze($>5),rt($<te-J-10),H($)}},[]),xc=p.useCallback($=>{if(qe.current){const J=$==="left"?qe.current.scrollLeft-200:qe.current.scrollLeft+200;qe.current.scrollTo({left:J,behavior:"smooth"})}},[]),si=p.useCallback(()=>{if(!qe.current){xt.current=null;return}const $=qe.current.scrollLeft,te=jt.current,J=te-$,be=.2;Math.abs(J)>.5?(qe.current.scrollLeft=$+J*be,xt.current=requestAnimationFrame(si)):(qe.current.scrollLeft=te,xt.current=null)},[]),ai=p.useCallback($=>{if(!qe.current)return;const{scrollLeft:te,scrollWidth:J,clientWidth:be}=qe.current;if(J>be){const Ue=$.deltaY||$.deltaX,Et=J-be;xt.current===null&&(jt.current=te),jt.current=Math.max(0,Math.min(Et,jt.current+Ue)),xt.current||(xt.current=requestAnimationFrame(si)),$.preventDefault()}},[si]);p.useEffect(()=>{const $=qe.current;if(!(!$||!G))return $.addEventListener("wheel",ai,{passive:!1}),()=>$.removeEventListener("wheel",ai)},[G,ai]);const Lr=p.useCallback(()=>{Gt.current&&(clearInterval(Gt.current),Gt.current=null),$t(null),qe.current&&(jt.current=qe.current.scrollLeft)},[]),Zo=p.useCallback($=>{xt.current&&(cancelAnimationFrame(xt.current),xt.current=null),Gt.current&&clearInterval(Gt.current),$t($);const te=()=>{if(qe.current){const{scrollLeft:J,scrollWidth:be,clientWidth:Re}=qe.current,Ue=9;$==="left"&&J>0?qe.current.scrollLeft-=Ue:$==="right"&&J<be-Re?qe.current.scrollLeft+=Ue:Lr()}};te(),Gt.current=setInterval(te,16)},[Lr]);p.useEffect(()=>()=>{Gt.current&&clearInterval(Gt.current),xt.current&&cancelAnimationFrame(xt.current)},[]),p.useEffect(()=>{const $=qe.current;if($&&G)return Ft(),$.addEventListener("scroll",Ft),window.addEventListener("resize",Ft),()=>{$.removeEventListener("scroll",Ft),window.removeEventListener("resize",Ft)}},[Ft,G]),p.useCallback(($,te)=>{if(!G||!qe.current)return;const J=te.getBoundingClientRect(),be=qe.current.getBoundingClientRect();ot({element:$,rect:J,containerRect:be})},[G]),p.useCallback(()=>{ot(null)},[]),p.useEffect(()=>{const $=qe.current;if(!$||!Ze)return;const te=()=>{ot(null)};return $.addEventListener("scroll",te),()=>$.removeEventListener("scroll",te)},[Ze]),p.useEffect(()=>{const $=()=>{ri(window.innerWidth<=768)};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),p.useEffect(()=>{if(C==="saving"){const $=setTimeout(()=>{N("saved"),R("success","All changes saved"),setTimeout(()=>N("idle"),1e3)},1e3);return()=>clearTimeout($)}},[C,R]),p.useEffect(()=>{const $=te=>{if(te.ctrlKey||te.metaKey)switch(te.key){case"z":te.preventDefault(),te.shiftKey?vc():yc();break;case"c":Be&&(te.preventDefault(),Go());break;case"v":te.preventDefault(),kr();break;case"d":Be&&(te.preventDefault(),ci());break;case"s":te.preventDefault(),or();break}(te.key==="Delete"||te.key==="Backspace")&&Be&&!te.target?.closest(".inline-editable-input")&&(te.preventDefault(),Nr(Be.id)),te.key==="Escape"&&(cn(null),At(null),d([]))};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[Be,Ir,An]),p.useEffect(()=>()=>{document.removeEventListener("dragover",lo),document.removeEventListener("drop",lo)},[]);const lo=$=>{$.preventDefault()},Sn=()=>{const $=Ir.slice(0,An+1);$.push({items:{...e},order:[...t]}),Ef($),st($.length-1)},yc=()=>{An>0&&(st(An-1),Ir[An-1])},vc=()=>{An<Ir.length-1&&(st(An+1),Ir[An+1])},Zs=$=>{if(!$)return{};const te={...$.defaults};for(const J of Object.keys($.properties)){const be=$.properties[J];if(be)for(const[Re,Ue]of Object.entries(be))Ue.default!==void 0&&te[Re]===void 0&&(te[Re]=Ue.default)}return te},ii=p.useCallback(($,te,J)=>{try{const be=Rl($);if(!be){console.warn(`No schema registered for element type: ${$}`);return}const Re=Zs(be),Ue={id:$n(),type:$,properties:{...Re,name:Re.name||$+"_"+Date.now().toString(36),label:Re.label||te},children:be.container?[]:void 0};n(Ue),d([Ue.id]),N("saving"),Sn()}catch(be){console.error("Error adding element:",be),N("error")}},[n,d,e,t]),Yo=p.useCallback(($,te,J=!1)=>{try{Rt(!0);const be={type:te.type,label:te.label,icon:te.icon?.name||te.type,keywords:te.keywords,isNew:J};Cn(be),$.dataTransfer.effectAllowed="move",$.dataTransfer.setData("text/plain",JSON.stringify(be))}catch(be){console.error("Error in drag start:",be),Rt(!1),Cn(null)}},[]),tr=p.useCallback(()=>{Rt(!1),Cn(null),ln(null)},[]),Ys=p.useCallback(($,te)=>{$.preventDefault(),$.stopPropagation(),$.dataTransfer.dropEffect="move",ln(te)},[]),co=p.useCallback(($,te)=>{$.preventDefault(),$.stopPropagation();try{let J=Pt;if(!J){const be=$.dataTransfer.getData("text/plain");be&&(J=JSON.parse(be))}if(J)if(J.isNew)Ye(J,te);else{const be=t.indexOf(J.id);if(be!==te&&be!==-1){const Re=[...t],[Ue]=Re.splice(be,1);Re.splice(te,0,Ue),c(Re),N("saving"),Sn()}}}catch(J){console.error("Error in drop handler:",J),N("error")}tr()},[Pt,t,n,c,tr]),Ye=($,te)=>{const J=Rl($.type);if(!J){console.warn(`No schema registered for element type: ${$.type}`);return}const be=Zs(J),Re={id:$n(),type:$.type,properties:{...be,name:be.name||$.type+"_"+Date.now().toString(36),label:be.label||$.label},children:J.container?[]:void 0};n(Re,te),d([Re.id]),N("saving"),Sn()},qo=p.useCallback(($,te)=>{const J=te?.ctrlKey||te?.metaKey;if(J?hn(be=>be.includes($)?be.filter(Re=>Re!==$):[...be,$]):(d([$]),hn([]),br(!1),an($),Qe([$])),te&&!J){const be=e[$];if(be){const Ue=te.currentTarget.getBoundingClientRect();At({element:be,position:{x:Ue.left,y:Ue.bottom+10},isVisible:!0})}}},[e]),Nr=p.useCallback($=>{try{a($),Be?.id===$&&(d([]),an(null),Qe([]),br(!1)),Qe(te=>te.filter(J=>J!==$)),N("saving"),At(null),Sn()}catch(te){console.error("Error deleting element:",te),N("error")}},[Be,a,d]),nr=p.useCallback(($,te,J)=>{const be=e[$];if(be)try{i($,{properties:{...be.properties,[te]:J}}),N("saving"),Sn()}catch(Re){console.error("Error updating element property:",Re),N("error")}},[e,i]),li=p.useCallback(($,te)=>{$.preventDefault(),qo(te),cn({x:$.clientX,y:$.clientY})},[qo]),bc=p.useCallback($=>{if(Be)try{switch($){case"edit":At({element:Be,position:Kt||{x:0,y:0}});break;case"duplicate":ci();break;case"copy":Go();break;case"cut":qs();break;case"move-up":rr("up");break;case"move-down":rr("down");break;case"delete":Nr(Be.id);break}}catch(te){console.error("Error in context action:",te),N("error")}cn(null)},[Be,Nr,Kt]),ci=()=>{if(Be){const $={...Be,id:$n(),properties:{...Be.properties,label:`${Be.properties?.label} (Copy)`}};n($),N("saving"),Sn()}},Go=()=>{Be&&localStorage.setItem("copiedElement",JSON.stringify(Be))},qs=()=>{Be&&(Go(),Nr(Be.id))},kr=()=>{const $=localStorage.getItem("copiedElement");if($){const J={...JSON.parse($),id:$n()};n(J),N("saving"),Sn()}},rr=$=>{if(Be){const te=t.indexOf(Be.id),J=$==="up"?te-1:te+1;if(J>=0&&J<t.length){const be=[...t],[Re]=be.splice(te,1);be.splice(J,0,Re),c(be),N("saving"),Sn()}}},or=()=>{N("saving")},uo=p.useCallback($=>{console.log("Format text:",$),Nf(null)},[]),Ko=$=>{console.log("Restore version:",$),er(!1)},Cr=$=>{console.log("Export as:",$),Us(!1)};return r.jsx(SS,{children:r.jsxs("div",{className:"flex flex-col h-screen",children:[r.jsx(OS,{currentFormId:k,onFormSelect:_,formTitle:y,onFormTitleChange:v,devicePreview:g,onDeviceChange:b,showDeviceFrame:V,onToggleDeviceFrame:()=>oe(!V),canUndo:An>0,canRedo:An<Ir.length-1,onUndo:yc,onRedo:vc,showGrid:P,onToggleGrid:()=>U(!P),zoom:I,onZoomChange:O,showElementsPanel:le,onToggleElementsPanel:()=>ue(!le),onShowVersionHistory:()=>er(!0),onShowSharePanel:()=>ei(!0),onShowExportPanel:()=>Us(!0),onShowAnalytics:()=>ti(!0),onPreview:()=>{},onSave:or,onPublish:()=>{},isSaving:C==="saving",isMobile:ni}),r.jsx(mS,{activeTab:m,onTabChange:h}),r.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[m!=="canvas"&&r.jsxs("div",{className:"flex-1 bg-background flex flex-col overflow-hidden",children:[m==="settings"&&r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Form Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Form Name"}),r.jsx(hr,{value:y,onChange:v,className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"Form Name"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Form Description"}),r.jsx(hr,{value:"",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"Describe what this form is for...",multiline:!0})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Submit Button Text"}),r.jsx(hr,{value:"Submit",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"Submit"})]}),r.jsxs("div",{className:"pt-4 border-t border-border",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Submission Settings"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Require login to submit"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Allow multiple submissions"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Save as draft"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Show progress bar"})]})]})]}),r.jsxs("div",{className:"pt-4 border-t border-border",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Notifications"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Admin Email"}),r.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"admin@example.com"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Thank You Page URL"}),r.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"https://example.com/thank-you"})]})]})]})]})]})}),m==="emails"&&r.jsx(p.Suspense,{fallback:r.jsx(Zg,{}),children:r.jsx(FS,{})}),m==="entries"&&r.jsx(US,{}),m==="automation"&&r.jsx(p.Suspense,{fallback:r.jsx(Zg,{}),children:r.jsx(WS,{formId:parseInt(k)||0})}),m==="style"&&r.jsx(HS,{}),m==="integrations"&&r.jsx(VS,{})]}),m==="canvas"&&r.jsxs("div",{className:"flex-1 flex flex-col overflow-auto bg-muted/30 p-4",style:{paddingBottom:`${q}px`},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:Jt,onChange:$=>sn($.target.checked),className:"rounded border-border"}),r.jsx("span",{children:"Custom Width:"})]}),r.jsx("input",{type:"text",className:"w-24 px-2 py-1 text-sm border border-border rounded-md bg-background disabled:opacity-50",value:Ct,onChange:$=>qt($.target.value),placeholder:g==="desktop"?"1200px":g==="tablet"?"768px":"375px",disabled:!Jt})]}),r.jsx("div",{className:"flex-1 flex items-start justify-center origin-top",style:{transform:`scale(${I})`},children:r.jsxs("div",{ref:gc,className:Ae("w-full bg-background rounded-lg shadow-sm border border-border min-h-[400px] relative mx-auto",g==="tablet"&&"max-w-[768px]",g==="mobile"&&"max-w-[375px]",g==="desktop"&&"max-w-[1200px]",V&&"canvas-framed"),style:Jt&&Ct?{maxWidth:Ct}:{},children:[r.jsx(zS,{isVisible:P}),V&&g!=="desktop"&&r.jsxs("div",{className:"simple-breadcrumb",style:{position:"absolute",top:"20px",left:"20px",zIndex:25},children:[r.jsx("button",{className:`breadcrumb-root ${_t?"breadcrumb-current":""}`,onClick:()=>{an(null),Qe([]),br(!0),d([]);const $=document.querySelector(".form-wrapper");$&&($.classList.add("element-orange-flash"),setTimeout(()=>{$.classList.remove("element-orange-flash")},1500)),At({element:null,position:{x:window.innerWidth/2-200,y:window.innerHeight/2-250}})},children:"Form"}),tt.length>0&&r.jsx(r.Fragment,{children:tt.map(($,te)=>{const J=e[$];if(!J)return null;const be=J.properties?.label||J.label||J.type,Re=te===tt.length-1;return r.jsxs(De.Fragment,{children:[r.jsx("span",{className:"breadcrumb-separator",children:">"}),r.jsx("button",{className:`breadcrumb-item ${Re?"breadcrumb-current":""}`,onClick:()=>{const Ue=tt.slice(0,te+1);Qe(Ue),an($);const Et=document.querySelector(`[data-element-id="${$}"]`);Et&&(Et.scrollIntoView({behavior:"smooth",block:"center"}),Et.classList.add("element-orange-flash"),setTimeout(()=>{Et.classList.remove("element-orange-flash")},1500))},children:be})]},$)})})]}),V&&g!=="desktop"&&r.jsxs("div",{className:`device-frame device-frame-${g}`,style:{marginTop:"60px"},children:[r.jsx("div",{className:"device-frame-header",children:r.jsx("div",{className:"device-frame-title",children:Vg[g].name})}),g==="mobile"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"device-home-button"}),r.jsx("div",{className:"device-speaker"}),r.jsx("div",{className:"device-camera"})]}),g==="tablet"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"device-home-button-tablet"}),r.jsx("div",{className:"device-camera-tablet"})]}),r.jsx("div",{className:"device-screen-overlay",children:r.jsx("div",{className:`form-wrapper ${_t?"form-wrapper-selected":""}`,style:{background:me.backgroundType==="none"?"transparent":me.backgroundType==="color"?`${me.backgroundColor}${Math.round(me.backgroundOpacity*255).toString(16).padStart(2,"0")}`:me.backgroundImage?`url(${me.backgroundImage})`:me.backgroundColor,backgroundSize:me.backgroundType==="image"?"cover":"auto",backgroundPosition:me.backgroundType==="image"?"center":"auto",backgroundRepeat:me.backgroundType==="image"?"no-repeat":"auto",padding:`${me[g]?.padding?.top||0}px ${me[g]?.padding?.right||0}px ${me[g]?.padding?.bottom||0}px ${me[g]?.padding?.left||0}px`,margin:`${me[g]?.margin?.top||0}px ${me[g]?.margin?.right||0}px ${me[g]?.margin?.bottom||0}px ${me[g]?.margin?.left||0}px`,borderRadius:"var(--radius-lg)",minHeight:"200px",width:"100%",position:"relative"},children:En.length===0?r.jsxs("div",{className:`drop-zone ${pt?"drop-zone-active":""}`,onDragOver:$=>Ys($,0),onDrop:$=>co($,0),children:[r.jsx(_a,{size:24,className:"mb-2"}),r.jsx("p",{children:"Drag elements from the bottom tray to start building your form"})]}):r.jsxs("div",{children:[En.map(($,te)=>r.jsxs(De.Fragment,{children:[pt&&Ge===te&&r.jsx("div",{className:"drop-zone drop-zone-hover"}),r.jsxs("div",{className:`form-element ${Be?.id===$.id||Mt.includes($.id)?"form-element-selected":""} ${pt&&Pt?.id===$.id?"form-element-dragging":""}`,"data-element-id":$.id,draggable:!0,onDragStart:J=>Yo(J,$),onDragEnd:tr,onDragOver:J=>Ys(J,te+1),onDrop:J=>co(J,te+1),onClick:J=>qo($.id,J),onContextMenu:J=>li(J,$.id),children:[r.jsxs("div",{className:"element-controls",children:[r.jsx("button",{className:"element-control-btn",title:"Drag to reorder",children:r.jsx(Ku,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Edit Properties",children:r.jsx(fl,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Delete",onClick:J=>{J.stopPropagation(),Nr($.id)},children:r.jsx(Gn,{size:16})})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx(hr,{value:$.properties?.label||$.label,onChange:J=>nr($.id,"label",J),className:"property-label",placeholder:"Field Label",onFormat:uo}),$.properties?.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),$.properties?.helperText&&r.jsx(hr,{value:$.properties.helperText,onChange:J=>nr($.id,"helperText",J),className:"property-help",placeholder:"Helper text"})]}),r.jsx(Gh,{element:$,updateElementProperty:nr})]}),pt&&Ge===En.length&&te===En.length-1&&r.jsx("div",{className:"drop-zone drop-zone-hover"})]},$.id)),r.jsx("div",{className:"mt-6",children:r.jsx(hr,{value:"Submit",onChange:()=>{},className:"w-full px-4 py-2 bg-blue-500 text-white rounded-md font-medium text-center",placeholder:"Submit"})})]})})})]}),(!V||g==="desktop")&&r.jsxs("div",{className:"simple-breadcrumb",children:[r.jsx("button",{className:`breadcrumb-root ${_t?"breadcrumb-current":""}`,onClick:()=>{an(null),Qe([]),br(!0),d([]);const $=document.querySelector(".form-wrapper");$&&($.classList.add("element-orange-flash"),setTimeout(()=>{$.classList.remove("element-orange-flash")},1500)),At({element:null,position:{x:window.innerWidth/2-200,y:window.innerHeight/2-250}})},children:"Form"}),tt.length>0&&r.jsx(r.Fragment,{children:tt.map(($,te)=>{const J=e[$];if(!J)return null;const be=J.properties?.label||J.label||J.type,Re=te===tt.length-1;return r.jsxs(De.Fragment,{children:[r.jsx("span",{className:"breadcrumb-separator",children:">"}),r.jsx("button",{className:`breadcrumb-item ${Re?"breadcrumb-current":""}`,onClick:()=>{const Ue=tt.slice(0,te+1);Qe(Ue),an($);const Et=document.querySelector(`[data-element-id="${$}"]`);Et&&(Et.scrollIntoView({behavior:"smooth",block:"center"}),Et.classList.add("element-orange-flash"),setTimeout(()=>{Et.classList.remove("element-orange-flash")},1500))},children:be})]},$)})})]}),(!V||g==="desktop")&&r.jsx("div",{className:"desktop-form-container",style:{display:"flex",justifyContent:"center",width:"100%",minHeight:"200px"},children:r.jsxs("div",{className:`form-wrapper ${_t?"form-wrapper-selected":""}`,style:{background:me.backgroundType==="none"?"transparent":me.backgroundType==="color"?`${me.backgroundColor}${Math.round(me.backgroundOpacity*255).toString(16).padStart(2,"0")}`:me.backgroundImage?`url(${me.backgroundImage})`:me.backgroundColor,backgroundSize:me.backgroundType==="image"?"cover":"auto",backgroundPosition:me.backgroundType==="image"?"center":"auto",backgroundRepeat:me.backgroundType==="image"?"no-repeat":"auto",padding:`${me[g]?.padding?.top||0}px ${me[g]?.padding?.right||0}px ${me[g]?.padding?.bottom||0}px ${me[g]?.padding?.left||0}px`,margin:`${me[g]?.margin?.top||0}px ${me[g]?.margin?.right||0}px ${me[g]?.margin?.bottom||0}px ${me[g]?.margin?.left||0}px`,borderRadius:"var(--radius-lg)",minHeight:"200px",width:wr,position:"relative"},children:[r.jsx(ZS,{position:"right",currentWidth:wr,showInput:Vo,onInputVisibilityChange:ao,onResize:$=>jr($),maxWidth:void 0}),En.length===0?r.jsxs("div",{className:`drop-zone ${pt?"drop-zone-active":""}`,onDragOver:$=>Ys($,0),onDrop:$=>co($,0),children:[r.jsx(_a,{size:24,className:"mb-2"}),r.jsx("p",{children:"Drag elements from the bottom tray to start building your form"})]}):r.jsxs("div",{children:[En.map(($,te)=>r.jsxs(De.Fragment,{children:[pt&&Ge===te&&r.jsx("div",{className:"drop-zone drop-zone-hover"}),r.jsxs("div",{className:`form-element ${Be?.id===$.id||Mt.includes($.id)?"form-element-selected":""} ${pt&&Pt?.id===$.id?"form-element-dragging":""}`,"data-element-id":$.id,draggable:!0,onDragStart:J=>Yo(J,$),onDragEnd:tr,onDragOver:J=>Ys(J,te+1),onDrop:J=>co(J,te+1),onClick:J=>qo($.id,J),onContextMenu:J=>li(J,$.id),children:[r.jsxs("div",{className:"element-controls",children:[r.jsx("button",{className:"element-control-btn",title:"Drag to reorder",children:r.jsx(Ku,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Edit Properties",children:r.jsx(fl,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Delete",onClick:J=>{J.stopPropagation(),Nr($.id)},children:r.jsx(Gn,{size:16})})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx(hr,{value:$.properties?.label||$.label,onChange:J=>nr($.id,"label",J),className:"property-label",placeholder:"Field Label",onFormat:uo}),$.properties?.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),$.properties?.helperText&&r.jsx(hr,{value:$.properties.helperText,onChange:J=>nr($.id,"helperText",J),className:"property-help",placeholder:"Helper text"})]}),r.jsx(Gh,{element:$,updateElementProperty:nr})]}),pt&&Ge===En.length&&te===En.length-1&&r.jsx("div",{className:"drop-zone drop-zone-hover"})]},$.id)),r.jsx("div",{className:"mt-6",children:r.jsx(hr,{value:"Submit",onChange:()=>{},className:"w-full px-4 py-2 bg-blue-500 text-white rounded-md font-medium text-center",placeholder:"Submit"})})]})]})})]})})]})]}),r.jsxs(DS,{isCollapsed:re,onToggleCollapse:()=>ke(!re),isMobile:ni,onHeightChange:Ke,children:[r.jsx("div",{className:"flex items-center justify-between px-4 py-2 border-b border-border",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex gap-2",children:!F&&Tl.map($=>r.jsx("button",{className:Ae("px-3 py-2 rounded-md text-xs font-medium transition-colors",ae===$.id?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground bg-transparent hover:bg-accent hover:text-foreground"),onClick:()=>ne($.id),children:$.name},$.id))}),r.jsxs("div",{className:"relative w-[200px]",children:[r.jsx(ms,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"}),r.jsx("input",{type:"text",placeholder:"Search elements...",value:F,onChange:$=>K($.target.value),onKeyDown:$=>{if($.key==="Enter"&&F.trim()){const te=Vs();if(te.length===1){$.preventDefault();const J=te[0];ii(J.type,J.label,J.icon),K("")}}},className:"w-full h-8 pl-9 pr-8 text-sm border border-border rounded-md bg-background focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary"}),F&&r.jsx("button",{onClick:()=>K(""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-accent text-muted-foreground hover:text-foreground",title:"Clear search",children:r.jsx(Zt,{size:14})})]})]})}),r.jsxs("div",{className:"relative overflow-hidden flex-1",style:{height:`${T}px`},children:[r.jsx("div",{ref:qe,className:Ae("h-full overflow-y-auto px-4 py-3",ni&&"tray-elements-mobile"),children:r.jsxs("div",{className:Ae("gap-3 items-start",G?"flex flex-nowrap gap-3":"grid grid-cols-[repeat(auto-fill,minmax(120px,1fr))] gap-3"),children:[Vs().map($=>{const J=Vs().length===1&&F.trim();return r.jsxs("div",{className:Ae("flex flex-col items-center justify-center gap-2 p-3 min-w-[120px] min-h-[80px]","bg-white border border-border rounded-lg cursor-grab select-none","transition-all hover:border-primary/30 hover:bg-primary/5 hover:-translate-y-0.5 hover:shadow-sm","active:cursor-grabbing active:-translate-y-0.5",J&&"bg-primary/10 border-primary/40 shadow-sm"),draggable:!0,onDragStart:be=>Yo(be,$,!0),onDragEnd:tr,onClick:()=>ii($.type,$.label,$.icon),children:[r.jsx($.icon,{className:"w-6 h-6 text-primary"}),r.jsx("span",{className:"text-xs font-medium text-foreground text-center leading-tight",children:$.label}),J&&r.jsx("div",{className:"absolute -top-9 left-1/2 -translate-x-1/2 px-2 py-1 bg-popover border border-border rounded shadow-md text-xs whitespace-nowrap opacity-100 transition-opacity",children:"Press Enter to add"})]},$.type)}),Vs().length===0&&F&&r.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 py-8 text-muted-foreground",children:[r.jsx(ms,{size:24,className:"opacity-50"}),r.jsxs("span",{className:"text-sm font-medium",children:['No elements found for "',F,'"']})]})]})}),G&&r.jsx("button",{className:Ae("absolute top-1/2 -translate-y-1/2 left-0 z-[100]","w-10 h-14 flex items-center justify-center","bg-white/95 backdrop-blur-sm border border-border border-l-0","rounded-r-lg pl-2 cursor-pointer","shadow-[0_4px_20px_rgba(0,0,0,0.15),0_1px_3px_rgba(0,0,0,0.1)]","text-foreground transition-all duration-200","hover:bg-primary-50 hover:border-primary-300 hover:text-primary-600 hover:shadow-md",ge?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>xc("left"),onMouseEnter:()=>Zo("left"),onMouseLeave:Lr,title:"Scroll left",children:r.jsx(Ij,{size:20})}),G&&r.jsx("button",{className:Ae("absolute top-1/2 -translate-y-1/2 right-0 z-[100]","w-10 h-14 flex items-center justify-center","bg-white/95 backdrop-blur-sm border border-border border-r-0","rounded-l-lg pr-2 cursor-pointer","shadow-[0_4px_20px_rgba(0,0,0,0.15),0_1px_3px_rgba(0,0,0,0.1)]","text-foreground transition-all duration-200","hover:bg-primary-50 hover:border-primary-300 hover:text-primary-600 hover:shadow-md",Se?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>xc("right"),onMouseEnter:()=>Zo("right"),onMouseLeave:Lr,title:"Scroll right",children:r.jsx(Kr,{size:20})}),G&&r.jsx("div",{className:Ae("absolute top-0 bottom-0 left-0 w-10 pointer-events-none z-[50]","bg-gradient-to-r from-black/10 to-transparent","transition-opacity duration-200",ge?"opacity-100":"opacity-0")}),G&&r.jsx("div",{className:Ae("absolute top-0 bottom-0 right-0 w-10 pointer-events-none z-[50]","bg-gradient-to-l from-black/10 to-transparent","transition-opacity duration-200",Se?"opacity-100":"opacity-0")})]})]}),yt&&yt.element&&r.jsx(lS,{element:yt.element,position:yt.position,onClose:()=>At(null),onPropertyChange:($,te)=>nr(yt.element.id,$,te),onDelete:()=>Nr(yt.element.id)}),yt&&!yt.element&&_t&&r.jsx(BS,{position:yt.position,settings:me,devicePreview:g,onClose:()=>{At(null),br(!1)},onUpdate:($,te)=>{if($.includes(".")){const[J,be]=$.split(".");gt(Re=>({...Re,[J]:{...Re[J],[be]:te}}))}else gt(J=>({...J,[$]:te}))}}),Kt&&r.jsx(RS,{x:Kt.x,y:Kt.y,onClose:()=>cn(null),onAction:bc}),r.jsx(CS,{isOpen:kf,onClose:()=>er(!1),onRestore:Ko}),r.jsx(vS,{isOpen:pc,onClose:()=>ei(!1)}),r.jsx(wS,{isOpen:Cf,onClose:()=>Us(!1),onExport:Cr}),r.jsx(NS,{isOpen:mc,onClose:()=>ti(!1)}),r.jsx(YS,{isVisible:le,position:he,isCollapsed:Xe,onClose:()=>ue(!1),onPositionChange:Me,onCollapse:We,onElementClick:$=>{console.log("Element clicked:",$)}}),r.jsx("div",{className:"toast-container",children:S.map($=>r.jsx(Fg,{id:$.id,type:$.type,message:$.message,visible:$.visible,hiding:$.hiding,onClose:M},$.id))})]})})},GS=e=>r.jsx(xS,{children:r.jsx(qS,{...e})});window.addEventListener("error",e=>{console.error("SFUI Admin: Global error caught:",e.error)}),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Yg):Yg();function Yg(){const e=document.getElementById("sfui-admin-root");if(!e)return;if(!window.sfuiData){console.error("SFUI Admin: Data not found on window.sfuiData");return}const{currentPage:t}=window.sfuiData;switch(t){case"super_create_form":La(e,r.jsx(Jm,{}));break;case"super_form_v2":La(e,r.jsx(GS,{}));break;case"super_settings":La(e,r.jsx(bj,{}));break;case"super_entries":La(e,r.jsx(wj,{}));break;default:La(e,r.jsx(Jm,{}))}}function La(e,t){try{console.log("SFUI Admin: Initializing page:",window.sfuiData?.currentPage),r1.createRoot(e).render(r.jsx(De.StrictMode,{children:t})),console.log("SFUI Admin: Page mounted successfully")}catch(n){console.error("SFUI Admin: Error during initialization:",n)}}const{useDebugValue:KS}=De,{useSyncExternalStoreWithSelector:XS}=Lh,QS=e=>e;function JS(e,t=QS,n){const a=XS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return KS(a),a}const qg=(e,t)=>{const n=Dh(e),a=(i,c=t)=>JS(n,i,c);return Object.assign(a,n),a},Gg=(e,t)=>e?qg(e,t):qg,wd={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},jd=new Map,Dl=e=>{const t=jd.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,a])=>[n,a.getState()])):{}},e_=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const a=jd.get(n.name);if(a)return{type:"tracked",store:e,...a};const i={connection:t.connect(n),stores:{}};return jd.set(n.name,i),{type:"tracked",store:e,...i}},Kg=(e,t={})=>(n,a,i)=>{const{enabled:c,anonymousActionType:u,store:d,...m}=t;let h;try{h=(c??(wd?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!h)return(wd?"production":void 0)!=="production"&&c&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,a,i);const{connection:g,...b}=e_(d,h,m);let y=!0;i.setState=(N,k,_)=>{const S=n(N,k);if(!y)return S;const w=_===void 0?{type:u||"anonymous"}:typeof _=="string"?{type:_}:_;return d===void 0?(g?.send(w,a()),S):(g?.send({...w,type:`${d}/${w.type}`},{...Dl(m.name),[d]:i.getState()}),S)};const v=(...N)=>{const k=y;y=!1,n(...N),y=k},C=e(i.setState,a,i);if(b.type==="untracked"?g?.init(C):(b.stores[b.store]=i,g?.init(Object.fromEntries(Object.entries(b.stores).map(([N,k])=>[N,N===b.store?C:k.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let N=!1;const k=i.dispatch;i.dispatch=(..._)=>{(wd?"production":void 0)!=="production"&&_[0].type==="__setState"&&!N&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),N=!0),k(..._)}}return g.subscribe(N=>{var k;switch(N.type){case"ACTION":if(typeof N.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Nd(N.payload,_=>{if(_.type==="__setState"){if(d===void 0){v(_.state);return}Object.keys(_.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const S=_.state[d];if(S==null)return;JSON.stringify(i.getState())!==JSON.stringify(S)&&v(S);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(_)});case"DISPATCH":switch(N.payload.type){case"RESET":return v(C),d===void 0?g?.init(i.getState()):g?.init(Dl(m.name));case"COMMIT":if(d===void 0){g?.init(i.getState());return}return g?.init(Dl(m.name));case"ROLLBACK":return Nd(N.state,_=>{if(d===void 0){v(_),g?.init(i.getState());return}v(_[d]),g?.init(Dl(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Nd(N.state,_=>{if(d===void 0){v(_);return}JSON.stringify(i.getState())!==JSON.stringify(_[d])&&v(_[d])});case"IMPORT_STATE":{const{nextLiftedState:_}=N.payload,S=(k=_.computedStates.slice(-1)[0])==null?void 0:k.state;if(!S)return;v(d===void 0?S:S[d]),g?.send(null,_);return}case"PAUSE_RECORDING":return y=!y}return}}),C},Nd=(e,t)=>{let n;try{n=JSON.parse(e)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}n!==void 0&&t(n)},Ns=Gg()(Kg((e,t)=>({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null,initializeStore:n=>{e({emails:n.emails||[],activeEmailId:n.emails?.[0]?.id||null,translations:n.translations||{}})},addEmail:()=>{const n={id:`email_${Date.now()}`,enabled:!0,description:"New Email",to:"{email}",from_email:"",from_name:"{option_blogname}",subject:"New submission",body:"<p>The following information has been sent:</p>{loop_fields}",attachments:[],reply_to:{enabled:!1,email:"",name:""},cc:"",bcc:"",template:{slug:"none"},conditions:{enabled:!1,f1:"",logic:"==",f2:""},schedule:{enabled:!1,schedules:[]}};e(a=>({emails:[...a.emails,n],activeEmailId:n.id,isDirty:!0}))},removeEmail:n=>{e(a=>{const i=a.emails.filter(u=>u.id!==n),c=a.activeEmailId===n?i[0]?.id||null:a.activeEmailId;return{emails:i,activeEmailId:c,isDirty:!0}})},duplicateEmail:n=>{e(a=>{const i=a.emails.find(m=>m.id===n);if(!i)return a;const c={...i,id:`email_${Date.now()}`,description:`${i.description||"Email"} (Copy)`},u=a.emails.findIndex(m=>m.id===n),d=[...a.emails];return d.splice(u+1,0,c),{emails:d,activeEmailId:c.id,isDirty:!0}})},updateEmail:(n,a)=>{e(i=>({emails:i.emails.map(c=>c.id===n?{...c,...a}:c),isDirty:!0}))},updateEmailField:(n,a,i)=>{e(c=>({emails:c.emails.map(d=>{if(d.id!==n)return d;const m=a.split("."),h={...d};let g=h;for(let b=0;b<m.length-1;b++){const y=m[b];g[y]={...g[y]},g=g[y]}return g[m[m.length-1]]=i,h}),isDirty:!0}))},setActiveEmailId:n=>{e({activeEmailId:n})},getActiveEmail:()=>{const n=t();return n.emails.find(a=>a.id===n.activeEmailId)},setActiveLanguage:n=>{e({activeLanguage:n})},updateTranslation:(n,a,i,c)=>{e(u=>{const d={...u.translations};return d[i]||(d[i]={}),d[i][n]||(d[i][n]={}),d[i][n][a]=c,{translations:d,isDirty:!0}})},reorderEmails:(n,a)=>{e(i=>{const c=[...i.emails],[u]=c.splice(n,1);return c.splice(a,0,u),{emails:c,isDirty:!0}})},save:async(n,a,i)=>{const c=t();e({isSaving:!0,error:null});try{const u=new FormData;u.append("action","super_save_form_emails"),u.append("form_id",String(n)),u.append("nonce",i),u.append("emails",JSON.stringify(c.emails)),u.append("translations",JSON.stringify(c.translations));const d=await fetch(a,{method:"POST",body:u}),m=await d.json();if(!d.ok||!m.success)throw new Error(m.message||"Failed to save");return e({isSaving:!1,isDirty:!1}),{success:!0}}catch(u){const d=u instanceof Error?u.message:"Unknown error";return e({isSaving:!1,error:d}),{success:!1,error:d}}},reset:()=>{e({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null})}})));function t_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>a=>{t.forEach(i=>i(a))},t)}const $l=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ks(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function kd(e){return"nodeType"in e}function on(e){var t,n;return e?ks(e)?e:kd(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Cd(e){const{Document:t}=on(e);return e instanceof t}function Oa(e){return ks(e)?!1:e instanceof on(e).HTMLElement}function Xg(e){return e instanceof on(e).SVGElement}function Cs(e){return e?ks(e)?e.document:kd(e)?Cd(e)?e:Oa(e)||Xg(e)?e.ownerDocument:document:document:document}const Kn=$l?p.useLayoutEffect:p.useEffect;function Pl(e){const t=p.useRef(e);return Kn(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t.current==null?void 0:t.current(...a)},[])}function n_(){const e=p.useRef(null),t=p.useCallback((a,i)=>{e.current=setInterval(a,i)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Aa(e,t){t===void 0&&(t=[e]);const n=p.useRef(e);return Kn(()=>{n.current!==e&&(n.current=e)},t),n}function Fa(e,t){const n=p.useRef();return p.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function Ml(e){const t=Pl(e),n=p.useRef(null),a=p.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,a]}function Il(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let Ed={};function Wa(e,t){return p.useMemo(()=>{if(t)return t;const n=Ed[e]==null?0:Ed[e]+1;return Ed[e]=n,e+"-"+n},[e,t])}function Qg(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((c,u)=>{const d=Object.entries(u);for(const[m,h]of d){const g=c[m];g!=null&&(c[m]=g+e*h)}return c},{...t})}}const Es=Qg(1),Ba=Qg(-1);function r_(e){return"clientX"in e&&"clientY"in e}function Ll(e){if(!e)return!1;const{KeyboardEvent:t}=on(e.target);return t&&e instanceof t}function o_(e){if(!e)return!1;const{TouchEvent:t}=on(e.target);return t&&e instanceof t}function Ol(e){if(o_(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return r_(e)?{x:e.clientX,y:e.clientY}:null}const gr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[gr.Translate.toString(e),gr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),Jg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function s_(e){return e.matches(Jg)?e:e.querySelector(Jg)}const a_={display:"none"};function i_(e){let{id:t,value:n}=e;return De.createElement("div",{id:t,style:a_},n)}function l_(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return De.createElement("div",{id:t,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function c_(){const[e,t]=p.useState("");return{announce:p.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const ex=p.createContext(null);function u_(e){const t=p.useContext(ex);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function d_(){const[e]=p.useState(()=>new Set),t=p.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[p.useCallback(a=>{let{type:i,event:c}=a;e.forEach(u=>{var d;return(d=u[i])==null?void 0:d.call(u,c)})},[e]),t]}const f_={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},p_={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function m_(e){let{announcements:t=p_,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=f_}=e;const{announce:c,announcement:u}=c_(),d=Wa("DndLiveRegion"),[m,h]=p.useState(!1);if(p.useEffect(()=>{h(!0)},[]),u_(p.useMemo(()=>({onDragStart(b){let{active:y}=b;c(t.onDragStart({active:y}))},onDragMove(b){let{active:y,over:v}=b;t.onDragMove&&c(t.onDragMove({active:y,over:v}))},onDragOver(b){let{active:y,over:v}=b;c(t.onDragOver({active:y,over:v}))},onDragEnd(b){let{active:y,over:v}=b;c(t.onDragEnd({active:y,over:v}))},onDragCancel(b){let{active:y,over:v}=b;c(t.onDragCancel({active:y,over:v}))}}),[c,t])),!m)return null;const g=De.createElement(De.Fragment,null,De.createElement(i_,{id:a,value:i.draggable}),De.createElement(l_,{id:d,announcement:u}));return n?Ro.createPortal(g,n):g}var Dt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Dt||(Dt={}));function Al(){}function tx(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function h_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Xn=Object.freeze({x:0,y:0});function nx(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function g_(e,t){const n=Ol(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function rx(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function x_(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function ox(e){let{left:t,top:n,height:a,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+a},{x:t+i,y:n+a}]}function sx(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function ax(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Sd=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=ax(t,t.left,t.top),c=[];for(const u of a){const{id:d}=u,m=n.get(d);if(m){const h=nx(ax(m),i);c.push({id:d,data:{droppableContainer:u,value:h}})}}return c.sort(rx)},y_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=ox(t),c=[];for(const u of a){const{id:d}=u,m=n.get(d);if(m){const h=ox(m),g=i.reduce((y,v,C)=>y+nx(h[C],v),0),b=Number((g/4).toFixed(4));c.push({id:d,data:{droppableContainer:u,value:b}})}}return c.sort(rx)};function v_(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),c=Math.min(t.top+t.height,e.top+e.height),u=i-a,d=c-n;if(a<i&&n<c){const m=t.width*t.height,h=e.width*e.height,g=u*d,b=g/(m+h-g);return Number(b.toFixed(4))}return 0}const b_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const i=[];for(const c of a){const{id:u}=c,d=n.get(u);if(d){const m=v_(d,t);m>0&&i.push({id:u,data:{droppableContainer:c,value:m}})}}return i.sort(x_)};function w_(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ix(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Xn}function j_(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),c=1;c<a;c++)i[c-1]=arguments[c];return i.reduce((u,d)=>({...u,top:u.top+e*d.y,bottom:u.bottom+e*d.y,left:u.left+e*d.x,right:u.right+e*d.x}),{...n})}}const N_=j_(1);function lx(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function k_(e,t,n){const a=lx(t);if(!a)return e;const{scaleX:i,scaleY:c,x:u,y:d}=a,m=e.left-u-(1-i)*parseFloat(n),h=e.top-d-(1-c)*parseFloat(n.slice(n.indexOf(" ")+1)),g=i?e.width/i:e.width,b=c?e.height/c:e.height;return{width:g,height:b,top:h,right:m+g,bottom:h+b,left:m}}const C_={ignoreTransform:!1};function Ss(e,t){t===void 0&&(t=C_);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:g}=on(e).getComputedStyle(e);h&&(n=k_(n,h,g))}const{top:a,left:i,width:c,height:u,bottom:d,right:m}=n;return{top:a,left:i,width:c,height:u,bottom:d,right:m}}function cx(e){return Ss(e,{ignoreTransform:!0})}function E_(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function S_(e,t){return t===void 0&&(t=on(e).getComputedStyle(e)),t.position==="fixed"}function __(e,t){t===void 0&&(t=on(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const c=t[i];return typeof c=="string"?n.test(c):!1})}function Fl(e,t){const n=[];function a(i){if(t!=null&&n.length>=t||!i)return n;if(Cd(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Oa(i)||Xg(i)||n.includes(i))return n;const c=on(e).getComputedStyle(i);return i!==e&&__(i,c)&&n.push(i),S_(i,c)?n:a(i.parentNode)}return e?a(e):n}function ux(e){const[t]=Fl(e,1);return t??null}function _d(e){return!$l||!e?null:ks(e)?e:kd(e)?Cd(e)||e===Cs(e).scrollingElement?window:Oa(e)?e:null:null}function dx(e){return ks(e)?e.scrollX:e.scrollLeft}function fx(e){return ks(e)?e.scrollY:e.scrollTop}function Rd(e){return{x:dx(e),y:fx(e)}}var Ot;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ot||(Ot={}));function px(e){return!$l||!e?!1:e===document.scrollingElement}function mx(e){const t={x:0,y:0},n=px(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,c=e.scrollLeft<=t.x,u=e.scrollTop>=a.y,d=e.scrollLeft>=a.x;return{isTop:i,isLeft:c,isBottom:u,isRight:d,maxScroll:a,minScroll:t}}const R_={x:.2,y:.2};function z_(e,t,n,a,i){let{top:c,left:u,right:d,bottom:m}=n;a===void 0&&(a=10),i===void 0&&(i=R_);const{isTop:h,isBottom:g,isLeft:b,isRight:y}=mx(e),v={x:0,y:0},C={x:0,y:0},N={height:t.height*i.y,width:t.width*i.x};return!h&&c<=t.top+N.height?(v.y=Ot.Backward,C.y=a*Math.abs((t.top+N.height-c)/N.height)):!g&&m>=t.bottom-N.height&&(v.y=Ot.Forward,C.y=a*Math.abs((t.bottom-N.height-m)/N.height)),!y&&d>=t.right-N.width?(v.x=Ot.Forward,C.x=a*Math.abs((t.right-N.width-d)/N.width)):!b&&u<=t.left+N.width&&(v.x=Ot.Backward,C.x=a*Math.abs((t.left+N.width-u)/N.width)),{direction:v,speed:C}}function T_(e){if(e===document.scrollingElement){const{innerWidth:c,innerHeight:u}=window;return{top:0,left:0,right:c,bottom:u,width:c,height:u}}const{top:t,left:n,right:a,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:i,width:e.clientWidth,height:e.clientHeight}}function hx(e){return e.reduce((t,n)=>Es(t,Rd(n)),Xn)}function D_(e){return e.reduce((t,n)=>t+dx(n),0)}function $_(e){return e.reduce((t,n)=>t+fx(n),0)}function gx(e,t){if(t===void 0&&(t=Ss),!e)return;const{top:n,left:a,bottom:i,right:c}=t(e);ux(e)&&(i<=0||c<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const P_=[["x",["left","right"],D_],["y",["top","bottom"],$_]];class zd{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Fl(n),i=hx(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[c,u,d]of P_)for(const m of u)Object.defineProperty(this,m,{get:()=>{const h=d(a),g=i[c]-h;return this.rect[m]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ua{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var i;(i=this.target)==null||i.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function M_(e){const{EventTarget:t}=on(e);return e instanceof t?e:Cs(e)}function Td(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var Mn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Mn||(Mn={}));function xx(e){e.preventDefault()}function I_(e){e.stopPropagation()}var Fe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Fe||(Fe={}));const yx={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter,Fe.Tab]},L_=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Fe.Right:return{...n,x:n.x+25};case Fe.Left:return{...n,x:n.x-25};case Fe.Down:return{...n,y:n.y+25};case Fe.Up:return{...n,y:n.y-25}}};class Dd{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ua(Cs(n)),this.windowListeners=new Ua(on(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Mn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&gx(a),n(Xn)}handleKeyDown(t){if(Ll(t)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:c=yx,coordinateGetter:u=L_,scrollBehavior:d="smooth"}=i,{code:m}=t;if(c.end.includes(m)){this.handleEnd(t);return}if(c.cancel.includes(m)){this.handleCancel(t);return}const{collisionRect:h}=a.current,g=h?{x:h.left,y:h.top}:Xn;this.referenceCoordinates||(this.referenceCoordinates=g);const b=u(t,{active:n,context:a.current,currentCoordinates:g});if(b){const y=Ba(b,g),v={x:0,y:0},{scrollableAncestors:C}=a.current;for(const N of C){const k=t.code,{isTop:_,isRight:S,isLeft:w,isBottom:R,maxScroll:M,minScroll:I}=mx(N),O=T_(N),P={x:Math.min(k===Fe.Right?O.right-O.width/2:O.right,Math.max(k===Fe.Right?O.left:O.left+O.width/2,b.x)),y:Math.min(k===Fe.Down?O.bottom-O.height/2:O.bottom,Math.max(k===Fe.Down?O.top:O.top+O.height/2,b.y))},U=k===Fe.Right&&!S||k===Fe.Left&&!w,V=k===Fe.Down&&!R||k===Fe.Up&&!_;if(U&&P.x!==b.x){const oe=N.scrollLeft+y.x,de=k===Fe.Right&&oe<=M.x||k===Fe.Left&&oe>=I.x;if(de&&!y.y){N.scrollTo({left:oe,behavior:d});return}de?v.x=N.scrollLeft-oe:v.x=k===Fe.Right?N.scrollLeft-M.x:N.scrollLeft-I.x,v.x&&N.scrollBy({left:-v.x,behavior:d});break}else if(V&&P.y!==b.y){const oe=N.scrollTop+y.y,de=k===Fe.Down&&oe<=M.y||k===Fe.Up&&oe>=I.y;if(de&&!y.x){N.scrollTo({top:oe,behavior:d});return}de?v.y=N.scrollTop-oe:v.y=k===Fe.Down?N.scrollTop-M.y:N.scrollTop-I.y,v.y&&N.scrollBy({top:-v.y,behavior:d});break}}this.handleMove(t,Es(Ba(b,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Dd.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=yx,onActivation:i}=t,{active:c}=n;const{code:u}=e.nativeEvent;if(a.start.includes(u)){const d=c.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function vx(e){return!!(e&&"distance"in e)}function bx(e){return!!(e&&"delay"in e)}class $d{constructor(t,n,a){var i;a===void 0&&(a=M_(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:c}=t,{target:u}=c;this.props=t,this.events=n,this.document=Cs(u),this.documentListeners=new Ua(this.document),this.listeners=new Ua(a),this.windowListeners=new Ua(on(u)),this.initialCoordinates=(i=Ol(c))!=null?i:Xn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Mn.Resize,this.handleCancel),this.windowListeners.add(Mn.DragStart,xx),this.windowListeners.add(Mn.VisibilityChange,this.handleCancel),this.windowListeners.add(Mn.ContextMenu,xx),this.documentListeners.add(Mn.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(bx(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(vx(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:i}=this.props;i(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Mn.Click,I_,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Mn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:i,props:c}=this,{onMove:u,options:{activationConstraint:d}}=c;if(!i)return;const m=(n=Ol(t))!=null?n:Xn,h=Ba(i,m);if(!a&&d){if(vx(d)){if(d.tolerance!=null&&Td(h,d.tolerance))return this.handleCancel();if(Td(h,d.distance))return this.handleStart()}if(bx(d)&&Td(h,d.tolerance))return this.handleCancel();this.handlePending(d,h);return}t.cancelable&&t.preventDefault(),u(m)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const O_={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Pd extends $d{constructor(t){const{event:n}=t,a=Cs(n.target);super(t,O_,a)}}Pd.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a?.({event:n}),!0)}}];const A_={move:{name:"mousemove"},end:{name:"mouseup"}};var Md;(function(e){e[e.RightClick=2]="RightClick"})(Md||(Md={}));class F_ extends $d{constructor(t){super(t,A_,Cs(t.event.target))}}F_.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Md.RightClick?!1:(a?.({event:n}),!0)}}];const Id={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class W_ extends $d{constructor(t){super(t,Id)}static setup(){return window.addEventListener(Id.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Id.move.name,t)};function t(){}}}W_.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:i}=n;return i.length>1?!1:(a?.({event:n}),!0)}}];var Ha;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ha||(Ha={}));var Wl;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Wl||(Wl={}));function B_(e){let{acceleration:t,activator:n=Ha.Pointer,canScroll:a,draggingRect:i,enabled:c,interval:u=5,order:d=Wl.TreeOrder,pointerCoordinates:m,scrollableAncestors:h,scrollableAncestorRects:g,delta:b,threshold:y}=e;const v=H_({delta:b,disabled:!c}),[C,N]=n_(),k=p.useRef({x:0,y:0}),_=p.useRef({x:0,y:0}),S=p.useMemo(()=>{switch(n){case Ha.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case Ha.DraggableRect:return i}},[n,i,m]),w=p.useRef(null),R=p.useCallback(()=>{const I=w.current;if(!I)return;const O=k.current.x*_.current.x,P=k.current.y*_.current.y;I.scrollBy(O,P)},[]),M=p.useMemo(()=>d===Wl.TreeOrder?[...h].reverse():h,[d,h]);p.useEffect(()=>{if(!c||!h.length||!S){N();return}for(const I of M){if(a?.(I)===!1)continue;const O=h.indexOf(I),P=g[O];if(!P)continue;const{direction:U,speed:V}=z_(I,P,S,t,y);for(const oe of["x","y"])v[oe][U[oe]]||(V[oe]=0,U[oe]=0);if(V.x>0||V.y>0){N(),w.current=I,C(R,u),k.current=V,_.current=U;return}}k.current={x:0,y:0},_.current={x:0,y:0},N()},[t,R,a,N,c,u,JSON.stringify(S),JSON.stringify(v),C,h,M,g,JSON.stringify(y)])}const U_={x:{[Ot.Backward]:!1,[Ot.Forward]:!1},y:{[Ot.Backward]:!1,[Ot.Forward]:!1}};function H_(e){let{delta:t,disabled:n}=e;const a=Il(t);return Fa(i=>{if(n||!a||!i)return U_;const c={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Ot.Backward]:i.x[Ot.Backward]||c.x===-1,[Ot.Forward]:i.x[Ot.Forward]||c.x===1},y:{[Ot.Backward]:i.y[Ot.Backward]||c.y===-1,[Ot.Forward]:i.y[Ot.Forward]||c.y===1}}},[n,t,a])}function V_(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Fa(i=>{var c;return t==null?null:(c=a??i)!=null?c:null},[a,t])}function Z_(e,t){return p.useMemo(()=>e.reduce((n,a)=>{const{sensor:i}=a,c=i.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,a)}));return[...n,...c]},[]),[e,t])}var Va;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Va||(Va={}));var Ld;(function(e){e.Optimized="optimized"})(Ld||(Ld={}));const wx=new Map;function Y_(e,t){let{dragging:n,dependencies:a,config:i}=t;const[c,u]=p.useState(null),{frequency:d,measure:m,strategy:h}=i,g=p.useRef(e),b=k(),y=Aa(b),v=p.useCallback(function(_){_===void 0&&(_=[]),!y.current&&u(S=>S===null?_:S.concat(_.filter(w=>!S.includes(w))))},[y]),C=p.useRef(null),N=Fa(_=>{if(b&&!n)return wx;if(!_||_===wx||g.current!==e||c!=null){const S=new Map;for(let w of e){if(!w)continue;if(c&&c.length>0&&!c.includes(w.id)&&w.rect.current){S.set(w.id,w.rect.current);continue}const R=w.node.current,M=R?new zd(m(R),R):null;w.rect.current=M,M&&S.set(w.id,M)}return S}return _},[e,c,n,b,m]);return p.useEffect(()=>{g.current=e},[e]),p.useEffect(()=>{b||v()},[n,b]),p.useEffect(()=>{c&&c.length>0&&u(null)},[JSON.stringify(c)]),p.useEffect(()=>{b||typeof d!="number"||C.current!==null||(C.current=setTimeout(()=>{v(),C.current=null},d))},[d,b,v,...a]),{droppableRects:N,measureDroppableContainers:v,measuringScheduled:c!=null};function k(){switch(h){case Va.Always:return!1;case Va.BeforeDragging:return n;default:return!n}}}function Od(e,t){return Fa(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function q_(e,t){return Od(e,t)}function G_(e){let{callback:t,disabled:n}=e;const a=Pl(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(a)},[a,n]);return p.useEffect(()=>()=>i?.disconnect(),[i]),i}function Bl(e){let{callback:t,disabled:n}=e;const a=Pl(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(a)},[n]);return p.useEffect(()=>()=>i?.disconnect(),[i]),i}function K_(e){return new zd(Ss(e),e)}function jx(e,t,n){t===void 0&&(t=K_);const[a,i]=p.useState(null);function c(){i(m=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=m??n)!=null?h:null}const g=t(e);return JSON.stringify(m)===JSON.stringify(g)?m:g})}const u=G_({callback(m){if(e)for(const h of m){const{type:g,target:b}=h;if(g==="childList"&&b instanceof HTMLElement&&b.contains(e)){c();break}}}}),d=Bl({callback:c});return Kn(()=>{c(),e?(d?.observe(e),u?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),u?.disconnect())},[e]),a}function X_(e){const t=Od(e);return ix(e,t)}const Nx=[];function Q_(e){const t=p.useRef(e),n=Fa(a=>e?a&&a!==Nx&&e&&t.current&&e.parentNode===t.current.parentNode?a:Fl(e):Nx,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function J_(e){const[t,n]=p.useState(null),a=p.useRef(e),i=p.useCallback(c=>{const u=_d(c.target);u&&n(d=>d?(d.set(u,Rd(u)),new Map(d)):null)},[]);return p.useEffect(()=>{const c=a.current;if(e!==c){u(c);const d=e.map(m=>{const h=_d(m);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,Rd(h)]):null}).filter(m=>m!=null);n(d.length?new Map(d):null),a.current=e}return()=>{u(e),u(c)};function u(d){d.forEach(m=>{const h=_d(m);h?.removeEventListener("scroll",i)})}},[i,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((c,u)=>Es(c,u),Xn):hx(e):Xn,[e,t])}function kx(e,t){t===void 0&&(t=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},t),p.useEffect(()=>{const a=e!==Xn;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?Ba(e,n.current):Xn}function e4(e){p.useEffect(()=>{if(!$l)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function t4(e,t){return p.useMemo(()=>e.reduce((n,a)=>{let{eventName:i,handler:c}=a;return n[i]=u=>{c(u,t)},n},{}),[e,t])}function Cx(e){return p.useMemo(()=>e?E_(e):null,[e])}const Ex=[];function n4(e,t){t===void 0&&(t=Ss);const[n]=e,a=Cx(n?on(n):null),[i,c]=p.useState(Ex);function u(){c(()=>e.length?e.map(m=>px(m)?a:new zd(t(m),m)):Ex)}const d=Bl({callback:u});return Kn(()=>{d?.disconnect(),u(),e.forEach(m=>d?.observe(m))},[e]),i}function Sx(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Oa(t)?t:e}function r4(e){let{measure:t}=e;const[n,a]=p.useState(null),i=p.useCallback(h=>{for(const{target:g}of h)if(Oa(g)){a(b=>{const y=t(g);return b?{...b,width:y.width,height:y.height}:y});break}},[t]),c=Bl({callback:i}),u=p.useCallback(h=>{const g=Sx(h);c?.disconnect(),g&&c?.observe(g),a(g?t(g):null)},[t,c]),[d,m]=Ml(u);return p.useMemo(()=>({nodeRef:d,rect:n,setRef:m}),[n,d,m])}const o4=[{sensor:Pd,options:{}},{sensor:Dd,options:{}}],s4={current:{}},Ul={draggable:{measure:cx},droppable:{measure:cx,strategy:Va.WhileDragging,frequency:Ld.Optimized},dragOverlay:{measure:Ss}};class Za extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const a4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Za,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Al},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ul,measureDroppableContainers:Al,windowRect:null,measuringScheduled:!1},_x={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Al,draggableNodes:new Map,over:null,measureDroppableContainers:Al},Ya=p.createContext(_x),Rx=p.createContext(a4);function i4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Za}}}function l4(e,t){switch(t.type){case Dt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Dt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Dt.DragEnd:case Dt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Dt.RegisterDroppable:{const{element:n}=t,{id:a}=n,i=new Za(e.droppable.containers);return i.set(a,n),{...e,droppable:{...e.droppable,containers:i}}}case Dt.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=t,c=e.droppable.containers.get(n);if(!c||a!==c.key)return e;const u=new Za(e.droppable.containers);return u.set(n,{...c,disabled:i}),{...e,droppable:{...e.droppable,containers:u}}}case Dt.UnregisterDroppable:{const{id:n,key:a}=t,i=e.droppable.containers.get(n);if(!i||a!==i.key)return e;const c=new Za(e.droppable.containers);return c.delete(n),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}function c4(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:i}=p.useContext(Ya),c=Il(a),u=Il(n?.id);return p.useEffect(()=>{if(!t&&!a&&c&&u!=null){if(!Ll(c)||document.activeElement===c.target)return;const d=i.get(u);if(!d)return;const{activatorNode:m,node:h}=d;if(!m.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[m.current,h.current]){if(!g)continue;const b=s_(g);if(b){b.focus();break}}})}},[a,t,i,u,c]),null}function zx(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((i,c)=>c({transform:i,...a}),n):n}function u4(e){return p.useMemo(()=>({draggable:{...Ul.draggable,...e?.draggable},droppable:{...Ul.droppable,...e?.droppable},dragOverlay:{...Ul.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function d4(e){let{activeNode:t,measure:n,initialRect:a,config:i=!0}=e;const c=p.useRef(!1),{x:u,y:d}=typeof i=="boolean"?{x:i,y:i}:i;Kn(()=>{if(!u&&!d||!t){c.current=!1;return}if(c.current||!a)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const g=n(h),b=ix(g,a);if(u||(b.x=0),d||(b.y=0),c.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const y=ux(h);y&&y.scrollBy({top:b.y,left:b.x})}},[t,u,d,a,n])}const Hl=p.createContext({...Xn,scaleX:1,scaleY:1});var oo;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(oo||(oo={}));const Ad=p.memo(function(t){var n,a,i,c;let{id:u,accessibility:d,autoScroll:m=!0,children:h,sensors:g=o4,collisionDetection:b=b_,measuring:y,modifiers:v,...C}=t;const N=p.useReducer(l4,void 0,i4),[k,_]=N,[S,w]=d_(),[R,M]=p.useState(oo.Uninitialized),I=R===oo.Initialized,{draggable:{active:O,nodes:P,translate:U},droppable:{containers:V}}=k,oe=O!=null?P.get(O):null,de=p.useRef({initial:null,translated:null}),Ne=p.useMemo(()=>{var ft;return O!=null?{id:O,data:(ft=oe?.data)!=null?ft:s4,rect:de}:null},[O,oe]),re=p.useRef(null),[ke,ae]=p.useState(null),[ne,F]=p.useState(null),K=Aa(C,Object.values(C)),G=Wa("DndDescribedBy",u),z=p.useMemo(()=>V.getEnabled(),[V]),T=u4(y),{droppableRects:Y,measureDroppableContainers:q,measuringScheduled:Q}=Y_(z,{dragging:I,dependencies:[U.x,U.y],config:T.droppable}),xe=V_(P,O),H=p.useMemo(()=>ne?Ol(ne):null,[ne]),ge=Gt(),ze=q_(xe,T.draggable.measure);d4({activeNode:O!=null?P.get(O):null,config:ge.layoutShiftCompensation,initialRect:ze,measure:T.draggable.measure});const Se=jx(xe,T.draggable.measure,ze),rt=jx(xe?xe.parentElement:null),Ze=p.useRef({activatorEvent:null,active:null,activeNode:xe,collisionRect:null,collisions:null,droppableRects:Y,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ot=V.getNodeFor((n=Ze.current.over)==null?void 0:n.id),Ke=r4({measure:T.dragOverlay.measure}),Ct=(a=Ke.nodeRef.current)!=null?a:xe,qt=I?(i=Ke.rect)!=null?i:Se:null,Jt=!!(Ke.nodeRef.current&&Ke.rect),sn=X_(Jt?null:Se),le=Cx(Ct?on(Ct):null),ue=Q_(I?ot??xe:null),he=n4(ue),Me=zx(v,{transform:{x:U.x-sn.x,y:U.y-sn.y,scaleX:1,scaleY:1},activatorEvent:ne,active:Ne,activeNodeRect:Se,containerNodeRect:rt,draggingNodeRect:qt,over:Ze.current.over,overlayNodeRect:Ke.rect,scrollableAncestors:ue,scrollableAncestorRects:he,windowRect:le}),Xe=H?Es(H,U):null,We=J_(ue),me=kx(We),gt=kx(We,[Se]),tt=Es(Me,me),Qe=qt?N_(qt,Me):null,kn=Ne&&Qe?b({active:Ne,collisionRect:Qe,droppableRects:Y,droppableContainers:z,pointerCoordinates:Xe}):null,an=sx(kn,"id"),[_t,br]=p.useState(null),Qa=Jt?Me:Es(Me,gt),Ja=w_(Qa,(c=_t?.rect)!=null?c:null,Se),Vo=p.useRef(null),ao=p.useCallback((ft,$t)=>{let{sensor:jt,options:xt}=$t;if(re.current==null)return;const pt=P.get(re.current);if(!pt)return;const Rt=ft.nativeEvent,Pt=new jt({active:re.current,activeNode:pt,event:Rt,options:xt,context:Ze,onAbort(Ge){if(!P.get(Ge))return;const{onDragAbort:Mt}=K.current,hn={id:Ge};Mt?.(hn),S({type:"onDragAbort",event:hn})},onPending(Ge,ln,Mt,hn){if(!P.get(Ge))return;const{onDragPending:cn}=K.current,yt={id:Ge,constraint:ln,initialCoordinates:Mt,offset:hn};cn?.(yt),S({type:"onDragPending",event:yt})},onStart(Ge){const ln=re.current;if(ln==null)return;const Mt=P.get(ln);if(!Mt)return;const{onDragStart:hn}=K.current,Kt={activatorEvent:Rt,active:{id:ln,data:Mt.data,rect:de}};Ro.unstable_batchedUpdates(()=>{hn?.(Kt),M(oo.Initializing),_({type:Dt.DragStart,initialCoordinates:Ge,active:ln}),S({type:"onDragStart",event:Kt}),ae(Vo.current),F(Rt)})},onMove(Ge){_({type:Dt.DragMove,coordinates:Ge})},onEnd:Cn(Dt.DragEnd),onCancel:Cn(Dt.DragCancel)});Vo.current=Pt;function Cn(Ge){return async function(){const{active:Mt,collisions:hn,over:Kt,scrollAdjustedTranslate:cn}=Ze.current;let yt=null;if(Mt&&cn){const{cancelDrop:At}=K.current;yt={activatorEvent:Rt,active:Mt,collisions:hn,delta:cn,over:Kt},Ge===Dt.DragEnd&&typeof At=="function"&&await Promise.resolve(At(yt))&&(Ge=Dt.DragCancel)}re.current=null,Ro.unstable_batchedUpdates(()=>{_({type:Ge}),M(oo.Uninitialized),br(null),ae(null),F(null),Vo.current=null;const At=Ge===Dt.DragEnd?"onDragEnd":"onDragCancel";if(yt){const Bs=K.current[At];Bs?.(yt),S({type:At,event:yt})}})}}},[P]),wr=p.useCallback((ft,$t)=>(jt,xt)=>{const pt=jt.nativeEvent,Rt=P.get(xt);if(re.current!==null||!Rt||pt.dndKit||pt.defaultPrevented)return;const Pt={active:Rt};ft(jt,$t.options,Pt)===!0&&(pt.dndKit={capturedBy:$t.sensor},re.current=xt,ao(jt,$t))},[P,ao]),jr=Z_(g,wr);e4(g),Kn(()=>{Se&&R===oo.Initializing&&M(oo.Initialized)},[Se,R]),p.useEffect(()=>{const{onDragMove:ft}=K.current,{active:$t,activatorEvent:jt,collisions:xt,over:pt}=Ze.current;if(!$t||!jt)return;const Rt={active:$t,activatorEvent:jt,collisions:xt,delta:{x:tt.x,y:tt.y},over:pt};Ro.unstable_batchedUpdates(()=>{ft?.(Rt),S({type:"onDragMove",event:Rt})})},[tt.x,tt.y]),p.useEffect(()=>{const{active:ft,activatorEvent:$t,collisions:jt,droppableContainers:xt,scrollAdjustedTranslate:pt}=Ze.current;if(!ft||re.current==null||!$t||!pt)return;const{onDragOver:Rt}=K.current,Pt=xt.get(an),Cn=Pt&&Pt.rect.current?{id:Pt.id,rect:Pt.rect.current,data:Pt.data,disabled:Pt.disabled}:null,Ge={active:ft,activatorEvent:$t,collisions:jt,delta:{x:pt.x,y:pt.y},over:Cn};Ro.unstable_batchedUpdates(()=>{br(Cn),Rt?.(Ge),S({type:"onDragOver",event:Ge})})},[an]),Kn(()=>{Ze.current={activatorEvent:ne,active:Ne,activeNode:xe,collisionRect:Qe,collisions:kn,droppableRects:Y,draggableNodes:P,draggingNode:Ct,draggingNodeRect:qt,droppableContainers:V,over:_t,scrollableAncestors:ue,scrollAdjustedTranslate:tt},de.current={initial:qt,translated:Qe}},[Ne,xe,kn,Qe,P,Ct,qt,Y,V,_t,ue,tt]),B_({...ge,delta:U,draggingRect:Qe,pointerCoordinates:Xe,scrollableAncestors:ue,scrollableAncestorRects:he});const io=p.useMemo(()=>({active:Ne,activeNode:xe,activeNodeRect:Se,activatorEvent:ne,collisions:kn,containerNodeRect:rt,dragOverlay:Ke,draggableNodes:P,droppableContainers:V,droppableRects:Y,over:_t,measureDroppableContainers:q,scrollableAncestors:ue,scrollableAncestorRects:he,measuringConfiguration:T,measuringScheduled:Q,windowRect:le}),[Ne,xe,Se,ne,kn,rt,Ke,P,V,Y,_t,q,ue,he,T,Q,le]),qe=p.useMemo(()=>({activatorEvent:ne,activators:jr,active:Ne,activeNodeRect:Se,ariaDescribedById:{draggable:G},dispatch:_,draggableNodes:P,over:_t,measureDroppableContainers:q}),[ne,jr,Ne,Se,_,G,P,_t,q]);return De.createElement(ex.Provider,{value:w},De.createElement(Ya.Provider,{value:qe},De.createElement(Rx.Provider,{value:io},De.createElement(Hl.Provider,{value:Ja},h)),De.createElement(c4,{disabled:d?.restoreFocus===!1})),De.createElement(m_,{...d,hiddenTextDescribedById:G}));function Gt(){const ft=ke?.autoScrollEnabled===!1,$t=typeof m=="object"?m.enabled===!1:m===!1,jt=I&&!ft&&!$t;return typeof m=="object"?{...m,enabled:jt}:{enabled:jt}}}),f4=p.createContext(null),Tx="button",p4="Draggable";function Fd(e){let{id:t,data:n,disabled:a=!1,attributes:i}=e;const c=Wa(p4),{activators:u,activatorEvent:d,active:m,activeNodeRect:h,ariaDescribedById:g,draggableNodes:b,over:y}=p.useContext(Ya),{role:v=Tx,roleDescription:C="draggable",tabIndex:N=0}=i??{},k=m?.id===t,_=p.useContext(k?Hl:f4),[S,w]=Ml(),[R,M]=Ml(),I=t4(u,t),O=Aa(n);Kn(()=>(b.set(t,{id:t,key:c,node:S,activatorNode:R,data:O}),()=>{const U=b.get(t);U&&U.key===c&&b.delete(t)}),[b,t]);const P=p.useMemo(()=>({role:v,tabIndex:N,"aria-disabled":a,"aria-pressed":k&&v===Tx?!0:void 0,"aria-roledescription":C,"aria-describedby":g.draggable}),[a,v,N,k,C,g.draggable]);return{active:m,activatorEvent:d,activeNodeRect:h,attributes:P,isDragging:k,listeners:a?void 0:I,node:S,over:y,setNodeRef:w,setActivatorNodeRef:M,transform:_}}function Dx(){return p.useContext(Rx)}const m4="Droppable",h4={timeout:25};function Qn(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:i}=e;const c=Wa(m4),{active:u,dispatch:d,over:m,measureDroppableContainers:h}=p.useContext(Ya),g=p.useRef({disabled:n}),b=p.useRef(!1),y=p.useRef(null),v=p.useRef(null),{disabled:C,updateMeasurementsFor:N,timeout:k}={...h4,...i},_=Aa(N??a),S=p.useCallback(()=>{if(!b.current){b.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{h(Array.isArray(_.current)?_.current:[_.current]),v.current=null},k)},[k]),w=Bl({callback:S,disabled:C||!u}),R=p.useCallback((P,U)=>{w&&(U&&(w.unobserve(U),b.current=!1),P&&w.observe(P))},[w]),[M,I]=Ml(R),O=Aa(t);return p.useEffect(()=>{!w||!M.current||(w.disconnect(),b.current=!1,w.observe(M.current))},[M,w]),p.useEffect(()=>(d({type:Dt.RegisterDroppable,element:{id:a,key:c,disabled:n,node:M,rect:y,data:O}}),()=>d({type:Dt.UnregisterDroppable,key:c,id:a})),[a]),p.useEffect(()=>{n!==g.current.disabled&&(d({type:Dt.SetDroppableDisabled,id:a,key:c,disabled:n}),g.current.disabled=n)},[a,c,n,d]),{active:u,rect:y,isOver:m?.id===a,node:M,over:m,setNodeRef:I}}function g4(e){let{animation:t,children:n}=e;const[a,i]=p.useState(null),[c,u]=p.useState(null),d=Il(n);return!n&&!a&&d&&i(d),Kn(()=>{if(!c)return;const m=a?.key,h=a?.props.id;if(m==null||h==null){i(null);return}Promise.resolve(t(h,c)).then(()=>{i(null)})},[t,a,c]),De.createElement(De.Fragment,null,n,a?p.cloneElement(a,{ref:u}):null)}const x4={x:0,y:0,scaleX:1,scaleY:1};function y4(e){let{children:t}=e;return De.createElement(Ya.Provider,{value:_x},De.createElement(Hl.Provider,{value:x4},t))}const v4={position:"fixed",touchAction:"none"},b4=e=>Ll(e)?"transform 250ms ease":void 0,w4=p.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:i,children:c,className:u,rect:d,style:m,transform:h,transition:g=b4}=e;if(!d)return null;const b=i?h:{...h,scaleX:1,scaleY:1},y={...v4,width:d.width,height:d.height,top:d.top,left:d.left,transform:gr.Transform.toString(b),transformOrigin:i&&a?g_(a,d):void 0,transition:typeof g=="function"?g(a):g,...m};return De.createElement(n,{className:u,style:y,ref:t},c)}),j4={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:gr.Transform.toString(t)},{transform:gr.Transform.toString(n)}]},sideEffects:(e=>t=>{let{active:n,dragOverlay:a}=t;const i={},{styles:c,className:u}=e;if(c!=null&&c.active)for(const[d,m]of Object.entries(c.active))m!==void 0&&(i[d]=n.node.style.getPropertyValue(d),n.node.style.setProperty(d,m));if(c!=null&&c.dragOverlay)for(const[d,m]of Object.entries(c.dragOverlay))m!==void 0&&a.node.style.setProperty(d,m);return u!=null&&u.active&&n.node.classList.add(u.active),u!=null&&u.dragOverlay&&a.node.classList.add(u.dragOverlay),function(){for(const[m,h]of Object.entries(i))n.node.style.setProperty(m,h);u!=null&&u.active&&n.node.classList.remove(u.active)}})({styles:{active:{opacity:"0"}}})};function N4(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:i}=e;return Pl((c,u)=>{if(t===null)return;const d=n.get(c);if(!d)return;const m=d.node.current;if(!m)return;const h=Sx(u);if(!h)return;const{transform:g}=on(u).getComputedStyle(u),b=lx(g);if(!b)return;const y=typeof t=="function"?t:k4(t);return gx(m,i.draggable.measure),y({active:{id:c,data:d.data,node:m,rect:i.draggable.measure(m)},draggableNodes:n,dragOverlay:{node:u,rect:i.dragOverlay.measure(h)},droppableContainers:a,measuringConfiguration:i,transform:b})})}function k4(e){const{duration:t,easing:n,sideEffects:a,keyframes:i}={...j4,...e};return c=>{let{active:u,dragOverlay:d,transform:m,...h}=c;if(!t)return;const g={x:d.rect.left-u.rect.left,y:d.rect.top-u.rect.top},b={scaleX:m.scaleX!==1?u.rect.width*m.scaleX/d.rect.width:1,scaleY:m.scaleY!==1?u.rect.height*m.scaleY/d.rect.height:1},y={x:m.x-g.x,y:m.y-g.y,...b},v=i({...h,active:u,dragOverlay:d,transform:{initial:m,final:y}}),[C]=v,N=v[v.length-1];if(JSON.stringify(C)===JSON.stringify(N))return;const k=a?.({active:u,dragOverlay:d,...h}),_=d.node.animate(v,{duration:t,easing:n,fill:"forwards"});return new Promise(S=>{_.onfinish=()=>{k?.(),S()}})}}let $x=0;function C4(e){return p.useMemo(()=>{if(e!=null)return $x++,$x},[e])}const Px=De.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:i,transition:c,modifiers:u,wrapperElement:d="div",className:m,zIndex:h=999}=e;const{activatorEvent:g,active:b,activeNodeRect:y,containerNodeRect:v,draggableNodes:C,droppableContainers:N,dragOverlay:k,over:_,measuringConfiguration:S,scrollableAncestors:w,scrollableAncestorRects:R,windowRect:M}=Dx(),I=p.useContext(Hl),O=C4(b?.id),P=zx(u,{activatorEvent:g,active:b,activeNodeRect:y,containerNodeRect:v,draggingNodeRect:k.rect,over:_,overlayNodeRect:k.rect,scrollableAncestors:w,scrollableAncestorRects:R,transform:I,windowRect:M}),U=Od(y),V=N4({config:a,draggableNodes:C,droppableContainers:N,measuringConfiguration:S}),oe=U?k.setRef:void 0;return De.createElement(y4,null,De.createElement(g4,{animation:V},b&&O?De.createElement(w4,{key:O,id:b.id,ref:oe,as:d,activatorEvent:g,adjustScale:t,className:m,transition:c,rect:U,style:{zIndex:h,...i},transform:P},n):null))});function Mx(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function E4(e,t){return e.reduce((n,a,i)=>{const c=t.get(a);return c&&(n[i]=c),n},Array(e.length))}function Vl(e){return e!==null&&e>=0}function S4(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function _4(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Ix=e=>{let{rects:t,activeIndex:n,overIndex:a,index:i}=e;const c=Mx(t,a,n),u=t[i],d=c[i];return!d||!u?null:{x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height}},Zl={scaleX:1,scaleY:1},Wd=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:i,rects:c,overIndex:u}=e;const d=(t=c[n])!=null?t:a;if(!d)return null;if(i===n){const h=c[u];return h?{x:0,y:n<u?h.top+h.height-(d.top+d.height):h.top-d.top,...Zl}:null}const m=R4(c,i,n);return i>n&&i<=u?{x:0,y:-d.height-m,...Zl}:i<n&&i>=u?{x:0,y:d.height+m,...Zl}:{x:0,y:0,...Zl}};function R4(e,t,n){const a=e[t],i=e[t-1],c=e[t+1];return a?n<t?i?a.top-(i.top+i.height):c?c.top-(a.top+a.height):0:c?c.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const Lx="Sortable",Ox=De.createContext({activeIndex:-1,containerId:Lx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ix,disabled:{draggable:!1,droppable:!1}});function Bd(e){let{children:t,id:n,items:a,strategy:i=Ix,disabled:c=!1}=e;const{active:u,dragOverlay:d,droppableRects:m,over:h,measureDroppableContainers:g}=Dx(),b=Wa(Lx,n),y=d.rect!==null,v=p.useMemo(()=>a.map(I=>typeof I=="object"&&"id"in I?I.id:I),[a]),C=u!=null,N=u?v.indexOf(u.id):-1,k=h?v.indexOf(h.id):-1,_=p.useRef(v),S=!S4(v,_.current),w=k!==-1&&N===-1||S,R=_4(c);Kn(()=>{S&&C&&g(v)},[S,v,C,g]),p.useEffect(()=>{_.current=v},[v]);const M=p.useMemo(()=>({activeIndex:N,containerId:b,disabled:R,disableTransforms:w,items:v,overIndex:k,useDragOverlay:y,sortedRects:E4(v,m),strategy:i}),[N,b,R.draggable,R.droppable,w,v,k,m,y,i]);return De.createElement(Ox.Provider,{value:M},t)}const z4=e=>{let{id:t,items:n,activeIndex:a,overIndex:i}=e;return Mx(n,a,i).indexOf(t)},T4=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:i,items:c,newIndex:u,previousItems:d,previousContainerId:m,transition:h}=e;return!h||!a||d!==c&&i===u?!1:n?!0:u!==i&&t===m},D4={duration:200,easing:"ease"},Ax="transform",$4=gr.Transition.toString({property:Ax,duration:0,easing:"linear"}),P4={roleDescription:"sortable"};function M4(e){let{disabled:t,index:n,node:a,rect:i}=e;const[c,u]=p.useState(null),d=p.useRef(n);return Kn(()=>{if(!t&&n!==d.current&&a.current){const m=i.current;if(m){const h=Ss(a.current,{ignoreTransform:!0}),g={x:m.left-h.left,y:m.top-h.top,scaleX:m.width/h.width,scaleY:m.height/h.height};(g.x||g.y)&&u(g)}}n!==d.current&&(d.current=n)},[t,n,a,i]),p.useEffect(()=>{c&&u(null)},[c]),c}function Ud(e){let{animateLayoutChanges:t=T4,attributes:n,disabled:a,data:i,getNewIndex:c=z4,id:u,strategy:d,resizeObserverConfig:m,transition:h=D4}=e;const{items:g,containerId:b,activeIndex:y,disabled:v,disableTransforms:C,sortedRects:N,overIndex:k,useDragOverlay:_,strategy:S}=p.useContext(Ox),w=I4(a,v),R=g.indexOf(u),M=p.useMemo(()=>({sortable:{containerId:b,index:R,items:g},...i}),[b,i,R,g]),I=p.useMemo(()=>g.slice(g.indexOf(u)),[g,u]),{rect:O,node:P,isOver:U,setNodeRef:V}=Qn({id:u,data:M,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...m}}),{active:oe,activatorEvent:de,activeNodeRect:Ne,attributes:re,setNodeRef:ke,listeners:ae,isDragging:ne,over:F,setActivatorNodeRef:K,transform:G}=Fd({id:u,data:M,attributes:{...P4,...n},disabled:w.draggable}),z=t_(V,ke),T=!!oe,Y=T&&!C&&Vl(y)&&Vl(k),q=!_&&ne,Q=q&&Y?G:null,H=Y?Q??(d??S)({rects:N,activeNodeRect:Ne,activeIndex:y,overIndex:k,index:R}):null,ge=Vl(y)&&Vl(k)?c({id:u,items:g,activeIndex:y,overIndex:k}):R,ze=oe?.id,Se=p.useRef({activeId:ze,items:g,newIndex:ge,containerId:b}),rt=g!==Se.current.items,Ze=t({active:oe,containerId:b,isDragging:ne,isSorting:T,id:u,index:R,items:g,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:h,wasDragging:Se.current.activeId!=null}),ot=M4({disabled:!Ze,index:R,node:P,rect:O});return p.useEffect(()=>{T&&Se.current.newIndex!==ge&&(Se.current.newIndex=ge),b!==Se.current.containerId&&(Se.current.containerId=b),g!==Se.current.items&&(Se.current.items=g)},[T,ge,b,g]),p.useEffect(()=>{if(ze===Se.current.activeId)return;if(ze&&!Se.current.activeId){Se.current.activeId=ze;return}const Ct=setTimeout(()=>{Se.current.activeId=ze},50);return()=>clearTimeout(Ct)},[ze]),{active:oe,activeIndex:y,attributes:re,data:M,rect:O,index:R,newIndex:ge,items:g,isOver:U,isSorting:T,isDragging:ne,listeners:ae,node:P,overIndex:k,over:F,setNodeRef:z,setActivatorNodeRef:K,setDroppableNodeRef:V,setDraggableNodeRef:ke,transform:ot??H,transition:Ke()};function Ke(){if(ot||rt&&Se.current.newIndex===R)return $4;if(!(q&&!Ll(de)||!h)&&(T||Ze))return gr.Transition.toString({...h,property:Ax})}}function I4(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(a=e?.droppable)!=null?a:t.droppable}}function Yl(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const L4=[Fe.Down,Fe.Right,Fe.Up,Fe.Left],O4=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:c,over:u,scrollableAncestors:d}}=t;if(L4.includes(e.code)){if(e.preventDefault(),!n||!a)return;const m=[];c.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const y=i.get(b.id);if(y)switch(e.code){case Fe.Down:a.top<y.top&&m.push(b);break;case Fe.Up:a.top>y.top&&m.push(b);break;case Fe.Left:a.left>y.left&&m.push(b);break;case Fe.Right:a.left<y.left&&m.push(b);break}});const h=y_({collisionRect:a,droppableRects:i,droppableContainers:m});let g=sx(h,"id");if(g===u?.id&&h.length>1&&(g=h[1].id),g!=null){const b=c.get(n.id),y=c.get(g),v=y?i.get(y.id):null,C=y?.node.current;if(C&&v&&b&&y){const k=Fl(C).some((I,O)=>d[O]!==I),_=Fx(b,y),S=A4(b,y),w=k||!_?{x:0,y:0}:{x:S?a.width-v.width:0,y:S?a.height-v.height:0},R={x:v.left,y:v.top};return w.x&&w.y?R:Ba(R,w)}}}};function Fx(e,t){return!Yl(e)||!Yl(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function A4(e,t){return!Yl(e)||!Yl(t)||!Fx(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Wx({scheduledDate:e,schedule:t,className:n="",size:a="normal"}){const i=t?.enabled&&t?.schedules?.length>0;if(!e&&!i)return null;const c=a==="small";if(i&&!e){const d=t.schedules.length;return r.jsxs("div",{className:pe("inline-flex items-center gap-1",c?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",c?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(qn,{className:pe(c?"w-3 h-3":"w-4 h-4")}),r.jsxs("span",{className:"font-medium",children:[d," ",d===1?"Schedule":"Schedules"]})]})}const u=new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return r.jsxs("div",{className:pe("inline-flex items-center gap-1",c?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",c?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(qn,{className:pe(c?"w-3 h-3":"w-4 h-4")}),r.jsx("span",{className:"font-medium",children:"Scheduled"}),!c&&r.jsx("span",{className:"text-blue-500",children:""}),!c&&r.jsx("span",{children:u})]})}function F4({isOpen:e,onClose:t,onSchedule:n,currentSchedule:a}){const[i,c]=p.useState(a?.schedules||[]),[u,d]=p.useState(!1),[m,h]=p.useState(null),[g,b]=p.useState({});De.useEffect(()=>{c(a?.schedules||[])},[a]);const y=()=>{const w={id:Date.now(),baseDate:"",daysOffset:"",executionMethod:"",time:"",offset:""};c([...i,w])},v=w=>{c(i.filter(R=>R.id!==w))},C=(w,R,M)=>{c(i.map(O=>O.id===w?{...O,[R]:M}:O));const I=`${w}_${R}`;g[I]&&b(O=>{const P={...O};return delete P[I],P})},N=(w,R)=>g[`${w}_${R}`]||null,k=(w,R)=>!!g[`${w}_${R}`],_=()=>{const w={};i.forEach((R,M)=>{const I=R.id;!R.daysOffset&&R.daysOffset!=="0"&&(w[`${I}_daysOffset`]="Days offset is required"),R.executionMethod||(w[`${I}_executionMethod`]="Execution method is required"),(R.executionMethod==="time"||R.executionMethod.includes("time"))&&!R.time&&(w[`${I}_time`]='Time is required for "time" execution method'),(R.executionMethod==="offset"||R.executionMethod.includes("offset"))&&!R.offset&&R.offset!=="0"&&(w[`${I}_offset`]='Offset is required for "offset" execution method'),R.baseDate&&!R.baseDate.includes("{")&&(/^\d{2}-\d{2}-\d{4}$/.test(R.baseDate)||(w[`${I}_baseDate`]="Base date must be in DD-MM-YYYY format"))}),b(w),!(Object.keys(w).length>0)&&(n({enabled:i.length>0,schedules:i}),t())},S=()=>{c(a?.schedules||[]),b({}),t()};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:S}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden pointer-events-auto flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Schedule Settings"}),r.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Zt,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Schedules"}),r.jsxs("button",{onClick:y,className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[r.jsx(za,{className:"w-4 h-4"}),"Add Item"]})]}),r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg flex items-start gap-2",children:[r.jsx(Zj,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-xs text-blue-800",children:[r.jsxs("p",{className:"font-medium mb-1",children:["You can use ","{tags}"," to retrieve form values"]}),r.jsxs("p",{children:["Examples: ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date}"}),", ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date;timestamp}"}),", ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{field_name}"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[i.map((w,R)=>r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Schedule ",R+1]}),r.jsx("button",{onClick:()=>v(w.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove schedule",children:r.jsx(Zt,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Base date"}),w.baseDate&&w.baseDate.includes("{")&&r.jsx(Qr,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.baseDate,onChange:M=>C(w.id,"baseDate",M.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",k(w.id,"baseDate")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"DD-MM-YYYY or {date;timestamp}"}),N(w.id,"baseDate")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"baseDate")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Days offset"}),w.daysOffset&&w.daysOffset.includes("{")&&r.jsx(Qr,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.daysOffset,onChange:M=>C(w.id,"daysOffset",M.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",k(w.id,"daysOffset")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"0, 1, -1, or {tag}"}),N(w.id,"daysOffset")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"daysOffset")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Execution method"}),w.executionMethod&&w.executionMethod.includes("{")&&r.jsx(Qr,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.executionMethod,onChange:M=>C(w.id,"executionMethod",M.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",k(w.id,"executionMethod")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"instant, time, offset, or {tag}"}),N(w.id,"executionMethod")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"executionMethod")})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[r.jsxs("p",{className:"mb-1",children:[r.jsx("strong",{children:"Base date:"})," Leave blank for submission date, or use DD-MM-YYYY format or ","{date;timestamp}"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Days offset:"})," 0 = same day, 1 = next day, -1 = previous day"]})]}),(w.executionMethod==="time"||w.executionMethod.includes("time"))&&r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Time (24h format)"}),w.time&&w.time.includes("{")&&r.jsx(Qr,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.time||"",onChange:M=>C(w.id,"time",M.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",k(w.id,"time")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"14:30"}),N(w.id,"time")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"time")}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Use 24h format: 09:00, 14:30, 18:00 or ","{field_name}"]})]}),(w.executionMethod==="offset"||w.executionMethod.includes("offset"))&&r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Offset (in hours)"}),w.offset&&w.offset.includes("{")&&r.jsx(Qr,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.offset||"0",onChange:M=>C(w.id,"offset",M.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",k(w.id,"offset")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"0"}),N(w.id,"offset")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"offset")}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"0 = instantly, 0.08 = 5 min, 0.5 = 30 min, 2 = 2 hours, -5 = 5 hours before"})]})]},w.id)),i.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(qn,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{className:"text-sm",children:"No schedules configured"}),r.jsx("p",{className:"text-xs mt-1",children:'Click "Add Item" to create a schedule'})]})]})]}),r.jsxs("div",{className:"mt-8 border-t pt-6",children:[r.jsxs("button",{onClick:()=>d(!u),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:[u?r.jsx(jn,{className:"w-4 h-4"}):r.jsx(Kr,{className:"w-4 h-4"}),r.jsx($j,{className:"w-4 h-4"}),"Documentation & Examples"]}),u&&r.jsxs("div",{className:"mt-4 space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Common Use Cases"}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(m==="immediate"?null:"immediate"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($r,{className:"w-4 h-4 text-blue-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Immediate Confirmation Email"})]}),m==="immediate"?r.jsx(jn,{className:"w-4 h-4 text-gray-400"}):r.jsx(Kr,{className:"w-4 h-4 text-gray-400"})]}),m==="immediate"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send a confirmation immediately after form submission."}),r.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[r.jsxs("div",{children:["Base date: ",r.jsx("span",{className:"text-blue-600",children:"(leave empty)"})]}),r.jsxs("div",{children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"0"})]}),r.jsxs("div",{children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"Instant"})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(m==="nextday"?null:"nextday"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ah,{className:"w-4 h-4 text-orange-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Next Day Follow-up"})]}),m==="nextday"?r.jsx(jn,{className:"w-4 h-4 text-gray-400"}):r.jsx(Kr,{className:"w-4 h-4 text-gray-400"})]}),m==="nextday"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send a follow-up email the day after submission at 9 AM."}),r.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[r.jsxs("div",{children:["Base date: ",r.jsx("span",{className:"text-blue-600",children:"(leave empty)"})]}),r.jsxs("div",{children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"1"})]}),r.jsxs("div",{children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At specific time"})]}),r.jsxs("div",{children:["Time: ",r.jsx("span",{className:"text-blue-600",children:"09:00"})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(m==="appointment"?null:"appointment"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mj,{className:"w-4 h-4 text-green-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Appointment Reminder"})]}),m==="appointment"?r.jsx(jn,{className:"w-4 h-4 text-gray-400"}):r.jsx(Kr,{className:"w-4 h-4 text-gray-400"})]}),m==="appointment"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send reminder 1 day before an appointment date from the form."}),r.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[r.jsxs("div",{children:["Base date: ",r.jsx("span",{className:"text-blue-600",children:"{appointment_date}"})]}),r.jsxs("div",{children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"-1"})]}),r.jsxs("div",{children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At specific time"})]}),r.jsxs("div",{children:["Time: ",r.jsx("span",{className:"text-blue-600",children:"14:00"})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(m==="weekly"?null:"weekly"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(o2,{className:"w-4 h-4 text-purple-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Weekly Follow-up Series"})]}),m==="weekly"?r.jsx(jn,{className:"w-4 h-4 text-gray-400"}):r.jsx(Kr,{className:"w-4 h-4 text-gray-400"})]}),m==="weekly"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send emails 1, 7, and 14 days after submission."}),r.jsx("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 1:"}),r.jsxs("div",{className:"text-gray-600",children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"1"})]}),r.jsxs("div",{className:"text-gray-600",children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]}),r.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 2:"}),r.jsxs("div",{className:"text-gray-600",children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"7"})]}),r.jsxs("div",{className:"text-gray-600",children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]}),r.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 3:"}),r.jsxs("div",{className:"text-gray-600",children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"14"})]}),r.jsxs("div",{className:"text-gray-600",children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]})]})})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"How Email Scheduling Works"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"The email scheduler allows you to send emails at specific times relative to form submission. You can create multiple schedules to send follow-up emails, reminders, or notifications."}),r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Base Date:"})," The starting point for calculating when to send (default: form submission date)"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Days Offset:"})," Number of days to add/subtract from the base date"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Execution Method:"})," When exactly on that day to send the email"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(Qr,{className:"w-4 h-4"}),"Using Dynamic Tags"]}),r.jsx("p",{className:"text-xs text-gray-700 mb-3",children:"Tags allow you to use form field values dynamically. Any field with a tag icon supports dynamic values."}),r.jsxs("div",{className:"space-y-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:"Current date (25-03-2024 format)"})]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date;timestamp}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:"Unix timestamp"})]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{field_name}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:'Value from form field with name "field_name"'})]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{appointment_date}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:"Date from appointment_date field"})]})]})]}),r.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(u2,{className:"w-4 h-4"}),"Time Offset Reference"]}),r.jsx("p",{className:"text-xs text-gray-700 mb-3",children:'When using "Time offset" execution method, specify hours as decimal numbers:'}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0"})," = Instantly"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.08"})," = 5 minutes"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.25"})," = 15 minutes"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.5"})," = 30 minutes"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"1"})," = 1 hour"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"2"})," = 2 hours"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"24"})," = 24 hours"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"-1"})," = 1 hour before"]})]})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 border-t px-6 py-4",children:[r.jsx("button",{onClick:S,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:_,className:pe("px-4 py-2 text-sm font-medium rounded-lg transition-colors","flex items-center gap-2","bg-blue-600 text-white hover:bg-blue-700"),children:[r.jsx(hs,{className:"w-4 h-4"}),"Save Schedule"]})]})]})})]}):null}function xr({variant:e="primary",size:t="md",disabled:n=!1,className:a,children:i,...c}){const u=["inline-flex items-center justify-center gap-x-2","bg-transparent cursor-pointer","font-medium","transition-colors duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2",n&&"opacity-50 cursor-not-allowed pointer-events-none"],d={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"},m={primary:["rounded-lg border-0 bg-primary-600 text-white shadow-sm","hover:bg-primary-700 hover:text-white","focus:ring-primary-500"],secondary:["rounded-lg bg-white text-gray-700 shadow-sm","border border-gray-300","hover:bg-gray-50 hover:text-gray-800","focus:ring-gray-500"],ghost:["rounded-lg border-0 text-gray-600","hover:bg-gray-100 hover:text-gray-900","focus:ring-gray-500"],danger:["rounded-lg border-0 bg-red-600 text-white shadow-sm","hover:bg-red-700 hover:text-white","focus:ring-red-500"],success:["rounded-lg border-0 bg-green-600 text-white shadow-sm","hover:bg-green-700 hover:text-white","focus:ring-green-500"],link:["border-0 text-primary-600","hover:text-primary-700","focus:ring-0"],pill:["rounded-full bg-white text-gray-700 shadow-sm","border border-gray-300","hover:bg-gray-50 hover:text-gray-800","focus:ring-gray-500"],unstyled:["border-0"],outline:["bg-transparent text-gray-500 rounded-md","border border-gray-300","hover:border-primary-600 hover:text-primary-600","focus:ring-primary-500"],outlineActive:["bg-transparent text-primary-600 rounded-md","border border-primary-600","hover:border-primary-700 hover:text-primary-700","focus:ring-primary-500"]};return r.jsx("button",{type:"button",disabled:n,className:pe(u,d[t],m[e],a),...c,children:i})}function Hd({variant:e="ghost",size:t="md",disabled:n=!1,className:a,children:i,...c}){const u=["inline-flex items-center justify-center","border-0 bg-transparent cursor-pointer","rounded-lg","transition-colors duration-200","focus:outline-none",n&&"opacity-50 cursor-not-allowed pointer-events-none"],d={sm:"p-1",md:"p-1.5",lg:"p-2"},m={ghost:"text-gray-500 hover:text-gray-700 hover:bg-gray-100",danger:"text-red-500 hover:text-red-700 hover:bg-red-50",primary:"text-primary-500 hover:text-primary-700 hover:bg-primary-50"};return r.jsx("button",{type:"button",disabled:n,className:pe(u,d[t],m[e],a),...c,children:i})}function W4({email:e,isActive:t,onSelect:n,onDelete:a,onSchedule:i,onToggle:c,onDuplicate:u}){const[d,m]=p.useState(!1),{attributes:h,listeners:g,setNodeRef:b,transform:y,transition:v,isDragging:C}=Ud({id:e.id}),k={...{transform:gr.Transform.toString(y),transition:v,opacity:C?.5:1},boxShadow:t?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"};return r.jsx("div",{ref:b,style:k,"data-testid":"email-item-"+e.id,className:pe("relative p-3 rounded-lg cursor-pointer transition-all",t?"bg-blue-50 border-2 border-blue-400 ring-2 ring-blue-200":"bg-white border border-gray-200 hover:border-gray-300",C&&"z-50"),onClick:()=>n(e.id),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{"data-testid":"drag-handle",...h,...g,style:{position:"absolute",left:-4,top:"50%",transform:"translateY(-50%)"},className:pe("w-2 h-10 bg-gray-300 rounded transition-opacity cursor-move hover:bg-gray-400",d?"opacity-100":"opacity-0")}),r.jsx("div",{"data-testid":"toggle-container",className:"flex-shrink-0 flex items-center",children:r.jsx("button",{"data-testid":"email-toggle",type:"button",onClick:_=>{_.stopPropagation(),c(e.id,!e.enabled)},className:pe("relative inline-flex items-center flex-shrink-0 cursor-pointer rounded-full border-0 p-0 m-0 transition-colors duration-200 ease-in-out focus:outline-none",e.enabled?"bg-green-500":"bg-gray-300"),style:{width:36,height:20,minHeight:20,lineHeight:"normal"},title:e.enabled?"Disable email":"Enable email",children:r.jsx("span",{"data-testid":"toggle-knob",className:"pointer-events-none rounded-full bg-white shadow ring-0 transition-transform duration-200 ease-in-out",style:{position:"absolute",top:2,left:2,width:16,height:16,transform:e.enabled?"translateX(16px)":"translateX(0)"}})})}),r.jsxs("div",{"data-testid":"email-info",className:"flex-1 min-w-0 overflow-hidden",children:[r.jsx("span",{"data-testid":"email-name",className:pe("font-medium text-sm block whitespace-nowrap overflow-hidden text-ellipsis",e.enabled?"text-gray-900":"text-gray-400"),children:e.description||"Untitled Email"}),r.jsx("span",{"data-testid":"email-subject",className:pe("text-xs block whitespace-nowrap overflow-hidden text-ellipsis",e.enabled?"text-gray-500":"text-gray-400"),children:e.subject||"No subject"}),(e.scheduled_date||e.schedule)&&r.jsx("div",{"data-testid":"schedule-indicator",className:"mt-1",children:r.jsx(Wx,{scheduledDate:e.scheduled_date,schedule:e.schedule,size:"small"})})]}),r.jsxs("div",{"data-testid":"email-actions",className:pe("items-center gap-0.5 flex-shrink-0",d?"flex":"hidden"),children:[r.jsx(Hd,{"data-testid":"duplicate-btn",variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),u(e.id)},className:"text-gray-400 hover:text-gray-600",title:"Duplicate email",children:r.jsx(Sa,{className:"w-4 h-4"})}),r.jsx(Hd,{"data-testid":"schedule-btn",variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),i(e.id)},className:"text-gray-400 hover:text-gray-600",title:"Schedule email",children:r.jsx(qn,{className:"w-4 h-4"})}),r.jsx(Hd,{"data-testid":"delete-btn",variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),a(e.id)},className:"text-gray-400 hover:text-red-500",title:"Delete email",children:r.jsx(Gn,{className:"w-4 h-4"})})]})]})})}function B4(){const{emails:e,activeEmailId:t,setActiveEmailId:n,addEmail:a,removeEmail:i,duplicateEmail:c,reorderEmails:u,updateEmailField:d}=Ns(),[m,h]=p.useState(null),[g,b]=p.useState(!1),y=h_(tx(Pd,{activationConstraint:{distance:8}}),tx(Dd,{coordinateGetter:O4})),v=w=>{const{active:R,over:M}=w;if(R.id!==M.id){const I=e.findIndex(P=>P.id===R.id),O=e.findIndex(P=>P.id===M.id);I!==-1&&O!==-1&&u(I,O)}},C=w=>{window.confirm("Are you sure you want to delete this email?")&&i(w)},N=w=>{h(w),b(!0)},k=(w,R)=>{d(w,"enabled",R)},_=w=>{m&&(d(m,"schedule",w),b(!1),h(null))},S=e.find(w=>w.id===m);return r.jsxs("div",{"data-testid":"email-list",className:"bg-gray-50 rounded-lg p-4 h-full",children:[r.jsx("div",{className:"flex items-center justify-end mb-4",children:r.jsxs(xr,{"data-testid":"add-email-btn",variant:"ghost",onClick:a,children:[r.jsx(za,{className:"w-4 h-4"}),"Add Email"]})}),e.length>0?r.jsx(Ad,{sensors:y,collisionDetection:Sd,onDragEnd:v,children:r.jsx(Bd,{items:e.map(w=>w.id),strategy:Wd,children:r.jsx("div",{className:"space-y-2",children:e.map(w=>r.jsx(W4,{email:w,isActive:w.id===t,onSelect:n,onDelete:C,onSchedule:N,onToggle:k,onDuplicate:c},w.id))})})}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"mt-2 text-sm",children:"No emails configured"}),r.jsx(xr,{variant:"link",onClick:a,className:"mt-3",children:"Add your first email"})]}),r.jsx(F4,{isOpen:g,onClose:()=>{b(!1),h(null)},onSchedule:_,currentSchedule:S?.schedule})]})}function Bx({email:e}){const a=`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    <style>
      /* Reset styles for email content */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        font-size: 14px;
        line-height: 1.6;
        color: #333333;
      }
      
      p {
        margin: 0 0 10px 0;
      }
      
      h1, h2, h3, h4, h5, h6 {
        margin: 0 0 10px 0;
        font-weight: 600;
      }
      
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      h3 { font-size: 18px; }
      h4 { font-size: 16px; }
      h5 { font-size: 14px; }
      h6 { font-size: 12px; }
      
      a {
        color: #0066cc;
        text-decoration: underline;
      }
      
      img {
        max-width: 100%;
        height: auto;
      }
      
      table {
        border-collapse: collapse;
        width: 100%;
      }
      
      th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
      
      blockquote {
        margin: 0 0 10px 0;
        padding: 10px 20px;
        border-left: 4px solid #ddd;
        background-color: #f9f9f9;
      }
      
      ul, ol {
        margin: 0 0 10px 20px;
        padding: 0;
      }
      
      li {
        margin: 0 0 5px 0;
      }
      
      /* Button styles */
      .button {
        display: inline-block;
        padding: 12px 24px;
        background-color: #0066cc;
        color: #ffffff;
        text-decoration: none;
        border-radius: 4px;
        font-weight: 600;
      }
      
      /* Responsive */
      @media only screen and (max-width: 600px) {
        body {
          font-size: 16px !important;
        }
        
        table {
          width: 100% !important;
        }
        
        .button {
          display: block !important;
          width: 100% !important;
        }
      }
    </style>
  
      </head>
      <body>
        <div style="max-width: 600px; margin: 0 auto;">
          ${e.body||"<p>Email content will appear here...</p>"}
        </div>
      </body>
    </html>
  `;return r.jsx("div",{className:"email-content",children:r.jsx("iframe",{srcDoc:a,className:"w-full h-full border-0",style:{minHeight:"400px"},title:"Email Preview",sandbox:"allow-same-origin"})})}function _s({value:e,onChange:t,placeholder:n="Click to edit",className:a="",multiline:i=!1,type:c="text",showEditIcon:u=!0,noPadding:d=!1,"data-testid":m}){const[h,g]=p.useState(!1),[b,y]=p.useState(e||""),[v,C]=p.useState(!1),N=p.useRef(null);p.useEffect(()=>{h&&N.current&&(N.current.focus(),N.current.select&&N.current.select())},[h]),p.useEffect(()=>{y(e||"")},[e]);const k=()=>{t&&b!==e&&t(b),g(!1)},_=()=>{y(e||""),g(!1)},S=R=>{R.key==="Enter"&&!i?(R.preventDefault(),k()):R.key==="Escape"&&(R.preventDefault(),_())},w=()=>{h||g(!0)};if(h){const R=i?"textarea":"input";return r.jsxs("div",{"data-testid":m?`${m}-editing`:void 0,className:"inline-flex items-center gap-1",children:[r.jsx(R,{ref:N,type:c,value:b,onChange:M=>y(M.target.value),onKeyDown:S,onBlur:k,className:pe("bg-white border border-gray-300 rounded",!d&&"px-2 py-0.5","outline-none focus:border-blue-500",!d&&"h-[28px]",i&&"resize-none min-h-[60px] h-auto",a),placeholder:n,"data-testid":m?`${m}-input`:void 0}),r.jsxs("div",{"data-testid":m?`${m}-actions`:void 0,className:"flex gap-1",children:[r.jsx("button",{type:"button",onClick:k,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Save","data-testid":m?`${m}-save-btn`:void 0,children:r.jsx(Ki,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:_,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Cancel","data-testid":m?`${m}-cancel-btn`:void 0,children:r.jsx(Zt,{className:"w-4 h-4"})})]})]})}return r.jsxs("span",{"data-testid":m,className:pe("inline-flex items-center gap-1 cursor-pointer group","border border-transparent rounded",!d&&"px-2 py-0.5",!d&&"h-[28px]",a),onClick:w,onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),title:"Click to edit",children:[r.jsx("span",{"data-testid":m?`${m}-value`:void 0,className:pe(!e&&"text-gray-400"),children:e||n}),u&&v&&r.jsx(pr,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}function U4({children:e,onRemove:t,variant:n="default",className:a,...i}){const u={display:"inline-flex",alignItems:"center",gap:"4px",padding:"2px 8px",borderRadius:"9999px",fontSize:"12px",fontWeight:500,lineHeight:"1.4",...{default:{background:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb"},email:{background:"#dbeafe",color:"#1d4ed8",border:"1px solid #bfdbfe"},field:{background:"#f3e8ff",color:"#7c3aed",border:"1px solid #e9d5ff"},success:{background:"#dcfce7",color:"#16a34a",border:"1px solid #bbf7d0"},warning:{background:"#fef3c7",color:"#d97706",border:"1px solid #fde68a"},error:{background:"#fee2e2",color:"#dc2626",border:"1px solid #fecaca"}}[n]},d={display:"inline-flex",alignItems:"center",justifyContent:"center",width:"16px",height:"16px",padding:0,margin:0,border:"none",background:"transparent",cursor:"pointer",borderRadius:"50%",color:"inherit",opacity:.6,transition:"opacity 0.15s, color 0.15s"},m=g=>{g.currentTarget.style.opacity="1",g.currentTarget.style.color="#dc2626"},h=g=>{g.currentTarget.style.opacity="0.6",g.currentTarget.style.color="inherit"};return r.jsxs("span",{style:u,className:a,...i,children:[r.jsx("span",{children:e}),t&&r.jsx("button",{type:"button",onClick:t,title:"Remove",style:d,onMouseEnter:m,onMouseLeave:h,children:r.jsx(Zt,{size:12,strokeWidth:2.5})})]})}function H4({value:e="",onChange:t,validate:n,getVariant:a,placeholder:i="Type and press Enter...",className:c,"data-testid":u}){const d=p.useRef(null),[m,h]=p.useState(""),g=e?e.split(",").map(w=>w.trim()).filter(Boolean):[],b=p.useCallback(w=>{const R=w.trim();if(!R)return;if(g.includes(R)){h("");return}if(n&&!n(R))return;const M=[...g,R];t(M.join(", ")),h("")},[g,t,n]),y=p.useCallback(w=>{const R=g.filter((M,I)=>I!==w);t(R.join(", "))},[g,t]),v=p.useCallback(w=>{const R=m.trim();if(w.key==="Enter"||w.key==="Tab"||w.key===",")if(R)w.preventDefault(),b(R);else{if(w.key==="Tab")return;w.preventDefault()}w.key==="Backspace"&&!m&&g.length>0&&y(g.length-1)},[m,b,y,g.length]),C=p.useCallback(w=>{w.preventDefault();const M=w.clipboardData.getData("text").split(",").map(O=>O.trim()).filter(Boolean),I=[...g];M.forEach(O=>{!I.includes(O)&&(!n||n(O))&&I.push(O)}),t(I.join(", "))},[g,t,n]),N=p.useCallback(()=>{m.trim()&&b(m)},[m,b]),k=p.useCallback(w=>a?a(w):"default",[a]),_={display:"flex",flexWrap:"wrap",alignItems:"center",gap:"4px",minHeight:"32px",padding:"4px 8px",background:"transparent",borderRadius:"6px",cursor:"text"},S={flex:1,minWidth:"120px",border:"none",outline:"none",padding:"2px 4px",fontSize:"14px",background:"transparent",fontFamily:"inherit"};return r.jsxs("div",{"data-testid":u,className:c,style:_,onClick:()=>d.current?.focus(),children:[g.map((w,R)=>r.jsx(U4,{"data-testid":u?`${u}-tag-${R}`:void 0,variant:k(w),onRemove:()=>y(R),children:w},`${w}-${R}`)),r.jsx("input",{ref:d,type:"text",value:m,onChange:w=>h(w.target.value),onKeyDown:v,onPaste:C,onBlur:N,placeholder:g.length===0?i:"",style:S,"data-testid":u?`${u}-input`:void 0})]})}function Rs({value:e="",onChange:t,placeholder:n="Enter email addresses...",className:a,"data-testid":i}){const c=p.useCallback(d=>{const m=d.trim();return/^\{[a-zA-Z0-9_]+\}$/.test(m)?!0:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m)},[]),u=p.useCallback(d=>/^\{[a-zA-Z0-9_]+\}$/.test(d.trim())?"field":"email",[]);return r.jsx(H4,{value:e,onChange:t,validate:c,getVariant:u,placeholder:n,className:a,"data-testid":i})}let In=null;function V4({onSelect:e,onClose:t,title:n="Select Media"}){p.useEffect(()=>{if(typeof wp>"u"||!wp.media){console.error("WordPress media library is not available"),t();return}In?In.options.title=n:In=wp.media({title:n,button:{text:"Select"},multiple:!1}),In.off("select"),In.off("close");const i=()=>{const u=In.state().get("selection").first().toJSON();if(u){const d={id:u.id,title:u.title,filename:u.filename,url:u.url,mime:u.mime||u.type,type:u.mime||u.type,filesizeHumanReadable:u.filesizeHumanReadable||a(u.filesize),filesize:u.filesize};e(d)}},c=()=>{t()};return In.on("select",i),In.on("close",c),In.open(),()=>{In&&(In.off("select",i),In.off("close",c))}},[]);function a(i){if(!i)return"Unknown size";const c=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(i)/Math.log(1024));return Math.round(i/Math.pow(1024,u)*100)/100+" "+c[u]}return null}const Z4=De.memo(V4),Ux=({className:e})=>r.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("text",{x:"7",y:"17",fontSize:"8",fontWeight:"600",fill:"currentColor",stroke:"none",children:"PDF"})]});function Y4({attachments:e=[],onChange:t,isBuilder:n=!1}){const[a,i]=p.useState(!1),[c,u]=p.useState(null),d=p.useCallback(y=>{const v={id:y.id,name:y.filename||y.title||"Untitled",url:y.url,type:y.mime||y.type||"application/octet-stream",size:y.filesizeHumanReadable||y.filesize||"Unknown size"};if(c!==null){const C=[...e];C[c]=v,t(C),u(null)}else t([...e,v]);i(!1)},[e,t,c]),m=y=>{const v=e.filter((C,N)=>N!==y);t(v)},h=y=>{u(y),i(!0)},g=p.useCallback(()=>{i(!1),u(null)},[]),b=(y,v="")=>{if(y.startsWith("image/"))return ol;if(y.includes("pdf"))return Ux;if(y.includes("spreadsheet")||y.includes("excel")||y.includes("csv"))return sl;if(y.includes("video/"))return il;if(y.includes("audio/"))return nl;if(y.includes("zip")||y.includes("tar")||y.includes("archive"))return tl;if(y.includes("text/plain"))return al;switch(v.split(".").pop()?.toLowerCase()){case"pdf":return Ux;case"csv":case"xls":case"xlsx":case"ods":return sl;case"doc":case"docx":case"odt":case"rtf":case"txt":return al;case"mp4":case"avi":case"mov":case"wmv":case"flv":case"webm":return il;case"mp3":case"wav":case"ogg":case"flac":case"aac":return nl;case"zip":case"rar":case"7z":case"tar":case"gz":return tl;case"js":case"jsx":case"ts":case"tsx":case"html":case"css":case"php":case"py":case"java":case"cpp":case"c":case"json":case"xml":return rl;case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":case"bmp":case"ico":return ol;default:return uh}};return!n&&e.length===0?null:r.jsxs("div",{"data-testid":"attachment-manager",className:"border-t pt-4 mt-2.5",children:[n&&r.jsxs(xr,{"data-testid":"attach-files-btn",variant:"link",size:"sm",onClick:()=>{u(null),i(!0)},className:"mb-3",children:[r.jsx(xh,{className:"w-3 h-3"}),"Attach files"]}),e.length>0&&r.jsx("div",{"data-testid":"attachment-list",className:"flex flex-wrap gap-2",children:e.map((y,v)=>{const C=b(y.type,y.name);return r.jsxs("div",{"data-testid":`attachment-item-${v}`,className:"group inline-flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#f5f5f5"},children:[r.jsx(C,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer","data-testid":`attachment-link-${v}`,className:"text-sm text-gray-700 group-hover:text-blue-600 transition-colors flex items-center gap-1",children:[r.jsx("span",{"data-testid":`attachment-name-${v}`,children:y.name}),r.jsx(el,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),r.jsxs("span",{"data-testid":`attachment-size-${v}`,className:"text-xs text-gray-500",children:["(",y.size,")"]}),n&&r.jsxs("div",{"data-testid":`attachment-actions-${v}`,className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{"data-testid":`attachment-edit-btn-${v}`,onClick:()=>h(v),className:"p-1 text-blue-600 hover:text-blue-700",title:"Replace attachment",children:r.jsx(pr,{className:"w-4 h-4"})}),r.jsx("button",{"data-testid":`attachment-remove-btn-${v}`,onClick:()=>m(v),className:"p-1 text-red-600 hover:text-red-700",title:"Remove attachment",children:r.jsx(Zt,{className:"w-4 h-4"})})]})]},`${y.id}-${v}`)})}),a&&r.jsx(Z4,{onSelect:d,onClose:g,title:c!==null?"Replace Attachment":"Select Attachment"})]})}const Hx=De.memo(Y4);function Yt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function Vx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Mr(...e){return t=>{let n=!1;const a=e.map(i=>{const c=Vx(i,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let i=0;i<a.length;i++){const c=a[i];typeof c=="function"?c():Vx(e[i],null)}}}}function Nn(...e){return p.useCallback(Mr(...e),e)}function q4(e,t){const n=p.createContext(t),a=c=>{const{children:u,...d}=c,m=p.useMemo(()=>d,Object.values(d));return r.jsx(n.Provider,{value:m,children:u})};a.displayName=e+"Provider";function i(c){const u=p.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[a,i]}function qa(e,t=[]){let n=[];function a(c,u){const d=p.createContext(u),m=n.length;n=[...n,u];const h=b=>{const{scope:y,children:v,...C}=b,N=y?.[e]?.[m]||d,k=p.useMemo(()=>C,Object.values(C));return r.jsx(N.Provider,{value:k,children:v})};h.displayName=c+"Provider";function g(b,y){const v=y?.[e]?.[m]||d,C=p.useContext(v);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[h,g]}const i=()=>{const c=n.map(u=>p.createContext(u));return function(d){const m=d?.[e]||c;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return i.scopeName=e,[a,G4(i,...t)]}function G4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const u=a.reduce((d,{useScope:m,scopeName:h})=>{const b=m(c)[`__scope${h}`];return{...d,...b}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var zs=globalThis?.document?p.useLayoutEffect:()=>{},K4=wu[" useId ".trim().toString()]||(()=>{}),X4=0;function ql(e){const[t,n]=p.useState(K4());return zs(()=>{n(a=>a??String(X4++))},[e]),e||(t?`radix-${t}`:"")}var Q4=wu[" useInsertionEffect ".trim().toString()]||zs;function Vd({prop:e,defaultProp:t,onChange:n=()=>{},caller:a}){const[i,c,u]=J4({defaultProp:t,onChange:n}),d=e!==void 0,m=d?e:i;{const g=p.useRef(e!==void 0);p.useEffect(()=>{const b=g.current;b!==d&&console.warn(`${a} is changing from ${b?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,a])}const h=p.useCallback(g=>{if(d){const b=e3(g)?g(e):g;b!==e&&u.current?.(b)}else c(g)},[d,e,c,u]);return[m,h]}function J4({defaultProp:e,onChange:t}){const[n,a]=p.useState(e),i=p.useRef(n),c=p.useRef(t);return Q4(()=>{c.current=t},[t]),p.useEffect(()=>{i.current!==n&&(c.current?.(n),i.current=n)},[n,i]),[n,a,c]}function e3(e){return typeof e=="function"}function t3(e){const t=n3(e),n=p.forwardRef((a,i)=>{const{children:c,...u}=a,d=p.Children.toArray(c),m=d.find(o3);if(m){const h=m.props.children,g=d.map(b=>b===m?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:b);return r.jsx(t,{...u,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,g):null})}return r.jsx(t,{...u,ref:i,children:c})});return n.displayName=`${e}.Slot`,n}function n3(e){const t=p.forwardRef((n,a)=>{const{children:i,...c}=n;if(p.isValidElement(i)){const u=a3(i),d=s3(c,i.props);return i.type!==p.Fragment&&(d.ref=a?Mr(a,u):u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var r3=Symbol("radix.slottable");function o3(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===r3}function s3(e,t){const n={...t};for(const a in t){const i=e[a],c=t[a];/^on[A-Z]/.test(a)?i&&c?n[a]=(...d)=>{const m=c(...d);return i(...d),m}:i&&(n[a]=i):a==="style"?n[a]={...i,...c}:a==="className"&&(n[a]=[i,c].filter(Boolean).join(" "))}return{...e,...n}}function a3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var i3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zx=i3.reduce((e,t)=>{const n=t3(`Primitive.${t}`),a=p.forwardRef((i,c)=>{const{asChild:u,...d}=i,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(m,{...d,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function l3(e,t){e&&Ro.flushSync(()=>e.dispatchEvent(t))}function Ts(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>t.current?.(...n),[])}function c3(e,t=globalThis?.document){const n=Ts(e);p.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var u3="DismissableLayer",Zd="dismissableLayer.update",d3="dismissableLayer.pointerDownOutside",f3="dismissableLayer.focusOutside",Yx,qx=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gx=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:u,onDismiss:d,...m}=e,h=p.useContext(qx),[g,b]=p.useState(null),y=g?.ownerDocument??globalThis?.document,[,v]=p.useState({}),C=Nn(t,O=>b(O)),N=Array.from(h.layers),[k]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(k),S=g?N.indexOf(g):-1,w=h.layersWithOutsidePointerEventsDisabled.size>0,R=S>=_,M=h3(O=>{const P=O.target,U=[...h.branches].some(V=>V.contains(P));!R||U||(i?.(O),u?.(O),O.defaultPrevented||d?.())},y),I=g3(O=>{const P=O.target;[...h.branches].some(V=>V.contains(P))||(c?.(O),u?.(O),O.defaultPrevented||d?.())},y);return c3(O=>{S===h.layers.size-1&&(a?.(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},y),p.useEffect(()=>{if(g)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Yx=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),Kx(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Yx)}},[g,y,n,h]),p.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),Kx())},[g,h]),p.useEffect(()=>{const O=()=>v({});return document.addEventListener(Zd,O),()=>document.removeEventListener(Zd,O)},[]),r.jsx(Zx.div,{...m,ref:C,style:{pointerEvents:w?R?"auto":"none":void 0,...e.style},onFocusCapture:Yt(e.onFocusCapture,I.onFocusCapture),onBlurCapture:Yt(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Yt(e.onPointerDownCapture,M.onPointerDownCapture)})});Gx.displayName=u3;var p3="DismissableLayerBranch",m3=p.forwardRef((e,t)=>{const n=p.useContext(qx),a=p.useRef(null),i=Nn(t,a);return p.useEffect(()=>{const c=a.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),r.jsx(Zx.div,{...e,ref:i})});m3.displayName=p3;function h3(e,t=globalThis?.document){const n=Ts(e),a=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const c=d=>{if(d.target&&!a.current){let m=function(){Xx(d3,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=m,t.addEventListener("click",i.current,{once:!0})):m()}else t.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function g3(e,t=globalThis?.document){const n=Ts(e),a=p.useRef(!1);return p.useEffect(()=>{const i=c=>{c.target&&!a.current&&Xx(f3,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Kx(){const e=new CustomEvent(Zd);document.dispatchEvent(e)}function Xx(e,t,n,{discrete:a}){const i=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),a?l3(i,c):i.dispatchEvent(c)}function x3(e){const t=y3(e),n=p.forwardRef((a,i)=>{const{children:c,...u}=a,d=p.Children.toArray(c),m=d.find(b3);if(m){const h=m.props.children,g=d.map(b=>b===m?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:b);return r.jsx(t,{...u,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,g):null})}return r.jsx(t,{...u,ref:i,children:c})});return n.displayName=`${e}.Slot`,n}function y3(e){const t=p.forwardRef((n,a)=>{const{children:i,...c}=n;if(p.isValidElement(i)){const u=j3(i),d=w3(c,i.props);return i.type!==p.Fragment&&(d.ref=a?Mr(a,u):u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var v3=Symbol("radix.slottable");function b3(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===v3}function w3(e,t){const n={...t};for(const a in t){const i=e[a],c=t[a];/^on[A-Z]/.test(a)?i&&c?n[a]=(...d)=>{const m=c(...d);return i(...d),m}:i&&(n[a]=i):a==="style"?n[a]={...i,...c}:a==="className"&&(n[a]=[i,c].filter(Boolean).join(" "))}return{...e,...n}}function j3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var N3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],k3=N3.reduce((e,t)=>{const n=x3(`Primitive.${t}`),a=p.forwardRef((i,c)=>{const{asChild:u,...d}=i,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(m,{...d,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Yd="focusScope.autoFocusOnMount",qd="focusScope.autoFocusOnUnmount",Qx={bubbles:!1,cancelable:!0},C3="FocusScope",Jx=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...u}=e,[d,m]=p.useState(null),h=Ts(i),g=Ts(c),b=p.useRef(null),y=Nn(t,N=>m(N)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(a){let N=function(w){if(v.paused||!d)return;const R=w.target;d.contains(R)?b.current=R:so(b.current,{select:!0})},k=function(w){if(v.paused||!d)return;const R=w.relatedTarget;R!==null&&(d.contains(R)||so(b.current,{select:!0}))},_=function(w){if(document.activeElement===document.body)for(const M of w)M.removedNodes.length>0&&so(d)};document.addEventListener("focusin",N),document.addEventListener("focusout",k);const S=new MutationObserver(_);return d&&S.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",k),S.disconnect()}}},[a,d,v.paused]),p.useEffect(()=>{if(d){n0.add(v);const N=document.activeElement;if(!d.contains(N)){const _=new CustomEvent(Yd,Qx);d.addEventListener(Yd,h),d.dispatchEvent(_),_.defaultPrevented||(E3(T3(e0(d)),{select:!0}),document.activeElement===N&&so(d))}return()=>{d.removeEventListener(Yd,h),setTimeout(()=>{const _=new CustomEvent(qd,Qx);d.addEventListener(qd,g),d.dispatchEvent(_),_.defaultPrevented||so(N??document.body,{select:!0}),d.removeEventListener(qd,g),n0.remove(v)},0)}}},[d,h,g,v]);const C=p.useCallback(N=>{if(!n&&!a||v.paused)return;const k=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(k&&_){const S=N.currentTarget,[w,R]=S3(S);w&&R?!N.shiftKey&&_===R?(N.preventDefault(),n&&so(w,{select:!0})):N.shiftKey&&_===w&&(N.preventDefault(),n&&so(R,{select:!0})):_===S&&N.preventDefault()}},[n,a,v.paused]);return r.jsx(k3.div,{tabIndex:-1,...u,ref:y,onKeyDown:C})});Jx.displayName=C3;function E3(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(so(a,{select:t}),document.activeElement!==n)return}function S3(e){const t=e0(e),n=t0(t,e),a=t0(t.reverse(),e);return[n,a]}function e0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function t0(e,t){for(const n of e)if(!_3(n,{upTo:t}))return n}function _3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function R3(e){return e instanceof HTMLInputElement&&"select"in e}function so(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&R3(e)&&t&&e.select()}}var n0=z3();function z3(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=r0(e,t),e.unshift(t)},remove(t){e=r0(e,t),e[0]?.resume()}}}function r0(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function T3(e){return e.filter(t=>t.tagName!=="A")}function D3(e){const t=$3(e),n=p.forwardRef((a,i)=>{const{children:c,...u}=a,d=p.Children.toArray(c),m=d.find(M3);if(m){const h=m.props.children,g=d.map(b=>b===m?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:b);return r.jsx(t,{...u,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,g):null})}return r.jsx(t,{...u,ref:i,children:c})});return n.displayName=`${e}.Slot`,n}function $3(e){const t=p.forwardRef((n,a)=>{const{children:i,...c}=n;if(p.isValidElement(i)){const u=L3(i),d=I3(c,i.props);return i.type!==p.Fragment&&(d.ref=a?Mr(a,u):u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var P3=Symbol("radix.slottable");function M3(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===P3}function I3(e,t){const n={...t};for(const a in t){const i=e[a],c=t[a];/^on[A-Z]/.test(a)?i&&c?n[a]=(...d)=>{const m=c(...d);return i(...d),m}:i&&(n[a]=i):a==="style"?n[a]={...i,...c}:a==="className"&&(n[a]=[i,c].filter(Boolean).join(" "))}return{...e,...n}}function L3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var O3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A3=O3.reduce((e,t)=>{const n=D3(`Primitive.${t}`),a=p.forwardRef((i,c)=>{const{asChild:u,...d}=i,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(m,{...d,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),F3="Portal",o0=p.forwardRef((e,t)=>{const{container:n,...a}=e,[i,c]=p.useState(!1);zs(()=>c(!0),[]);const u=n||i&&globalThis?.document?.body;return u?Sw.createPortal(r.jsx(A3.div,{...a,ref:t}),u):null});o0.displayName=F3;function W3(e,t){return p.useReducer((n,a)=>t[n][a]??n,e)}var Ga=e=>{const{present:t,children:n}=e,a=B3(t),i=typeof n=="function"?n({present:a.isPresent}):p.Children.only(n),c=Nn(a.ref,U3(i));return typeof n=="function"||a.isPresent?p.cloneElement(i,{ref:c}):null};Ga.displayName="Presence";function B3(e){const[t,n]=p.useState(),a=p.useRef(null),i=p.useRef(e),c=p.useRef("none"),u=e?"mounted":"unmounted",[d,m]=W3(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const h=Gl(a.current);c.current=d==="mounted"?h:"none"},[d]),zs(()=>{const h=a.current,g=i.current;if(g!==e){const y=c.current,v=Gl(h);e?m("MOUNT"):v==="none"||h?.display==="none"?m("UNMOUNT"):m(g&&y!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,m]),zs(()=>{if(t){let h;const g=t.ownerDocument.defaultView??window,b=v=>{const N=Gl(a.current).includes(CSS.escape(v.animationName));if(v.target===t&&N&&(m("ANIMATION_END"),!i.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",h=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},y=v=>{v.target===t&&(c.current=Gl(a.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{g.clearTimeout(h),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(h=>{a.current=h?getComputedStyle(h):null,n(h)},[])}}function Gl(e){return e?.animationName||"none"}function U3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function s0(e){const t=H3(e),n=p.forwardRef((a,i)=>{const{children:c,...u}=a,d=p.Children.toArray(c),m=d.find(Z3);if(m){const h=m.props.children,g=d.map(b=>b===m?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:b);return r.jsx(t,{...u,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,g):null})}return r.jsx(t,{...u,ref:i,children:c})});return n.displayName=`${e}.Slot`,n}function H3(e){const t=p.forwardRef((n,a)=>{const{children:i,...c}=n;if(p.isValidElement(i)){const u=q3(i),d=Y3(c,i.props);return i.type!==p.Fragment&&(d.ref=a?Mr(a,u):u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var V3=Symbol("radix.slottable");function Z3(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V3}function Y3(e,t){const n={...t};for(const a in t){const i=e[a],c=t[a];/^on[A-Z]/.test(a)?i&&c?n[a]=(...d)=>{const m=c(...d);return i(...d),m}:i&&(n[a]=i):a==="style"?n[a]={...i,...c}:a==="className"&&(n[a]=[i,c].filter(Boolean).join(" "))}return{...e,...n}}function q3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var G3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ka=G3.reduce((e,t)=>{const n=s0(`Primitive.${t}`),a=p.forwardRef((i,c)=>{const{asChild:u,...d}=i,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(m,{...d,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),Gd=0;function K3(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??a0()),document.body.insertAdjacentElement("beforeend",e[1]??a0()),Gd++,()=>{Gd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Gd--}},[])}function a0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yr=function(){return yr=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},yr.apply(this,arguments)};function i0(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function X3(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,c;a<i;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return e.concat(c||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var Kl="right-scroll-bar-position",Xl="width-before-scroll-bar",Q3="with-scroll-bars-hidden",J3="--removed-body-scroll-bar-size";function Kd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function e5(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=t,n.facade}var t5=typeof window<"u"?p.useLayoutEffect:p.useEffect,l0=new WeakMap;function n5(e,t){var n=e5(null,function(a){return e.forEach(function(i){return Kd(i,a)})});return t5(function(){var a=l0.get(n);if(a){var i=new Set(a),c=new Set(e),u=n.current;i.forEach(function(d){c.has(d)||Kd(d,null)}),c.forEach(function(d){i.has(d)||Kd(d,u)})}l0.set(n,e)},[e]),n}function r5(e){return e}function o5(e,t){t===void 0&&(t=r5);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(c){var u=t(c,a);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(c){for(a=!0;n.length;){var u=n;n=[],u.forEach(c)}n={push:function(d){return c(d)},filter:function(){return n}}},assignMedium:function(c){a=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(c),u=n}var m=function(){var g=u;u=[],g.forEach(c)},h=function(){return Promise.resolve().then(m)};h(),n={push:function(g){u.push(g),h()},filter:function(g){return u=u.filter(g),n}}}};return i}function s5(e){e===void 0&&(e={});var t=o5(null);return t.options=yr({async:!0,ssr:!1},e),t}var c0=function(e){var t=e.sideCar,n=i0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return p.createElement(a,yr({},n))};c0.isSideCarExport=!0;function a5(e,t){return e.useMedium(t),c0}var u0=s5(),Xd=function(){},Ql=p.forwardRef(function(e,t){var n=p.useRef(null),a=p.useState({onScrollCapture:Xd,onWheelCapture:Xd,onTouchMoveCapture:Xd}),i=a[0],c=a[1],u=e.forwardProps,d=e.children,m=e.className,h=e.removeScrollBar,g=e.enabled,b=e.shards,y=e.sideCar,v=e.noRelative,C=e.noIsolation,N=e.inert,k=e.allowPinchZoom,_=e.as,S=_===void 0?"div":_,w=e.gapMode,R=i0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=y,I=n5([n,t]),O=yr(yr({},R),i);return p.createElement(p.Fragment,null,g&&p.createElement(M,{sideCar:u0,removeScrollBar:h,shards:b,noRelative:v,noIsolation:C,inert:N,setCallbacks:c,allowPinchZoom:!!k,lockRef:n,gapMode:w}),u?p.cloneElement(p.Children.only(d),yr(yr({},O),{ref:I})):p.createElement(S,yr({},O,{className:m,ref:I}),d))});Ql.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ql.classNames={fullWidth:Xl,zeroRight:Kl};var i5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function l5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=i5();return t&&e.setAttribute("nonce",t),e}function c5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function u5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var d5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=l5())&&(c5(t,n),u5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},f5=function(){var e=d5();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},d0=function(){var e=f5(),t=function(n){var a=n.styles,i=n.dynamic;return e(a,i),null};return t},p5={left:0,top:0,right:0,gap:0},Qd=function(e){return parseInt(e||"",10)||0},m5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Qd(n),Qd(a),Qd(i)]},h5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return p5;var t=m5(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},g5=d0(),Ds="data-scroll-locked",x5=function(e,t,n,a){var i=e.left,c=e.top,u=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Q3,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(Ds,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kl,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Xl,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Kl," .").concat(Kl,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Xl," .").concat(Xl,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ds,`] {
    `).concat(J3,": ").concat(d,`px;
  }
`)},f0=function(){var e=parseInt(document.body.getAttribute(Ds)||"0",10);return isFinite(e)?e:0},y5=function(){p.useEffect(function(){return document.body.setAttribute(Ds,(f0()+1).toString()),function(){var e=f0()-1;e<=0?document.body.removeAttribute(Ds):document.body.setAttribute(Ds,e.toString())}},[])},v5=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,i=a===void 0?"margin":a;y5();var c=p.useMemo(function(){return h5(i)},[i]);return p.createElement(g5,{styles:x5(c,!t,i,n?"":"!important")})},Jd=!1;if(typeof window<"u")try{var Jl=Object.defineProperty({},"passive",{get:function(){return Jd=!0,!0}});window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{Jd=!1}var $s=Jd?{passive:!1}:!1,b5=function(e){return e.tagName==="TEXTAREA"},p0=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!b5(e)&&n[t]==="visible")},w5=function(e){return p0(e,"overflowY")},j5=function(e){return p0(e,"overflowX")},m0=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=h0(e,a);if(i){var c=g0(e,a),u=c[1],d=c[2];if(u>d)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},N5=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},k5=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},h0=function(e,t){return e==="v"?w5(t):j5(t)},g0=function(e,t){return e==="v"?N5(t):k5(t)},C5=function(e,t){return e==="h"&&t==="rtl"?-1:1},E5=function(e,t,n,a,i){var c=C5(e,window.getComputedStyle(t).direction),u=c*a,d=n.target,m=t.contains(d),h=!1,g=u>0,b=0,y=0;do{if(!d)break;var v=g0(e,d),C=v[0],N=v[1],k=v[2],_=N-k-c*C;(C||_)&&h0(e,d)&&(b+=_,y+=C);var S=d.parentNode;d=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!m&&d!==document.body||m&&(t.contains(d)||t===d));return(g&&Math.abs(b)<1||!g&&Math.abs(y)<1)&&(h=!0),h},ec=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},x0=function(e){return[e.deltaX,e.deltaY]},y0=function(e){return e&&"current"in e?e.current:e},S5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},R5=0,Ps=[];function z5(e){var t=p.useRef([]),n=p.useRef([0,0]),a=p.useRef(),i=p.useState(R5++)[0],c=p.useState(d0)[0],u=p.useRef(e);p.useEffect(function(){u.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var N=X3([e.lockRef.current],(e.shards||[]).map(y0),!0).filter(Boolean);return N.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=p.useCallback(function(N,k){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var _=ec(N),S=n.current,w="deltaX"in N?N.deltaX:S[0]-_[0],R="deltaY"in N?N.deltaY:S[1]-_[1],M,I=N.target,O=Math.abs(w)>Math.abs(R)?"h":"v";if("touches"in N&&O==="h"&&I.type==="range")return!1;var P=m0(O,I);if(!P)return!0;if(P?M=O:(M=O==="v"?"h":"v",P=m0(O,I)),!P)return!1;if(!a.current&&"changedTouches"in N&&(w||R)&&(a.current=M),!M)return!0;var U=a.current||M;return E5(U,k,N,U==="h"?w:R)},[]),m=p.useCallback(function(N){var k=N;if(!(!Ps.length||Ps[Ps.length-1]!==c)){var _="deltaY"in k?x0(k):ec(k),S=t.current.filter(function(M){return M.name===k.type&&(M.target===k.target||k.target===M.shadowParent)&&S5(M.delta,_)})[0];if(S&&S.should){k.cancelable&&k.preventDefault();return}if(!S){var w=(u.current.shards||[]).map(y0).filter(Boolean).filter(function(M){return M.contains(k.target)}),R=w.length>0?d(k,w[0]):!u.current.noIsolation;R&&k.cancelable&&k.preventDefault()}}},[]),h=p.useCallback(function(N,k,_,S){var w={name:N,delta:k,target:_,should:S,shadowParent:T5(_)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(R){return R!==w})},1)},[]),g=p.useCallback(function(N){n.current=ec(N),a.current=void 0},[]),b=p.useCallback(function(N){h(N.type,x0(N),N.target,d(N,e.lockRef.current))},[]),y=p.useCallback(function(N){h(N.type,ec(N),N.target,d(N,e.lockRef.current))},[]);p.useEffect(function(){return Ps.push(c),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:y}),document.addEventListener("wheel",m,$s),document.addEventListener("touchmove",m,$s),document.addEventListener("touchstart",g,$s),function(){Ps=Ps.filter(function(N){return N!==c}),document.removeEventListener("wheel",m,$s),document.removeEventListener("touchmove",m,$s),document.removeEventListener("touchstart",g,$s)}},[]);var v=e.removeScrollBar,C=e.inert;return p.createElement(p.Fragment,null,C?p.createElement(c,{styles:_5(i)}):null,v?p.createElement(v5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function T5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const D5=a5(u0,z5);var v0=p.forwardRef(function(e,t){return p.createElement(Ql,yr({},e,{ref:t,sideCar:D5}))});v0.classNames=Ql.classNames;var $5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ms=new WeakMap,tc=new WeakMap,nc={},ef=0,b0=function(e){return e&&(e.host||b0(e.parentNode))},P5=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=b0(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},M5=function(e,t,n,a){var i=P5(t,Array.isArray(e)?e:[e]);nc[n]||(nc[n]=new WeakMap);var c=nc[n],u=[],d=new Set,m=new Set(i),h=function(b){!b||d.has(b)||(d.add(b),h(b.parentNode))};i.forEach(h);var g=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(y){if(d.has(y))g(y);else try{var v=y.getAttribute(a),C=v!==null&&v!=="false",N=(Ms.get(y)||0)+1,k=(c.get(y)||0)+1;Ms.set(y,N),c.set(y,k),u.push(y),N===1&&C&&tc.set(y,!0),k===1&&y.setAttribute(n,"true"),C||y.setAttribute(a,"true")}catch(_){console.error("aria-hidden: cannot operate on ",y,_)}})};return g(t),d.clear(),ef++,function(){u.forEach(function(b){var y=Ms.get(b)-1,v=c.get(b)-1;Ms.set(b,y),c.set(b,v),y||(tc.has(b)||b.removeAttribute(a),tc.delete(b)),v||b.removeAttribute(n)}),ef--,ef||(Ms=new WeakMap,Ms=new WeakMap,tc=new WeakMap,nc={})}},I5=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),i=$5(e);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),M5(a,i,n,"aria-hidden")):function(){return null}},rc="Dialog",[w0]=qa(rc),[L5,Jn]=w0(rc),j0=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:i,onOpenChange:c,modal:u=!0}=e,d=p.useRef(null),m=p.useRef(null),[h,g]=Vd({prop:a,defaultProp:i??!1,onChange:c,caller:rc});return r.jsx(L5,{scope:t,triggerRef:d,contentRef:m,contentId:ql(),titleId:ql(),descriptionId:ql(),open:h,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(b=>!b),[g]),modal:u,children:n})};j0.displayName=rc;var N0="DialogTrigger",O5=p.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=Jn(N0,n),c=Nn(t,i.triggerRef);return r.jsx(Ka.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":rf(i.open),...a,ref:c,onClick:Yt(e.onClick,i.onOpenToggle)})});O5.displayName=N0;var tf="DialogPortal",[A5,k0]=w0(tf,{forceMount:void 0}),C0=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:i}=e,c=Jn(tf,t);return r.jsx(A5,{scope:t,forceMount:n,children:p.Children.map(a,u=>r.jsx(Ga,{present:n||c.open,children:r.jsx(o0,{asChild:!0,container:i,children:u})}))})};C0.displayName=tf;var oc="DialogOverlay",E0=p.forwardRef((e,t)=>{const n=k0(oc,e.__scopeDialog),{forceMount:a=n.forceMount,...i}=e,c=Jn(oc,e.__scopeDialog);return c.modal?r.jsx(Ga,{present:a||c.open,children:r.jsx(W5,{...i,ref:t})}):null});E0.displayName=oc;var F5=s0("DialogOverlay.RemoveScroll"),W5=p.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=Jn(oc,n);return r.jsx(v0,{as:F5,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Ka.div,{"data-state":rf(i.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Bo="DialogContent",S0=p.forwardRef((e,t)=>{const n=k0(Bo,e.__scopeDialog),{forceMount:a=n.forceMount,...i}=e,c=Jn(Bo,e.__scopeDialog);return r.jsx(Ga,{present:a||c.open,children:c.modal?r.jsx(B5,{...i,ref:t}):r.jsx(U5,{...i,ref:t})})});S0.displayName=Bo;var B5=p.forwardRef((e,t)=>{const n=Jn(Bo,e.__scopeDialog),a=p.useRef(null),i=Nn(t,n.contentRef,a);return p.useEffect(()=>{const c=a.current;if(c)return I5(c)},[]),r.jsx(_0,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Yt(e.onCloseAutoFocus,c=>{c.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Yt(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&c.preventDefault()}),onFocusOutside:Yt(e.onFocusOutside,c=>c.preventDefault())})}),U5=p.forwardRef((e,t)=>{const n=Jn(Bo,e.__scopeDialog),a=p.useRef(!1),i=p.useRef(!1);return r.jsx(_0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(a.current||n.triggerRef.current?.focus(),c.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(a.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=c.target;n.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),_0=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:c,...u}=e,d=Jn(Bo,n),m=p.useRef(null),h=Nn(t,m);return K3(),r.jsxs(r.Fragment,{children:[r.jsx(Jx,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:c,children:r.jsx(Gx,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":rf(d.open),...u,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(H5,{titleId:d.titleId}),r.jsx(Z5,{contentRef:m,descriptionId:d.descriptionId})]})]})}),nf="DialogTitle",R0=p.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=Jn(nf,n);return r.jsx(Ka.h2,{id:i.titleId,...a,ref:t})});R0.displayName=nf;var z0="DialogDescription",T0=p.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=Jn(z0,n);return r.jsx(Ka.p,{id:i.descriptionId,...a,ref:t})});T0.displayName=z0;var D0="DialogClose",$0=p.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,i=Jn(D0,n);return r.jsx(Ka.button,{type:"button",...a,ref:t,onClick:Yt(e.onClick,()=>i.onOpenChange(!1))})});$0.displayName=D0;function rf(e){return e?"open":"closed"}var P0="DialogTitleWarning",[LP,M0]=q4(P0,{contentName:Bo,titleName:nf,docsSlug:"dialog"}),H5=({titleId:e})=>{const t=M0(P0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},V5="DialogDescriptionWarning",Z5=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${M0(V5).contentName}}.`;return p.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Y5=j0,q5=C0,I0=E0,L0=S0,O0=R0,A0=T0,G5=$0;const F0=Y5,K5=q5,W0=p.forwardRef(({className:e,...t},n)=>r.jsx(I0,{ref:n,className:Ae("fixed inset-0 z-[100000] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));W0.displayName=I0.displayName;const of=p.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(K5,{children:[r.jsx(W0,{}),r.jsxs(L0,{ref:a,className:Ae("fixed left-[50%] top-[50%] z-[100000] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(G5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Zt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));of.displayName=L0.displayName;const sf=({className:e,...t})=>r.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});sf.displayName="DialogHeader";const B0=({className:e,...t})=>r.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});B0.displayName="DialogFooter";const af=p.forwardRef(({className:e,...t},n)=>r.jsx(O0,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...t}));af.displayName=O0.displayName;const lf=p.forwardRef(({className:e,...t},n)=>r.jsx(A0,{ref:n,className:Ae("text-sm text-muted-foreground",e),...t}));lf.displayName=A0.displayName;var X5=Symbol.for("react.lazy"),sc=wu[" use ".trim().toString()];function Q5(e){return typeof e=="object"&&e!==null&&"then"in e}function U0(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===X5&&"_payload"in e&&Q5(e._payload)}function H0(e){const t=eR(e),n=p.forwardRef((a,i)=>{let{children:c,...u}=a;U0(c)&&typeof sc=="function"&&(c=sc(c._payload));const d=p.Children.toArray(c),m=d.find(nR);if(m){const h=m.props.children,g=d.map(b=>b===m?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:b);return r.jsx(t,{...u,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,g):null})}return r.jsx(t,{...u,ref:i,children:c})});return n.displayName=`${e}.Slot`,n}var J5=H0("Slot");function eR(e){const t=p.forwardRef((n,a)=>{let{children:i,...c}=n;if(U0(i)&&typeof sc=="function"&&(i=sc(i._payload)),p.isValidElement(i)){const u=oR(i),d=rR(c,i.props);return i.type!==p.Fragment&&(d.ref=a?Mr(a,u):u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tR=Symbol("radix.slottable");function nR(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tR}function rR(e,t){const n={...t};for(const a in t){const i=e[a],c=t[a];/^on[A-Z]/.test(a)?i&&c?n[a]=(...d)=>{const m=c(...d);return i(...d),m}:i&&(n[a]=i):a==="style"?n[a]={...i,...c}:a==="className"&&(n[a]=[i,c].filter(Boolean).join(" "))}return{...e,...n}}function oR(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const V0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Z0=pe,Y0=(e,t)=>n=>{var a;if(t?.variants==null)return Z0(e,n?.class,n?.className);const{variants:i,defaultVariants:c}=t,u=Object.keys(i).map(h=>{const g=n?.[h],b=c?.[h];if(g===null)return null;const y=V0(g)||V0(b);return i[h][y]}),d=n&&Object.entries(n).reduce((h,g)=>{let[b,y]=g;return y===void 0||(h[b]=y),h},{}),m=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((h,g)=>{let{class:b,className:y,...v}=g;return Object.entries(v).every(C=>{let[N,k]=C;return Array.isArray(k)?k.includes({...c,...d}[N]):{...c,...d}[N]===k})?[...h,b,y]:h},[]);return Z0(e,u,m,n?.class,n?.className)},sR=Y0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-gray-200 bg-white hover:bg-gray-100 hover:text-gray-900",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),vr=p.forwardRef(({className:e,variant:t,size:n,asChild:a=!1,...i},c)=>{const u=a?J5:"button";return r.jsx(u,{className:Ae(sR({variant:t,size:n,className:e})),ref:c,...i})});vr.displayName="Button";const cf=p.forwardRef(({className:e,type:t,...n},a)=>r.jsx("input",{type:t,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));cf.displayName="Input";var aR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iR=aR.reduce((e,t)=>{const n=H0(`Primitive.${t}`),a=p.forwardRef((i,c)=>{const{asChild:u,...d}=i,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(m,{...d,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),lR="Label",q0=p.forwardRef((e,t)=>r.jsx(iR.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));q0.displayName=lR;var G0=q0;const cR=Y0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Is=p.forwardRef(({className:e,...t},n)=>r.jsx(G0,{ref:n,className:Ae(cR(),e),...t}));Is.displayName=G0.displayName;function uR(e){const t=dR(e),n=p.forwardRef((a,i)=>{const{children:c,...u}=a,d=p.Children.toArray(c),m=d.find(pR);if(m){const h=m.props.children,g=d.map(b=>b===m?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:b);return r.jsx(t,{...u,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,g):null})}return r.jsx(t,{...u,ref:i,children:c})});return n.displayName=`${e}.Slot`,n}function dR(e){const t=p.forwardRef((n,a)=>{const{children:i,...c}=n;if(p.isValidElement(i)){const u=hR(i),d=mR(c,i.props);return i.type!==p.Fragment&&(d.ref=a?Mr(a,u):u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fR=Symbol("radix.slottable");function pR(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fR}function mR(e,t){const n={...t};for(const a in t){const i=e[a],c=t[a];/^on[A-Z]/.test(a)?i&&c?n[a]=(...d)=>{const m=c(...d);return i(...d),m}:i&&(n[a]=i):a==="style"?n[a]={...i,...c}:a==="className"&&(n[a]=[i,c].filter(Boolean).join(" "))}return{...e,...n}}function hR(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ac=gR.reduce((e,t)=>{const n=uR(`Primitive.${t}`),a=p.forwardRef((i,c)=>{const{asChild:u,...d}=i,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(m,{...d,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function K0(e){const t=xR(e),n=p.forwardRef((a,i)=>{const{children:c,...u}=a,d=p.Children.toArray(c),m=d.find(vR);if(m){const h=m.props.children,g=d.map(b=>b===m?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:b);return r.jsx(t,{...u,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,g):null})}return r.jsx(t,{...u,ref:i,children:c})});return n.displayName=`${e}.Slot`,n}function xR(e){const t=p.forwardRef((n,a)=>{const{children:i,...c}=n;if(p.isValidElement(i)){const u=wR(i),d=bR(c,i.props);return i.type!==p.Fragment&&(d.ref=a?Mr(a,u):u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yR=Symbol("radix.slottable");function vR(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yR}function bR(e,t){const n={...t};for(const a in t){const i=e[a],c=t[a];/^on[A-Z]/.test(a)?i&&c?n[a]=(...d)=>{const m=c(...d);return i(...d),m}:i&&(n[a]=i):a==="style"?n[a]={...i,...c}:a==="className"&&(n[a]=[i,c].filter(Boolean).join(" "))}return{...e,...n}}function wR(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function jR(e){const t=e+"CollectionProvider",[n,a]=qa(t),[i,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=N=>{const{scope:k,children:_}=N,S=De.useRef(null),w=De.useRef(new Map).current;return r.jsx(i,{scope:k,itemMap:w,collectionRef:S,children:_})};u.displayName=t;const d=e+"CollectionSlot",m=K0(d),h=De.forwardRef((N,k)=>{const{scope:_,children:S}=N,w=c(d,_),R=Nn(k,w.collectionRef);return r.jsx(m,{ref:R,children:S})});h.displayName=d;const g=e+"CollectionItemSlot",b="data-radix-collection-item",y=K0(g),v=De.forwardRef((N,k)=>{const{scope:_,children:S,...w}=N,R=De.useRef(null),M=Nn(k,R),I=c(g,_);return De.useEffect(()=>(I.itemMap.set(R,{ref:R,...w}),()=>void I.itemMap.delete(R))),r.jsx(y,{[b]:"",ref:M,children:S})});v.displayName=g;function C(N){const k=c(e+"CollectionConsumer",N);return De.useCallback(()=>{const S=k.collectionRef.current;if(!S)return[];const w=Array.from(S.querySelectorAll(`[${b}]`));return Array.from(k.itemMap.values()).sort((I,O)=>w.indexOf(I.ref.current)-w.indexOf(O.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:h,ItemSlot:v},C,a]}function NR(e){const t=kR(e),n=p.forwardRef((a,i)=>{const{children:c,...u}=a,d=p.Children.toArray(c),m=d.find(ER);if(m){const h=m.props.children,g=d.map(b=>b===m?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:b);return r.jsx(t,{...u,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,g):null})}return r.jsx(t,{...u,ref:i,children:c})});return n.displayName=`${e}.Slot`,n}function kR(e){const t=p.forwardRef((n,a)=>{const{children:i,...c}=n;if(p.isValidElement(i)){const u=_R(i),d=SR(c,i.props);return i.type!==p.Fragment&&(d.ref=a?Mr(a,u):u),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CR=Symbol("radix.slottable");function ER(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CR}function SR(e,t){const n={...t};for(const a in t){const i=e[a],c=t[a];/^on[A-Z]/.test(a)?i&&c?n[a]=(...d)=>{const m=c(...d);return i(...d),m}:i&&(n[a]=i):a==="style"?n[a]={...i,...c}:a==="className"&&(n[a]=[i,c].filter(Boolean).join(" "))}return{...e,...n}}function _R(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var RR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],X0=RR.reduce((e,t)=>{const n=NR(`Primitive.${t}`),a=p.forwardRef((i,c)=>{const{asChild:u,...d}=i,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(m,{...d,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),zR=p.createContext(void 0);function Q0(e){const t=p.useContext(zR);return e||t||"ltr"}var uf="rovingFocusGroup.onEntryFocus",TR={bubbles:!1,cancelable:!0},Xa="RovingFocusGroup",[df,J0,DR]=jR(Xa),[$R,ey]=qa(Xa,[DR]),[PR,MR]=$R(Xa),ty=p.forwardRef((e,t)=>r.jsx(df.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(df.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(IR,{...e,ref:t})})}));ty.displayName=Xa;var IR=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...b}=e,y=p.useRef(null),v=Nn(t,y),C=Q0(c),[N,k]=Vd({prop:u,defaultProp:d??null,onChange:m,caller:Xa}),[_,S]=p.useState(!1),w=Ts(h),R=J0(n),M=p.useRef(!1),[I,O]=p.useState(0);return p.useEffect(()=>{const P=y.current;if(P)return P.addEventListener(uf,w),()=>P.removeEventListener(uf,w)},[w]),r.jsx(PR,{scope:n,orientation:a,dir:C,loop:i,currentTabStopId:N,onItemFocus:p.useCallback(P=>k(P),[k]),onItemShiftTab:p.useCallback(()=>S(!0),[]),onFocusableItemAdd:p.useCallback(()=>O(P=>P+1),[]),onFocusableItemRemove:p.useCallback(()=>O(P=>P-1),[]),children:r.jsx(X0.div,{tabIndex:_||I===0?-1:0,"data-orientation":a,...b,ref:v,style:{outline:"none",...e.style},onMouseDown:Yt(e.onMouseDown,()=>{M.current=!0}),onFocus:Yt(e.onFocus,P=>{const U=!M.current;if(P.target===P.currentTarget&&U&&!_){const V=new CustomEvent(uf,TR);if(P.currentTarget.dispatchEvent(V),!V.defaultPrevented){const oe=R().filter(ae=>ae.focusable),de=oe.find(ae=>ae.active),Ne=oe.find(ae=>ae.id===N),ke=[de,Ne,...oe].filter(Boolean).map(ae=>ae.ref.current);oy(ke,g)}}M.current=!1}),onBlur:Yt(e.onBlur,()=>S(!1))})})}),ny="RovingFocusGroupItem",ry=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:c,children:u,...d}=e,m=ql(),h=c||m,g=MR(ny,n),b=g.currentTabStopId===h,y=J0(n),{onFocusableItemAdd:v,onFocusableItemRemove:C,currentTabStopId:N}=g;return p.useEffect(()=>{if(a)return v(),()=>C()},[a,v,C]),r.jsx(df.ItemSlot,{scope:n,id:h,focusable:a,active:i,children:r.jsx(X0.span,{tabIndex:b?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:Yt(e.onMouseDown,k=>{a?g.onItemFocus(h):k.preventDefault()}),onFocus:Yt(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:Yt(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){g.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const _=AR(k,g.orientation,g.dir);if(_!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let w=y().filter(R=>R.focusable).map(R=>R.ref.current);if(_==="last")w.reverse();else if(_==="prev"||_==="next"){_==="prev"&&w.reverse();const R=w.indexOf(k.currentTarget);w=g.loop?FR(w,R+1):w.slice(R+1)}setTimeout(()=>oy(w))}}),children:typeof u=="function"?u({isCurrentTabStop:b,hasTabStop:N!=null}):u})})});ry.displayName=ny;var LR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function AR(e,t,n){const a=OR(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return LR[a]}function oy(e,t=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}function FR(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var WR=ty,BR=ry;function UR(e){const[t,n]=p.useState(void 0);return zs(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let u,d;if("borderBoxSize"in c){const m=c.borderBoxSize,h=Array.isArray(m)?m[0]:m;u=h.inlineSize,d=h.blockSize}else u=e.offsetWidth,d=e.offsetHeight;n({width:u,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}function HR(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ff="Radio",[VR,sy]=qa(ff),[ZR,YR]=VR(ff),ay=p.forwardRef((e,t)=>{const{__scopeRadio:n,name:a,checked:i=!1,required:c,disabled:u,value:d="on",onCheck:m,form:h,...g}=e,[b,y]=p.useState(null),v=Nn(t,k=>y(k)),C=p.useRef(!1),N=b?h||!!b.closest("form"):!0;return r.jsxs(ZR,{scope:n,checked:i,disabled:u,children:[r.jsx(ac.button,{type:"button",role:"radio","aria-checked":i,"data-state":uy(i),"data-disabled":u?"":void 0,disabled:u,value:d,...g,ref:v,onClick:Yt(e.onClick,k=>{i||m?.(),N&&(C.current=k.isPropagationStopped(),C.current||k.stopPropagation())})}),N&&r.jsx(cy,{control:b,bubbles:!C.current,name:a,value:d,checked:i,required:c,disabled:u,form:h,style:{transform:"translateX(-100%)"}})]})});ay.displayName=ff;var iy="RadioIndicator",ly=p.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:a,...i}=e,c=YR(iy,n);return r.jsx(Ga,{present:a||c.checked,children:r.jsx(ac.span,{"data-state":uy(c.checked),"data-disabled":c.disabled?"":void 0,...i,ref:t})})});ly.displayName=iy;var qR="RadioBubbleInput",cy=p.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:a=!0,...i},c)=>{const u=p.useRef(null),d=Nn(u,c),m=HR(n),h=UR(t);return p.useEffect(()=>{const g=u.current;if(!g)return;const b=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(b,"checked").set;if(m!==n&&v){const C=new Event("click",{bubbles:a});v.call(g,n),g.dispatchEvent(C)}},[m,n,a]),r.jsx(ac.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cy.displayName=qR;function uy(e){return e?"checked":"unchecked"}var GR=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ic="RadioGroup",[KR]=qa(ic,[ey,sy]),dy=ey(),fy=sy(),[XR,QR]=KR(ic),py=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:a,defaultValue:i,value:c,required:u=!1,disabled:d=!1,orientation:m,dir:h,loop:g=!0,onValueChange:b,...y}=e,v=dy(n),C=Q0(h),[N,k]=Vd({prop:c,defaultProp:i??null,onChange:b,caller:ic});return r.jsx(XR,{scope:n,name:a,required:u,disabled:d,value:N,onValueChange:k,children:r.jsx(WR,{asChild:!0,...v,orientation:m,dir:C,loop:g,children:r.jsx(ac.div,{role:"radiogroup","aria-required":u,"aria-orientation":m,"data-disabled":d?"":void 0,dir:C,...y,ref:t})})})});py.displayName=ic;var my="RadioGroupItem",hy=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:a,...i}=e,c=QR(my,n),u=c.disabled||a,d=dy(n),m=fy(n),h=p.useRef(null),g=Nn(t,h),b=c.value===i.value,y=p.useRef(!1);return p.useEffect(()=>{const v=N=>{GR.includes(N.key)&&(y.current=!0)},C=()=>y.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",C)}},[]),r.jsx(BR,{asChild:!0,...d,focusable:!u,active:b,children:r.jsx(ay,{disabled:u,required:c.required,checked:b,...m,...i,name:c.name,ref:g,onCheck:()=>c.onValueChange(i.value),onKeyDown:Yt(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:Yt(i.onFocus,()=>{y.current&&h.current?.click()})})})});hy.displayName=my;var JR="RadioGroupIndicator",gy=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...a}=e,i=fy(n);return r.jsx(ly,{...i,...a,ref:t})});gy.displayName=JR;var xy=py,yy=hy,ez=gy;const vy=p.forwardRef(({className:e,...t},n)=>r.jsx(xy,{className:Ae("grid gap-2",e),...t,ref:n}));vy.displayName=xy.displayName;const pf=p.forwardRef(({className:e,...t},n)=>r.jsx(yy,{ref:n,className:Ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(ez,{className:"flex items-center justify-center",children:r.jsx(Aj,{className:"h-2.5 w-2.5 fill-current text-current"})})}));pf.displayName=yy.displayName;function by({open:e,onOpenChange:t}){const{activeEmailId:n,emails:a}=Ns(),i=a.find(N=>N.id===n),[c,u]=p.useState("dummy"),[d,m]=p.useState(""),[h,g]=p.useState(()=>window.sfuiData?.currentUserEmail||""),[b,y]=p.useState({type:null,message:""}),v=p.useCallback(async()=>{if(!h){y({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)){y({type:"error",message:"Please enter a valid email address"});return}if(!i){y({type:"error",message:"No email selected"});return}const{formId:k,ajaxUrl:_,nonce:S}=window.sfuiData||{};if(!_||!S){y({type:"error",message:"WordPress context not available"});return}y({type:"loading",message:"Sending test email..."});try{const w={from:i.from_email||"",from_name:i.from_name||"",reply:i.reply_to?.email||"",reply_name:i.reply_to?.name||"",cc:i.cc||"",bcc:i.bcc||"",subject:i.subject||"Test Email",body:i.body||"",attachments:i.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},R=new FormData;R.append("action","super_send_test_email"),R.append("nonce",S),R.append("form_id",k||0),R.append("data_type",c),R.append("entry_id",c==="entry"?d:""),R.append("test_recipient",h),Object.entries(w).forEach(([O,P])=>{Array.isArray(P)?P.forEach((U,V)=>{R.append(`email_settings[${O}][${V}]`,U)}):R.append(`email_settings[${O}]`,String(P))});const I=await(await fetch(_,{method:"POST",body:R,credentials:"same-origin"})).json();I.success?(y({type:"success",message:I.data?.message||"Test email sent!"}),setTimeout(()=>{t(!1),y({type:null,message:""})},2e3)):y({type:"error",message:I.data?.message||"Failed to send test email"})}catch(w){console.error("Test email error:",w),y({type:"error",message:"Network error - please try again"})}},[i,c,d,h,t]),C=p.useCallback(N=>{N||y({type:null,message:""}),t(N)},[t]);return r.jsx(F0,{open:e,onOpenChange:C,children:r.jsxs(of,{className:"sm:max-w-md",children:[r.jsxs(sf,{children:[r.jsx(af,{children:"Send Test Email"}),r.jsx(lf,{children:"Send a test version of this email to verify it looks correct."})]}),r.jsxs("div",{"data-testid":"recipient-section",className:"grid gap-2",children:[r.jsx(Is,{htmlFor:"test-recipient",children:"Recipient Email"}),r.jsx(cf,{id:"test-recipient","data-testid":"test-recipient-input",type:"email",value:h,onChange:N=>g(N.target.value),placeholder:"recipient@example.com"})]}),r.jsxs("div",{"data-testid":"data-source-section",className:"grid gap-2",children:[r.jsx(Is,{children:"Test Data Source"}),r.jsxs(vy,{value:c,onValueChange:u,className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pf,{value:"dummy",id:"dummy-data","data-testid":"dummy-data-radio"}),r.jsx(Is,{htmlFor:"dummy-data",className:"font-normal cursor-pointer",children:"Dummy data"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pf,{value:"entry",id:"entry-data","data-testid":"entry-data-radio"}),r.jsx(Is,{htmlFor:"entry-data",className:"font-normal cursor-pointer",children:"Entry data"})]})]})]}),c==="entry"&&r.jsxs("div",{"data-testid":"entry-id-section",className:"grid gap-2",children:[r.jsx(Is,{htmlFor:"entry-id",children:"Entry ID"}),r.jsx(cf,{id:"entry-id","data-testid":"entry-id-input",type:"number",value:d,onChange:N=>m(N.target.value),placeholder:"Leave empty for latest entry",min:1})]}),b.type&&r.jsxs("div",{"data-testid":"status-message",className:Ae("flex items-center gap-2 p-3 rounded-md text-sm",b.type==="loading"&&"bg-blue-50 text-blue-700",b.type==="success"&&"bg-green-50 text-green-700",b.type==="error"&&"bg-red-50 text-red-700"),children:[b.type==="loading"&&r.jsx(ul,{className:"w-4 h-4 animate-spin"}),b.type==="success"&&r.jsx(Xi,{className:"w-4 h-4"}),b.type==="error"&&r.jsx(Do,{className:"w-4 h-4"}),r.jsx("span",{children:b.message})]}),r.jsxs(B0,{className:"sm:justify-start",children:[r.jsxs(vr,{"data-testid":"send-test-btn",onClick:v,disabled:b.type==="loading",children:[b.type==="loading"?r.jsx(ul,{className:"w-4 h-4 animate-spin"}):r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Send Test"})]}),r.jsx(vr,{"data-testid":"cancel-btn",type:"button",variant:"secondary",onClick:()=>C(!1),disabled:b.type==="loading",children:"Close"})]})]})})}function mf({email:e,isMobile:t,isBuilder:n,renderBody:a,updateEmailField:i,activeEmailId:c,isHtmlMode:u,onModeChange:d,onShowTestEmail:m}){const h=e.from_name||"Sender Name",g=e.from_email||"sender@example.com",b=e.subject||"Email Subject",y=e.to||"recipient@example.com",v=e.cc||"",C=e.bcc||"",[N,k]=p.useState(!1),_=new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),S=p.useCallback((w,R)=>{i&&c&&i(c,w,R)},[i,c]);return t?r.jsxs("div",{"data-testid":"gmail-chrome-mobile",className:"h-full bg-white flex flex-col max-w-md mx-auto",children:[r.jsx("div",{"data-testid":"mobile-header",className:"bg-white border-b px-4 py-3",children:r.jsxs("div",{"data-testid":"mobile-header-nav",className:"flex items-center justify-between",children:[r.jsx("button",{"data-testid":"mobile-back-btn",className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsxs("div",{"data-testid":"mobile-header-actions",className:"flex gap-4",children:[n&&r.jsx(vr,{"data-testid":"mobile-reply-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Send Test Email",onClick:()=>k(!0),children:r.jsx(dl,{className:"w-4 h-4"})}),r.jsx(vr,{"data-testid":"mobile-label-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Label",children:r.jsx(Qr,{className:"w-4 h-4"})}),r.jsx(vr,{"data-testid":"mobile-more-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"More options",children:r.jsx(ch,{className:"w-4 h-4"})})]})]})}),r.jsx("div",{"data-testid":"mobile-content-scroll",className:"flex-1 overflow-auto",children:r.jsxs("div",{"data-testid":"mobile-content-inner",className:"p-4",children:[n?r.jsx(_s,{"data-testid":"mobile-subject-field",value:e.subject,onChange:w=>S("subject",w),placeholder:"Email Subject",className:"text-lg font-normal text-gray-900 mb-4",noPadding:!0}):r.jsx("h2",{"data-testid":"mobile-subject-display",className:"text-lg font-normal text-gray-900 mb-4",children:b}),r.jsxs("div",{"data-testid":"mobile-sender-section",className:"flex items-start gap-5 mb-4",children:[r.jsx("div",{"data-testid":"mobile-sender-avatar",className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600",children:r.jsx(Da,{className:"w-6 h-6"})}),r.jsxs("div",{"data-testid":"mobile-sender-details",className:"flex-1",children:[r.jsxs("div",{"data-testid":"mobile-sender-row",className:"flex items-center gap-2",children:[n?r.jsx(_s,{"data-testid":"mobile-from-name-field",value:e.from_name,onChange:w=>S("from_name",w),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}):r.jsx("span",{"data-testid":"mobile-from-name-display",className:"font-medium text-gray-900",children:h}),r.jsx("span",{"data-testid":"mobile-date",className:"text-xs text-gray-500",children:_})]}),r.jsx("div",{"data-testid":"mobile-recipients-list",className:"text-sm text-gray-600 space-y-2 mt-2",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"mobile-to-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"mobile-to-label",className:"inline-block w-12 text-gray-500 font-medium",children:"To"}),r.jsx("div",{"data-testid":"mobile-to-field-wrapper",className:"flex-1",children:r.jsx(Rs,{"data-testid":"mobile-to-field",value:e.to||"",onChange:w=>S("to",w),placeholder:"Add recipients..."})})]}),r.jsxs("div",{"data-testid":"mobile-cc-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"mobile-cc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Cc"}),r.jsx("div",{"data-testid":"mobile-cc-field-wrapper",className:"flex-1",children:r.jsx(Rs,{"data-testid":"mobile-cc-field",value:e.cc||"",onChange:w=>S("cc",w),placeholder:"Add Cc..."})})]}),r.jsxs("div",{"data-testid":"mobile-bcc-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"mobile-bcc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Bcc"}),r.jsx("div",{"data-testid":"mobile-bcc-field-wrapper",className:"flex-1",children:r.jsx(Rs,{"data-testid":"mobile-bcc-field",value:e.bcc||"",onChange:w=>S("bcc",w),placeholder:"Add Bcc..."})})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"mobile-to-display",children:["to ",y]}),v&&r.jsxs("div",{"data-testid":"mobile-cc-display",children:["cc: ",v]}),C&&r.jsxs("div",{"data-testid":"mobile-bcc-display",children:["bcc: ",C]})]})})]})]}),r.jsxs("div",{"data-testid":"mobile-attachments-mode-row",className:"flex items-center justify-between gap-2 px-2",children:[r.jsx(Hx,{attachments:e.attachments||[],onChange:w=>S("attachments",w),isBuilder:n}),n&&d&&r.jsxs("div",{"data-testid":"mobile-mode-toggle",className:"flex items-center gap-0.5 bg-gray-100 rounded-md p-0.5",children:[r.jsx("button",{"data-testid":"mobile-visual-mode-btn",onClick:()=>!u||d("visual"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",u?"text-gray-500":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:r.jsx(Pr,{className:"w-3 h-3"})}),r.jsx("button",{"data-testid":"mobile-html-mode-btn",onClick:()=>u||d("html"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",u?"bg-white text-gray-900 shadow-sm":"text-gray-500"),title:"HTML Editor",children:r.jsx(Vt,{className:"w-3 h-3"})})]})]}),r.jsx("div",{"data-testid":"mobile-email-container",className:"bg-white p-2",children:r.jsx("div",{"data-testid":"mobile-email-body",className:"bg-white min-h-[200px] p-0",children:n&&a?a():r.jsx(Bx,{email:e})})})]})}),n&&r.jsx(by,{open:N,onOpenChange:k})]}):r.jsxs("div",{"data-testid":"gmail-chrome-desktop",className:"h-full bg-white flex flex-col",children:[r.jsx("div",{"data-testid":"gmail-header",className:"border-b border-gray-200 bg-white",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-start gap-5",children:[r.jsx("div",{"data-testid":"sender-avatar",className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 flex-shrink-0",children:r.jsx(Da,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{"data-testid":"subject-row",className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[n?r.jsx(_s,{"data-testid":"subject-field",value:e.subject,onChange:w=>S("subject",w),placeholder:"Email Subject",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},noPadding:!0}):r.jsx("h1",{"data-testid":"subject-display",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},children:b}),r.jsx("span",{"data-testid":"inbox-label",className:"px-2 py-0.5 bg-gray-100 text-xs text-gray-600 rounded",children:"Inbox"}),(e.scheduled_date||e.schedule)&&r.jsx(Wx,{scheduledDate:e.scheduled_date,schedule:e.schedule})]}),r.jsxs("div",{"data-testid":"subject-row-actions",className:"flex items-center gap-2",children:[r.jsx(vr,{"data-testid":"label-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Label",children:r.jsx(Qr,{className:"w-4 h-4"})}),r.jsx(vr,{"data-testid":"more-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"More options",children:r.jsx(ch,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{"data-testid":"from-to-section",className:"flex items-center justify-between mt-2",children:[r.jsxs("div",{"data-testid":"sender-recipients",children:[r.jsx("div",{"data-testid":"from-row",className:"flex items-center pb-8",children:n?r.jsxs(r.Fragment,{children:[r.jsx(_s,{"data-testid":"from-name-field",value:e.from_name,onChange:w=>S("from_name",w),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600 ml-2.5",children:"<"}),r.jsx(_s,{"data-testid":"from-email-field",value:e.from_email,onChange:w=>S("from_email",w),placeholder:"sender@example.com",type:"email",className:"text-sm text-gray-600",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600",children:">"})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{"data-testid":"from-name-display",className:"font-medium text-gray-900",children:h}),r.jsxs("span",{"data-testid":"from-email-display",className:"text-sm text-gray-600",children:["<",g,">"]})]})}),r.jsx("div",{"data-testid":"recipients-list",className:"text-sm text-gray-600 border-t border-gray-200",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"to-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"to-label",className:"inline-block w-12 text-gray-500 font-medium",children:"To"}),r.jsx("div",{"data-testid":"to-field-wrapper",className:"flex-1",children:r.jsx(Rs,{"data-testid":"to-field",value:e.to||"",onChange:w=>S("to",w),placeholder:"Add recipients..."})})]}),r.jsxs("div",{"data-testid":"cc-row",className:"flex items-center border-t border-gray-200",children:[r.jsx("span",{"data-testid":"cc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Cc"}),r.jsx("div",{"data-testid":"cc-field-wrapper",className:"flex-1",children:r.jsx(Rs,{"data-testid":"cc-field",value:e.cc||"",onChange:w=>S("cc",w),placeholder:"Add Cc recipients..."})})]}),r.jsxs("div",{"data-testid":"bcc-row",className:"flex items-center border-t border-gray-200",children:[r.jsx("span",{"data-testid":"bcc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Bcc"}),r.jsx("div",{"data-testid":"bcc-field-wrapper",className:"flex-1",children:r.jsx(Rs,{"data-testid":"bcc-field",value:e.bcc||"",onChange:w=>S("bcc",w),placeholder:"Add Bcc recipients..."})})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"to-display",className:"py-1",children:["to ",y]}),v&&r.jsxs("div",{"data-testid":"cc-display",className:"py-1 border-t border-gray-200",children:["cc: ",v]}),C&&r.jsxs("div",{"data-testid":"bcc-display",className:"py-1 border-t border-gray-200",children:["bcc: ",C]})]})})]}),r.jsxs("div",{"data-testid":"header-actions",className:"flex items-center gap-2",children:[r.jsx("div",{"data-testid":"email-date",className:"text-sm text-gray-500",children:_}),r.jsx(vr,{"data-testid":"star-btn",variant:"outline",size:"icon",className:"h-8",disabled:!0,children:r.jsx(Sh,{className:"w-4 h-4"})}),n&&r.jsx(vr,{"data-testid":"reply-header-btn",variant:"outline",size:"icon",className:"h-8",onClick:()=>k(!0),title:"Send Test Email",children:r.jsx(dl,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{"data-testid":"attachments-mode-row",className:"flex items-center justify-between gap-4 mt-2",children:[r.jsx(Hx,{attachments:e.attachments||[],onChange:w=>S("attachments",w),isBuilder:n}),n&&d&&r.jsxs("div",{"data-testid":"mode-toggle",className:"flex items-center gap-1",children:[r.jsxs(xr,{"data-testid":"visual-mode-btn",variant:u?"outline":"outlineActive",size:"sm",onClick:()=>!u||d("visual"),title:"Visual Builder",children:[r.jsx(Pr,{className:"w-4 h-4"}),r.jsx("span",{children:"Visual"})]}),r.jsxs(xr,{"data-testid":"html-mode-btn",variant:u?"outlineActive":"outline",size:"sm",onClick:()=>u||d("html"),title:"HTML Editor",children:[r.jsx(Vt,{className:"w-4 h-4"}),r.jsx("span",{children:"HTML"})]})]})]})]})]})})}),r.jsx("div",{"data-testid":"email-content-scroll",className:"flex-1 overflow-auto",children:r.jsxs("div",{"data-testid":"email-content-container",className:"max-w-[1000px] mx-auto bg-white",children:[r.jsx("div",{"data-testid":"email-body",className:"bg-white min-h-[200px] p-0",children:n&&a?a():r.jsx(Bx,{email:e})}),r.jsx("div",{"data-testid":"reply-section",className:"border-t border-gray-200 pt-6 pl-6",children:r.jsx("div",{className:"flex gap-3",children:n?r.jsxs(r.Fragment,{children:[r.jsxs(xr,{"data-testid":"reply-btn",variant:"pill",onClick:()=>k(!0),children:[r.jsx(dl,{className:"w-4 h-4"}),"Reply"]}),r.jsxs(xr,{"data-testid":"forward-btn",variant:"pill",onClick:()=>k(!0),children:[r.jsx(dh,{className:"w-4 h-4"}),"Forward"]})]}):r.jsxs(r.Fragment,{children:[r.jsxs(xr,{"data-testid":"reply-btn",variant:"pill",disabled:!0,children:[r.jsx(dl,{className:"w-4 h-4"}),"Reply"]}),r.jsxs(xr,{"data-testid":"forward-btn",variant:"pill",disabled:!0,children:[r.jsx(dh,{className:"w-4 h-4"}),"Forward"]})]})})})]})}),n&&r.jsx(by,{open:N,onOpenChange:k})]})}const ut=gl((e,t)=>({elements:[],selectedElementId:null,isDragging:!1,draggedElement:null,editingTextElementId:null,currentTemplate:null,savedTemplates:[],templateCategories:[{id:"welcome",name:"Welcome/Onboarding",count:5},{id:"transactional",name:"Transactional",count:5},{id:"newsletter",name:"Newsletter",count:5},{id:"notification",name:"Notification",count:5},{id:"minimal",name:"Minimal",count:3}],previewClient:"gmail-desktop",previewData:{},elementTypes:{emailWrapper:{id:"emailWrapper",name:"Email Wrapper",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{backgroundColor:"#f5f5f5"}},emailContainer:{id:"emailContainer",name:"Email Container",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{width:"600px",margin:{top:50,right:"auto",bottom:50,left:"auto"},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#e5e5e5",padding:{top:60,right:30,bottom:60,left:30},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",boxShadow:"none",borderRadius:0}},section:{id:"section",name:"Section",icon:"",defaultProps:{margin:{top:0,right:0,bottom:0,left:0},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#000000",padding:{top:20,right:20,bottom:20,left:20},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",fullWidth:!1}},columns:{id:"columns",name:"Columns",icon:"",defaultProps:{columns:2,gap:20,stackOnMobile:!0}},text:{id:"text",name:"Text",icon:"",defaultProps:{content:"Click to edit this text...",fontSize:16,fontFamily:"Arial, sans-serif",color:"#333333",lineHeight:1.6,align:"left",width:"100%",margin:{top:0,right:0,bottom:0,left:0},padding:{top:0,right:0,bottom:0,left:0}}},image:{id:"image",name:"Image",icon:"",defaultProps:{src:"",alt:"",width:"100%",height:"auto",align:"center",link:""}},button:{id:"button",name:"Button",icon:"",defaultProps:{text:"Click Here",href:"#",backgroundColor:"#0066cc",color:"#ffffff",fontSize:16,fontWeight:"bold",padding:{top:12,right:24,bottom:12,left:24},borderRadius:4,align:"center",fullWidth:!1}},divider:{id:"divider",name:"Divider",icon:"",defaultProps:{height:1,color:"#dddddd",style:"solid",margin:{top:20,bottom:20}}},spacer:{id:"spacer",name:"Spacer",icon:"",defaultProps:{height:20}},social:{id:"social",name:"Social Icons",icon:"",defaultProps:{icons:["facebook","twitter","instagram","linkedin"],iconSize:32,iconColor:"#333333",spacing:10,align:"center"}},formData:{id:"formData",name:"Form Data",icon:"",defaultProps:{field:"",fallback:"",format:"text"}},html:{id:"html",name:"HTML",icon:"</>",defaultProps:{content:"<p>Your HTML content here...</p>"}}},addElement:(n,a=null,i=null)=>{console.log(" addElement called:",{type:n,parentId:a,position:i});const{elementTypes:c}=t(),u=c[n];if(!u){console.error(" Element type not found:",n);return}if(u.isSystemElement){console.log(" Skipping system element creation:",n);return}const d={id:$n(),type:n,props:{...u.defaultProps},children:[]};return console.log(" Created new element:",d),e(m=>{console.log(" Current state before adding:",m.elements);const h=t().ensureSystemElements(m.elements);if(console.log(" State after ensuring system elements:",h),a){console.log(" Adding to parent:",a);const g={elements:Ls(h,a,d,i)};return console.log(" Final state after addToParent:",g.elements),g}else{console.log(" Adding to root - finding email container...");const g=(y,v)=>{for(const C of y){if(C.type===v)return C;if(C.children&&C.children.length>0){const N=g(C.children,v);if(N)return N}}return null},b=g(h,"emailContainer");if(console.log(" Found email container:",b),b){console.log(" Adding to email container:",b.id);const y={elements:Ls(h,b.id,d,i)};return console.log(" Final state after addToParent to container:",y.elements),y}else{console.log(" No email container found, adding to root");const y=[...h];return i!==null?y.splice(i,0,d):y.push(d),console.log(" Final state (root fallback):",y),{elements:y}}}}),console.log(" addElement completed, returning:",d.id),d.id},updateElement:(n,a)=>{e(i=>({elements:gf(i.elements,n,a)}))},deleteElement:n=>{e(a=>({elements:cc(a.elements,n),selectedElementId:a.selectedElementId===n?null:a.selectedElementId}))},moveElement:(n,a,i)=>{e(c=>{let u=[...c.elements],d=null;if(u=cc(u,n,m=>{d=m}),!d)return c;if(d.type==="emailWrapper"||d.type==="emailContainer")return console.log(" Cannot move system elements"),c;if(a)u=Ls(u,a,d,i);else{const m=(g,b)=>{for(const y of g){if(y.type===b)return y;if(y.children&&y.children.length>0){const v=m(y.children,b);if(v)return v}}return null},h=m(u,"emailContainer");if(h)console.log(" Moving to email container:",h.id),u=Ls(u,h.id,d,i);else return console.log(" No email container found, cannot add element"),c}return{elements:u}})},selectElement:n=>{console.log("selectElement called with id:",n),e({selectedElementId:n}),console.log("selectedElementId set to:",n)},clearCanvas:()=>{e({elements:[],selectedElementId:null})},setElements:n=>{const a=t().ensureSystemElements(n||[]);e({elements:a})},ensureSystemElements:n=>{const{elementTypes:a}=t();let i=[...n];const c=(h,g)=>{for(const b of h){if(b.type===g)return b;if(b.children&&b.children.length>0){const y=c(b.children,g);if(y)return y}}return null};let u=i.find(h=>h.type==="emailWrapper");u||(u={id:`email-wrapper-${Date.now()}`,type:"emailWrapper",props:{...a.emailWrapper.defaultProps},children:[]},i.unshift(u));let d=c([u],"emailContainer");d||(d={id:`email-container-${Date.now()}`,type:"emailContainer",props:{...a.emailContainer.defaultProps},children:[]},u.children.unshift(d));const m=i.filter(h=>h.type!=="emailWrapper");return m.length>0&&(d.children.push(...m),i=i.filter(h=>h.type==="emailWrapper")),i},saveAsTemplate:(n,a,i)=>{const{elements:c}=t(),u={id:$n(),name:n,description:a,category:i,elements:JSON.parse(JSON.stringify(c)),createdAt:new Date().toISOString(),thumbnail:null};return e(d=>({savedTemplates:[...d.savedTemplates,u]})),u},loadTemplate:n=>{const{savedTemplates:a}=t(),i=a.find(c=>c.id===n);i&&e({elements:JSON.parse(JSON.stringify(i.elements)),currentTemplate:i,selectedElementId:null})},deleteTemplate:n=>{e(a=>({savedTemplates:a.savedTemplates.filter(i=>i.id!==n)}))},generateHtml:()=>{const{elements:n}=t();return tz(n)},startDrag:n=>{e({isDragging:!0,draggedElement:n})},endDrag:()=>{e({isDragging:!1,draggedElement:null})},setEditingTextElement:n=>{e({editingTextElementId:n})},moveElementUpDown:(n,a)=>{const i=t(),c=hf(i.elements,n);if(!c){console.log("Element not found:",n);return}const{parent:u,parentId:d,position:m}=c,h=u?u.children:i.elements,g=a==="up"?m-1:m+1;if(g<0||g>=h.length){console.log("Cannot move element beyond bounds");return}const b=d||null;t().moveElement(n,b,g)}})),lc=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.children&&n.children.length>0)if(n.type==="columns")for(const a of n.children){const i=lc(a.children||[],t);if(i)return i}else{const a=lc(n.children,t);if(a)return a}}return null},hf=(e,t,n=null,a=null)=>{for(let i=0;i<e.length;i++){const c=e[i];if(c.id===t)return{parent:n,parentId:a,position:i};if(c.children&&c.children.length>0)if(c.type==="columns")for(const u of c.children){const d=hf(u.children||[],t,u,u.id);if(d)return d}else{const u=hf(c.children,t,c,c.id);if(u)return u}}return null},Uo=()=>{const e=ut(w=>w.selectElement),t=ut(w=>w.updateElement),n=ut(w=>w.addElement),a=ut(w=>w.deleteElement),i=ut(w=>w.moveElement),c=ut(w=>w.setElements),u=ut(w=>w.clearCanvas),d=ut(w=>w.generateHtml),m=ut(w=>w.startDrag),h=ut(w=>w.endDrag),g=ut(w=>w.setEditingTextElement),b=ut(w=>w.moveElementUpDown),y=ut(w=>w.selectedElementId),v=ut(w=>w.isDragging),C=ut(w=>w.draggedElement),N=ut(w=>w.elementTypes),k=ut(w=>w.editingTextElementId),_=ut(w=>w.elements),S=p.useMemo(()=>y?lc(_,y):null,[y,_]);return{elements:_,selectedElementId:y,selectedElement:S,isDragging:v,draggedElement:C,elementTypes:N,editingTextElementId:k,selectElement:e,updateElement:t,addElement:n,deleteElement:a,moveElement:i,setElements:c,clearCanvas:u,generateHtml:d,startDrag:m,endDrag:h,setEditingTextElement:g,moveElementUpDown:b}};Uo.getState=()=>{const e=ut.getState(),t=e.selectedElementId?lc(e.elements,e.selectedElementId):null;return{...e,selectedElement:t}};function Ls(e,t,n,a){if(console.log(" addToParent called:",{parentId:t,newElement:n,position:a}),console.log(" Elements structure:",e),t&&t.includes("-col-")){const[i,,c]=t.split("-"),u=parseInt(c);return e.map(d=>{if(d.id===i&&d.type==="columns"){const m=[...d.children||[]];for(;m.length<=u;)m.push({type:"column",children:[]});const h=[...m[u]?.children||[]];return a!=null?h.splice(a,0,n):h.push(n),m[u]={type:"column",children:h},{...d,children:m}}return d.children&&d.children.length>0?{...d,children:Ls(d.children,t,n,a)}:d})}return e.map(i=>{if(i.id===t){console.log(" Found target parent element:",i);const c=[...i.children];a!=null?(c.splice(a,0,n),console.log(" Added at position",a,"- new children:",c)):(c.push(n),console.log(" Added at end - new children:",c));const u={...i,children:c};return console.log(" Updated parent element:",u),u}return i.children&&i.children.length>0?{...i,children:Ls(i.children,t,n,a)}:i})}function gf(e,t,n){return e.map(a=>a.id===t?typeof n=="function"?n(a):{...a,...n}:a.children&&a.children.length>0?a.type==="columns"?{...a,children:a.children.map(i=>({...i,children:gf(i.children||[],t,n)}))}:{...a,children:gf(a.children,t,n)}:a)}function cc(e,t,n){return e.filter(a=>a.id===t?(n&&n(a),!1):(a.children&&a.children.length>0&&(a.type==="columns"?a.children=a.children.map(i=>({...i,children:cc(i.children||[],t,n)})):a.children=cc(a.children,t,n)),!0))}function tz(e){const t=a=>{switch(a.type){case"section":const i=a.props.margin||{top:0,right:0,bottom:0,left:0},c=a.props.border||{top:0,right:0,bottom:0,left:0},u=a.props.borderStyle||"solid",d=a.props.borderColor||"#000000",m=i.top||i.bottom?`<tr><td style="padding: ${i.top}px ${i.right}px ${i.bottom}px ${i.left}px;"></td></tr>`:"",h=a.props.backgroundImage?`background-image: url('${a.props.backgroundImage}'); background-size: ${a.props.backgroundSize||"cover"}; background-position: ${a.props.backgroundPosition||"center"}; background-repeat: ${a.props.backgroundRepeat||"no-repeat"};`:"",b=c.top>0||c.right>0||c.bottom>0||c.left>0?`border-top: ${c.top}px ${u} ${d}; border-right: ${c.right}px ${u} ${d}; border-bottom: ${c.bottom}px ${u} ${d}; border-left: ${c.left}px ${u} ${d};`:"";return`${m}<tr><td style="padding: ${a.props.padding.top}px ${a.props.padding.right}px ${a.props.padding.bottom}px ${a.props.padding.left}px; background-color: ${a.props.backgroundColor}; ${h} ${b}">
          ${a.children.map(t).join("")}
        </td></tr>`;case"text":return`<div style="font-size: ${a.props.fontSize}px; color: ${a.props.color}; text-align: ${a.props.align}; line-height: ${a.props.lineHeight};">
          ${a.props.content}
        </div>`;case"button":return`<div style="text-align: ${a.props.align};">
          <a href="${a.props.href}" style="display: inline-block; background-color: ${a.props.backgroundColor}; color: ${a.props.color}; padding: ${a.props.padding.top}px ${a.props.padding.right}px ${a.props.padding.bottom}px ${a.props.padding.left}px; text-decoration: none; border-radius: ${a.props.borderRadius}px; font-size: ${a.props.fontSize}px; font-weight: ${a.props.fontWeight};">
            ${a.props.text}
          </a>
        </div>`;case"html":return a.props.content||"";default:return""}};return`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f4f4f4;">
  <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="min-width: 100%;">
    <tr>
      <td align="center">
        <!--[if mso]>
        <table role="presentation" width="600" cellpadding="0" cellspacing="0">
        <tr>
        <td>
        <![endif]-->
        
        <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
          ${e.map(t).join("")}
        </table>
        
        <!--[if mso]>
        </td>
        </tr>
        </table>
        <![endif]-->
      </td>
    </tr>
  </table>
</body>
</html>`}const nz={section:Ca,columns:Hu,text:gs,image:qu,button:Eh,divider:hh,spacer:gh,social:jh,formData:Qi,html:Vt};function rz({element:e}){const{attributes:t,listeners:n,setNodeRef:a,isDragging:i}=Fd({id:`palette-${e.id}`,data:{type:"new-element",elementType:e.id}}),c=nz[e.id]||Ca;return r.jsxs("div",{ref:a,...n,...t,className:pe("flex flex-col items-center justify-center p-3 cursor-move","hover:bg-gray-100 transition-colors rounded-lg group",i&&"opacity-50"),title:e.name,children:[r.jsx(c,{className:"w-5 h-5 mb-1 text-gray-600 group-hover:text-gray-800"}),r.jsx("span",{className:"text-xs text-gray-600 text-center leading-tight group-hover:text-gray-800",children:e.name})]})}function oz(){const{elementTypes:e}=Uo(),t=[{name:"Layout",elements:["section","columns","spacer"]},{name:"Content",elements:["text","image","button","divider","html"]},{name:"Dynamic",elements:["formData","social"]}];return r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Elements:"}),r.jsx("div",{className:"flex items-center gap-6 overflow-x-auto",children:t.map((n,a)=>r.jsxs(De.Fragment,{children:[a>0&&r.jsx("div",{className:"h-8 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase mr-2",children:n.name}),n.elements.map(i=>{const c=e[i];return c?r.jsx(rz,{element:c},c.id):null})]})]},n.name))}),r.jsx("div",{className:"ml-auto text-xs text-gray-500 whitespace-nowrap",children:"Drag to add"})]})})}const sz={emailWrapper:{resizable:!1,background:{color:!0,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,canDelete:!1,isSystemElement:!0,backgroundOnly:!0},display:{showInBuilder:!0,selectable:!0}},emailContainer:{resizable:!1,background:{color:!0,image:!0},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{canDelete:!1,isSystemElement:!0,droppable:!0,widthOptions:["600px","700px"]},effects:{borderRadius:!0,shadow:!0},display:{showInBuilder:!0,selectable:!0}},text:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0,lineHeight:!0,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},display:{showInBuilder:!0,selectable:!0}},button:{resizable:{horizontal:!0,vertical:!1,minWidth:80,maxWidth:400},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!1,lineHeight:!1,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},display:{showInBuilder:!0,selectable:!0}},image:{resizable:{horizontal:!0,vertical:!0,minWidth:50,minHeight:50,maxWidth:1e3,maxHeight:800,aspectRatio:!0},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,alt:!0,title:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},media:{formats:["jpg","png","gif"],maxFileSize:"5MB",optimization:!0},display:{showInBuilder:!0,selectable:!0}},section:{resizable:{horizontal:!0,vertical:!0,minWidth:200,minHeight:50,maxWidth:700,defaultWidth:600},background:{color:!0,image:!0,gradient:!1},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,contained:!0,centered:!0,columns:!0,droppable:!0},container:{maxColumns:4,columnSpacing:!0,verticalAlignment:!0,equalHeight:!0},effects:{borderRadius:!0,shadow:!1}},spacer:{resizable:{horizontal:!1,vertical:!0,minHeight:10,maxHeight:200},background:{color:!1,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,inline:!1},display:{showInBuilder:!0,showInEmail:!1}},divider:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!0,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!0,inline:!1},style:{thickness:!0,style:!0,opacity:!0},display:{showInBuilder:!0,selectable:!0}},social:{resizable:{horizontal:!1,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!1,inline:!0},social:{platforms:["facebook","twitter","linkedin","instagram","youtube"],iconStyle:["default","round","square"],iconSize:["small","medium","large"],showLabels:!0},display:{showInBuilder:!0,selectable:!0}},columns:{resizable:{horizontal:!0,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,droppable:!0},columns:{count:{min:2,max:4},distribution:["equal","custom"],spacing:!0,verticalAlignment:["top","middle","bottom"],responsive:{mobile:"stack",tablet:"maintain",desktop:"maintain"}},display:{showInBuilder:!0,selectable:!0}},formData:{resizable:{horizontal:!0,vertical:!1},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},data:{fields:["name","email","phone","company","custom"],formatting:!0,fallback:!0},display:{showInBuilder:!0,selectable:!0}}};function xf(e){return sz[e]||{}}function Os(e,t){const n=xf(e),a=t.split(".");let i=n;for(const c of a)if(i&&typeof i=="object"&&c in i)i=i[c];else return!1;return!!i}function wy({margin:e,border:t,padding:n,backgroundColor:a,backgroundImage:i,borderRadius:c,boxShadow:u,children:d,className:m,isResizing:h=!1}){const g=()=>{const y={};if(e&&(e.top!==void 0&&(y.marginTop=`${e.top}px`),e.right!==void 0&&(y.marginRight=`${e.right}px`),e.bottom!==void 0&&(y.marginBottom=`${e.bottom}px`),e.left!==void 0&&(y.marginLeft=`${e.left}px`)),t&&t.width){const{width:v,style:C="solid",color:N="#000000"}=t;v.top>0&&(y.borderTop=`${v.top}px ${C} ${N}`),v.right>0&&(y.borderRight=`${v.right}px ${C} ${N}`),v.bottom>0&&(y.borderBottom=`${v.bottom}px ${C} ${N}`),v.left>0&&(y.borderLeft=`${v.left}px ${C} ${N}`)}return n&&(n.top!==void 0&&(y.paddingTop=`${n.top}px`),n.right!==void 0&&(y.paddingRight=`${n.right}px`),n.bottom!==void 0&&(y.paddingBottom=`${n.bottom}px`),n.left!==void 0&&(y.paddingLeft=`${n.left}px`)),a&&a!=="transparent"&&(y.backgroundColor=a),i&&i.url&&(y.backgroundImage=`url(${i.url})`,y.backgroundSize=i.size||"cover",y.backgroundPosition=i.position||"center",y.backgroundRepeat=i.repeat||"no-repeat"),c&&c>0&&(y.borderRadius=`${c}px`,y.WebkitBorderRadius=`${c}px`,y.MozBorderRadius=`${c}px`),u&&u!=="none"&&(y.boxShadow=u,y.WebkitBoxShadow=u,y.MozBoxShadow=u),y},b=()=>{const y={};return a&&a!=="transparent"&&(y.bgcolor=a),i&&i.url&&(y.background=i.url),y};return r.jsx("div",{className:pe("spacing-layer",!h&&"transition-all duration-200",m),style:g(),...b(),children:d})}function az({capabilities:e,isResizing:t=!1,intensity:n="normal"}){const a=()=>{const u="absolute inset-0 pointer-events-none rounded";switch(n){case"subtle":return pe(u,"ring-1 ring-green-400 animate-pulse","transition-all duration-1000");case"strong":return pe(u,"ring-4 ring-green-500 animate-pulse","transition-all duration-500");default:return pe(u,"ring-2 ring-green-500 animate-pulse","transition-all duration-700")}},i=()=>{const u={};return e.effects?.borderRadius&&(u.borderRadius="inherit"),t&&(u.opacity=.3),u},c=()=>{const u=[];return e.resizable?.horizontal&&!t&&u.push(r.jsx("div",{className:"absolute top-1/2 right-0 w-1 h-4 bg-green-500 opacity-40 transform -translate-y-1/2 rounded-l"},"resize-horizontal-hint")),e.resizable?.vertical&&!t&&u.push(r.jsx("div",{className:"absolute bottom-0 left-1/2 w-4 h-1 bg-green-500 opacity-40 transform -translate-x-1/2 rounded-t"},"resize-vertical-hint")),u};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:a(),style:i()}),c(),r.jsx("div",{className:"absolute inset-0 pointer-events-none rounded",style:{boxShadow:"inset 0 0 0 1px rgba(34, 197, 94, 0.3)",borderRadius:"inherit",opacity:t?.2:.6}})]})}function iz({element:e,isSelected:t,isHovered:n,renderElements:a,children:i,onElementUpdate:c,onCapabilityAction:u,onEdit:d,isMobile:m}){const h=p.useRef(null),[g,b]=p.useState(!1),[y,v]=p.useState(null),[C,N]=p.useState(!1),[k,_]=p.useState(null),S=ut(H=>H.updateElement),w=xf(e.type),{margin:R={top:0,right:0,bottom:0,left:0},border:M={top:0,right:0,bottom:0,left:0},borderStyle:I="solid",borderColor:O="#000000",padding:P={top:0,right:0,bottom:0,left:0},backgroundColor:U="transparent",backgroundImage:V="",backgroundSize:oe="cover",backgroundPosition:de="center",backgroundRepeat:Ne="no-repeat",width:re,height:ke,maxWidth:ae,minWidth:ne,fullWidth:F}=e.props||{},K=(H,ge)=>{ge.preventDefault(),ge.stopPropagation(),b(!0),v(H);const ze=ge.clientX,Se=ge.clientY,rt=h.current?.offsetWidth||0,Ze=h.current?.offsetHeight||0,ot=Ct=>{const qt=Ct.clientX-ze,Jt=Ct.clientY-Se;let sn=rt,le=Ze;if(H==="right"||H==="corner"){const ue=w.resizable?.minWidth||100,he=w.resizable?.maxWidth||700;sn=Math.max(ue,Math.min(he,rt+qt))}if(H==="bottom"||H==="corner"){const ue=w.resizable?.minHeight||50,he=w.resizable?.maxHeight||1e3;le=Math.max(ue,Math.min(he,Ze+Jt))}S(e.id,{props:{...e.props,...H==="right"||H==="corner"?{width:`${sn}px`}:{},...H==="bottom"||H==="corner"?{height:`${le}px`}:{}}})},Ke=()=>{b(!1),v(null),document.removeEventListener("mousemove",ot),document.removeEventListener("mouseup",Ke)};document.addEventListener("mousemove",ot),document.addEventListener("mouseup",Ke)},G=()=>{b(!1),v(null)},z=H=>{H.stopPropagation(),_(e.props?.backgroundColor||"#ffffff"),N(!0)},T=H=>{_(H),S(e.id,{props:{...e.props,backgroundColor:H}})},Y=()=>{k&&S(e.id,{props:{...e.props,backgroundColor:k}}),N(!1),_(null)},q=()=>{const H=e.props?.backgroundColor||"#ffffff";S(e.id,{props:{...e.props,backgroundColor:H}}),N(!1),_(null)};p.useEffect(()=>{const H=ge=>{C&&h.current&&!h.current.contains(ge.target)&&q()};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[C]);const Q=e.type!=="emailWrapper"&&e.type!=="emailContainer"&&(Os(e.type,"spacing.margin")||Os(e.type,"spacing.border")||Os(e.type,"spacing.padding")),xe=()=>{const H={};return w.resizable?.horizontal&&re&&(H.width=re),w.resizable?.vertical&&ke&&(H.height=ke),ae&&(H.maxWidth=ae),ne&&(H.minWidth=ne),H};return r.jsxs("div",{ref:h,className:pe("universal-element-wrapper","relative",!g&&"transition-all duration-200",t&&"selected",n&&!t&&"hovered ring-2 ring-gray-400 ring-opacity-40",g&&"resizing",w.layout?.fullWidth&&"full-width",w.layout?.inline&&"inline-element"),style:{...xe(),...F?{width:"100%"}:{},...w.layout?.fullWidth&&!re&&!F&&{width:"100%"},...w.layout?.inline&&{display:"inline-block"},...w.layout?.centered&&!F&&{margin:"0 auto"},...e.type==="section"&&!re&&!F&&{width:`${w.resizable?.defaultWidth||600}px`},...e.type==="emailWrapper"&&{width:"100%",minHeight:"200px",display:"block",backgroundColor:U!=="transparent"?U:"#f5f5f5"},...e.type==="emailContainer"&&{width:m?"100%":re||"600px",maxWidth:m?"100%":re||"600px",margin:m?"0":"0 auto",display:"block",minHeight:"200px"}},"data-element-type":e.type,"data-element-id":e.id,"data-component":"UniversalElementWrapper","data-is-system":w.layout?.isSystemElement?"true":"false","data-is-selected":t?"true":"false","data-is-hovered":n?"true":"false","data-debug-env":"production",children:[t&&r.jsx(az,{capabilities:w,isResizing:g}),(n&&!t||t&&w.layout?.backgroundOnly)&&w.layout?.isSystemElement&&d&&r.jsx("div",{className:"absolute top-1 left-1 z-[60] pointer-events-auto",children:r.jsx("button",{onClick:H=>{H.stopPropagation(),e.type==="emailWrapper"&&w.layout?.backgroundOnly?z(H):d(H)},className:"p-1.5 bg-blue-500 text-white rounded shadow-lg hover:shadow-xl transition-all hover:scale-110",title:e.type==="emailWrapper"?"Change Background Color":`Edit ${e.type==="emailContainer"?"Email Container":e.type}`,children:e.type==="emailWrapper"&&w.layout?.backgroundOnly?r.jsx(Pr,{className:"w-3 h-3"}):r.jsx(pr,{className:"w-3 h-3"})})}),t&&w.layout?.isSystemElement&&r.jsx("div",{className:"absolute top-1 left-1 z-10",children:r.jsxs("div",{className:"bg-blue-500 text-white p-1 rounded shadow-sm flex items-center gap-1",children:[r.jsx(pr,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:e.type==="emailWrapper"?"Wrapper":"Container"})]})}),C&&e.type==="emailWrapper"&&r.jsx("div",{className:"absolute top-10 left-1 z-[70] pointer-events-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl border p-3 min-w-[200px]",children:[r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("button",{onClick:q,className:"flex-1 px-3 py-1.5 text-sm text-gray-600 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"Cancel"}),r.jsx("button",{onClick:Y,className:"flex-1 px-3 py-1.5 text-sm text-white bg-blue-500 hover:bg-blue-600 rounded transition-colors",children:"Apply"})]}),r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Background Color"}),r.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:["#ffffff","#f8f9fa","#e9ecef","#dee2e6","#f8f5f0","#fff9e6","#e8f4fd","#e6f7ff","#f0f8f0","#fef7f0","#f5f5f5","#000000"].map(H=>r.jsx("button",{onClick:()=>T(H),className:pe("w-6 h-6 rounded border-2 transition-colors",k===H?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-blue-500"),style:{backgroundColor:H},title:H},H))}),r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Custom Color"}),r.jsx("input",{type:"color",value:k||e.props?.backgroundColor||"#ffffff",onChange:H=>T(H.target.value),className:"w-full h-8 rounded border border-gray-300"})]})}),t&&w.resizable&&r.jsx(lz,{capabilities:w.resizable,onResizeStart:K,onResizeEnd:G,isResizing:g,direction:y}),Q?r.jsx(wy,{margin:Os(e.type,"spacing.margin")?R:null,border:Os(e.type,"spacing.border")?{width:M,style:I,color:O}:null,padding:Os(e.type,"spacing.padding")?P:null,backgroundColor:w.background?.color?U:null,backgroundImage:w.background?.image?{url:V,size:oe,position:de,repeat:Ne}:null,borderRadius:w.effects?.borderRadius?e.props.borderRadius:null,isResizing:g,children:i}):r.jsx("div",{className:"element-content",children:i})]})}function lz({capabilities:e,onResizeStart:t,onResizeEnd:n,isResizing:a,direction:i}){const c=[];return e.horizontal&&c.push(r.jsx("div",{className:pe("resize-handle resize-handle-right","absolute top-0 right-0 w-2 h-full cursor-ew-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",a&&i==="right"&&"opacity-75"),onMouseDown:u=>t("right",u)},"resize-right")),e.vertical&&c.push(r.jsx("div",{className:pe("resize-handle resize-handle-bottom","absolute bottom-0 left-0 w-full h-2 cursor-ns-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",a&&i==="bottom"&&"opacity-75"),onMouseDown:u=>t("bottom",u)},"resize-bottom")),e.horizontal&&e.vertical&&c.push(r.jsx("div",{className:pe("resize-handle resize-handle-corner","absolute bottom-0 right-0 w-3 h-3 cursor-nw-resize","bg-blue-500 opacity-0 hover:opacity-75 transition-opacity",a&&i==="corner"&&"opacity-100"),onMouseDown:u=>t("corner",u)},"resize-corner")),r.jsx(r.Fragment,{children:c})}function cz({element:e,renderElements:t}){const{children:n=[]}=e;return r.jsx("div",{className:"email-wrapper-content w-full min-h-[200px] relative","data-component":"EmailWrapperElement","data-element-type":"emailWrapper","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?t(n,e.id):r.jsx("div",{className:"p-6 text-center text-gray-400 border-2 border-dashed border-purple-200 rounded-lg min-h-[150px] flex flex-col items-center justify-center",children:r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Email Client Background"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Click to edit the email client background color"}),r.jsx("div",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded text-xs font-medium",children:"Clickable Email Wrapper"})]})})})}function uz({element:e,renderElements:t}){const{children:n=[]}=e;new Date().toISOString();const{margin:a={top:0,right:0,bottom:0,left:0},padding:i={top:0,right:0,bottom:0,left:0},border:c={top:0,right:0,bottom:0,left:0},borderStyle:u="solid",borderColor:d="#000000",backgroundColor:m,backgroundImage:h,backgroundSize:g="cover",backgroundPosition:b="center",backgroundRepeat:y="no-repeat",borderRadius:v=0,boxShadow:C="none"}=e.props||{},{setNodeRef:N}=Qn({id:`email-container-main-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-drop"}}),{setNodeRef:k,isOver:_}=Qn({id:`email-container-empty-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-empty-drop"}});return r.jsx("div",{style:{paddingTop:`${a.top}px`,paddingRight:`${a.right}px`,paddingBottom:`${a.bottom}px`,paddingLeft:`${a.left}px`},children:r.jsx(wy,{margin:null,padding:i,border:{width:c,style:u,color:d},backgroundColor:m,backgroundImage:h?{url:h,size:g,position:b,repeat:y}:null,borderRadius:v,boxShadow:C,children:r.jsx("div",{className:"email-container-content w-full h-full min-h-[200px] relative","data-component":"EmailContainerElement","data-element-type":"emailContainer","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?r.jsx("div",{ref:N,className:"min-h-full",children:t(n,e.id)}):r.jsxs("div",{ref:k,className:pe("h-full min-h-[150px] flex flex-col items-center justify-center text-gray-400 transition-all",_&&"bg-blue-50 border-2 border-blue-300 border-dashed"),children:[r.jsx(Io,{className:"w-10 h-10 mb-3"}),r.jsx("p",{className:"text-sm",children:"Drop elements here"}),_&&r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Release to add element"})]})})})})}function dz({element:e,renderElements:t}){const[n,a]=De.useState(!1),{setNodeRef:i,isOver:c}=Qn({id:`${e.id}-droppable`,data:{parentId:e.id,position:e.children?.length||0}}),{backgroundColor:u="transparent",backgroundImage:d,backgroundSize:m="cover",backgroundPosition:h="center",backgroundRepeat:g="no-repeat"}=e.props;return r.jsx("div",{ref:i,className:pe("element-content min-h-[50px] transition-all",c&&"bg-primary-50"),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),style:{backgroundColor:u!=="transparent"?u:void 0,backgroundImage:d?`url(${d})`:void 0,backgroundSize:m,backgroundPosition:h,backgroundRepeat:g},children:e.children&&e.children.length>0?t(e.children,e.id):r.jsx("div",{className:pe("py-8 text-center text-sm border-2 border-dashed rounded transition-all",n?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop elements here"})})}function fz({position:e,onFormatText:t,onAlignText:n,onFontSize:a,onTextColor:i,onDelete:c,onMoveUp:u,onMoveDown:d,onStartDrag:m,onSave:h,currentAlign:g="left",currentFontSize:b=16,currentColor:y="#000000",isVisible:v=!1,showElementControls:C=!1}){const N=p.useRef(null);if(p.useEffect(()=>{if(v&&e&&N.current){const w=N.current;w.style.left=`${e.x}px`,w.style.top=`${e.y}px`}},[e,v]),!v)return null;const k=[{icon:ih,command:"bold",title:"Bold (Ctrl+B)"},{icon:mh,command:"italic",title:"Italic (Ctrl+I)"},{icon:Rh,command:"underline",title:"Underline (Ctrl+U)"},{icon:cl,command:"createLink",title:"Add Link (Ctrl+K)"}],_=[{icon:oh,value:"left",title:"Align Left"},{icon:rh,value:"center",title:"Align Center"},{icon:sh,value:"right",title:"Align Right"}],S=[12,14,16,18,20,24,28,32,36];return r.jsxs("div",{ref:N,className:"fixed z-50 bg-white shadow-lg border border-gray-200 rounded-lg p-2 flex items-center gap-1 pointer-events-auto",style:{position:"fixed",transform:"translateX(-50%)"},children:[C&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),h&&h()},className:"p-2 rounded bg-green-500 hover:bg-green-600 text-white",title:"Save and exit",children:r.jsx(Mo,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation(),m&&m(w)},className:"p-2 rounded hover:bg-gray-100 cursor-move",title:"Drag to move",children:r.jsx(ll,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),u&&u()},className:"p-2 rounded hover:bg-gray-100",title:"Move Up",children:r.jsx(Ea,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),d&&d()},className:"p-2 rounded hover:bg-gray-100",title:"Move Down",children:r.jsx(jn,{className:"w-4 h-4 text-gray-700"})}),r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"})]}),r.jsx("div",{className:"flex border-r border-gray-200 pr-2 mr-2",children:k.map(({icon:w,command:R,title:M})=>r.jsx("button",{type:"button",onMouseDown:I=>{I.preventDefault(),I.stopPropagation()},onClick:I=>{I.preventDefault(),I.stopPropagation(),t(R)},className:"p-2 rounded hover:bg-gray-100",title:M,children:r.jsx(w,{className:"w-4 h-4 text-gray-700"})},R))}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(gs,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("select",{value:b,onChange:w=>a(parseInt(w.target.value)),className:"text-sm border border-gray-300 rounded px-2 py-1 min-w-[60px]",children:S.map(w=>r.jsxs("option",{value:w,children:[w,"px"]},w))})]}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(Pr,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("input",{type:"color",value:y,onChange:w=>i(w.target.value),className:"w-8 h-8 border border-gray-300 rounded cursor-pointer",title:"Text Color"})]}),r.jsx("div",{className:"flex",children:_.map(({icon:w,value:R,title:M})=>r.jsx("button",{type:"button",onClick:()=>n(R),className:pe("p-2 rounded transition-colors",g===R?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-700"),title:M,children:r.jsx(w,{className:"w-4 h-4"})},R))}),C&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),c&&c()},className:"p-2 rounded hover:bg-red-100",title:"Delete Element",children:r.jsx(Gn,{className:"w-4 h-4 text-red-600"})})]})]})}function pz({element:e}){const{content:t,fontSize:n=16,fontFamily:a="Arial, sans-serif",color:i="#000000",lineHeight:c=1.6,align:u="left",width:d="100%",margin:m={top:0,right:0,bottom:16,left:0},padding:h={top:0,right:0,bottom:0,left:0}}=e.props,[g,b]=p.useState(!1),[y,v]=p.useState(null),[C,N]=p.useState(!1),k=p.useRef(null),_=ut.getState().updateElement,S=ut.getState().deleteElement,w=ut.getState().selectElement,{setEditingTextElement:R,moveElementUpDown:M,isDragging:I}=Uo();p.useEffect(()=>{!g&&k.current&&k.current.innerHTML!==(t||"")&&(k.current.innerHTML=t||"")},[t,g]);const O=T=>{T.stopPropagation(),g||(w(e.id),b(!0),R(e.id),k.current&&(k.current.innerHTML=t||""),setTimeout(()=>{if(k.current){k.current.focus();const Y=window.getSelection(),q=document.createRange();q.selectNodeContents(k.current),q.collapse(!1),Y.removeAllRanges(),Y.addRange(q),U()}},0))};p.useEffect(()=>{const T=Y=>{if(g&&k.current&&!k.current.contains(Y.target)){const q=document.querySelector(".fixed.z-50");if(q&&q.contains(Y.target))return;V()}};return g&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[g]);const P=()=>{g&&U()};p.useEffect(()=>{!I&&g&&k.current&&U()},[I]),p.useEffect(()=>{if(!g||!C)return;const T=()=>{if(k.current){const Q=k.current.getBoundingClientRect();v({x:Q.left+Q.width/2,y:Q.top-50-20})}},Y=[];let q=k.current;for(;q;){const Q=window.getComputedStyle(q);(q.scrollHeight>q.clientHeight||Q.overflowY==="scroll"||Q.overflowY==="auto"||Q.overflow==="scroll"||Q.overflow==="auto")&&(Y.push(q),q.addEventListener("scroll",T,{passive:!0})),q=q.parentElement}return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",T,{passive:!0}),T(),()=>{Y.forEach(Q=>{Q.removeEventListener("scroll",T)}),window.removeEventListener("scroll",T),window.removeEventListener("resize",T)}},[g,C]);const U=()=>{if(k.current){const T=k.current.getBoundingClientRect();v({x:T.left+T.width/2,y:T.top-50-20}),N(!0)}},V=()=>{if(k.current){const T=k.current.innerHTML;_(e.id,{props:{...e.props,content:T}})}b(!1),N(!1),v(null),R(null)},oe=T=>{T.key==="Enter"&&(T.ctrlKey||T.metaKey)&&(T.preventDefault(),V()),T.key==="Escape"&&(T.preventDefault(),V())},de=T=>{if(T==="createLink"){const Y=prompt("Enter URL:");Y&&document.execCommand("createLink",!1,Y)}else document.execCommand(T,!1,null);k.current?.focus()},Ne=T=>{_(e.id,{props:{...e.props,align:T}})},re=T=>{_(e.id,{props:{...e.props,fontSize:T}})},ke=T=>{_(e.id,{props:{...e.props,color:T}})},ae=T=>{const Y=T.target.innerHTML;clearTimeout(window.textUpdateTimeout),window.textUpdateTimeout=setTimeout(()=>{_(e.id,{props:{...e.props,content:Y}})},300)},ne=()=>{V(),S(e.id)},F=()=>{M(e.id,"up")},K=()=>{M(e.id,"down")},G=T=>{V();const Y=T.target.closest('[data-component="SortableElement"]');if(Y){const q=Y.querySelector('[data-drag-handle="true"]');if(q){const Q=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:T.clientX,clientY:T.clientY});q.dispatchEvent(Q)}}},z=()=>{V()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:k,className:`min-h-[20px] element-content ${g?"outline-2 outline-blue-500 outline-dashed":""}`,style:{fontSize:`${n}px`,fontFamily:a,color:i,lineHeight:c,textAlign:u,width:d,marginTop:`${m.top}px`,marginRight:`${m.right}px`,marginBottom:`${m.bottom}px`,marginLeft:`${m.left}px`,paddingTop:`${h.top}px`,paddingRight:`${h.right}px`,paddingBottom:`${h.bottom}px`,paddingLeft:`${h.left}px`,cursor:g?"text":"pointer",minHeight:"1em"},contentEditable:g,suppressContentEditableWarning:!0,onClick:O,onKeyDown:g?oe:void 0,onInput:g?ae:void 0,onMouseUp:g?P:void 0,onKeyUp:g?P:void 0,"data-component":"TextElement","data-element-type":"text","data-element-id":e.id,"data-is-editing":g?"true":"false"}),r.jsx(fz,{position:y,isVisible:C&&g&&!I,onFormatText:de,onAlignText:Ne,onFontSize:re,onTextColor:ke,onDelete:ne,onMoveUp:F,onMoveDown:K,onStartDrag:G,onSave:z,currentAlign:u,currentFontSize:n,currentColor:i,showElementControls:!0}),g&&r.jsx("div",{className:"absolute bottom-[-30px] left-0 right-0 text-xs text-gray-500 text-center bg-white px-2 py-1 rounded shadow-sm",children:"Press Ctrl+Enter or click outside to finish  ESC to cancel"})]})}function mz({element:e}){const{text:t="Button",href:n="#",backgroundColor:a="#007cba",color:i="#ffffff",fontSize:c=16,fontWeight:u="normal",borderRadius:d=4,align:m="left",fullWidth:h=!1,target:g="_blank"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:m},children:r.jsx("a",{href:n,target:g,rel:g==="_blank"?"noopener noreferrer":void 0,className:"inline-block no-underline transition-opacity hover:opacity-80",style:{backgroundColor:a,color:i,fontSize:`${c}px`,fontWeight:u,borderRadius:`${d}px`,width:h?"100%":"auto",textAlign:"center",padding:"12px 24px"},children:t})})}function hz({element:e}){const{src:t,alt:n="Image",width:a="auto",height:i="auto",align:c="left",link:u,target:d="_blank"}=e.props,m=r.jsx("img",{src:t||"https://via.placeholder.com/600x300",alt:n,style:{width:a,height:i,maxWidth:"100%",display:"block",border:"0",outline:"none",textDecoration:"none",msInterpolationMode:"bicubic"}});return r.jsx("div",{className:"element-content",style:{textAlign:c},children:u?r.jsx("a",{href:u,target:d,rel:d==="_blank"?"noopener noreferrer":void 0,style:{textDecoration:"none",border:"0",outline:"none"},children:m}):m})}function gz({element:e}){const{height:t=20}=e.props;return r.jsx("div",{className:"element-content bg-transparent",style:{height:`${t}px`,fontSize:"0",lineHeight:"0"},children:""})}function xz({element:e}){const{height:t=1,color:n="#cccccc",style:a="solid",align:i="center",width:c="100%"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:i},children:r.jsx("hr",{style:{height:`${t}px`,width:c,backgroundColor:a==="solid"?n:"transparent",border:"none",borderTop:a==="dashed"?`${t}px dashed ${n}`:a==="dotted"?`${t}px dotted ${n}`:void 0,margin:0,display:"block",fontSize:"0",lineHeight:"0"}})})}function yz({element:e,renderElements:t}){const{columns:n=2,gap:a=16,stackOnMobile:i=!0}=e.props,c=Array(n).fill(null).map((u,d)=>e.children?.[d]||{type:"column",children:[]});return r.jsx("div",{className:"element-content flex flex-wrap",style:{gap:`${a}px`},"data-stack-mobile":i,children:c.map((u,d)=>r.jsx(vz,{columnId:`${e.id}-col-${d}`,parentId:e.id,index:d,width:`${100/n}%`,gap:a,renderElements:t,children:u.children||[]},d))})}function vz({columnId:e,parentId:t,index:n,width:a,gap:i,renderElements:c,children:u}){const[d,m]=De.useState(!1),{setNodeRef:h,isOver:g}=Qn({id:e,data:{parentId:t,position:n,isColumn:!0}});return r.jsx("div",{ref:h,className:pe("min-h-[100px] transition-all",g&&"bg-primary-50"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),style:{flex:`0 0 calc(${a} - ${i}px)`},children:u.length>0?c(u,e):r.jsx("div",{className:pe("h-full flex items-center justify-center text-sm border-2 border-dashed rounded p-4 transition-all",d?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop here"})})}const bz={facebook:{icon:"",defaultUrl:"https://facebook.com",label:"Facebook"},twitter:{icon:"",defaultUrl:"https://twitter.com",label:"Twitter"},instagram:{icon:"",defaultUrl:"https://instagram.com",label:"Instagram"},linkedin:{icon:"",defaultUrl:"https://linkedin.com",label:"LinkedIn"},youtube:{icon:"",defaultUrl:"https://youtube.com",label:"YouTube"},pinterest:{icon:"",defaultUrl:"https://pinterest.com",label:"Pinterest"}};function wz({element:e}){const{icons:t=["facebook","twitter","instagram"],iconSize:n=32,iconColor:a="#333333",spacing:i=8,align:c="left"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:c},children:r.jsx("div",{className:"inline-flex items-center",style:{gap:`${i}px`},children:t.map(u=>{const d=bz[u];return d?r.jsx("a",{href:d.defaultUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center transition-opacity hover:opacity-70",style:{width:`${n}px`,height:`${n}px`,fontSize:`${n*.6}px`,color:a},title:d.label,children:r.jsx("span",{children:d.icon})},u):null})})})}function jz({element:e}){const{field:t="email",fallback:n="[Form Field]",format:a="text"}=e.props,i=t?`{${t}}`:n;return r.jsx("div",{className:"element-content inline-block px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:i})}function Nz({element:e}){const{content:t=""}=e.props,[n,a]=p.useState(!1),[i,c]=p.useState(!0),[u,d]=p.useState(t),m=p.useRef(null),h=ut.getState().updateElement;p.useEffect(()=>{n||d(t)},[t,n]),p.useEffect(()=>{n&&m.current&&(m.current.style.height="auto",m.current.style.height=Math.max(100,m.current.scrollHeight)+"px")},[u,n]);const g=v=>{v.stopPropagation(),n||(a(!0),setTimeout(()=>m.current?.focus(),0))},b=()=>{h(e.id,{props:{...e.props,content:u}}),a(!1)},y=v=>{v.key==="Escape"&&(v.preventDefault(),d(t),a(!1)),v.key==="Enter"&&(v.ctrlKey||v.metaKey)&&(v.preventDefault(),b())};return n?r.jsxs("div",{className:"border-2 border-blue-500 rounded overflow-hidden","data-component":"HtmlElement","data-element-id":e.id,"data-is-editing":"true",children:[r.jsxs("div",{className:"bg-gray-800 px-3 py-2 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vt,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-300 font-mono",children:"HTML Block"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>c(!i),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors",i?"bg-gray-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[i?r.jsx(Zu,{className:"w-3 h-3"}):r.jsx($o,{className:"w-3 h-3"}),i?"Hide Preview":"Show Preview"]}),r.jsxs("button",{onClick:b,className:"flex items-center gap-1 bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition-colors",children:[r.jsx(Ki,{className:"w-3 h-3"}),"Save"]})]})]}),r.jsxs("div",{className:pe("flex",i?"flex-row":"flex-col"),children:[r.jsx("div",{className:pe("bg-gray-900",i?"w-1/2":"w-full"),children:r.jsx("textarea",{ref:m,value:u,onChange:v=>d(v.target.value),onKeyDown:y,className:"w-full min-h-[100px] bg-gray-900 text-gray-100 font-mono text-sm p-3 border-0 outline-none resize-none",placeholder:"Enter your HTML code here...",spellCheck:!1})}),i&&r.jsxs("div",{className:"w-1/2 bg-white border-l border-gray-700",children:[r.jsx("div",{className:"bg-gray-100 px-3 py-1 text-xs text-gray-500 border-b",children:"Preview"}),r.jsx("div",{className:"p-3 prose max-w-none min-h-[100px]",children:u?r.jsx("div",{dangerouslySetInnerHTML:{__html:u}}):r.jsx("span",{className:"text-gray-400",children:"Preview will appear here..."})})]})]}),r.jsx("div",{className:"bg-gray-800 px-3 py-1 text-xs text-gray-500 text-center",children:"Ctrl+Enter to save | ESC to cancel"})]}):r.jsxs("div",{onClick:g,className:"relative cursor-pointer group min-h-[40px]","data-component":"HtmlElement","data-element-id":e.id,children:[r.jsxs("div",{className:"absolute top-1 right-1 bg-gray-700 text-white text-xs px-1.5 py-0.5 rounded opacity-60 group-hover:opacity-100 flex items-center gap-1 z-10",children:[r.jsx(Vt,{className:"w-3 h-3"}),r.jsx("span",{children:"HTML"})]}),t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsx("div",{className:"text-gray-400 text-center py-4 border-2 border-dashed border-gray-300 rounded",children:"Click to add HTML code"}),r.jsx("div",{className:"absolute inset-0 bg-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:"Click to edit HTML"})})]})}const kz={emailWrapper:cz,emailContainer:uz,section:dz,text:pz,button:mz,image:hz,spacer:gz,divider:xz,columns:yz,social:wz,formData:jz,html:Nz};function Cz({element:e,renderElements:t,isSelected:n,isHovered:a=!1,onElementUpdate:i,onCapabilityAction:c,onEdit:u,isMobile:d}){const m=kz[e.type];return m?r.jsx(iz,{element:e,isSelected:n,isHovered:a,renderElements:t,onElementUpdate:i,onCapabilityAction:c,onEdit:u,isMobile:d,children:r.jsx(m,{element:e,renderElements:t})}):r.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm",children:["Unknown element type: ",e.type]})}function jy({element:e,index:t,parentId:n,isSelected:a,onSelect:i,renderElements:c,isMobile:u}){const[d,m]=p.useState(!1),{deleteElement:h,editingTextElementId:g}=Uo(),y=xf(e.type).layout?.isSystemElement,{attributes:v,listeners:C,setNodeRef:N,transform:k,transition:_,isDragging:S}=Ud({id:e.id,disabled:y,data:{type:"canvas-element",elementId:e.id,parentId:n,position:t}}),w={transform:gr.Transform.toString(k),transition:_,opacity:S?.5:void 0},R=U=>{U.stopPropagation(),confirm("Are you sure you want to delete this element?")&&h(e.id)},M=U=>{U.stopPropagation(),i(),e.type==="text"&&setTimeout(()=>{const V=U.target.closest('[data-component="SortableElement"]')?.querySelector('[data-component="TextElement"]');V&&V.click()},50)},I=U=>{if(e.type==="emailWrapper"){U.stopPropagation();return}if(e.type==="emailContainer"){const V=U.currentTarget.getBoundingClientRect(),oe=U.clientX,de=parseInt(e.props?.width||"600px"),Ne=V.left+(V.width-de)/2,re=Ne+de;oe>=Ne&&oe<=re&&(U.stopPropagation(),i());return}U.stopPropagation(),i()},O=(U,V,oe)=>{console.log("Element update:",U,V,oe)},P=(U,V,oe)=>{console.log("Capability action:",U,V,oe)};return r.jsxs("div",{ref:N,style:w,className:pe("relative group transition-all duration-200",S&&"z-50",y&&"cursor-default"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),"data-component":"SortableElement","data-element-type":e.type,"data-element-id":e.id,"data-is-system":y?"true":"false","data-is-sortable":y?"false":"true","data-is-selected":a?"true":"false","data-is-hovered":d?"true":"false","data-is-dragging":S?"true":"false",children:[d&&!S&&!y&&g!==e.id&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:r.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[r.jsx("button",{onClick:M,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Edit element",children:r.jsx(pr,{className:"w-5 h-5 text-gray-700"})}),r.jsx("button",{onClick:R,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Delete element",children:r.jsx(Gn,{className:"w-5 h-5 text-red-600"})}),r.jsx("button",{...C,...v,"data-drag-handle":"true",className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110 cursor-move",title:"Drag to reposition",children:r.jsx(ll,{className:"w-5 h-5 text-gray-700"})})]})}),r.jsx("div",{onClick:I,className:"cursor-pointer transition-all",children:r.jsx(Cz,{element:e,renderElements:c,isSelected:a,isHovered:d&&!S,onElementUpdate:O,isMobile:u,onCapabilityAction:P,onEdit:M})})]})}function Ez({isMobile:e=!1}){const{elements:t,isDragging:n,selectElement:a,selectedElementId:i,setElements:c}=Uo();De.useEffect(()=>{(!t||t.length===0)&&c([])},[t,c]);const u=(h,g=null)=>{if(!h||h.length===0)return g?null:r.jsx(d,{parentId:null,position:0,children:r.jsxs("div",{className:"py-12 text-center text-gray-400",children:[r.jsx("svg",{className:"w-10 h-10 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("p",{className:"text-sm",children:"Drag elements here to start building"})]})});const b=h.filter(C=>C.type!=="emailWrapper"&&C.type!=="emailContainer").map(C=>C.id),y=h.filter(C=>C.type==="emailWrapper"||C.type==="emailContainer"),v=h.filter(C=>C.type!=="emailWrapper"&&C.type!=="emailContainer");return r.jsxs(r.Fragment,{children:[y.map(C=>r.jsx("div",{className:"system-element-container",children:r.jsx(jy,{element:C,index:0,parentId:g,isSelected:i===C.id,onSelect:()=>a(C.id),renderElements:u,isMobile:e})},C.id)),r.jsxs(Bd,{items:b,strategy:Wd,children:[r.jsx(d,{parentId:g,position:0,elementCount:v.length}),v.map((C,N)=>r.jsxs(De.Fragment,{children:[r.jsx(jy,{element:C,index:N,parentId:g,isSelected:i===C.id,onSelect:()=>a(C.id),renderElements:u,isMobile:e}),r.jsx(d,{parentId:g,position:N+1,elementCount:v.length})]},C.id))]})]})};function d({parentId:h,position:g,children:b,elementCount:y=0}){const{setNodeRef:v,isOver:C}=Qn({id:`dropzone-${h||"root"}-${g}`,data:{parentId:h,position:g,type:"dropzone"}}),N=!h||g===0&&h&&h.includes("email-wrapper");return r.jsxs("div",{ref:v,className:pe(N?"min-h-0":"min-h-[4px]","transition-all relative",!N&&n&&"min-h-[8px]",!N&&C&&"min-h-[30px]"),"data-component":"DropZone","data-parent-id":h||"root","data-position":g,"data-is-over":C?"true":"false","data-should-hide":N?"true":"false",children:[!N&&C&&r.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 h-1 bg-blue-500 rounded"}),b]})}const m=h=>{h.target===h.currentTarget&&a(null)};return r.jsx("div",{className:pe("min-h-[100px] transition-colors",n&&"bg-gray-50"),onClick:m,children:u(t)})}function Ny(){const{activeEmailId:e,emails:t}=Ns(),n=t.find(y=>y.id===e),[a,i]=p.useState("dummy"),[c,u]=p.useState(""),[d,m]=p.useState(()=>window.sfuiData?.currentUserEmail||""),[h,g]=p.useState({type:null,message:""}),b=p.useCallback(async()=>{if(!d){g({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)){g({type:"error",message:"Please enter a valid email address"});return}if(!n){g({type:"error",message:"No email selected"});return}const{formId:v,ajaxUrl:C,nonce:N}=window.sfuiData||{};if(!C||!N){g({type:"error",message:"WordPress context not available"});return}g({type:"loading",message:"Sending test email..."});try{const k={from:n.from_email||"",from_name:n.from_name||"",reply:n.reply_to?.email||"",reply_name:n.reply_to?.name||"",cc:n.cc||"",bcc:n.bcc||"",subject:n.subject||"Test Email",body:n.body||"",attachments:n.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},_=new FormData;_.append("action","super_send_test_email"),_.append("nonce",N),_.append("form_id",v||0),_.append("data_type",a),_.append("entry_id",a==="entry"?c:""),_.append("test_recipient",d),Object.entries(k).forEach(([R,M])=>{Array.isArray(M)?M.forEach((I,O)=>{_.append(`email_settings[${R}][${O}]`,I)}):_.append(`email_settings[${R}]`,M)});const w=await(await fetch(C,{method:"POST",body:_,credentials:"same-origin"})).json();w.success?(g({type:"success",message:w.data?.message||"Test email sent!"}),setTimeout(()=>g({type:null,message:""}),5e3)):g({type:"error",message:w.data?.message||"Failed to send test email"})}catch(k){console.error("Test email error:",k),g({type:"error",message:"Network error - please try again"})}},[n,a,c,d]);return n?r.jsx("div",{"data-testid":"test-email-bar",className:"bg-gray-50 border-t border-b border-gray-200 px-4 py-2",children:r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("div",{"data-testid":"data-source-section",className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Test Data:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{"data-testid":"dummy-data-radio",type:"radio",name:"dataType",value:"dummy",checked:a==="dummy",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Dummy data"})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{"data-testid":"entry-data-radio",type:"radio",name:"dataType",value:"entry",checked:a==="entry",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Entry data"})]})]})]}),a==="entry"&&r.jsx("div",{"data-testid":"entry-id-section",className:"flex items-center gap-2",children:r.jsx("input",{"data-testid":"entry-id-input",type:"text",value:c,onChange:y=>u(y.target.value),placeholder:"Entry ID (empty = latest)",className:"w-40 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{"data-testid":"send-section",className:"flex items-center gap-2",children:[r.jsx("input",{"data-testid":"recipient-input",type:"email",value:d,onChange:y=>m(y.target.value),placeholder:"recipient@example.com",className:"w-52 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),r.jsxs("button",{"data-testid":"send-test-btn",type:"button",onClick:b,disabled:h.type==="loading",className:pe("inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded transition-colors",h.type==="loading"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-500 text-white hover:bg-primary-600"),children:[h.type==="loading"?r.jsx(ul,{className:"w-4 h-4 animate-spin"}):r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Send Test"})]})]}),h.type&&h.type!=="loading"&&r.jsxs("div",{"data-testid":"status-message",className:pe("flex items-center gap-1.5 text-sm",h.type==="success"&&"text-green-600",h.type==="error"&&"text-red-600"),children:[h.type==="success"&&r.jsx(Xi,{className:"w-4 h-4"}),h.type==="error"&&r.jsx(Do,{className:"w-4 h-4"}),r.jsx("span",{children:h.message})]})]})}):null}const ky=[{id:"desktop",name:"Desktop",icon:Ra,component:mf},{id:"mobile",name:"Mobile",icon:Ta,component:mf}];function Sz({value:e,onChange:t}){const[n,a]=p.useState(e||"");p.useEffect(()=>{a(e||"")},[e]);const i=c=>{const u=c.target.value;a(u),clearTimeout(window.htmlEditorTimeout),window.htmlEditorTimeout=setTimeout(()=>{t(u)},300)};return r.jsxs("div",{className:"min-h-[300px] bg-gray-900 rounded overflow-hidden",children:[r.jsx("div",{className:"bg-gray-800 px-3 py-2 text-xs text-gray-400 border-b border-gray-700 font-mono",children:"HTML Source"}),r.jsx("textarea",{value:n,onChange:i,className:"w-full min-h-[300px] bg-gray-900 text-gray-100 font-mono text-sm p-4 border-0 outline-none resize-y",placeholder:"Enter your HTML email content here...",spellCheck:!1})]})}function _z(){const[e,t]=p.useState("desktop"),[n,a]=p.useState(null),[i,c]=p.useState(!1),{activeEmailId:u,emails:d,updateEmailField:m,activeLanguage:h,translations:g,setActiveLanguage:b}=Ns(),{elements:y,setElements:v,isDragging:C,draggedElement:N,startDrag:k,endDrag:_,addElement:S,moveElement:w,generateHtml:R,elementTypes:M}=Uo(),I=d.find(ae=>ae.id===u),O=ky.find(ae=>ae.id===e)?.component||mf,P=I?.body_type==="html";p.useEffect(()=>{I&&!P&&(I.template&&typeof I.template=="object"&&I.template.elements?v(I.template.elements):v([]))},[I,v,P]),p.useEffect(()=>{if(I&&!P&&y.length>0){const ae=R(),ne=setTimeout(()=>{m(u,"template",{elements:y,html:ae}),m(u,"body",ae)},500);return()=>clearTimeout(ne)}},[y,I,u,R,m,P]);const U=p.useCallback(ae=>{ae==="html"&&!P?a({title:"Switch to HTML Mode",message:"Your visual elements will be converted to raw HTML code. You can edit the HTML directly.",confirmText:"Switch to HTML",onConfirm:()=>{const ne=R();m(u,"body",ne),m(u,"body_type","html"),a(null)},onCancel:()=>a(null)}):ae==="visual"&&P&&a({title:"Switch to Visual Mode",message:"Your HTML content will be placed in an editable HTML block within the visual builder.",confirmText:"Switch to Visual",onConfirm:()=>{const F=[{id:$n(),type:"html",props:{content:I.body||""},children:[]}];m(u,"body_type","visual"),m(u,"template",{elements:F,html:I.body||""}),v(F),a(null)},onCancel:()=>a(null)})},[P,u,I,R,m,v]),V=ae=>{const{active:ne,over:F}=ae;if(!F){_();return}const K=ne.data.current,G=F.data.current;if(K.type==="new-element"){const z=G?.position!==void 0?G.position:null,T=G?.parentId||null;S(K.elementType,T,z)}else if(K.type==="canvas-element"&&ne.id!==F.id){const z=G?.position!==void 0?G.position:null,T=G?.parentId||null;w(ne.id,T,z)}_()},oe=ae=>{const{active:ne}=ae,F=ne.data.current;if(F.type==="new-element"){const K=Uo.getState().elementTypes[F.elementType];k(K)}};if(!I)return r.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Select an email to preview"})]})});const de={...I,body:P?I.body:y.length>0?R():I.body},Ne=r.jsx("div",{"data-testid":"email-builder-header",className:"bg-white border-b border-gray-200 px-4 py-2 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{"data-testid":"header-left",className:"flex items-center gap-3",children:[r.jsxs("div",{"data-testid":"email-title-section",className:"flex items-center gap-2",children:[r.jsx(_s,{"data-testid":"email-description-field",value:I.description,onChange:ae=>m(u,"description",ae),placeholder:"Untitled Email",className:"text-sm font-medium text-gray-700",showEditIcon:!0}),r.jsx("span",{"data-testid":"mode-badge",className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:P?"HTML":"Visual"})]}),g&&Object.keys(g).length>0&&r.jsxs("div",{"data-testid":"language-selector",className:"flex items-center gap-2",children:[r.jsx(Yu,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{"data-testid":"language-dropdown",value:h,onChange:ae=>b(ae.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:[r.jsx("option",{value:"default",children:"Default"}),Object.entries(g).map(([ae,ne])=>r.jsx("option",{value:ae,children:ne.name||ae},ae))]})]})]}),r.jsx("div",{"data-testid":"viewport-toggle",className:"flex gap-2",children:ky.map(ae=>r.jsxs(xr,{"data-testid":"viewport-"+ae.id+"-btn",variant:"unstyled",size:"sm",onClick:()=>t(ae.id),className:pe("hover:text-primary-600",e===ae.id?"text-primary-600":"text-gray-500"),children:[r.jsx(ae.icon,{className:"w-4 h-4"}),r.jsx("span",{children:ae.name})]},ae.id))})]})}),re=n&&r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center overflow-x-hidden overflow-y-auto bg-black/50",children:r.jsxs("div",{className:"bg-white border border-gray-200 shadow-lg rounded-xl max-w-lg w-full mx-4",children:[r.jsx("div",{className:"flex justify-between items-center py-3 px-4 border-b border-gray-200",children:r.jsx("h3",{className:"font-bold text-gray-800",children:n.title})}),r.jsx("div",{className:"p-4",children:r.jsx("p",{className:"text-gray-600",children:n.message})}),r.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:n.onCancel,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"button",onClick:n.onConfirm,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700",children:n.confirmText})]})]})}),ke=()=>P?r.jsx(Sz,{value:I.body,onChange:ae=>m(u,"body",ae)}):r.jsx(Ez,{isMobile:e==="mobile"});return P?r.jsxs("div",{"data-testid":"email-builder-html",className:"h-full flex flex-col bg-gray-100",children:[Ne,re,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(O,{email:de,isMobile:e==="mobile",isBuilder:!0,renderBody:ke,updateEmailField:m,activeEmailId:u,isHtmlMode:P,onModeChange:U,onShowTestEmail:()=>c(!0)})}),i&&r.jsx(Ny,{})]})]}):r.jsxs(Ad,{collisionDetection:Sd,onDragEnd:V,onDragStart:oe,children:[r.jsxs("div",{"data-testid":"email-builder-visual",className:"h-full flex flex-col bg-gray-100",children:[Ne,re,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(O,{email:de,isMobile:e==="mobile",isBuilder:!0,renderBody:ke,updateEmailField:m,activeEmailId:u,isHtmlMode:P,onModeChange:U,onShowTestEmail:()=>c(!0)})}),i&&r.jsx(Ny,{}),r.jsx("div",{"data-testid":"element-palette",className:"bg-white border-t",children:r.jsx(oz,{})})]})]}),r.jsx(Px,{children:N&&r.jsx("div",{className:"bg-white rounded shadow-lg p-3 opacity-90",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:N.icon}),r.jsx("span",{className:"text-sm font-medium",children:N.name})]})})})]})}function Rz({formId:e,emails:t,translations:n,ajaxUrl:a,nonce:i,i18n:c}){const{initializeStore:u,activeEmailId:d,isDirty:m,isSaving:h,save:g}=Ns();p.useEffect(()=>{const v=document.querySelector(".super-element-settings");v&&(v.style.display="none");const C=document.querySelector(".super-elements");C&&(C.style.display="none");const N=document.querySelector(".super-tabs-content");return N&&(N.style.width="100%",N.style.float="none"),()=>{v&&(v.style.display=""),C&&(C.style.display=""),N&&(N.style.width="",N.style.float="")}},[]),p.useEffect(()=>{u({emails:t,translations:n})},[]),p.useEffect(()=>{if(m&&!h){const v=setTimeout(()=>{b()},2e3);return()=>clearTimeout(v)}},[m]);const b=async()=>{if(!e||!a||!i)return console.log(" Development mode: Skipping WordPress save (no backend context)"),{success:!0};const v=await g(e,a,i);return v.success&&y(),v},y=()=>{const v=Ns.getState(),C=document.querySelector(".super-raw-code-emails-settings textarea");C&&(C.value=JSON.stringify(v.emails,null,2),C.dispatchEvent(new Event("change",{bubbles:!0})))};return r.jsxs("div",{"data-testid":"emails-tab",className:"sfui-emails-tab h-full",children:[r.jsxs("div",{className:"flex h-full gap-4",children:[r.jsx("div",{"data-testid":"email-list-sidebar",className:"w-64 flex-shrink-0",children:r.jsx(B4,{})}),r.jsx("div",{"data-testid":"email-builder-main",className:"flex-1 min-w-0",children:d?r.jsx("div",{"data-testid":"email-builder-container",className:"bg-white rounded-lg border border-gray-200 overflow-hidden h-full",style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:r.jsx(_z,{})}):r.jsx("div",{"data-testid":"email-placeholder",className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500 h-full flex items-center justify-center",children:r.jsxs("div",{children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"text-lg",children:c?.selectEmail||"Select an email to edit"})]})})})]}),(m||h)&&r.jsx("div",{"data-testid":"save-status",className:"absolute bottom-4 left-4 bg-white rounded-lg shadow-md px-4 py-2 flex items-center gap-2 z-10",children:h?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 text-primary-600",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"text-sm text-gray-600",children:c?.saving||"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Unsaved changes"})]})})]})}const zz=Object.freeze(Object.defineProperty({__proto__:null,default:Rz},Symbol.toStringTag,{value:"Module"})),uc=20,Cy=50;function Tz(){const[e,t]=p.useState([]),[n,a]=p.useState([]),[i,c]=p.useState([]),[u,d]=p.useState({x:0,y:0,zoom:1}),[m,h]=p.useState([]),[g,b]=p.useState([]),[y,v]=p.useState(null),[C,N]=p.useState(!1),[k,_]=p.useState(null),[S,w]=p.useState([]),[R,M]=p.useState(-1),I=p.useRef(1),O=p.useRef(1),P=p.useRef(1),U=p.useCallback((le,ue)=>({x:(le-u.x)/u.zoom,y:(ue-u.y)/u.zoom}),[u]),V=p.useCallback((le,ue)=>({x:le*u.zoom+u.x,y:ue*u.zoom+u.y}),[u]),oe=p.useCallback((le,ue)=>({x:Math.round(le/uc)*uc,y:Math.round(ue/uc)*uc}),[]),de=p.useCallback(()=>{const le={nodes:e,connections:n,groups:i,viewport:u};w(ue=>{const he=ue.slice(0,R+1);return he.push(le),he.length>Cy&&he.shift(),he}),M(ue=>Math.min(ue+1,Cy-1))},[e,n,i,u,R]),Ne=p.useCallback(()=>{if(R>0){const le=S[R-1];t(le.nodes),a(le.connections),c(le.groups),d(le.viewport),M(R-1)}},[S,R]),re=p.useCallback(()=>{if(R<S.length-1){const le=S[R+1];t(le.nodes),a(le.connections),c(le.groups),d(le.viewport),M(R+1)}},[S,R]),ke=p.useCallback((le,ue,he={})=>{const Me=oe(ue.x,ue.y),Xe={id:`node-${I.current++}`,type:le,position:Me,config:he,selected:!1,zIndex:e.length+1};return de(),t(We=>[...We,Xe]),Xe.id},[e,oe,de]),ae=p.useCallback((le,ue)=>{de(),t(he=>he.map(Me=>Me.id===le?{...Me,...ue}:Me))},[de]),ne=p.useCallback(le=>{de(),t(ue=>ue.filter(he=>he.id!==le)),a(ue=>ue.filter(he=>he.from!==le&&he.to!==le))},[de]),F=p.useCallback(le=>{de(),t(ue=>ue.filter(he=>!le.includes(he.id))),a(ue=>ue.filter(he=>!le.includes(he.from)&&!le.includes(he.to))),h([])},[de]),K=p.useCallback((le,ue,he,Me)=>{if(n.some(me=>me.from===le&&me.fromOutput===ue&&me.to===he&&me.toInput===Me))return null;const We={id:`conn-${O.current++}`,from:le,fromOutput:ue,to:he,toInput:Me,selected:!1};return de(),a(me=>[...me,We]),We.id},[n,de]),G=p.useCallback(le=>{de(),a(ue=>ue.filter(he=>he.id!==le))},[de]),z=p.useCallback((le,ue=!1)=>{h(ue?he=>he.includes(le)?he.filter(Me=>Me!==le):[...he,le]:[le]),t(he=>he.map(Me=>({...Me,selected:ue?Me.id===le?!Me.selected:Me.selected:Me.id===le})))},[]),T=p.useCallback(le=>{h(le),t(ue=>ue.map(he=>({...he,selected:le.includes(he.id)})))},[]),Y=p.useCallback(()=>{h([]),b([]),t(le=>le.map(ue=>({...ue,selected:!1}))),a(le=>le.map(ue=>({...ue,selected:!1})))},[]),q=p.useCallback((le,ue)=>{d(he=>({...he,x:he.x+le,y:he.y+ue}))},[]),Q=p.useCallback((le,ue,he)=>{d(Me=>{const Xe=le>0?1.05:.95,We=Math.max(.1,Math.min(3,Me.zoom*Xe));if(ue!==void 0&&he!==void 0){const me=We/Me.zoom,gt=ue-(ue-Me.x)*me,tt=he-(he-Me.y)*me;return{x:gt,y:tt,zoom:We}}return{...Me,zoom:We}})},[]),xe=p.useCallback(()=>{d({x:0,y:0,zoom:1})},[]),H=p.useCallback(le=>{t(le.nodes),a(le.connections),c(le.groups),d(le.viewport),w([le]),M(0),Y()},[Y]),ge=p.useCallback(()=>({nodes:e,connections:n,groups:i,viewport:u}),[e,n,i,u]),ze=p.useCallback(()=>{de(),t([]),a([]),c([]),Y()},[de,Y]),Se=p.useCallback((le,ue,he,Me)=>{if(le===he||n.find(gt=>gt.from===le&&gt.fromOutput===ue&&gt.to===he&&gt.toInput===Me))return!1;const We=new Set,me=(gt,tt)=>gt===tt?!0:We.has(gt)?!1:(We.add(gt),n.filter(kn=>kn.from===gt).some(kn=>me(kn.to,tt)));return!me(he,le)},[n]),rt=p.useCallback((le,ue)=>{console.log("Starting connection from:",le,ue),N(!0),_({nodeId:le,outputName:ue})},[]),Ze=p.useCallback((le,ue)=>{console.log("Ending connection to:",le,ue),k&&Se(k.nodeId,k.outputName,le,ue)&&(console.log("Creating connection:",k.nodeId,"->",le),K(k.nodeId,k.outputName,le,ue)),console.log("Setting isConnecting to false"),N(!1),_(null)},[k,Se,K]),ot=p.useCallback(()=>{console.log("Canceling connection"),N(!1),_(null)},[]),Ke=p.useCallback((le,ue,he=[])=>{const Me={id:`group-${P.current++}`,name:le,nodeIds:he,bounds:ue,color:"rgba(59, 130, 246, 0.3)",zIndex:-1};return c(Xe=>[...Xe,Me]),de(),Me.id},[de]),Ct=p.useCallback((le,ue)=>{c(he=>he.map(Me=>Me.id===le?{...Me,...ue}:Me))},[]),qt=p.useCallback(le=>{c(ue=>ue.filter(he=>he.id!==le)),de()},[de]),Jt=p.useCallback((le,ue,he,Me)=>{const Xe=i.find(We=>We.id===le);Xe&&(Me==="start"?t(We=>We.map(me=>({...me,isGroupDragging:Xe.nodeIds.includes(me.id),groupDragOffset:Xe.nodeIds.includes(me.id)?{x:0,y:0}:void 0}))):Me==="move"?t(We=>We.map(me=>Xe.nodeIds.includes(me.id)?{...me,groupDragOffset:{x:ue,y:he}}:me)):Me==="end"&&(t(We=>We.map(me=>Xe.nodeIds.includes(me.id)?{...me,position:{x:me.position.x+ue,y:me.position.y+he},isGroupDragging:!1,groupDragOffset:void 0}:me)),c(We=>We.map(me=>me.id===le?{...me,bounds:{...me.bounds,x:me.bounds.x+ue,y:me.bounds.y+he}}:me)),de()))},[i,de]),sn=p.useCallback(()=>{if(m.length<2)return null;const le=e.filter(Qe=>m.includes(Qe.id));if(le.length===0)return null;const ue=20,he=200,Me=100;let Xe=1/0,We=1/0,me=-1/0,gt=-1/0;le.forEach(Qe=>{Xe=Math.min(Xe,Qe.position.x),We=Math.min(We,Qe.position.y),me=Math.max(me,Qe.position.x+he),gt=Math.max(gt,Qe.position.y+Me)});const tt={x:Xe-ue,y:We-ue,width:me-Xe+ue*2,height:gt-We+ue*2};return Ke(`Group ${P.current}`,tt,m)},[m,e,Ke]);return{nodes:e,connections:n,groups:i,viewport:u,selectedNodes:m,selectedConnections:g,dragState:y,isConnecting:C,connectionStart:k,addNode:ke,updateNode:ae,deleteNode:ne,deleteNodes:F,selectNode:z,selectNodes:T,addConnection:K,deleteConnection:G,startConnection:rt,endConnection:Ze,cancelConnection:ot,canConnect:Se,clearSelection:Y,addGroup:Ke,updateGroup:Ct,removeGroup:qt,moveGroup:Jt,createGroupFromSelection:sn,panViewport:q,zoomViewport:Q,resetViewport:xe,screenToCanvas:U,canvasToScreen:V,snapToGrid:oe,undo:Ne,redo:re,canUndo:R>0,canRedo:R<S.length-1,loadWorkflow:H,exportWorkflow:ge,clearWorkflow:ze,setDragState:v}}const As={...{"form.submitted":{id:"form.submitted",name:"Form Submitted",category:"event",color:"#10b981",icon:n2,description:"Trigger when a form is submitted",inputs:[],outputs:["entry_data","form_data"],config:{scope:"all",formId:null,includeSpam:!1}},"form.spam_detected":{id:"form.spam_detected",name:"Spam Detected",category:"event",color:"#10b981",icon:Nh,description:"Trigger when spam is detected",inputs:[],outputs:["detection_details"],config:{scope:"all",formId:null,detectionMethods:[]}},"form.duplicate_detected":{id:"form.duplicate_detected",name:"Duplicate Detected",category:"event",color:"#10b981",icon:Do,description:"Trigger when duplicate submission detected",inputs:[],outputs:["duplicate_data"],config:{scope:"all",formId:null}},"entry.created":{id:"entry.created",name:"Entry Created",category:"event",color:"#10b981",icon:Xr,description:"Trigger after entry is saved to database",inputs:[],outputs:["entry_id","entry_data"],config:{scope:"all",formId:null}},"entry.updated":{id:"entry.updated",name:"Entry Updated",category:"event",color:"#10b981",icon:Po,description:"Trigger when entry data is modified",inputs:[],outputs:["entry_id","changes"],config:{scope:"all",formId:null}},"entry.status_changed":{id:"entry.status_changed",name:"Entry Status Changed",category:"event",color:"#10b981",icon:Po,description:"Trigger when entry status changes",inputs:[],outputs:["entry_id","old_status","new_status"],config:{scope:"all",formId:null}},"entry.deleted":{id:"entry.deleted",name:"Entry Deleted",category:"event",color:"#10b981",icon:_h,description:"Trigger when entry is deleted",inputs:[],outputs:["entry_id"],config:{scope:"all",formId:null}},"payment.stripe.payment_succeeded":{id:"payment.stripe.payment_succeeded",name:"Stripe Payment Success",category:"event",color:"#10b981",icon:Vu,description:"Trigger when Stripe payment succeeds",inputs:[],outputs:["payment_data"],config:{scope:"all"}},"payment.stripe.payment_failed":{id:"payment.stripe.payment_failed",name:"Stripe Payment Failed",category:"event",color:"#10b981",icon:Uu,description:"Trigger when Stripe payment fails",inputs:[],outputs:["error_data"],config:{scope:"all"}},"payment.paypal.capture_completed":{id:"payment.paypal.capture_completed",name:"PayPal Payment Complete",category:"event",color:"#10b981",icon:Fj,description:"Trigger when PayPal payment completes",inputs:[],outputs:["payment_data"],config:{scope:"all"}},"session.abandoned":{id:"session.abandoned",name:"Session Abandoned",category:"event",color:"#10b981",icon:qn,description:"Trigger when form session is abandoned",inputs:[],outputs:["session_data"],config:{scope:"all",formId:null,abandonTime:30}},"file.uploaded":{id:"file.uploaded",name:"File Uploaded",category:"event",color:"#10b981",icon:Io,description:"Trigger when file is uploaded",inputs:[],outputs:["file_data"],config:{scope:"all",formId:null}}},...{send_email:{id:"send_email",name:"Send Email",category:"action",color:"#3b82f6",icon:$r,description:"Send an email notification",inputs:["trigger"],outputs:["success"],config:{to:"",subject:"",body:"",bodyType:"html",from:"{admin_email}",replyTo:""}},http_request:{id:"http_request",name:"HTTP Request",category:"action",color:"#3b82f6",icon:Yu,description:"Make an HTTP API call",inputs:["trigger"],outputs:["response"],config:{url:"",method:"POST",headers:{},body:"",auth:"none"}},webhook:{id:"webhook",name:"Webhook",category:"action",color:"#3b82f6",icon:ml,description:"Send webhook notification",inputs:["trigger"],outputs:["success"],config:{url:"",method:"POST",headers:{},payload:""}},update_entry_status:{id:"update_entry_status",name:"Update Entry Status",category:"action",color:"#3b82f6",icon:Po,description:"Change entry status",inputs:["trigger"],outputs:["success"],config:{status:"approved"}},update_entry_field:{id:"update_entry_field",name:"Update Entry Field",category:"action",color:"#3b82f6",icon:Xr,description:"Modify entry field value",inputs:["trigger"],outputs:["success"],config:{fieldName:"",value:""}},delete_entry:{id:"delete_entry",name:"Delete Entry",category:"action",color:"#3b82f6",icon:_h,description:"Delete the entry",inputs:["trigger"],outputs:["success"],config:{}},create_post:{id:"create_post",name:"Create Post",category:"action",color:"#3b82f6",icon:Xr,description:"Create WordPress post",inputs:["trigger"],outputs:["post_id"],config:{postType:"post",postStatus:"publish",postTitle:"",postContent:""}},delay_execution:{id:"delay_execution",name:"Delay",category:"action",color:"#3b82f6",icon:Jj,description:"Delay execution for specified time",inputs:["trigger"],outputs:["continue"],config:{duration:60,unit:"minutes"}},abort_submission:{id:"abort_submission",name:"Abort Submission",category:"action",color:"#3b82f6",icon:Uu,description:"Stop form submission",inputs:["trigger"],outputs:[],config:{message:"Submission rejected"}},stop_execution:{id:"stop_execution",name:"Stop Execution",category:"action",color:"#3b82f6",icon:Uu,description:"Stop trigger execution",inputs:["trigger"],outputs:[],config:{}},set_variable:{id:"set_variable",name:"Set Variable",category:"action",color:"#3b82f6",icon:Vt,description:"Set a context variable",inputs:["trigger"],outputs:["continue"],config:{variableName:"",value:""}},log_message:{id:"log_message",name:"Log Message",category:"action",color:"#3b82f6",icon:Xj,description:"Write to debug log",inputs:["trigger"],outputs:["continue"],config:{message:"",level:"info"}},"mailpoet.add_subscriber":{id:"mailpoet.add_subscriber",name:"MailPoet Subscribe",category:"action",color:"#3b82f6",icon:td,description:"Add subscriber to MailPoet",inputs:["trigger"],outputs:["success"],config:{listIds:[],email:"{email}",firstName:"{first_name}",lastName:"{last_name}"}},"woocommerce.add_to_cart":{id:"woocommerce.add_to_cart",name:"WooCommerce Add to Cart",category:"action",color:"#3b82f6",icon:a2,description:"Add product to cart",inputs:["trigger"],outputs:["cart_data"],config:{productId:"",quantity:1}}},...{conditional_action:{id:"conditional_action",name:"If Condition",category:"condition",color:"#f97316",icon:ph,description:"Branch based on conditions",inputs:["trigger"],outputs:["true","false"],config:{operator:"AND",rules:[]}},condition_group:{id:"condition_group",name:"Condition Group",category:"condition",color:"#f97316",icon:fh,description:"Group multiple conditions (AND/OR)",inputs:["trigger"],outputs:["true","false"],config:{operator:"AND",rules:[]}}}};function Dz(e){return Object.values(As).filter(t=>t.category===e)}function $z(e){return As[e]}const Pz=p.memo(function({node:t,selected:n,isDragging:a=!1,isConnecting:i=!1,connectionStart:c=null,onConnectionStart:u,onConnectionEnd:d}){const m=As[t.type];if(!m)return r.jsx("div",{"data-node-id":t.id,className:"absolute bg-red-100 border-2 border-red-500 rounded-lg p-4 z-30",style:{left:t.position.x,top:t.position.y,zIndex:t.zIndex},children:r.jsxs("p",{className:"text-sm text-red-600",children:["Unknown node: ",t.type]})});const h=m.icon,g=t.config._enabled!==!1,b={event:"border-green-500 bg-green-50",action:"border-blue-500 bg-blue-50",condition:"border-orange-500 bg-orange-50"}[m.category],y=n?"ring-4 ring-blue-300 shadow-xl scale-105":"shadow-md hover:shadow-lg hover:scale-[1.02]",v=a?"":"transition-all duration-200",C=i&&c?.nodeId!==t.id&&m.inputs.length>0,N=k=>{C&&d&&(k.preventDefault(),k.stopPropagation(),d(t.id,m.inputs[0]))};return r.jsxs("div",{"data-node-id":t.id,className:`absolute rounded-lg cursor-move select-none z-30 ${b} ${y} ${v}`,style:{left:t.position.x,top:t.position.y,width:200,zIndex:t.zIndex,border:C?"3px solid #3b82f6":"2px solid",boxShadow:C?"0 0 20px rgba(59, 130, 246, 0.4)":void 0},onMouseUp:N,children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 border-b border-current/20",children:[r.jsx(h,{className:"w-5 h-5 flex-shrink-0",style:{color:m.color}}),r.jsx("span",{className:"font-medium text-sm truncate",children:m.name})]}),r.jsx("div",{className:"p-3 text-xs text-gray-600 space-y-1",children:Object.keys(t.config).length>0?Object.entries(t.config).slice(0,2).map(([k,_])=>r.jsxs("div",{className:"truncate",children:[r.jsxs("span",{className:"font-medium",children:[k,":"]})," ",r.jsx("span",{className:"text-gray-500",children:typeof _=="string"&&_.length>20?_.substring(0,20)+"...":String(_)})]},k)):r.jsx("div",{className:"text-gray-400 italic",children:"Not configured"})}),m.inputs.length>0&&r.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2",style:{zIndex:100},children:m.inputs.map((k,_)=>r.jsxs("div",{style:{marginTop:_*20},className:"relative",children:[r.jsx("div",{"data-port-type":"input","data-port-name":k,className:"w-4 h-4 rounded-full bg-gray-400 border-2 border-white shadow-sm transition-all duration-150",style:{transform:i&&c?.nodeId!==t.id?"scale(1.3)":"scale(1)",backgroundColor:i&&c?.nodeId!==t.id?"#3b82f6":"#9ca3af",boxShadow:i&&c?.nodeId!==t.id?"0 0 12px rgba(59, 130, 246, 0.6)":void 0},title:`Input: ${k}`}),r.jsx("div",{className:"absolute w-6 h-6 -translate-x-1/2 -translate-y-1/2 cursor-pointer",style:{left:"50%",top:"50%",zIndex:30},onMouseDown:S=>{S.preventDefault(),S.stopPropagation()},onMouseUp:S=>{S.preventDefault(),S.stopPropagation(),i&&c?.nodeId!==t.id&&d&&d(t.id,k)}})]},k))}),m.outputs.length>0&&r.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2",style:{zIndex:100},children:m.outputs.map((k,_)=>r.jsx("div",{"data-port-type":"output","data-port-name":k,className:"w-4 h-4 rounded-full border-2 border-white shadow-sm cursor-pointer hover:scale-130 transition-all duration-150",style:{backgroundColor:m.color,marginTop:_*20},title:`Output: ${k}`,onMouseDown:S=>{S.preventDefault(),S.stopPropagation(),u&&u(t.id,k)},onMouseEnter:S=>{const w=S.currentTarget;w.style.transform="scale(1.3)",w.style.boxShadow=`0 0 12px ${m.color}99`},onMouseLeave:S=>{const w=S.currentTarget;w.style.transform="scale(1)",w.style.boxShadow=""}},k))}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500 animate-pulse":"bg-gray-400"}`,title:g?"Enabled":"Disabled"})}),!g&&r.jsx("div",{className:"absolute inset-0 bg-gray-200/50 rounded-lg pointer-events-none flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Paused"})})]})});function Mz({connections:e,nodes:t,viewport:n,selectedConnections:a,onConnectionClick:i,onDeleteConnection:c,isConnecting:u=!1,connectionStart:d=null}){const[m,h]=p.useState({x:0,y:0}),[g,b]=p.useState(null),y=p.useCallback((S,w,R=!1)=>{const M=t.find(de=>de.id===S);if(!M)return{x:0,y:0};const I=As[M.type];if(!I)return{x:0,y:0};const P=(R?I.outputs:I.inputs).findIndex(de=>de===w),U=200,V=100;return R?{x:M.position.x+U,y:M.position.y+V/2+P*20}:{x:M.position.x,y:M.position.y+V/2+P*20}},[t]),v=p.useCallback((S,w)=>{const R=w.x-S.x,M=Math.max(50,Math.abs(R)*.5),I=S.x+M,O=S.y,P=w.x-M,U=w.y;return`M ${S.x} ${S.y} C ${I} ${O}, ${P} ${U}, ${w.x} ${w.y}`},[]),C=p.useCallback((S,w)=>{let M=null,I=30;return t.forEach(O=>{if(O.id===d?.nodeId)return;const P=As[O.type];!P?.inputs||P.inputs.length===0||P.inputs.forEach(U=>{const V=y(O.id,U,!1),oe=Math.sqrt(Math.pow(S-V.x,2)+Math.pow(w-V.y,2));oe<I&&(I=oe,M={nodeId:O.id,inputName:U,position:V})})}),M},[t,d,y]);p.useEffect(()=>{if(!u)return;const S=w=>{const R=document.querySelector(".canvas-container");if(!R)return;const M=R.getBoundingClientRect(),I=(w.clientX-M.left-n.x)/n.zoom,O=(w.clientY-M.top-n.y)/n.zoom,P=C(I,O);h(P?P.position:{x:I,y:O})};return document.addEventListener("mousemove",S),()=>{document.removeEventListener("mousemove",S)}},[u,n,C]),p.useEffect(()=>{if(u&&d){const S=y(d.nodeId,d.outputName,!0);h(S)}},[u,d,y]);const N=p.useMemo(()=>e.map(S=>{const w=y(S.from,S.fromOutput,!0),R=y(S.to,S.toInput,!1);return{...S,path:v(w,R),startPos:w,endPos:R}}),[e,y,v]),k=p.useMemo(()=>{if(!u||!d)return null;const S=y(d.nodeId,d.outputName,!0),w={x:m.x,y:m.y};return v(S,w)},[u,d,y,v,m]),_=(S,w)=>{S.stopPropagation(),c?c(w):i?.(w)};return r.jsxs("svg",{className:"connection-overlay absolute pointer-events-none z-10",style:{left:0,top:0,width:"100%",height:"100%",overflow:"visible"},children:[r.jsxs("defs",{children:[r.jsxs("filter",{id:"electric-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),r.jsx("feGaussianBlur",{stdDeviation:"6",result:"outerGlow"}),r.jsx("feGaussianBlur",{stdDeviation:"12",result:"farGlow"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"farGlow"}),r.jsx("feMergeNode",{in:"outerGlow"}),r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("radialGradient",{id:"electric-light",cx:"50%",cy:"50%",r:"50%",children:[r.jsx("stop",{offset:"0%",style:{stopColor:"#ffffff",stopOpacity:1}}),r.jsx("stop",{offset:"30%",style:{stopColor:"#bfdbfe",stopOpacity:.9}}),r.jsx("stop",{offset:"60%",style:{stopColor:"#3b82f6",stopOpacity:.6}}),r.jsx("stop",{offset:"100%",style:{stopColor:"#1d4ed8",stopOpacity:0}})]}),r.jsxs("filter",{id:"glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("filter",{id:"hover-glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#6b7280"})}),r.jsx("marker",{id:"arrowhead-selected",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#3b82f6"})}),r.jsx("marker",{id:"arrowhead-hovered",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#ef4444"})}),r.jsx("marker",{id:"arrowhead-preview",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#10b981"})})]}),N.map(S=>{const w=a.includes(S.id),R=g===S.id;return r.jsxs("g",{onMouseEnter:()=>b(S.id),onMouseLeave:()=>b(null),children:[r.jsx("path",{d:S.path,stroke:"transparent",strokeWidth:"20",fill:"none",className:"pointer-events-auto cursor-pointer",onClick:M=>_(M,S.id)}),r.jsx("path",{d:S.path,stroke:w?"#3b82f6":R?"#ef4444":"#6b7280",strokeWidth:w?"3":"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",markerEnd:w?"url(#arrowhead-selected)":R?"url(#arrowhead-hovered)":"url(#arrowhead)",className:"pointer-events-none",style:{filter:w?"url(#glow)":R?"url(#hover-glow)":"none"}}),r.jsxs("g",{className:"pointer-events-none",children:[r.jsxs("ellipse",{rx:"10",ry:"3",fill:"url(#electric-light)",filter:"url(#electric-glow)",style:{opacity:.9},children:[r.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:S.path,rotate:"auto"}),r.jsx("animate",{attributeName:"opacity",values:"0.6;1;0.6",dur:"0.4s",repeatCount:"indefinite"})]}),r.jsxs("ellipse",{rx:"5",ry:"1.5",fill:"#ffffff",style:{opacity:.85},children:[r.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:S.path,rotate:"auto"}),r.jsx("animate",{attributeName:"opacity",values:"0.7;1;0.7",dur:"0.25s",repeatCount:"indefinite"})]})]}),r.jsx("text",{x:(S.startPos.x+S.endPos.x)/2,y:(S.startPos.y+S.endPos.y)/2-8,fill:R?"#ef4444":"#9ca3af",fontSize:"10",textAnchor:"middle",className:"pointer-events-none select-none",children:S.fromOutput}),R&&r.jsx("text",{x:(S.startPos.x+S.endPos.x)/2,y:(S.startPos.y+S.endPos.y)/2+12,fill:"#ef4444",fontSize:"9",textAnchor:"middle",className:"pointer-events-none select-none",style:{fontWeight:500},children:"Click to delete"})]},S.id)}),u&&k&&r.jsx("path",{d:k,stroke:"#10b981",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",markerEnd:"url(#arrowhead-preview)",className:"pointer-events-none",style:{animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]})}function Iz({group:e,viewport:t,nodes:n,isAnyNodeDragging:a=!1,onUpdateGroup:i,onRemoveGroup:c,onMoveGroup:u}){const{id:d,name:m,bounds:h,color:g}=e,[b,y]=p.useState(!1),[v,C]=p.useState(!1),[N,k]=p.useState(!1),[_,S]=p.useState(null),[w,R]=p.useState({x:0,y:0}),[M,I]=p.useState({width:0,height:0,x:0,y:0}),O=p.useRef({x:0,y:0}),P=p.useRef({width:0,height:0,x:0,y:0}),U=p.useRef({x:0,y:0,initialBounds:h}),V=p.useRef({x:0,y:0,initialBounds:h}),oe=p.useRef(h);p.useEffect(()=>{(h.x!==oe.current.x||h.y!==oe.current.y||h.width!==oe.current.width||h.height!==oe.current.height)&&!v&&!N&&((O.current.x!==0||O.current.y!==0)&&(R({x:0,y:0}),O.current={x:0,y:0}),(P.current.width!==0||P.current.height!==0||P.current.x!==0||P.current.y!==0)&&(I({width:0,height:0,x:0,y:0}),P.current={width:0,height:0,x:0,y:0})),oe.current=h},[h,v,N]);const de=ne=>{if(ne.type==="blur"||ne.key==="Enter"){const F=ne.target.value.trim();F&&F!==m&&i(d,{name:F}),ne.target.blur()}},Ne=ne=>{ne.stopPropagation(),c(d)},re=p.useCallback(ne=>{if(ne.target.tagName==="INPUT"||ne.target.tagName==="BUTTON")return;ne.stopPropagation(),ne.preventDefault(),C(!0),U.current={x:ne.clientX,y:ne.clientY,initialBounds:{...h}},u(d,0,0,"start");const F=G=>{if(!U.current.initialBounds)return;const z=(G.clientX-U.current.x)/t.zoom,T=(G.clientY-U.current.y)/t.zoom,Y=Math.round(z/20)*20,q=Math.round(T/20)*20,Q={x:Y,y:q};R(Q),O.current=Q,u(d,Y,q,"move")},K=()=>{const G=O.current;C(!1),(G.x!==0||G.y!==0)&&u(d,G.x,G.y,"end"),R({x:0,y:0}),O.current={x:0,y:0},U.current={x:0,y:0,initialBounds:h},document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",K)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",K)},[h,t.zoom,u,d]),ke=p.useCallback((ne,F)=>{ne.stopPropagation(),ne.preventDefault(),k(!0),S(F),V.current={x:ne.clientX,y:ne.clientY,initialBounds:{...h}};const K=z=>{if(!V.current.initialBounds)return;const T=(z.clientX-V.current.x)/t.zoom,Y=(z.clientY-V.current.y)/t.zoom,q=V.current.initialBounds;let Q={...q};if(F==="bottom-right")Q.width=Math.max(100,q.width+T),Q.height=Math.max(80,q.height+Y);else if(F==="bottom-left"){const H=Math.max(100,q.width-T),ge=H-q.width;Q.x=q.x-ge,Q.width=H,Q.height=Math.max(80,q.height+Y)}Q.x=Math.round(Q.x/20)*20,Q.y=Math.round(Q.y/20)*20,Q.width=Math.round(Q.width/20)*20,Q.height=Math.round(Q.height/20)*20;const xe={x:Q.x-h.x,y:Q.y-h.y,width:Q.width-h.width,height:Q.height-h.height};I(xe),P.current=xe},G=()=>{const z=P.current;if(k(!1),S(null),z.width!==0||z.height!==0||z.x!==0||z.y!==0){const T={x:h.x+z.x,y:h.y+z.y,width:h.width+z.width,height:h.height+z.height},Y=n.filter(q=>{const Q=q.position.x+200,xe=q.position.y+100;return q.position.x>=T.x&&Q<=T.x+T.width&&q.position.y>=T.y&&xe<=T.y+T.height});i(d,{bounds:T,nodeIds:Y.map(q=>q.id)})}I({width:0,height:0,x:0,y:0}),P.current={width:0,height:0,x:0,y:0},V.current={x:0,y:0,initialBounds:h},document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",G)};document.addEventListener("mousemove",K),document.addEventListener("mouseup",G)},[h,t.zoom,i,d,n]),ae=n&&e.nodeIds.some(ne=>{const F=n.find(K=>K.id===ne);return F&&F.isGroupDragging});return r.jsxs("div",{className:`absolute rounded-lg border group-container ${v||N||ae||a?"":"transition-all duration-200"}`,style:{left:h.x+w.x+M.x,top:h.y+w.y+M.y,width:h.width+M.width,height:h.height+M.height,borderColor:g||"rgba(59, 130, 246, 0.3)",backgroundColor:"rgba(59, 130, 246, 0.05)",borderStyle:"dashed",borderWidth:"2px",zIndex:e.zIndex||-1,pointerEvents:"auto"},onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[r.jsxs("div",{className:"absolute -top-7 left-0 flex items-center gap-1 pointer-events-auto",style:{zIndex:1},children:[r.jsx("div",{className:`cursor-move px-1 py-1 rounded text-center transition-all duration-200 flex items-center justify-center ${b?"bg-blue-100 border border-blue-300":"bg-transparent border border-transparent"}`,style:{width:"24px",height:"24px"},onMouseDown:re,title:"Drag to move group",children:r.jsx("span",{className:"text-blue-500 text-sm leading-none",children:""})}),r.jsx("input",{type:"text",defaultValue:m,className:`text-gray-700 text-sm px-2 py-1 rounded min-w-0 transition-all duration-200 outline-none ${b?"border border-blue-300 bg-blue-50":"border border-transparent bg-transparent"}`,style:{height:"24px",minWidth:"80px"},onKeyDown:de,onBlur:de,onClick:ne=>ne.stopPropagation(),onMouseDown:ne=>ne.stopPropagation()}),r.jsx("button",{onClick:Ne,onMouseDown:ne=>ne.stopPropagation(),className:`text-red-400 hover:text-red-500 text-sm px-1 py-1 rounded transition-all duration-200 flex items-center justify-center ${b?"border border-red-300 bg-red-50 opacity-100":"border border-transparent bg-transparent opacity-0"}`,style:{width:"24px",height:"24px"},title:"Delete group",children:""})]}),b&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize bg-blue-200 border border-blue-400 rounded-tl-lg",style:{transform:"translate(2px, 2px)",zIndex:2},onMouseDown:ne=>ke(ne,"bottom-right"),title:"Resize group",children:r.jsx("div",{className:"absolute inset-1 border-r border-b border-blue-500"})}),r.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 cursor-ne-resize bg-blue-200 border border-blue-400 rounded-tr-lg",style:{transform:"translate(-2px, 2px)",zIndex:2},onMouseDown:ne=>ke(ne,"bottom-left"),title:"Resize group",children:r.jsx("div",{className:"absolute inset-1 border-l border-b border-blue-500"})})]}),v&&r.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 rounded-lg border-2 border-blue-400 border-opacity-50 pointer-events-none"}),N&&r.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 rounded-lg border-2 border-blue-400 border-opacity-50 pointer-events-none"})]})}function Lz({nodes:e,connections:t,groups:n,viewport:a,selectedNodes:i,selectedConnections:c,onNodeClick:u,onNodeDragStart:d,onNodeDrag:m,onNodeDragEnd:h,onCanvasPan:g,onCanvasClick:b,onZoom:y,dragState:v,setDragState:C,isConnecting:N=!1,connectionStart:k=null,onConnectionStart:_,onConnectionEnd:S,onConnectionDropOnCanvas:w,onConnectionClick:R,onDeleteConnection:M,onCancelConnection:I,onSelectNodesInRect:O,onUpdateGroup:P,onRemoveGroup:U,onMoveGroup:V}){const oe=p.useRef(null),de=p.useRef(!1),Ne=p.useRef({x:0,y:0}),re=p.useRef({startPos:{x:0,y:0},initialViewport:{x:0,y:0,zoom:1},initialNodePositions:new Map}),ke=p.useCallback(z=>{if(z.button!==0)return;const T=z.target,Y={x:z.clientX,y:z.clientY};re.current.startPos=Y,re.current.initialViewport={...a};const q=T.closest("[data-node-id]");if(q){const Q=q.getAttribute("data-node-id"),xe=z.shiftKey||z.metaKey||z.ctrlKey;u(Q,xe);const H=i.includes(Q)?i:[Q];re.current.initialNodePositions.clear(),H.forEach(ge=>{const ze=e.find(Se=>Se.id===ge);ze&&re.current.initialNodePositions.set(ge,{...ze.position})}),de.current=!0,Ne.current=Y,d(Q,z.clientX,z.clientY),C({type:"node",startX:z.clientX,startY:z.clientY,currentX:z.clientX,currentY:z.clientY,nodeId:Q});return}if(z.ctrlKey||z.metaKey){de.current=!0,Ne.current=Y,C({type:"selection",startX:z.clientX,startY:z.clientY,currentX:z.clientX,currentY:z.clientY});return}de.current=!0,Ne.current=Y,C({type:"viewport",startX:z.clientX,startY:z.clientY,currentX:z.clientX,currentY:z.clientY})},[u,d,C,a,i,e]),ae=p.useCallback(z=>{if(!de.current||!v)return;const T={x:z.clientX,y:z.clientY},Y=T.x-re.current.startPos.x,q=T.y-re.current.startPos.y;if(v.type==="node"){const Q=re.current.initialViewport.zoom;re.current.initialNodePositions.forEach((xe,H)=>{const ge={x:xe.x+Y/Q,y:xe.y+q/Q};ge.x=Math.round(ge.x/20)*20,ge.y=Math.round(ge.y/20)*20,m(H,ge)})}else if(v.type==="viewport"){const Q={x:re.current.initialViewport.x+Y,y:re.current.initialViewport.y+q};g(Q.x-a.x,Q.y-a.y)}Ne.current=T,C({...v,currentX:z.clientX,currentY:z.clientY})},[v,e,m,g,C]),ne=p.useCallback(z=>{if(N&&w){const T=z.target,Y=T.closest("[data-node-id]"),q=T.closest("[data-port-type]");if(!Y&&!q){const Q=oe.current?.getBoundingClientRect();if(Q){const xe=(z.clientX-Q.left-a.x)/a.zoom,H=(z.clientY-Q.top-a.y)/a.zoom;w({x:xe,y:H})}}}if(de.current){if(de.current=!1,v?.type==="node")h();else if(v?.type==="selection"&&O){const T=oe.current?.getBoundingClientRect();if(T){const Y=(v.startX-T.left-a.x)/a.zoom,q=(v.startY-T.top-a.y)/a.zoom,Q=(v.currentX-T.left-a.x)/a.zoom,xe=(v.currentY-T.top-a.y)/a.zoom,H={x:Math.min(Y,Q),y:Math.min(q,xe),width:Math.abs(Q-Y),height:Math.abs(xe-q)},ge=e.filter(ze=>{const Ze=ze.position.x+200,ot=ze.position.y+100;return ze.position.x<H.x+H.width&&Ze>H.x&&ze.position.y<H.y+H.height&&ot>H.y});ge.length>0&&O(ge.map(ze=>ze.id))}}C(null)}},[v,h,C,N,w,a,e,O]),F=p.useCallback(z=>{const T=z.target;(T===oe.current||T.closest(".canvas-grid"))&&b()},[b]),K=p.useCallback(z=>{z.preventDefault();const T=oe.current?.getBoundingClientRect();if(!T)return;const Y=z.clientX-T.left,q=z.clientY-T.top;y(z.deltaY>0?-1:1,Y,q)},[y]),G=p.useCallback(z=>{if(z)return z.addEventListener("wheel",K,{passive:!1}),()=>{z.removeEventListener("wheel",K)}},[K]);return p.useEffect(()=>{const z=T=>{T.key==="Escape"&&N&&I&&(T.preventDefault(),I())};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[N,I]),r.jsxs("div",{ref:z=>{oe.current=z,G(z)},className:"canvas-container relative w-full h-full bg-gray-50 cursor-grab active:cursor-grabbing",onMouseDown:ke,onMouseMove:ae,onMouseUp:ne,onMouseLeave:ne,onClick:F,children:[r.jsx("div",{className:"canvas-grid absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(156, 163, 175, 0.4) 1px, transparent 0)",backgroundSize:`${20*a.zoom}px ${20*a.zoom}px`,backgroundPosition:`${a.x}px ${a.y}px`}}),r.jsxs("div",{className:"nodes-layer absolute inset-0",style:{transform:`translate(${a.x}px, ${a.y}px) scale(${a.zoom})`,transformOrigin:"0 0"},children:[n.map(z=>r.jsx(Iz,{group:z,viewport:a,nodes:e,isAnyNodeDragging:v?.type==="node",onUpdateGroup:P||(()=>{}),onRemoveGroup:U||(()=>{}),onMoveGroup:V||(()=>{})},z.id)),r.jsx(Mz,{connections:t,nodes:e,viewport:a,selectedConnections:c,onConnectionClick:R,onDeleteConnection:M,isConnecting:N,connectionStart:k}),e.map(z=>r.jsx(Pz,{node:z,selected:i.includes(z.id),isDragging:v?.type==="node"&&v.nodeId===z.id,isConnecting:N,connectionStart:k,onConnectionStart:_,onConnectionEnd:S},z.id))]}),v?.type==="selection"&&r.jsx("div",{className:"absolute border-2 border-blue-500 bg-blue-500/10 pointer-events-none z-40",style:{left:Math.min(v.startX,v.currentX)-(oe.current?.getBoundingClientRect().left||0),top:Math.min(v.startY,v.currentY)-(oe.current?.getBoundingClientRect().top||0),width:Math.abs(v.currentX-v.startX),height:Math.abs(v.currentY-v.startY)}}),N&&r.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),r.jsx("span",{className:"text-sm font-medium",children:"Drag to a node input port to connect  Press Escape to cancel"})]}),r.jsxs("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2 bg-white rounded-lg shadow-lg p-2",children:[r.jsx("button",{onClick:()=>y(.1),className:"px-3 py-2 hover:bg-gray-100 rounded text-sm font-medium",title:"Zoom in",children:"+"}),r.jsx("button",{onClick:()=>y(-.1),className:"px-3 py-2 hover:bg-gray-100 rounded text-sm font-medium",title:"Zoom out",children:""}),r.jsxs("button",{onClick:()=>y(0),className:"px-3 py-2 hover:bg-gray-100 rounded text-xs",title:"Reset zoom",children:[Math.round(a.zoom*100),"%"]})]})]})}const Oz=[{id:"event",name:"Events",icon:hl,color:"#10b981"},{id:"action",name:"Actions",icon:Ju,color:"#3b82f6"},{id:"condition",name:"Conditions",icon:ph,color:"#f97316"}];function Az({onAddNode:e}){const[t,n]=p.useState("event"),[a,i]=p.useState(""),u=(()=>{const h=Dz(t);if(!a)return h;const g=a.toLowerCase();return h.filter(b=>b.name.toLowerCase().includes(g)||b.description.toLowerCase().includes(g))})(),d=(h,g)=>{h.dataTransfer.setData("application/super-forms-node",g.id),h.dataTransfer.effectAllowed="copy"},m=h=>{e(h.id,{x:Math.random()*200+100,y:Math.random()*200+100})};return r.jsxs("div",{className:"node-palette flex flex-col h-full bg-white border-r border-gray-200",children:[r.jsxs("div",{className:"p-3 border-b border-gray-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Node Library"}),r.jsxs("div",{className:"relative",children:[r.jsx(ms,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",value:a,onChange:h=>i(h.target.value),placeholder:"Search nodes...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsx("div",{className:"flex border-b border-gray-200",children:Oz.map(h=>{const g=h.icon,b=t===h.id;return r.jsx("button",{onClick:()=>n(h.id),className:`flex-1 px-2 py-2 text-xs font-medium transition-colors ${b?"bg-gray-50 text-gray-900 border-b-2":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,style:{borderBottomColor:b?h.color:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[r.jsx(g,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:h.name})]})},h.id)})}),r.jsx("div",{className:"flex-1 overflow-y-auto",style:{maxHeight:"400px"},children:r.jsxs("div",{className:"p-2 space-y-1",children:[u.map(h=>r.jsx(Fz,{node:h,onDragStart:g=>d(g,h),onClick:()=>m(h)},h.id)),u.length===0&&r.jsxs("div",{className:"text-center py-6 text-gray-500",children:[r.jsx(ms,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No nodes found"}),r.jsx("p",{className:"text-xs mt-1",children:"Try a different search term"})]})]})}),r.jsx("div",{className:"p-2 border-t border-gray-200 bg-gray-50",children:r.jsx("p",{className:"text-xs text-gray-500",children:"Drag or click nodes to add them to the canvas"})})]})}function Fz({node:e,onDragStart:t,onClick:n}){const a=e.icon;return r.jsxs("div",{draggable:!0,onDragStart:t,onClick:n,className:"flex items-center gap-2 p-2 rounded-md border border-gray-200 hover:border-gray-300 hover:bg-gray-50 cursor-move transition-all",style:{borderLeftColor:e.color,borderLeftWidth:"3px"},children:[r.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded flex items-center justify-center",style:{backgroundColor:`${e.color}15`},children:r.jsx(a,{className:"w-4 h-4",style:{color:e.color}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-900 truncate",children:e.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.description})]}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[e.inputs.length>0&&r.jsxs("div",{className:"flex items-center gap-0.5",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),r.jsx("span",{children:e.inputs.length})]}),e.outputs.length>0&&r.jsxs("div",{className:"flex items-center gap-0.5",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),r.jsx("span",{children:e.outputs.length})]})]})]})}function Wz({selectedNode:e,onUpdateNode:t,onClose:n,onOpenEmailBuilder:a}){if(!e)return r.jsx("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:r.jsx("div",{className:"flex-1 flex items-center justify-center p-8 text-center",children:r.jsxs("div",{children:[r.jsx(fl,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No Node Selected"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Click on a node to view its properties"})]})})});const i=$z(e.type);if(!i)return r.jsx("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:r.jsx("div",{className:"flex-1 flex items-center justify-center p-8 text-center",children:r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-red-600",children:["Unknown node type: ",e.type]})})})});const c=i.icon,u=(m,h)=>{t(e.id,{config:{...e.config,[m]:h}})},d=(m,h)=>m==="formId"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Form"}),r.jsxs("select",{value:h||"",onChange:g=>u(m,g.target.value?parseInt(g.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Forms"}),window.sfuiData?.forms?.map(g=>r.jsx("option",{value:g.id,children:g.title},g.id))]})]},m):m==="method"&&e.type==="http_request"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"HTTP Method"}),r.jsxs("select",{value:h||"POST",onChange:g=>u(m,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"GET",children:"GET"}),r.jsx("option",{value:"POST",children:"POST"}),r.jsx("option",{value:"PUT",children:"PUT"}),r.jsx("option",{value:"PATCH",children:"PATCH"}),r.jsx("option",{value:"DELETE",children:"DELETE"})]})]},m):m==="bodyType"&&e.type==="send_email"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Body Type"}),r.jsxs("select",{value:h||"html",onChange:g=>u(m,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"html",children:"HTML"}),r.jsx("option",{value:"text",children:"Plain Text"})]})]},m):m==="body"||m==="message"||m==="payload"||m==="postContent"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()}),r.jsx("textarea",{value:h||"",onChange:g=>u(m,g.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"Supports {tags} for dynamic values"}),r.jsxs("p",{className:"text-xs text-gray-500",children:[" Use ","{field_name}"," to insert form field values"]})]},m):typeof h=="number"||m==="duration"||m==="quantity"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()}),r.jsx("input",{type:"number",value:h||"",onChange:g=>u(m,parseFloat(g.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},m):typeof h=="boolean"?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:`config-${m}`,checked:h,onChange:g=>u(m,g.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("label",{htmlFor:`config-${m}`,className:"text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()})]},m):Array.isArray(h)?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()}),r.jsx("textarea",{value:JSON.stringify(h,null,2),onChange:g=>{try{const b=JSON.parse(g.target.value);u(m,b)}catch{}},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]},m):typeof h=="object"&&h!==null?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()}),r.jsx("textarea",{value:JSON.stringify(h,null,2),onChange:g=>{try{const b=JSON.parse(g.target.value);u(m,b)}catch{}},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]},m):r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:m.replace(/([A-Z])/g," $1").trim()}),r.jsx("input",{type:"text",value:h||"",onChange:g=>u(m,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Supports {tags}"})]},m);return r.jsxs("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${i.color}20`},children:r.jsx(c,{className:"w-5 h-5",style:{color:i.color}})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:i.name}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:i.category})]})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Zt,{className:"w-4 h-4 text-gray-500"})})]}),r.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:r.jsx("p",{className:"text-sm text-gray-600",children:i.description})}),r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yh,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Node Enabled"})]}),r.jsx("button",{onClick:()=>t(e.id,{config:{...e.config,_enabled:e.config._enabled===!1}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${e.config._enabled!==!1?"bg-green-500":"bg-gray-300"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm ${e.config._enabled!==!1?"translate-x-6":"translate-x-1"}`})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.config._enabled!==!1?"This node will execute when triggered":"This node is paused and will be skipped"})]}),e.type==="send_email"&&a&&r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("button",{onClick:()=>a(e),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx($r,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:"Open Email Builder"}),r.jsx(el,{className:"w-3 h-3 ml-1"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Design your email template visually"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:Object.keys(e.config).filter(m=>!m.startsWith("_")).length>0?Object.entries(e.config).filter(([m])=>!m.startsWith("_")).map(([m,h])=>d(m,h)):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Vt,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-sm",children:"No configuration needed"}),r.jsx("p",{className:"text-xs mt-1",children:"This node works out of the box"})]})}),r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[r.jsx("span",{children:"Node ID:"}),r.jsx("code",{className:"font-mono bg-white px-2 py-1 rounded border border-gray-200",children:e.id})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[r.jsx("span",{children:"Type:"}),r.jsx("code",{className:"font-mono bg-white px-2 py-1 rounded border border-gray-200",children:e.type})]})]})]})}function Bz({workflowName:e,onWorkflowNameChange:t,onSave:n,onUndo:a,onRedo:i,onClear:c,onTest:u,onPreview:d,canUndo:m,canRedo:h,isSaving:g=!1}){return r.jsxs("div",{className:"toolbar flex items-center justify-between px-4 py-3 bg-white border-b border-gray-200",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("input",{type:"text",value:e,onChange:b=>t(b.target.value),placeholder:"Untitled Workflow",className:"text-lg font-semibold text-gray-900 bg-transparent border-none focus:outline-none focus:ring-0 min-w-[300px]"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:a,disabled:!m,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Undo (Ctrl+Z)",children:r.jsx(d2,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{onClick:i,disabled:!h,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Redo (Ctrl+Y)",children:r.jsx(r2,{className:"w-4 h-4 text-gray-700"})}),r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),r.jsx("button",{onClick:c,className:"p-2 rounded hover:bg-gray-100 transition-colors",title:"Clear Workflow",children:r.jsx(Gn,{className:"w-4 h-4 text-gray-700"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx($o,{className:"w-4 h-4"}),"Preview"]}),r.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Ju,{className:"w-4 h-4"}),"Test"]}),r.jsxs("button",{onClick:n,disabled:g,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(Mo,{className:"w-4 h-4"}),g?"Saving...":"Save Workflow"]})]})]})}function Uz({isOpen:e,onClose:t,connectionStart:n,position:a,onCreateAndConnect:i}){const[c,u]=p.useState(""),[d,m]=p.useState("all"),h=[{id:"all",name:"All Nodes",icon:""},{id:"action",name:"Actions",icon:""},{id:"condition",name:"Conditions",icon:""}],g=p.useMemo(()=>Object.entries(As).map(([C,N])=>({id:C,...N})).filter(C=>{if(!C.inputs||C.inputs.length===0||d!=="all"&&C.category!==d)return!1;if(c){const N=c.toLowerCase();return C.name.toLowerCase().includes(N)||C.description&&C.description.toLowerCase().includes(N)}return!0}),[d,c]),b=v=>{a&&(i(v.id,a),t())},y=v=>{v.key==="Escape"&&t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:r.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-96 max-h-[600px] flex flex-col",onClick:v=>v.stopPropagation(),onKeyDown:y,children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Connect to New Node"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-white transition-colors",title:"Close",children:r.jsx(Zt,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Choose a node to create and connect to"})]}),r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"relative",children:[r.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search nodes...",value:c,onChange:v=>u(v.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg pl-10 pr-3 py-2 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",autoFocus:!0})]})}),r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex gap-2",children:h.map(v=>r.jsxs("button",{onClick:()=>m(v.id),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${d===v.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[v.icon," ",v.name]},v.id))})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:r.jsxs("div",{className:"space-y-2",children:[g.map(v=>{const C=v.icon;return r.jsx("div",{onClick:()=>b(v),className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 cursor-pointer transition-all duration-200 hover:bg-gray-100 dark:hover:bg-gray-700 hover:shadow-lg border border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500",style:{borderLeftColor:v.color,borderLeftWidth:"4px"},children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xl flex-shrink-0",children:r.jsx(C,{className:"w-5 h-5",style:{color:v.color}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-gray-900 dark:text-white font-medium text-sm",children:v.name}),v.description&&r.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-xs",children:v.description}),r.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs",children:[v.inputs&&v.inputs.length>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[v.inputs.length," input",v.inputs.length>1?"s":""]})]}),v.outputs&&v.outputs.length>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[v.outputs.length," output",v.outputs.length>1?"s":""]})]})]})]})]})},v.id)}),g.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"text-4xl mb-3",children:""}),r.jsx("p",{children:"No matching nodes found"}),r.jsx("p",{className:"text-xs mt-1",children:"Try adjusting your search terms"})]})]})}),r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex justify-end gap-2",children:r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cancel"})})})]})}):null}function Ey({email:e}){const a=`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    <style>
      /* Reset styles for email content */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        font-size: 14px;
        line-height: 1.6;
        color: #333333;
      }
      
      p {
        margin: 0 0 10px 0;
      }
      
      h1, h2, h3, h4, h5, h6 {
        margin: 0 0 10px 0;
        font-weight: 600;
      }
      
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      h3 { font-size: 18px; }
      h4 { font-size: 16px; }
      h5 { font-size: 14px; }
      h6 { font-size: 12px; }
      
      a {
        color: #0066cc;
        text-decoration: underline;
      }
      
      img {
        max-width: 100%;
        height: auto;
      }
      
      table {
        border-collapse: collapse;
        width: 100%;
      }
      
      th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
      
      blockquote {
        margin: 0 0 10px 0;
        padding: 10px 20px;
        border-left: 4px solid #ddd;
        background-color: #f9f9f9;
      }
      
      ul, ol {
        margin: 0 0 10px 20px;
        padding: 0;
      }
      
      li {
        margin: 0 0 5px 0;
      }
      
      /* Button styles */
      .button {
        display: inline-block;
        padding: 12px 24px;
        background-color: #0066cc;
        color: #ffffff;
        text-decoration: none;
        border-radius: 4px;
        font-weight: 600;
      }
      
      /* Responsive */
      @media only screen and (max-width: 600px) {
        body {
          font-size: 16px !important;
        }
        
        table {
          width: 100% !important;
        }
        
        .button {
          display: block !important;
          width: 100% !important;
        }
      }
    </style>
  
      </head>
      <body>
        <div style="max-width: 600px; margin: 0 auto;">
          ${e.body||"<p>Email content will appear here...</p>"}
        </div>
      </body>
    </html>
  `;return r.jsx("div",{className:"email-content",children:r.jsx("iframe",{srcDoc:a,className:"w-full h-full border-0",style:{minHeight:"400px"},title:"Email Preview",sandbox:"allow-same-origin"})})}function Ln({value:e,onChange:t,placeholder:n="Click to edit",className:a="",multiline:i=!1,type:c="text",showEditIcon:u=!0,noPadding:d=!1}){const[m,h]=p.useState(!1),[g,b]=p.useState(e||""),[y,v]=p.useState(!1),C=p.useRef(null);p.useEffect(()=>{m&&C.current&&(C.current.focus(),C.current.select&&C.current.select())},[m]),p.useEffect(()=>{b(e||"")},[e]);const N=()=>{t&&g!==e&&t(g),h(!1)},k=()=>{b(e||""),h(!1)},_=w=>{w.key==="Enter"&&!i?(w.preventDefault(),N()):w.key==="Escape"&&(w.preventDefault(),k())},S=()=>{m||h(!0)};if(m){const w=i?"textarea":"input";return r.jsxs("div",{className:"inline-flex items-center gap-1",children:[r.jsx(w,{ref:C,type:c,value:g,onChange:R=>b(R.target.value),onKeyDown:_,onBlur:N,className:pe("bg-white border border-gray-300 rounded",!d&&"px-2 py-0.5","outline-none focus:border-blue-500",!d&&"h-[28px]",i&&"resize-none min-h-[60px] h-auto",a),placeholder:n}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{type:"button",onClick:N,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Save",children:r.jsx(Ki,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:k,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Cancel",children:r.jsx(Zt,{className:"w-4 h-4"})})]})]})}return r.jsxs("span",{className:pe("inline-flex items-center gap-1 cursor-pointer group","border border-transparent rounded",!d&&"px-2 py-0.5",!d&&"h-[28px]",a),onClick:S,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),title:"Click to edit",children:[r.jsx("span",{className:pe(!e&&"text-gray-400"),children:e||n}),u&&y&&r.jsx(pr,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}function Hz({scheduledDate:e,schedule:t,className:n="",size:a="normal"}){const i=t?.enabled&&t?.schedules?.length>0;if(!e&&!i)return null;const c=a==="small";if(i&&!e){const d=t.schedules.length;return r.jsxs("div",{className:pe("inline-flex items-center gap-1",c?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",c?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(qn,{className:pe(c?"w-3 h-3":"w-4 h-4")}),r.jsxs("span",{className:"font-medium",children:[d," ",d===1?"Schedule":"Schedules"]})]})}const u=new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return r.jsxs("div",{className:pe("inline-flex items-center gap-1",c?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",c?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(qn,{className:pe(c?"w-3 h-3":"w-4 h-4")}),r.jsx("span",{className:"font-medium",children:"Scheduled"}),!c&&r.jsx("span",{className:"text-blue-500",children:""}),!c&&r.jsx("span",{children:u})]})}let On=null;function Vz({onSelect:e,onClose:t,title:n="Select Media"}){p.useEffect(()=>{if(typeof wp>"u"||!wp.media){console.error("WordPress media library is not available"),t();return}On?On.options.title=n:On=wp.media({title:n,button:{text:"Select"},multiple:!1}),On.off("select"),On.off("close");const i=()=>{const u=On.state().get("selection").first().toJSON();if(u){const d={id:u.id,title:u.title,filename:u.filename,url:u.url,mime:u.mime||u.type,type:u.mime||u.type,filesizeHumanReadable:u.filesizeHumanReadable||a(u.filesize),filesize:u.filesize};e(d)}},c=()=>{t()};return On.on("select",i),On.on("close",c),On.open(),()=>{On&&(On.off("select",i),On.off("close",c))}},[]);function a(i){if(!i)return"Unknown size";const c=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(i)/Math.log(1024));return Math.round(i/Math.pow(1024,u)*100)/100+" "+c[u]}return null}const Zz=De.memo(Vz),Sy=({className:e})=>r.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("text",{x:"7",y:"17",fontSize:"8",fontWeight:"600",fill:"currentColor",stroke:"none",children:"PDF"})]});function Yz({attachments:e=[],onChange:t,isBuilder:n=!1}){const[a,i]=p.useState(!1),[c,u]=p.useState(null),d=p.useCallback(y=>{const v={id:y.id,name:y.filename||y.title||"Untitled",url:y.url,type:y.mime||y.type||"application/octet-stream",size:y.filesizeHumanReadable||y.filesize||"Unknown size"};if(c!==null){const C=[...e];C[c]=v,t(C),u(null)}else t([...e,v]);i(!1)},[e,t,c]),m=y=>{const v=e.filter((C,N)=>N!==y);t(v)},h=y=>{u(y),i(!0)},g=p.useCallback(()=>{i(!1),u(null)},[]),b=(y,v="")=>{if(y.startsWith("image/"))return ol;if(y.includes("pdf"))return Sy;if(y.includes("spreadsheet")||y.includes("excel")||y.includes("csv"))return sl;if(y.includes("video/"))return il;if(y.includes("audio/"))return nl;if(y.includes("zip")||y.includes("tar")||y.includes("archive"))return tl;if(y.includes("text/plain"))return al;switch(v.split(".").pop()?.toLowerCase()){case"pdf":return Sy;case"csv":case"xls":case"xlsx":case"ods":return sl;case"doc":case"docx":case"odt":case"rtf":case"txt":return al;case"mp4":case"avi":case"mov":case"wmv":case"flv":case"webm":return il;case"mp3":case"wav":case"ogg":case"flac":case"aac":return nl;case"zip":case"rar":case"7z":case"tar":case"gz":return tl;case"js":case"jsx":case"ts":case"tsx":case"html":case"css":case"php":case"py":case"java":case"cpp":case"c":case"json":case"xml":return rl;case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":case"bmp":case"ico":return ol;default:return uh}};return!n&&e.length===0?null:r.jsxs("div",{className:"border-t pt-4 mt-2.5",children:[n&&r.jsxs("button",{onClick:()=>{u(null),i(!0)},className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1 mb-3",children:[r.jsx(xh,{className:"w-3 h-3"}),"Attach files"]}),e.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((y,v)=>{const C=b(y.type,y.name);return r.jsxs("div",{className:"group inline-flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#f5f5f5"},children:[r.jsx(C,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-700 group-hover:text-blue-600 transition-colors flex items-center gap-1",children:[r.jsx("span",{children:y.name}),r.jsx(el,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",y.size,")"]}),n&&r.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:()=>h(v),className:"p-1 text-blue-600 hover:text-blue-700",title:"Replace attachment",children:r.jsx(pr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>m(v),className:"p-1 text-red-600 hover:text-red-700",title:"Remove attachment",children:r.jsx(Zt,{className:"w-4 h-4"})})]})]},`${y.id}-${v}`)})}),a&&r.jsx(Zz,{onSelect:d,onClose:g,title:c!==null?"Replace Attachment":"Select Attachment"})]})}const _y=De.memo(Yz);function yf({email:e,isMobile:t,isBuilder:n,renderBody:a,updateEmailField:i,activeEmailId:c,isHtmlMode:u,onModeChange:d}){const m=e.from_name||"Sender Name",h=e.from_email||"sender@example.com",g=e.subject||"Email Subject",b=e.to||"recipient@example.com",y=e.cc||"",v=e.bcc||"",C=new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),N=p.useCallback((k,_)=>{i&&c&&i(c,k,_)},[i,c]);return t?r.jsxs("div",{className:"h-full bg-white flex flex-col max-w-md mx-auto",children:[r.jsx("div",{className:"bg-white border-b px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),r.jsx("button",{className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]})}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"p-4",children:[n?r.jsx(Ln,{value:e.subject,onChange:k=>N("subject",k),placeholder:"Email Subject",className:"text-lg font-normal text-gray-900 mb-4",noPadding:!0}):r.jsx("h2",{className:"text-lg font-normal text-gray-900 mb-4",children:g}),r.jsxs("div",{className:"flex items-start gap-5 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600",children:r.jsx(Da,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[n?r.jsx(Ln,{value:e.from_name,onChange:k=>N("from_name",k),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}):r.jsx("span",{className:"font-medium text-gray-900",children:m}),r.jsx("span",{className:"text-xs text-gray-500",children:C})]}),r.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"to"}),r.jsx(Ln,{value:e.to,onChange:k=>N("to",k),placeholder:"recipient@example.com",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"cc"}),r.jsx(Ln,{value:e.cc||"",onChange:k=>N("cc",k),placeholder:"no CC defined",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"bcc"}),r.jsx(Ln,{value:e.bcc||"",onChange:k=>N("bcc",k),placeholder:"no BCC defined",type:"email",className:"text-sm text-gray-600"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["to ",b]}),y&&r.jsxs("div",{children:["cc: ",y]}),v&&r.jsxs("div",{children:["bcc: ",v]})]})})]})]}),r.jsxs("div",{className:"flex items-center justify-between gap-2 px-2",children:[r.jsx(_y,{attachments:e.attachments||[],onChange:k=>N("attachments",k),isBuilder:n}),n&&d&&r.jsxs("div",{className:"flex items-center gap-0.5 bg-gray-100 rounded-md p-0.5",children:[r.jsx("button",{onClick:()=>!u||d("visual"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",u?"text-gray-500":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:r.jsx(Pr,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>u||d("html"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",u?"bg-white text-gray-900 shadow-sm":"text-gray-500"),title:"HTML Editor",children:r.jsx(Vt,{className:"w-3 h-3"})})]})]}),r.jsx("div",{className:"bg-white p-2",children:r.jsx("div",{className:"bg-white min-h-[200px] p-0",children:n&&a?a():r.jsx(Ey,{email:e})})})]})})]}):r.jsxs("div",{className:"h-full bg-white flex flex-col",children:[r.jsx("div",{className:"border-b bg-white",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-start gap-5",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 flex-shrink-0",children:r.jsx(Da,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[n?r.jsx(Ln,{value:e.subject,onChange:k=>N("subject",k),placeholder:"Email Subject",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},noPadding:!0}):r.jsx("h1",{className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},children:g}),r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-xs text-gray-600 rounded",children:"Inbox"}),(e.scheduled_date||e.schedule)&&r.jsx(Hz,{scheduledDate:e.scheduled_date,schedule:e.schedule})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center",children:n?r.jsxs(r.Fragment,{children:[r.jsx(Ln,{value:e.from_name,onChange:k=>N("from_name",k),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600 ml-2.5",children:"<"}),r.jsx(Ln,{value:e.from_email,onChange:k=>N("from_email",k),placeholder:"sender@example.com",type:"email",className:"text-sm text-gray-600",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600",children:">"})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"font-medium text-gray-900",children:m}),r.jsxs("span",{className:"text-sm text-gray-600",children:["<",h,">"]})]})}),r.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"to"}),r.jsx(Ln,{value:e.to,onChange:k=>N("to",k),placeholder:"recipient@example.com",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"cc"}),r.jsx(Ln,{value:e.cc||"",onChange:k=>N("cc",k),placeholder:"no CC defined",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"bcc"}),r.jsx(Ln,{value:e.bcc||"",onChange:k=>N("bcc",k),placeholder:"no BCC defined",type:"email",className:"text-sm text-gray-600"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["to ",b]}),y&&r.jsxs("div",{children:["cc: ",y]}),v&&r.jsxs("div",{children:["bcc: ",v]})]})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-sm text-gray-500",children:C}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})})]})]}),r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsx(_y,{attachments:e.attachments||[],onChange:k=>N("attachments",k),isBuilder:n}),n&&d&&r.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-0.5",children:[r.jsxs("button",{onClick:()=>!u||d("visual"),className:pe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all",u?"text-gray-500 hover:text-gray-700":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:[r.jsx(Pr,{className:"w-4 h-4"}),r.jsx("span",{children:"Visual"})]}),r.jsxs("button",{onClick:()=>u||d("html"),className:pe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all",u?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),title:"HTML Editor",children:[r.jsx(Vt,{className:"w-4 h-4"}),r.jsx("span",{children:"HTML"})]})]})]})]})]})})}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"max-w-[1000px] mx-auto bg-white",children:[r.jsx("div",{className:"bg-white min-h-[200px] p-0",children:n&&a?a():r.jsx(Ey,{email:e})}),r.jsx("div",{className:"border-t pt-6 pl-6",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{className:"px-4 py-2 bg-white border rounded-full text-sm font-medium text-gray-700 cursor-not-allowed",disabled:!0,children:[r.jsx("svg",{className:"w-4 h-4 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Reply"]}),r.jsxs("button",{className:"px-4 py-2 bg-white border rounded-full text-sm font-medium text-gray-700 cursor-not-allowed",disabled:!0,children:[r.jsx("svg",{className:"w-4 h-4 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),"Forward"]})]})})]})})]})}const dt=gl((e,t)=>({elements:[],selectedElementId:null,isDragging:!1,draggedElement:null,editingTextElementId:null,currentTemplate:null,savedTemplates:[],templateCategories:[{id:"welcome",name:"Welcome/Onboarding",count:5},{id:"transactional",name:"Transactional",count:5},{id:"newsletter",name:"Newsletter",count:5},{id:"notification",name:"Notification",count:5},{id:"minimal",name:"Minimal",count:3}],previewClient:"gmail-desktop",previewData:{},elementTypes:{emailWrapper:{id:"emailWrapper",name:"Email Wrapper",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{backgroundColor:"#f5f5f5"}},emailContainer:{id:"emailContainer",name:"Email Container",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{width:"600px",margin:{top:50,right:"auto",bottom:50,left:"auto"},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#e5e5e5",padding:{top:60,right:30,bottom:60,left:30},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",boxShadow:"none",borderRadius:0}},section:{id:"section",name:"Section",icon:"",defaultProps:{margin:{top:0,right:0,bottom:0,left:0},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#000000",padding:{top:20,right:20,bottom:20,left:20},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",fullWidth:!1}},columns:{id:"columns",name:"Columns",icon:"",defaultProps:{columns:2,gap:20,stackOnMobile:!0}},text:{id:"text",name:"Text",icon:"",defaultProps:{content:"Click to edit this text...",fontSize:16,fontFamily:"Arial, sans-serif",color:"#333333",lineHeight:1.6,align:"left",width:"100%",margin:{top:0,right:0,bottom:0,left:0},padding:{top:0,right:0,bottom:0,left:0}}},image:{id:"image",name:"Image",icon:"",defaultProps:{src:"",alt:"",width:"100%",height:"auto",align:"center",link:""}},button:{id:"button",name:"Button",icon:"",defaultProps:{text:"Click Here",href:"#",backgroundColor:"#0066cc",color:"#ffffff",fontSize:16,fontWeight:"bold",padding:{top:12,right:24,bottom:12,left:24},borderRadius:4,align:"center",fullWidth:!1}},divider:{id:"divider",name:"Divider",icon:"",defaultProps:{height:1,color:"#dddddd",style:"solid",margin:{top:20,bottom:20}}},spacer:{id:"spacer",name:"Spacer",icon:"",defaultProps:{height:20}},social:{id:"social",name:"Social Icons",icon:"",defaultProps:{icons:["facebook","twitter","instagram","linkedin"],iconSize:32,iconColor:"#333333",spacing:10,align:"center"}},formData:{id:"formData",name:"Form Data",icon:"",defaultProps:{field:"",fallback:"",format:"text"}},html:{id:"html",name:"HTML",icon:"</>",defaultProps:{content:"<p>Your HTML content here...</p>"}}},addElement:(n,a=null,i=null)=>{console.log(" addElement called:",{type:n,parentId:a,position:i});const{elementTypes:c}=t(),u=c[n];if(!u){console.error(" Element type not found:",n);return}if(u.isSystemElement){console.log(" Skipping system element creation:",n);return}const d={id:$n(),type:n,props:{...u.defaultProps},children:[]};return console.log(" Created new element:",d),e(m=>{console.log(" Current state before adding:",m.elements);const h=t().ensureSystemElements(m.elements);if(console.log(" State after ensuring system elements:",h),a){console.log(" Adding to parent:",a);const g={elements:Fs(h,a,d,i)};return console.log(" Final state after addToParent:",g.elements),g}else{console.log(" Adding to root - finding email container...");const g=(y,v)=>{for(const C of y){if(C.type===v)return C;if(C.children&&C.children.length>0){const N=g(C.children,v);if(N)return N}}return null},b=g(h,"emailContainer");if(console.log(" Found email container:",b),b){console.log(" Adding to email container:",b.id);const y={elements:Fs(h,b.id,d,i)};return console.log(" Final state after addToParent to container:",y.elements),y}else{console.log(" No email container found, adding to root");const y=[...h];return i!==null?y.splice(i,0,d):y.push(d),console.log(" Final state (root fallback):",y),{elements:y}}}}),console.log(" addElement completed, returning:",d.id),d.id},updateElement:(n,a)=>{e(i=>({elements:bf(i.elements,n,a)}))},deleteElement:n=>{e(a=>({elements:fc(a.elements,n),selectedElementId:a.selectedElementId===n?null:a.selectedElementId}))},moveElement:(n,a,i)=>{e(c=>{let u=[...c.elements],d=null;if(u=fc(u,n,m=>{d=m}),!d)return c;if(d.type==="emailWrapper"||d.type==="emailContainer")return console.log(" Cannot move system elements"),c;if(a)u=Fs(u,a,d,i);else{const m=(g,b)=>{for(const y of g){if(y.type===b)return y;if(y.children&&y.children.length>0){const v=m(y.children,b);if(v)return v}}return null},h=m(u,"emailContainer");if(h)console.log(" Moving to email container:",h.id),u=Fs(u,h.id,d,i);else return console.log(" No email container found, cannot add element"),c}return{elements:u}})},selectElement:n=>{console.log("selectElement called with id:",n),e({selectedElementId:n}),console.log("selectedElementId set to:",n)},clearCanvas:()=>{e({elements:[],selectedElementId:null})},setElements:n=>{const a=t().ensureSystemElements(n||[]);e({elements:a})},ensureSystemElements:n=>{const{elementTypes:a}=t();let i=[...n];const c=(h,g)=>{for(const b of h){if(b.type===g)return b;if(b.children&&b.children.length>0){const y=c(b.children,g);if(y)return y}}return null};let u=i.find(h=>h.type==="emailWrapper");u||(u={id:`email-wrapper-${Date.now()}`,type:"emailWrapper",props:{...a.emailWrapper.defaultProps},children:[]},i.unshift(u));let d=c([u],"emailContainer");d||(d={id:`email-container-${Date.now()}`,type:"emailContainer",props:{...a.emailContainer.defaultProps},children:[]},u.children.unshift(d));const m=i.filter(h=>h.type!=="emailWrapper");return m.length>0&&(d.children.push(...m),i=i.filter(h=>h.type==="emailWrapper")),i},saveAsTemplate:(n,a,i)=>{const{elements:c}=t(),u={id:$n(),name:n,description:a,category:i,elements:JSON.parse(JSON.stringify(c)),createdAt:new Date().toISOString(),thumbnail:null};return e(d=>({savedTemplates:[...d.savedTemplates,u]})),u},loadTemplate:n=>{const{savedTemplates:a}=t(),i=a.find(c=>c.id===n);i&&e({elements:JSON.parse(JSON.stringify(i.elements)),currentTemplate:i,selectedElementId:null})},deleteTemplate:n=>{e(a=>({savedTemplates:a.savedTemplates.filter(i=>i.id!==n)}))},generateHtml:()=>{const{elements:n}=t();return qz(n)},startDrag:n=>{e({isDragging:!0,draggedElement:n})},endDrag:()=>{e({isDragging:!1,draggedElement:null})},setEditingTextElement:n=>{e({editingTextElementId:n})},moveElementUpDown:(n,a)=>{const i=t(),c=vf(i.elements,n);if(!c){console.log("Element not found:",n);return}const{parent:u,parentId:d,position:m}=c,h=u?u.children:i.elements,g=a==="up"?m-1:m+1;if(g<0||g>=h.length){console.log("Cannot move element beyond bounds");return}const b=d||null;t().moveElement(n,b,g)}})),dc=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.children&&n.children.length>0)if(n.type==="columns")for(const a of n.children){const i=dc(a.children||[],t);if(i)return i}else{const a=dc(n.children,t);if(a)return a}}return null},vf=(e,t,n=null,a=null)=>{for(let i=0;i<e.length;i++){const c=e[i];if(c.id===t)return{parent:n,parentId:a,position:i};if(c.children&&c.children.length>0)if(c.type==="columns")for(const u of c.children){const d=vf(u.children||[],t,u,u.id);if(d)return d}else{const u=vf(c.children,t,c,c.id);if(u)return u}}return null},Ho=()=>{const e=dt(w=>w.selectElement),t=dt(w=>w.updateElement),n=dt(w=>w.addElement),a=dt(w=>w.deleteElement),i=dt(w=>w.moveElement),c=dt(w=>w.setElements),u=dt(w=>w.clearCanvas),d=dt(w=>w.generateHtml),m=dt(w=>w.startDrag),h=dt(w=>w.endDrag),g=dt(w=>w.setEditingTextElement),b=dt(w=>w.moveElementUpDown),y=dt(w=>w.selectedElementId),v=dt(w=>w.isDragging),C=dt(w=>w.draggedElement),N=dt(w=>w.elementTypes),k=dt(w=>w.editingTextElementId),_=dt(w=>w.elements),S=p.useMemo(()=>y?dc(_,y):null,[y,_]);return{elements:_,selectedElementId:y,selectedElement:S,isDragging:v,draggedElement:C,elementTypes:N,editingTextElementId:k,selectElement:e,updateElement:t,addElement:n,deleteElement:a,moveElement:i,setElements:c,clearCanvas:u,generateHtml:d,startDrag:m,endDrag:h,setEditingTextElement:g,moveElementUpDown:b}};Ho.getState=()=>{const e=dt.getState(),t=e.selectedElementId?dc(e.elements,e.selectedElementId):null;return{...e,selectedElement:t}};function Fs(e,t,n,a){if(console.log(" addToParent called:",{parentId:t,newElement:n,position:a}),console.log(" Elements structure:",e),t&&t.includes("-col-")){const[i,,c]=t.split("-"),u=parseInt(c);return e.map(d=>{if(d.id===i&&d.type==="columns"){const m=[...d.children||[]];for(;m.length<=u;)m.push({type:"column",children:[]});const h=[...m[u]?.children||[]];return a!=null?h.splice(a,0,n):h.push(n),m[u]={type:"column",children:h},{...d,children:m}}return d.children&&d.children.length>0?{...d,children:Fs(d.children,t,n,a)}:d})}return e.map(i=>{if(i.id===t){console.log(" Found target parent element:",i);const c=[...i.children];a!=null?(c.splice(a,0,n),console.log(" Added at position",a,"- new children:",c)):(c.push(n),console.log(" Added at end - new children:",c));const u={...i,children:c};return console.log(" Updated parent element:",u),u}return i.children&&i.children.length>0?{...i,children:Fs(i.children,t,n,a)}:i})}function bf(e,t,n){return e.map(a=>a.id===t?typeof n=="function"?n(a):{...a,...n}:a.children&&a.children.length>0?a.type==="columns"?{...a,children:a.children.map(i=>({...i,children:bf(i.children||[],t,n)}))}:{...a,children:bf(a.children,t,n)}:a)}function fc(e,t,n){return e.filter(a=>a.id===t?(n&&n(a),!1):(a.children&&a.children.length>0&&(a.type==="columns"?a.children=a.children.map(i=>({...i,children:fc(i.children||[],t,n)})):a.children=fc(a.children,t,n)),!0))}function qz(e){const t=a=>{switch(a.type){case"section":const i=a.props.margin||{top:0,right:0,bottom:0,left:0},c=a.props.border||{top:0,right:0,bottom:0,left:0},u=a.props.borderStyle||"solid",d=a.props.borderColor||"#000000",m=i.top||i.bottom?`<tr><td style="padding: ${i.top}px ${i.right}px ${i.bottom}px ${i.left}px;"></td></tr>`:"",h=a.props.backgroundImage?`background-image: url('${a.props.backgroundImage}'); background-size: ${a.props.backgroundSize||"cover"}; background-position: ${a.props.backgroundPosition||"center"}; background-repeat: ${a.props.backgroundRepeat||"no-repeat"};`:"",b=c.top>0||c.right>0||c.bottom>0||c.left>0?`border-top: ${c.top}px ${u} ${d}; border-right: ${c.right}px ${u} ${d}; border-bottom: ${c.bottom}px ${u} ${d}; border-left: ${c.left}px ${u} ${d};`:"";return`${m}<tr><td style="padding: ${a.props.padding.top}px ${a.props.padding.right}px ${a.props.padding.bottom}px ${a.props.padding.left}px; background-color: ${a.props.backgroundColor}; ${h} ${b}">
          ${a.children.map(t).join("")}
        </td></tr>`;case"text":return`<div style="font-size: ${a.props.fontSize}px; color: ${a.props.color}; text-align: ${a.props.align}; line-height: ${a.props.lineHeight};">
          ${a.props.content}
        </div>`;case"button":return`<div style="text-align: ${a.props.align};">
          <a href="${a.props.href}" style="display: inline-block; background-color: ${a.props.backgroundColor}; color: ${a.props.color}; padding: ${a.props.padding.top}px ${a.props.padding.right}px ${a.props.padding.bottom}px ${a.props.padding.left}px; text-decoration: none; border-radius: ${a.props.borderRadius}px; font-size: ${a.props.fontSize}px; font-weight: ${a.props.fontWeight};">
            ${a.props.text}
          </a>
        </div>`;case"html":return a.props.content||"";default:return""}};return`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f4f4f4;">
  <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="min-width: 100%;">
    <tr>
      <td align="center">
        <!--[if mso]>
        <table role="presentation" width="600" cellpadding="0" cellspacing="0">
        <tr>
        <td>
        <![endif]-->
        
        <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
          ${e.map(t).join("")}
        </table>
        
        <!--[if mso]>
        </td>
        </tr>
        </table>
        <![endif]-->
      </td>
    </tr>
  </table>
</body>
</html>`}const Gz={section:Ca,columns:Hu,text:gs,image:qu,button:Eh,divider:hh,spacer:gh,social:jh,formData:Qi,html:Vt};function Kz({element:e}){const{attributes:t,listeners:n,setNodeRef:a,isDragging:i}=Fd({id:`palette-${e.id}`,data:{type:"new-element",elementType:e.id}}),c=Gz[e.id]||Ca;return r.jsxs("div",{ref:a,...n,...t,className:pe("flex flex-col items-center justify-center p-3 cursor-move","hover:bg-gray-100 transition-colors rounded-lg group",i&&"opacity-50"),title:e.name,children:[r.jsx(c,{className:"w-5 h-5 mb-1 text-gray-600 group-hover:text-gray-800"}),r.jsx("span",{className:"text-xs text-gray-600 text-center leading-tight group-hover:text-gray-800",children:e.name})]})}function Xz(){const{elementTypes:e}=Ho(),t=[{name:"Layout",elements:["section","columns","spacer"]},{name:"Content",elements:["text","image","button","divider","html"]},{name:"Dynamic",elements:["formData","social"]}];return r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Elements:"}),r.jsx("div",{className:"flex items-center gap-6 overflow-x-auto",children:t.map((n,a)=>r.jsxs(De.Fragment,{children:[a>0&&r.jsx("div",{className:"h-8 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase mr-2",children:n.name}),n.elements.map(i=>{const c=e[i];return c?r.jsx(Kz,{element:c},c.id):null})]})]},n.name))}),r.jsx("div",{className:"ml-auto text-xs text-gray-500 whitespace-nowrap",children:"Drag to add"})]})})}const Qz={emailWrapper:{resizable:!1,background:{color:!0,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,canDelete:!1,isSystemElement:!0,backgroundOnly:!0},display:{showInBuilder:!0,selectable:!0}},emailContainer:{resizable:!1,background:{color:!0,image:!0},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{canDelete:!1,isSystemElement:!0,droppable:!0,widthOptions:["600px","700px"]},effects:{borderRadius:!0,shadow:!0},display:{showInBuilder:!0,selectable:!0}},text:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0,lineHeight:!0,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0}},button:{resizable:{horizontal:!0,vertical:!1,minWidth:80,maxWidth:400},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!1,lineHeight:!1,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1}},image:{resizable:{horizontal:!0,vertical:!0,minWidth:50,minHeight:50,maxWidth:1e3,maxHeight:800,aspectRatio:!0},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,alt:!0,title:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},media:{formats:["jpg","png","gif"],maxFileSize:"5MB",optimization:!0}},section:{resizable:{horizontal:!0,vertical:!0,minWidth:200,minHeight:50,maxWidth:700,defaultWidth:600},background:{color:!0,image:!0,gradient:!1},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,contained:!0,centered:!0,columns:!0,droppable:!0},container:{maxColumns:4,columnSpacing:!0,verticalAlignment:!0,equalHeight:!0},effects:{borderRadius:!0,shadow:!1}},spacer:{resizable:{horizontal:!1,vertical:!0,minHeight:10,maxHeight:200},background:{color:!1,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,inline:!1},display:{showInBuilder:!0,showInEmail:!1}},divider:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!0,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!0,inline:!1},style:{thickness:!0,style:!0,opacity:!0}},social:{resizable:{horizontal:!1,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!1,inline:!0},social:{platforms:["facebook","twitter","linkedin","instagram","youtube"],iconStyle:["default","round","square"],iconSize:["small","medium","large"],showLabels:!0}},columns:{resizable:{horizontal:!0,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,droppable:!0},columns:{count:{min:2,max:4},distribution:["equal","custom"],spacing:!0,verticalAlignment:["top","middle","bottom"],responsive:{mobile:"stack",tablet:"maintain",desktop:"maintain"}}},formData:{resizable:{horizontal:!0,vertical:!1},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},data:{fields:["name","email","phone","company","custom"],formatting:!0,fallback:!0}}};function wf(e){return Qz[e]||{}}function Ws(e,t){const n=wf(e),a=t.split(".");let i=n;for(const c of a)if(i&&typeof i=="object"&&c in i)i=i[c];else return!1;return!!i}function Ry({margin:e,border:t,padding:n,backgroundColor:a,backgroundImage:i,borderRadius:c,boxShadow:u,children:d,className:m,isResizing:h=!1}){const g=()=>{const y={};if(e&&(e.top!==void 0&&(y.marginTop=`${e.top}px`),e.right!==void 0&&(y.marginRight=`${e.right}px`),e.bottom!==void 0&&(y.marginBottom=`${e.bottom}px`),e.left!==void 0&&(y.marginLeft=`${e.left}px`)),t&&t.width){const{width:v,style:C="solid",color:N="#000000"}=t;v.top>0&&(y.borderTop=`${v.top}px ${C} ${N}`),v.right>0&&(y.borderRight=`${v.right}px ${C} ${N}`),v.bottom>0&&(y.borderBottom=`${v.bottom}px ${C} ${N}`),v.left>0&&(y.borderLeft=`${v.left}px ${C} ${N}`)}return n&&(n.top!==void 0&&(y.paddingTop=`${n.top}px`),n.right!==void 0&&(y.paddingRight=`${n.right}px`),n.bottom!==void 0&&(y.paddingBottom=`${n.bottom}px`),n.left!==void 0&&(y.paddingLeft=`${n.left}px`)),a&&a!=="transparent"&&(y.backgroundColor=a),i&&i.url&&(y.backgroundImage=`url(${i.url})`,y.backgroundSize=i.size||"cover",y.backgroundPosition=i.position||"center",y.backgroundRepeat=i.repeat||"no-repeat"),c&&c>0&&(y.borderRadius=`${c}px`,y.WebkitBorderRadius=`${c}px`,y.MozBorderRadius=`${c}px`),u&&u!=="none"&&(y.boxShadow=u,y.WebkitBoxShadow=u,y.MozBoxShadow=u),y},b=()=>{const y={};return a&&a!=="transparent"&&(y.bgcolor=a),i&&i.url&&(y.background=i.url),y};return r.jsx("div",{className:pe("spacing-layer",!h&&"transition-all duration-200",m),style:g(),...b(),children:d})}function Jz({capabilities:e,isResizing:t=!1,intensity:n="normal"}){const a=()=>{const u="absolute inset-0 pointer-events-none rounded";switch(n){case"subtle":return pe(u,"ring-1 ring-green-400 animate-pulse","transition-all duration-1000");case"strong":return pe(u,"ring-4 ring-green-500 animate-pulse","transition-all duration-500");default:return pe(u,"ring-2 ring-green-500 animate-pulse","transition-all duration-700")}},i=()=>{const u={};return e.effects?.borderRadius&&(u.borderRadius="inherit"),t&&(u.opacity=.3),u},c=()=>{const u=[];return e.resizable?.horizontal&&!t&&u.push(r.jsx("div",{className:"absolute top-1/2 right-0 w-1 h-4 bg-green-500 opacity-40 transform -translate-y-1/2 rounded-l"},"resize-horizontal-hint")),e.resizable?.vertical&&!t&&u.push(r.jsx("div",{className:"absolute bottom-0 left-1/2 w-4 h-1 bg-green-500 opacity-40 transform -translate-x-1/2 rounded-t"},"resize-vertical-hint")),u};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:a(),style:i()}),c(),r.jsx("div",{className:"absolute inset-0 pointer-events-none rounded",style:{boxShadow:"inset 0 0 0 1px rgba(34, 197, 94, 0.3)",borderRadius:"inherit",opacity:t?.2:.6}})]})}function eT({element:e,isSelected:t,isHovered:n,renderElements:a,children:i,onElementUpdate:c,onCapabilityAction:u,onEdit:d,isMobile:m}){const h=p.useRef(null),[g,b]=p.useState(!1),[y,v]=p.useState(null),[C,N]=p.useState(!1),[k,_]=p.useState(null),S=dt(H=>H.updateElement),w=wf(e.type),{margin:R={top:0,right:0,bottom:0,left:0},border:M={top:0,right:0,bottom:0,left:0},borderStyle:I="solid",borderColor:O="#000000",padding:P={top:0,right:0,bottom:0,left:0},backgroundColor:U="transparent",backgroundImage:V="",backgroundSize:oe="cover",backgroundPosition:de="center",backgroundRepeat:Ne="no-repeat",width:re,height:ke,maxWidth:ae,minWidth:ne,fullWidth:F}=e.props||{},K=(H,ge)=>{ge.preventDefault(),ge.stopPropagation(),b(!0),v(H);const ze=ge.clientX,Se=ge.clientY,rt=h.current?.offsetWidth||0,Ze=h.current?.offsetHeight||0,ot=Ct=>{const qt=Ct.clientX-ze,Jt=Ct.clientY-Se;let sn=rt,le=Ze;if(H==="right"||H==="corner"){const ue=w.resizable?.minWidth||100,he=w.resizable?.maxWidth||700;sn=Math.max(ue,Math.min(he,rt+qt))}if(H==="bottom"||H==="corner"){const ue=w.resizable?.minHeight||50,he=w.resizable?.maxHeight||1e3;le=Math.max(ue,Math.min(he,Ze+Jt))}S(e.id,{props:{...e.props,...H==="right"||H==="corner"?{width:`${sn}px`}:{},...H==="bottom"||H==="corner"?{height:`${le}px`}:{}}})},Ke=()=>{b(!1),v(null),document.removeEventListener("mousemove",ot),document.removeEventListener("mouseup",Ke)};document.addEventListener("mousemove",ot),document.addEventListener("mouseup",Ke)},G=()=>{b(!1),v(null)},z=H=>{H.stopPropagation(),_(e.props?.backgroundColor||"#ffffff"),N(!0)},T=H=>{_(H),S(e.id,{props:{...e.props,backgroundColor:H}})},Y=()=>{k&&S(e.id,{props:{...e.props,backgroundColor:k}}),N(!1),_(null)},q=()=>{const H=e.props?.backgroundColor||"#ffffff";S(e.id,{props:{...e.props,backgroundColor:H}}),N(!1),_(null)};p.useEffect(()=>{const H=ge=>{C&&h.current&&!h.current.contains(ge.target)&&q()};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[C]);const Q=e.type!=="emailWrapper"&&e.type!=="emailContainer"&&(Ws(e.type,"spacing.margin")||Ws(e.type,"spacing.border")||Ws(e.type,"spacing.padding")),xe=()=>{const H={};return w.resizable?.horizontal&&re&&(H.width=re),w.resizable?.vertical&&ke&&(H.height=ke),ae&&(H.maxWidth=ae),ne&&(H.minWidth=ne),H};return r.jsxs("div",{ref:h,className:pe("universal-element-wrapper","relative",!g&&"transition-all duration-200",t&&"selected",n&&!t&&"hovered ring-2 ring-gray-400 ring-opacity-40",g&&"resizing",w.layout?.fullWidth&&"full-width",w.layout?.inline&&"inline-element"),style:{...xe(),...F?{width:"100%"}:{},...w.layout?.fullWidth&&!re&&!F&&{width:"100%"},...w.layout?.inline&&{display:"inline-block"},...w.layout?.centered&&!F&&{margin:"0 auto"},...e.type==="section"&&!re&&!F&&{width:`${w.resizable?.defaultWidth||600}px`},...e.type==="emailWrapper"&&{width:"100%",minHeight:"200px",display:"block",backgroundColor:U!=="transparent"?U:"#f5f5f5"},...e.type==="emailContainer"&&{width:m?"100%":re||"600px",maxWidth:m?"100%":re||"600px",margin:m?"0":"0 auto",display:"block",minHeight:"200px"}},"data-element-type":e.type,"data-element-id":e.id,"data-component":"UniversalElementWrapper","data-is-system":w.layout?.isSystemElement?"true":"false","data-is-selected":t?"true":"false","data-is-hovered":n?"true":"false","data-debug-env":"production",children:[t&&r.jsx(Jz,{capabilities:w,isResizing:g}),(n&&!t||t&&w.layout?.backgroundOnly)&&w.layout?.isSystemElement&&d&&r.jsx("div",{className:"absolute top-1 left-1 z-[60] pointer-events-auto",children:r.jsx("button",{onClick:H=>{H.stopPropagation(),e.type==="emailWrapper"&&w.layout?.backgroundOnly?z(H):d(H)},className:"p-1.5 bg-blue-500 text-white rounded shadow-lg hover:shadow-xl transition-all hover:scale-110",title:e.type==="emailWrapper"?"Change Background Color":`Edit ${e.type==="emailContainer"?"Email Container":e.type}`,children:e.type==="emailWrapper"&&w.layout?.backgroundOnly?r.jsx(Pr,{className:"w-3 h-3"}):r.jsx(pr,{className:"w-3 h-3"})})}),t&&w.layout?.isSystemElement&&r.jsx("div",{className:"absolute top-1 left-1 z-10",children:r.jsxs("div",{className:"bg-blue-500 text-white p-1 rounded shadow-sm flex items-center gap-1",children:[r.jsx(pr,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:e.type==="emailWrapper"?"Wrapper":"Container"})]})}),C&&e.type==="emailWrapper"&&r.jsx("div",{className:"absolute top-10 left-1 z-[70] pointer-events-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl border p-3 min-w-[200px]",children:[r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("button",{onClick:q,className:"flex-1 px-3 py-1.5 text-sm text-gray-600 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"Cancel"}),r.jsx("button",{onClick:Y,className:"flex-1 px-3 py-1.5 text-sm text-white bg-blue-500 hover:bg-blue-600 rounded transition-colors",children:"Apply"})]}),r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Background Color"}),r.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:["#ffffff","#f8f9fa","#e9ecef","#dee2e6","#f8f5f0","#fff9e6","#e8f4fd","#e6f7ff","#f0f8f0","#fef7f0","#f5f5f5","#000000"].map(H=>r.jsx("button",{onClick:()=>T(H),className:pe("w-6 h-6 rounded border-2 transition-colors",k===H?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-blue-500"),style:{backgroundColor:H},title:H},H))}),r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Custom Color"}),r.jsx("input",{type:"color",value:k||e.props?.backgroundColor||"#ffffff",onChange:H=>T(H.target.value),className:"w-full h-8 rounded border border-gray-300"})]})}),t&&w.resizable&&r.jsx(tT,{capabilities:w.resizable,onResizeStart:K,onResizeEnd:G,isResizing:g,direction:y}),Q?r.jsx(Ry,{margin:Ws(e.type,"spacing.margin")?R:null,border:Ws(e.type,"spacing.border")?{width:M,style:I,color:O}:null,padding:Ws(e.type,"spacing.padding")?P:null,backgroundColor:w.background?.color?U:null,backgroundImage:w.background?.image?{url:V,size:oe,position:de,repeat:Ne}:null,borderRadius:w.effects?.borderRadius?e.props.borderRadius:null,isResizing:g,children:i}):r.jsx("div",{className:"element-content",children:i})]})}function tT({capabilities:e,onResizeStart:t,onResizeEnd:n,isResizing:a,direction:i}){const c=[];return e.horizontal&&c.push(r.jsx("div",{className:pe("resize-handle resize-handle-right","absolute top-0 right-0 w-2 h-full cursor-ew-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",a&&i==="right"&&"opacity-75"),onMouseDown:u=>t("right",u)},"resize-right")),e.vertical&&c.push(r.jsx("div",{className:pe("resize-handle resize-handle-bottom","absolute bottom-0 left-0 w-full h-2 cursor-ns-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",a&&i==="bottom"&&"opacity-75"),onMouseDown:u=>t("bottom",u)},"resize-bottom")),e.horizontal&&e.vertical&&c.push(r.jsx("div",{className:pe("resize-handle resize-handle-corner","absolute bottom-0 right-0 w-3 h-3 cursor-nw-resize","bg-blue-500 opacity-0 hover:opacity-75 transition-opacity",a&&i==="corner"&&"opacity-100"),onMouseDown:u=>t("corner",u)},"resize-corner")),r.jsx(r.Fragment,{children:c})}function nT({element:e,renderElements:t}){const{children:n=[]}=e;return r.jsx("div",{className:"email-wrapper-content w-full min-h-[200px] relative","data-component":"EmailWrapperElement","data-element-type":"emailWrapper","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?t(n,e.id):r.jsx("div",{className:"p-6 text-center text-gray-400 border-2 border-dashed border-purple-200 rounded-lg min-h-[150px] flex flex-col items-center justify-center",children:r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Email Client Background"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Click to edit the email client background color"}),r.jsx("div",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded text-xs font-medium",children:"Clickable Email Wrapper"})]})})})}function rT({element:e,renderElements:t}){const{children:n=[]}=e;new Date().toISOString();const{margin:a={top:0,right:0,bottom:0,left:0},padding:i={top:0,right:0,bottom:0,left:0},border:c={top:0,right:0,bottom:0,left:0},borderStyle:u="solid",borderColor:d="#000000",backgroundColor:m,backgroundImage:h,backgroundSize:g="cover",backgroundPosition:b="center",backgroundRepeat:y="no-repeat",borderRadius:v=0,boxShadow:C="none"}=e.props||{},{setNodeRef:N}=Qn({id:`email-container-main-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-drop"}}),{setNodeRef:k,isOver:_}=Qn({id:`email-container-empty-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-empty-drop"}});return r.jsx("div",{style:{paddingTop:`${a.top}px`,paddingRight:`${a.right}px`,paddingBottom:`${a.bottom}px`,paddingLeft:`${a.left}px`},children:r.jsx(Ry,{margin:null,padding:i,border:{width:c,style:u,color:d},backgroundColor:m,backgroundImage:h?{url:h,size:g,position:b,repeat:y}:null,borderRadius:v,boxShadow:C,children:r.jsx("div",{className:"email-container-content w-full h-full min-h-[200px] relative","data-component":"EmailContainerElement","data-element-type":"emailContainer","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?r.jsx("div",{ref:N,className:"min-h-full",children:t(n,e.id)}):r.jsxs("div",{ref:k,className:pe("h-full min-h-[150px] flex flex-col items-center justify-center text-gray-400 transition-all",_&&"bg-blue-50 border-2 border-blue-300 border-dashed"),children:[r.jsx(Io,{className:"w-10 h-10 mb-3"}),r.jsx("p",{className:"text-sm",children:"Drop elements here"}),_&&r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Release to add element"})]})})})})}function oT({element:e,renderElements:t}){const[n,a]=De.useState(!1),{setNodeRef:i,isOver:c}=Qn({id:`${e.id}-droppable`,data:{parentId:e.id,position:e.children?.length||0}}),{backgroundColor:u="transparent",backgroundImage:d,backgroundSize:m="cover",backgroundPosition:h="center",backgroundRepeat:g="no-repeat"}=e.props;return r.jsx("div",{ref:i,className:pe("element-content min-h-[50px] transition-all",c&&"bg-primary-50"),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),style:{backgroundColor:u!=="transparent"?u:void 0,backgroundImage:d?`url(${d})`:void 0,backgroundSize:m,backgroundPosition:h,backgroundRepeat:g},children:e.children&&e.children.length>0?t(e.children,e.id):r.jsx("div",{className:pe("py-8 text-center text-sm border-2 border-dashed rounded transition-all",n?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop elements here"})})}function sT({position:e,onFormatText:t,onAlignText:n,onFontSize:a,onTextColor:i,onDelete:c,onMoveUp:u,onMoveDown:d,onStartDrag:m,onSave:h,currentAlign:g="left",currentFontSize:b=16,currentColor:y="#000000",isVisible:v=!1,showElementControls:C=!1}){const N=p.useRef(null);if(p.useEffect(()=>{if(v&&e&&N.current){const w=N.current;w.style.left=`${e.x}px`,w.style.top=`${e.y}px`}},[e,v]),!v)return null;const k=[{icon:ih,command:"bold",title:"Bold (Ctrl+B)"},{icon:mh,command:"italic",title:"Italic (Ctrl+I)"},{icon:Rh,command:"underline",title:"Underline (Ctrl+U)"},{icon:cl,command:"createLink",title:"Add Link (Ctrl+K)"}],_=[{icon:oh,value:"left",title:"Align Left"},{icon:rh,value:"center",title:"Align Center"},{icon:sh,value:"right",title:"Align Right"}],S=[12,14,16,18,20,24,28,32,36];return r.jsxs("div",{ref:N,className:"fixed z-50 bg-white shadow-lg border border-gray-200 rounded-lg p-2 flex items-center gap-1 pointer-events-auto",style:{position:"fixed",transform:"translateX(-50%)"},children:[C&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),h&&h()},className:"p-2 rounded bg-green-500 hover:bg-green-600 text-white",title:"Save and exit",children:r.jsx(Mo,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation(),m&&m(w)},className:"p-2 rounded hover:bg-gray-100 cursor-move",title:"Drag to move",children:r.jsx(ll,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),u&&u()},className:"p-2 rounded hover:bg-gray-100",title:"Move Up",children:r.jsx(Ea,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),d&&d()},className:"p-2 rounded hover:bg-gray-100",title:"Move Down",children:r.jsx(jn,{className:"w-4 h-4 text-gray-700"})}),r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"})]}),r.jsx("div",{className:"flex border-r border-gray-200 pr-2 mr-2",children:k.map(({icon:w,command:R,title:M})=>r.jsx("button",{type:"button",onMouseDown:I=>{I.preventDefault(),I.stopPropagation()},onClick:I=>{I.preventDefault(),I.stopPropagation(),t(R)},className:"p-2 rounded hover:bg-gray-100",title:M,children:r.jsx(w,{className:"w-4 h-4 text-gray-700"})},R))}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(gs,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("select",{value:b,onChange:w=>a(parseInt(w.target.value)),className:"text-sm border border-gray-300 rounded px-2 py-1 min-w-[60px]",children:S.map(w=>r.jsxs("option",{value:w,children:[w,"px"]},w))})]}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(Pr,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("input",{type:"color",value:y,onChange:w=>i(w.target.value),className:"w-8 h-8 border border-gray-300 rounded cursor-pointer",title:"Text Color"})]}),r.jsx("div",{className:"flex",children:_.map(({icon:w,value:R,title:M})=>r.jsx("button",{type:"button",onClick:()=>n(R),className:pe("p-2 rounded transition-colors",g===R?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-700"),title:M,children:r.jsx(w,{className:"w-4 h-4"})},R))}),C&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),c&&c()},className:"p-2 rounded hover:bg-red-100",title:"Delete Element",children:r.jsx(Gn,{className:"w-4 h-4 text-red-600"})})]})]})}function aT({element:e}){const{content:t,fontSize:n=16,fontFamily:a="Arial, sans-serif",color:i="#000000",lineHeight:c=1.6,align:u="left",width:d="100%",margin:m={top:0,right:0,bottom:16,left:0},padding:h={top:0,right:0,bottom:0,left:0}}=e.props,[g,b]=p.useState(!1),[y,v]=p.useState(null),[C,N]=p.useState(!1),k=p.useRef(null),_=dt.getState().updateElement,S=dt.getState().deleteElement,w=dt.getState().selectElement,{setEditingTextElement:R,moveElementUpDown:M,isDragging:I}=Ho();p.useEffect(()=>{!g&&k.current&&k.current.innerHTML!==(t||"")&&(k.current.innerHTML=t||"")},[t,g]);const O=T=>{T.stopPropagation(),g||(w(e.id),b(!0),R(e.id),k.current&&(k.current.innerHTML=t||""),setTimeout(()=>{if(k.current){k.current.focus();const Y=window.getSelection(),q=document.createRange();q.selectNodeContents(k.current),q.collapse(!1),Y.removeAllRanges(),Y.addRange(q),U()}},0))};p.useEffect(()=>{const T=Y=>{if(g&&k.current&&!k.current.contains(Y.target)){const q=document.querySelector(".fixed.z-50");if(q&&q.contains(Y.target))return;V()}};return g&&document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[g]);const P=()=>{g&&U()};p.useEffect(()=>{!I&&g&&k.current&&U()},[I]),p.useEffect(()=>{if(!g||!C)return;const T=()=>{if(k.current){const Q=k.current.getBoundingClientRect();v({x:Q.left+Q.width/2,y:Q.top-50-20})}},Y=[];let q=k.current;for(;q;){const Q=window.getComputedStyle(q);(q.scrollHeight>q.clientHeight||Q.overflowY==="scroll"||Q.overflowY==="auto"||Q.overflow==="scroll"||Q.overflow==="auto")&&(Y.push(q),q.addEventListener("scroll",T,{passive:!0})),q=q.parentElement}return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",T,{passive:!0}),T(),()=>{Y.forEach(Q=>{Q.removeEventListener("scroll",T)}),window.removeEventListener("scroll",T),window.removeEventListener("resize",T)}},[g,C]);const U=()=>{if(k.current){const T=k.current.getBoundingClientRect();v({x:T.left+T.width/2,y:T.top-50-20}),N(!0)}},V=()=>{if(k.current){const T=k.current.innerHTML;_(e.id,{props:{...e.props,content:T}})}b(!1),N(!1),v(null),R(null)},oe=T=>{T.key==="Enter"&&(T.ctrlKey||T.metaKey)&&(T.preventDefault(),V()),T.key==="Escape"&&(T.preventDefault(),V())},de=T=>{if(T==="createLink"){const Y=prompt("Enter URL:");Y&&document.execCommand("createLink",!1,Y)}else document.execCommand(T,!1,null);k.current?.focus()},Ne=T=>{_(e.id,{props:{...e.props,align:T}})},re=T=>{_(e.id,{props:{...e.props,fontSize:T}})},ke=T=>{_(e.id,{props:{...e.props,color:T}})},ae=T=>{const Y=T.target.innerHTML;clearTimeout(window.textUpdateTimeout),window.textUpdateTimeout=setTimeout(()=>{_(e.id,{props:{...e.props,content:Y}})},300)},ne=()=>{V(),S(e.id)},F=()=>{M(e.id,"up")},K=()=>{M(e.id,"down")},G=T=>{V();const Y=T.target.closest('[data-component="SortableElement"]');if(Y){const q=Y.querySelector('[data-drag-handle="true"]');if(q){const Q=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:T.clientX,clientY:T.clientY});q.dispatchEvent(Q)}}},z=()=>{V()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:k,className:`min-h-[20px] element-content ${g?"outline-2 outline-blue-500 outline-dashed":""}`,style:{fontSize:`${n}px`,fontFamily:a,color:i,lineHeight:c,textAlign:u,width:d,marginTop:`${m.top}px`,marginRight:`${m.right}px`,marginBottom:`${m.bottom}px`,marginLeft:`${m.left}px`,paddingTop:`${h.top}px`,paddingRight:`${h.right}px`,paddingBottom:`${h.bottom}px`,paddingLeft:`${h.left}px`,cursor:g?"text":"pointer",minHeight:"1em"},contentEditable:g,suppressContentEditableWarning:!0,onClick:O,onKeyDown:g?oe:void 0,onInput:g?ae:void 0,onMouseUp:g?P:void 0,onKeyUp:g?P:void 0,"data-component":"TextElement","data-element-type":"text","data-element-id":e.id,"data-is-editing":g?"true":"false"}),r.jsx(sT,{position:y,isVisible:C&&g&&!I,onFormatText:de,onAlignText:Ne,onFontSize:re,onTextColor:ke,onDelete:ne,onMoveUp:F,onMoveDown:K,onStartDrag:G,onSave:z,currentAlign:u,currentFontSize:n,currentColor:i,showElementControls:!0}),g&&r.jsx("div",{className:"absolute bottom-[-30px] left-0 right-0 text-xs text-gray-500 text-center bg-white px-2 py-1 rounded shadow-sm",children:"Press Ctrl+Enter or click outside to finish  ESC to cancel"})]})}function iT({element:e}){const{text:t="Button",href:n="#",backgroundColor:a="#007cba",color:i="#ffffff",fontSize:c=16,fontWeight:u="normal",borderRadius:d=4,align:m="left",fullWidth:h=!1,target:g="_blank"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:m},children:r.jsx("a",{href:n,target:g,rel:g==="_blank"?"noopener noreferrer":void 0,className:"inline-block no-underline transition-opacity hover:opacity-80",style:{backgroundColor:a,color:i,fontSize:`${c}px`,fontWeight:u,borderRadius:`${d}px`,width:h?"100%":"auto",textAlign:"center",padding:"12px 24px"},children:t})})}function lT({element:e}){const{src:t,alt:n="Image",width:a="auto",height:i="auto",align:c="left",link:u,target:d="_blank"}=e.props,m=r.jsx("img",{src:t||"https://via.placeholder.com/600x300",alt:n,style:{width:a,height:i,maxWidth:"100%",display:"block",border:"0",outline:"none",textDecoration:"none",msInterpolationMode:"bicubic"}});return r.jsx("div",{className:"element-content",style:{textAlign:c},children:u?r.jsx("a",{href:u,target:d,rel:d==="_blank"?"noopener noreferrer":void 0,style:{textDecoration:"none",border:"0",outline:"none"},children:m}):m})}function cT({element:e}){const{height:t=20}=e.props;return r.jsx("div",{className:"element-content bg-transparent",style:{height:`${t}px`,fontSize:"0",lineHeight:"0"},children:""})}function uT({element:e}){const{height:t=1,color:n="#cccccc",style:a="solid",align:i="center",width:c="100%"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:i},children:r.jsx("hr",{style:{height:`${t}px`,width:c,backgroundColor:a==="solid"?n:"transparent",border:"none",borderTop:a==="dashed"?`${t}px dashed ${n}`:a==="dotted"?`${t}px dotted ${n}`:void 0,margin:0,display:"block",fontSize:"0",lineHeight:"0"}})})}function dT({element:e,renderElements:t}){const{columns:n=2,gap:a=16,stackOnMobile:i=!0}=e.props,c=Array(n).fill(null).map((u,d)=>e.children?.[d]||{type:"column",children:[]});return r.jsx("div",{className:"element-content flex flex-wrap",style:{gap:`${a}px`},"data-stack-mobile":i,children:c.map((u,d)=>r.jsx(fT,{columnId:`${e.id}-col-${d}`,parentId:e.id,index:d,width:`${100/n}%`,gap:a,renderElements:t,children:u.children||[]},d))})}function fT({columnId:e,parentId:t,index:n,width:a,gap:i,renderElements:c,children:u}){const[d,m]=De.useState(!1),{setNodeRef:h,isOver:g}=Qn({id:e,data:{parentId:t,position:n,isColumn:!0}});return r.jsx("div",{ref:h,className:pe("min-h-[100px] transition-all",g&&"bg-primary-50"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),style:{flex:`0 0 calc(${a} - ${i}px)`},children:u.length>0?c(u,e):r.jsx("div",{className:pe("h-full flex items-center justify-center text-sm border-2 border-dashed rounded p-4 transition-all",d?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop here"})})}const pT={facebook:{icon:"",defaultUrl:"https://facebook.com",label:"Facebook"},twitter:{icon:"",defaultUrl:"https://twitter.com",label:"Twitter"},instagram:{icon:"",defaultUrl:"https://instagram.com",label:"Instagram"},linkedin:{icon:"",defaultUrl:"https://linkedin.com",label:"LinkedIn"},youtube:{icon:"",defaultUrl:"https://youtube.com",label:"YouTube"},pinterest:{icon:"",defaultUrl:"https://pinterest.com",label:"Pinterest"}};function mT({element:e}){const{icons:t=["facebook","twitter","instagram"],iconSize:n=32,iconColor:a="#333333",spacing:i=8,align:c="left"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:c},children:r.jsx("div",{className:"inline-flex items-center",style:{gap:`${i}px`},children:t.map(u=>{const d=pT[u];return d?r.jsx("a",{href:d.defaultUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center transition-opacity hover:opacity-70",style:{width:`${n}px`,height:`${n}px`,fontSize:`${n*.6}px`,color:a},title:d.label,children:r.jsx("span",{children:d.icon})},u):null})})})}function hT({element:e}){const{field:t="email",fallback:n="[Form Field]",format:a="text"}=e.props,i=t?`{${t}}`:n;return r.jsx("div",{className:"element-content inline-block px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:i})}function gT({element:e}){const{content:t=""}=e.props,[n,a]=p.useState(!1),[i,c]=p.useState(!0),[u,d]=p.useState(t),m=p.useRef(null),h=dt.getState().updateElement;p.useEffect(()=>{n||d(t)},[t,n]),p.useEffect(()=>{n&&m.current&&(m.current.style.height="auto",m.current.style.height=Math.max(100,m.current.scrollHeight)+"px")},[u,n]);const g=v=>{v.stopPropagation(),n||(a(!0),setTimeout(()=>m.current?.focus(),0))},b=()=>{h(e.id,{props:{...e.props,content:u}}),a(!1)},y=v=>{v.key==="Escape"&&(v.preventDefault(),d(t),a(!1)),v.key==="Enter"&&(v.ctrlKey||v.metaKey)&&(v.preventDefault(),b())};return n?r.jsxs("div",{className:"border-2 border-blue-500 rounded overflow-hidden","data-component":"HtmlElement","data-element-id":e.id,"data-is-editing":"true",children:[r.jsxs("div",{className:"bg-gray-800 px-3 py-2 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vt,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-300 font-mono",children:"HTML Block"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>c(!i),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors",i?"bg-gray-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[i?r.jsx(Zu,{className:"w-3 h-3"}):r.jsx($o,{className:"w-3 h-3"}),i?"Hide Preview":"Show Preview"]}),r.jsxs("button",{onClick:b,className:"flex items-center gap-1 bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition-colors",children:[r.jsx(Ki,{className:"w-3 h-3"}),"Save"]})]})]}),r.jsxs("div",{className:pe("flex",i?"flex-row":"flex-col"),children:[r.jsx("div",{className:pe("bg-gray-900",i?"w-1/2":"w-full"),children:r.jsx("textarea",{ref:m,value:u,onChange:v=>d(v.target.value),onKeyDown:y,className:"w-full min-h-[100px] bg-gray-900 text-gray-100 font-mono text-sm p-3 border-0 outline-none resize-none",placeholder:"Enter your HTML code here...",spellCheck:!1})}),i&&r.jsxs("div",{className:"w-1/2 bg-white border-l border-gray-700",children:[r.jsx("div",{className:"bg-gray-100 px-3 py-1 text-xs text-gray-500 border-b",children:"Preview"}),r.jsx("div",{className:"p-3 prose max-w-none min-h-[100px]",children:u?r.jsx("div",{dangerouslySetInnerHTML:{__html:u}}):r.jsx("span",{className:"text-gray-400",children:"Preview will appear here..."})})]})]}),r.jsx("div",{className:"bg-gray-800 px-3 py-1 text-xs text-gray-500 text-center",children:"Ctrl+Enter to save | ESC to cancel"})]}):r.jsxs("div",{onClick:g,className:"relative cursor-pointer group min-h-[40px]","data-component":"HtmlElement","data-element-id":e.id,children:[r.jsxs("div",{className:"absolute top-1 right-1 bg-gray-700 text-white text-xs px-1.5 py-0.5 rounded opacity-60 group-hover:opacity-100 flex items-center gap-1 z-10",children:[r.jsx(Vt,{className:"w-3 h-3"}),r.jsx("span",{children:"HTML"})]}),t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsx("div",{className:"text-gray-400 text-center py-4 border-2 border-dashed border-gray-300 rounded",children:"Click to add HTML code"}),r.jsx("div",{className:"absolute inset-0 bg-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:"Click to edit HTML"})})]})}const xT={emailWrapper:nT,emailContainer:rT,section:oT,text:aT,button:iT,image:lT,spacer:cT,divider:uT,columns:dT,social:mT,formData:hT,html:gT};function yT({element:e,renderElements:t,isSelected:n,isHovered:a=!1,onElementUpdate:i,onCapabilityAction:c,onEdit:u,isMobile:d}){const m=xT[e.type];return m?r.jsx(eT,{element:e,isSelected:n,isHovered:a,renderElements:t,onElementUpdate:i,onCapabilityAction:c,onEdit:u,isMobile:d,children:r.jsx(m,{element:e,renderElements:t})}):r.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm",children:["Unknown element type: ",e.type]})}function zy({element:e,index:t,parentId:n,isSelected:a,onSelect:i,renderElements:c,isMobile:u}){const[d,m]=p.useState(!1),{deleteElement:h,editingTextElementId:g}=Ho(),y=wf(e.type).layout?.isSystemElement,{attributes:v,listeners:C,setNodeRef:N,transform:k,transition:_,isDragging:S}=Ud({id:e.id,disabled:y,data:{type:"canvas-element",elementId:e.id,parentId:n,position:t}}),w={transform:gr.Transform.toString(k),transition:_,opacity:S?.5:void 0},R=U=>{U.stopPropagation(),confirm("Are you sure you want to delete this element?")&&h(e.id)},M=U=>{U.stopPropagation(),i(),e.type==="text"&&setTimeout(()=>{const V=U.target.closest('[data-component="SortableElement"]')?.querySelector('[data-component="TextElement"]');V&&V.click()},50)},I=U=>{if(e.type==="emailWrapper"){U.stopPropagation();return}if(e.type==="emailContainer"){const V=U.currentTarget.getBoundingClientRect(),oe=U.clientX,de=parseInt(e.props?.width||"600px"),Ne=V.left+(V.width-de)/2,re=Ne+de;oe>=Ne&&oe<=re&&(U.stopPropagation(),i());return}U.stopPropagation(),i()},O=(U,V,oe)=>{console.log("Element update:",U,V,oe)},P=(U,V,oe)=>{console.log("Capability action:",U,V,oe)};return r.jsxs("div",{ref:N,style:w,className:pe("relative group transition-all duration-200",S&&"z-50",y&&"cursor-default"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),"data-component":"SortableElement","data-element-type":e.type,"data-element-id":e.id,"data-is-system":y?"true":"false","data-is-sortable":y?"false":"true","data-is-selected":a?"true":"false","data-is-hovered":d?"true":"false","data-is-dragging":S?"true":"false",children:[d&&!S&&!y&&g!==e.id&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:r.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[r.jsx("button",{onClick:M,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Edit element",children:r.jsx(pr,{className:"w-5 h-5 text-gray-700"})}),r.jsx("button",{onClick:R,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Delete element",children:r.jsx(Gn,{className:"w-5 h-5 text-red-600"})}),r.jsx("button",{...C,...v,"data-drag-handle":"true",className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110 cursor-move",title:"Drag to reposition",children:r.jsx(ll,{className:"w-5 h-5 text-gray-700"})})]})}),r.jsx("div",{onClick:I,className:"cursor-pointer transition-all",children:r.jsx(yT,{element:e,renderElements:c,isSelected:a,isHovered:d&&!S,onElementUpdate:O,isMobile:u,onCapabilityAction:P,onEdit:M})})]})}function vT({isMobile:e=!1}){const{elements:t,isDragging:n,selectElement:a,selectedElementId:i,setElements:c}=Ho();De.useEffect(()=>{(!t||t.length===0)&&c([])},[t,c]);const u=(h,g=null)=>{if(!h||h.length===0)return g?null:r.jsx(d,{parentId:null,position:0,children:r.jsxs("div",{className:"py-12 text-center text-gray-400",children:[r.jsx("svg",{className:"w-10 h-10 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("p",{className:"text-sm",children:"Drag elements here to start building"})]})});const b=h.filter(C=>C.type!=="emailWrapper"&&C.type!=="emailContainer").map(C=>C.id),y=h.filter(C=>C.type==="emailWrapper"||C.type==="emailContainer"),v=h.filter(C=>C.type!=="emailWrapper"&&C.type!=="emailContainer");return r.jsxs(r.Fragment,{children:[y.map(C=>r.jsx("div",{className:"system-element-container",children:r.jsx(zy,{element:C,index:0,parentId:g,isSelected:i===C.id,onSelect:()=>a(C.id),renderElements:u,isMobile:e})},C.id)),r.jsxs(Bd,{items:b,strategy:Wd,children:[r.jsx(d,{parentId:g,position:0,elementCount:v.length}),v.map((C,N)=>r.jsxs(De.Fragment,{children:[r.jsx(zy,{element:C,index:N,parentId:g,isSelected:i===C.id,onSelect:()=>a(C.id),renderElements:u,isMobile:e}),r.jsx(d,{parentId:g,position:N+1,elementCount:v.length})]},C.id))]})]})};function d({parentId:h,position:g,children:b,elementCount:y=0}){const{setNodeRef:v,isOver:C}=Qn({id:`dropzone-${h||"root"}-${g}`,data:{parentId:h,position:g,type:"dropzone"}}),N=!h||g===0&&h&&h.includes("email-wrapper");return r.jsxs("div",{ref:v,className:pe(N?"min-h-0":"min-h-[4px]","transition-all relative",!N&&n&&"min-h-[8px]",!N&&C&&"min-h-[30px]"),"data-component":"DropZone","data-parent-id":h||"root","data-position":g,"data-is-over":C?"true":"false","data-should-hide":N?"true":"false",children:[!N&&C&&r.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 h-1 bg-blue-500 rounded"}),b]})}const m=h=>{h.target===h.currentTarget&&a(null)};return r.jsx("div",{className:pe("min-h-[100px] transition-colors",n&&"bg-gray-50"),onClick:m,children:u(t)})}const jf=Gg(Kg((e,t)=>({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null,initializeStore:n=>{e({emails:n.emails||[],activeEmailId:n.emails?.[0]?.id||null,translations:n.translations||{}})},addEmail:()=>{const n={id:`email_${Date.now()}`,enabled:!0,description:"New Email",to:"{email}",from_email:"",from_name:"{option_blogname}",subject:"New submission",body:"<p>The following information has been sent:</p>{loop_fields}",attachments:[],reply_to:{enabled:!1,email:"",name:""},cc:"",bcc:"",template:{slug:"none"},conditions:{enabled:!1,f1:"",logic:"==",f2:""},schedule:{enabled:!1,schedules:[]}};e(a=>({emails:[...a.emails,n],activeEmailId:n.id,isDirty:!0}))},removeEmail:n=>{e(a=>{const i=a.emails.filter(u=>u.id!==n),c=a.activeEmailId===n?i[0]?.id||null:a.activeEmailId;return{emails:i,activeEmailId:c,isDirty:!0}})},updateEmail:(n,a)=>{e(i=>({emails:i.emails.map(c=>c.id===n?{...c,...a}:c),isDirty:!0}))},updateEmailField:(n,a,i)=>{e(c=>({emails:c.emails.map(d=>{if(d.id!==n)return d;const m=a.split("."),h={...d};let g=h;for(let b=0;b<m.length-1;b++){const y=m[b];g[y]={...g[y]},g=g[y]}return g[m[m.length-1]]=i,h}),isDirty:!0}))},setActiveEmailId:n=>{e({activeEmailId:n})},getActiveEmail:()=>{const n=t();return n.emails.find(a=>a.id===n.activeEmailId)},setActiveLanguage:n=>{e({activeLanguage:n})},updateTranslation:(n,a,i,c)=>{e(u=>{const d={...u.translations};return d[i]||(d[i]={}),d[i][n]||(d[i][n]={}),d[i][n][a]=c,{translations:d,isDirty:!0}})},reorderEmails:(n,a)=>{e(i=>{const c=[...i.emails],[u]=c.splice(n,1);return c.splice(a,0,u),{emails:c,isDirty:!0}})},save:async(n,a,i)=>{const c=t();e({isSaving:!0,error:null});try{const u=new FormData;u.append("action","super_save_form_emails"),u.append("form_id",n),u.append("nonce",i),u.append("emails",JSON.stringify(c.emails)),u.append("translations",JSON.stringify(c.translations));const d=await fetch(a,{method:"POST",body:u}),m=await d.json();if(!d.ok||!m.success)throw new Error(m.message||"Failed to save");return e({isSaving:!1,isDirty:!1}),{success:!0}}catch(u){return e({isSaving:!1,error:u.message}),{success:!1,error:u.message}}},reset:()=>{e({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null})}})));function Ty(){const{activeEmailId:e,emails:t}=jf(),n=t.find(y=>y.id===e),[a,i]=p.useState("dummy"),[c,u]=p.useState(""),[d,m]=p.useState(()=>window.superEmailsData?.currentUserEmail||""),[h,g]=p.useState({type:null,message:""}),b=p.useCallback(async()=>{if(!d){g({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)){g({type:"error",message:"Please enter a valid email address"});return}if(!n){g({type:"error",message:"No email selected"});return}const{formId:v,ajaxUrl:C,nonce:N}=window.superEmailsData||{};if(!C||!N){g({type:"error",message:"WordPress context not available"});return}g({type:"loading",message:"Sending test email..."});try{const k={from:n.from_email||"",from_name:n.from_name||"",reply:n.reply_to?.email||"",reply_name:n.reply_to?.name||"",cc:n.cc||"",bcc:n.bcc||"",subject:n.subject||"Test Email",body:n.body||"",attachments:n.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},_=new FormData;_.append("action","super_send_test_email"),_.append("nonce",N),_.append("form_id",v||0),_.append("data_type",a),_.append("entry_id",a==="entry"?c:""),_.append("test_recipient",d),Object.entries(k).forEach(([R,M])=>{Array.isArray(M)?M.forEach((I,O)=>{_.append(`email_settings[${R}][${O}]`,I)}):_.append(`email_settings[${R}]`,M)});const w=await(await fetch(C,{method:"POST",body:_,credentials:"same-origin"})).json();w.success?(g({type:"success",message:w.data?.message||"Test email sent!"}),setTimeout(()=>g({type:null,message:""}),5e3)):g({type:"error",message:w.data?.message||"Failed to send test email"})}catch(k){console.error("Test email error:",k),g({type:"error",message:"Network error - please try again"})}},[n,a,c,d]);return n?r.jsx("div",{className:"bg-gray-50 border-t border-b border-gray-200 px-4 py-2",children:r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Test Data:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"dataType",value:"dummy",checked:a==="dummy",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Dummy data"})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"dataType",value:"entry",checked:a==="entry",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Entry data"})]})]})]}),a==="entry"&&r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("input",{type:"text",value:c,onChange:y=>u(y.target.value),placeholder:"Entry ID (empty = latest)",className:"w-40 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"email",value:d,onChange:y=>m(y.target.value),placeholder:"recipient@example.com",className:"w-52 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),r.jsxs("button",{type:"button",onClick:b,disabled:h.type==="loading",className:pe("inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded transition-colors",h.type==="loading"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-500 text-white hover:bg-primary-600"),children:[h.type==="loading"?r.jsx(ul,{className:"w-4 h-4 animate-spin"}):r.jsx(hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Send Test"})]})]}),h.type&&h.type!=="loading"&&r.jsxs("div",{className:pe("flex items-center gap-1.5 text-sm",h.type==="success"&&"text-green-600",h.type==="error"&&"text-red-600"),children:[h.type==="success"&&r.jsx(Xi,{className:"w-4 h-4"}),h.type==="error"&&r.jsx(Do,{className:"w-4 h-4"}),r.jsx("span",{children:h.message})]})]})}):null}const Dy=[{id:"desktop",name:"Desktop",icon:Ra,component:yf},{id:"mobile",name:"Mobile",icon:Ta,component:yf}];function bT({value:e,onChange:t}){const[n,a]=p.useState(e||"");p.useEffect(()=>{a(e||"")},[e]);const i=c=>{const u=c.target.value;a(u),clearTimeout(window.htmlEditorTimeout),window.htmlEditorTimeout=setTimeout(()=>{t(u)},300)};return r.jsxs("div",{className:"min-h-[300px] bg-gray-900 rounded overflow-hidden",children:[r.jsx("div",{className:"bg-gray-800 px-3 py-2 text-xs text-gray-400 border-b border-gray-700 font-mono",children:"HTML Source"}),r.jsx("textarea",{value:n,onChange:i,className:"w-full min-h-[300px] bg-gray-900 text-gray-100 font-mono text-sm p-4 border-0 outline-none resize-y",placeholder:"Enter your HTML email content here...",spellCheck:!1})]})}function wT(){const[e,t]=p.useState("desktop"),[n,a]=p.useState(null),{activeEmailId:i,emails:c,updateEmailField:u,activeLanguage:d,translations:m,setActiveLanguage:h}=jf(),{elements:g,setElements:b,isDragging:y,draggedElement:v,startDrag:C,endDrag:N,addElement:k,moveElement:_,generateHtml:S,elementTypes:w}=Ho(),R=c.find(re=>re.id===i),M=Dy.find(re=>re.id===e)?.component||yf,I=R?.body_type==="html";p.useEffect(()=>{R&&!I&&(R.template&&typeof R.template=="object"&&R.template.elements?b(R.template.elements):b([]))},[R,b,I]),p.useEffect(()=>{if(R&&!I&&g.length>0){const re=S(),ke=setTimeout(()=>{u(i,"template",{elements:g,html:re}),u(i,"body",re)},500);return()=>clearTimeout(ke)}},[g,R,i,S,u,I]);const O=p.useCallback(re=>{re==="html"&&!I?a({title:"Switch to HTML Mode",message:"Your visual elements will be converted to raw HTML code. You can edit the HTML directly.",confirmText:"Switch to HTML",onConfirm:()=>{const ke=S();u(i,"body",ke),u(i,"body_type","html"),a(null)},onCancel:()=>a(null)}):re==="visual"&&I&&a({title:"Switch to Visual Mode",message:"Your HTML content will be placed in an editable HTML block within the visual builder.",confirmText:"Switch to Visual",onConfirm:()=>{const ae=[{id:$n(),type:"html",props:{content:R.body||""},children:[]}];u(i,"body_type","visual"),u(i,"template",{elements:ae,html:R.body||""}),b(ae),a(null)},onCancel:()=>a(null)})},[I,i,R,S,u,b]),P=re=>{const{active:ke,over:ae}=re;if(!ae){N();return}const ne=ke.data.current,F=ae.data.current;if(ne.type==="new-element"){const K=F?.position!==void 0?F.position:null,G=F?.parentId||null;k(ne.elementType,G,K)}else if(ne.type==="canvas-element"&&ke.id!==ae.id){const K=F?.position!==void 0?F.position:null,G=F?.parentId||null;_(ke.id,G,K)}N()},U=re=>{const{active:ke}=re,ae=ke.data.current;if(ae.type==="new-element"){const ne=Ho.getState().elementTypes[ae.elementType];C(ne)}};if(!R)return r.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Select an email to preview"})]})});const V={...R,body:I?R.body:g.length>0?S():R.body},oe=r.jsx("div",{className:"bg-white border-b px-4 py-2 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ln,{value:R.description,onChange:re=>u(i,"description",re),placeholder:"Untitled Email",className:"text-sm font-medium text-gray-700",showEditIcon:!0}),r.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:I?"HTML":"Visual"})]}),m&&Object.keys(m).length>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yu,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:d,onChange:re=>h(re.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:[r.jsx("option",{value:"default",children:"Default"}),Object.entries(m).map(([re,ke])=>r.jsx("option",{value:re,children:ke.name||re},re))]})]})]}),r.jsx("div",{className:"flex gap-1",children:Dy.map(re=>{const ke=re.icon;return r.jsxs("button",{onClick:()=>t(re.id),className:pe("px-3 py-1 rounded-md text-sm transition-colors flex items-center gap-1",e===re.id?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:re.name,children:[r.jsx(ke,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:re.name})]},re.id)})})]})}),de=n&&r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center overflow-x-hidden overflow-y-auto bg-black/50",children:r.jsxs("div",{className:"bg-white border border-gray-200 shadow-lg rounded-xl max-w-lg w-full mx-4",children:[r.jsx("div",{className:"flex justify-between items-center py-3 px-4 border-b border-gray-200",children:r.jsx("h3",{className:"font-bold text-gray-800",children:n.title})}),r.jsx("div",{className:"p-4",children:r.jsx("p",{className:"text-gray-600",children:n.message})}),r.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:n.onCancel,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"button",onClick:n.onConfirm,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700",children:n.confirmText})]})]})}),Ne=()=>I?r.jsx(bT,{value:R.body,onChange:re=>u(i,"body",re)}):r.jsx(vT,{isMobile:e==="mobile"});return I?r.jsxs("div",{className:"h-full flex flex-col bg-gray-100",children:[oe,de,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(M,{email:V,isMobile:e==="mobile",isBuilder:!0,renderBody:Ne,updateEmailField:u,activeEmailId:i,isHtmlMode:I,onModeChange:O})}),r.jsx(Ty,{})]})]}):r.jsxs(Ad,{collisionDetection:Sd,onDragEnd:P,onDragStart:U,children:[r.jsxs("div",{className:"h-full flex flex-col bg-gray-100",children:[oe,de,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(M,{email:V,isMobile:e==="mobile",isBuilder:!0,renderBody:Ne,updateEmailField:u,activeEmailId:i,isHtmlMode:I,onModeChange:O})}),r.jsx(Ty,{}),r.jsx("div",{className:"bg-white border-t",children:r.jsx(Xz,{})})]})]}),r.jsx(Px,{children:v&&r.jsx("div",{className:"bg-white rounded shadow-lg p-3 opacity-90",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:v.icon}),r.jsx("span",{className:"text-sm font-medium",children:v.name})]})})})]})}function jT({isOpen:e,onClose:t,node:n,onUpdateNode:a}){const[i,c]=p.useState({to:n.config.to||"",subject:n.config.subject||"",from:n.config.from||"{admin_email}",replyTo:n.config.replyTo||"",template:n.config.template||null}),[u,d]=p.useState(!0),m=n.config._enabled!==!1;p.useEffect(()=>{c({to:n.config.to||"",subject:n.config.subject||"",from:n.config.from||"{admin_email}",replyTo:n.config.replyTo||"",template:n.config.template||null})},[n.id]);const h=p.useCallback(v=>{c(C=>({...C,template:v}))},[]),g=(v,C)=>{c(N=>({...N,[v]:C}))},b=()=>{a(n.id,{config:{...n.config,_enabled:!m}})},y=()=>{a(n.id,{config:{...n.config,...i}}),t()};return r.jsx(F0,{open:e,onOpenChange:v=>!v&&t(),children:r.jsxs(of,{className:"max-w-[95vw] w-[95vw] h-[90vh] max-h-[90vh] p-0 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-white",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:r.jsx($r,{className:"w-5 h-5 text-blue-600"})}),r.jsx("div",{children:r.jsxs(sf,{className:"p-0 space-y-0",children:[r.jsx(af,{className:"text-lg font-semibold",children:"Send Email"}),r.jsx(lf,{className:"text-sm text-gray-500",children:"Configure the email that will be sent when this action triggers"})]})})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yh,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:m?"Enabled":"Disabled"}),r.jsx("button",{onClick:b,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${m?"bg-green-500":"bg-gray-300"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm ${m?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Mo,{className:"w-4 h-4"}),"Save & Close"]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Zt,{className:"w-5 h-5 text-gray-500"})})]})]}),r.jsxs("div",{className:"border-b bg-gray-50",children:[r.jsxs("button",{onClick:()=>d(!u),className:"w-full flex items-center justify-between px-6 py-3 hover:bg-gray-100 transition-colors",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email Settings"}),u?r.jsx(Ea,{className:"w-4 h-4 text-gray-500"}):r.jsx(jn,{className:"w-4 h-4 text-gray-500"})]}),u&&r.jsxs("div",{className:"px-6 pb-4 grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To"}),r.jsx("input",{type:"text",value:i.to,onChange:v=>g("to",v.target.value),placeholder:"{email} or recipient@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Use ","{field_name}"," to insert form field values"]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),r.jsx("input",{type:"text",value:i.subject,onChange:v=>g("subject",v.target.value),placeholder:"Email subject line",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From"}),r.jsx("input",{type:"text",value:i.from,onChange:v=>g("from",v.target.value),placeholder:"{admin_email}",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reply-To"}),r.jsx("input",{type:"text",value:i.replyTo,onChange:v=>g("replyTo",v.target.value),placeholder:"Optional reply-to address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsx(NT,{node:n,emailConfig:i,onChange:h})]})})}function NT({node:e,emailConfig:t,onChange:n}){const{initializeStore:a,activeEmailId:i,emails:c,reset:u}=jf();return p.useEffect(()=>{const d={id:`temp-${e.id}`,description:"Email Template",subject:t.subject,to:t.to,from:t.from,replyTo:t.replyTo,body:t.template?.html||"",body_type:"visual",template:t.template||{elements:[],html:""}};return a({emails:[d]}),()=>{u()}},[e.id,t,a,u]),p.useEffect(()=>{if(i&&c.length>0){const d=c.find(m=>m.id===i);d?.template&&n({elements:d.template.elements||[],html:d.template.html||""})}},[c,i,n]),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx(wT,{})})}function kT({formId:e,automationId:t}){const n=Tz(),[a,i]=p.useState("Untitled Workflow"),[c,u]=p.useState(null),[d,m]=p.useState(!1),h=p.useRef(null),[g,b]=p.useState(!1),[y,v]=p.useState(null),[C,N]=p.useState(!1),[k,_]=p.useState(null);p.useEffect(()=>{t&&S(t)},[t]);const S=async K=>{try{const G=await fetch(`${window.sfuiData.restUrl}/automations/${K}`,{headers:{"X-WP-Nonce":window.sfuiData.restNonce}});if(!G.ok)throw new Error("Failed to load workflow");const z=await G.json();if(i(z.name||"Untitled Workflow"),z.workflow_graph){const T=JSON.parse(z.workflow_graph);n.loadWorkflow(T)}}catch(G){console.error("Failed to load workflow:",G),alert("Failed to load workflow. Please try again.")}},w=async()=>{if(!a.trim()){alert("Please enter a workflow name");return}m(!0);try{const K=n.exportWorkflow();if(!n.nodes.find(Q=>Q.type.startsWith("form.")||Q.type.startsWith("entry.")||Q.type.startsWith("payment.")||Q.type.startsWith("session."))){alert("Please add at least one trigger node (event) to your workflow"),m(!1);return}const z={name:a,type:"visual",workflow_graph:JSON.stringify(K),enabled:!0},T=t?`${window.sfuiData.restUrl}/automations/${t}`:`${window.sfuiData.restUrl}/automations`,Y=await fetch(T,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.sfuiData.restNonce},body:JSON.stringify(z)});if(!Y.ok){const Q=await Y.json();throw new Error(Q.message||"Failed to save workflow")}const q=await Y.json();alert("Workflow saved successfully!"),!t&&q.id&&(window.location.href=`${window.location.pathname}?page=super_create_form&id=${e}&tab=automations&automation_id=${q.id}`)}catch(K){console.error("Failed to save workflow:",K),alert("Failed to save workflow. Please try again.")}finally{m(!1)}},R=p.useCallback(K=>{K.preventDefault();const G=K.dataTransfer.getData("application/super-forms-node");if(!G||!h.current)return;const z=h.current.getBoundingClientRect(),T=K.clientX-z.left,Y=K.clientY-z.top,q=n.screenToCanvas(T,Y);n.addNode(G,q)},[n]),M=p.useCallback(K=>{K.preventDefault(),K.dataTransfer.dropEffect="copy"},[]),I=p.useCallback((K,G)=>{n.selectNode(K,G),u(K)},[n]),O=p.useCallback((K,G)=>{n.endConnection(K,G)},[n]),P=p.useCallback(K=>{v(K),b(!0)},[]),U=p.useCallback((K,G)=>{const z=n.addNode(K,G);if(z&&n.connectionStart){const Y=Object.values(n.nodes).find(q=>q.type===K)?.config?.inputs?.[0]||"data";n.endConnection(z,Y)}b(!1),v(null)},[n]),V=p.useCallback((K,G,z)=>{},[]),oe=p.useCallback((K,G)=>{n.updateNode(K,{position:G})},[n]),de=p.useCallback(()=>{},[]),Ne=c&&n.nodes.find(K=>K.id===c)||null,re=p.useCallback(()=>{n.nodes.length!==0&&confirm("Are you sure you want to clear this workflow? This action cannot be undone.")&&(n.clearWorkflow(),u(null))},[n]),ke=p.useCallback(()=>{alert("Test functionality coming soon! This will fire a test event with sample data.")},[]),ae=p.useCallback(()=>{alert("Preview functionality coming soon! This will show the workflow execution flow.")},[]),ne=p.useCallback(K=>{_(K),N(!0)},[]),F=p.useCallback(()=>{N(!1),_(null)},[]);return r.jsxs("div",{className:"visual-builder flex flex-col h-full bg-gray-100",children:[r.jsx(Bz,{workflowName:a,onWorkflowNameChange:i,onSave:w,onUndo:n.undo,onRedo:n.redo,onClear:re,onTest:ke,onPreview:ae,canUndo:n.canUndo,canRedo:n.canRedo,isSaving:d}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsx("div",{className:"w-80 flex-shrink-0",children:r.jsx(Az,{onAddNode:(K,G)=>n.addNode(K,G)})}),r.jsx("div",{ref:h,className:"flex-1 relative",onDrop:R,onDragOver:M,children:r.jsx(Lz,{nodes:n.nodes,connections:n.connections,groups:n.groups,viewport:n.viewport,selectedNodes:n.selectedNodes,selectedConnections:n.selectedConnections,onNodeClick:I,onNodeDragStart:V,onNodeDrag:oe,onNodeDragEnd:de,onCanvasPan:n.panViewport,onCanvasClick:()=>{n.clearSelection(),u(null)},onZoom:n.zoomViewport,dragState:n.dragState,setDragState:n.setDragState,isConnecting:n.isConnecting,connectionStart:n.connectionStart,onConnectionStart:n.startConnection,onConnectionEnd:O,onConnectionDropOnCanvas:P,onConnectionClick:K=>{},onDeleteConnection:n.deleteConnection,onCancelConnection:n.cancelConnection,onSelectNodesInRect:n.selectNodes,onUpdateGroup:n.updateGroup,onRemoveGroup:n.removeGroup,onMoveGroup:n.moveGroup})}),Ne&&r.jsx("div",{className:"w-96 flex-shrink-0",children:r.jsx(Wz,{selectedNode:Ne,onUpdateNode:n.updateNode,onClose:()=>{n.clearSelection(),u(null)},onOpenEmailBuilder:ne})})]}),k&&r.jsx(jT,{isOpen:C,onClose:F,node:k,onUpdateNode:n.updateNode}),r.jsx(Uz,{isOpen:g,onClose:()=>{b(!1),v(null),n.cancelConnection()},connectionStart:n.connectionStart,position:y,onCreateAndConnect:U})]})}function $y({formId:e}){const t=new URLSearchParams(window.location.search),n=t.get("automation_id")?parseInt(t.get("automation_id")):null;return r.jsx("div",{className:"automations-tab h-full",children:r.jsx(kT,{formId:e,automationId:n})})}const CT=Object.freeze(Object.defineProperty({__proto__:null,AutomationsTab:$y},Symbol.toStringTag,{value:"Module"}));function ET({formId:e,forms:t,restUrl:n,restNonce:a}){return e?r.jsx($y,{formId:e}):r.jsx("div",{className:"flex items-center justify-center h-full p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Form Selected"}),r.jsx("p",{className:"text-gray-600",children:"Please select a form to manage automations and workflows."})]})})}const ST=Object.freeze(Object.defineProperty({__proto__:null,default:ET},Symbol.toStringTag,{value:"Module"}));function _T(){return r.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold",children:"Email Notifications"}),r.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:[r.jsx(za,{size:14}),"Add Email"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure email notifications sent when this form is submitted."}),r.jsxs("div",{className:"border border-dashed border-border rounded-lg p-8 text-center",children:[r.jsx($r,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"No email notifications configured yet."}),r.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:'Click "Add Email" to create your first notification.'})]})]})}const RT=Object.freeze(Object.defineProperty({__proto__:null,default:_T},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=admin.js.map
