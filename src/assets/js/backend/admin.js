var k$=Object.defineProperty;var S$=(zo,In,Jr)=>In in zo?k$(zo,In,{enumerable:!0,configurable:!0,writable:!0,value:Jr}):zo[In]=Jr;var us=(zo,In,Jr)=>S$(zo,typeof In!="symbol"?In+"":In,Jr);(function(){"use strict";function zo(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(s,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function In(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jr={exports:{}},ba={},Ed={exports:{}},Ae={};var um;function i1(){if(um)return Ae;um=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function S(z,R,G){this.props=z,this.context=R,this.refs=N,this.updater=G||b}S.prototype.isReactComponent={},S.prototype.setState=function(z,R){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,R,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function _(){}_.prototype=S.prototype;function E(z,R,G){this.props=z,this.context=R,this.refs=N,this.updater=G||b}var w=E.prototype=new _;w.constructor=E,k(w,S.prototype),w.isPureReactComponent=!0;var T=Array.isArray,M=Object.prototype.hasOwnProperty,I={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function P(z,R,G){var Y,J={},xe=null,U=null;if(R!=null)for(Y in R.ref!==void 0&&(U=R.ref),R.key!==void 0&&(xe=""+R.key),R)M.call(R,Y)&&!O.hasOwnProperty(Y)&&(J[Y]=R[Y]);var ge=arguments.length-2;if(ge===1)J.children=G;else if(1<ge){for(var ze=Array(ge),Ee=0;Ee<ge;Ee++)ze[Ee]=arguments[Ee+2];J.children=ze}if(z&&z.defaultProps)for(Y in ge=z.defaultProps,ge)J[Y]===void 0&&(J[Y]=ge[Y]);return{$$typeof:e,type:z,key:xe,ref:U,props:J,_owner:I.current}}function B(z,R){return{$$typeof:e,type:z.type,key:R,ref:z.ref,props:z.props,_owner:z._owner}}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function oe(z){var R={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(G){return R[G]})}var ue=/\/+/g;function Ne(z,R){return typeof z=="object"&&z!==null&&z.key!=null?oe(""+z.key):R.toString(36)}function re(z,R,G,Y,J){var xe=typeof z;(xe==="undefined"||xe==="boolean")&&(z=null);var U=!1;if(z===null)U=!0;else switch(xe){case"string":case"number":U=!0;break;case"object":switch(z.$$typeof){case e:case t:U=!0}}if(U)return U=z,J=J(U),z=Y===""?"."+Ne(U,0):Y,T(J)?(G="",z!=null&&(G=z.replace(ue,"$&/")+"/"),re(J,R,G,"",function(Ee){return Ee})):J!=null&&(V(J)&&(J=B(J,G+(!J.key||U&&U.key===J.key?"":(""+J.key).replace(ue,"$&/")+"/")+z)),R.push(J)),1;if(U=0,Y=Y===""?".":Y+":",T(z))for(var ge=0;ge<z.length;ge++){xe=z[ge];var ze=Y+Ne(xe,ge);U+=re(xe,R,G,ze,J)}else if(ze=y(z),typeof ze=="function")for(z=ze.call(z),ge=0;!(xe=z.next()).done;)xe=xe.value,ze=Y+Ne(xe,ge++),U+=re(xe,R,G,ze,J);else if(xe==="object")throw R=String(z),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return U}function ke(z,R,G){if(z==null)return z;var Y=[],J=0;return re(z,Y,"","",function(xe){return R.call(G,xe,J++)}),Y}function ae(z){if(z._status===-1){var R=z._result;R=R(),R.then(function(G){(z._status===0||z._status===-1)&&(z._status=1,z._result=G)},function(G){(z._status===0||z._status===-1)&&(z._status=2,z._result=G)}),z._status===-1&&(z._status=0,z._result=R)}if(z._status===1)return z._result.default;throw z._result}var ne={current:null},F={transition:null},K={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:F,ReactCurrentOwner:I};function q(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:ke,forEach:function(z,R,G){ke(z,function(){R.apply(this,arguments)},G)},count:function(z){var R=0;return ke(z,function(){R++}),R},toArray:function(z){return ke(z,function(R){return R})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ae.Component=S,Ae.Fragment=n,Ae.Profiler=i,Ae.PureComponent=E,Ae.StrictMode=s,Ae.Suspense=p,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Ae.act=q,Ae.cloneElement=function(z,R,G){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Y=k({},z.props),J=z.key,xe=z.ref,U=z._owner;if(R!=null){if(R.ref!==void 0&&(xe=R.ref,U=I.current),R.key!==void 0&&(J=""+R.key),z.type&&z.type.defaultProps)var ge=z.type.defaultProps;for(ze in R)M.call(R,ze)&&!O.hasOwnProperty(ze)&&(Y[ze]=R[ze]===void 0&&ge!==void 0?ge[ze]:R[ze])}var ze=arguments.length-2;if(ze===1)Y.children=G;else if(1<ze){ge=Array(ze);for(var Ee=0;Ee<ze;Ee++)ge[Ee]=arguments[Ee+2];Y.children=ge}return{$$typeof:e,type:z.type,key:J,ref:xe,props:Y,_owner:U}},Ae.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:l,_context:z},z.Consumer=z},Ae.createElement=P,Ae.createFactory=function(z){var R=P.bind(null,z);return R.type=z,R},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(z){return{$$typeof:u,render:z}},Ae.isValidElement=V,Ae.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ae}},Ae.memo=function(z,R){return{$$typeof:h,type:z,compare:R===void 0?null:R}},Ae.startTransition=function(z){var R=F.transition;F.transition={};try{z()}finally{F.transition=R}},Ae.unstable_act=q,Ae.useCallback=function(z,R){return ne.current.useCallback(z,R)},Ae.useContext=function(z){return ne.current.useContext(z)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(z){return ne.current.useDeferredValue(z)},Ae.useEffect=function(z,R){return ne.current.useEffect(z,R)},Ae.useId=function(){return ne.current.useId()},Ae.useImperativeHandle=function(z,R,G){return ne.current.useImperativeHandle(z,R,G)},Ae.useInsertionEffect=function(z,R){return ne.current.useInsertionEffect(z,R)},Ae.useLayoutEffect=function(z,R){return ne.current.useLayoutEffect(z,R)},Ae.useMemo=function(z,R){return ne.current.useMemo(z,R)},Ae.useReducer=function(z,R,G){return ne.current.useReducer(z,R,G)},Ae.useRef=function(z){return ne.current.useRef(z)},Ae.useState=function(z){return ne.current.useState(z)},Ae.useSyncExternalStore=function(z,R,G){return ne.current.useSyncExternalStore(z,R,G)},Ae.useTransition=function(){return ne.current.useTransition()},Ae.version="18.3.1",Ae}var fm;function wa(){return fm||(fm=1,Ed.exports=i1()),Ed.exports}var pm;function l1(){if(pm)return ba;pm=1;var e=wa(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(u,p,h){var g,v={},y=null,b=null;h!==void 0&&(y=""+h),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(b=p.ref);for(g in p)s.call(p,g)&&!l.hasOwnProperty(g)&&(v[g]=p[g]);if(u&&u.defaultProps)for(g in p=u.defaultProps,p)v[g]===void 0&&(v[g]=p[g]);return{$$typeof:t,type:u,key:y,ref:b,props:v,_owner:i.current}}return ba.Fragment=n,ba.jsx=d,ba.jsxs=d,ba}var mm;function c1(){return mm||(mm=1,Jr.exports=l1()),Jr.exports}var r=c1(),m=wa();const De=In(m),_d=zo({__proto__:null,default:De},[m]);var Ai={},Td={exports:{}},hn={},zd={exports:{}},Rd={};var hm;function d1(){return hm||(hm=1,(function(e){function t(F,K){var q=F.length;F.push(K);e:for(;0<q;){var z=q-1>>>1,R=F[z];if(0<i(R,K))F[z]=K,F[q]=R,q=z;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var K=F[0],q=F.pop();if(q!==K){F[0]=q;e:for(var z=0,R=F.length,G=R>>>1;z<G;){var Y=2*(z+1)-1,J=F[Y],xe=Y+1,U=F[xe];if(0>i(J,q))xe<R&&0>i(U,J)?(F[z]=U,F[xe]=q,z=xe):(F[z]=J,F[Y]=q,z=Y);else if(xe<R&&0>i(U,q))F[z]=U,F[xe]=q,z=xe;else break e}}return K}function i(F,K){var q=F.sortIndex-K.sortIndex;return q!==0?q:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();e.unstable_now=function(){return d.now()-u}}var p=[],h=[],g=1,v=null,y=3,b=!1,k=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var K=n(h);K!==null;){if(K.callback===null)s(h);else if(K.startTime<=F)s(h),K.sortIndex=K.expirationTime,t(p,K);else break;K=n(h)}}function T(F){if(N=!1,w(F),!k)if(n(p)!==null)k=!0,ae(M);else{var K=n(h);K!==null&&ne(T,K.startTime-F)}}function M(F,K){k=!1,N&&(N=!1,_(P),P=-1),b=!0;var q=y;try{for(w(K),v=n(p);v!==null&&(!(v.expirationTime>K)||F&&!oe());){var z=v.callback;if(typeof z=="function"){v.callback=null,y=v.priorityLevel;var R=z(v.expirationTime<=K);K=e.unstable_now(),typeof R=="function"?v.callback=R:v===n(p)&&s(p),w(K)}else s(p);v=n(p)}if(v!==null)var G=!0;else{var Y=n(h);Y!==null&&ne(T,Y.startTime-K),G=!1}return G}finally{v=null,y=q,b=!1}}var I=!1,O=null,P=-1,B=5,V=-1;function oe(){return!(e.unstable_now()-V<B)}function ue(){if(O!==null){var F=e.unstable_now();V=F;var K=!0;try{K=O(!0,F)}finally{K?Ne():(I=!1,O=null)}}else I=!1}var Ne;if(typeof E=="function")Ne=function(){E(ue)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ke=re.port2;re.port1.onmessage=ue,Ne=function(){ke.postMessage(null)}}else Ne=function(){S(ue,0)};function ae(F){O=F,I||(I=!0,Ne())}function ne(F,K){P=S(function(){F(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){k||b||(k=!0,ae(M))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(F){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var q=y;y=K;try{return F()}finally{y=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=y;y=F;try{return K()}finally{y=q}},e.unstable_scheduleCallback=function(F,K,q){var z=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?z+q:z):q=z,F){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=q+R,F={id:g++,callback:K,priorityLevel:F,startTime:q,expirationTime:R,sortIndex:-1},q>z?(F.sortIndex=q,t(h,F),n(p)===null&&F===n(h)&&(N?(_(P),P=-1):N=!0,ne(T,q-z))):(F.sortIndex=R,t(p,F),k||b||(k=!0,ae(M))),F},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(F){var K=y;return function(){var q=y;y=K;try{return F.apply(this,arguments)}finally{y=q}}}})(Rd)),Rd}var gm;function u1(){return gm||(gm=1,zd.exports=d1()),zd.exports}var xm;function f1(){if(xm)return hn;xm=1;var e=wa(),t=u1();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(o,a){d(o,a),d(o+"Capture",a)}function d(o,a){for(i[o]=a,o=0;o<a.length;o++)s.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function y(o){return p.call(v,o)?!0:p.call(g,o)?!1:h.test(o)?v[o]=!0:(g[o]=!0,!1)}function b(o,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,a,c,f){if(a===null||typeof a>"u"||b(o,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(o,a,c,f,x,j,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=j,this.removeEmptyString=C}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new N(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];S[a]=new N(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new N(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new N(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new N(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new N(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new N(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new N(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new N(o,5,!1,o.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(_,E);S[a]=new N(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(_,E);S[a]=new N(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(_,E);S[a]=new N(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new N(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new N(o,1,!1,o.toLowerCase(),null,!0,!0)});function w(o,a,c,f){var x=S.hasOwnProperty(a)?S[a]:null;(x!==null?x.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,c,x,f)&&(c=null),f||x===null?y(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):x.mustUseProperty?o[x.propertyName]=c===null?x.type===3?!1:"":c:(a=x.attributeName,f=x.attributeNamespace,c===null?o.removeAttribute(a):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,f?o.setAttributeNS(f,a,c):o.setAttribute(a,c))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),I=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),oe=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),F=Symbol.iterator;function K(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var q=Object.assign,z;function R(o){if(z===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+o}var G=!1;function Y(o,a){if(!o||G)return"";G=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var f=Z}Reflect.construct(o,[],a)}else{try{a.call()}catch(Z){f=Z}o.call(a.prototype)}else{try{throw Error()}catch(Z){f=Z}o()}}catch(Z){if(Z&&f&&typeof Z.stack=="string"){for(var x=Z.stack.split(`
`),j=f.stack.split(`
`),C=x.length-1,D=j.length-1;1<=C&&0<=D&&x[C]!==j[D];)D--;for(;1<=C&&0<=D;C--,D--)if(x[C]!==j[D]){if(C!==1||D!==1)do if(C--,D--,0>D||x[C]!==j[D]){var L=`
`+x[C].replace(" at new "," at ");return o.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",o.displayName)),L}while(1<=C&&0<=D);break}}}finally{G=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?R(o):""}function J(o){switch(o.tag){case 5:return R(o.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return o=Y(o.type,!1),o;case 11:return o=Y(o.type.render,!1),o;case 1:return o=Y(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case O:return"Fragment";case I:return"Portal";case B:return"Profiler";case P:return"StrictMode";case Ne:return"Suspense";case re:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case oe:return(o.displayName||"Context")+".Consumer";case V:return(o._context.displayName||"Context")+".Provider";case ue:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ke:return a=o.displayName||null,a!==null?a:xe(o.type)||"Memo";case ae:a=o._payload,o=o._init;try{return xe(o(a))}catch{}}return null}function U(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(a);case 8:return a===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ge(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ze(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ee(o){var a=ze(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),f=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,j=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return x.call(this)},set:function(C){f=""+C,j.call(this,C)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function rt(o){o._valueTracker||(o._valueTracker=Ee(o))}function Ge(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return o&&(f=ze(o)?o.checked?"true":"false":o.value),o=f,o!==c?(a.setValue(o),!0):!1}function ot(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Xe(o,a){var c=a.checked;return q({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Ct(o,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=ge(a.value!=null?a.value:c),o._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Kt(o,a){a=a.checked,a!=null&&w(o,"checked",a,!1)}function tn(o,a){Kt(o,a);var c=ge(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?le(o,a.type,c):a.hasOwnProperty("defaultValue")&&le(o,a.type,ge(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function cn(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function le(o,a,c){(a!=="number"||ot(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var de=Array.isArray;function he(o,a,c,f){if(o=o.options,a){a={};for(var x=0;x<c.length;x++)a["$"+c[x]]=!0;for(c=0;c<o.length;c++)x=a.hasOwnProperty("$"+o[c].value),o[c].selected!==x&&(o[c].selected=x),x&&f&&(o[c].defaultSelected=!0)}else{for(c=""+ge(c),a=null,x=0;x<o.length;x++){if(o[x].value===c){o[x].selected=!0,f&&(o[x].defaultSelected=!0);return}a!==null||o[x].disabled||(a=o[x])}a!==null&&(a.selected=!0)}}function Me(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Je(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(de(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:ge(c)}}function We(o,a){var c=ge(a.value),f=ge(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),f!=null&&(o.defaultValue=""+f)}function me(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function xt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?xt(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Qe,_n=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,x){MSApp.execUnsafeLocalFunction(function(){return o(a,c,f,x)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Qe.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function dn(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var Tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kr=["Webkit","ms","Moz","O"];Object.keys(Tt).forEach(function(o){kr.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),Tt[a]=Tt[o]})});function ei(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Tt.hasOwnProperty(o)&&Tt[o]?(""+a).trim():a+"px"}function ti(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,x=ei(c,a[c],f);c==="float"&&(c="cssFloat"),f?o.setProperty(c,x):o[c]=x}}var Go=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function co(o,a){if(a){if(Go[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Sr(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cr=null;function uo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qe=null,Xt=null,ft=null;function Pt(o){if(o=ki(o)){if(typeof qe!="function")throw Error(n(280));var a=o.stateNode;a&&(a=Hc(a),qe(o.stateNode,o.type,a))}}function Nt(o){Xt?ft?ft.push(o):ft=[o]:Xt=o}function yt(){if(Xt){var o=Xt,a=ft;if(ft=Xt=null,Pt(o),a)for(o=0;o<a.length;o++)Pt(a[o])}}function pt(o,a){return o(a)}function zt(){}var Mt=!1;function Tn(o,a,c){if(Mt)return o(a,c);Mt=!0;try{return pt(o,a,c)}finally{Mt=!1,(Xt!==null||ft!==null)&&(zt(),yt())}}function Ke(o,a){var c=o.stateNode;if(c===null)return null;var f=Hc(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var un=!1;if(u)try{var It={};Object.defineProperty(It,"passive",{get:function(){un=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{un=!1}function yn(o,a,c,f,x,j,C,D,L){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(c,Z)}catch(ie){this.onError(ie)}}var Jt=!1,fn=null,vt=!1,Ft=null,Vs={onError:function(o){Jt=!0,fn=o}};function Df(o,a,c,f,x,j,C,D,L){Jt=!1,fn=null,yn.apply(Vs,arguments)}function $f(o,a,c,f,x,j,C,D,L){if(Df.apply(this,arguments),Jt){if(Jt){var Z=fn;Jt=!1,fn=null}else throw Error(n(198));vt||(vt=!0,Ft=Z)}}function ar(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function wc(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function ni(o){if(ar(o)!==o)throw Error(n(188))}function Pf(o){var a=o.alternate;if(!a){if(a=ar(o),a===null)throw Error(n(188));return a!==o?null:o}for(var c=o,f=a;;){var x=c.return;if(x===null)break;var j=x.alternate;if(j===null){if(f=x.return,f!==null){c=f;continue}break}if(x.child===j.child){for(j=x.child;j;){if(j===c)return ni(x),o;if(j===f)return ni(x),a;j=j.sibling}throw Error(n(188))}if(c.return!==f.return)c=x,f=j;else{for(var C=!1,D=x.child;D;){if(D===c){C=!0,c=x,f=j;break}if(D===f){C=!0,f=x,c=j;break}D=D.sibling}if(!C){for(D=j.child;D;){if(D===c){C=!0,c=j,f=x;break}if(D===f){C=!0,f=j,c=x;break}D=D.sibling}if(!C)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?o:a}function Zs(o){return o=Pf(o),o!==null?jc(o):null}function jc(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=jc(o);if(a!==null)return a;o=o.sibling}return null}var ri=t.unstable_scheduleCallback,Wr=t.unstable_cancelCallback,Mf=t.unstable_shouldYield,Un=t.unstable_requestPaint,st=t.unstable_now,oi=t.unstable_getCurrentPriorityLevel,si=t.unstable_ImmediatePriority,ai=t.unstable_UserBlockingPriority,Gs=t.unstable_NormalPriority,Nc=t.unstable_LowPriority,kc=t.unstable_IdlePriority,zn=null,He=null;function Ys(o){if(He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(zn,o,void 0,(o.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:li,Sc=Math.log,ii=Math.LN2;function li(o){return o>>>=0,o===0?32:31-(Sc(o)/ii|0)|0}var Hr=64,Yo=4194304;function fo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Rn(o,a){var c=o.pendingLanes;if(c===0)return 0;var f=0,x=o.suspendedLanes,j=o.pingedLanes,C=c&268435455;if(C!==0){var D=C&~x;D!==0?f=fo(D):(j&=C,j!==0&&(f=fo(j)))}else C=c&~x,C!==0?f=fo(C):j!==0&&(f=fo(j));if(f===0)return 0;if(a!==0&&a!==f&&(a&x)===0&&(x=f&-f,j=a&-a,x>=j||x===16&&(j&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=f;0<a;)c=31-Wt(a),x=1<<c,f|=o[c],a&=~x;return f}function Cc(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ec(o,a){for(var c=o.suspendedLanes,f=o.pingedLanes,x=o.expirationTimes,j=o.pendingLanes;0<j;){var C=31-Wt(j),D=1<<C,L=x[C];L===-1?((D&c)===0||(D&f)!==0)&&(x[C]=Cc(D,a)):L<=a&&(o.expiredLanes|=D),j&=~D}}function qs(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ci(){var o=Hr;return Hr<<=1,(Hr&4194240)===0&&(Hr=64),o}function qo(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function ir(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Wt(a),o[a]=c}function Ks(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<c;){var x=31-Wt(c),j=1<<x;a[x]=0,f[x]=-1,o[x]=-1,c&=~j}}function po(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var f=31-Wt(c),x=1<<f;x&a|o[f]&a&&(o[f]|=a),c&=~x}}var Ye=0;function Ko(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Er,lr,di,_c,ui,Xo=!1,Xs=[],_r=null,cr=null,dr=null,mo=new Map,Jo=new Map,Tr=[],$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function te(o,a){switch(o){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":mo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(a.pointerId)}}function Q(o,a,c,f,x,j){return o===null||o.nativeEvent!==j?(o={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:j,targetContainers:[x]},a!==null&&(a=ki(a),a!==null&&lr(a)),o):(o.eventSystemFlags|=f,a=o.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),o)}function be(o,a,c,f,x){switch(a){case"focusin":return _r=Q(_r,o,a,c,f,x),!0;case"dragenter":return cr=Q(cr,o,a,c,f,x),!0;case"mouseover":return dr=Q(dr,o,a,c,f,x),!0;case"pointerover":var j=x.pointerId;return mo.set(j,Q(mo.get(j)||null,o,a,c,f,x)),!0;case"gotpointercapture":return j=x.pointerId,Jo.set(j,Q(Jo.get(j)||null,o,a,c,f,x)),!0}return!1}function Te(o){var a=Qo(o.target);if(a!==null){var c=ar(a);if(c!==null){if(a=c.tag,a===13){if(a=wc(c),a!==null){o.blockedOn=a,ui(o.priority,function(){di(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Be(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Lf(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var f=new c.constructor(c.type,c);Cr=f,c.target.dispatchEvent(f),Cr=null}else return a=ki(c),a!==null&&lr(a),o.blockedOn=c,!1;a.shift()}return!0}function Et(o,a,c){Be(o)&&c.delete(a)}function Zy(){Xo=!1,_r!==null&&Be(_r)&&(_r=null),cr!==null&&Be(cr)&&(cr=null),dr!==null&&Be(dr)&&(dr=null),mo.forEach(Et),Jo.forEach(Et)}function Br(o,a){o.blockedOn===a&&(o.blockedOn=null,Xo||(Xo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Zy)))}function fi(o){function a(x){return Br(x,o)}if(0<Xs.length){Br(Xs[0],o);for(var c=1;c<Xs.length;c++){var f=Xs[c];f.blockedOn===o&&(f.blockedOn=null)}}for(_r!==null&&Br(_r,o),cr!==null&&Br(cr,o),dr!==null&&Br(dr,o),mo.forEach(a),Jo.forEach(a),c=0;c<Tr.length;c++)f=Tr[c],f.blockedOn===o&&(f.blockedOn=null);for(;0<Tr.length&&(c=Tr[0],c.blockedOn===null);)Te(c),c.blockedOn===null&&Tr.shift()}var Js=T.ReactCurrentBatchConfig,Tc=!0;function qR(o,a,c,f){var x=Ye,j=Js.transition;Js.transition=null;try{Ye=1,If(o,a,c,f)}finally{Ye=x,Js.transition=j}}function KR(o,a,c,f){var x=Ye,j=Js.transition;Js.transition=null;try{Ye=4,If(o,a,c,f)}finally{Ye=x,Js.transition=j}}function If(o,a,c,f){if(Tc){var x=Lf(o,a,c,f);if(x===null)ep(o,a,f,zc,c),te(o,f);else if(be(x,o,a,c,f))f.stopPropagation();else if(te(o,f),a&4&&-1<$.indexOf(o)){for(;x!==null;){var j=ki(x);if(j!==null&&Er(j),j=Lf(o,a,c,f),j===null&&ep(o,a,f,zc,c),j===x)break;x=j}x!==null&&f.stopPropagation()}else ep(o,a,f,null,c)}}var zc=null;function Lf(o,a,c,f){if(zc=null,o=uo(f),o=Qo(o),o!==null)if(a=ar(o),a===null)o=null;else if(c=a.tag,c===13){if(o=wc(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return zc=o,null}function Gy(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oi()){case si:return 1;case ai:return 4;case Gs:case Nc:return 16;case kc:return 536870912;default:return 16}default:return 16}}var ho=null,Of=null,Rc=null;function Yy(){if(Rc)return Rc;var o,a=Of,c=a.length,f,x="value"in ho?ho.value:ho.textContent,j=x.length;for(o=0;o<c&&a[o]===x[o];o++);var C=c-o;for(f=1;f<=C&&a[c-f]===x[j-f];f++);return Rc=x.slice(o,1<f?1-f:void 0)}function Dc(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function $c(){return!0}function qy(){return!1}function Dn(o){function a(c,f,x,j,C){this._reactName=c,this._targetInst=x,this.type=f,this.nativeEvent=j,this.target=C,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(c=o[D],this[D]=c?c(j):j[D]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?$c:qy,this.isPropagationStopped=qy,this}return q(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),a}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=Dn(Qs),pi=q({},Qs,{view:0,detail:0}),XR=Dn(pi),Ff,Wf,mi,Pc=q({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==mi&&(mi&&o.type==="mousemove"?(Ff=o.screenX-mi.screenX,Wf=o.screenY-mi.screenY):Wf=Ff=0,mi=o),Ff)},movementY:function(o){return"movementY"in o?o.movementY:Wf}}),Ky=Dn(Pc),JR=q({},Pc,{dataTransfer:0}),QR=Dn(JR),eD=q({},pi,{relatedTarget:0}),Hf=Dn(eD),tD=q({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),nD=Dn(tD),rD=q({},Qs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),oD=Dn(rD),sD=q({},Qs,{data:0}),Xy=Dn(sD),aD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cD(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=lD[o])?!!a[o]:!1}function Bf(){return cD}var dD=q({},pi,{key:function(o){if(o.key){var a=aD[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Dc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?iD[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bf,charCode:function(o){return o.type==="keypress"?Dc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Dc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),uD=Dn(dD),fD=q({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=Dn(fD),pD=q({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bf}),mD=Dn(pD),hD=q({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gD=Dn(hD),xD=q({},Pc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),yD=Dn(xD),vD=[9,13,27,32],Uf=u&&"CompositionEvent"in window,hi=null;u&&"documentMode"in document&&(hi=document.documentMode);var bD=u&&"TextEvent"in window&&!hi,Qy=u&&(!Uf||hi&&8<hi&&11>=hi),ev=" ",tv=!1;function nv(o,a){switch(o){case"keyup":return vD.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ea=!1;function wD(o,a){switch(o){case"compositionend":return rv(a);case"keypress":return a.which!==32?null:(tv=!0,ev);case"textInput":return o=a.data,o===ev&&tv?null:o;default:return null}}function jD(o,a){if(ea)return o==="compositionend"||!Uf&&nv(o,a)?(o=Yy(),Rc=Of=ho=null,ea=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qy&&a.locale!=="ko"?null:a.data;default:return null}}var ND={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!ND[o.type]:a==="textarea"}function sv(o,a,c,f){Nt(f),a=Ac(a,"onChange"),0<a.length&&(c=new Af("onChange","change",null,c,f),o.push({event:c,listeners:a}))}var gi=null,xi=null;function kD(o){Nv(o,0)}function Mc(o){var a=sa(o);if(Ge(a))return o}function SD(o,a){if(o==="change")return a}var av=!1;if(u){var Vf;if(u){var Zf="oninput"in document;if(!Zf){var iv=document.createElement("div");iv.setAttribute("oninput","return;"),Zf=typeof iv.oninput=="function"}Vf=Zf}else Vf=!1;av=Vf&&(!document.documentMode||9<document.documentMode)}function lv(){gi&&(gi.detachEvent("onpropertychange",cv),xi=gi=null)}function cv(o){if(o.propertyName==="value"&&Mc(xi)){var a=[];sv(a,xi,o,uo(o)),Tn(kD,a)}}function CD(o,a,c){o==="focusin"?(lv(),gi=a,xi=c,gi.attachEvent("onpropertychange",cv)):o==="focusout"&&lv()}function ED(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Mc(xi)}function _D(o,a){if(o==="click")return Mc(a)}function TD(o,a){if(o==="input"||o==="change")return Mc(a)}function zD(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var ur=typeof Object.is=="function"?Object.is:zD;function yi(o,a){if(ur(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var x=c[f];if(!p.call(a,x)||!ur(o[x],a[x]))return!1}return!0}function dv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function uv(o,a){var c=dv(o);o=0;for(var f;c;){if(c.nodeType===3){if(f=o+c.textContent.length,o<=a&&f>=a)return{node:c,offset:a-o};o=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=dv(c)}}function fv(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?fv(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function pv(){for(var o=window,a=ot();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=ot(o.document)}return a}function Gf(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function RD(o){var a=pv(),c=o.focusedElem,f=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&fv(c.ownerDocument.documentElement,c)){if(f!==null&&Gf(c)){if(a=f.start,o=f.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var x=c.textContent.length,j=Math.min(f.start,x);f=f.end===void 0?j:Math.min(f.end,x),!o.extend&&j>f&&(x=f,f=j,j=x),x=uv(c,j);var C=uv(c,f);x&&C&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==C.node||o.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),o.removeAllRanges(),j>f?(o.addRange(a),o.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var DD=u&&"documentMode"in document&&11>=document.documentMode,ta=null,Yf=null,vi=null,qf=!1;function mv(o,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qf||ta==null||ta!==ot(f)||(f=ta,"selectionStart"in f&&Gf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),vi&&yi(vi,f)||(vi=f,f=Ac(Yf,"onSelect"),0<f.length&&(a=new Af("onSelect","select",null,a,c),o.push({event:a,listeners:f}),a.target=ta)))}function Ic(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var na={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},Kf={},hv={};u&&(hv=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function Lc(o){if(Kf[o])return Kf[o];if(!na[o])return o;var a=na[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in hv)return Kf[o]=a[c];return o}var gv=Lc("animationend"),xv=Lc("animationiteration"),yv=Lc("animationstart"),vv=Lc("transitionend"),bv=new Map,wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(o,a){bv.set(o,a),l(a,[o])}for(var Xf=0;Xf<wv.length;Xf++){var Jf=wv[Xf],$D=Jf.toLowerCase(),PD=Jf[0].toUpperCase()+Jf.slice(1);go($D,"on"+PD)}go(gv,"onAnimationEnd"),go(xv,"onAnimationIteration"),go(yv,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(vv,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MD=new Set("cancel close invalid load scroll toggle".split(" ").concat(bi));function jv(o,a,c){var f=o.type||"unknown-event";o.currentTarget=c,$f(f,a,void 0,o),o.currentTarget=null}function Nv(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var f=o[c],x=f.event;f=f.listeners;e:{var j=void 0;if(a)for(var C=f.length-1;0<=C;C--){var D=f[C],L=D.instance,Z=D.currentTarget;if(D=D.listener,L!==j&&x.isPropagationStopped())break e;jv(x,D,Z),j=L}else for(C=0;C<f.length;C++){if(D=f[C],L=D.instance,Z=D.currentTarget,D=D.listener,L!==j&&x.isPropagationStopped())break e;jv(x,D,Z),j=L}}}if(vt)throw o=Ft,vt=!1,Ft=null,o}function at(o,a){var c=a[ap];c===void 0&&(c=a[ap]=new Set);var f=o+"__bubble";c.has(f)||(kv(a,o,2,!1),c.add(f))}function Qf(o,a,c){var f=0;a&&(f|=4),kv(c,o,f,a)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function wi(o){if(!o[Oc]){o[Oc]=!0,s.forEach(function(c){c!=="selectionchange"&&(MD.has(c)||Qf(c,!1,o),Qf(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Oc]||(a[Oc]=!0,Qf("selectionchange",!1,a))}}function kv(o,a,c,f){switch(Gy(a)){case 1:var x=qR;break;case 4:x=KR;break;default:x=If}c=x.bind(null,a,c,o),x=void 0,!un||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),f?x!==void 0?o.addEventListener(a,c,{capture:!0,passive:x}):o.addEventListener(a,c,!0):x!==void 0?o.addEventListener(a,c,{passive:x}):o.addEventListener(a,c,!1)}function ep(o,a,c,f,x){var j=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var D=f.stateNode.containerInfo;if(D===x||D.nodeType===8&&D.parentNode===x)break;if(C===4)for(C=f.return;C!==null;){var L=C.tag;if((L===3||L===4)&&(L=C.stateNode.containerInfo,L===x||L.nodeType===8&&L.parentNode===x))return;C=C.return}for(;D!==null;){if(C=Qo(D),C===null)return;if(L=C.tag,L===5||L===6){f=j=C;continue e}D=D.parentNode}}f=f.return}Tn(function(){var Z=j,ie=uo(c),ce=[];e:{var se=bv.get(o);if(se!==void 0){var ye=Af,Se=o;switch(o){case"keypress":if(Dc(c)===0)break e;case"keydown":case"keyup":ye=uD;break;case"focusin":Se="focus",ye=Hf;break;case"focusout":Se="blur",ye=Hf;break;case"beforeblur":case"afterblur":ye=Hf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=QR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=mD;break;case gv:case xv:case yv:ye=nD;break;case vv:ye=gD;break;case"scroll":ye=XR;break;case"wheel":ye=yD;break;case"copy":case"cut":case"paste":ye=oD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Jy}var Ce=(a&4)!==0,_t=!Ce&&o==="scroll",W=Ce?se!==null?se+"Capture":null:se;Ce=[];for(var A=Z,H;A!==null;){H=A;var fe=H.stateNode;if(H.tag===5&&fe!==null&&(H=fe,W!==null&&(fe=Ke(A,W),fe!=null&&Ce.push(ji(A,fe,H)))),_t)break;A=A.return}0<Ce.length&&(se=new ye(se,Se,null,c,ie),ce.push({event:se,listeners:Ce}))}}if((a&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",ye=o==="mouseout"||o==="pointerout",se&&c!==Cr&&(Se=c.relatedTarget||c.fromElement)&&(Qo(Se)||Se[Ur]))break e;if((ye||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,ye?(Se=c.relatedTarget||c.toElement,ye=Z,Se=Se?Qo(Se):null,Se!==null&&(_t=ar(Se),Se!==_t||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ye=null,Se=Z),ye!==Se)){if(Ce=Ky,fe="onMouseLeave",W="onMouseEnter",A="mouse",(o==="pointerout"||o==="pointerover")&&(Ce=Jy,fe="onPointerLeave",W="onPointerEnter",A="pointer"),_t=ye==null?se:sa(ye),H=Se==null?se:sa(Se),se=new Ce(fe,A+"leave",ye,c,ie),se.target=_t,se.relatedTarget=H,fe=null,Qo(ie)===Z&&(Ce=new Ce(W,A+"enter",Se,c,ie),Ce.target=H,Ce.relatedTarget=_t,fe=Ce),_t=fe,ye&&Se)t:{for(Ce=ye,W=Se,A=0,H=Ce;H;H=ra(H))A++;for(H=0,fe=W;fe;fe=ra(fe))H++;for(;0<A-H;)Ce=ra(Ce),A--;for(;0<H-A;)W=ra(W),H--;for(;A--;){if(Ce===W||W!==null&&Ce===W.alternate)break t;Ce=ra(Ce),W=ra(W)}Ce=null}else Ce=null;ye!==null&&Sv(ce,se,ye,Ce,!1),Se!==null&&_t!==null&&Sv(ce,_t,Se,Ce,!0)}}e:{if(se=Z?sa(Z):window,ye=se.nodeName&&se.nodeName.toLowerCase(),ye==="select"||ye==="input"&&se.type==="file")var _e=SD;else if(ov(se))if(av)_e=TD;else{_e=ED;var $e=CD}else(ye=se.nodeName)&&ye.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=_D);if(_e&&(_e=_e(o,Z))){sv(ce,_e,c,ie);break e}$e&&$e(o,se,Z),o==="focusout"&&($e=se._wrapperState)&&$e.controlled&&se.type==="number"&&le(se,"number",se.value)}switch($e=Z?sa(Z):window,o){case"focusin":(ov($e)||$e.contentEditable==="true")&&(ta=$e,Yf=Z,vi=null);break;case"focusout":vi=Yf=ta=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,mv(ce,c,ie);break;case"selectionchange":if(DD)break;case"keydown":case"keyup":mv(ce,c,ie)}var Pe;if(Uf)e:{switch(o){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ea?nv(o,c)&&(Ie="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(Qy&&c.locale!=="ko"&&(ea||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ea&&(Pe=Yy()):(ho=ie,Of="value"in ho?ho.value:ho.textContent,ea=!0)),$e=Ac(Z,Ie),0<$e.length&&(Ie=new Xy(Ie,o,null,c,ie),ce.push({event:Ie,listeners:$e}),Pe?Ie.data=Pe:(Pe=rv(c),Pe!==null&&(Ie.data=Pe)))),(Pe=bD?wD(o,c):jD(o,c))&&(Z=Ac(Z,"onBeforeInput"),0<Z.length&&(ie=new Xy("onBeforeInput","beforeinput",null,c,ie),ce.push({event:ie,listeners:Z}),ie.data=Pe))}Nv(ce,a)})}function ji(o,a,c){return{instance:o,listener:a,currentTarget:c}}function Ac(o,a){for(var c=a+"Capture",f=[];o!==null;){var x=o,j=x.stateNode;x.tag===5&&j!==null&&(x=j,j=Ke(o,c),j!=null&&f.unshift(ji(o,j,x)),j=Ke(o,a),j!=null&&f.push(ji(o,j,x))),o=o.return}return f}function ra(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Sv(o,a,c,f,x){for(var j=a._reactName,C=[];c!==null&&c!==f;){var D=c,L=D.alternate,Z=D.stateNode;if(L!==null&&L===f)break;D.tag===5&&Z!==null&&(D=Z,x?(L=Ke(c,j),L!=null&&C.unshift(ji(c,L,D))):x||(L=Ke(c,j),L!=null&&C.push(ji(c,L,D)))),c=c.return}C.length!==0&&o.push({event:a,listeners:C})}var ID=/\r\n?/g,LD=/\u0000|\uFFFD/g;function Cv(o){return(typeof o=="string"?o:""+o).replace(ID,`
`).replace(LD,"")}function Fc(o,a,c){if(a=Cv(a),Cv(o)!==a&&c)throw Error(n(425))}function Wc(){}var tp=null,np=null;function rp(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var op=typeof setTimeout=="function"?setTimeout:void 0,OD=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,AD=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(o){return Ev.resolve(null).then(o).catch(FD)}:op;function FD(o){setTimeout(function(){throw o})}function sp(o,a){var c=a,f=0;do{var x=c.nextSibling;if(o.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(f===0){o.removeChild(x),fi(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=x}while(c);fi(a)}function xo(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function _v(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var oa=Math.random().toString(36).slice(2),zr="__reactFiber$"+oa,Ni="__reactProps$"+oa,Ur="__reactContainer$"+oa,ap="__reactEvents$"+oa,WD="__reactListeners$"+oa,HD="__reactHandles$"+oa;function Qo(o){var a=o[zr];if(a)return a;for(var c=o.parentNode;c;){if(a=c[Ur]||c[zr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=_v(o);o!==null;){if(c=o[zr])return c;o=_v(o)}return a}o=c,c=o.parentNode}return null}function ki(o){return o=o[zr]||o[Ur],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function sa(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Hc(o){return o[Ni]||null}var ip=[],aa=-1;function yo(o){return{current:o}}function it(o){0>aa||(o.current=ip[aa],ip[aa]=null,aa--)}function nt(o,a){aa++,ip[aa]=o.current,o.current=a}var vo={},nn=yo(vo),vn=yo(!1),es=vo;function ia(o,a){var c=o.type.contextTypes;if(!c)return vo;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var x={},j;for(j in c)x[j]=a[j];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=x),x}function bn(o){return o=o.childContextTypes,o!=null}function Bc(){it(vn),it(nn)}function Tv(o,a,c){if(nn.current!==vo)throw Error(n(168));nt(nn,a),nt(vn,c)}function zv(o,a,c){var f=o.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var x in f)if(!(x in a))throw Error(n(108,U(o)||"Unknown",x));return q({},c,f)}function Uc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||vo,es=nn.current,nt(nn,o),nt(vn,vn.current),!0}function Rv(o,a,c){var f=o.stateNode;if(!f)throw Error(n(169));c?(o=zv(o,a,es),f.__reactInternalMemoizedMergedChildContext=o,it(vn),it(nn),nt(nn,o)):it(vn),nt(vn,c)}var Vr=null,Vc=!1,lp=!1;function Dv(o){Vr===null?Vr=[o]:Vr.push(o)}function BD(o){Vc=!0,Dv(o)}function bo(){if(!lp&&Vr!==null){lp=!0;var o=0,a=Ye;try{var c=Vr;for(Ye=1;o<c.length;o++){var f=c[o];do f=f(!0);while(f!==null)}Vr=null,Vc=!1}catch(x){throw Vr!==null&&(Vr=Vr.slice(o+1)),ri(si,bo),x}finally{Ye=a,lp=!1}}return null}var la=[],ca=0,Zc=null,Gc=0,Vn=[],Zn=0,ts=null,Zr=1,Gr="";function ns(o,a){la[ca++]=Gc,la[ca++]=Zc,Zc=o,Gc=a}function $v(o,a,c){Vn[Zn++]=Zr,Vn[Zn++]=Gr,Vn[Zn++]=ts,ts=o;var f=Zr;o=Gr;var x=32-Wt(f)-1;f&=~(1<<x),c+=1;var j=32-Wt(a)+x;if(30<j){var C=x-x%5;j=(f&(1<<C)-1).toString(32),f>>=C,x-=C,Zr=1<<32-Wt(a)+x|c<<x|f,Gr=j+o}else Zr=1<<j|c<<x|f,Gr=o}function cp(o){o.return!==null&&(ns(o,1),$v(o,1,0))}function dp(o){for(;o===Zc;)Zc=la[--ca],la[ca]=null,Gc=la[--ca],la[ca]=null;for(;o===ts;)ts=Vn[--Zn],Vn[Zn]=null,Gr=Vn[--Zn],Vn[Zn]=null,Zr=Vn[--Zn],Vn[Zn]=null}var $n=null,Pn=null,mt=!1,fr=null;function Pv(o,a){var c=Kn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function Mv(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,$n=o,Pn=xo(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,$n=o,Pn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ts!==null?{id:Zr,overflow:Gr}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Kn(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,$n=o,Pn=null,!0):!1;default:return!1}}function up(o){return(o.mode&1)!==0&&(o.flags&128)===0}function fp(o){if(mt){var a=Pn;if(a){var c=a;if(!Mv(o,a)){if(up(o))throw Error(n(418));a=xo(c.nextSibling);var f=$n;a&&Mv(o,a)?Pv(f,c):(o.flags=o.flags&-4097|2,mt=!1,$n=o)}}else{if(up(o))throw Error(n(418));o.flags=o.flags&-4097|2,mt=!1,$n=o}}}function Iv(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;$n=o}function Yc(o){if(o!==$n)return!1;if(!mt)return Iv(o),mt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!rp(o.type,o.memoizedProps)),a&&(a=Pn)){if(up(o))throw Lv(),Error(n(418));for(;a;)Pv(o,a),a=xo(a.nextSibling)}if(Iv(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){Pn=xo(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}Pn=null}}else Pn=$n?xo(o.stateNode.nextSibling):null;return!0}function Lv(){for(var o=Pn;o;)o=xo(o.nextSibling)}function da(){Pn=$n=null,mt=!1}function pp(o){fr===null?fr=[o]:fr.push(o)}var UD=T.ReactCurrentBatchConfig;function Si(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,o));var x=f,j=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(C){var D=x.refs;C===null?delete D[j]:D[j]=C},a._stringRef=j,a)}if(typeof o!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,o))}return o}function qc(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function Ov(o){var a=o._init;return a(o._payload)}function Av(o){function a(W,A){if(o){var H=W.deletions;H===null?(W.deletions=[A],W.flags|=16):H.push(A)}}function c(W,A){if(!o)return null;for(;A!==null;)a(W,A),A=A.sibling;return null}function f(W,A){for(W=new Map;A!==null;)A.key!==null?W.set(A.key,A):W.set(A.index,A),A=A.sibling;return W}function x(W,A){return W=_o(W,A),W.index=0,W.sibling=null,W}function j(W,A,H){return W.index=H,o?(H=W.alternate,H!==null?(H=H.index,H<A?(W.flags|=2,A):H):(W.flags|=2,A)):(W.flags|=1048576,A)}function C(W){return o&&W.alternate===null&&(W.flags|=2),W}function D(W,A,H,fe){return A===null||A.tag!==6?(A=sm(H,W.mode,fe),A.return=W,A):(A=x(A,H),A.return=W,A)}function L(W,A,H,fe){var _e=H.type;return _e===O?ie(W,A,H.props.children,fe,H.key):A!==null&&(A.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ae&&Ov(_e)===A.type)?(fe=x(A,H.props),fe.ref=Si(W,A,H),fe.return=W,fe):(fe=vd(H.type,H.key,H.props,null,W.mode,fe),fe.ref=Si(W,A,H),fe.return=W,fe)}function Z(W,A,H,fe){return A===null||A.tag!==4||A.stateNode.containerInfo!==H.containerInfo||A.stateNode.implementation!==H.implementation?(A=am(H,W.mode,fe),A.return=W,A):(A=x(A,H.children||[]),A.return=W,A)}function ie(W,A,H,fe,_e){return A===null||A.tag!==7?(A=ds(H,W.mode,fe,_e),A.return=W,A):(A=x(A,H),A.return=W,A)}function ce(W,A,H){if(typeof A=="string"&&A!==""||typeof A=="number")return A=sm(""+A,W.mode,H),A.return=W,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case M:return H=vd(A.type,A.key,A.props,null,W.mode,H),H.ref=Si(W,null,A),H.return=W,H;case I:return A=am(A,W.mode,H),A.return=W,A;case ae:var fe=A._init;return ce(W,fe(A._payload),H)}if(de(A)||K(A))return A=ds(A,W.mode,H,null),A.return=W,A;qc(W,A)}return null}function se(W,A,H,fe){var _e=A!==null?A.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return _e!==null?null:D(W,A,""+H,fe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return H.key===_e?L(W,A,H,fe):null;case I:return H.key===_e?Z(W,A,H,fe):null;case ae:return _e=H._init,se(W,A,_e(H._payload),fe)}if(de(H)||K(H))return _e!==null?null:ie(W,A,H,fe,null);qc(W,H)}return null}function ye(W,A,H,fe,_e){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return W=W.get(H)||null,D(A,W,""+fe,_e);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case M:return W=W.get(fe.key===null?H:fe.key)||null,L(A,W,fe,_e);case I:return W=W.get(fe.key===null?H:fe.key)||null,Z(A,W,fe,_e);case ae:var $e=fe._init;return ye(W,A,H,$e(fe._payload),_e)}if(de(fe)||K(fe))return W=W.get(H)||null,ie(A,W,fe,_e,null);qc(A,fe)}return null}function Se(W,A,H,fe){for(var _e=null,$e=null,Pe=A,Ie=A=0,Ut=null;Pe!==null&&Ie<H.length;Ie++){Pe.index>Ie?(Ut=Pe,Pe=null):Ut=Pe.sibling;var Ve=se(W,Pe,H[Ie],fe);if(Ve===null){Pe===null&&(Pe=Ut);break}o&&Pe&&Ve.alternate===null&&a(W,Pe),A=j(Ve,A,Ie),$e===null?_e=Ve:$e.sibling=Ve,$e=Ve,Pe=Ut}if(Ie===H.length)return c(W,Pe),mt&&ns(W,Ie),_e;if(Pe===null){for(;Ie<H.length;Ie++)Pe=ce(W,H[Ie],fe),Pe!==null&&(A=j(Pe,A,Ie),$e===null?_e=Pe:$e.sibling=Pe,$e=Pe);return mt&&ns(W,Ie),_e}for(Pe=f(W,Pe);Ie<H.length;Ie++)Ut=ye(Pe,W,Ie,H[Ie],fe),Ut!==null&&(o&&Ut.alternate!==null&&Pe.delete(Ut.key===null?Ie:Ut.key),A=j(Ut,A,Ie),$e===null?_e=Ut:$e.sibling=Ut,$e=Ut);return o&&Pe.forEach(function(To){return a(W,To)}),mt&&ns(W,Ie),_e}function Ce(W,A,H,fe){var _e=K(H);if(typeof _e!="function")throw Error(n(150));if(H=_e.call(H),H==null)throw Error(n(151));for(var $e=_e=null,Pe=A,Ie=A=0,Ut=null,Ve=H.next();Pe!==null&&!Ve.done;Ie++,Ve=H.next()){Pe.index>Ie?(Ut=Pe,Pe=null):Ut=Pe.sibling;var To=se(W,Pe,Ve.value,fe);if(To===null){Pe===null&&(Pe=Ut);break}o&&Pe&&To.alternate===null&&a(W,Pe),A=j(To,A,Ie),$e===null?_e=To:$e.sibling=To,$e=To,Pe=Ut}if(Ve.done)return c(W,Pe),mt&&ns(W,Ie),_e;if(Pe===null){for(;!Ve.done;Ie++,Ve=H.next())Ve=ce(W,Ve.value,fe),Ve!==null&&(A=j(Ve,A,Ie),$e===null?_e=Ve:$e.sibling=Ve,$e=Ve);return mt&&ns(W,Ie),_e}for(Pe=f(W,Pe);!Ve.done;Ie++,Ve=H.next())Ve=ye(Pe,W,Ie,Ve.value,fe),Ve!==null&&(o&&Ve.alternate!==null&&Pe.delete(Ve.key===null?Ie:Ve.key),A=j(Ve,A,Ie),$e===null?_e=Ve:$e.sibling=Ve,$e=Ve);return o&&Pe.forEach(function(N$){return a(W,N$)}),mt&&ns(W,Ie),_e}function _t(W,A,H,fe){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case M:e:{for(var _e=H.key,$e=A;$e!==null;){if($e.key===_e){if(_e=H.type,_e===O){if($e.tag===7){c(W,$e.sibling),A=x($e,H.props.children),A.return=W,W=A;break e}}else if($e.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ae&&Ov(_e)===$e.type){c(W,$e.sibling),A=x($e,H.props),A.ref=Si(W,$e,H),A.return=W,W=A;break e}c(W,$e);break}else a(W,$e);$e=$e.sibling}H.type===O?(A=ds(H.props.children,W.mode,fe,H.key),A.return=W,W=A):(fe=vd(H.type,H.key,H.props,null,W.mode,fe),fe.ref=Si(W,A,H),fe.return=W,W=fe)}return C(W);case I:e:{for($e=H.key;A!==null;){if(A.key===$e)if(A.tag===4&&A.stateNode.containerInfo===H.containerInfo&&A.stateNode.implementation===H.implementation){c(W,A.sibling),A=x(A,H.children||[]),A.return=W,W=A;break e}else{c(W,A);break}else a(W,A);A=A.sibling}A=am(H,W.mode,fe),A.return=W,W=A}return C(W);case ae:return $e=H._init,_t(W,A,$e(H._payload),fe)}if(de(H))return Se(W,A,H,fe);if(K(H))return Ce(W,A,H,fe);qc(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,A!==null&&A.tag===6?(c(W,A.sibling),A=x(A,H),A.return=W,W=A):(c(W,A),A=sm(H,W.mode,fe),A.return=W,W=A),C(W)):c(W,A)}return _t}var ua=Av(!0),Fv=Av(!1),Kc=yo(null),Xc=null,fa=null,mp=null;function hp(){mp=fa=Xc=null}function gp(o){var a=Kc.current;it(Kc),o._currentValue=a}function xp(o,a,c){for(;o!==null;){var f=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),o===c)break;o=o.return}}function pa(o,a){Xc=o,mp=fa=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(wn=!0),o.firstContext=null)}function Gn(o){var a=o._currentValue;if(mp!==o)if(o={context:o,memoizedValue:a,next:null},fa===null){if(Xc===null)throw Error(n(308));fa=o,Xc.dependencies={lanes:0,firstContext:o}}else fa=fa.next=o;return a}var rs=null;function yp(o){rs===null?rs=[o]:rs.push(o)}function Wv(o,a,c,f){var x=a.interleaved;return x===null?(c.next=c,yp(a)):(c.next=x.next,x.next=c),a.interleaved=c,Yr(o,f)}function Yr(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var wo=!1;function vp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hv(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function qr(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function jo(o,a,c){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(Ue&2)!==0){var x=f.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),f.pending=a,Yr(o,c)}return x=f.interleaved,x===null?(a.next=a,yp(f)):(a.next=x.next,x.next=a),f.interleaved=a,Yr(o,c)}function Jc(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,po(o,c)}}function Bv(o,a){var c=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var x=null,j=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};j===null?x=j=C:j=j.next=C,c=c.next}while(c!==null);j===null?x=j=a:j=j.next=a}else x=j=a;c={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:j,shared:f.shared,effects:f.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function Qc(o,a,c,f){var x=o.updateQueue;wo=!1;var j=x.firstBaseUpdate,C=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var L=D,Z=L.next;L.next=null,C===null?j=Z:C.next=Z,C=L;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==C&&(D===null?ie.firstBaseUpdate=Z:D.next=Z,ie.lastBaseUpdate=L))}if(j!==null){var ce=x.baseState;C=0,ie=Z=L=null,D=j;do{var se=D.lane,ye=D.eventTime;if((f&se)===se){ie!==null&&(ie=ie.next={eventTime:ye,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Se=o,Ce=D;switch(se=a,ye=c,Ce.tag){case 1:if(Se=Ce.payload,typeof Se=="function"){ce=Se.call(ye,ce,se);break e}ce=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ce.payload,se=typeof Se=="function"?Se.call(ye,ce,se):Se,se==null)break e;ce=q({},ce,se);break e;case 2:wo=!0}}D.callback!==null&&D.lane!==0&&(o.flags|=64,se=x.effects,se===null?x.effects=[D]:se.push(D))}else ye={eventTime:ye,lane:se,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(Z=ie=ye,L=ce):ie=ie.next=ye,C|=se;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;se=D,D=se.next,se.next=null,x.lastBaseUpdate=se,x.shared.pending=null}}while(!0);if(ie===null&&(L=ce),x.baseState=L,x.firstBaseUpdate=Z,x.lastBaseUpdate=ie,a=x.shared.interleaved,a!==null){x=a;do C|=x.lane,x=x.next;while(x!==a)}else j===null&&(x.shared.lanes=0);as|=C,o.lanes=C,o.memoizedState=ce}}function Uv(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var f=o[a],x=f.callback;if(x!==null){if(f.callback=null,f=c,typeof x!="function")throw Error(n(191,x));x.call(f)}}}var Ci={},Rr=yo(Ci),Ei=yo(Ci),_i=yo(Ci);function os(o){if(o===Ci)throw Error(n(174));return o}function bp(o,a){switch(nt(_i,a),nt(Ei,o),nt(Rr,Ci),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:tt(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=tt(a,o)}it(Rr),nt(Rr,a)}function ma(){it(Rr),it(Ei),it(_i)}function Vv(o){os(_i.current);var a=os(Rr.current),c=tt(a,o.type);a!==c&&(nt(Ei,o),nt(Rr,c))}function jp(o){Ei.current===o&&(it(Rr),it(Ei))}var bt=yo(0);function ed(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Np=[];function kp(){for(var o=0;o<Np.length;o++)Np[o]._workInProgressVersionPrimary=null;Np.length=0}var td=T.ReactCurrentDispatcher,Sp=T.ReactCurrentBatchConfig,ss=0,wt=null,Lt=null,Ht=null,nd=!1,Ti=!1,zi=0,VD=0;function rn(){throw Error(n(321))}function Cp(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!ur(o[c],a[c]))return!1;return!0}function Ep(o,a,c,f,x,j){if(ss=j,wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,td.current=o===null||o.memoizedState===null?qD:KD,o=c(f,x),Ti){j=0;do{if(Ti=!1,zi=0,25<=j)throw Error(n(301));j+=1,Ht=Lt=null,a.updateQueue=null,td.current=XD,o=c(f,x)}while(Ti)}if(td.current=sd,a=Lt!==null&&Lt.next!==null,ss=0,Ht=Lt=wt=null,nd=!1,a)throw Error(n(300));return o}function _p(){var o=zi!==0;return zi=0,o}function Dr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?wt.memoizedState=Ht=o:Ht=Ht.next=o,Ht}function Yn(){if(Lt===null){var o=wt.alternate;o=o!==null?o.memoizedState:null}else o=Lt.next;var a=Ht===null?wt.memoizedState:Ht.next;if(a!==null)Ht=a,Lt=o;else{if(o===null)throw Error(n(310));Lt=o,o={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ht===null?wt.memoizedState=Ht=o:Ht=Ht.next=o}return Ht}function Ri(o,a){return typeof a=="function"?a(o):a}function Tp(o){var a=Yn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var f=Lt,x=f.baseQueue,j=c.pending;if(j!==null){if(x!==null){var C=x.next;x.next=j.next,j.next=C}f.baseQueue=x=j,c.pending=null}if(x!==null){j=x.next,f=f.baseState;var D=C=null,L=null,Z=j;do{var ie=Z.lane;if((ss&ie)===ie)L!==null&&(L=L.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),f=Z.hasEagerState?Z.eagerState:o(f,Z.action);else{var ce={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};L===null?(D=L=ce,C=f):L=L.next=ce,wt.lanes|=ie,as|=ie}Z=Z.next}while(Z!==null&&Z!==j);L===null?C=f:L.next=D,ur(f,a.memoizedState)||(wn=!0),a.memoizedState=f,a.baseState=C,a.baseQueue=L,c.lastRenderedState=f}if(o=c.interleaved,o!==null){x=o;do j=x.lane,wt.lanes|=j,as|=j,x=x.next;while(x!==o)}else x===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function zp(o){var a=Yn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var f=c.dispatch,x=c.pending,j=a.memoizedState;if(x!==null){c.pending=null;var C=x=x.next;do j=o(j,C.action),C=C.next;while(C!==x);ur(j,a.memoizedState)||(wn=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),c.lastRenderedState=j}return[j,f]}function Zv(){}function Gv(o,a){var c=wt,f=Yn(),x=a(),j=!ur(f.memoizedState,x);if(j&&(f.memoizedState=x,wn=!0),f=f.queue,Rp(Kv.bind(null,c,f,o),[o]),f.getSnapshot!==a||j||Ht!==null&&Ht.memoizedState.tag&1){if(c.flags|=2048,Di(9,qv.bind(null,c,f,x,a),void 0,null),Bt===null)throw Error(n(349));(ss&30)!==0||Yv(c,a,x)}return x}function Yv(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function qv(o,a,c,f){a.value=c,a.getSnapshot=f,Xv(a)&&Jv(o)}function Kv(o,a,c){return c(function(){Xv(a)&&Jv(o)})}function Xv(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!ur(o,c)}catch{return!0}}function Jv(o){var a=Yr(o,1);a!==null&&gr(a,o,1,-1)}function Qv(o){var a=Dr();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:o},a.queue=o,o=o.dispatch=YD.bind(null,wt,o),[a.memoizedState,o]}function Di(o,a,c,f){return o={tag:o,create:a,destroy:c,deps:f,next:null},a=wt.updateQueue,a===null?(a={lastEffect:null,stores:null},wt.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(f=c.next,c.next=o,o.next=f,a.lastEffect=o)),o}function eb(){return Yn().memoizedState}function rd(o,a,c,f){var x=Dr();wt.flags|=o,x.memoizedState=Di(1|a,c,void 0,f===void 0?null:f)}function od(o,a,c,f){var x=Yn();f=f===void 0?null:f;var j=void 0;if(Lt!==null){var C=Lt.memoizedState;if(j=C.destroy,f!==null&&Cp(f,C.deps)){x.memoizedState=Di(a,c,j,f);return}}wt.flags|=o,x.memoizedState=Di(1|a,c,j,f)}function tb(o,a){return rd(8390656,8,o,a)}function Rp(o,a){return od(2048,8,o,a)}function nb(o,a){return od(4,2,o,a)}function rb(o,a){return od(4,4,o,a)}function ob(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function sb(o,a,c){return c=c!=null?c.concat([o]):null,od(4,4,ob.bind(null,a,o),c)}function Dp(){}function ab(o,a){var c=Yn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Cp(a,f[1])?f[0]:(c.memoizedState=[o,a],o)}function ib(o,a){var c=Yn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Cp(a,f[1])?f[0]:(o=o(),c.memoizedState=[o,a],o)}function lb(o,a,c){return(ss&21)===0?(o.baseState&&(o.baseState=!1,wn=!0),o.memoizedState=c):(ur(c,a)||(c=ci(),wt.lanes|=c,as|=c,o.baseState=!0),a)}function ZD(o,a){var c=Ye;Ye=c!==0&&4>c?c:4,o(!0);var f=Sp.transition;Sp.transition={};try{o(!1),a()}finally{Ye=c,Sp.transition=f}}function cb(){return Yn().memoizedState}function GD(o,a,c){var f=Co(o);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},db(o))ub(a,c);else if(c=Wv(o,a,c,f),c!==null){var x=mn();gr(c,o,f,x),fb(c,a,f)}}function YD(o,a,c){var f=Co(o),x={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(db(o))ub(a,x);else{var j=o.alternate;if(o.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var C=a.lastRenderedState,D=j(C,c);if(x.hasEagerState=!0,x.eagerState=D,ur(D,C)){var L=a.interleaved;L===null?(x.next=x,yp(a)):(x.next=L.next,L.next=x),a.interleaved=x;return}}catch{}finally{}c=Wv(o,a,x,f),c!==null&&(x=mn(),gr(c,o,f,x),fb(c,a,f))}}function db(o){var a=o.alternate;return o===wt||a!==null&&a===wt}function ub(o,a){Ti=nd=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function fb(o,a,c){if((c&4194240)!==0){var f=a.lanes;f&=o.pendingLanes,c|=f,a.lanes=c,po(o,c)}}var sd={readContext:Gn,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},qD={readContext:Gn,useCallback:function(o,a){return Dr().memoizedState=[o,a===void 0?null:a],o},useContext:Gn,useEffect:tb,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,rd(4194308,4,ob.bind(null,a,o),c)},useLayoutEffect:function(o,a){return rd(4194308,4,o,a)},useInsertionEffect:function(o,a){return rd(4,2,o,a)},useMemo:function(o,a){var c=Dr();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var f=Dr();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},f.queue=o,o=o.dispatch=GD.bind(null,wt,o),[f.memoizedState,o]},useRef:function(o){var a=Dr();return o={current:o},a.memoizedState=o},useState:Qv,useDebugValue:Dp,useDeferredValue:function(o){return Dr().memoizedState=o},useTransition:function(){var o=Qv(!1),a=o[0];return o=ZD.bind(null,o[1]),Dr().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var f=wt,x=Dr();if(mt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Bt===null)throw Error(n(349));(ss&30)!==0||Yv(f,a,c)}x.memoizedState=c;var j={value:c,getSnapshot:a};return x.queue=j,tb(Kv.bind(null,f,j,o),[o]),f.flags|=2048,Di(9,qv.bind(null,f,j,c,a),void 0,null),c},useId:function(){var o=Dr(),a=Bt.identifierPrefix;if(mt){var c=Gr,f=Zr;c=(f&~(1<<32-Wt(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=zi++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=VD++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},KD={readContext:Gn,useCallback:ab,useContext:Gn,useEffect:Rp,useImperativeHandle:sb,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ib,useReducer:Tp,useRef:eb,useState:function(){return Tp(Ri)},useDebugValue:Dp,useDeferredValue:function(o){var a=Yn();return lb(a,Lt.memoizedState,o)},useTransition:function(){var o=Tp(Ri)[0],a=Yn().memoizedState;return[o,a]},useMutableSource:Zv,useSyncExternalStore:Gv,useId:cb,unstable_isNewReconciler:!1},XD={readContext:Gn,useCallback:ab,useContext:Gn,useEffect:Rp,useImperativeHandle:sb,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ib,useReducer:zp,useRef:eb,useState:function(){return zp(Ri)},useDebugValue:Dp,useDeferredValue:function(o){var a=Yn();return Lt===null?a.memoizedState=o:lb(a,Lt.memoizedState,o)},useTransition:function(){var o=zp(Ri)[0],a=Yn().memoizedState;return[o,a]},useMutableSource:Zv,useSyncExternalStore:Gv,useId:cb,unstable_isNewReconciler:!1};function pr(o,a){if(o&&o.defaultProps){a=q({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function $p(o,a,c,f){a=o.memoizedState,c=c(f,a),c=c==null?a:q({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var ad={isMounted:function(o){return(o=o._reactInternals)?ar(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var f=mn(),x=Co(o),j=qr(f,x);j.payload=a,c!=null&&(j.callback=c),a=jo(o,j,x),a!==null&&(gr(a,o,x,f),Jc(a,o,x))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var f=mn(),x=Co(o),j=qr(f,x);j.tag=1,j.payload=a,c!=null&&(j.callback=c),a=jo(o,j,x),a!==null&&(gr(a,o,x,f),Jc(a,o,x))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=mn(),f=Co(o),x=qr(c,f);x.tag=2,a!=null&&(x.callback=a),a=jo(o,x,f),a!==null&&(gr(a,o,f,c),Jc(a,o,f))}};function pb(o,a,c,f,x,j,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,j,C):a.prototype&&a.prototype.isPureReactComponent?!yi(c,f)||!yi(x,j):!0}function mb(o,a,c){var f=!1,x=vo,j=a.contextType;return typeof j=="object"&&j!==null?j=Gn(j):(x=bn(a)?es:nn.current,f=a.contextTypes,j=(f=f!=null)?ia(o,x):vo),a=new a(c,j),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ad,o.stateNode=a,a._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=j),a}function hb(o,a,c,f){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==o&&ad.enqueueReplaceState(a,a.state,null)}function Pp(o,a,c,f){var x=o.stateNode;x.props=c,x.state=o.memoizedState,x.refs={},vp(o);var j=a.contextType;typeof j=="object"&&j!==null?x.context=Gn(j):(j=bn(a)?es:nn.current,x.context=ia(o,j)),x.state=o.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&($p(o,a,j,c),x.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&ad.enqueueReplaceState(x,x.state,null),Qc(o,c,x,f),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function ha(o,a){try{var c="",f=a;do c+=J(f),f=f.return;while(f);var x=c}catch(j){x=`
Error generating stack: `+j.message+`
`+j.stack}return{value:o,source:a,stack:x,digest:null}}function Mp(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function Ip(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var JD=typeof WeakMap=="function"?WeakMap:Map;function gb(o,a,c){c=qr(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){pd||(pd=!0,Xp=f),Ip(o,a)},c}function xb(o,a,c){c=qr(-1,c),c.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var x=a.value;c.payload=function(){return f(x)},c.callback=function(){Ip(o,a)}}var j=o.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(c.callback=function(){Ip(o,a),typeof f!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),c}function yb(o,a,c){var f=o.pingCache;if(f===null){f=o.pingCache=new JD;var x=new Set;f.set(a,x)}else x=f.get(a),x===void 0&&(x=new Set,f.set(a,x));x.has(c)||(x.add(c),o=f$.bind(null,o,a,c),a.then(o,o))}function vb(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function bb(o,a,c,f,x){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=qr(-1,1),a.tag=2,jo(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var QD=T.ReactCurrentOwner,wn=!1;function pn(o,a,c,f){a.child=o===null?Fv(a,null,c,f):ua(a,o.child,c,f)}function wb(o,a,c,f,x){c=c.render;var j=a.ref;return pa(a,x),f=Ep(o,a,c,f,j,x),c=_p(),o!==null&&!wn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~x,Kr(o,a,x)):(mt&&c&&cp(a),a.flags|=1,pn(o,a,f,x),a.child)}function jb(o,a,c,f,x){if(o===null){var j=c.type;return typeof j=="function"&&!om(j)&&j.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=j,Nb(o,a,j,f,x)):(o=vd(c.type,null,f,a,a.mode,x),o.ref=a.ref,o.return=a,a.child=o)}if(j=o.child,(o.lanes&x)===0){var C=j.memoizedProps;if(c=c.compare,c=c!==null?c:yi,c(C,f)&&o.ref===a.ref)return Kr(o,a,x)}return a.flags|=1,o=_o(j,f),o.ref=a.ref,o.return=a,a.child=o}function Nb(o,a,c,f,x){if(o!==null){var j=o.memoizedProps;if(yi(j,f)&&o.ref===a.ref)if(wn=!1,a.pendingProps=f=j,(o.lanes&x)!==0)(o.flags&131072)!==0&&(wn=!0);else return a.lanes=o.lanes,Kr(o,a,x)}return Lp(o,a,c,f,x)}function kb(o,a,c){var f=a.pendingProps,x=f.children,j=o!==null?o.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(xa,Mn),Mn|=c;else{if((c&1073741824)===0)return o=j!==null?j.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,nt(xa,Mn),Mn|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=j!==null?j.baseLanes:c,nt(xa,Mn),Mn|=f}else j!==null?(f=j.baseLanes|c,a.memoizedState=null):f=c,nt(xa,Mn),Mn|=f;return pn(o,a,x,c),a.child}function Sb(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Lp(o,a,c,f,x){var j=bn(c)?es:nn.current;return j=ia(a,j),pa(a,x),c=Ep(o,a,c,f,j,x),f=_p(),o!==null&&!wn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~x,Kr(o,a,x)):(mt&&f&&cp(a),a.flags|=1,pn(o,a,c,x),a.child)}function Cb(o,a,c,f,x){if(bn(c)){var j=!0;Uc(a)}else j=!1;if(pa(a,x),a.stateNode===null)ld(o,a),mb(a,c,f),Pp(a,c,f,x),f=!0;else if(o===null){var C=a.stateNode,D=a.memoizedProps;C.props=D;var L=C.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=Gn(Z):(Z=bn(c)?es:nn.current,Z=ia(a,Z));var ie=c.getDerivedStateFromProps,ce=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function";ce||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==f||L!==Z)&&hb(a,C,f,Z),wo=!1;var se=a.memoizedState;C.state=se,Qc(a,f,C,x),L=a.memoizedState,D!==f||se!==L||vn.current||wo?(typeof ie=="function"&&($p(a,c,ie,f),L=a.memoizedState),(D=wo||pb(a,c,D,f,se,L,Z))?(ce||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=L),C.props=f,C.state=L,C.context=Z,f=D):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{C=a.stateNode,Hv(o,a),D=a.memoizedProps,Z=a.type===a.elementType?D:pr(a.type,D),C.props=Z,ce=a.pendingProps,se=C.context,L=c.contextType,typeof L=="object"&&L!==null?L=Gn(L):(L=bn(c)?es:nn.current,L=ia(a,L));var ye=c.getDerivedStateFromProps;(ie=typeof ye=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==ce||se!==L)&&hb(a,C,f,L),wo=!1,se=a.memoizedState,C.state=se,Qc(a,f,C,x);var Se=a.memoizedState;D!==ce||se!==Se||vn.current||wo?(typeof ye=="function"&&($p(a,c,ye,f),Se=a.memoizedState),(Z=wo||pb(a,c,Z,f,se,Se,L)||!1)?(ie||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,Se,L),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,Se,L)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=Se),C.props=f,C.state=Se,C.context=L,f=Z):(typeof C.componentDidUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&se===o.memoizedState||(a.flags|=1024),f=!1)}return Op(o,a,c,f,j,x)}function Op(o,a,c,f,x,j){Sb(o,a);var C=(a.flags&128)!==0;if(!f&&!C)return x&&Rv(a,c,!1),Kr(o,a,j);f=a.stateNode,QD.current=a;var D=C&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,o!==null&&C?(a.child=ua(a,o.child,null,j),a.child=ua(a,null,D,j)):pn(o,a,D,j),a.memoizedState=f.state,x&&Rv(a,c,!0),a.child}function Eb(o){var a=o.stateNode;a.pendingContext?Tv(o,a.pendingContext,a.pendingContext!==a.context):a.context&&Tv(o,a.context,!1),bp(o,a.containerInfo)}function _b(o,a,c,f,x){return da(),pp(x),a.flags|=256,pn(o,a,c,f),a.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Fp(o){return{baseLanes:o,cachePool:null,transitions:null}}function Tb(o,a,c){var f=a.pendingProps,x=bt.current,j=!1,C=(a.flags&128)!==0,D;if((D=C)||(D=o!==null&&o.memoizedState===null?!1:(x&2)!==0),D?(j=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),nt(bt,x&1),o===null)return fp(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=f.children,o=f.fallback,j?(f=a.mode,j=a.child,C={mode:"hidden",children:C},(f&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=C):j=bd(C,f,0,null),o=ds(o,f,c,null),j.return=a,o.return=a,j.sibling=o,a.child=j,a.child.memoizedState=Fp(c),a.memoizedState=Ap,o):Wp(a,C));if(x=o.memoizedState,x!==null&&(D=x.dehydrated,D!==null))return e$(o,a,C,f,D,x,c);if(j){j=f.fallback,C=a.mode,x=o.child,D=x.sibling;var L={mode:"hidden",children:f.children};return(C&1)===0&&a.child!==x?(f=a.child,f.childLanes=0,f.pendingProps=L,a.deletions=null):(f=_o(x,L),f.subtreeFlags=x.subtreeFlags&14680064),D!==null?j=_o(D,j):(j=ds(j,C,c,null),j.flags|=2),j.return=a,f.return=a,f.sibling=j,a.child=f,f=j,j=a.child,C=o.child.memoizedState,C=C===null?Fp(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},j.memoizedState=C,j.childLanes=o.childLanes&~c,a.memoizedState=Ap,f}return j=o.child,o=j.sibling,f=_o(j,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=f,a.memoizedState=null,f}function Wp(o,a){return a=bd({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function id(o,a,c,f){return f!==null&&pp(f),ua(a,o.child,null,c),o=Wp(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function e$(o,a,c,f,x,j,C){if(c)return a.flags&256?(a.flags&=-257,f=Mp(Error(n(422))),id(o,a,C,f)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(j=f.fallback,x=a.mode,f=bd({mode:"visible",children:f.children},x,0,null),j=ds(j,x,C,null),j.flags|=2,f.return=a,j.return=a,f.sibling=j,a.child=f,(a.mode&1)!==0&&ua(a,o.child,null,C),a.child.memoizedState=Fp(C),a.memoizedState=Ap,j);if((a.mode&1)===0)return id(o,a,C,null);if(x.data==="$!"){if(f=x.nextSibling&&x.nextSibling.dataset,f)var D=f.dgst;return f=D,j=Error(n(419)),f=Mp(j,f,void 0),id(o,a,C,f)}if(D=(C&o.childLanes)!==0,wn||D){if(f=Bt,f!==null){switch(C&-C){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(f.suspendedLanes|C))!==0?0:x,x!==0&&x!==j.retryLane&&(j.retryLane=x,Yr(o,x),gr(f,o,x,-1))}return rm(),f=Mp(Error(n(421))),id(o,a,C,f)}return x.data==="$?"?(a.flags|=128,a.child=o.child,a=p$.bind(null,o),x._reactRetry=a,null):(o=j.treeContext,Pn=xo(x.nextSibling),$n=a,mt=!0,fr=null,o!==null&&(Vn[Zn++]=Zr,Vn[Zn++]=Gr,Vn[Zn++]=ts,Zr=o.id,Gr=o.overflow,ts=a),a=Wp(a,f.children),a.flags|=4096,a)}function zb(o,a,c){o.lanes|=a;var f=o.alternate;f!==null&&(f.lanes|=a),xp(o.return,a,c)}function Hp(o,a,c,f,x){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:x}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=f,j.tail=c,j.tailMode=x)}function Rb(o,a,c){var f=a.pendingProps,x=f.revealOrder,j=f.tail;if(pn(o,a,f.children,c),f=bt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&zb(o,c,a);else if(o.tag===19)zb(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(nt(bt,f),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(c=a.child,x=null;c!==null;)o=c.alternate,o!==null&&ed(o)===null&&(x=c),c=c.sibling;c=x,c===null?(x=a.child,a.child=null):(x=c.sibling,c.sibling=null),Hp(a,!1,x,c,j);break;case"backwards":for(c=null,x=a.child,a.child=null;x!==null;){if(o=x.alternate,o!==null&&ed(o)===null){a.child=x;break}o=x.sibling,x.sibling=c,c=x,x=o}Hp(a,!0,c,null,j);break;case"together":Hp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ld(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Kr(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),as|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,c=_o(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=_o(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function t$(o,a,c){switch(a.tag){case 3:Eb(a),da();break;case 5:Vv(a);break;case 1:bn(a.type)&&Uc(a);break;case 4:bp(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,x=a.memoizedProps.value;nt(Kc,f._currentValue),f._currentValue=x;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(nt(bt,bt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Tb(o,a,c):(nt(bt,bt.current&1),o=Kr(o,a,c),o!==null?o.sibling:null);nt(bt,bt.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(o.flags&128)!==0){if(f)return Rb(o,a,c);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),nt(bt,bt.current),f)break;return null;case 22:case 23:return a.lanes=0,kb(o,a,c)}return Kr(o,a,c)}var Db,Bp,$b,Pb;Db=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Bp=function(){},$b=function(o,a,c,f){var x=o.memoizedProps;if(x!==f){o=a.stateNode,os(Rr.current);var j=null;switch(c){case"input":x=Xe(o,x),f=Xe(o,f),j=[];break;case"select":x=q({},x,{value:void 0}),f=q({},f,{value:void 0}),j=[];break;case"textarea":x=Me(o,x),f=Me(o,f),j=[];break;default:typeof x.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=Wc)}co(c,f);var C;c=null;for(Z in x)if(!f.hasOwnProperty(Z)&&x.hasOwnProperty(Z)&&x[Z]!=null)if(Z==="style"){var D=x[Z];for(C in D)D.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?j||(j=[]):(j=j||[]).push(Z,null));for(Z in f){var L=f[Z];if(D=x?.[Z],f.hasOwnProperty(Z)&&L!==D&&(L!=null||D!=null))if(Z==="style")if(D){for(C in D)!D.hasOwnProperty(C)||L&&L.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in L)L.hasOwnProperty(C)&&D[C]!==L[C]&&(c||(c={}),c[C]=L[C])}else c||(j||(j=[]),j.push(Z,c)),c=L;else Z==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,D=D?D.__html:void 0,L!=null&&D!==L&&(j=j||[]).push(Z,L)):Z==="children"?typeof L!="string"&&typeof L!="number"||(j=j||[]).push(Z,""+L):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(L!=null&&Z==="onScroll"&&at("scroll",o),j||D===L||(j=[])):(j=j||[]).push(Z,L))}c&&(j=j||[]).push("style",c);var Z=j;(a.updateQueue=Z)&&(a.flags|=4)}},Pb=function(o,a,c,f){c!==f&&(a.flags|=4)};function $i(o,a){if(!mt)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function on(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,f=0;if(a)for(var x=o.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags&14680064,f|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=f,o.childLanes=c,a}function n$(o,a,c){var f=a.pendingProps;switch(dp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(a),null;case 1:return bn(a.type)&&Bc(),on(a),null;case 3:return f=a.stateNode,ma(),it(vn),it(nn),kp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Yc(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,fr!==null&&(em(fr),fr=null))),Bp(o,a),on(a),null;case 5:jp(a);var x=os(_i.current);if(c=a.type,o!==null&&a.stateNode!=null)$b(o,a,c,f,x),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(n(166));return on(a),null}if(o=os(Rr.current),Yc(a)){f=a.stateNode,c=a.type;var j=a.memoizedProps;switch(f[zr]=a,f[Ni]=j,o=(a.mode&1)!==0,c){case"dialog":at("cancel",f),at("close",f);break;case"iframe":case"object":case"embed":at("load",f);break;case"video":case"audio":for(x=0;x<bi.length;x++)at(bi[x],f);break;case"source":at("error",f);break;case"img":case"image":case"link":at("error",f),at("load",f);break;case"details":at("toggle",f);break;case"input":Ct(f,j),at("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!j.multiple},at("invalid",f);break;case"textarea":Je(f,j),at("invalid",f)}co(c,j),x=null;for(var C in j)if(j.hasOwnProperty(C)){var D=j[C];C==="children"?typeof D=="string"?f.textContent!==D&&(j.suppressHydrationWarning!==!0&&Fc(f.textContent,D,o),x=["children",D]):typeof D=="number"&&f.textContent!==""+D&&(j.suppressHydrationWarning!==!0&&Fc(f.textContent,D,o),x=["children",""+D]):i.hasOwnProperty(C)&&D!=null&&C==="onScroll"&&at("scroll",f)}switch(c){case"input":rt(f),cn(f,j,!0);break;case"textarea":rt(f),me(f);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(f.onclick=Wc)}f=x,a.updateQueue=f,f!==null&&(a.flags|=4)}else{C=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=xt(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=C.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=C.createElement(c,{is:f.is}):(o=C.createElement(c),c==="select"&&(C=o,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):o=C.createElementNS(o,c),o[zr]=a,o[Ni]=f,Db(o,a,!1,!1),a.stateNode=o;e:{switch(C=Sr(c,f),c){case"dialog":at("cancel",o),at("close",o),x=f;break;case"iframe":case"object":case"embed":at("load",o),x=f;break;case"video":case"audio":for(x=0;x<bi.length;x++)at(bi[x],o);x=f;break;case"source":at("error",o),x=f;break;case"img":case"image":case"link":at("error",o),at("load",o),x=f;break;case"details":at("toggle",o),x=f;break;case"input":Ct(o,f),x=Xe(o,f),at("invalid",o);break;case"option":x=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},x=q({},f,{value:void 0}),at("invalid",o);break;case"textarea":Je(o,f),x=Me(o,f),at("invalid",o);break;default:x=f}co(c,x),D=x;for(j in D)if(D.hasOwnProperty(j)){var L=D[j];j==="style"?ti(o,L):j==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&_n(o,L)):j==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&dn(o,L):typeof L=="number"&&dn(o,""+L):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?L!=null&&j==="onScroll"&&at("scroll",o):L!=null&&w(o,j,L,C))}switch(c){case"input":rt(o),cn(o,f,!1);break;case"textarea":rt(o),me(o);break;case"option":f.value!=null&&o.setAttribute("value",""+ge(f.value));break;case"select":o.multiple=!!f.multiple,j=f.value,j!=null?he(o,!!f.multiple,j,!1):f.defaultValue!=null&&he(o,!!f.multiple,f.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=Wc)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return on(a),null;case 6:if(o&&a.stateNode!=null)Pb(o,a,o.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(n(166));if(c=os(_i.current),os(Rr.current),Yc(a)){if(f=a.stateNode,c=a.memoizedProps,f[zr]=a,(j=f.nodeValue!==c)&&(o=$n,o!==null))switch(o.tag){case 3:Fc(f.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Fc(f.nodeValue,c,(o.mode&1)!==0)}j&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[zr]=a,a.stateNode=f}return on(a),null;case 13:if(it(bt),f=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(mt&&Pn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Lv(),da(),a.flags|=98560,j=!1;else if(j=Yc(a),f!==null&&f.dehydrated!==null){if(o===null){if(!j)throw Error(n(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[zr]=a}else da(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;on(a),j=!1}else fr!==null&&(em(fr),fr=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(bt.current&1)!==0?Ot===0&&(Ot=3):rm())),a.updateQueue!==null&&(a.flags|=4),on(a),null);case 4:return ma(),Bp(o,a),o===null&&wi(a.stateNode.containerInfo),on(a),null;case 10:return gp(a.type._context),on(a),null;case 17:return bn(a.type)&&Bc(),on(a),null;case 19:if(it(bt),j=a.memoizedState,j===null)return on(a),null;if(f=(a.flags&128)!==0,C=j.rendering,C===null)if(f)$i(j,!1);else{if(Ot!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(C=ed(o),C!==null){for(a.flags|=128,$i(j,!1),f=C.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)j=c,o=f,j.flags&=14680066,C=j.alternate,C===null?(j.childLanes=0,j.lanes=o,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=C.childLanes,j.lanes=C.lanes,j.child=C.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=C.memoizedProps,j.memoizedState=C.memoizedState,j.updateQueue=C.updateQueue,j.type=C.type,o=C.dependencies,j.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return nt(bt,bt.current&1|2),a.child}o=o.sibling}j.tail!==null&&st()>ya&&(a.flags|=128,f=!0,$i(j,!1),a.lanes=4194304)}else{if(!f)if(o=ed(C),o!==null){if(a.flags|=128,f=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),$i(j,!0),j.tail===null&&j.tailMode==="hidden"&&!C.alternate&&!mt)return on(a),null}else 2*st()-j.renderingStartTime>ya&&c!==1073741824&&(a.flags|=128,f=!0,$i(j,!1),a.lanes=4194304);j.isBackwards?(C.sibling=a.child,a.child=C):(c=j.last,c!==null?c.sibling=C:a.child=C,j.last=C)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=st(),a.sibling=null,c=bt.current,nt(bt,f?c&1|2:c&1),a):(on(a),null);case 22:case 23:return nm(),f=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Mn&1073741824)!==0&&(on(a),a.subtreeFlags&6&&(a.flags|=8192)):on(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function r$(o,a){switch(dp(a),a.tag){case 1:return bn(a.type)&&Bc(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return ma(),it(vn),it(nn),kp(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return jp(a),null;case 13:if(it(bt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));da()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return it(bt),null;case 4:return ma(),null;case 10:return gp(a.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var cd=!1,sn=!1,o$=typeof WeakSet=="function"?WeakSet:Set,ve=null;function ga(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){kt(o,a,f)}else c.current=null}function Up(o,a,c){try{c()}catch(f){kt(o,a,f)}}var Mb=!1;function s$(o,a){if(tp=Tc,o=pv(),Gf(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var x=f.anchorOffset,j=f.focusNode;f=f.focusOffset;try{c.nodeType,j.nodeType}catch{c=null;break e}var C=0,D=-1,L=-1,Z=0,ie=0,ce=o,se=null;t:for(;;){for(var ye;ce!==c||x!==0&&ce.nodeType!==3||(D=C+x),ce!==j||f!==0&&ce.nodeType!==3||(L=C+f),ce.nodeType===3&&(C+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)se=ce,ce=ye;for(;;){if(ce===o)break t;if(se===c&&++Z===x&&(D=C),se===j&&++ie===f&&(L=C),(ye=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=ye}c=D===-1||L===-1?null:{start:D,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(np={focusedElem:o,selectionRange:c},Tc=!1,ve=a;ve!==null;)if(a=ve,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,ve=o;else for(;ve!==null;){a=ve;try{var Se=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ce=Se.memoizedProps,_t=Se.memoizedState,W=a.stateNode,A=W.getSnapshotBeforeUpdate(a.elementType===a.type?Ce:pr(a.type,Ce),_t);W.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var H=a.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){kt(a,a.return,fe)}if(o=a.sibling,o!==null){o.return=a.return,ve=o;break}ve=a.return}return Se=Mb,Mb=!1,Se}function Pi(o,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&o)===o){var j=x.destroy;x.destroy=void 0,j!==void 0&&Up(a,c,j)}x=x.next}while(x!==f)}}function dd(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function Vp(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function Ib(o){var a=o.alternate;a!==null&&(o.alternate=null,Ib(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[zr],delete a[Ni],delete a[ap],delete a[WD],delete a[HD])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Lb(o){return o.tag===5||o.tag===3||o.tag===4}function Ob(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Lb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Zp(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Wc));else if(f!==4&&(o=o.child,o!==null))for(Zp(o,a,c),o=o.sibling;o!==null;)Zp(o,a,c),o=o.sibling}function Gp(o,a,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(Gp(o,a,c),o=o.sibling;o!==null;)Gp(o,a,c),o=o.sibling}var Qt=null,mr=!1;function No(o,a,c){for(c=c.child;c!==null;)Ab(o,a,c),c=c.sibling}function Ab(o,a,c){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(zn,c)}catch{}switch(c.tag){case 5:sn||ga(c,a);case 6:var f=Qt,x=mr;Qt=null,No(o,a,c),Qt=f,mr=x,Qt!==null&&(mr?(o=Qt,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):Qt.removeChild(c.stateNode));break;case 18:Qt!==null&&(mr?(o=Qt,c=c.stateNode,o.nodeType===8?sp(o.parentNode,c):o.nodeType===1&&sp(o,c),fi(o)):sp(Qt,c.stateNode));break;case 4:f=Qt,x=mr,Qt=c.stateNode.containerInfo,mr=!0,No(o,a,c),Qt=f,mr=x;break;case 0:case 11:case 14:case 15:if(!sn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){x=f=f.next;do{var j=x,C=j.destroy;j=j.tag,C!==void 0&&((j&2)!==0||(j&4)!==0)&&Up(c,a,C),x=x.next}while(x!==f)}No(o,a,c);break;case 1:if(!sn&&(ga(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(D){kt(c,a,D)}No(o,a,c);break;case 21:No(o,a,c);break;case 22:c.mode&1?(sn=(f=sn)||c.memoizedState!==null,No(o,a,c),sn=f):No(o,a,c);break;default:No(o,a,c)}}function Fb(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new o$),a.forEach(function(f){var x=m$.bind(null,o,f);c.has(f)||(c.add(f),f.then(x,x))})}}function hr(o,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var x=c[f];try{var j=o,C=a,D=C;e:for(;D!==null;){switch(D.tag){case 5:Qt=D.stateNode,mr=!1;break e;case 3:Qt=D.stateNode.containerInfo,mr=!0;break e;case 4:Qt=D.stateNode.containerInfo,mr=!0;break e}D=D.return}if(Qt===null)throw Error(n(160));Ab(j,C,x),Qt=null,mr=!1;var L=x.alternate;L!==null&&(L.return=null),x.return=null}catch(Z){kt(x,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Wb(a,o),a=a.sibling}function Wb(o,a){var c=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(hr(a,o),$r(o),f&4){try{Pi(3,o,o.return),dd(3,o)}catch(Ce){kt(o,o.return,Ce)}try{Pi(5,o,o.return)}catch(Ce){kt(o,o.return,Ce)}}break;case 1:hr(a,o),$r(o),f&512&&c!==null&&ga(c,c.return);break;case 5:if(hr(a,o),$r(o),f&512&&c!==null&&ga(c,c.return),o.flags&32){var x=o.stateNode;try{dn(x,"")}catch(Ce){kt(o,o.return,Ce)}}if(f&4&&(x=o.stateNode,x!=null)){var j=o.memoizedProps,C=c!==null?c.memoizedProps:j,D=o.type,L=o.updateQueue;if(o.updateQueue=null,L!==null)try{D==="input"&&j.type==="radio"&&j.name!=null&&Kt(x,j),Sr(D,C);var Z=Sr(D,j);for(C=0;C<L.length;C+=2){var ie=L[C],ce=L[C+1];ie==="style"?ti(x,ce):ie==="dangerouslySetInnerHTML"?_n(x,ce):ie==="children"?dn(x,ce):w(x,ie,ce,Z)}switch(D){case"input":tn(x,j);break;case"textarea":We(x,j);break;case"select":var se=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!j.multiple;var ye=j.value;ye!=null?he(x,!!j.multiple,ye,!1):se!==!!j.multiple&&(j.defaultValue!=null?he(x,!!j.multiple,j.defaultValue,!0):he(x,!!j.multiple,j.multiple?[]:"",!1))}x[Ni]=j}catch(Ce){kt(o,o.return,Ce)}}break;case 6:if(hr(a,o),$r(o),f&4){if(o.stateNode===null)throw Error(n(162));x=o.stateNode,j=o.memoizedProps;try{x.nodeValue=j}catch(Ce){kt(o,o.return,Ce)}}break;case 3:if(hr(a,o),$r(o),f&4&&c!==null&&c.memoizedState.isDehydrated)try{fi(a.containerInfo)}catch(Ce){kt(o,o.return,Ce)}break;case 4:hr(a,o),$r(o);break;case 13:hr(a,o),$r(o),x=o.child,x.flags&8192&&(j=x.memoizedState!==null,x.stateNode.isHidden=j,!j||x.alternate!==null&&x.alternate.memoizedState!==null||(Kp=st())),f&4&&Fb(o);break;case 22:if(ie=c!==null&&c.memoizedState!==null,o.mode&1?(sn=(Z=sn)||ie,hr(a,o),sn=Z):hr(a,o),$r(o),f&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!ie&&(o.mode&1)!==0)for(ve=o,ie=o.child;ie!==null;){for(ce=ve=ie;ve!==null;){switch(se=ve,ye=se.child,se.tag){case 0:case 11:case 14:case 15:Pi(4,se,se.return);break;case 1:ga(se,se.return);var Se=se.stateNode;if(typeof Se.componentWillUnmount=="function"){f=se,c=se.return;try{a=f,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Ce){kt(f,c,Ce)}}break;case 5:ga(se,se.return);break;case 22:if(se.memoizedState!==null){Ub(ce);continue}}ye!==null?(ye.return=se,ve=ye):Ub(ce)}ie=ie.sibling}e:for(ie=null,ce=o;;){if(ce.tag===5){if(ie===null){ie=ce;try{x=ce.stateNode,Z?(j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(D=ce.stateNode,L=ce.memoizedProps.style,C=L!=null&&L.hasOwnProperty("display")?L.display:null,D.style.display=ei("display",C))}catch(Ce){kt(o,o.return,Ce)}}}else if(ce.tag===6){if(ie===null)try{ce.stateNode.nodeValue=Z?"":ce.memoizedProps}catch(Ce){kt(o,o.return,Ce)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===o)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===o)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===o)break e;ie===ce&&(ie=null),ce=ce.return}ie===ce&&(ie=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:hr(a,o),$r(o),f&4&&Fb(o);break;case 21:break;default:hr(a,o),$r(o)}}function $r(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(Lb(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var x=f.stateNode;f.flags&32&&(dn(x,""),f.flags&=-33);var j=Ob(o);Gp(o,j,x);break;case 3:case 4:var C=f.stateNode.containerInfo,D=Ob(o);Zp(o,D,C);break;default:throw Error(n(161))}}catch(L){kt(o,o.return,L)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function a$(o,a,c){ve=o,Hb(o)}function Hb(o,a,c){for(var f=(o.mode&1)!==0;ve!==null;){var x=ve,j=x.child;if(x.tag===22&&f){var C=x.memoizedState!==null||cd;if(!C){var D=x.alternate,L=D!==null&&D.memoizedState!==null||sn;D=cd;var Z=sn;if(cd=C,(sn=L)&&!Z)for(ve=x;ve!==null;)C=ve,L=C.child,C.tag===22&&C.memoizedState!==null?Vb(x):L!==null?(L.return=C,ve=L):Vb(x);for(;j!==null;)ve=j,Hb(j),j=j.sibling;ve=x,cd=D,sn=Z}Bb(o)}else(x.subtreeFlags&8772)!==0&&j!==null?(j.return=x,ve=j):Bb(o)}}function Bb(o){for(;ve!==null;){var a=ve;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:sn||dd(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!sn)if(c===null)f.componentDidMount();else{var x=a.elementType===a.type?c.memoizedProps:pr(a.type,c.memoizedProps);f.componentDidUpdate(x,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&Uv(a,j,f);break;case 3:var C=a.updateQueue;if(C!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Uv(a,C,c)}break;case 5:var D=a.stateNode;if(c===null&&a.flags&4){c=D;var L=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var ce=ie.dehydrated;ce!==null&&fi(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}sn||a.flags&512&&Vp(a)}catch(se){kt(a,a.return,se)}}if(a===o){ve=null;break}if(c=a.sibling,c!==null){c.return=a.return,ve=c;break}ve=a.return}}function Ub(o){for(;ve!==null;){var a=ve;if(a===o){ve=null;break}var c=a.sibling;if(c!==null){c.return=a.return,ve=c;break}ve=a.return}}function Vb(o){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{dd(4,a)}catch(L){kt(a,c,L)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var x=a.return;try{f.componentDidMount()}catch(L){kt(a,x,L)}}var j=a.return;try{Vp(a)}catch(L){kt(a,j,L)}break;case 5:var C=a.return;try{Vp(a)}catch(L){kt(a,C,L)}}}catch(L){kt(a,a.return,L)}if(a===o){ve=null;break}var D=a.sibling;if(D!==null){D.return=a.return,ve=D;break}ve=a.return}}var i$=Math.ceil,ud=T.ReactCurrentDispatcher,Yp=T.ReactCurrentOwner,qn=T.ReactCurrentBatchConfig,Ue=0,Bt=null,Rt=null,en=0,Mn=0,xa=yo(0),Ot=0,Mi=null,as=0,fd=0,qp=0,Ii=null,jn=null,Kp=0,ya=1/0,Xr=null,pd=!1,Xp=null,ko=null,md=!1,So=null,hd=0,Li=0,Jp=null,gd=-1,xd=0;function mn(){return(Ue&6)!==0?st():gd!==-1?gd:gd=st()}function Co(o){return(o.mode&1)===0?1:(Ue&2)!==0&&en!==0?en&-en:UD.transition!==null?(xd===0&&(xd=ci()),xd):(o=Ye,o!==0||(o=window.event,o=o===void 0?16:Gy(o.type)),o)}function gr(o,a,c,f){if(50<Li)throw Li=0,Jp=null,Error(n(185));ir(o,c,f),((Ue&2)===0||o!==Bt)&&(o===Bt&&((Ue&2)===0&&(fd|=c),Ot===4&&Eo(o,en)),Nn(o,f),c===1&&Ue===0&&(a.mode&1)===0&&(ya=st()+500,Vc&&bo()))}function Nn(o,a){var c=o.callbackNode;Ec(o,a);var f=Rn(o,o===Bt?en:0);if(f===0)c!==null&&Wr(c),o.callbackNode=null,o.callbackPriority=0;else if(a=f&-f,o.callbackPriority!==a){if(c!=null&&Wr(c),a===1)o.tag===0?BD(Gb.bind(null,o)):Dv(Gb.bind(null,o)),AD(function(){(Ue&6)===0&&bo()}),c=null;else{switch(Ko(f)){case 1:c=si;break;case 4:c=ai;break;case 16:c=Gs;break;case 536870912:c=kc;break;default:c=Gs}c=t1(c,Zb.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function Zb(o,a){if(gd=-1,xd=0,(Ue&6)!==0)throw Error(n(327));var c=o.callbackNode;if(va()&&o.callbackNode!==c)return null;var f=Rn(o,o===Bt?en:0);if(f===0)return null;if((f&30)!==0||(f&o.expiredLanes)!==0||a)a=yd(o,f);else{a=f;var x=Ue;Ue|=2;var j=qb();(Bt!==o||en!==a)&&(Xr=null,ya=st()+500,ls(o,a));do try{d$();break}catch(D){Yb(o,D)}while(!0);hp(),ud.current=j,Ue=x,Rt!==null?a=0:(Bt=null,en=0,a=Ot)}if(a!==0){if(a===2&&(x=qs(o),x!==0&&(f=x,a=Qp(o,x))),a===1)throw c=Mi,ls(o,0),Eo(o,f),Nn(o,st()),c;if(a===6)Eo(o,f);else{if(x=o.current.alternate,(f&30)===0&&!l$(x)&&(a=yd(o,f),a===2&&(j=qs(o),j!==0&&(f=j,a=Qp(o,j))),a===1))throw c=Mi,ls(o,0),Eo(o,f),Nn(o,st()),c;switch(o.finishedWork=x,o.finishedLanes=f,a){case 0:case 1:throw Error(n(345));case 2:cs(o,jn,Xr);break;case 3:if(Eo(o,f),(f&130023424)===f&&(a=Kp+500-st(),10<a)){if(Rn(o,0)!==0)break;if(x=o.suspendedLanes,(x&f)!==f){mn(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=op(cs.bind(null,o,jn,Xr),a);break}cs(o,jn,Xr);break;case 4:if(Eo(o,f),(f&4194240)===f)break;for(a=o.eventTimes,x=-1;0<f;){var C=31-Wt(f);j=1<<C,C=a[C],C>x&&(x=C),f&=~j}if(f=x,f=st()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*i$(f/1960))-f,10<f){o.timeoutHandle=op(cs.bind(null,o,jn,Xr),f);break}cs(o,jn,Xr);break;case 5:cs(o,jn,Xr);break;default:throw Error(n(329))}}}return Nn(o,st()),o.callbackNode===c?Zb.bind(null,o):null}function Qp(o,a){var c=Ii;return o.current.memoizedState.isDehydrated&&(ls(o,a).flags|=256),o=yd(o,a),o!==2&&(a=jn,jn=c,a!==null&&em(a)),o}function em(o){jn===null?jn=o:jn.push.apply(jn,o)}function l$(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var x=c[f],j=x.getSnapshot;x=x.value;try{if(!ur(j(),x))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Eo(o,a){for(a&=~qp,a&=~fd,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-Wt(a),f=1<<c;o[c]=-1,a&=~f}}function Gb(o){if((Ue&6)!==0)throw Error(n(327));va();var a=Rn(o,0);if((a&1)===0)return Nn(o,st()),null;var c=yd(o,a);if(o.tag!==0&&c===2){var f=qs(o);f!==0&&(a=f,c=Qp(o,f))}if(c===1)throw c=Mi,ls(o,0),Eo(o,a),Nn(o,st()),c;if(c===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,cs(o,jn,Xr),Nn(o,st()),null}function tm(o,a){var c=Ue;Ue|=1;try{return o(a)}finally{Ue=c,Ue===0&&(ya=st()+500,Vc&&bo())}}function is(o){So!==null&&So.tag===0&&(Ue&6)===0&&va();var a=Ue;Ue|=1;var c=qn.transition,f=Ye;try{if(qn.transition=null,Ye=1,o)return o()}finally{Ye=f,qn.transition=c,Ue=a,(Ue&6)===0&&bo()}}function nm(){Mn=xa.current,it(xa)}function ls(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,OD(c)),Rt!==null)for(c=Rt.return;c!==null;){var f=c;switch(dp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Bc();break;case 3:ma(),it(vn),it(nn),kp();break;case 5:jp(f);break;case 4:ma();break;case 13:it(bt);break;case 19:it(bt);break;case 10:gp(f.type._context);break;case 22:case 23:nm()}c=c.return}if(Bt=o,Rt=o=_o(o.current,null),en=Mn=a,Ot=0,Mi=null,qp=fd=as=0,jn=Ii=null,rs!==null){for(a=0;a<rs.length;a++)if(c=rs[a],f=c.interleaved,f!==null){c.interleaved=null;var x=f.next,j=c.pending;if(j!==null){var C=j.next;j.next=x,f.next=C}c.pending=f}rs=null}return o}function Yb(o,a){do{var c=Rt;try{if(hp(),td.current=sd,nd){for(var f=wt.memoizedState;f!==null;){var x=f.queue;x!==null&&(x.pending=null),f=f.next}nd=!1}if(ss=0,Ht=Lt=wt=null,Ti=!1,zi=0,Yp.current=null,c===null||c.return===null){Ot=1,Mi=a,Rt=null;break}e:{var j=o,C=c.return,D=c,L=a;if(a=en,D.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=L,ie=D,ce=ie.tag;if((ie.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ye=vb(C);if(ye!==null){ye.flags&=-257,bb(ye,C,D,j,a),ye.mode&1&&yb(j,Z,a),a=ye,L=Z;var Se=a.updateQueue;if(Se===null){var Ce=new Set;Ce.add(L),a.updateQueue=Ce}else Se.add(L);break e}else{if((a&1)===0){yb(j,Z,a),rm();break e}L=Error(n(426))}}else if(mt&&D.mode&1){var _t=vb(C);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),bb(_t,C,D,j,a),pp(ha(L,D));break e}}j=L=ha(L,D),Ot!==4&&(Ot=2),Ii===null?Ii=[j]:Ii.push(j),j=C;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var W=gb(j,L,a);Bv(j,W);break e;case 1:D=L;var A=j.type,H=j.stateNode;if((j.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(ko===null||!ko.has(H)))){j.flags|=65536,a&=-a,j.lanes|=a;var fe=xb(j,D,a);Bv(j,fe);break e}}j=j.return}while(j!==null)}Xb(c)}catch(_e){a=_e,Rt===c&&c!==null&&(Rt=c=c.return);continue}break}while(!0)}function qb(){var o=ud.current;return ud.current=sd,o===null?sd:o}function rm(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Bt===null||(as&268435455)===0&&(fd&268435455)===0||Eo(Bt,en)}function yd(o,a){var c=Ue;Ue|=2;var f=qb();(Bt!==o||en!==a)&&(Xr=null,ls(o,a));do try{c$();break}catch(x){Yb(o,x)}while(!0);if(hp(),Ue=c,ud.current=f,Rt!==null)throw Error(n(261));return Bt=null,en=0,Ot}function c$(){for(;Rt!==null;)Kb(Rt)}function d$(){for(;Rt!==null&&!Mf();)Kb(Rt)}function Kb(o){var a=e1(o.alternate,o,Mn);o.memoizedProps=o.pendingProps,a===null?Xb(o):Rt=a,Yp.current=null}function Xb(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=n$(c,a,Mn),c!==null){Rt=c;return}}else{if(c=r$(c,a),c!==null){c.flags&=32767,Rt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Ot=6,Rt=null;return}}if(a=a.sibling,a!==null){Rt=a;return}Rt=a=o}while(a!==null);Ot===0&&(Ot=5)}function cs(o,a,c){var f=Ye,x=qn.transition;try{qn.transition=null,Ye=1,u$(o,a,c,f)}finally{qn.transition=x,Ye=f}return null}function u$(o,a,c,f){do va();while(So!==null);if((Ue&6)!==0)throw Error(n(327));c=o.finishedWork;var x=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var j=c.lanes|c.childLanes;if(Ks(o,j),o===Bt&&(Rt=Bt=null,en=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||md||(md=!0,t1(Gs,function(){return va(),null})),j=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||j){j=qn.transition,qn.transition=null;var C=Ye;Ye=1;var D=Ue;Ue|=4,Yp.current=null,s$(o,c),Wb(c,o),RD(np),Tc=!!tp,np=tp=null,o.current=c,a$(c),Un(),Ue=D,Ye=C,qn.transition=j}else o.current=c;if(md&&(md=!1,So=o,hd=x),j=o.pendingLanes,j===0&&(ko=null),Ys(c.stateNode),Nn(o,st()),a!==null)for(f=o.onRecoverableError,c=0;c<a.length;c++)x=a[c],f(x.value,{componentStack:x.stack,digest:x.digest});if(pd)throw pd=!1,o=Xp,Xp=null,o;return(hd&1)!==0&&o.tag!==0&&va(),j=o.pendingLanes,(j&1)!==0?o===Jp?Li++:(Li=0,Jp=o):Li=0,bo(),null}function va(){if(So!==null){var o=Ko(hd),a=qn.transition,c=Ye;try{if(qn.transition=null,Ye=16>o?16:o,So===null)var f=!1;else{if(o=So,So=null,hd=0,(Ue&6)!==0)throw Error(n(331));var x=Ue;for(Ue|=4,ve=o.current;ve!==null;){var j=ve,C=j.child;if((ve.flags&16)!==0){var D=j.deletions;if(D!==null){for(var L=0;L<D.length;L++){var Z=D[L];for(ve=Z;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:Pi(8,ie,j)}var ce=ie.child;if(ce!==null)ce.return=ie,ve=ce;else for(;ve!==null;){ie=ve;var se=ie.sibling,ye=ie.return;if(Ib(ie),ie===Z){ve=null;break}if(se!==null){se.return=ye,ve=se;break}ve=ye}}}var Se=j.alternate;if(Se!==null){var Ce=Se.child;if(Ce!==null){Se.child=null;do{var _t=Ce.sibling;Ce.sibling=null,Ce=_t}while(Ce!==null)}}ve=j}}if((j.subtreeFlags&2064)!==0&&C!==null)C.return=j,ve=C;else e:for(;ve!==null;){if(j=ve,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Pi(9,j,j.return)}var W=j.sibling;if(W!==null){W.return=j.return,ve=W;break e}ve=j.return}}var A=o.current;for(ve=A;ve!==null;){C=ve;var H=C.child;if((C.subtreeFlags&2064)!==0&&H!==null)H.return=C,ve=H;else e:for(C=A;ve!==null;){if(D=ve,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:dd(9,D)}}catch(_e){kt(D,D.return,_e)}if(D===C){ve=null;break e}var fe=D.sibling;if(fe!==null){fe.return=D.return,ve=fe;break e}ve=D.return}}if(Ue=x,bo(),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(zn,o)}catch{}f=!0}return f}finally{Ye=c,qn.transition=a}}return!1}function Jb(o,a,c){a=ha(c,a),a=gb(o,a,1),o=jo(o,a,1),a=mn(),o!==null&&(ir(o,1,a),Nn(o,a))}function kt(o,a,c){if(o.tag===3)Jb(o,o,c);else for(;a!==null;){if(a.tag===3){Jb(a,o,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ko===null||!ko.has(f))){o=ha(c,o),o=xb(a,o,1),a=jo(a,o,1),o=mn(),a!==null&&(ir(a,1,o),Nn(a,o));break}}a=a.return}}function f$(o,a,c){var f=o.pingCache;f!==null&&f.delete(a),a=mn(),o.pingedLanes|=o.suspendedLanes&c,Bt===o&&(en&c)===c&&(Ot===4||Ot===3&&(en&130023424)===en&&500>st()-Kp?ls(o,0):qp|=c),Nn(o,a)}function Qb(o,a){a===0&&((o.mode&1)===0?a=1:(a=Yo,Yo<<=1,(Yo&130023424)===0&&(Yo=4194304)));var c=mn();o=Yr(o,a),o!==null&&(ir(o,a,c),Nn(o,c))}function p$(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),Qb(o,c)}function m$(o,a){var c=0;switch(o.tag){case 13:var f=o.stateNode,x=o.memoizedState;x!==null&&(c=x.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(a),Qb(o,c)}var e1;e1=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||vn.current)wn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return wn=!1,t$(o,a,c);wn=(o.flags&131072)!==0}else wn=!1,mt&&(a.flags&1048576)!==0&&$v(a,Gc,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;ld(o,a),o=a.pendingProps;var x=ia(a,nn.current);pa(a,c),x=Ep(null,a,f,o,x,c);var j=_p();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,bn(f)?(j=!0,Uc(a)):j=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,vp(a),x.updater=ad,a.stateNode=x,x._reactInternals=a,Pp(a,f,o,c),a=Op(null,a,f,!0,j,c)):(a.tag=0,mt&&j&&cp(a),pn(null,a,x,c),a=a.child),a;case 16:f=a.elementType;e:{switch(ld(o,a),o=a.pendingProps,x=f._init,f=x(f._payload),a.type=f,x=a.tag=g$(f),o=pr(f,o),x){case 0:a=Lp(null,a,f,o,c);break e;case 1:a=Cb(null,a,f,o,c);break e;case 11:a=wb(null,a,f,o,c);break e;case 14:a=jb(null,a,f,pr(f.type,o),c);break e}throw Error(n(306,f,""))}return a;case 0:return f=a.type,x=a.pendingProps,x=a.elementType===f?x:pr(f,x),Lp(o,a,f,x,c);case 1:return f=a.type,x=a.pendingProps,x=a.elementType===f?x:pr(f,x),Cb(o,a,f,x,c);case 3:e:{if(Eb(a),o===null)throw Error(n(387));f=a.pendingProps,j=a.memoizedState,x=j.element,Hv(o,a),Qc(a,f,null,c);var C=a.memoizedState;if(f=C.element,j.isDehydrated)if(j={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){x=ha(Error(n(423)),a),a=_b(o,a,f,c,x);break e}else if(f!==x){x=ha(Error(n(424)),a),a=_b(o,a,f,c,x);break e}else for(Pn=xo(a.stateNode.containerInfo.firstChild),$n=a,mt=!0,fr=null,c=Fv(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(da(),f===x){a=Kr(o,a,c);break e}pn(o,a,f,c)}a=a.child}return a;case 5:return Vv(a),o===null&&fp(a),f=a.type,x=a.pendingProps,j=o!==null?o.memoizedProps:null,C=x.children,rp(f,x)?C=null:j!==null&&rp(f,j)&&(a.flags|=32),Sb(o,a),pn(o,a,C,c),a.child;case 6:return o===null&&fp(a),null;case 13:return Tb(o,a,c);case 4:return bp(a,a.stateNode.containerInfo),f=a.pendingProps,o===null?a.child=ua(a,null,f,c):pn(o,a,f,c),a.child;case 11:return f=a.type,x=a.pendingProps,x=a.elementType===f?x:pr(f,x),wb(o,a,f,x,c);case 7:return pn(o,a,a.pendingProps,c),a.child;case 8:return pn(o,a,a.pendingProps.children,c),a.child;case 12:return pn(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,x=a.pendingProps,j=a.memoizedProps,C=x.value,nt(Kc,f._currentValue),f._currentValue=C,j!==null)if(ur(j.value,C)){if(j.children===x.children&&!vn.current){a=Kr(o,a,c);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var D=j.dependencies;if(D!==null){C=j.child;for(var L=D.firstContext;L!==null;){if(L.context===f){if(j.tag===1){L=qr(-1,c&-c),L.tag=2;var Z=j.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?L.next=L:(L.next=ie.next,ie.next=L),Z.pending=L}}j.lanes|=c,L=j.alternate,L!==null&&(L.lanes|=c),xp(j.return,c,a),D.lanes|=c;break}L=L.next}}else if(j.tag===10)C=j.type===a.type?null:j.child;else if(j.tag===18){if(C=j.return,C===null)throw Error(n(341));C.lanes|=c,D=C.alternate,D!==null&&(D.lanes|=c),xp(C,c,a),C=j.sibling}else C=j.child;if(C!==null)C.return=j;else for(C=j;C!==null;){if(C===a){C=null;break}if(j=C.sibling,j!==null){j.return=C.return,C=j;break}C=C.return}j=C}pn(o,a,x.children,c),a=a.child}return a;case 9:return x=a.type,f=a.pendingProps.children,pa(a,c),x=Gn(x),f=f(x),a.flags|=1,pn(o,a,f,c),a.child;case 14:return f=a.type,x=pr(f,a.pendingProps),x=pr(f.type,x),jb(o,a,f,x,c);case 15:return Nb(o,a,a.type,a.pendingProps,c);case 17:return f=a.type,x=a.pendingProps,x=a.elementType===f?x:pr(f,x),ld(o,a),a.tag=1,bn(f)?(o=!0,Uc(a)):o=!1,pa(a,c),mb(a,f,x),Pp(a,f,x,c),Op(null,a,f,!0,o,c);case 19:return Rb(o,a,c);case 22:return kb(o,a,c)}throw Error(n(156,a.tag))};function t1(o,a){return ri(o,a)}function h$(o,a,c,f){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(o,a,c,f){return new h$(o,a,c,f)}function om(o){return o=o.prototype,!(!o||!o.isReactComponent)}function g$(o){if(typeof o=="function")return om(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ue)return 11;if(o===ke)return 14}return 2}function _o(o,a){var c=o.alternate;return c===null?(c=Kn(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function vd(o,a,c,f,x,j){var C=2;if(f=o,typeof o=="function")om(o)&&(C=1);else if(typeof o=="string")C=5;else e:switch(o){case O:return ds(c.children,x,j,a);case P:C=8,x|=8;break;case B:return o=Kn(12,c,a,x|2),o.elementType=B,o.lanes=j,o;case Ne:return o=Kn(13,c,a,x),o.elementType=Ne,o.lanes=j,o;case re:return o=Kn(19,c,a,x),o.elementType=re,o.lanes=j,o;case ne:return bd(c,x,j,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case V:C=10;break e;case oe:C=9;break e;case ue:C=11;break e;case ke:C=14;break e;case ae:C=16,f=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=Kn(C,c,a,x),a.elementType=o,a.type=f,a.lanes=j,a}function ds(o,a,c,f){return o=Kn(7,o,f,a),o.lanes=c,o}function bd(o,a,c,f){return o=Kn(22,o,f,a),o.elementType=ne,o.lanes=c,o.stateNode={isHidden:!1},o}function sm(o,a,c){return o=Kn(6,o,null,a),o.lanes=c,o}function am(o,a,c){return a=Kn(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function x$(o,a,c,f,x){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=f,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function im(o,a,c,f,x,j,C,D,L){return o=new x$(o,a,c,D,L),a===1?(a=1,j===!0&&(a|=8)):a=0,j=Kn(3,null,null,a),o.current=j,j.stateNode=o,j.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},vp(j),o}function y$(o,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:f==null?null:""+f,children:o,containerInfo:a,implementation:c}}function n1(o){if(!o)return vo;o=o._reactInternals;e:{if(ar(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(bn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var c=o.type;if(bn(c))return zv(o,c,a)}return a}function r1(o,a,c,f,x,j,C,D,L){return o=im(c,f,!0,o,x,j,C,D,L),o.context=n1(null),c=o.current,f=mn(),x=Co(c),j=qr(f,x),j.callback=a??null,jo(c,j,x),o.current.lanes=x,ir(o,x,f),Nn(o,f),o}function wd(o,a,c,f){var x=a.current,j=mn(),C=Co(x);return c=n1(c),a.context===null?a.context=c:a.pendingContext=c,a=qr(j,C),a.payload={element:o},f=f===void 0?null:f,f!==null&&(a.callback=f),o=jo(x,a,C),o!==null&&(gr(o,x,C,j),Jc(o,x,C)),C}function jd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function o1(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function lm(o,a){o1(o,a),(o=o.alternate)&&o1(o,a)}function v$(){return null}var s1=typeof reportError=="function"?reportError:function(o){console.error(o)};function cm(o){this._internalRoot=o}Nd.prototype.render=cm.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));wd(o,a,null,null)},Nd.prototype.unmount=cm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;is(function(){wd(null,o,null,null)}),a[Ur]=null}};function Nd(o){this._internalRoot=o}Nd.prototype.unstable_scheduleHydration=function(o){if(o){var a=_c();o={blockedOn:null,target:o,priority:a};for(var c=0;c<Tr.length&&a!==0&&a<Tr[c].priority;c++);Tr.splice(c,0,o),c===0&&Te(o)}};function dm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function kd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function a1(){}function b$(o,a,c,f,x){if(x){if(typeof f=="function"){var j=f;f=function(){var Z=jd(C);j.call(Z)}}var C=r1(a,f,o,0,null,!1,!1,"",a1);return o._reactRootContainer=C,o[Ur]=C.current,wi(o.nodeType===8?o.parentNode:o),is(),C}for(;x=o.lastChild;)o.removeChild(x);if(typeof f=="function"){var D=f;f=function(){var Z=jd(L);D.call(Z)}}var L=im(o,0,!1,null,null,!1,!1,"",a1);return o._reactRootContainer=L,o[Ur]=L.current,wi(o.nodeType===8?o.parentNode:o),is(function(){wd(a,L,c,f)}),L}function Sd(o,a,c,f,x){var j=c._reactRootContainer;if(j){var C=j;if(typeof x=="function"){var D=x;x=function(){var L=jd(C);D.call(L)}}wd(a,C,o,x)}else C=b$(c,a,o,x,f);return jd(C)}Er=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=fo(a.pendingLanes);c!==0&&(po(a,c|1),Nn(a,st()),(Ue&6)===0&&(ya=st()+500,bo()))}break;case 13:is(function(){var f=Yr(o,1);if(f!==null){var x=mn();gr(f,o,1,x)}}),lm(o,1)}},lr=function(o){if(o.tag===13){var a=Yr(o,134217728);if(a!==null){var c=mn();gr(a,o,134217728,c)}lm(o,134217728)}},di=function(o){if(o.tag===13){var a=Co(o),c=Yr(o,a);if(c!==null){var f=mn();gr(c,o,a,f)}lm(o,a)}},_c=function(){return Ye},ui=function(o,a){var c=Ye;try{return Ye=o,a()}finally{Ye=c}},qe=function(o,a,c){switch(a){case"input":if(tn(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==o&&f.form===o.form){var x=Hc(f);if(!x)throw Error(n(90));Ge(f),tn(f,x)}}}break;case"textarea":We(o,c);break;case"select":a=c.value,a!=null&&he(o,!!c.multiple,a,!1)}},pt=tm,zt=is;var w$={usingClientEntryPoint:!1,Events:[ki,sa,Hc,Nt,yt,tm]},Oi={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j$={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zs(o),o===null?null:o.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||v$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{zn=Cd.inject(j$),He=Cd}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w$,hn.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dm(a))throw Error(n(200));return y$(o,a,null,c)},hn.createRoot=function(o,a){if(!dm(o))throw Error(n(299));var c=!1,f="",x=s1;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=im(o,1,!1,null,null,c,!1,f,x),o[Ur]=a.current,wi(o.nodeType===8?o.parentNode:o),new cm(a)},hn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Zs(a),o=o===null?null:o.stateNode,o},hn.flushSync=function(o){return is(o)},hn.hydrate=function(o,a,c){if(!kd(a))throw Error(n(200));return Sd(null,o,a,!0,c)},hn.hydrateRoot=function(o,a,c){if(!dm(o))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,x=!1,j="",C=s1;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(j=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),a=r1(a,null,o,1,c??null,x,!1,j,C),o[Ur]=a.current,wi(o),f)for(o=0;o<f.length;o++)c=f[o],x=c._getVersion,x=x(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,x]:a.mutableSourceEagerHydrationData.push(c,x);return new Nd(a)},hn.render=function(o,a,c){if(!kd(a))throw Error(n(200));return Sd(null,o,a,!1,c)},hn.unmountComponentAtNode=function(o){if(!kd(o))throw Error(n(40));return o._reactRootContainer?(is(function(){Sd(null,null,o,!1,function(){o._reactRootContainer=null,o[Ur]=null})}),!0):!1},hn.unstable_batchedUpdates=tm,hn.unstable_renderSubtreeIntoContainer=function(o,a,c,f){if(!kd(c))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Sd(o,a,c,!1,f)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var ym;function vm(){if(ym)return Td.exports;ym=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Td.exports=f1(),Td.exports}var bm;function p1(){if(bm)return Ai;bm=1;var e=vm();return Ai.createRoot=e.createRoot,Ai.hydrateRoot=e.hydrateRoot,Ai}var m1=p1();const h1=In(m1),C$="modulepreload",E$=function(e){return"/"+e},_$={},Xn=function(t,n,s){let i=Promise.resolve();function l(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return i.then(d=>{for(const u of d||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})};var wm="popstate";function g1(e={}){function t(i,l){let{pathname:d="/",search:u="",hash:p=""}=Ro(i.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Dd("",{pathname:d,search:u,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let d=i.document.querySelector("base"),u="";if(d&&d.getAttribute("href")){let p=i.location.href,h=p.indexOf("#");u=h===-1?p:p.slice(0,h)}return u+"#"+(typeof l=="string"?l:ja(l))}function s(i,l){kn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return y1(t,n,s,e)}function lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function x1(){return Math.random().toString(36).substring(2,10)}function jm(e,t){return{usr:e.state,key:e.key,idx:t}}function Dd(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ro(t):t,state:n,key:t&&t.key||s||x1()}}function ja({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ro(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function y1(e,t,n,s={}){let{window:i=document.defaultView,v5Compat:l=!1}=s,d=i.history,u="POP",p=null,h=g();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function g(){return(d.state||{idx:null}).idx}function v(){u="POP";let S=g(),_=S==null?null:S-h;h=S,p&&p({action:u,location:N.location,delta:_})}function y(S,_){u="PUSH";let E=Dd(N.location,S,_);n&&n(E,S),h=g()+1;let w=jm(E,h),T=N.createHref(E);try{d.pushState(w,"",T)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(T)}l&&p&&p({action:u,location:N.location,delta:1})}function b(S,_){u="REPLACE";let E=Dd(N.location,S,_);n&&n(E,S),h=g();let w=jm(E,h),T=N.createHref(E);d.replaceState(w,"",T),l&&p&&p({action:u,location:N.location,delta:0})}function k(S){return v1(S)}let N={get action(){return u},get location(){return e(i,d)},listen(S){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(wm,v),p=S,()=>{i.removeEventListener(wm,v),p=null}},createHref(S){return t(i,S)},createURL:k,encodeLocation(S){let _=k(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:b,go(S){return d.go(S)}};return N}function v1(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:ja(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Nm(e,t,n="/"){return b1(e,t,n,!1)}function b1(e,t,n,s){let i=typeof t=="string"?Ro(t):t,l=Pr(i.pathname||"/",n);if(l==null)return null;let d=km(e);w1(d);let u=null;for(let p=0;u==null&&p<d.length;++p){let h=D1(l);u=z1(d[p],h,s)}return u}function km(e,t=[],n=[],s="",i=!1){let l=(d,u,p=i,h)=>{let g={relativePath:h===void 0?d.path||"":h,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&p)return;lt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let v=Mr([s,g.relativePath]),y=n.concat(g);d.children&&d.children.length>0&&(lt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),km(d.children,t,y,v,p)),!(d.path==null&&!d.index)&&t.push({path:v,score:_1(v,d.index),routesMeta:y})};return e.forEach((d,u)=>{if(d.path===""||!d.path?.includes("?"))l(d,u);else for(let p of Sm(d.path))l(d,u,!0,p)}),t}function Sm(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return i?[l,""]:[l];let d=Sm(s.join("/")),u=[];return u.push(...d.map(p=>p===""?l:[l,p].join("/"))),i&&u.push(...d),u.map(p=>e.startsWith("/")&&p===""?"/":p)}function w1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:T1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var j1=/^:[\w-]+$/,N1=3,k1=2,S1=1,C1=10,E1=-2,Cm=e=>e==="*";function _1(e,t){let n=e.split("/"),s=n.length;return n.some(Cm)&&(s+=E1),t&&(s+=k1),n.filter(i=>!Cm(i)).reduce((i,l)=>i+(j1.test(l)?N1:l===""?S1:C1),s)}function T1(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function z1(e,t,n=!1){let{routesMeta:s}=e,i={},l="/",d=[];for(let u=0;u<s.length;++u){let p=s[u],h=u===s.length-1,g=l==="/"?t:t.slice(l.length)||"/",v=Fi({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},g),y=p.route;if(!v&&h&&n&&!s[s.length-1].route.index&&(v=Fi({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),d.push({params:i,pathname:Mr([l,v.pathname]),pathnameBase:L1(Mr([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=Mr([l,v.pathnameBase]))}return d}function Fi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=R1(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let l=i[0],d=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:s.reduce((h,{paramName:g,isOptional:v},y)=>{if(g==="*"){let k=u[y]||"";d=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const b=u[y];return v&&!b?h[g]=void 0:h[g]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:d,pattern:e}}function R1(e,t=!1,n=!0){kn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,p)=>(s.push({paramName:u,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function D1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var $1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P1=e=>$1.test(e);function M1(e,t="/"){let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Ro(e):e,l;if(n)if(P1(n))l=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),kn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?l=Em(n.substring(1),"/"):l=Em(n,t)}else l=t;return{pathname:l,search:O1(s),hash:A1(i)}}function Em(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $d(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Pd(e){let t=I1(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Md(e,t,n,s=!1){let i;typeof e=="string"?i=Ro(e):(i={...e},lt(!i.pathname||!i.pathname.includes("?"),$d("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),$d("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),$d("#","search","hash",i)));let l=e===""||i.pathname==="",d=l?"/":i.pathname,u;if(d==null)u=n;else{let v=t.length-1;if(!s&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}u=v>=0?t[v]:"/"}let p=M1(i,u),h=d&&d!=="/"&&d.endsWith("/"),g=(l||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(h||g)&&(p.pathname+="/"),p}var Mr=e=>e.join("/").replace(/\/\/+/g,"/"),L1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,A1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function F1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _m=["POST","PUT","PATCH","DELETE"];new Set(_m);var W1=["GET",..._m];new Set(W1);var fs=m.createContext(null);fs.displayName="DataRouter";var Wi=m.createContext(null);Wi.displayName="DataRouterState",m.createContext(!1);var Tm=m.createContext({isTransitioning:!1});Tm.displayName="ViewTransition";var H1=m.createContext(new Map);H1.displayName="Fetchers";var B1=m.createContext(null);B1.displayName="Await";var Jn=m.createContext(null);Jn.displayName="Navigation";var Na=m.createContext(null);Na.displayName="Location";var Qn=m.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var Id=m.createContext(null);Id.displayName="RouteError";function U1(e,{relative:t}={}){lt(ps(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=m.useContext(Jn),{hash:i,pathname:l,search:d}=ka(e,{relative:t}),u=l;return n!=="/"&&(u=l==="/"?n:Mr([n,l])),s.createHref({pathname:u,search:d,hash:i})}function ps(){return m.useContext(Na)!=null}function Qr(){return lt(ps(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(Na).location}var zm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rm(e){m.useContext(Jn).static||m.useLayoutEffect(e)}function Dm(){let{isDataRoute:e}=m.useContext(Qn);return e?sw():V1()}function V1(){lt(ps(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(fs),{basename:t,navigator:n}=m.useContext(Jn),{matches:s}=m.useContext(Qn),{pathname:i}=Qr(),l=JSON.stringify(Pd(s)),d=m.useRef(!1);return Rm(()=>{d.current=!0}),m.useCallback((p,h={})=>{if(kn(d.current,zm),!d.current)return;if(typeof p=="number"){n.go(p);return}let g=Md(p,JSON.parse(l),i,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Mr([t,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[t,n,l,i,e])}var Z1=m.createContext(null);function G1(e){let t=m.useContext(Qn).outlet;return m.useMemo(()=>t&&m.createElement(Z1.Provider,{value:e},t),[t,e])}function ka(e,{relative:t}={}){let{matches:n}=m.useContext(Qn),{pathname:s}=Qr(),i=JSON.stringify(Pd(n));return m.useMemo(()=>Md(e,JSON.parse(i),s,t==="path"),[e,i,s,t])}function Y1(e,t){return $m(e,t)}function $m(e,t,n,s,i){lt(ps(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=m.useContext(Jn),{matches:d}=m.useContext(Qn),u=d[d.length-1],p=u?u.params:{},h=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let E=v&&v.path||"";Mm(h,!v||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=Qr(),b;if(t){let E=typeof t=="string"?Ro(t):t;lt(g==="/"||E.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${E.pathname}" was given in the \`location\` prop.`),b=E}else b=y;let k=b.pathname||"/",N=k;if(g!=="/"){let E=g.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=Nm(e,{pathname:N});kn(v||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),kn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Q1(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},p,E.params),pathname:Mr([g,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:Mr([g,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),d,n,s,i);return t&&_?m.createElement(Na.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},_):_}function q1(){let e=ow(),t=F1(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:l},"ErrorBoundary")," or"," ",m.createElement("code",{style:l},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,d)}var K1=m.createElement(q1,null),X1=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?m.createElement(Qn.Provider,{value:this.props.routeContext},m.createElement(Id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J1({routeContext:e,match:t,children:n}){let s=m.useContext(fs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(Qn.Provider,{value:e},n)}function Q1(e,t=[],n=null,s=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,d=n?.errors;if(d!=null){let g=l.findIndex(v=>v.route.id&&d?.[v.route.id]!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let u=!1,p=-1;if(n)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:y,errors:b}=n,k=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||k){u=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let h=n&&s?(g,v)=>{s(g,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((g,v,y)=>{let b,k=!1,N=null,S=null;n&&(b=d&&v.route.id?d[v.route.id]:void 0,N=v.route.errorElement||K1,u&&(p<0&&y===0?(Mm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,S=null):p===y&&(k=!0,S=v.route.hydrateFallbackElement||null)));let _=t.concat(l.slice(0,y+1)),E=()=>{let w;return b?w=N:k?w=S:v.route.Component?w=m.createElement(v.route.Component,null):v.route.element?w=v.route.element:w=g,m.createElement(J1,{match:v,routeContext:{outlet:g,matches:_,isDataRoute:n!=null},children:w})};return n&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?m.createElement(X1,{location:n.location,revalidation:n.revalidation,component:N,error:b,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):E()},null)}function Ld(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ew(e){let t=m.useContext(fs);return lt(t,Ld(e)),t}function tw(e){let t=m.useContext(Wi);return lt(t,Ld(e)),t}function nw(e){let t=m.useContext(Qn);return lt(t,Ld(e)),t}function Od(e){let t=nw(e),n=t.matches[t.matches.length-1];return lt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function rw(){return Od("useRouteId")}function ow(){let e=m.useContext(Id),t=tw("useRouteError"),n=Od("useRouteError");return e!==void 0?e:t.errors?.[n]}function sw(){let{router:e}=ew("useNavigate"),t=Od("useNavigate"),n=m.useRef(!1);return Rm(()=>{n.current=!0}),m.useCallback(async(i,l={})=>{kn(n.current,zm),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...l}))},[e,t])}var Pm={};function Mm(e,t,n){!t&&!Pm[e]&&(Pm[e]=!0,kn(!1,n))}m.memo(aw);function aw({routes:e,future:t,state:n,unstable_onError:s}){return $m(e,void 0,n,s,t)}function Im({to:e,replace:t,state:n,relative:s}){lt(ps(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=m.useContext(Jn);kn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=m.useContext(Qn),{pathname:d}=Qr(),u=Dm(),p=Md(e,Pd(l),d,s==="path"),h=JSON.stringify(p);return m.useEffect(()=>{u(JSON.parse(h),{replace:t,state:n,relative:s})},[u,h,s,t,n]),null}function iw(e){return G1(e.context)}function xr(e){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lw({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:i,static:l=!1}){lt(!ps(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:d,navigator:i,static:l,future:{}}),[d,i,l]);typeof n=="string"&&(n=Ro(n));let{pathname:p="/",search:h="",hash:g="",state:v=null,key:y="default"}=n,b=m.useMemo(()=>{let k=Pr(p,d);return k==null?null:{location:{pathname:k,search:h,hash:g,state:v,key:y},navigationType:s}},[d,p,h,g,v,y,s]);return kn(b!=null,`<Router basename="${d}"> is not able to match the URL "${p}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:m.createElement(Jn.Provider,{value:u},m.createElement(Na.Provider,{children:t,value:b}))}function Ad({children:e,location:t}){return Y1(Fd(e),t)}function Fd(e,t=[]){let n=[];return m.Children.forEach(e,(s,i)=>{if(!m.isValidElement(s))return;let l=[...t,i];if(s.type===m.Fragment){n.push.apply(n,Fd(s.props.children,l));return}lt(s.type===xr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Fd(s.props.children,l)),n.push(d)}),n}var Hi="get",Bi="application/x-www-form-urlencoded";function Ui(e){return e!=null&&typeof e.tagName=="string"}function cw(e){return Ui(e)&&e.tagName.toLowerCase()==="button"}function dw(e){return Ui(e)&&e.tagName.toLowerCase()==="form"}function uw(e){return Ui(e)&&e.tagName.toLowerCase()==="input"}function fw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pw(e,t){return e.button===0&&(!t||t==="_self")&&!fw(e)}var Vi=null;function mw(){if(Vi===null)try{new FormData(document.createElement("form"),0),Vi=!1}catch{Vi=!0}return Vi}var hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wd(e){return e!=null&&!hw.has(e)?(kn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bi}"`),null):e}function gw(e,t){let n,s,i,l,d;if(dw(e)){let u=e.getAttribute("action");s=u?Pr(u,t):null,n=e.getAttribute("method")||Hi,i=Wd(e.getAttribute("enctype"))||Bi,l=new FormData(e)}else if(cw(e)||uw(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||u.getAttribute("action");if(s=p?Pr(p,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Hi,i=Wd(e.getAttribute("formenctype"))||Wd(u.getAttribute("enctype"))||Bi,l=new FormData(u,e),!mw()){let{name:h,type:g,value:v}=e;if(g==="image"){let y=h?`${h}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else h&&l.append(h,v)}}else{if(Ui(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hi,s=null,i=Bi,d=e}return l&&i==="text/plain"&&(d=l,l=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xw(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Pr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function yw(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bw(e,t,n){let s=await Promise.all(e.map(async i=>{let l=t.routes[i.route.id];if(l){let d=await yw(l,n);return d.links?d.links():[]}return[]}));return kw(s.flat(1).filter(vw).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Lm(e,t,n,s,i,l){let d=(p,h)=>n[h]?p.route.id!==n[h].route.id:!0,u=(p,h)=>n[h].pathname!==p.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==p.params["*"];return l==="assets"?t.filter((p,h)=>d(p,h)||u(p,h)):l==="data"?t.filter((p,h)=>{let g=s.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(d(p,h)||u(p,h))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function ww(e,t,{includeHydrateFallback:n}={}){return jw(e.map(s=>{let i=t.routes[s.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function jw(e){return[...new Set(e)]}function Nw(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function kw(e,t){let n=new Set;return new Set(t),e.reduce((s,i)=>{let l=JSON.stringify(Nw(i));return n.has(l)||(n.add(l),s.push({key:l,link:i})),s},[])}function Om(){let e=m.useContext(fs);return Hd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Sw(){let e=m.useContext(Wi);return Hd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bd=m.createContext(void 0);Bd.displayName="FrameworkContext";function Am(){let e=m.useContext(Bd);return Hd(e,"You must render this element inside a <HydratedRouter> element"),e}function Cw(e,t){let n=m.useContext(Bd),[s,i]=m.useState(!1),[l,d]=m.useState(!1),{onFocus:u,onBlur:p,onMouseEnter:h,onMouseLeave:g,onTouchStart:v}=t,y=m.useRef(null);m.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let N=_=>{_.forEach(E=>{d(E.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),m.useEffect(()=>{if(s){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[s]);let b=()=>{i(!0)},k=()=>{i(!1),d(!1)};return n?e!=="intent"?[l,y,{}]:[l,y,{onFocus:Sa(u,b),onBlur:Sa(p,k),onMouseEnter:Sa(h,b),onMouseLeave:Sa(g,k),onTouchStart:Sa(v,b)}]:[!1,y,{}]}function Sa(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ew({page:e,...t}){let{router:n}=Om(),s=m.useMemo(()=>Nm(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?m.createElement(Tw,{page:e,matches:s,...t}):null}function _w(e){let{manifest:t,routeModules:n}=Am(),[s,i]=m.useState([]);return m.useEffect(()=>{let l=!1;return bw(e,t,n).then(d=>{l||i(d)}),()=>{l=!0}},[e,t,n]),s}function Tw({page:e,matches:t,...n}){let s=Qr(),{manifest:i,routeModules:l}=Am(),{basename:d}=Om(),{loaderData:u,matches:p}=Sw(),h=m.useMemo(()=>Lm(e,t,p,i,s,"data"),[e,t,p,i,s]),g=m.useMemo(()=>Lm(e,t,p,i,s,"assets"),[e,t,p,i,s]),v=m.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,N=!1;if(t.forEach(_=>{let E=i.routes[_.route.id];!E||!E.hasLoader||(!h.some(w=>w.route.id===_.route.id)&&_.route.id in u&&l[_.route.id]?.shouldRevalidate||E.hasClientLoader?N=!0:k.add(_.route.id))}),k.size===0)return[];let S=xw(e,d,"data");return N&&k.size>0&&S.searchParams.set("_routes",t.filter(_=>k.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[d,u,s,i,h,t,e,l]),y=m.useMemo(()=>ww(g,i),[g,i]),b=_w(g);return m.createElement(m.Fragment,null,v.map(k=>m.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),y.map(k=>m.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),b.map(({key:k,link:N})=>m.createElement("link",{key:k,nonce:n.nonce,...N})))}function zw(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Fm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fm&&(window.__reactRouterVersion="7.9.6")}catch{}function Ud({basename:e,children:t,window:n}){let s=m.useRef();s.current==null&&(s.current=g1({window:n,v5Compat:!0}));let i=s.current,[l,d]=m.useState({action:i.action,location:i.location}),u=m.useCallback(p=>{m.startTransition(()=>d(p))},[d]);return m.useLayoutEffect(()=>i.listen(u),[i,u]),m.createElement(lw,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i})}var Wm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hm=m.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:i,reloadDocument:l,replace:d,state:u,target:p,to:h,preventScrollReset:g,viewTransition:v,...y},b){let{basename:k}=m.useContext(Jn),N=typeof h=="string"&&Wm.test(h),S,_=!1;if(typeof h=="string"&&N&&(S=h,Fm))try{let B=new URL(window.location.href),V=h.startsWith("//")?new URL(B.protocol+h):new URL(h),oe=Pr(V.pathname,k);V.origin===B.origin&&oe!=null?h=oe+V.search+V.hash:_=!0}catch{kn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=U1(h,{relative:i}),[w,T,M]=Cw(s,y),I=$w(h,{replace:d,state:u,target:p,preventScrollReset:g,relative:i,viewTransition:v});function O(B){t&&t(B),B.defaultPrevented||I(B)}let P=m.createElement("a",{...y,...M,href:S||E,onClick:_||l?t:O,ref:zw(b,T),target:p,"data-discover":!N&&n==="render"?"true":void 0});return w&&!N?m.createElement(m.Fragment,null,P,m.createElement(Ew,{page:E})):P});Hm.displayName="Link";var Ca=m.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:i=!1,style:l,to:d,viewTransition:u,children:p,...h},g){let v=ka(d,{relative:h.relative}),y=Qr(),b=m.useContext(Wi),{navigator:k,basename:N}=m.useContext(Jn),S=b!=null&&Ow(v)&&u===!0,_=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,E=y.pathname,w=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(E=E.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&N&&(w=Pr(w,N)||w);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=E===_||!i&&E.startsWith(_)&&E.charAt(T)==="/",I=w!=null&&(w===_||!i&&w.startsWith(_)&&w.charAt(_.length)==="/"),O={isActive:M,isPending:I,isTransitioning:S},P=M?t:void 0,B;typeof s=="function"?B=s(O):B=[s,M?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(O):l;return m.createElement(Hm,{...h,"aria-current":P,className:B,ref:g,style:V,to:d,viewTransition:u},typeof p=="function"?p(O):p)});Ca.displayName="NavLink";var Rw=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:i,state:l,method:d=Hi,action:u,onSubmit:p,relative:h,preventScrollReset:g,viewTransition:v,...y},b)=>{let k=Iw(),N=Lw(u,{relative:h}),S=d.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&Wm.test(u),E=w=>{if(p&&p(w),w.defaultPrevented)return;w.preventDefault();let T=w.nativeEvent.submitter,M=T?.getAttribute("formmethod")||d;k(T||w.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:i,state:l,relative:h,preventScrollReset:g,viewTransition:v})};return m.createElement("form",{ref:b,method:S,action:N,onSubmit:s?p:E,...y,"data-discover":!_&&e==="render"?"true":void 0})});Rw.displayName="Form";function Dw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bm(e){let t=m.useContext(fs);return lt(t,Dw(e)),t}function $w(e,{target:t,replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:d}={}){let u=Dm(),p=Qr(),h=ka(e,{relative:l});return m.useCallback(g=>{if(pw(g,t)){g.preventDefault();let v=n!==void 0?n:ja(p)===ja(h);u(e,{replace:v,state:s,preventScrollReset:i,relative:l,viewTransition:d})}},[p,u,h,n,s,t,e,i,l,d])}var Pw=0,Mw=()=>`__${String(++Pw)}__`;function Iw(){let{router:e}=Bm("useSubmit"),{basename:t}=m.useContext(Jn),n=rw();return m.useCallback(async(s,i={})=>{let{action:l,method:d,encType:u,formData:p,body:h}=gw(s,t);if(i.navigate===!1){let g=i.fetcherKey||Mw();await e.fetch(g,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:h,formMethod:i.method||d,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:p,body:h,formMethod:i.method||d,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Lw(e,{relative:t}={}){let{basename:n}=m.useContext(Jn),s=m.useContext(Qn);lt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),l={...ka(e||".",{relative:t})},d=Qr();if(e==null){l.search=d.search;let u=new URLSearchParams(l.search),p=u.getAll("index");if(p.some(g=>g==="")){u.delete("index"),p.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Mr([n,l.pathname])),ja(l)}function Ow(e,{relative:t}={}){let n=m.useContext(Tm);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Bm("useViewTransitionState"),i=ka(e,{relative:t});if(!n.isTransitioning)return!1;let l=Pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=Pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Fi(i.pathname,d)!=null||Fi(i.pathname,l)!=null}var Do=vm();const Aw=In(Do);function Um(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Um(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function pe(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Um(e))&&(s&&(s+=" "),s+=t);return s}const Fw=(e,t)=>{const n=new Array(e.length+t.length);for(let s=0;s<e.length;s++)n[s]=e[s];for(let s=0;s<t.length;s++)n[e.length+s]=t[s];return n},Ww=(e,t)=>({classGroupId:e,validator:t}),Vm=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Zi="-",Zm=[],Hw="arbitrary..",Bw=e=>{const t=Vw(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return Uw(d);const u=d.split(Zi),p=u[0]===""&&u.length>1?1:0;return Gm(u,p,t)},getConflictingClassGroupIds:(d,u)=>{if(u){const p=s[d],h=n[d];return p?h?Fw(h,p):p:h||Zm}return n[d]||Zm}}},Gm=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],l=n.nextPart.get(i);if(l){const h=Gm(e,t+1,l);if(h)return h}const d=n.validators;if(d===null)return;const u=t===0?e.join(Zi):e.slice(t).join(Zi),p=d.length;for(let h=0;h<p;h++){const g=d[h];if(g.validator(u))return g.classGroupId}},Uw=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),s=t.slice(0,n);return s?Hw+s:void 0})(),Vw=e=>{const{theme:t,classGroups:n}=e;return Zw(n,t)},Zw=(e,t)=>{const n=Vm();for(const s in e){const i=e[s];Vd(i,n,s,t)}return n},Vd=(e,t,n,s)=>{const i=e.length;for(let l=0;l<i;l++){const d=e[l];Gw(d,t,n,s)}},Gw=(e,t,n,s)=>{if(typeof e=="string"){Yw(e,t,n);return}if(typeof e=="function"){qw(e,t,n,s);return}Kw(e,t,n,s)},Yw=(e,t,n)=>{const s=e===""?t:Ym(t,e);s.classGroupId=n},qw=(e,t,n,s)=>{if(Xw(e)){Vd(e(s),t,n,s);return}t.validators===null&&(t.validators=[]),t.validators.push(Ww(n,e))},Kw=(e,t,n,s)=>{const i=Object.entries(e),l=i.length;for(let d=0;d<l;d++){const[u,p]=i[d];Vd(p,Ym(t,u),n,s)}},Ym=(e,t)=>{let n=e;const s=t.split(Zi),i=s.length;for(let l=0;l<i;l++){const d=s[l];let u=n.nextPart.get(d);u||(u=Vm(),n.nextPart.set(d,u)),n=u}return n},Xw=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Jw=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),s=Object.create(null);const i=(l,d)=>{n[l]=d,t++,t>e&&(t=0,s=n,n=Object.create(null))};return{get(l){let d=n[l];if(d!==void 0)return d;if((d=s[l])!==void 0)return i(l,d),d},set(l,d){l in n?n[l]=d:i(l,d)}}},Zd="!",qm=":",Qw=[],Km=(e,t,n,s,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:s,isExternal:i}),ej=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=i=>{const l=[];let d=0,u=0,p=0,h;const g=i.length;for(let N=0;N<g;N++){const S=i[N];if(d===0&&u===0){if(S===qm){l.push(i.slice(p,N)),p=N+1;continue}if(S==="/"){h=N;continue}}S==="["?d++:S==="]"?d--:S==="("?u++:S===")"&&u--}const v=l.length===0?i:i.slice(p);let y=v,b=!1;v.endsWith(Zd)?(y=v.slice(0,-1),b=!0):v.startsWith(Zd)&&(y=v.slice(1),b=!0);const k=h&&h>p?h-p:void 0;return Km(l,b,y,k)};if(t){const i=t+qm,l=s;s=d=>d.startsWith(i)?l(d.slice(i.length)):Km(Qw,!1,d,void 0,!0)}if(n){const i=s;s=l=>n({className:l,parseClassName:i})}return s},tj=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,s)=>{t.set(n,1e6+s)}),n=>{const s=[];let i=[];for(let l=0;l<n.length;l++){const d=n[l],u=d[0]==="[",p=t.has(d);u||p?(i.length>0&&(i.sort(),s.push(...i),i=[]),s.push(d)):i.push(d)}return i.length>0&&(i.sort(),s.push(...i)),s}},nj=e=>({cache:Jw(e.cacheSize),parseClassName:ej(e),sortModifiers:tj(e),...Bw(e)}),rj=/\s+/,oj=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:l}=t,d=[],u=e.trim().split(rj);let p="";for(let h=u.length-1;h>=0;h-=1){const g=u[h],{isExternal:v,modifiers:y,hasImportantModifier:b,baseClassName:k,maybePostfixModifierPosition:N}=n(g);if(v){p=g+(p.length>0?" "+p:p);continue}let S=!!N,_=s(S?k.substring(0,N):k);if(!_){if(!S){p=g+(p.length>0?" "+p:p);continue}if(_=s(k),!_){p=g+(p.length>0?" "+p:p);continue}S=!1}const E=y.length===0?"":y.length===1?y[0]:l(y).join(":"),w=b?E+Zd:E,T=w+_;if(d.indexOf(T)>-1)continue;d.push(T);const M=i(_,S);for(let I=0;I<M.length;++I){const O=M[I];d.push(w+O)}p=g+(p.length>0?" "+p:p)}return p},sj=(...e)=>{let t=0,n,s,i="";for(;t<e.length;)(n=e[t++])&&(s=Xm(n))&&(i&&(i+=" "),i+=s);return i},Xm=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=Xm(e[s]))&&(n&&(n+=" "),n+=t);return n},aj=(e,...t)=>{let n,s,i,l;const d=p=>{const h=t.reduce((g,v)=>v(g),e());return n=nj(h),s=n.cache.get,i=n.cache.set,l=u,u(p)},u=p=>{const h=s(p);if(h)return h;const g=oj(p,n);return i(p,g),g};return l=d,(...p)=>l(sj(...p))},ij=[],Dt=e=>{const t=n=>n[e]||ij;return t.isThemeGetter=!0,t},Jm=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Qm=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lj=/^\d+\/\d+$/,cj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ms=e=>lj.test(e),Oe=e=>!!e&&!Number.isNaN(Number(e)),eo=e=>!!e&&Number.isInteger(Number(e)),Gd=e=>e.endsWith("%")&&Oe(e.slice(0,-1)),Ir=e=>cj.test(e),mj=()=>!0,hj=e=>dj.test(e)&&!uj.test(e),eh=()=>!1,gj=e=>fj.test(e),xj=e=>pj.test(e),yj=e=>!we(e)&&!je(e),vj=e=>hs(e,sh,eh),we=e=>Jm.test(e),$o=e=>hs(e,ah,hj),Yd=e=>hs(e,kj,Oe),th=e=>hs(e,rh,eh),bj=e=>hs(e,oh,xj),Gi=e=>hs(e,ih,gj),je=e=>Qm.test(e),Ea=e=>gs(e,ah),wj=e=>gs(e,Sj),nh=e=>gs(e,rh),jj=e=>gs(e,sh),Nj=e=>gs(e,oh),Yi=e=>gs(e,ih,!0),hs=(e,t,n)=>{const s=Jm.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},gs=(e,t,n=!1)=>{const s=Qm.exec(e);return s?s[1]?t(s[1]):n:!1},rh=e=>e==="position"||e==="percentage",oh=e=>e==="image"||e==="url",sh=e=>e==="length"||e==="size"||e==="bg-size",ah=e=>e==="length",kj=e=>e==="number",Sj=e=>e==="family-name",ih=e=>e==="shadow",Cj=aj(()=>{const e=Dt("color"),t=Dt("font"),n=Dt("text"),s=Dt("font-weight"),i=Dt("tracking"),l=Dt("leading"),d=Dt("breakpoint"),u=Dt("container"),p=Dt("spacing"),h=Dt("radius"),g=Dt("shadow"),v=Dt("inset-shadow"),y=Dt("text-shadow"),b=Dt("drop-shadow"),k=Dt("blur"),N=Dt("perspective"),S=Dt("aspect"),_=Dt("ease"),E=Dt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...T(),je,we],I=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],P=()=>[je,we,p],B=()=>[ms,"full","auto",...P()],V=()=>[eo,"none","subgrid",je,we],oe=()=>["auto",{span:["full",eo,je,we]},eo,je,we],ue=()=>[eo,"auto",je,we],Ne=()=>["auto","min","max","fr",je,we],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...P()],ne=()=>[ms,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],F=()=>[e,je,we],K=()=>[...T(),nh,th,{position:[je,we]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",jj,vj,{size:[je,we]}],R=()=>[Gd,Ea,$o],G=()=>["","none","full",h,je,we],Y=()=>["",Oe,Ea,$o],J=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>[Oe,Gd,nh,th],ge=()=>["","none",k,je,we],ze=()=>["none",Oe,je,we],Ee=()=>["none",Oe,je,we],rt=()=>[Oe,je,we],Ge=()=>[ms,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ir],breakpoint:[Ir],color:[mj],container:[Ir],"drop-shadow":[Ir],ease:["in","out","in-out"],font:[yj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ir],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ir],shadow:[Ir],spacing:["px",Oe],text:[Ir],"text-shadow":[Ir],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ms,we,je,S]}],container:["container"],columns:[{columns:[Oe,we,je,u]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[eo,"auto",je,we]}],basis:[{basis:[ms,"full","auto",u,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,ms,"auto","initial","none",we]}],grow:[{grow:["",Oe,je,we]}],shrink:[{shrink:["",Oe,je,we]}],order:[{order:[eo,"first","last","none",je,we]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:oe()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:oe()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ne()}],"auto-rows":[{"auto-rows":Ne()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[u,"screen",...ne()]}],"min-w":[{"min-w":[u,"screen","none",...ne()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[d]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,Ea,$o]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,je,Yd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gd,we]}],"font-family":[{font:[wj,we,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,je,we]}],"line-clamp":[{"line-clamp":[Oe,"none",je,Yd]}],leading:[{leading:[l,...P()]}],"list-image":[{"list-image":["none",je,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",je,$o]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Oe,"auto",je,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},eo,je,we],radial:["",je,we],conic:[eo,je,we]},Nj,bj]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,je,we]}],"outline-w":[{outline:["",Oe,Ea,$o]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",g,Yi,Gi]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",v,Yi,Gi]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Oe,$o]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",y,Yi,Gi]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Oe,je,we]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":U()}],"mask-image-linear-to-pos":[{"mask-linear-to":U()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":U()}],"mask-image-t-to-pos":[{"mask-t-to":U()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":U()}],"mask-image-r-to-pos":[{"mask-r-to":U()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":U()}],"mask-image-b-to-pos":[{"mask-b-to":U()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":U()}],"mask-image-l-to-pos":[{"mask-l-to":U()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":U()}],"mask-image-x-to-pos":[{"mask-x-to":U()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":U()}],"mask-image-y-to-pos":[{"mask-y-to":U()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[je,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":U()}],"mask-image-radial-to-pos":[{"mask-radial-to":U()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":U()}],"mask-image-conic-to-pos":[{"mask-conic-to":U()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,we]}],filter:[{filter:["","none",je,we]}],blur:[{blur:ge()}],brightness:[{brightness:[Oe,je,we]}],contrast:[{contrast:[Oe,je,we]}],"drop-shadow":[{"drop-shadow":["","none",b,Yi,Gi]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Oe,je,we]}],"hue-rotate":[{"hue-rotate":[Oe,je,we]}],invert:[{invert:["",Oe,je,we]}],saturate:[{saturate:[Oe,je,we]}],sepia:[{sepia:["",Oe,je,we]}],"backdrop-filter":[{"backdrop-filter":["","none",je,we]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,je,we]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,je,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,je,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,je,we]}],"backdrop-invert":[{"backdrop-invert":["",Oe,je,we]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,je,we]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,je,we]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,je,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",je,we]}],ease:[{ease:["linear","initial",_,je,we]}],delay:[{delay:[Oe,je,we]}],animate:[{animate:["none",E,je,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,je,we]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ze()}],"rotate-x":[{"rotate-x":ze()}],"rotate-y":[{"rotate-y":ze()}],"rotate-z":[{"rotate-z":ze()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:rt()}],"skew-x":[{"skew-x":rt()}],"skew-y":[{"skew-y":rt()}],transform:[{transform:[je,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,we]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Oe,Ea,$o,Yd]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function Le(...e){return Cj(pe(e))}function Po({className:e,...t}){return r.jsx("div",{className:Le("animate-pulse rounded-md bg-muted",e),...t})}function Ej(){return r.jsxs("div",{className:"sfui-form-builder","data-testid":"form-builder-layout",children:[r.jsx("nav",{className:"sfui-tabs border-b border-gray-200 mb-6",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(Ca,{to:"/emails",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-emails",children:" Emails"}),r.jsx(Ca,{to:"/builder",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-builder",children:" Form Builder"}),r.jsx(Ca,{to:"/automations",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-automations",children:" Automations"}),r.jsx(Ca,{to:"/settings",className:({isActive:e})=>`px-6 py-3 text-sm font-medium rounded-t-lg transition-colors ${e?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,"data-testid":"tab-settings",children:" Settings"})]})}),r.jsx("div",{className:"sfui-tab-content",children:r.jsx(iw,{})})]})}const _j=m.lazy(()=>Xn(()=>Promise.resolve().then(()=>Bz),void 0)),Tj=m.lazy(()=>Xn(()=>Promise.resolve().then(()=>FR),void 0));function qd(){return r.jsxs("div",{className:"flex h-full gap-4 p-4","data-testid":"page-skeleton",children:[r.jsxs("div",{className:"w-72 space-y-3",children:[r.jsx(Po,{className:"h-10 w-full"}),r.jsx(Po,{className:"h-16 w-full"}),r.jsx(Po,{className:"h-16 w-full"}),r.jsx(Po,{className:"h-16 w-full"})]}),r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsx(Po,{className:"h-12 w-full"}),r.jsx(Po,{className:"h-64 w-full"}),r.jsx(Po,{className:"h-32 w-full"})]})]})}function lh(){return r.jsx(Ud,{children:r.jsx(m.Suspense,{fallback:r.jsx(qd,{}),children:r.jsx(Ad,{children:r.jsxs(xr,{element:r.jsx(Ej,{}),children:[r.jsx(xr,{index:!0,element:r.jsx(Im,{to:"/emails",replace:!0})}),r.jsx(xr,{path:"/emails",element:r.jsx(_j,{...window.sfuiData})}),r.jsx(xr,{path:"/automations",element:r.jsx(Tj,{...window.sfuiData})}),r.jsx(xr,{path:"/builder",element:r.jsx(zj,{})}),r.jsx(xr,{path:"/settings",element:r.jsx(Rj,{})}),r.jsx(xr,{path:"*",element:r.jsx(Im,{to:"/emails",replace:!0})})]})})})})}function zj(){return r.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-lg","data-testid":"builder-placeholder",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:" Form Builder"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The form builder will be available here soon."}),r.jsx("p",{className:"text-sm text-gray-500",children:"This tab will either show the legacy jQuery builder in an iframe, or a new React-based builder in future phases."})]})})}function Rj(){return r.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-lg","data-testid":"settings-placeholder",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:" Settings"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Form settings will be available here soon."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Settings configuration UI is planned for future migration phases."})]})})}function Dj(){return r.jsx(Ud,{children:r.jsx(m.Suspense,{fallback:r.jsx(qd,{}),children:r.jsx(Ad,{children:r.jsx(xr,{path:"/",element:r.jsx("div",{children:"Settings Page (coming soon)"})})})})})}function $j(){return r.jsx(Ud,{children:r.jsx(m.Suspense,{fallback:r.jsx(qd,{}),children:r.jsx(Ad,{children:r.jsx(xr,{path:"/",element:r.jsx("div",{children:"Entries Page (coming soon)"})})})})})}let qi;const Pj=new Uint8Array(16);function Mj(){if(!qi&&(qi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qi(Pj)}const Vt=[];for(let e=0;e<256;++e)Vt.push((e+256).toString(16).slice(1));function Ij(e,t=0){return Vt[e[t+0]]+Vt[e[t+1]]+Vt[e[t+2]]+Vt[e[t+3]]+"-"+Vt[e[t+4]]+Vt[e[t+5]]+"-"+Vt[e[t+6]]+Vt[e[t+7]]+"-"+Vt[e[t+8]]+Vt[e[t+9]]+"-"+Vt[e[t+10]]+Vt[e[t+11]]+Vt[e[t+12]]+Vt[e[t+13]]+Vt[e[t+14]]+Vt[e[t+15]]}const ch={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Ln(e,t,n){if(ch.randomUUID&&!e)return ch.randomUUID();e=e||{};const s=e.random||(e.rng||Mj)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Ij(s)}const Lj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),dh=e=>{const t=Oj(e);return t.charAt(0).toUpperCase()+t.slice(1)},uh=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),Aj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Fj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wj=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:d,...u},p)=>m.createElement("svg",{ref:p,...Fj,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:uh("lucide",i),...!l&&!Aj(u)&&{"aria-hidden":"true"},...u},[...d.map(([h,g])=>m.createElement(h,g)),...Array.isArray(l)?l:[l]]));const X=(e,t)=>{const n=m.forwardRef(({className:s,...i},l)=>m.createElement(Wj,{ref:l,iconNode:t,className:uh(`lucide-${Lj(dh(e))}`,`lucide-${e}`,s),...i}));return n.displayName=dh(e),n};const fh=X("align-center",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const ph=X("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const mh=X("align-right",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);const Hj=X("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Bj=X("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const Uj=X("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const hh=X("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);const gh=X("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);const Vj=X("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const _a=X("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const Zj=X("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const Gj=X("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);const Ki=X("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Xi=X("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);const Ta=X("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Sn=X("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Yj=X("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const to=X("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const za=X("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Mo=X("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ji=X("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const qj=X("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Kj=X("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Kd=X("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Xj=X("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const er=X("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Zt=X("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);const Xd=X("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);const xh=X("container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);const Ra=X("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Jd=X("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const Qi=X("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Jj=X("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const el=X("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);const yh=X("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const tl=X("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Qd=X("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Io=X("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const nl=X("file-archive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);const rl=X("file-audio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);const ol=X("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);const sl=X("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);const al=X("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const no=X("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const il=X("file-type",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);const ll=X("file-video",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);const vh=X("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const Qj=X("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const bh=X("forward",[["path",{d:"m15 17 5-5-5-5",key:"nf172w"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);const wh=X("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);const jh=X("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const eu=X("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const e2=X("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const t2=X("grip-horizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);const cl=X("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const n2=X("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);X("highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);const r2=X("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const tu=X("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const o2=X("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Nh=X("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);const s2=X("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const a2=X("layers-2",[["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74z",key:"15q6uc"}],["path",{d:"m20 14.285 1.5.845a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74l1.5-.845",key:"byia6g"}]]);const Da=X("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);const dl=X("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const i2=X("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const ul=X("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Lr=X("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);const l2=X("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const nu=X("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);const c2=X("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const kh=X("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const $a=X("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const Sh=X("move-vertical",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]]);const ru=X("move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);const d2=X("paint-bucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);const yr=X("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);const ou=X("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const Ch=X("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);const u2=X("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const su=X("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const f2=X("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);const vr=X("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const p2=X("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);const au=X("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const xs=X("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Eh=X("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const _h=X("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const m2=X("rectangle-ellipsis",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]]);const h2=X("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);const Lo=X("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const g2=X("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);const fl=X("reply",[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]]);const Th=X("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Oo=X("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const zh=X("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const ys=X("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const vs=X("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const pl=X("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Rh=X("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const x2=X("share",[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]]);const Dh=X("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const y2=X("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const v2=X("sliders-vertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);const Pa=X("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const $h=X("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const b2=X("square-chevron-down",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m16 10-4 4-4-4",key:"894hmk"}]]);const Ph=X("square-stack",[["path",{d:"M4 10c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"4i38lg"}],["path",{d:"M10 16c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2",key:"mlte4a"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);const Mh=X("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const Ih=X("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const w2=X("step-forward",[["line",{x1:"6",x2:"6",y1:"4",y2:"20",key:"fy8qot"}],["polygon",{points:"10,4 20,12 10,20",key:"1mc1pf"}]]);const iu=X("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);const ro=X("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const j2=X("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const On=X("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Lh=X("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);const ml=X("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);const bs=X("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);const Oh=X("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);const N2=X("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);const Ao=X("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);const Ma=X("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const lu=X("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);const hl=X("webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);const Ah=X("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);const Gt=X("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const gl=X("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);const k2=X("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const S2=X("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),C2={},Fh=e=>{let t;const n=new Set,s=(g,v)=>{const y=typeof g=="function"?g(t):g;if(!Object.is(y,t)){const b=t;t=v??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(k=>k(t,b))}},i=()=>t,p={setState:s,getState:i,getInitialState:()=>h,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{(C2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=t=e(s,i,p);return p},Wh=e=>e?Fh(e):Fh;var cu={exports:{}},du={},uu={exports:{}},fu={};var Hh;function E2(){if(Hh)return fu;Hh=1;var e=wa();function t(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,i=e.useEffect,l=e.useLayoutEffect,d=e.useDebugValue;function u(v,y){var b=y(),k=s({inst:{value:b,getSnapshot:y}}),N=k[0].inst,S=k[1];return l(function(){N.value=b,N.getSnapshot=y,p(N)&&S({inst:N})},[v,b,y]),i(function(){return p(N)&&S({inst:N}),v(function(){p(N)&&S({inst:N})})},[v]),d(b),b}function p(v){var y=v.getSnapshot;v=v.value;try{var b=y();return!n(v,b)}catch{return!0}}function h(v,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return fu.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,fu}var Bh;function _2(){return Bh||(Bh=1,uu.exports=E2()),uu.exports}var Uh;function T2(){if(Uh)return du;Uh=1;var e=wa(),t=_2();function n(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var s=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,l=e.useRef,d=e.useEffect,u=e.useMemo,p=e.useDebugValue;return du.useSyncExternalStoreWithSelector=function(h,g,v,y,b){var k=l(null);if(k.current===null){var N={hasValue:!1,value:null};k.current=N}else N=k.current;k=u(function(){function _(I){if(!E){if(E=!0,w=I,I=y(I),b!==void 0&&N.hasValue){var O=N.value;if(b(O,I))return T=O}return T=I}if(O=T,s(w,I))return O;var P=y(I);return b!==void 0&&b(O,P)?(w=I,O):(w=I,T=P)}var E=!1,w,T,M=v===void 0?null:v;return[function(){return _(g())},M===null?void 0:function(){return _(M())}]},[g,v,y,b]);var S=i(h,k[0],k[1]);return d(function(){N.hasValue=!0,N.value=S},[S]),p(S),S},du}var Vh;function z2(){return Vh||(Vh=1,cu.exports=T2()),cu.exports}var R2=z2();const Zh=In(R2),Gh={},{useDebugValue:D2}=De,{useSyncExternalStoreWithSelector:$2}=Zh;let Yh=!1;const P2=e=>e;function M2(e,t=P2,n){(Gh?"production":void 0)!=="production"&&n&&!Yh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Yh=!0);const s=$2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return D2(s),s}const qh=e=>{(Gh?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Wh(e):e,n=(s,i)=>M2(t,s,i);return Object.assign(n,t),n},xl=e=>e?qh(e):qh,Kh=xl((e,t)=>({items:{},order:[],deviceVisibility:{},addElement:(n,s)=>{e(i=>{const l={...i.items,[n.id]:n},d=[...i.order];s!==void 0?d.splice(s,0,n.id):d.push(n.id);const u={...i.deviceVisibility,[n.id]:{desktop:!0,tablet:!0,mobile:!0}};return{items:l,order:d,deviceVisibility:u}})},removeElement:n=>{e(s=>{const i=s.items[n];if(!i)return s;const l={...s.items},d={...s.deviceVisibility};let u=[...s.order];i.parent&&l[i.parent]?.children&&(l[i.parent]={...l[i.parent],children:l[i.parent].children.filter(h=>h!==n)});const p=h=>{const g=l[h];g?.children&&g.children.forEach(v=>p(v)),delete l[h],delete d[h],u=u.filter(v=>v!==h)};return p(n),{items:l,order:u,deviceVisibility:d}})},updateElement:(n,s)=>{e(i=>i.items[n]?{items:{...i.items,[n]:{...i.items[n],...s}}}:i)},moveElement:(n,s,i,l)=>{e(d=>{const u=d.items[n];if(!u)return d;const p={...d.items};let h=d.order.filter(g=>g!==n);if(u.parent&&p[u.parent]?.children&&(p[u.parent]={...p[u.parent],children:p[u.parent].children.filter(g=>g!==n)}),p[n]={...u,parent:void 0},s&&i==="inside"){const g=p[s];if(g){const v=g.children?[...g.children]:[];v.push(n),p[s]={...g,children:v},p[n]={...p[n],parent:s}}}else if(s){const g=h.indexOf(s);if(g!==-1){const v=i==="before"?g:g+1;h.splice(v,0,n)}}else l!==void 0?h.splice(l,0,n):h.push(n);return{items:p,order:h}})},updateDeviceVisibility:(n,s,i)=>{e(l=>({deviceVisibility:{...l.deviceVisibility,[n]:{...l.deviceVisibility[n]||{desktop:!0,tablet:!0,mobile:!0},[s]:i}}}))},reorderElements:n=>{e({order:n})},loadElements:n=>{e(n)},setStyleOverride:(n,s,i,l)=>{e(d=>{const u=d.items[n];if(!u)return d;const p=u.styleOverrides??{},h=p[s]??{};return{items:{...d.items,[n]:{...u,styleOverrides:{...p,[s]:{...h,[i]:l}}}}}})},setStyleOverrides:(n,s,i)=>{e(l=>{const d=l.items[n];if(!d)return l;const u=d.styleOverrides??{},p=u[s]??{};return{items:{...l.items,[n]:{...d,styleOverrides:{...u,[s]:{...p,...i}}}}}})},removeStyleOverride:(n,s,i)=>{e(l=>{const d=l.items[n];if(!d?.styleOverrides?.[s])return l;const u={...d.styleOverrides[s]};delete u[i];const p={...d.styleOverrides};return Object.keys(u).length===0?delete p[s]:p[s]=u,{items:{...l.items,[n]:{...d,styleOverrides:Object.keys(p).length>0?p:void 0}}}})},clearNodeStyleOverrides:(n,s)=>{e(i=>{const l=i.items[n];if(!l?.styleOverrides?.[s])return i;const d={...l.styleOverrides};return delete d[s],{items:{...i.items,[n]:{...l,styleOverrides:Object.keys(d).length>0?d:void 0}}}})},clearAllStyleOverrides:n=>{e(s=>{const i=s.items[n];return i?.styleOverrides?{items:{...s.items,[n]:{...i,styleOverrides:void 0}}}:s})},copyStyleOverrides:(n,s)=>{e(i=>{const l=i.items[n],d=i.items[s];return!l||!d?i:{items:{...i.items,[s]:{...d,styleOverrides:l.styleOverrides?JSON.parse(JSON.stringify(l.styleOverrides)):void 0}}}})}})),I2=xl(e=>({draggedElement:null,hoveredElement:null,selectedElements:[],dropZoneActive:!1,dropTarget:null,setDraggedElement:t=>{e({draggedElement:t,dropZoneActive:t!==null,dropTarget:t===null?null:void 0})},setHoveredElement:t=>{e({hoveredElement:t})},setSelectedElements:t=>{e({selectedElements:t})},addSelectedElement:t=>{e(n=>({selectedElements:n.selectedElements.includes(t)?n.selectedElements:[...n.selectedElements,t]}))},removeSelectedElement:t=>{e(n=>({selectedElements:n.selectedElements.filter(s=>s!==t)}))},clearSelection:()=>{e({selectedElements:[]})},setDropTarget:t=>{e({dropTarget:t})}})),Xh=({element:e,commonProps:t})=>{const n=()=>{switch(e.type){case"password":return"password";case"number":case"number-formatted":return"number";case"email":return"email";case"phone":return"tel";case"url":return"url";default:return"text"}},s=()=>{if(e.properties?.placeholder)return e.properties.placeholder;switch(e.type){case"password":return"Enter password";case"email":return"Enter email address";case"phone":return"Enter phone number";case"url":return"Enter URL";case"number":case"number-formatted":return"Enter number";default:return"Enter text"}};return r.jsx("input",{type:n(),placeholder:s(),...t})},L2=Object.freeze(Object.defineProperty({__proto__:null,TextInput:Xh,default:Xh},Symbol.toStringTag,{value:"Module"})),Jh=({element:e,commonProps:t})=>r.jsx("textarea",{placeholder:e.properties?.placeholder||"Enter text",rows:e.properties?.rows||3,...t}),O2=Object.freeze(Object.defineProperty({__proto__:null,TextArea:Jh,default:Jh},Symbol.toStringTag,{value:"Module"})),Qh=({element:e,commonProps:t})=>r.jsxs("select",{...t,children:[r.jsx("option",{children:e.properties?.placeholder||"Choose an option"}),e.properties?.options?.map((n,s)=>r.jsx("option",{value:n,children:n},s))]}),A2=Object.freeze(Object.defineProperty({__proto__:null,Select:Qh,default:Qh},Symbol.toStringTag,{value:"Module"})),F2=({position:e,onClose:t,onFormat:n,selectedText:s})=>r.jsxs("div",{className:"floating-toolbar",style:{position:"absolute",left:e.x,top:e.y-40,background:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"4px",zIndex:1e3},children:[r.jsx("button",{onClick:()=>n("bold"),children:"B"}),r.jsx("button",{onClick:()=>n("italic"),children:"I"}),r.jsx("button",{onClick:t,children:""})]}),eg=({value:e,onChange:t,className:n="",placeholder:s="",multiline:i=!1,onFormat:l})=>{const[d,u]=m.useState(!1),[p,h]=m.useState(e),[g,v]=m.useState(!1),[y,b]=m.useState({x:0,y:0}),[k,N]=m.useState(""),S=m.useRef(null);m.useEffect(()=>{h(e)},[e]);const _=()=>{u(!0),setTimeout(()=>{S.current?.focus()},0)},E=()=>{u(!1),t(p),v(!1)},w=M=>{M.key==="Enter"&&!i&&E(),M.key==="Escape"&&(h(e),u(!1),v(!1))},T=()=>{const M=window.getSelection();if(M&&M.toString().length>0){const O=M.getRangeAt(0).getBoundingClientRect();b({x:O.left,y:O.top}),N(M.toString()),v(!0)}else v(!1)};return d?r.jsxs(r.Fragment,{children:[i?r.jsx("textarea",{ref:S,value:p,onChange:M=>h(M.target.value),onBlur:E,onKeyDown:w,onMouseUp:T,className:`inline-editable-input ${n}`,placeholder:s,rows:3}):r.jsx("input",{ref:S,type:"text",value:p,onChange:M=>h(M.target.value),onBlur:E,onKeyDown:w,onMouseUp:T,className:`inline-editable-input ${n}`,placeholder:s}),g&&l&&r.jsx(F2,{position:y,onClose:()=>v(!1),onFormat:l,selectedText:k})]}):r.jsxs("div",{onClick:_,className:`inline-editable-text ${n}`,title:"Click to edit",children:[e||s,r.jsx(su,{size:12,className:"inline-edit-icon"})]})},tg=({element:e,updateElementProperty:t})=>r.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${e.properties?.columnsPerRow||2}, 1fr)`},children:e.properties?.options?.map((n,s)=>r.jsx("div",{className:"radio-card border-2 border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:border-blue-300 hover:shadow-md",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"radio-card-icon mb-2",children:r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(_h,{size:16,className:"text-gray-400"})})}),r.jsxs("div",{className:"radio-card-content",children:[r.jsx(eg,{value:n,onChange:i=>{const l=[...e.properties?.options||[]];l[s]=i,t(e.id,"options",l)},className:"font-medium text-gray-900 text-sm leading-tight",placeholder:"Option title"}),e.properties?.showDescriptions!==!1&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Description for this option"})]})]}),r.jsx("input",{type:"radio",name:e.id,className:"radio-card-input mt-1",disabled:!0})]})},s))}),W2=Object.freeze(Object.defineProperty({__proto__:null,RadioCards:tg,default:tg},Symbol.toStringTag,{value:"Module"})),ng=({element:e,updateElementProperty:t})=>r.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${e.properties?.columnsPerRow||2}, 1fr)`},children:e.properties?.options?.map((n,s)=>r.jsx("div",{className:"checkbox-card border-2 border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:border-blue-300 hover:shadow-md",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"checkbox-card-icon mb-2",children:r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx($h,{size:16,className:"text-gray-400"})})}),r.jsxs("div",{className:"checkbox-card-content",children:[r.jsx(eg,{value:n,onChange:i=>{const l=[...e.properties?.options||[]];l[s]=i,t(e.id,"options",l)},className:"font-medium text-gray-900 text-sm leading-tight",placeholder:"Option title"}),e.properties?.showDescriptions!==!1&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Description for this option"})]})]}),r.jsx("input",{type:"checkbox",className:"checkbox-card-input mt-1",disabled:!0})]})},s))}),H2=Object.freeze(Object.defineProperty({__proto__:null,CheckboxCards:ng,default:ng},Symbol.toStringTag,{value:"Module"})),rg=({element:e})=>{const t=e.properties?.columnCount||2,n=e.properties?.gap||"20px";return r.jsx("div",{className:"columns-container",style:{display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,gap:n,minHeight:"80px",border:"2px dashed #e5e7eb",borderRadius:"8px",padding:"16px"},children:Array.from({length:t}).map((s,i)=>r.jsxs("div",{className:"column-drop-zone",style:{border:"1px dashed #d1d5db",borderRadius:"4px",minHeight:"60px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f9fafb",color:"#6b7280",fontSize:"14px"},children:["Column ",i+1]},i))})},B2=Object.freeze(Object.defineProperty({__proto__:null,ColumnsContainer:rg,default:rg},Symbol.toStringTag,{value:"Module"})),U2=m.lazy(()=>Xn(()=>Promise.resolve().then(()=>L2),void 0)),V2=m.lazy(()=>Xn(()=>Promise.resolve().then(()=>O2),void 0)),Z2=m.lazy(()=>Xn(()=>Promise.resolve().then(()=>A2),void 0)),G2=m.lazy(()=>Xn(()=>Promise.resolve().then(()=>W2),void 0)),Y2=m.lazy(()=>Xn(()=>Promise.resolve().then(()=>H2),void 0)),q2=m.lazy(()=>Xn(()=>Promise.resolve().then(()=>B2),void 0)),og=({element:e,updateElementProperty:t})=>{const n={className:"form-input",disabled:!0,style:{width:e.properties?.width==="full"?"100%":`${e.properties?.width||100}%`,margin:e.properties?.margin,backgroundColor:e.properties?.backgroundColor,borderStyle:e.properties?.borderStyle}},s=()=>{switch(e.type){case"text":case"email":case"phone":case"url":case"password":case"number":case"number-formatted":return r.jsx(U2,{element:e,commonProps:n});case"textarea":return r.jsx(V2,{element:e,commonProps:n});case"select":return r.jsx(Z2,{element:e,commonProps:n});case"radio-cards":return r.jsx(G2,{element:e,updateElementProperty:t});case"checkbox-cards":return r.jsx(Y2,{element:e,updateElementProperty:t});case"columns":return r.jsx(q2,{element:e});default:return r.jsxs("div",{className:"border border-gray-300 rounded-md p-4 text-center text-gray-500",children:["Element type: ",e.type," (not yet extracted)"]})}};return r.jsx(m.Suspense,{fallback:r.jsx("div",{className:"border border-gray-200 rounded-md p-4 text-center text-gray-400",children:"Loading element..."}),children:s()})},gn=({label:e,children:t,className:n=""})=>r.jsxs("div",{className:`property-field ${n}`,children:[r.jsx("label",{className:"property-label",children:e}),t]}),K2=({element:e,onUpdate:t})=>r.jsxs(r.Fragment,{children:[r.jsx(gn,{label:"Label",children:r.jsx("input",{type:"text",value:e.properties?.label||"",onChange:n=>t("label",n.target.value),className:"form-input",placeholder:"Field label"})}),r.jsx(gn,{label:"Placeholder",children:r.jsx("input",{type:"text",value:e.properties?.placeholder||"",onChange:n=>t("placeholder",n.target.value),className:"form-input",placeholder:"Enter placeholder text"})}),r.jsx(gn,{label:"Help Text",children:r.jsx("input",{type:"text",value:e.properties?.helpText||"",onChange:n=>t("helpText",n.target.value),className:"form-input",placeholder:"Additional guidance for users"})}),r.jsx(gn,{label:"Required",children:r.jsx("input",{type:"checkbox",checked:e.properties?.required||!1,onChange:n=>t("required",n.target.checked),className:"form-checkbox"})}),r.jsx(gn,{label:"Disabled",children:r.jsx("input",{type:"checkbox",checked:e.properties?.disabled||!1,onChange:n=>t("disabled",n.target.checked),className:"form-checkbox"})}),r.jsx(gn,{label:"Read Only",children:r.jsx("input",{type:"checkbox",checked:e.properties?.readOnly||!1,onChange:n=>t("readOnly",n.target.checked),className:"form-checkbox"})})]}),X2=({element:e,onUpdate:t})=>{const n=e.properties?.validation||{},s=(i,l)=>{const d={...n,[i]:l};t("validation",d)};return r.jsxs(r.Fragment,{children:[r.jsx(gn,{label:"Minimum Length",children:r.jsx("input",{type:"number",value:n.minLength||"",onChange:i=>s("minLength",i.target.value?parseInt(i.target.value):void 0),className:"form-input",min:"0",placeholder:"0"})}),r.jsx(gn,{label:"Maximum Length",children:r.jsx("input",{type:"number",value:n.maxLength||"",onChange:i=>s("maxLength",i.target.value?parseInt(i.target.value):void 0),className:"form-input",min:"1",placeholder:"100"})}),(e.type==="number"||e.type==="slider")&&r.jsxs(r.Fragment,{children:[r.jsx(gn,{label:"Minimum Value",children:r.jsx("input",{type:"number",value:n.min||"",onChange:i=>s("min",i.target.value?parseFloat(i.target.value):void 0),className:"form-input",placeholder:"0"})}),r.jsx(gn,{label:"Maximum Value",children:r.jsx("input",{type:"number",value:n.max||"",onChange:i=>s("max",i.target.value?parseFloat(i.target.value):void 0),className:"form-input",placeholder:"100"})})]}),r.jsx(gn,{label:"Pattern (RegEx)",children:r.jsx("input",{type:"text",value:n.pattern||"",onChange:i=>s("pattern",i.target.value),className:"form-input",placeholder:"^[a-zA-Z0-9]+$"})}),r.jsx(gn,{label:"Custom Error Message",children:r.jsx("input",{type:"text",value:n.errorMessage||"",onChange:i=>s("errorMessage",i.target.value),className:"form-input",placeholder:"Please enter a valid value"})}),r.jsx(gn,{label:"Email Validation",children:r.jsx("input",{type:"checkbox",checked:n.email||!1,onChange:i=>s("email",i.target.checked),className:"form-checkbox"})}),r.jsx(gn,{label:"URL Validation",children:r.jsx("input",{type:"checkbox",checked:n.url||!1,onChange:i=>s("url",i.target.checked),className:"form-checkbox"})})]})};function ee(e,t,n){function s(u,p){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:p,constr:d,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,p);const h=d.prototype,g=Object.keys(h);for(let v=0;v<g.length;v++){const y=g[v];y in u||(u[y]=h[y].bind(u))}}const i=n?.Parent??Object;class l extends i{}Object.defineProperty(l,"name",{value:e});function d(u){var p;const h=n?.Parent?new l:this;s(h,u),(p=h._zod).deferred??(p.deferred=[]);for(const g of h._zod.deferred)g();return h}return Object.defineProperty(d,"init",{value:s}),Object.defineProperty(d,Symbol.hasInstance,{value:u=>n?.Parent&&u instanceof n.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(d,"name",{value:e}),d}class ws extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class sg extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const ag={};function oo(e){return ag}function J2(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,i])=>t.indexOf(+s)===-1).map(([s,i])=>i)}function pu(e,t){return typeof t=="bigint"?t.toString():t}function mu(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function hu(e){return e==null}function gu(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function Q2(e,t){const n=(e.toString().split(".")[1]||"").length,s=t.toString();let i=(s.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(s)){const p=s.match(/\d?e-(\d?)/);p?.[1]&&(i=Number.parseInt(p[1]))}const l=n>i?n:i,d=Number.parseInt(e.toFixed(l).replace(".","")),u=Number.parseInt(t.toFixed(l).replace(".",""));return d%u/10**l}const ig=Symbol("evaluating");function et(e,t,n){let s;Object.defineProperty(e,t,{get(){if(s!==ig)return s===void 0&&(s=ig,s=n()),s},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Fo(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Wo(...e){const t={};for(const n of e){const s=Object.getOwnPropertyDescriptors(n);Object.assign(t,s)}return Object.defineProperties({},t)}function lg(e){return JSON.stringify(e)}function eN(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const cg="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function yl(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const tN=mu(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function js(e){if(yl(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(yl(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function dg(e){return js(e)?{...e}:Array.isArray(e)?[...e]:e}const nN=new Set(["string","number","symbol"]);function vl(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function so(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(s._zod.parent=e),s}function Re(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function rN(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const oN={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function sN(e,t){const n=e._zod.def,s=Wo(e._zod.def,{get shape(){const i={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=n.shape[l])}return Fo(this,"shape",i),i},checks:[]});return so(e,s)}function aN(e,t){const n=e._zod.def,s=Wo(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete i[l]}return Fo(this,"shape",i),i},checks:[]});return so(e,s)}function iN(e,t){if(!js(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Wo(e._zod.def,{get shape(){const l={...e._zod.def.shape,...t};return Fo(this,"shape",l),l},checks:[]});return so(e,i)}function lN(e,t){if(!js(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const s={...e._zod.def.shape,...t};return Fo(this,"shape",s),s},checks:e._zod.def.checks};return so(e,n)}function cN(e,t){const n=Wo(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t._zod.def.shape};return Fo(this,"shape",s),s},get catchall(){return t._zod.def.catchall},checks:[]});return so(e,n)}function dN(e,t,n){const s=Wo(t._zod.def,{get shape(){const i=t._zod.def.shape,l={...i};if(n)for(const d in n){if(!(d in i))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(l[d]=e?new e({type:"optional",innerType:i[d]}):i[d])}else for(const d in i)l[d]=e?new e({type:"optional",innerType:i[d]}):i[d];return Fo(this,"shape",l),l},checks:[]});return so(t,s)}function uN(e,t,n){const s=Wo(t._zod.def,{get shape(){const i=t._zod.def.shape,l={...i};if(n)for(const d in n){if(!(d in l))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(l[d]=new e({type:"nonoptional",innerType:i[d]}))}else for(const d in i)l[d]=new e({type:"nonoptional",innerType:i[d]});return Fo(this,"shape",l),l},checks:[]});return so(t,s)}function Ns(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function ks(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function bl(e){return typeof e=="string"?e:e?.message}function ao(e,t,n){const s={...e,path:e.path??[]};if(!e.message){const i=bl(e.inst?._zod.def?.error?.(e))??bl(t?.error?.(e))??bl(n.customError?.(e))??bl(n.localeError?.(e))??"Invalid input";s.message=i}return delete s.inst,delete s.continue,t?.reportInput||delete s.input,s}function xu(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ia(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const ug=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,pu,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},fg=ee("$ZodError",ug),pg=ee("$ZodError",ug,{Parent:Error});function fN(e,t=n=>n.message){const n={},s=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):s.push(t(i));return{formErrors:s,fieldErrors:n}}function pN(e,t=n=>n.message){const n={_errors:[]},s=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(d=>s({issues:d}));else if(l.code==="invalid_key")s({issues:l.issues});else if(l.code==="invalid_element")s({issues:l.issues});else if(l.path.length===0)n._errors.push(t(l));else{let d=n,u=0;for(;u<l.path.length;){const p=l.path[u];u===l.path.length-1?(d[p]=d[p]||{_errors:[]},d[p]._errors.push(t(l))):d[p]=d[p]||{_errors:[]},d=d[p],u++}}};return s(e),n}const yu=e=>(t,n,s,i)=>{const l=s?Object.assign(s,{async:!1}):{async:!1},d=t._zod.run({value:n,issues:[]},l);if(d instanceof Promise)throw new ws;if(d.issues.length){const u=new(i?.Err??e)(d.issues.map(p=>ao(p,l,oo())));throw cg(u,i?.callee),u}return d.value},vu=e=>async(t,n,s,i)=>{const l=s?Object.assign(s,{async:!0}):{async:!0};let d=t._zod.run({value:n,issues:[]},l);if(d instanceof Promise&&(d=await d),d.issues.length){const u=new(i?.Err??e)(d.issues.map(p=>ao(p,l,oo())));throw cg(u,i?.callee),u}return d.value},wl=e=>(t,n,s)=>{const i=s?{...s,async:!1}:{async:!1},l=t._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new ws;return l.issues.length?{success:!1,error:new(e??fg)(l.issues.map(d=>ao(d,i,oo())))}:{success:!0,data:l.value}},mN=wl(pg),jl=e=>async(t,n,s)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new e(l.issues.map(d=>ao(d,i,oo())))}:{success:!0,data:l.value}},hN=jl(pg),gN=e=>(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return yu(e)(t,n,i)},xN=e=>(t,n,s)=>yu(e)(t,n,s),yN=e=>async(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return vu(e)(t,n,i)},vN=e=>async(t,n,s)=>vu(e)(t,n,s),bN=e=>(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return wl(e)(t,n,i)},wN=e=>(t,n,s)=>wl(e)(t,n,s),jN=e=>async(t,n,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return jl(e)(t,n,i)},NN=e=>async(t,n,s)=>jl(e)(t,n,s),kN=/^[cC][^\s-]{8,}$/,SN=/^[0-9a-z]+$/,CN=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,EN=/^[0-9a-vA-V]{20}$/,_N=/^[A-Za-z0-9]{27}$/,TN=/^[a-zA-Z0-9_-]{21}$/,zN=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,RN=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,mg=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,DN=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,$N="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function PN(){return new RegExp($N,"u")}const MN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,LN=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ON=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AN=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,hg=/^[A-Za-z0-9_-]*$/,FN=/^\+(?:[0-9]){6,14}[0-9]$/,gg="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",WN=new RegExp(`^${gg}$`);function xg(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function HN(e){return new RegExp(`^${xg(e)}$`)}function BN(e){const t=xg({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${gg}T(?:${s})$`)}const UN=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},VN=/^-?\d+$/,ZN=/^-?\d+(?:\.\d+)?/,GN=/^(?:true|false)$/i,YN=/^[^A-Z]*$/,qN=/^[^a-z]*$/,xn=ee("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),yg={number:"number",bigint:"bigint",object:"date"},vg=ee("$ZodCheckLessThan",(e,t)=>{xn.init(e,t);const n=yg[typeof t.value];e._zod.onattach.push(s=>{const i=s._zod.bag,l=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<l&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:n,code:"too_big",maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),bg=ee("$ZodCheckGreaterThan",(e,t)=>{xn.init(e,t);const n=yg[typeof t.value];e._zod.onattach.push(s=>{const i=s._zod.bag,l=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>l&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:n,code:"too_small",minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),KN=ee("$ZodCheckMultipleOf",(e,t)=>{xn.init(e,t),e._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):Q2(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),XN=ee("$ZodCheckNumberFormat",(e,t)=>{xn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),s=n?"int":"number",[i,l]=oN[t.format];e._zod.onattach.push(d=>{const u=d._zod.bag;u.format=t.format,u.minimum=i,u.maximum=l,n&&(u.pattern=VN)}),e._zod.check=d=>{const u=d.value;if(n){if(!Number.isInteger(u)){d.issues.push({expected:s,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?d.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}):d.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort});return}}u<i&&d.issues.push({origin:"number",input:u,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),u>l&&d.issues.push({origin:"number",input:u,code:"too_big",maximum:l,inst:e})}}),JN=ee("$ZodCheckMaxLength",(e,t)=>{var n;xn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const i=s.value;return!hu(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const i=s.value;if(i.length<=t.maximum)return;const d=xu(i);s.issues.push({origin:d,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),QN=ee("$ZodCheckMinLength",(e,t)=>{var n;xn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const i=s.value;return!hu(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const i=s.value;if(i.length>=t.minimum)return;const d=xu(i);s.issues.push({origin:d,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),ek=ee("$ZodCheckLengthEquals",(e,t)=>{var n;xn.init(e,t),(n=e._zod.def).when??(n.when=s=>{const i=s.value;return!hu(i)&&i.length!==void 0}),e._zod.onattach.push(s=>{const i=s._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=s=>{const i=s.value,l=i.length;if(l===t.length)return;const d=xu(i),u=l>t.length;s.issues.push({origin:d,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),Nl=ee("$ZodCheckStringFormat",(e,t)=>{var n,s;xn.init(e,t),e._zod.onattach.push(i=>{const l=i._zod.bag;l.format=t.format,t.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),tk=ee("$ZodCheckRegex",(e,t)=>{Nl.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),nk=ee("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=YN),Nl.init(e,t)}),rk=ee("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=qN),Nl.init(e,t)}),ok=ee("$ZodCheckIncludes",(e,t)=>{xn.init(e,t);const n=vl(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(s)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),sk=ee("$ZodCheckStartsWith",(e,t)=>{xn.init(e,t);const n=new RegExp(`^${vl(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),ak=ee("$ZodCheckEndsWith",(e,t)=>{xn.init(e,t);const n=new RegExp(`.*${vl(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),ik=ee("$ZodCheckOverwrite",(e,t)=>{xn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class lk{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(d=>d),i=Math.min(...s.map(d=>d.length-d.trimStart().length)),l=s.map(d=>d.slice(i)).map(d=>" ".repeat(this.indent*2)+d);for(const d of l)this.content.push(d)}compile(){const t=Function,n=this?.args,i=[...(this?.content??[""]).map(l=>`  ${l}`)];return new t(...n,i.join(`
`))}}const ck={major:4,minor:1,patch:13},jt=ee("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=ck;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const i of s)for(const l of i._zod.onattach)l(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(d,u,p)=>{let h=Ns(d),g;for(const v of u){if(v._zod.def.when){if(!v._zod.def.when(d))continue}else if(h)continue;const y=d.issues.length,b=v._zod.check(d);if(b instanceof Promise&&p?.async===!1)throw new ws;if(g||b instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await b,d.issues.length!==y&&(h||(h=Ns(d,y)))});else{if(d.issues.length===y)continue;h||(h=Ns(d,y))}}return g?g.then(()=>d):d},l=(d,u,p)=>{if(Ns(d))return d.aborted=!0,d;const h=i(u,s,p);if(h instanceof Promise){if(p.async===!1)throw new ws;return h.then(g=>e._zod.parse(g,p))}return e._zod.parse(h,p)};e._zod.run=(d,u)=>{if(u.skipChecks)return e._zod.parse(d,u);if(u.direction==="backward"){const h=e._zod.parse({value:d.value,issues:[]},{...u,skipChecks:!0});return h instanceof Promise?h.then(g=>l(g,d,u)):l(h,d,u)}const p=e._zod.parse(d,u);if(p instanceof Promise){if(u.async===!1)throw new ws;return p.then(h=>i(h,s,u))}return i(p,s,u)}}e["~standard"]={validate:i=>{try{const l=mN(e,i);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return hN(e,i).then(d=>d.success?{value:d.data}:{issues:d.error?.issues})}},vendor:"zod",version:1}}),bu=ee("$ZodString",(e,t)=>{jt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??UN(e._zod.bag),e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ct=ee("$ZodStringFormat",(e,t)=>{Nl.init(e,t),bu.init(e,t)}),dk=ee("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=RN),ct.init(e,t)}),uk=ee("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=mg(s))}else t.pattern??(t.pattern=mg());ct.init(e,t)}),fk=ee("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=DN),ct.init(e,t)}),pk=ee("$ZodURL",(e,t)=>{ct.init(e,t),e._zod.check=n=>{try{const s=n.value.trim(),i=new URL(s);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),mk=ee("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=PN()),ct.init(e,t)}),hk=ee("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=TN),ct.init(e,t)}),gk=ee("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=kN),ct.init(e,t)}),xk=ee("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=SN),ct.init(e,t)}),yk=ee("$ZodULID",(e,t)=>{t.pattern??(t.pattern=CN),ct.init(e,t)}),vk=ee("$ZodXID",(e,t)=>{t.pattern??(t.pattern=EN),ct.init(e,t)}),bk=ee("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=_N),ct.init(e,t)}),wk=ee("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=BN(t)),ct.init(e,t)}),jk=ee("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=WN),ct.init(e,t)}),Nk=ee("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=HN(t)),ct.init(e,t)}),kk=ee("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=zN),ct.init(e,t)}),Sk=ee("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=MN),ct.init(e,t),e._zod.bag.format="ipv4"}),Ck=ee("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=IN),ct.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Ek=ee("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=LN),ct.init(e,t)}),_k=ee("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=ON),ct.init(e,t),e._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[i,l]=s;if(!l)throw new Error;const d=Number(l);if(`${d}`!==l)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function wg(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Tk=ee("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=AN),ct.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{wg(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function zk(e){if(!hg.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return wg(n)}const Rk=ee("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=hg),ct.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{zk(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Dk=ee("$ZodE164",(e,t)=>{t.pattern??(t.pattern=FN),ct.init(e,t)});function $k(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const i=JSON.parse(atob(s));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const Pk=ee("$ZodJWT",(e,t)=>{ct.init(e,t),e._zod.check=n=>{$k(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),jg=ee("$ZodNumber",(e,t)=>{jt.init(e,t),e._zod.pattern=e._zod.bag.pattern??ZN,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const l=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...l?{received:l}:{}}),n}}),Mk=ee("$ZodNumberFormat",(e,t)=>{XN.init(e,t),jg.init(e,t)}),Ik=ee("$ZodBoolean",(e,t)=>{jt.init(e,t),e._zod.pattern=GN,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),Lk=ee("$ZodUnknown",(e,t)=>{jt.init(e,t),e._zod.parse=n=>n}),Ok=ee("$ZodNever",(e,t)=>{jt.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Ng(e,t,n){e.issues.length&&t.issues.push(...ks(n,e.issues)),t.value[n]=e.value}const Ak=ee("$ZodArray",(e,t)=>{jt.init(e,t),e._zod.parse=(n,s)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const l=[];for(let d=0;d<i.length;d++){const u=i[d],p=t.element._zod.run({value:u,issues:[]},s);p instanceof Promise?l.push(p.then(h=>Ng(h,n,d))):Ng(p,n,d)}return l.length?Promise.all(l).then(()=>n):n}});function kl(e,t,n,s){e.issues.length&&t.issues.push(...ks(n,e.issues)),e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}function kg(e){const t=Object.keys(e.shape);for(const s of t)if(!e.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const n=rN(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Sg(e,t,n,s,i,l){const d=[],u=i.keySet,p=i.catchall._zod,h=p.def.type;for(const g in t){if(u.has(g))continue;if(h==="never"){d.push(g);continue}const v=p.run({value:t[g],issues:[]},s);v instanceof Promise?e.push(v.then(y=>kl(y,n,g,t))):kl(v,n,g,t)}return d.length&&n.issues.push({code:"unrecognized_keys",keys:d,input:t,inst:l}),e.length?Promise.all(e).then(()=>n):n}const Fk=ee("$ZodObject",(e,t)=>{if(jt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const p={...u};return Object.defineProperty(t,"shape",{value:p}),p}})}const s=mu(()=>kg(t));et(e._zod,"propValues",()=>{const u=t.shape,p={};for(const h in u){const g=u[h]._zod;if(g.values){p[h]??(p[h]=new Set);for(const v of g.values)p[h].add(v)}}return p});const i=yl,l=t.catchall;let d;e._zod.parse=(u,p)=>{d??(d=s.value);const h=u.value;if(!i(h))return u.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),u;u.value={};const g=[],v=d.shape;for(const y of d.keys){const k=v[y]._zod.run({value:h[y],issues:[]},p);k instanceof Promise?g.push(k.then(N=>kl(N,u,y,h))):kl(k,u,y,h)}return l?Sg(g,h,u,p,s.value,e):g.length?Promise.all(g).then(()=>u):u}}),Wk=ee("$ZodObjectJIT",(e,t)=>{Fk.init(e,t);const n=e._zod.parse,s=mu(()=>kg(t)),i=y=>{const b=new lk(["shape","payload","ctx"]),k=s.value,N=w=>{const T=lg(w);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};b.write("const input = payload.value;");const S=Object.create(null);let _=0;for(const w of k.keys)S[w]=`key_${_++}`;b.write("const newResult = {};");for(const w of k.keys){const T=S[w],M=lg(w);b.write(`const ${T} = ${N(w)};`),b.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${M}, ...iss.path] : [${M}]
          })));
        }
        
        
        if (${T}.value === undefined) {
          if (${M} in input) {
            newResult[${M}] = undefined;
          }
        } else {
          newResult[${M}] = ${T}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const E=b.compile();return(w,T)=>E(y,w,T)};let l;const d=yl,u=!ag.jitless,h=u&&tN.value,g=t.catchall;let v;e._zod.parse=(y,b)=>{v??(v=s.value);const k=y.value;return d(k)?u&&h&&b?.async===!1&&b.jitless!==!0?(l||(l=i(t.shape)),y=l(y,b),g?Sg([],k,y,b,v,e):y):n(y,b):(y.issues.push({expected:"object",code:"invalid_type",input:k,inst:e}),y)}});function Cg(e,t,n,s){for(const l of e)if(l.issues.length===0)return t.value=l.value,t;const i=e.filter(l=>!Ns(l));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(l=>l.issues.map(d=>ao(d,s,oo())))}),t)}const Hk=ee("$ZodUnion",(e,t)=>{jt.init(e,t),et(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),et(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),et(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),et(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>gu(l.source)).join("|")})$`)}});const n=t.options.length===1,s=t.options[0]._zod.run;e._zod.parse=(i,l)=>{if(n)return s(i,l);let d=!1;const u=[];for(const p of t.options){const h=p._zod.run({value:i.value,issues:[]},l);if(h instanceof Promise)u.push(h),d=!0;else{if(h.issues.length===0)return h;u.push(h)}}return d?Promise.all(u).then(p=>Cg(p,i,e,l)):Cg(u,i,e,l)}}),Bk=ee("$ZodIntersection",(e,t)=>{jt.init(e,t),e._zod.parse=(n,s)=>{const i=n.value,l=t.left._zod.run({value:i,issues:[]},s),d=t.right._zod.run({value:i,issues:[]},s);return l instanceof Promise||d instanceof Promise?Promise.all([l,d]).then(([p,h])=>Eg(n,p,h)):Eg(n,l,d)}});function wu(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(js(e)&&js(t)){const n=Object.keys(t),s=Object.keys(e).filter(l=>n.indexOf(l)!==-1),i={...e,...t};for(const l of s){const d=wu(e[l],t[l]);if(!d.valid)return{valid:!1,mergeErrorPath:[l,...d.mergeErrorPath]};i[l]=d.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const i=e[s],l=t[s],d=wu(i,l);if(!d.valid)return{valid:!1,mergeErrorPath:[s,...d.mergeErrorPath]};n.push(d.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Eg(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Ns(e))return e;const s=wu(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const Uk=ee("$ZodRecord",(e,t)=>{jt.init(e,t),e._zod.parse=(n,s)=>{const i=n.value;if(!js(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const l=[],d=t.keyType._zod.values;if(d){n.value={};const u=new Set;for(const h of d)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){u.add(typeof h=="number"?h.toString():h);const g=t.valueType._zod.run({value:i[h],issues:[]},s);g instanceof Promise?l.push(g.then(v=>{v.issues.length&&n.issues.push(...ks(h,v.issues)),n.value[h]=v.value})):(g.issues.length&&n.issues.push(...ks(h,g.issues)),n.value[h]=g.value)}let p;for(const h in i)u.has(h)||(p=p??[],p.push(h));p&&p.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:p})}else{n.value={};for(const u of Reflect.ownKeys(i)){if(u==="__proto__")continue;const p=t.keyType._zod.run({value:u,issues:[]},s);if(p instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(p.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:p.issues.map(g=>ao(g,s,oo())),input:u,path:[u],inst:e}),n.value[p.value]=p.value;continue}const h=t.valueType._zod.run({value:i[u],issues:[]},s);h instanceof Promise?l.push(h.then(g=>{g.issues.length&&n.issues.push(...ks(u,g.issues)),n.value[p.value]=g.value})):(h.issues.length&&n.issues.push(...ks(u,h.issues)),n.value[p.value]=h.value)}}return l.length?Promise.all(l).then(()=>n):n}}),Vk=ee("$ZodEnum",(e,t)=>{jt.init(e,t);const n=J2(t.entries),s=new Set(n);e._zod.values=s,e._zod.pattern=new RegExp(`^(${n.filter(i=>nN.has(typeof i)).map(i=>typeof i=="string"?vl(i):i.toString()).join("|")})$`),e._zod.parse=(i,l)=>{const d=i.value;return s.has(d)||i.issues.push({code:"invalid_value",values:n,input:d,inst:e}),i}}),Zk=ee("$ZodTransform",(e,t)=>{jt.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new sg(e.constructor.name);const i=t.transform(n.value,n);if(s.async)return(i instanceof Promise?i:Promise.resolve(i)).then(d=>(n.value=d,n));if(i instanceof Promise)throw new ws;return n.value=i,n}});function _g(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Gk=ee("$ZodOptional",(e,t)=>{jt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",et(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),et(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${gu(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(l=>_g(l,n.value)):_g(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,s)}}),Yk=ee("$ZodNullable",(e,t)=>{jt.init(e,t),et(e._zod,"optin",()=>t.innerType._zod.optin),et(e._zod,"optout",()=>t.innerType._zod.optout),et(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${gu(n.source)}|null)$`):void 0}),et(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),qk=ee("$ZodDefault",(e,t)=>{jt.init(e,t),e._zod.optin="optional",et(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(l=>Tg(l,t)):Tg(i,t)}});function Tg(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Kk=ee("$ZodPrefault",(e,t)=>{jt.init(e,t),e._zod.optin="optional",et(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),Xk=ee("$ZodNonOptional",(e,t)=>{jt.init(e,t),et(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(l=>zg(l,e)):zg(i,e)}});function zg(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Jk=ee("$ZodCatch",(e,t)=>{jt.init(e,t),et(e._zod,"optin",()=>t.innerType._zod.optin),et(e._zod,"optout",()=>t.innerType._zod.optout),et(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=t.catchValue({...n,error:{issues:l.issues.map(d=>ao(d,s,oo()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(l=>ao(l,s,oo()))},input:n.value}),n.issues=[]),n)}}),Qk=ee("$ZodPipe",(e,t)=>{jt.init(e,t),et(e._zod,"values",()=>t.in._zod.values),et(e._zod,"optin",()=>t.in._zod.optin),et(e._zod,"optout",()=>t.out._zod.optout),et(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{if(s.direction==="backward"){const l=t.out._zod.run(n,s);return l instanceof Promise?l.then(d=>Sl(d,t.in,s)):Sl(l,t.in,s)}const i=t.in._zod.run(n,s);return i instanceof Promise?i.then(l=>Sl(l,t.out,s)):Sl(i,t.out,s)}});function Sl(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const eS=ee("$ZodReadonly",(e,t)=>{jt.init(e,t),et(e._zod,"propValues",()=>t.innerType._zod.propValues),et(e._zod,"values",()=>t.innerType._zod.values),et(e._zod,"optin",()=>t.innerType?._zod?.optin),et(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(Rg):Rg(i)}});function Rg(e){return e.value=Object.freeze(e.value),e}const tS=ee("$ZodCustom",(e,t)=>{xn.init(e,t),jt.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,i=t.fn(s);if(i instanceof Promise)return i.then(l=>Dg(l,n,s,e));Dg(i,n,s,e)}});function Dg(e,t,n,s){if(!e){const i={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(i.params=s._zod.def.params),t.issues.push(Ia(i))}}var $g;class nS{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const s=n[0];if(this._map.set(t,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const i={...s,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function rS(){return new nS}($g=globalThis).__zod_globalRegistry??($g.__zod_globalRegistry=rS());const Cl=globalThis.__zod_globalRegistry;function oS(e,t){return new e({type:"string",...Re(t)})}function sS(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Re(t)})}function Pg(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Re(t)})}function aS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Re(t)})}function iS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Re(t)})}function lS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Re(t)})}function cS(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Re(t)})}function dS(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Re(t)})}function uS(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Re(t)})}function fS(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Re(t)})}function pS(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Re(t)})}function mS(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Re(t)})}function hS(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Re(t)})}function gS(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Re(t)})}function xS(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Re(t)})}function yS(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Re(t)})}function vS(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Re(t)})}function bS(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Re(t)})}function wS(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Re(t)})}function jS(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Re(t)})}function NS(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Re(t)})}function kS(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Re(t)})}function SS(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Re(t)})}function CS(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Re(t)})}function ES(e,t){return new e({type:"string",format:"date",check:"string_format",...Re(t)})}function _S(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Re(t)})}function TS(e,t){return new e({type:"string",format:"duration",check:"string_format",...Re(t)})}function zS(e,t){return new e({type:"number",checks:[],...Re(t)})}function RS(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Re(t)})}function DS(e,t){return new e({type:"boolean",...Re(t)})}function $S(e){return new e({type:"unknown"})}function PS(e,t){return new e({type:"never",...Re(t)})}function Mg(e,t){return new vg({check:"less_than",...Re(t),value:e,inclusive:!1})}function ju(e,t){return new vg({check:"less_than",...Re(t),value:e,inclusive:!0})}function Ig(e,t){return new bg({check:"greater_than",...Re(t),value:e,inclusive:!1})}function Nu(e,t){return new bg({check:"greater_than",...Re(t),value:e,inclusive:!0})}function Lg(e,t){return new KN({check:"multiple_of",...Re(t),value:e})}function Og(e,t){return new JN({check:"max_length",...Re(t),maximum:e})}function El(e,t){return new QN({check:"min_length",...Re(t),minimum:e})}function Ag(e,t){return new ek({check:"length_equals",...Re(t),length:e})}function MS(e,t){return new tk({check:"string_format",format:"regex",...Re(t),pattern:e})}function IS(e){return new nk({check:"string_format",format:"lowercase",...Re(e)})}function LS(e){return new rk({check:"string_format",format:"uppercase",...Re(e)})}function OS(e,t){return new ok({check:"string_format",format:"includes",...Re(t),includes:e})}function AS(e,t){return new sk({check:"string_format",format:"starts_with",...Re(t),prefix:e})}function FS(e,t){return new ak({check:"string_format",format:"ends_with",...Re(t),suffix:e})}function Ss(e){return new ik({check:"overwrite",tx:e})}function WS(e){return Ss(t=>t.normalize(e))}function HS(){return Ss(e=>e.trim())}function BS(){return Ss(e=>e.toLowerCase())}function US(){return Ss(e=>e.toUpperCase())}function VS(){return Ss(e=>eN(e))}function ZS(e,t,n){return new e({type:"array",element:t,...Re(n)})}function GS(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Re(n)})}function YS(e){const t=qS(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(Ia(s,n.value,t._zod.def));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Ia(i))}},e(n.value,n)));return t}function qS(e,t){const n=new xn({check:"custom",...Re(t)});return n._zod.check=e,n}const KS=ee("ZodISODateTime",(e,t)=>{wk.init(e,t),ht.init(e,t)});function XS(e){return CS(KS,e)}const JS=ee("ZodISODate",(e,t)=>{jk.init(e,t),ht.init(e,t)});function QS(e){return ES(JS,e)}const eC=ee("ZodISOTime",(e,t)=>{Nk.init(e,t),ht.init(e,t)});function tC(e){return _S(eC,e)}const nC=ee("ZodISODuration",(e,t)=>{kk.init(e,t),ht.init(e,t)});function rC(e){return TS(nC,e)}const An=ee("ZodError",(e,t)=>{fg.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>pN(e,n)},flatten:{value:n=>fN(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,pu,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,pu,2)}},isEmpty:{get(){return e.issues.length===0}}})},{Parent:Error}),oC=yu(An),sC=vu(An),aC=wl(An),iC=jl(An),lC=gN(An),cC=xN(An),dC=yN(An),uC=vN(An),fC=bN(An),pC=wN(An),mC=jN(An),hC=NN(An),St=ee("ZodType",(e,t)=>(jt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Wo(t,{checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),e.clone=(n,s)=>so(e,n,s),e.brand=()=>e,e.register=((n,s)=>(n.add(e,s),e)),e.parse=(n,s)=>oC(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>aC(e,n,s),e.parseAsync=async(n,s)=>sC(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>iC(e,n,s),e.spa=e.safeParseAsync,e.encode=(n,s)=>lC(e,n,s),e.decode=(n,s)=>cC(e,n,s),e.encodeAsync=async(n,s)=>dC(e,n,s),e.decodeAsync=async(n,s)=>uC(e,n,s),e.safeEncode=(n,s)=>fC(e,n,s),e.safeDecode=(n,s)=>pC(e,n,s),e.safeEncodeAsync=async(n,s)=>mC(e,n,s),e.safeDecodeAsync=async(n,s)=>hC(e,n,s),e.refine=(n,s)=>e.check(aE(n,s)),e.superRefine=n=>e.check(iE(n)),e.overwrite=n=>e.check(Ss(n)),e.optional=()=>Vg(e),e.nullable=()=>Zg(e),e.nullish=()=>Vg(Zg(e)),e.nonoptional=n=>QC(e,n),e.array=()=>Ho(e),e.or=n=>HC([e,n]),e.and=n=>UC(e,n),e.transform=n=>Yg(e,GC(n)),e.default=n=>KC(e,n),e.prefault=n=>JC(e,n),e.catch=n=>tE(e,n),e.pipe=n=>Yg(e,n),e.readonly=()=>oE(e),e.describe=n=>{const s=e.clone();return Cl.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){return Cl.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Cl.get(e);const s=e.clone();return Cl.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Fg=ee("_ZodString",(e,t)=>{bu.init(e,t),St.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(MS(...s)),e.includes=(...s)=>e.check(OS(...s)),e.startsWith=(...s)=>e.check(AS(...s)),e.endsWith=(...s)=>e.check(FS(...s)),e.min=(...s)=>e.check(El(...s)),e.max=(...s)=>e.check(Og(...s)),e.length=(...s)=>e.check(Ag(...s)),e.nonempty=(...s)=>e.check(El(1,...s)),e.lowercase=s=>e.check(IS(s)),e.uppercase=s=>e.check(LS(s)),e.trim=()=>e.check(HS()),e.normalize=(...s)=>e.check(WS(...s)),e.toLowerCase=()=>e.check(BS()),e.toUpperCase=()=>e.check(US()),e.slugify=()=>e.check(VS())}),gC=ee("ZodString",(e,t)=>{bu.init(e,t),Fg.init(e,t),e.email=n=>e.check(sS(xC,n)),e.url=n=>e.check(dS(yC,n)),e.jwt=n=>e.check(SS($C,n)),e.emoji=n=>e.check(uS(vC,n)),e.guid=n=>e.check(Pg(Wg,n)),e.uuid=n=>e.check(aS(_l,n)),e.uuidv4=n=>e.check(iS(_l,n)),e.uuidv6=n=>e.check(lS(_l,n)),e.uuidv7=n=>e.check(cS(_l,n)),e.nanoid=n=>e.check(fS(bC,n)),e.guid=n=>e.check(Pg(Wg,n)),e.cuid=n=>e.check(pS(wC,n)),e.cuid2=n=>e.check(mS(jC,n)),e.ulid=n=>e.check(hS(NC,n)),e.base64=n=>e.check(jS(zC,n)),e.base64url=n=>e.check(NS(RC,n)),e.xid=n=>e.check(gS(kC,n)),e.ksuid=n=>e.check(xS(SC,n)),e.ipv4=n=>e.check(yS(CC,n)),e.ipv6=n=>e.check(vS(EC,n)),e.cidrv4=n=>e.check(bS(_C,n)),e.cidrv6=n=>e.check(wS(TC,n)),e.e164=n=>e.check(kS(DC,n)),e.datetime=n=>e.check(XS(n)),e.date=n=>e.check(QS(n)),e.time=n=>e.check(tC(n)),e.duration=n=>e.check(rC(n))});function Ze(e){return oS(gC,e)}const ht=ee("ZodStringFormat",(e,t)=>{ct.init(e,t),Fg.init(e,t)}),xC=ee("ZodEmail",(e,t)=>{fk.init(e,t),ht.init(e,t)}),Wg=ee("ZodGUID",(e,t)=>{dk.init(e,t),ht.init(e,t)}),_l=ee("ZodUUID",(e,t)=>{uk.init(e,t),ht.init(e,t)}),yC=ee("ZodURL",(e,t)=>{pk.init(e,t),ht.init(e,t)}),vC=ee("ZodEmoji",(e,t)=>{mk.init(e,t),ht.init(e,t)}),bC=ee("ZodNanoID",(e,t)=>{hk.init(e,t),ht.init(e,t)}),wC=ee("ZodCUID",(e,t)=>{gk.init(e,t),ht.init(e,t)}),jC=ee("ZodCUID2",(e,t)=>{xk.init(e,t),ht.init(e,t)}),NC=ee("ZodULID",(e,t)=>{yk.init(e,t),ht.init(e,t)}),kC=ee("ZodXID",(e,t)=>{vk.init(e,t),ht.init(e,t)}),SC=ee("ZodKSUID",(e,t)=>{bk.init(e,t),ht.init(e,t)}),CC=ee("ZodIPv4",(e,t)=>{Sk.init(e,t),ht.init(e,t)}),EC=ee("ZodIPv6",(e,t)=>{Ck.init(e,t),ht.init(e,t)}),_C=ee("ZodCIDRv4",(e,t)=>{Ek.init(e,t),ht.init(e,t)}),TC=ee("ZodCIDRv6",(e,t)=>{_k.init(e,t),ht.init(e,t)}),zC=ee("ZodBase64",(e,t)=>{Tk.init(e,t),ht.init(e,t)}),RC=ee("ZodBase64URL",(e,t)=>{Rk.init(e,t),ht.init(e,t)}),DC=ee("ZodE164",(e,t)=>{Dk.init(e,t),ht.init(e,t)}),$C=ee("ZodJWT",(e,t)=>{Pk.init(e,t),ht.init(e,t)}),Hg=ee("ZodNumber",(e,t)=>{jg.init(e,t),St.init(e,t),e.gt=(s,i)=>e.check(Ig(s,i)),e.gte=(s,i)=>e.check(Nu(s,i)),e.min=(s,i)=>e.check(Nu(s,i)),e.lt=(s,i)=>e.check(Mg(s,i)),e.lte=(s,i)=>e.check(ju(s,i)),e.max=(s,i)=>e.check(ju(s,i)),e.int=s=>e.check(Bg(s)),e.safe=s=>e.check(Bg(s)),e.positive=s=>e.check(Ig(0,s)),e.nonnegative=s=>e.check(Nu(0,s)),e.negative=s=>e.check(Mg(0,s)),e.nonpositive=s=>e.check(ju(0,s)),e.multipleOf=(s,i)=>e.check(Lg(s,i)),e.step=(s,i)=>e.check(Lg(s,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Yt(e){return zS(Hg,e)}const PC=ee("ZodNumberFormat",(e,t)=>{Mk.init(e,t),Hg.init(e,t)});function Bg(e){return RS(PC,e)}const MC=ee("ZodBoolean",(e,t)=>{Ik.init(e,t),St.init(e,t)});function gt(e){return DS(MC,e)}const IC=ee("ZodUnknown",(e,t)=>{Lk.init(e,t),St.init(e,t)});function La(){return $S(IC)}const LC=ee("ZodNever",(e,t)=>{Ok.init(e,t),St.init(e,t)});function OC(e){return PS(LC,e)}const AC=ee("ZodArray",(e,t)=>{Ak.init(e,t),St.init(e,t),e.element=t.element,e.min=(n,s)=>e.check(El(n,s)),e.nonempty=n=>e.check(El(1,n)),e.max=(n,s)=>e.check(Og(n,s)),e.length=(n,s)=>e.check(Ag(n,s)),e.unwrap=()=>e.element});function Ho(e,t){return ZS(AC,e,t)}const FC=ee("ZodObject",(e,t)=>{Wk.init(e,t),St.init(e,t),et(e,"shape",()=>t.shape),e.keyof=()=>tr(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:La()}),e.loose=()=>e.clone({...e._zod.def,catchall:La()}),e.strict=()=>e.clone({...e._zod.def,catchall:OC()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>iN(e,n),e.safeExtend=n=>lN(e,n),e.merge=n=>cN(e,n),e.pick=n=>sN(e,n),e.omit=n=>aN(e,n),e.partial=(...n)=>dN(Ug,e,n[0]),e.required=(...n)=>uN(Gg,e,n[0])});function Cn(e,t){const n={type:"object",shape:e??{},...Re(t)};return new FC(n)}const WC=ee("ZodUnion",(e,t)=>{Hk.init(e,t),St.init(e,t),e.options=t.options});function HC(e,t){return new WC({type:"union",options:e,...Re(t)})}const BC=ee("ZodIntersection",(e,t)=>{Bk.init(e,t),St.init(e,t)});function UC(e,t){return new BC({type:"intersection",left:e,right:t})}const VC=ee("ZodRecord",(e,t)=>{Uk.init(e,t),St.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Tl(e,t,n){return new VC({type:"record",keyType:e,valueType:t,...Re(n)})}const ku=ee("ZodEnum",(e,t)=>{Vk.init(e,t),St.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,i)=>{const l={};for(const d of s)if(n.has(d))l[d]=t.entries[d];else throw new Error(`Key ${d} not found in enum`);return new ku({...t,checks:[],...Re(i),entries:l})},e.exclude=(s,i)=>{const l={...t.entries};for(const d of s)if(n.has(d))delete l[d];else throw new Error(`Key ${d} not found in enum`);return new ku({...t,checks:[],...Re(i),entries:l})}});function tr(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new ku({type:"enum",entries:n,...Re(t)})}const ZC=ee("ZodTransform",(e,t)=>{Zk.init(e,t),St.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new sg(e.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Ia(l,n.value,t));else{const d=l;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=n.value),d.inst??(d.inst=e),n.issues.push(Ia(d))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function GC(e){return new ZC({type:"transform",transform:e})}const Ug=ee("ZodOptional",(e,t)=>{Gk.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Vg(e){return new Ug({type:"optional",innerType:e})}const YC=ee("ZodNullable",(e,t)=>{Yk.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Zg(e){return new YC({type:"nullable",innerType:e})}const qC=ee("ZodDefault",(e,t)=>{qk.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function KC(e,t){return new qC({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():dg(t)}})}const XC=ee("ZodPrefault",(e,t)=>{Kk.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType});function JC(e,t){return new XC({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():dg(t)}})}const Gg=ee("ZodNonOptional",(e,t)=>{Xk.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType});function QC(e,t){return new Gg({type:"nonoptional",innerType:e,...Re(t)})}const eE=ee("ZodCatch",(e,t)=>{Jk.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function tE(e,t){return new eE({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const nE=ee("ZodPipe",(e,t)=>{Qk.init(e,t),St.init(e,t),e.in=t.in,e.out=t.out});function Yg(e,t){return new nE({type:"pipe",in:e,out:t})}const rE=ee("ZodReadonly",(e,t)=>{eS.init(e,t),St.init(e,t),e.unwrap=()=>e._zod.def.innerType});function oE(e){return new rE({type:"readonly",innerType:e})}const sE=ee("ZodCustom",(e,t)=>{tS.init(e,t),St.init(e,t)});function aE(e,t={}){return GS(sE,e,t)}function iE(e){return YS(e)}const lE=tr(["string","number","boolean","select","multi_select","color","icon","array","object","conditional_rules","columns_config","items_config","rich_text","code","date","time","datetime","file","image","range","key_value","repeater_config","step_config","email_template","calculation","tag_input"]),cE=Cn({property:Ze(),operator:tr(["equals","not_equals","contains","not_contains","gt","lt","gte","lte","empty","not_empty"]),value:La().optional()}),dE=Cn({value:Ze(),label:Ze(),icon:Ze().optional(),description:Ze().optional()}),Bo=Cn({type:lE,label:Ze(),description:Ze().optional(),default:La().optional(),required:gt().optional(),translatable:gt().optional(),supportsTags:gt().optional(),readonly:gt().optional(),options:Ho(dE).optional(),min:Yt().optional(),max:Yt().optional(),step:Yt().optional(),minLength:Yt().optional(),maxLength:Yt().optional(),pattern:Ze().optional(),conditions:Ho(cE).optional(),group:Ze().optional()}),uE=tr(["general","validation","appearance","advanced","conditions"]),fE=tr(["basic","choice","advanced","layout","content"]),pE=Cn({accepts:Ho(Ze()).optional(),rejects:Ho(Ze()).optional(),maxChildren:Yt().optional(),minChildren:Yt().optional(),allowReorder:gt().optional().default(!0)}),mE=Cn({type:Ze().regex(/^[a-z][a-z0-9-]*$/,"Type must be lowercase alphanumeric with dashes"),name:Ze().min(1),description:Ze(),category:fE,icon:Ze(),container:pE.nullable(),properties:Tl(uE,Tl(Ze(),Bo)),defaults:Tl(Ze(),La()),translatable:Ho(Ze()),supportsTags:Ho(Ze())});Cn({general:Cn({name:Bo.parse({type:"string",label:"Field Name",description:"Unique identifier for this field",required:!0,pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$"}),label:Bo.parse({type:"string",label:"Label",description:"Label shown above the field",translatable:!0}),width:Bo.parse({type:"select",label:"Width",description:"Field width in the form layout",options:[{value:"full",label:"Full Width"},{value:"1/2",label:"Half (1/2)"},{value:"1/3",label:"Third (1/3)"},{value:"2/3",label:"Two Thirds (2/3)"},{value:"1/4",label:"Quarter (1/4)"},{value:"3/4",label:"Three Quarters (3/4)"}],default:"full"})}),appearance:Cn({hideLabel:Bo.parse({type:"boolean",label:"Hide Label",description:"Hide the field label",default:!1}),cssClass:Bo.parse({type:"string",label:"CSS Class",description:"Additional CSS classes for styling"})}),conditions:Cn({conditionalLogic:Bo.parse({type:"conditional_rules",label:"Conditional Logic",description:"Show/hide this field based on conditions"})})});const zl=new Map;function hE(e){const t=mE.parse(e);if(zl.has(t.type))throw new Error(`Element type '${t.type}' is already registered. Each element type can only be registered once.`);return zl.set(t.type,t),t}function Rl(e){return zl.get(e)}function gE(e){return zl.has(e)}const Oa={general:{name:{type:"string",label:"Field Name",description:"Unique identifier for this field",required:!0,pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$"},label:{type:"string",label:"Label",description:"Label shown above the field",translatable:!0},width:{type:"select",label:"Width",description:"Field width in the form layout",options:[{value:"full",label:"Full Width"},{value:"1/2",label:"Half (1/2)"},{value:"1/3",label:"Third (1/3)"},{value:"2/3",label:"Two Thirds (2/3)"},{value:"1/4",label:"Quarter (1/4)"},{value:"3/4",label:"Three Quarters (3/4)"}],default:"full"}},validation:{},appearance:{hideLabel:{type:"boolean",label:"Hide Label",description:"Hide the field label",default:!1},cssClass:{type:"string",label:"CSS Class",description:"Additional CSS classes for styling"}},advanced:{},conditions:{conditionalLogic:{type:"conditional_rules",label:"Conditional Logic",description:"Show/hide this field based on conditions"}}};function xE(e){return{general:{...Oa.general,...e.general||{}},validation:{...Oa.validation,...e.validation||{}},appearance:{...Oa.appearance,...e.appearance||{}},advanced:{...Oa.advanced,...e.advanced||{}},conditions:{...Oa.conditions,...e.conditions||{}}}}const yE=({name:e,schema:t,value:n,onChange:s})=>{const i=()=>{switch(t.type){case"string":return r.jsx("input",{type:"text",value:n||"",onChange:d=>s(d.target.value),placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"});case"number":case"range":return r.jsx("input",{type:"number",value:n??"",onChange:d=>s(d.target.value?Number(d.target.value):void 0),min:t.min,max:t.max,step:t.step,placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"});case"boolean":return r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:!!n,onChange:d=>s(d.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.description&&r.jsx("span",{className:"text-sm text-gray-500",children:t.description})]});case"select":return r.jsxs("select",{value:n||"",onChange:d=>s(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select..."}),t.options?.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))]});case"multi_select":const l=n||[];return r.jsx("div",{className:"space-y-1",children:t.options?.map(d=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l.includes(d.value),onChange:u=>{u.target.checked?s([...l,d.value]):s(l.filter(p=>p!==d.value))},className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm",children:d.label})]},d.value))});case"color":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"color",value:n||"#000000",onChange:d=>s(d.target.value),className:"w-10 h-10 rounded border border-gray-300 cursor-pointer"}),r.jsx("input",{type:"text",value:n||"",onChange:d=>s(d.target.value),placeholder:"#000000",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]});case"icon":return r.jsx("input",{type:"text",value:n||"",onChange:d=>s(d.target.value),placeholder:"Icon name (e.g., user, mail)",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"});case"rich_text":return r.jsx("textarea",{value:n||"",onChange:d=>s(d.target.value),rows:4,placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y"});case"code":return r.jsx("textarea",{value:n||"",onChange:d=>s(d.target.value),rows:6,placeholder:t.description,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y"});case"conditional_rules":case"columns_config":case"items_config":case"repeater_config":case"step_config":case"email_template":case"calculation":case"key_value":return r.jsxs("div",{className:"px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-sm text-gray-500",children:['Complex editor for "',t.type,'" (not yet implemented)']});default:return r.jsx("input",{type:"text",value:String(n??""),onChange:d=>s(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}};return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[t.label,t.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),t.translatable&&r.jsx("span",{className:"ml-2 text-xs text-blue-500",title:"Translatable field",children:""}),t.supportsTags&&r.jsxs("span",{className:"ml-1 text-xs text-purple-500",title:"Supports dynamic tags",children:["{","...","}"]})]}),i()]})},vE=({elementType:e,properties:t,onPropertyChange:n,categories:s})=>{const i=m.useMemo(()=>Rl(e),[e]),[l,d]=m.useState("general");if(!i)return r.jsxs("div",{className:"p-4 text-sm text-red-600 bg-red-50 rounded-md",children:["Unknown element type: ",e]});const p=(s||["general","validation","appearance","advanced","conditions"]).filter(y=>i.properties[y]&&Object.keys(i.properties[y]).length>0),h={general:"General",validation:"Validation",appearance:"Appearance",advanced:"Advanced",conditions:"Conditions"},g=i.properties[l]||{},v=y=>!y.conditions||y.conditions.length===0?!0:y.conditions.every(b=>{const k=t[b.property];switch(b.operator){case"equals":return k===b.value;case"not_equals":return k!==b.value;case"contains":return Array.isArray(k)&&k.includes(b.value);case"not_contains":return!Array.isArray(k)||!k.includes(b.value);case"empty":return k==null||k==="";case"not_empty":return k!=null&&k!=="";case"gt":return typeof k=="number"&&k>b.value;case"lt":return typeof k=="number"&&k<b.value;case"gte":return typeof k=="number"&&k>=b.value;case"lte":return typeof k=="number"&&k<=b.value;default:return!0}});return r.jsxs("div",{className:"schema-property-panel",children:[p.length>1&&r.jsx("div",{className:"flex border-b border-gray-200 mb-4",children:p.map(y=>r.jsx("button",{onClick:()=>d(y),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l===y?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:h[y]},y))}),r.jsxs("div",{className:"space-y-4",children:[Object.entries(g).map(([y,b])=>v(b)?r.jsx(yE,{name:y,schema:b,value:t[y],onChange:k=>n(y,k)},y):null),Object.keys(g).length===0&&r.jsx("div",{className:"text-sm text-gray-500 italic",children:"No properties in this category."})]}),!1]})};hE({type:"text",name:"Text Input",description:"Single-line text input field for short text entries",category:"basic",icon:"type",container:null,properties:xE({general:{placeholder:{type:"string",label:"Placeholder",description:"Hint text shown when field is empty",translatable:!0,supportsTags:!0},defaultValue:{type:"string",label:"Default Value",description:"Pre-filled value for the field",supportsTags:!0}},validation:{required:{type:"boolean",label:"Required",description:"User must fill this field to submit",default:!1},minLength:{type:"number",label:"Minimum Length",description:"Minimum number of characters",min:0},maxLength:{type:"number",label:"Maximum Length",description:"Maximum number of characters",min:1},pattern:{type:"string",label:"Pattern (Regex)",description:"Regular expression for validation"},customError:{type:"string",label:"Custom Error Message",description:"Error message shown when validation fails",translatable:!0}},appearance:{inputIcon:{type:"icon",label:"Input Icon",description:"Icon shown inside the input"},iconPosition:{type:"select",label:"Icon Position",options:[{value:"left",label:"Left"},{value:"right",label:"Right"}],default:"left",conditions:[{property:"inputIcon",operator:"not_empty"}]}},advanced:{autocomplete:{type:"select",label:"Autocomplete",description:"Browser autocomplete hint",options:[{value:"off",label:"Off"},{value:"on",label:"On"},{value:"name",label:"Full Name"},{value:"given-name",label:"First Name"},{value:"family-name",label:"Last Name"},{value:"organization",label:"Organization"},{value:"street-address",label:"Street Address"},{value:"postal-code",label:"Postal Code"}],default:"off"},readOnly:{type:"boolean",label:"Read Only",description:"Field cannot be edited by user",default:!1}}}),defaults:{label:"Text Field",name:"",width:"full",required:!1},translatable:["label","placeholder","customError"],supportsTags:["placeholder","defaultValue"]});const bE=({element:e,position:t,onClose:n,onPropertyChange:s,onDelete:i})=>{const l=m.useRef(null),d=m.useMemo(()=>gE(e.type),[e.type]),u=m.useMemo(()=>d?Rl(e.type):null,[e.type,d]);m.useEffect(()=>{const v=b=>{l.current&&!l.current.contains(b.target)&&n()},y=setTimeout(()=>{document.addEventListener("mousedown",v)},100);return()=>{clearTimeout(y),document.removeEventListener("mousedown",v)}},[n]),m.useEffect(()=>{const v=y=>{y.key==="Escape"&&n()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]);const p=m.useMemo(()=>({left:Math.min(Math.max(16,t.x),window.innerWidth-480-16),top:Math.min(Math.max(16,t.y),window.innerHeight-600-16)}),[t]),h=u?.name||e.label||e.type,g=e.icon;return r.jsxs("div",{ref:l,className:"fixed z-50 w-[480px] max-w-[calc(100vw-32px)] bg-white border border-gray-200 rounded-lg shadow-xl flex flex-col max-h-[600px]",style:{left:p.left,top:p.top},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[g&&r.jsx(g,{size:18}),r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:h}),d&&r.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-blue-600 bg-blue-50 rounded",children:"Schema"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:i,className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"Delete element",children:r.jsx(On,{size:16})}),r.jsx("button",{onClick:n,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Close panel",children:r.jsx(Gt,{size:16})})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d?r.jsx(vE,{elementType:e.type,properties:e.properties||{},onPropertyChange:s}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-md",children:r.jsxs("p",{className:"text-xs text-amber-700",children:["This element type (",e.type,") doesn't have a schema yet. Using legacy property panels."]})}),r.jsx(K2,{element:e,onUpdate:s}),r.jsx(X2,{element:e,onUpdate:s})]})})]})},wE=Cn({id:Ze().regex(/^[a-z][a-z0-9-]*$/,"ID must be lowercase alphanumeric with dashes"),label:Ze().min(1),icon:Ze(),position:Yt(),lazyLoad:gt().default(!1),componentPath:Ze().optional(),requiredPermission:Ze().optional(),requiredPlan:Ze().optional(),hidden:gt().default(!1),description:Ze().optional()}),Su=new Map;function Or(e){const t=wE.parse(e);if(Su.has(t.id))throw new Error(`Tab '${t.id}' is already registered. Each tab can only be registered once.`);return Su.set(t.id,t),t}function jE(e={}){let t=Array.from(Su.values());return e.includeHidden||(t=t.filter(n=>!n.hidden)),e.permission&&(t=t.filter(n=>!n.requiredPermission||n.requiredPermission===e.permission)),e.plan&&(t=t.filter(n=>!n.requiredPlan||n.requiredPlan===e.plan)),t}function NE(e={}){return jE(e).sort((t,n)=>t.position-n.position)}Or({id:"canvas",label:"Canvas",icon:"Layout",position:0,lazyLoad:!1,hidden:!0,description:"Form building canvas"}),Or({id:"builder",label:"Builder",icon:"Layout",position:5,lazyLoad:!1,description:"Form building canvas"}),Or({id:"emails",label:"Emails",icon:"Mail",position:10,lazyLoad:!1,hidden:!1,description:"Configure email notifications"}),Or({id:"settings",label:"Settings",icon:"Settings",position:20,lazyLoad:!1,description:"Form settings and configuration"}),Or({id:"entries",label:"Entries",icon:"Database",position:30,lazyLoad:!1,description:"View form submissions"}),Or({id:"automation",label:"Automation",icon:"Workflow",position:40,lazyLoad:!1,description:"Build automated workflows"}),Or({id:"style",label:"Style",icon:"PaintBucket",position:50,lazyLoad:!1,description:"Customize form appearance"}),Or({id:"themes",label:"Themes",icon:"Palette",position:51,lazyLoad:!1,description:"Apply and create themes"}),Or({id:"integrations",label:"Integrations",icon:"Webhook",position:60,lazyLoad:!1,description:"Connect to external services"});const kE={Layout:ou,Mail:Lr,Settings:pl,Database:Qi,Zap:gl,PaintBucket:d2,Palette:yr,Webhook:hl,Workflow:Ah};function SE(e){return kE[e]||ou}function CE({activeTab:e,onTabChange:t,className:n}){const s=NE(),i=l=>{t(l==="builder"?"canvas":l)};return r.jsx("div",{className:Le("flex items-center gap-1 px-4 py-2 bg-muted/50 border-b border-border",n),role:"tablist","aria-label":"Form builder tabs",children:s.map(l=>r.jsx(EE,{tab:l,isActive:l.id==="builder"?e==="canvas":e===l.id,onClick:()=>i(l.id)},l.id))})}function EE({tab:e,isActive:t,onClick:n}){const s=SE(e.icon);return r.jsxs("button",{role:"tab","aria-selected":t,"aria-controls":`panel-${e.id}`,id:`tab-${e.id}`,className:Le("flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors",t?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:n,title:e.description,children:[r.jsx(s,{className:"w-4 h-4"}),r.jsx("span",{children:e.label})]})}const _E={success:r.jsx(Ji,{size:18}),error:r.jsx(Mo,{size:18}),warning:r.jsx(Mo,{size:18}),info:r.jsx(Kj,{size:18})},qg=({id:e,type:t,message:n,visible:s,hiding:i,onClose:l})=>{const d=u=>{u.stopPropagation(),l(e)};return r.jsxs("div",{className:`toast toast-${t} ${i?"toast-hiding":s?"toast-visible":""}`,role:"alert","aria-live":"polite",children:[r.jsx("div",{className:"toast-icon",children:_E[t]}),r.jsx("div",{className:"toast-message",children:n}),r.jsx("button",{className:"toast-close",onClick:d,title:"Close","aria-label":"Close notification",children:r.jsx(Gt,{size:14})})]})},Kg=m.createContext(void 0),TE=({children:e,maxToasts:t=5,defaultDuration:n=5e3,position:s="top-right"})=>{const[i,l]=m.useState([]),d=m.useRef(new Map),u=m.useCallback(y=>{const b=d.current.get(y);b&&(clearTimeout(b),d.current.delete(y)),l(k=>k.map(N=>N.id===y?{...N,hiding:!0}:N)),setTimeout(()=>{l(k=>k.filter(N=>N.id!==y))},300)},[]),p=m.useCallback((y,b="info",k)=>{const N=Ln(),S=k??n,_={id:N,type:b,message:y,duration:S,visible:!1,hiding:!1};if(l(E=>{const w=[...E,_];if(w.length>t){const T=w[0];return u(T.id),w.slice(1)}return w}),setTimeout(()=>{l(E=>E.map(w=>w.id===N?{...w,visible:!0}:w))},10),S>0){const E=setTimeout(()=>{u(N)},S);d.current.set(N,E)}},[n,t,u]),h=m.useCallback(()=>{d.current.forEach(y=>clearTimeout(y)),d.current.clear(),l(y=>y.map(b=>({...b,hiding:!0}))),setTimeout(()=>{l([])},300)},[]),g={toasts:i,addToast:p,removeToast:u,clearAllToasts:h},v={"top-right":"toast-container-top-right","top-left":"toast-container-top-left","bottom-right":"toast-container-bottom-right","bottom-left":"toast-container-bottom-left","top-center":"toast-container-top-center","bottom-center":"toast-container-bottom-center"};return r.jsxs(Kg.Provider,{value:g,children:[e,r.jsx("div",{className:`toast-container ${v[s]}`,children:i.map(y=>r.jsx(qg,{id:y.id,type:y.type,message:y.message,visible:y.visible||!1,hiding:y.hiding,onClose:u},y.id))})]})},Xg=()=>{const e=m.useContext(Kg);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Dl=({isOpen:e,onClose:t,title:n,className:s="",position:i="right",size:l="md",children:d})=>{const u=m.useRef(null);if(m.useEffect(()=>{const g=y=>{y.key==="Escape"&&e&&t()},v=y=>{u.current&&!u.current.contains(y.target)&&t()};return e&&(document.addEventListener("keydown",g),document.addEventListener("mousedown",v),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",g),document.removeEventListener("mousedown",v),document.body.style.overflow=""}},[e,t]),!e)return null;const p={sm:"panel-sm",md:"panel-md",lg:"panel-lg",xl:"panel-xl",full:"panel-full"},h={left:"panel-left",right:"panel-right",center:"panel-center"};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"panel-overlay","aria-hidden":"true"}),r.jsxs("div",{ref:u,className:`panel ${p[l]} ${h[i]} ${s}`,role:"dialog","aria-modal":"true","aria-labelledby":n?"panel-title":void 0,children:[n&&r.jsxs("div",{className:"panel-header",children:[r.jsx("h3",{id:"panel-title",children:n}),r.jsx("button",{onClick:t,className:"panel-close","aria-label":"Close panel",children:r.jsx(Gt,{size:16})})]}),r.jsx("div",{className:"panel-body",children:d})]})]})},zE=[{type:"embed",label:"Embed Code",icon:r.jsx(Zt,{size:20})},{type:"popup",label:"Popup",icon:r.jsx(tl,{size:20})},{type:"inline",label:"Inline",icon:r.jsx(ou,{size:20})}],RE=({isOpen:e,onClose:t,formUrl:n="https://forms.example.com/contact-form",onInviteCollaborator:s,collaborators:i=[],embedOptions:l=zE,...d})=>{const[u,p]=m.useState("link"),{addToast:h}=Xg(),g=async b=>{try{await navigator.clipboard.writeText(b),h("Copied to clipboard!","success")}catch{h("Failed to copy","error")}},v=b=>{h("Collaborator removed","success")},y=b=>{h(`${b} embed code copied`,"success")};return r.jsx(Dl,{isOpen:e,onClose:t,title:"Share & Collaborate",size:"md",...d,children:r.jsxs("div",{className:"share-content",children:[r.jsxs("div",{className:"share-tabs",children:[r.jsxs("button",{className:`share-tab ${u==="link"?"share-tab-active":""}`,onClick:()=>p("link"),children:[r.jsx(dl,{size:16}),"Public Link"]}),r.jsxs("button",{className:`share-tab ${u==="collaborate"?"share-tab-active":""}`,onClick:()=>p("collaborate"),children:[r.jsx(lu,{size:16}),"Collaborate"]}),r.jsxs("button",{className:`share-tab ${u==="embed"?"share-tab-active":""}`,onClick:()=>p("embed"),children:[r.jsx(Zt,{size:16}),"Embed"]})]}),u==="link"&&r.jsxs("div",{className:"share-section",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Share this link to allow anyone to fill out your form"}),r.jsxs("div",{className:"share-link-input",children:[r.jsx("input",{type:"text",value:n,readOnly:!0,className:"form-input"}),r.jsxs("button",{className:"btn btn-sm",onClick:()=>g(n),children:[r.jsx(Ra,{size:16}),"Copy"]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox"}),r.jsx("span",{className:"text-sm",children:"Make form public"})]})})]}),u==="collaborate"&&r.jsxs("div",{className:"share-section",children:[r.jsx("div",{className:"collaborator-list",children:i.map(b=>r.jsxs("div",{className:"collaborator-item",children:[r.jsx("div",{className:"collaborator-avatar",children:b.avatar?r.jsx("img",{src:b.avatar,alt:b.name}):b.initials||b.name.substring(0,2).toUpperCase()}),r.jsxs("div",{className:"collaborator-info",children:[r.jsx("span",{className:"collaborator-name",children:b.name}),r.jsx("span",{className:"collaborator-role",children:b.role})]}),b.role!=="owner"&&r.jsx("button",{className:"btn btn-sm",onClick:()=>v(b.id),children:"Remove"})]},b.id))}),s&&r.jsxs("button",{className:"btn btn-outline w-full mt-4",onClick:s,children:[r.jsx(xs,{size:16}),"Invite Collaborator"]})]}),u==="embed"&&r.jsxs("div",{className:"share-section",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to embed this form on your website"}),r.jsx("div",{className:"embed-options",children:l.map(b=>r.jsxs("button",{className:"embed-option",onClick:()=>y(b.type),children:[b.icon,r.jsx("span",{children:b.label})]},b.type))}),r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Embed Settings"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),r.jsx("span",{className:"text-sm",children:"Show form title"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),r.jsx("span",{className:"text-sm",children:"Show form description"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"form-checkbox"}),r.jsx("span",{className:"text-sm",children:"Auto-resize height"})]})]})]})]})]})})},DE=[{type:"html",label:"HTML Export",icon:r.jsx(ol,{size:24}),description:"Export as standalone HTML file with embedded styles"},{type:"json",label:"JSON Export",icon:r.jsx(Qi,{size:24}),description:"Export form structure as JSON data"},{type:"react",label:"React Component",icon:r.jsx(Zt,{size:24}),description:"Export as a React component with TypeScript"},{type:"pdf",label:"PDF Export",icon:r.jsx(no,{size:24}),description:"Export form as a printable PDF document"}],$E=({isOpen:e,onClose:t,onExport:n,exportOptions:s=DE,...i})=>{const l=d=>{n(d),setTimeout(()=>t(),500)};return r.jsx(Dl,{isOpen:e,onClose:t,title:"Export Form",size:"md",...i,children:r.jsxs("div",{className:"export-content",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Choose a format to export your form. Each format is optimized for different use cases."}),r.jsx("div",{className:"export-options",children:s.map(d=>r.jsxs("button",{className:"export-option",onClick:()=>l(d.type),children:[r.jsx("div",{className:"export-option-icon",children:d.icon}),r.jsxs("div",{className:"export-option-content",children:[r.jsx("span",{className:"export-option-label",children:d.label}),d.description&&r.jsx("span",{className:"export-option-description",children:d.description})]}),r.jsx(el,{size:16,className:"export-option-action"})]},d.type))}),r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Pro Tip"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Use JSON export to backup your form structure or migrate it to another system. HTML export is perfect for embedding in static websites."})]})]})})},PE={totalViews:1234,submissions:456,conversionRate:37,averageTime:"2.5min"},ME=({isOpen:e,onClose:t,analytics:n=PE,...s})=>{const[i,l]=m.useState("week"),[d,u]=m.useState("line");return r.jsx(Dl,{isOpen:e,onClose:t,title:"Form Analytics",size:"lg",...s,children:r.jsxs("div",{className:"analytics-content",children:[r.jsxs("div",{className:"analytics-header",children:[r.jsxs("div",{className:"analytics-date-range",children:[r.jsx(Ki,{size:16}),r.jsxs("select",{value:i,onChange:p=>l(p.target.value),className:"form-select",children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"Last 7 days"}),r.jsx("option",{value:"month",children:"Last 30 days"}),r.jsx("option",{value:"year",children:"Last year"}),r.jsx("option",{value:"all",children:"All time"})]})]}),r.jsxs("div",{className:"analytics-actions",children:[r.jsxs("button",{className:"btn btn-sm btn-outline",children:[r.jsx(wh,{size:14}),"Filter"]}),r.jsxs("button",{className:"btn btn-sm btn-outline",children:[r.jsx(el,{size:14}),"Export"]})]})]}),r.jsxs("div",{className:"analytics-stats",children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-blue",children:r.jsx(lu,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("div",{className:"stat-number",children:n.totalViews.toLocaleString()}),r.jsx("div",{className:"stat-label",children:"Total Views"}),r.jsxs("div",{className:"stat-change stat-change-positive",children:[r.jsx(ml,{size:12}),"+12% from last period"]})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-green",children:r.jsx(Xi,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("div",{className:"stat-number",children:n.submissions.toLocaleString()}),r.jsx("div",{className:"stat-label",children:"Submissions"}),r.jsxs("div",{className:"stat-change stat-change-positive",children:[r.jsx(ml,{size:12}),"+8% from last period"]})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-purple",children:r.jsx(ml,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsxs("div",{className:"stat-number",children:[n.conversionRate,"%"]}),r.jsx("div",{className:"stat-label",children:"Conversion Rate"}),r.jsxs("div",{className:"stat-change stat-change-negative",children:[r.jsx(ml,{size:12,className:"rotate-180"}),"-2% from last period"]})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-icon stat-icon-orange",children:r.jsx(er,{size:20})}),r.jsxs("div",{className:"stat-content",children:[r.jsx("div",{className:"stat-number",children:n.averageTime}),r.jsx("div",{className:"stat-label",children:"Avg. Time"}),r.jsx("div",{className:"stat-change stat-change-neutral",children:"No change"})]})]})]}),r.jsxs("div",{className:"analytics-chart-section",children:[r.jsxs("div",{className:"analytics-chart-header",children:[r.jsx("h4",{children:"Submissions Over Time"}),r.jsxs("div",{className:"chart-type-selector",children:[r.jsx("button",{className:`chart-type-btn ${d==="line"?"active":""}`,onClick:()=>u("line"),children:"Line"}),r.jsx("button",{className:`chart-type-btn ${d==="bar"?"active":""}`,onClick:()=>u("bar"),children:"Bar"})]})]}),r.jsx("div",{className:"analytics-chart",children:r.jsxs("div",{className:"chart-placeholder",children:[r.jsx(Xi,{size:48,className:"text-gray-400"}),r.jsx("p",{children:"Chart visualization would go here"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Integrate with your preferred charting library (Chart.js, Recharts, etc.)"})]})})]}),r.jsxs("div",{className:"analytics-insights",children:[r.jsx("h4",{className:"mb-3",children:"Key Insights"}),r.jsxs("div",{className:"insight-list",children:[r.jsxs("div",{className:"insight-item",children:[r.jsx("div",{className:"insight-icon",children:""}),r.jsxs("div",{className:"insight-content",children:[r.jsx("p",{className:"insight-title",children:"Peak submission time"}),r.jsx("p",{className:"insight-value",children:"Weekdays between 2-4 PM"})]})]}),r.jsxs("div",{className:"insight-item",children:[r.jsx("div",{className:"insight-icon",children:""}),r.jsxs("div",{className:"insight-content",children:[r.jsx("p",{className:"insight-title",children:"Completion rate"}),r.jsx("p",{className:"insight-value",children:"82% of users who start complete the form"})]})]}),r.jsxs("div",{className:"insight-item",children:[r.jsx("div",{className:"insight-icon",children:""}),r.jsxs("div",{className:"insight-content",children:[r.jsx("p",{className:"insight-title",children:"Device breakdown"}),r.jsx("p",{className:"insight-value",children:"65% Desktop, 30% Mobile, 5% Tablet"})]})]})]})]})]})})},IE=[{id:"1",name:"Current Version",timestamp:Date.now(),isCurrent:!0,author:"John Doe",changes:"Added new fields and validation rules"},{id:"2",name:"Added validation rules",timestamp:Date.now()-36e5,author:"Jane Smith",changes:"Implemented email validation and required fields"},{id:"3",name:"Initial version",timestamp:Date.now()-72e5,author:"John Doe",changes:"Created form with basic fields"}],LE=({isOpen:e,onClose:t,versions:n=IE,onRestore:s,...i})=>{const[l,d]=m.useState(null),[u,p]=m.useState(!1),{addToast:h}=Xg(),g=y=>{const b=n.find(k=>k.id===y);b&&!b.isCurrent&&(s(y),h(`Restored to version: ${b.name}`,"success"),setTimeout(()=>t(),1e3))},v=y=>{const b=new Date(y),N=new Date().getTime()-b.getTime();return N<36e5?`${Math.floor(N/6e4)} minutes ago`:N<864e5?`${Math.floor(N/36e5)} hours ago`:b.toLocaleDateString()+" at "+b.toLocaleTimeString()};return r.jsx(Dl,{isOpen:e,onClose:t,title:"Version History",size:"md",...i,children:r.jsxs("div",{className:"version-history-content",children:[r.jsxs("div",{className:"version-history-header",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Track changes and restore previous versions of your form"}),r.jsxs("label",{className:"flex items-center gap-2 mt-2",children:[r.jsx("input",{type:"checkbox",checked:u,onChange:y=>p(y.target.checked),className:"form-checkbox"}),r.jsx("span",{className:"text-sm",children:"Show version comparison"})]})]}),r.jsx("div",{className:"version-list",children:n.map(y=>r.jsxs("div",{className:`version-item ${y.isCurrent?"version-item-current":""} 
                         ${l===y.id?"version-item-selected":""}`,onClick:()=>d(y.id),children:[r.jsxs("div",{className:"version-item-header",children:[r.jsxs("div",{className:"version-info",children:[r.jsxs("h4",{className:"version-name",children:[y.name,y.isCurrent&&r.jsx("span",{className:"version-badge",children:"Current"})]}),r.jsxs("div",{className:"version-meta",children:[r.jsx(er,{size:12}),r.jsx("span",{children:v(y.timestamp)}),y.author&&r.jsxs(r.Fragment,{children:[r.jsx(Ma,{size:12}),r.jsx("span",{children:y.author})]})]})]}),r.jsx(to,{size:16,className:`version-chevron ${l===y.id?"rotate-90":""}`})]}),l===y.id&&r.jsxs("div",{className:"version-details",children:[y.changes&&r.jsxs("div",{className:"version-changes",children:[r.jsx(no,{size:14}),r.jsx("p",{children:y.changes})]}),!y.isCurrent&&r.jsxs("div",{className:"version-actions",children:[r.jsxs("button",{onClick:b=>{b.stopPropagation(),g(y.id)},className:"btn btn-sm btn-primary",children:[r.jsx(Th,{size:14}),"Restore This Version"]}),u&&r.jsx("button",{className:"btn btn-sm btn-outline",children:"Compare with Current"})]})]})]},y.id))}),r.jsx("div",{className:"version-history-footer",children:r.jsx("p",{className:"text-xs text-gray-500",children:"Version history is automatically saved when you make changes to your form. Older versions may be archived after 30 days."})})]})})},OE=({error:e,errorInfo:t,onReset:n})=>r.jsx("div",{className:"error-boundary",children:r.jsxs("div",{className:"error-content",children:[r.jsx(Mo,{size:48,className:"text-red-500 mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The form builder encountered an error. Please refresh the page to continue."}),!1,r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsxs("button",{onClick:n,className:"btn btn-primary",children:[r.jsx(Lo,{size:16,className:"mr-2"}),"Try Again"]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-outline",children:"Refresh Page"})]})]})});class AE extends m.Component{constructor(n){super(n);us(this,"resetTimeoutId",null);us(this,"previousResetKeys",[]);us(this,"resetErrorBoundary",()=>{this.resetTimeoutId&&clearTimeout(this.resetTimeoutId),this.resetTimeoutId=window.setTimeout(()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},0)});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){const{onError:i}=this.props;console.error("ErrorBoundary caught an error:",n,s),i&&i(n,s),this.setState({errorInfo:s})}componentDidUpdate(n){const{resetKeys:s=[],resetOnPropsChange:i}=this.props;(s.some((d,u)=>d!==this.previousResetKeys[u])||i&&n.children!==this.props.children)&&(this.resetErrorBoundary(),this.previousResetKeys=[...s])}componentWillUnmount(){this.resetTimeoutId&&clearTimeout(this.resetTimeoutId)}render(){const{hasError:n,error:s,errorInfo:i}=this.state,{children:l,fallback:d}=this.props;return n&&s&&i?d?d(s,i,this.resetErrorBoundary):r.jsx(OE,{error:s,errorInfo:i,onReset:this.resetErrorBoundary}):l}}const FE=[{id:"edit",label:"Edit Properties",icon:r.jsx(su,{size:16}),shortcut:"E",action:"edit"},{id:"duplicate",label:"Duplicate",icon:r.jsx(Ra,{size:16}),shortcut:"D",action:"duplicate"},{id:"copy",label:"Copy",icon:r.jsx(Ra,{size:16}),shortcut:"C",action:"copy"},{id:"cut",label:"Cut",icon:r.jsx(zh,{size:16}),shortcut:"X",action:"cut"},{id:"divider1",divider:!0},{id:"move-up",label:"Move Up",icon:r.jsx(Uj,{size:16}),action:"move-up"},{id:"move-down",label:"Move Down",icon:r.jsx(Bj,{size:16}),action:"move-down"},{id:"divider2",divider:!0},{id:"delete",label:"Delete",icon:r.jsx(On,{size:16}),shortcut:"",action:"delete",danger:!0}],WE=({x:e,y:t,onClose:n,onAction:s,items:i=FE})=>{const l=m.useRef(null),[d,u]=m.useState({x:e,y:t}),[p,h]=m.useState(null);m.useEffect(()=>{const y=N=>{l.current&&!l.current.contains(N.target)&&n()},b=N=>{N.key==="Escape"&&n()},k=()=>n();if(l.current){const N=l.current.getBoundingClientRect(),S={...d};N.right>window.innerWidth&&(S.x=window.innerWidth-N.width-10),N.bottom>window.innerHeight&&(S.y=window.innerHeight-N.height-10),(S.x!==d.x||S.y!==d.y)&&u(S)}return document.addEventListener("click",y),document.addEventListener("keydown",b),document.addEventListener("scroll",k,!0),()=>{document.removeEventListener("click",y),document.removeEventListener("keydown",b),document.removeEventListener("scroll",k,!0)}},[n,d,e,t]);const g=y=>{y.disabled||y.divider||(y.children?h(y.id===p?null:y.id):y.action&&(s(y.action),n()))},v=y=>{if(y.divider)return r.jsx("div",{className:"context-menu-divider"},y.id);const b=y.children&&y.children.length>0;return r.jsxs("div",{className:`context-menu-item ${y.danger?"context-menu-item-danger":""} 
                   ${y.disabled?"context-menu-item-disabled":""}`,onClick:()=>g(y),onMouseEnter:()=>b&&h(y.id),children:[y.icon&&r.jsx("span",{className:"context-menu-icon",children:y.icon}),r.jsx("span",{className:"context-menu-label",children:y.label}),y.shortcut&&r.jsx("span",{className:"context-menu-shortcut",children:y.shortcut}),b&&r.jsx(to,{size:14,className:"context-menu-submenu-icon"}),b&&p===y.id&&r.jsx("div",{className:"context-submenu",children:y.children.map(v)})]},y.id)};return r.jsx("div",{ref:l,className:"context-menu",style:{left:d.x,top:d.y},role:"menu",onClick:y=>y.stopPropagation(),children:i.map(v)})},HE=({isVisible:e,gridSize:t=20,color:n="#E5E7EB",opacity:s=.5})=>e?r.jsx("div",{className:"grid-overlay",style:{opacity:s},children:r.jsxs("svg",{className:"grid-svg",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%","aria-hidden":"true",children:[r.jsxs("defs",{children:[r.jsx("pattern",{id:"grid",width:t,height:t,patternUnits:"userSpaceOnUse",children:r.jsx("path",{d:`M ${t} 0 L 0 0 0 ${t}`,fill:"none",stroke:n,strokeWidth:"1"})}),r.jsxs("pattern",{id:"grid-large",width:t*5,height:t*5,patternUnits:"userSpaceOnUse",children:[r.jsx("rect",{width:t*5,height:t*5,fill:"url(#grid)"}),r.jsx("path",{d:`M ${t*5} 0 L 0 0 0 ${t*5}`,fill:"none",stroke:n,strokeWidth:"2",opacity:"0.5"})]})]}),r.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid-large)"})]})}):null;function BE(){const[e,t]=m.useState(()=>document.getElementById("adminmenuwrap")?.offsetWidth??36),[n,s]=m.useState(()=>document.body.classList.contains("folded"));return m.useEffect(()=>{const i=()=>{s(document.body.classList.contains("folded"));const d=document.getElementById("adminmenuwrap");d&&t(d.offsetWidth)},l=new MutationObserver(i);return l.observe(document.body,{attributes:!0,attributeFilter:["class"]}),i(),()=>l.disconnect()},[]),{width:e,isFolded:n}}const UE=({isCollapsed:e,onToggleCollapse:t,children:n,isMobile:s=!1,minHeight:i=190,maxHeight:l=500,defaultHeight:d=220,onHeightChange:u})=>{const[p,h]=m.useState(d),[g,v]=m.useState(!1),y=m.useRef(null),{width:b}=BE(),k=m.useRef(0),N=m.useRef(0);m.useEffect(()=>{const E=T=>{if(!g)return;const M=k.current-T.clientY,I=window.innerHeight;y.current?.getBoundingClientRect().bottom;const O=I-50,P=Math.min(l,O),B=N.current+M,V=Math.min(P,Math.max(i,B));h(V),u&&u(V)},w=()=>{v(!1),document.body.style.cursor="",document.body.style.userSelect=""};return g&&(document.addEventListener("mousemove",E),document.addEventListener("mouseup",w),document.body.style.cursor="ns-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",w)}},[g,l,i]);const S=E=>{E.preventDefault(),v(!0),k.current=E.clientY,N.current=p},_=e?40:p;return m.useEffect(()=>{!e&&u&&!g&&u(p)},[p,e,u,g]),m.useEffect(()=>{const E=()=>{if(!g&&y.current){const w=window.innerHeight;if(w<200)return;const T=w-50,M=Math.min(l,T);h(I=>{if(I>M){const O=Math.max(i,M);return console.log(`Window resize: limiting height from ${I} to ${O}`),u&&u(O),O}return I})}};return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}},[l,i,u,g]),r.jsxs("div",{ref:y,className:Le("fixed bottom-0 right-0 z-[50]","bg-white border-t border-border","shadow-[0_-4px_16px_-2px_rgb(0,0,0,0.1)]","transition-[height,left] duration-300 ease-out","min-h-4",s&&"!h-auto max-h-[50vh]"),style:{left:b,...s?{}:{height:_}},children:[!e&&!s&&r.jsx("div",{className:Le("h-4 bg-muted border-b border-border cursor-ns-resize","flex items-center justify-center","transition-colors duration-150 ease-out","text-muted-foreground hover:bg-accent"),onMouseDown:S,role:"separator","aria-orientation":"horizontal","aria-label":"Resize tray",children:r.jsx(t2,{size:16})}),r.jsx("button",{className:Le("absolute -top-4 left-1/2 -translate-x-1/2","w-12 h-4","bg-muted border border-border border-b-0","rounded-t-lg","cursor-pointer","flex items-center justify-center","text-muted-foreground","transition-all duration-150 ease-out","z-[1]","hover:bg-accent hover:border-primary hover:text-primary"),onClick:t,"aria-label":e?"Show elements":"Hide elements","aria-expanded":!e,children:e?r.jsx(za,{size:12}):r.jsx(Sn,{size:12})}),!e&&n]})},VE=[{id:"1",name:"Contact Form",status:"published",lastModified:Date.now()-864e5},{id:"2",name:"Registration Form",status:"draft",lastModified:Date.now()-1728e5},{id:"3",name:"Survey Form",status:"published",lastModified:Date.now()-2592e5}],ZE=({currentForm:e,onFormSelect:t,forms:n=VE})=>{const[s,i]=m.useState(!1),[l,d]=m.useState(""),u=m.useRef(null);m.useEffect(()=>{const b=k=>{u.current&&!u.current.contains(k.target)&&i(!1)};return s&&document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[s]);const p=n.find(b=>b.id===e),h=n.filter(b=>b.name.toLowerCase().includes(l.toLowerCase())),g=b=>{switch(b){case"published":return"text-green-600 bg-green-50";case"draft":return"text-gray-600 bg-gray-50";case"archived":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}},v=b=>{switch(b){case"published":return r.jsx(no,{size:12});case"draft":return r.jsx(er,{size:12});case"archived":return r.jsx(Hj,{size:12});default:return null}},y=b=>{if(!b)return"";const N=Date.now()-b;return N<36e5?`${Math.floor(N/6e4)}m ago`:N<864e5?`${Math.floor(N/36e5)}h ago`:`${Math.floor(N/864e5)}d ago`};return r.jsxs("div",{className:"form-selector",ref:u,children:[r.jsxs("button",{onClick:()=>i(!s),className:"form-selector-trigger","aria-haspopup":"listbox","aria-expanded":s,children:[r.jsxs("div",{className:"form-selector-value",children:[r.jsx("span",{className:"form-selector-name",children:p?.name||"Select Form"}),p&&r.jsxs("span",{className:`form-selector-status ${g(p.status)}`,children:[v(p.status),p.status]})]}),r.jsx(Sn,{size:16,className:`form-selector-chevron ${s?"rotate-180":""}`})]}),s&&r.jsxs("div",{className:"form-selector-dropdown",role:"listbox",children:[r.jsx("div",{className:"form-selector-search",children:r.jsx("input",{type:"text",placeholder:"Search forms...",value:l,onChange:b=>d(b.target.value),className:"form-selector-search-input",onClick:b=>b.stopPropagation()})}),r.jsxs("div",{className:"form-selector-list",children:[h.map(b=>r.jsx("div",{className:`form-selector-item ${b.id===e?"form-selector-item-active":""}`,onClick:()=>{t(b.id),i(!1),d("")},role:"option","aria-selected":b.id===e,children:r.jsxs("div",{className:"form-selector-item-content",children:[r.jsx("span",{className:"form-selector-item-name",children:b.name}),r.jsxs("div",{className:"form-selector-item-meta",children:[r.jsxs("span",{className:`form-selector-item-status ${g(b.status)}`,children:[v(b.status),b.status]}),b.lastModified&&r.jsx("span",{className:"form-selector-item-time",children:y(b.lastModified)})]})]})},b.id)),r.jsxs("div",{className:"form-selector-item form-selector-item-create",children:[r.jsx(xs,{size:16}),r.jsx("span",{children:"Create New Form"})]})]})]})]})},GE=[.5,.75,1,1.25,1.5,2],YE=({currentZoom:e,zoomLevels:t=GE,onZoomChange:n,onFitToScreen:s})=>{const i=()=>{const g=t.indexOf(e);g<t.length-1&&n(t[g+1])},l=()=>{const g=t.indexOf(e);g>0&&n(t[g-1])},d=()=>{n(1)},u=Math.round((e||1)*100),p=e<t[t.length-1],h=e>t[0];return r.jsxs("div",{className:"zoom-controls",role:"group","aria-label":"Zoom controls",children:[r.jsx("button",{onClick:l,disabled:!h,className:"zoom-btn","aria-label":"Zoom out",title:`Zoom out (${t[Math.max(0,t.indexOf(e)-1)]*100}%)`,children:r.jsx(S2,{size:16})}),r.jsxs("button",{onClick:d,className:"zoom-value","aria-label":`Current zoom ${u}%, click to reset to 100%`,title:"Reset zoom to 100%",children:[u,"%"]}),r.jsx("button",{onClick:i,disabled:!p,className:"zoom-btn","aria-label":"Zoom in",title:`Zoom in (${t[Math.min(t.length-1,t.indexOf(e)+1)]*100}%)`,children:r.jsx(k2,{size:16})}),s&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"zoom-divider"}),r.jsx("button",{onClick:s,className:"zoom-btn","aria-label":"Fit to screen",title:"Fit form to screen",children:r.jsx(nu,{size:16})})]})]})},br=({value:e,onChange:t,className:n="",placeholder:s="Click to edit",multiline:i=!1,onFormat:l,maxLength:d,disabled:u=!1})=>{const[p,h]=m.useState(!1),[g,v]=m.useState(e),[y,b]=m.useState(!1),[k,N]=m.useState({x:0,y:0}),[S,_]=m.useState(""),E=m.useRef(null);m.useRef(null),m.useEffect(()=>{v(e)},[e]);const w=()=>{!u&&!p&&(h(!0),v(e),setTimeout(()=>{E.current?.focus(),E.current?.select()},0))},T=()=>{h(!1),g!==e&&t(g),b(!1)},M=O=>{O.key==="Enter"&&!i&&(O.preventDefault(),T()),O.key==="Escape"&&(v(e),h(!1),b(!1))},I=O=>{const P=O.target.value;(!d||P.length<=d)&&v(P)};return r.jsxs("div",{className:`inline-editable-text ${n} ${u?"inline-editable-disabled":""} ${p?"inline-editable-editing":""}`,style:{position:"relative"},onClick:w,title:u?"":"Click to edit",children:[r.jsx("span",{className:`inline-editable-value ${p?"inline-editable-value-editing":""}`,children:e||r.jsx("span",{className:"inline-editable-placeholder",children:s})}),!u&&!p&&r.jsx(su,{size:12,className:"inline-edit-icon"}),p&&(i?r.jsx("textarea",{ref:E,value:g,onChange:I,onBlur:T,onKeyDown:M,className:"inline-editable-overlay-input",maxLength:d,rows:3,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent",border:"none",outline:"none",boxShadow:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",padding:"inherit",margin:"0",textAlign:"inherit",zIndex:10,resize:"none"},autoFocus:!0}):r.jsx("input",{ref:E,type:"text",value:g,onChange:I,onBlur:T,onKeyDown:M,className:"inline-editable-overlay-input",maxLength:d,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent",border:"none",outline:"none",boxShadow:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",padding:"inherit",margin:"0",textAlign:"inherit",zIndex:10},autoFocus:!0}))]})},qE={Monitor:$a,Tablet:iu,Smartphone:Pa,Maximize:nu,RotateCcw:Th,RefreshCw:Lo,Grid:e2,Layers:Da,History:r2,Share:x2,Download:el,BarChart:Xi,Eye:Io,Save:Oo,Send:vs};function Jg(e){return e&&qE[e]||null}function Cu(e,t){const n="flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-md transition-colors";switch(e){case"ghost":return Le(n,"text-muted-foreground hover:text-foreground hover:bg-muted");case"secondary":return Le(n,"bg-secondary text-secondary-foreground hover:bg-secondary/80");case"save":return Le(n,"bg-primary text-primary-foreground hover:bg-primary/90");case"publish":return Le(n,"bg-green-600 text-white hover:bg-green-700");default:return Le(n,"text-muted-foreground hover:text-foreground hover:bg-muted")}}function KE(e){const{currentFormId:t,onFormSelect:n,formTitle:s,onFormTitleChange:i,devicePreview:l,onDeviceChange:d,showDeviceFrame:u,onToggleDeviceFrame:p,canUndo:h,canRedo:g,onUndo:v,onRedo:y,showGrid:b,onToggleGrid:k,zoom:N,onZoomChange:S,showElementsPanel:_,onToggleElementsPanel:E,onShowVersionHistory:w,onShowSharePanel:T,onShowExportPanel:M,onShowAnalytics:I,onPreview:O,onSave:P,onPublish:B,isSaving:V=!1,isMobile:oe=!1}=e;return r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-background border-b border-border",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(ZE,{currentForm:t,onFormSelect:n}),r.jsx(br,{value:s,onChange:i,className:"text-sm font-medium",placeholder:"Untitled Form"}),r.jsx(XE,{value:l,onChange:d,showFrame:u,onToggleFrame:p})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-border",children:[r.jsx(Cs,{icon:"RotateCcw",tooltip:"Undo (Ctrl+Z)",onClick:v,disabled:!h}),r.jsx(Cs,{icon:"RefreshCw",tooltip:"Redo (Ctrl+Shift+Z)",onClick:y,disabled:!g})]}),r.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-border",children:[r.jsx(Qg,{icon:"Grid",tooltip:"Toggle Grid",isActive:b,onClick:k}),r.jsx(YE,{currentZoom:N,onZoomChange:S})]}),r.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-border",children:[r.jsx(Qg,{icon:"Layers",tooltip:"Elements Panel",isActive:_,onClick:E}),r.jsx(Cs,{icon:"History",tooltip:"Version History",onClick:w}),r.jsx(Cs,{icon:"Share",tooltip:"Share & Collaborate",onClick:T}),r.jsx(Cs,{icon:"Download",tooltip:"Export Form",onClick:M}),r.jsx(Cs,{icon:"BarChart",tooltip:"Analytics",onClick:I})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:Cu("secondary"),onClick:O,title:"Preview Form",children:[r.jsx(Io,{className:"w-4 h-4"}),!oe&&r.jsx("span",{children:"Preview"})]}),r.jsxs("button",{className:Cu("save"),onClick:P,title:"Save Form",children:[V?r.jsx(Lo,{className:"w-4 h-4 animate-spin"}):r.jsx(Oo,{className:"w-4 h-4"}),!oe&&r.jsx("span",{children:"Save"})]}),r.jsxs("button",{className:Cu("publish"),onClick:B,title:"Publish Form",children:[r.jsx(vs,{className:"w-4 h-4"}),!oe&&r.jsx("span",{children:"Publish"})]})]})]})]})}function Cs({icon:e,tooltip:t,onClick:n,disabled:s}){const i=Jg(e);return r.jsx("button",{className:Le("flex items-center justify-center w-8 h-8 rounded-md transition-colors",s?"text-muted-foreground/50 cursor-not-allowed":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:n,disabled:s,title:t,children:i&&r.jsx(i,{className:"w-4 h-4"})})}function Qg({icon:e,tooltip:t,isActive:n,onClick:s}){const i=Jg(e);return r.jsx("button",{className:Le("flex items-center justify-center w-8 h-8 rounded-md transition-colors",n?"bg-muted text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:s,title:t,"aria-pressed":n,children:i&&r.jsx(i,{className:"w-4 h-4"})})}function XE({value:e,onChange:t,showFrame:n,onToggleFrame:s}){const[i,l]=m.useState(!1),d=m.useRef(null);m.useEffect(()=>{function g(v){d.current&&!d.current.contains(v.target)&&l(!1)}return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const u=[{value:"desktop",label:"Desktop",icon:$a},{value:"tablet",label:"Tablet",icon:iu},{value:"mobile",label:"Mobile",icon:Pa}],p=u.find(g=>g.value===e)||u[0],h=p.icon;return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs("button",{className:Le("flex items-center gap-2 px-3 py-2 text-sm rounded-md transition-colors","text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:()=>l(!i),"aria-haspopup":"listbox","aria-expanded":i,children:[r.jsx(h,{className:"w-4 h-4"}),r.jsx("span",{children:p.label}),r.jsx(Sn,{className:Le("w-3 h-3 transition-transform",i&&"rotate-180")})]}),i&&r.jsx("div",{className:"absolute top-full left-0 mt-1 py-1 bg-popover border border-border rounded-md shadow-md z-50 min-w-[140px]",role:"listbox",children:u.map(g=>{const v=g.icon;return r.jsxs("button",{className:Le("flex items-center gap-2 w-full px-3 py-2 text-sm transition-colors",e===g.value?"bg-muted text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:()=>{t(g.value),l(!1)},role:"option","aria-selected":e===g.value,children:[r.jsx(v,{className:"w-4 h-4"}),r.jsx("span",{children:g.label})]},g.value)})})]}),r.jsx("button",{className:Le("flex items-center justify-center w-8 h-8 rounded-md transition-colors",n?"bg-muted text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),onClick:s,title:"Toggle Device Frame","aria-pressed":n,children:r.jsx(nu,{className:"w-4 h-4"})})]})}const JE=m.lazy(()=>Xn(()=>Promise.resolve().then(()=>HR),void 0)),QE=m.lazy(()=>Xn(()=>Promise.resolve().then(()=>OR),void 0).then(e=>({default:e.AutomationsTab}))),e_=m.lazy(()=>Xn(()=>Promise.resolve().then(()=>YR),void 0).then(e=>({default:e.ThemesTab}))),$l=[{id:"all",name:"All",elements:[]},{id:"basic",name:"Basic",elements:[{type:"text",label:"Text Input",icon:bs,keywords:["text","input","field","single","line"]},{type:"email",label:"Email",icon:Lr,keywords:["email","mail","address","contact"]},{type:"textarea",label:"Text Area",icon:no,keywords:["textarea","multiline","paragraph","long","text"]},{type:"number",label:"Number",icon:n2,keywords:["number","numeric","integer","decimal"]},{type:"phone",label:"Phone",icon:p2,keywords:["phone","telephone","mobile","contact"]},{type:"url",label:"URL",icon:dl,keywords:["url","link","website","address"]},{type:"password",label:"Password",icon:s2,keywords:["password","secret","secure","hidden"]},{type:"hidden",label:"Hidden Field",icon:Qd,keywords:["hidden","invisible","data","tracking"]}]},{id:"choice",name:"Choice",elements:[{type:"select",label:"Dropdown",icon:Sn,keywords:["dropdown","select","options","choose"]},{type:"multiselect",label:"Multi Select",icon:i2,keywords:["multiselect","multiple","options","choose"]},{type:"checkbox",label:"Checkbox",icon:$h,keywords:["checkbox","check","multiple","toggle"]},{type:"radio",label:"Radio Group",icon:_h,keywords:["radio","single","choice","option"]},{type:"checkbox-cards",label:"Checkbox Cards",icon:Ph,keywords:["checkbox","cards","multiple","visual","panel"]},{type:"radio-cards",label:"Radio Cards",icon:a2,keywords:["radio","cards","single","visual","panel"]},{type:"toggle",label:"Toggle Switch",icon:qj,keywords:["toggle","switch","boolean","yes"]},{type:"rating",label:"Rating Stars",icon:Ih,keywords:["rating","stars","feedback","score"]},{type:"likert",label:"Likert Scale",icon:Xi,keywords:["likert","scale","survey","agreement"]}]},{id:"advanced",name:"Advanced",elements:[{type:"date",label:"Date Picker",icon:Ki,keywords:["date","calendar","picker","day"]},{type:"time",label:"Time Picker",icon:er,keywords:["time","clock","hour","minute"]},{type:"datetime",label:"DateTime",icon:Ki,keywords:["datetime","timestamp","date","time"]},{type:"daterange",label:"Date Range",icon:Ki,keywords:["daterange","period","from","until"]},{type:"slider",label:"Slider Range",icon:v2,keywords:["slider","range","numeric","scale"]},{type:"color",label:"Color Picker",icon:yr,keywords:["color","picker","palette","hex"]},{type:"location",label:"Location Map",icon:l2,keywords:["location","map","address","coordinates"]},{type:"signature",label:"Signature Pad",icon:f2,keywords:["signature","draw","sign","handwriting"]}]},{id:"upload",name:"Upload",elements:[{type:"file",label:"File Upload",icon:Ao,keywords:["file","upload","attachment","document"]},{type:"image",label:"Image Upload",icon:tu,keywords:["image","photo","picture","upload"]},{type:"multi-file",label:"Multiple Files",icon:Ao,keywords:["multiple","files","batch","upload"]},{type:"drag-drop",label:"Drag & Drop",icon:Ao,keywords:["drag","drop","file","zone"]}]},{id:"containers",name:"Containers",elements:[{type:"columns",label:"Columns",icon:Xd,keywords:["columns","layout","grid","split"],allowChildren:!0},{type:"step-wizard",label:"Step Wizard",icon:w2,keywords:["wizard","steps","multi-step","sequential"],allowChildren:!0},{type:"tabs",label:"Tabs",icon:Qj,keywords:["tabs","tabbed","navigation","switch"],allowChildren:!0},{type:"accordion",label:"Accordion",icon:b2,keywords:["accordion","collapsible","expandable","toggle"],allowChildren:!0},{type:"section",label:"Section",icon:xh,keywords:["section","fieldset","group","wrapper"],allowChildren:!0},{type:"repeater",label:"Repeater",icon:Ph,keywords:["repeater","array","dynamic","multiple"],allowChildren:!0},{type:"conditional-group",label:"Conditional Group",icon:Ah,keywords:["conditional","group","logic","show-hide"],allowChildren:!0},{type:"card",label:"Card/Panel",icon:_a,keywords:["card","panel","container","box"],allowChildren:!0}]},{id:"layout",name:"Layout",elements:[{type:"heading",label:"Heading",icon:bs,keywords:["heading","title","header","text"]},{type:"paragraph",label:"Paragraph",icon:no,keywords:["paragraph","text","description","content"]},{type:"divider",label:"Divider",icon:Zt,keywords:["divider","separator","line","break"]},{type:"spacer",label:"Spacer",icon:Zt,keywords:["spacer","gap","margin","padding"]},{type:"page-break",label:"Page Break",icon:zh,keywords:["page","break","split","new"]},{type:"html-block",label:"HTML Block",icon:ol,keywords:["html","code","custom","embed"]}]},{id:"integration",name:"Integration",elements:[{type:"payment",label:"Payment (Stripe)",icon:Jd,keywords:["payment","stripe","money","credit"]},{type:"subscription",label:"Subscription",icon:Jd,keywords:["subscription","recurring","monthly","billing"]},{type:"webhook",label:"API Webhook",icon:hl,keywords:["webhook","api","integration","external"]},{type:"calculation",label:"Calculation",icon:Zj,keywords:["calculation","formula","math","compute"]},{type:"conditional",label:"Conditional Logic",icon:gl,keywords:["conditional","logic","if","rules"]},{type:"captcha",label:"reCAPTCHA",icon:Dh,keywords:["captcha","security","bot","protection"]}]}],ex={mobile:{width:375,height:667,name:"iPhone 8"},tablet:{width:768,height:1024,name:"iPad"},desktop:{width:1200,height:800,name:"Desktop"}},t_=({position:e,onClose:t,settings:n,onUpdate:s,devicePreview:i})=>{const l=m.useRef(null),[d,u]=m.useState("appearance"),[p,h]=m.useState(e),[g,v]=m.useState(!1),[y,b]=m.useState({x:0,y:0}),k=({label:_,values:E,onChange:w})=>{const T=(M,I)=>{w({...E,[M]:I})};return r.jsxs("div",{className:"spacing-editor",children:[r.jsx("label",{className:"property-label",children:_}),r.jsxs("div",{className:"spacing-visual",children:[r.jsx("input",{type:"number",value:E.top,onChange:M=>T("top",parseInt(M.target.value)||0),className:"spacing-input spacing-input-top",placeholder:"0",min:"0",max:"200"}),r.jsxs("div",{className:"spacing-middle",children:[r.jsx("input",{type:"number",value:E.left,onChange:M=>T("left",parseInt(M.target.value)||0),className:"spacing-input spacing-input-left",placeholder:"0",min:"0",max:"200"}),r.jsx("div",{className:"spacing-preview",children:r.jsx("div",{className:"spacing-content",children:"Content"})}),r.jsx("input",{type:"number",value:E.right,onChange:M=>T("right",parseInt(M.target.value)||0),className:"spacing-input spacing-input-right",placeholder:"0",min:"0",max:"200"})]}),r.jsx("input",{type:"number",value:E.bottom,onChange:M=>T("bottom",parseInt(M.target.value)||0),className:"spacing-input spacing-input-bottom",placeholder:"0",min:"0",max:"200"})]})]})},N=_=>{_.target.closest(".panel-header")&&(v(!0),b({x:_.clientX-p.x,y:_.clientY-p.y}))};m.useEffect(()=>{const _=w=>{g&&h({x:Math.max(0,Math.min(w.clientX-y.x,window.innerWidth-400)),y:Math.max(0,Math.min(w.clientY-y.y,window.innerHeight-500))})},E=()=>{v(!1)};return g&&(document.addEventListener("mousemove",_),document.addEventListener("mouseup",E)),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",E)}},[g,y]),m.useEffect(()=>{const _=E=>{l.current&&!l.current.contains(E.target)&&t()};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[t]);const S=n[i]||n;return r.jsxs("div",{ref:l,className:`floating-properties-panel form-wrapper-panel ${g?"dragging":""}`,style:{position:"fixed",left:p.x,top:p.y,zIndex:1e3,cursor:g?"grabbing":"default"},onMouseDown:N,children:[r.jsxs("div",{className:"panel-header",style:{cursor:"grab"},children:[r.jsxs("div",{className:"panel-title-group",children:[r.jsxs("h3",{className:"panel-title",children:[r.jsx(xh,{size:16}),"Form Wrapper Settings"]}),r.jsx("div",{className:"device-indicator",children:r.jsxs("span",{className:`device-badge device-badge-${i}`,children:[i==="desktop"&&r.jsx($a,{size:14}),i==="tablet"&&r.jsx(iu,{size:14}),i==="mobile"&&r.jsx(Pa,{size:14}),i.charAt(0).toUpperCase()+i.slice(1)]})})]}),r.jsx("button",{onClick:t,className:"panel-close-btn",children:r.jsx(Gt,{size:16})})]}),r.jsxs("div",{className:"panel-tabs",children:[r.jsx("button",{className:`panel-tab ${d==="appearance"?"panel-tab-active":""}`,onClick:()=>u("appearance"),children:"Appearance"}),r.jsx("button",{className:`panel-tab ${d==="spacing"?"panel-tab-active":""}`,onClick:()=>u("spacing"),children:"Spacing"})]}),r.jsxs("div",{className:"panel-content",children:[d==="appearance"&&r.jsxs("div",{className:"panel-section",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Type"}),r.jsxs("select",{value:n.backgroundType,onChange:_=>s("backgroundType",_.target.value),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{value:"none",children:"None"}),r.jsx("option",{value:"color",children:"Solid Color"}),r.jsx("option",{value:"image",children:"Background Image"})]})]}),n.backgroundType==="color"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Color"}),r.jsx("input",{type:"color",value:n.backgroundColor,onChange:_=>s("backgroundColor",_.target.value),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Opacity"}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n.backgroundOpacity,onChange:_=>s("backgroundOpacity",parseFloat(_.target.value)),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(n.backgroundOpacity*100),"%"]})]})]}),n.backgroundType==="image"&&r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Image URL"}),r.jsx("input",{type:"url",value:n.backgroundImage,onChange:_=>s("backgroundImage",_.target.value),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",placeholder:"https://example.com/image.jpg"})]})]}),d==="spacing"&&r.jsxs("div",{className:"panel-section",children:[r.jsx(k,{label:"Padding",values:S.padding||{top:0,right:0,bottom:0,left:0},onChange:_=>s(`${i}.padding`,_)}),r.jsx(k,{label:"Margin",values:S.margin||{top:0,right:0,bottom:0,left:0},onChange:_=>s(`${i}.margin`,_)})]})]})]})},n_=()=>{const[e,t]=m.useState(""),[n,s]=m.useState("all"),[i,l]=m.useState("all");return r.jsx("div",{className:"flex-1 flex flex-col overflow-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold",children:"Form Entries"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"247 total"}),r.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded-md",children:[r.jsx(el,{size:14}),"Export"]})]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ys,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search entries...",value:e,onChange:d=>t(d.target.value),className:"w-full pl-10 pr-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:n,onChange:d=>s(d.target.value),className:"flex-1 px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"read",children:"Read"}),r.jsx("option",{value:"flagged",children:"Flagged"})]}),r.jsxs("select",{value:i,onChange:d=>l(d.target.value),className:"flex-1 px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"})]})]})]}),r.jsx("div",{className:"space-y-2",children:[1,2,3,4,5,6,7,8].map(d=>r.jsxs("div",{className:"entry-item",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("span",{className:"font-medium",children:["Entry #",247-d]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`entry-status ${d<=2?"entry-status-new":d===3?"entry-status-flagged":"entry-status-read"}`,children:d<=2?"New":d===3?"Flagged":"Read"}),r.jsx("button",{className:"flex items-center justify-center w-6 h-6 text-muted-foreground hover:text-foreground hover:bg-muted rounded",children:r.jsx(Io,{size:12})})]})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:d===1?"john.doe@example.com":d===2?"jane.smith@example.com":`user${d}@example.com`}),r.jsx("p",{className:"text-xs text-gray-400",children:d<=2?`${d*15} minutes ago`:d===3?"2 hours ago":`${d} days ago`})]},d))}),r.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Showing 1-8 of 247"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{className:"px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded",children:"Previous"}),r.jsx("button",{className:"px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded",children:"Next"})]})]})]})})},Eu=()=>r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Lo,{className:"w-8 h-8 mx-auto text-muted-foreground/50 animate-spin mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})}),r_=()=>{const[e,t]=m.useState("theme");return r.jsx("div",{className:"flex-1 flex flex-col overflow-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Form Styling"}),r.jsxs("div",{className:"style-tabs mb-4",children:[r.jsx("button",{className:`style-tab ${e==="theme"?"style-tab-active":""}`,onClick:()=>t("theme"),children:"Theme"}),r.jsx("button",{className:`style-tab ${e==="colors"?"style-tab-active":""}`,onClick:()=>t("colors"),children:"Colors"}),r.jsx("button",{className:`style-tab ${e==="fonts"?"style-tab-active":""}`,onClick:()=>t("fonts"),children:"Fonts"}),r.jsx("button",{className:`style-tab ${e==="layout"?"style-tab-active":""}`,onClick:()=>t("layout"),children:"Layout"}),r.jsx("button",{className:`style-tab ${e==="custom"?"style-tab-active":""}`,onClick:()=>t("custom"),children:"Custom CSS"})]}),e==="theme"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"theme-selector",children:[r.jsx("label",{className:"property-label",children:"Choose Theme"}),r.jsx("div",{className:"theme-grid",children:["default","minimal","modern","classic"].map(n=>r.jsxs("div",{className:"theme-option",children:[r.jsxs("div",{className:`theme-preview theme-preview-${n}`,children:[r.jsx("div",{className:"theme-preview-header"}),r.jsx("div",{className:"theme-preview-field"}),r.jsx("div",{className:"theme-preview-field"}),r.jsx("div",{className:"theme-preview-button"})]}),r.jsx("span",{className:"theme-name",children:n})]},n))})]})}),e==="colors"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Primary Color"}),r.jsx("input",{type:"color",defaultValue:"#3b82f6",className:"w-full h-10 px-1 py-1 border border-border rounded-md cursor-pointer"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Secondary Color"}),r.jsx("input",{type:"color",defaultValue:"#6b7280",className:"w-full h-10 px-1 py-1 border border-border rounded-md cursor-pointer"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Color"}),r.jsx("input",{type:"color",defaultValue:"#ffffff",className:"w-full h-10 px-1 py-1 border border-border rounded-md cursor-pointer"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Text Color"}),r.jsx("input",{type:"color",defaultValue:"#1f2937",className:"w-full h-10 px-1 py-1 border border-border rounded-md cursor-pointer"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Border Color"}),r.jsx("input",{type:"color",defaultValue:"#d1d5db",className:"w-full h-10 px-1 py-1 border border-border rounded-md cursor-pointer"})]})]}),e==="fonts"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Font Family"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{children:"Inter"}),r.jsx("option",{children:"Roboto"}),r.jsx("option",{children:"Open Sans"}),r.jsx("option",{children:"Lato"}),r.jsx("option",{children:"Montserrat"}),r.jsx("option",{children:"Custom Font"})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Font Size"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{children:"Small (14px)"}),r.jsx("option",{children:"Medium (16px)"}),r.jsx("option",{children:"Large (18px)"}),r.jsx("option",{children:"Extra Large (20px)"})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Line Height"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{children:"Compact (1.4)"}),r.jsx("option",{children:"Normal (1.5)"}),r.jsx("option",{children:"Comfortable (1.6)"}),r.jsx("option",{children:"Spacious (1.8)"})]})]})]}),e==="custom"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Custom CSS"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background font-mono",rows:8,placeholder:`.form-container {
  max-width: 600px;
  margin: 0 auto;
}

.form-input {
  border-radius: 8px;
  border: 2px solid #e5e7eb;
}

.form-input:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}`})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"flex-1 flex items-center justify-center gap-1 px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded-md",children:[r.jsx(Io,{size:14}),"Preview"]}),r.jsxs("button",{className:"flex-1 flex items-center justify-center gap-1 px-2 py-1 text-xs font-medium text-primary-foreground bg-primary hover:bg-primary/90 rounded-md",children:[r.jsx(Oo,{size:14}),"Apply"]})]})]}),e==="layout"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Form Background"}),r.jsxs("div",{className:"background-type-selector",children:[r.jsxs("label",{className:"radio-option",children:[r.jsx("input",{type:"radio",name:"backgroundType",value:"none",checked:!1,onChange:()=>{}}),r.jsx("span",{children:"None"})]}),r.jsxs("label",{className:"radio-option",children:[r.jsx("input",{type:"radio",name:"backgroundType",value:"color",checked:!0,onChange:()=>{}}),r.jsx("span",{children:"Color"})]}),r.jsxs("label",{className:"radio-option",children:[r.jsx("input",{type:"radio",name:"backgroundType",value:"image",checked:!1,onChange:()=>{}}),r.jsx("span",{children:"Image"})]})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Color"}),r.jsxs("div",{className:"color-input-group",children:[r.jsx("input",{type:"color",value:"#ffffff",onChange:()=>{},className:"color-picker"}),r.jsx("input",{type:"text",value:"#ffffff",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",placeholder:"#ffffff"})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Opacity"}),r.jsxs("div",{className:"slider-input-group",children:[r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:"1",onChange:()=>{},className:"slider"}),r.jsx("span",{className:"slider-value",children:"100%"})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Form Padding"}),r.jsxs("div",{className:"spacing-controls",children:[r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Top"}),r.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Right"}),r.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Bottom"}),r.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Left"}),r.jsx("input",{type:"number",value:"40",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Form Margin"}),r.jsxs("div",{className:"spacing-controls",children:[r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Top"}),r.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Right"}),r.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Bottom"}),r.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]}),r.jsxs("div",{className:"spacing-input",children:[r.jsx("label",{children:"Left"}),r.jsx("input",{type:"number",value:"20",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background"})]})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Background Image"}),r.jsxs("div",{className:"image-upload-area",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:()=>{},className:"file-input"}),r.jsxs("div",{className:"upload-placeholder",children:[r.jsx(Ao,{size:24}),r.jsx("p",{children:"Click to upload or drag image here"}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 2MB"})]})]})]})]})]})})},o_=()=>{const[e,t]=m.useState([{id:"email",name:"Email Notifications",enabled:!0,configured:!0},{id:"webhook",name:"Webhook",enabled:!1,configured:!1},{id:"zapier",name:"Zapier",enabled:!1,configured:!1},{id:"mailchimp",name:"Mailchimp",enabled:!0,configured:!0},{id:"slack",name:"Slack",enabled:!1,configured:!1}]);return r.jsx("div",{className:"flex-1 flex flex-col overflow-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Integrations"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Connect your form to external services and automate workflows."}),r.jsx("div",{className:"space-y-3",children:e.map(n=>r.jsx("div",{className:"integration-item",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:`integration-icon integration-icon-${n.id}`,children:[n.id==="email"&&r.jsx(Lr,{size:16}),n.id==="webhook"&&r.jsx(hl,{size:16}),n.id==="zapier"&&r.jsx(gl,{size:16}),n.id==="mailchimp"&&r.jsx(Lr,{size:16}),n.id==="slack"&&r.jsx(hh,{size:16})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:n.name}),r.jsx("div",{className:"text-sm text-gray-500",children:n.configured?"Configured":"Not configured"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.enabled,onChange:s=>{t(e.map(i=>i.id===n.id?{...i,enabled:s.target.checked}:i))},disabled:!n.configured}),r.jsx("button",{className:"px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded",children:n.configured?"Configure":"Setup"})]})]})},n.id))}),r.jsxs("div",{className:"mt-6 p-4 border border-gray-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Webhook Configuration"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Webhook URL"}),r.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",placeholder:"https://your-webhook-url.com/endpoint"})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"HTTP Method"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{children:"POST"}),r.jsx("option",{children:"PUT"}),r.jsx("option",{children:"PATCH"})]})]}),r.jsxs("div",{className:"property-field",children:[r.jsx("label",{className:"property-label",children:"Custom Headers"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",rows:3,placeholder:`Authorization: Bearer your-token
Content-Type: application/json`})]}),r.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 text-xs font-medium border border-border text-foreground hover:bg-muted rounded-md",children:[r.jsx(au,{size:14}),"Test Webhook"]})]})]})]})})},s_=({position:e,onResize:t,currentWidth:n,showInput:s,onInputVisibilityChange:i,maxWidth:l})=>{const[d,u]=m.useState(!1),[p,h]=m.useState(n),[g,v]=m.useState(!1),y=N=>{u(!0),N.preventDefault()},b=m.useCallback(N=>{if(d){const S=document.querySelector(".form-wrapper");if(S){const _=S.getBoundingClientRect(),E=S.closest(".canvas-responsive")?.getBoundingClientRect();if(_&&E){const w=E.width*.95,T=l?parseInt(l):1/0,M=Math.min(w,T),O=Math.min(M,Math.max(200,N.clientX-_.left));t(`${Math.round(O)}px`)}}}},[d,t]),k=m.useCallback(()=>{u(!1)},[]);return m.useEffect(()=>{if(d)return document.addEventListener("mousemove",b),document.addEventListener("mouseup",k),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",k)}},[d,b,k]),r.jsxs("div",{className:`resize-bar resize-bar-${e}`,onMouseDown:y,onMouseEnter:()=>!g&&i(!0),onMouseLeave:()=>!g&&i(!1),children:[r.jsx("div",{className:"resize-handle"}),(s||g)&&r.jsx("div",{className:"resize-input-popup",onMouseEnter:()=>i(!0),onMouseLeave:()=>!g&&i(!1),children:r.jsx("input",{type:"text",value:p,onChange:N=>h(N.target.value),onFocus:()=>v(!0),onBlur:()=>{v(!1),t(p),i(!1)},onKeyDown:N=>{N.key==="Enter"&&(t(p),N.currentTarget.blur())},className:"resize-input",placeholder:"100% or 400px"})})]})},a_=({isVisible:e,position:t,isCollapsed:n,onClose:s,onPositionChange:i,onCollapse:l,onElementClick:d})=>{const{items:u,order:p,reorderElements:h,removeElement:g,addElement:v}=Kh(),y=Array.isArray(p)?p.map(P=>u[P]).filter(Boolean):[],[b,k]=m.useState(!1),[N,S]=m.useState({x:0,y:0}),_=P=>{if(P.target.closest(".floating-panel-header")){k(!0);const B=P.currentTarget.getBoundingClientRect();S({x:P.clientX-B.left,y:P.clientY-B.top})}},E=m.useCallback(P=>{b&&i({x:P.clientX-N.x,y:P.clientY-N.y})},[b,N,i]),w=m.useCallback(()=>{k(!1)},[]);m.useEffect(()=>{if(b)return document.addEventListener("mousemove",E),document.addEventListener("mouseup",w),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",w)}},[b,E,w]);const T=(P,B)=>{const V=[...p],oe=V[P];V.splice(P,1),V.splice(B,0,oe),h(V)},M=P=>{g(P)},I=P=>{const B=u[P];if(B){const V={...B,id:Ln(),name:`${B.name}_copy`};v(V)}},O=(P,B)=>{P.preventDefault(),console.log("Context menu for element:",B)};return e?r.jsxs("div",{className:`floating-elements-panel ${n?"floating-panel-collapsed":""}`,style:{left:t.x,top:t.y,cursor:b?"grabbing":"default"},onMouseDown:_,children:[r.jsxs("div",{className:"floating-panel-header",children:[r.jsxs("div",{className:"floating-panel-title",children:[r.jsx(Da,{size:16}),r.jsxs("span",{children:["Elements (",y.length,")"]})]}),r.jsxs("div",{className:"floating-panel-controls",children:[r.jsx("button",{className:"floating-panel-btn",onClick:()=>l(!n),title:n?"Expand":"Collapse",children:n?r.jsx(Sn,{size:14}):r.jsx(za,{size:14})}),r.jsx("button",{className:"floating-panel-btn",onClick:s,title:"Close",children:r.jsx(Gt,{size:14})})]})]}),!n&&r.jsx("div",{className:"floating-panel-content",children:y.length===0?r.jsxs("div",{className:"floating-panel-empty",children:[r.jsx(Da,{size:24,className:"opacity-50"}),r.jsx("p",{className:"text-xs text-gray-500",children:"No elements yet"})]}):r.jsx("div",{className:"floating-elements-list",children:y.map((P,B)=>r.jsxs("div",{className:"floating-element-item",draggable:!0,onClick:()=>d(P.id),onContextMenu:V=>O(V,P.id),onDragStart:V=>{V.dataTransfer.setData("text/plain",B.toString())},onDragOver:V=>V.preventDefault(),onDrop:V=>{V.preventDefault();const oe=parseInt(V.dataTransfer.getData("text/plain"));T(oe,B)},children:[r.jsx("div",{className:"floating-element-drag",children:r.jsx(ru,{size:12})}),r.jsxs("div",{className:"floating-element-info",children:[r.jsx("div",{className:"floating-element-label",children:P.properties?.label||P.label}),r.jsxs("div",{className:"floating-element-type",children:[P.type.replace("_"," ")," ",P.properties?.required&&""]})]}),r.jsxs("div",{className:"floating-element-actions",children:[r.jsx("button",{className:"floating-element-btn",onClick:V=>{V.stopPropagation(),I(P.id)},title:"Duplicate",children:r.jsx(Ra,{size:12})}),r.jsx("button",{className:"floating-element-btn",onClick:V=>{V.stopPropagation(),M(P.id)},title:"Delete",children:r.jsx(On,{size:12})})]})]},P.id))})})]}):null},i_=()=>{const{items:e,order:t,addElement:n,removeElement:s,updateElement:i,reorderElements:l}=Kh(),{selectedElements:d,setSelectedElements:u}=I2();m.useEffect(()=>{document.body.classList.add("sticky-menu","folded")},[]);const[p,h]=m.useState("canvas"),[g,v]=m.useState("desktop"),[y,b]=m.useState("Untitled Form"),[k,N]=m.useState("idle"),[S,_]=m.useState("1"),[E,w]=m.useState([]),T=m.useCallback(($,te,Q=5e3)=>{const be=Math.random().toString(36).substr(2,9),Te={id:be,type:$,message:te,visible:!1};w(Be=>[...Be,Te]),setTimeout(()=>{w(Be=>Be.map(Et=>Et.id===be?{...Et,visible:!0}:Et))},100),$!=="error"&&setTimeout(()=>{M(be)},Q)},[]),M=m.useCallback($=>{w(te=>te.map(Q=>Q.id===$?{...Q,hiding:!0}:Q)),setTimeout(()=>{w(te=>te.filter(Q=>Q.id!==$))},400)},[]),[I,O]=m.useState(1),[P,B]=m.useState(!1),[V,oe]=m.useState(!0),[ue,Ne]=m.useState(250),[re,ke]=m.useState(!1),[ae,ne]=m.useState("all"),[F,K]=m.useState(""),[q,z]=m.useState(!1),[R,G]=m.useState(150),[Y,J]=m.useState(250),[xe,U]=m.useState(0),[ge,ze]=m.useState(!1),[Ee,rt]=m.useState(!1),[Ge,ot]=m.useState(null);m.useRef(null);const Xe=m.useCallback($=>{Ne($);const Te=$-50-16-8,Be=Te<160;if(z(Be),Be){const Br=Math.max(100,Te);G(Br)}else{const Br=Math.max(160,Te);G(Br)}J((re?40:$)+100)},[re]);m.useEffect(()=>{Xe(220)},[Xe]),m.useEffect(()=>{J((re?40:ue)+100)},[re,ue]);const[Ct,Kt]=m.useState(""),[tn,cn]=m.useState(!1),[le,de]=m.useState(!1),[he,Me]=m.useState({x:100,y:100}),[Je,We]=m.useState(!1),[me,xt]=m.useState({backgroundType:"color",backgroundColor:"#ffffff",backgroundImage:"",backgroundOpacity:1,desktop:{padding:{top:40,right:40,bottom:40,left:40},margin:{top:20,right:20,bottom:20,left:20}},tablet:{padding:{top:30,right:30,bottom:30,left:30},margin:{top:15,right:15,bottom:15,left:15}},mobile:{padding:{top:20,right:20,bottom:20,left:20},margin:{top:10,right:10,bottom:10,left:10}}}),[tt,Qe]=m.useState([]),[_n,dn]=m.useState(null),[Tt,kr]=m.useState(!1),[ei,ti]=m.useState(!1),[Go,co]=m.useState(!1),[Sr,Cr]=m.useState("100%"),uo=m.useCallback($=>{const te=ex[$];if(!te)return"100%";const be={mobile:70,tablet:90,desktop:30}[$]||0;return`${te.width-be}px`},[]);m.useEffect(()=>{if(V&&g!=="desktop"){const $=uo(g),te=parseInt(Sr)||0,Q=parseInt($)||1/0;Q>0&&te!==Q&&Cr($)}else(!V||g==="desktop")&&(parseInt(Sr)||0)<600&&Cr("100%")},[g,V,uo]);const qe=m.useRef(null),Xt=m.useRef(null),[ft,Pt]=m.useState(null),Nt=m.useRef(0),yt=m.useRef(null),[pt,zt]=m.useState(!1),[Mt,Tn]=m.useState(null),[Ke,un]=m.useState(null),[It,yn]=m.useState([]),[Jt,fn]=m.useState(null),[vt,Ft]=m.useState(null),[Vs,Df]=m.useState(null),[$f,ar]=m.useState(!1),[wc,ni]=m.useState(!1),[Pf,Zs]=m.useState(!1),[jc,ri]=m.useState(!1),[Wr,Mf]=m.useState([]),[Un,st]=m.useState(-1),[oi,si]=m.useState(!1),[ai,Gs]=m.useState(!1),Nc=m.useRef(null),kc=m.useRef(null);m.useEffect(()=>{const $=te=>{Nc.current&&!Nc.current.contains(te.target)&&Gs(!1)};return ai&&document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[ai]);const zn=Array.isArray(t)?t.map($=>e[$]).filter(Boolean):[],He=d[0]?e[d[0]]:null,Ys=m.useCallback(()=>{if(!F.trim())return ae==="all"?$l.filter(Te=>Te.id!=="all").flatMap(Te=>Te.elements):$l.find(Te=>Te.id===ae)?.elements||[];const $=F.toLowerCase().trim(),te=["the","a","an","and","or","but","in","on","at","to","for","of","with","by","is","are","was","were","be","been","have","has","had","do","does","did","will","would","could","should","may","might","can","this","that","these","those","it","its","he","she","they","them","their","his","her"],Q=$.split(" ").filter(Te=>Te.length>2&&!te.includes(Te));return $l.filter(Te=>Te.id!=="all").flatMap(Te=>Te.elements).filter(Te=>{const Be=[Te.label.toLowerCase(),Te.type.toLowerCase(),...Te.keywords||[]].join(" ");return Q.some(Et=>Be.includes(Et))||Te.label.toLowerCase().includes($)})},[F,ae]),Wt=m.useCallback(()=>{if(qe.current){const{scrollLeft:$,scrollWidth:te,clientWidth:Q}=qe.current;ze($>5),rt($<te-Q-10),U($)}},[]),Sc=m.useCallback($=>{if(qe.current){const Q=$==="left"?qe.current.scrollLeft-200:qe.current.scrollLeft+200;qe.current.scrollTo({left:Q,behavior:"smooth"})}},[]),ii=m.useCallback(()=>{if(!qe.current){yt.current=null;return}const $=qe.current.scrollLeft,te=Nt.current,Q=te-$,be=.2;Math.abs(Q)>.5?(qe.current.scrollLeft=$+Q*be,yt.current=requestAnimationFrame(ii)):(qe.current.scrollLeft=te,yt.current=null)},[]),li=m.useCallback($=>{if(!qe.current)return;const{scrollLeft:te,scrollWidth:Q,clientWidth:be}=qe.current;if(Q>be){const Be=$.deltaY||$.deltaX,Et=Q-be;yt.current===null&&(Nt.current=te),Nt.current=Math.max(0,Math.min(Et,Nt.current+Be)),yt.current||(yt.current=requestAnimationFrame(ii)),$.preventDefault()}},[ii]);m.useEffect(()=>{const $=qe.current;if(!(!$||!q))return $.addEventListener("wheel",li,{passive:!1}),()=>$.removeEventListener("wheel",li)},[q,li]);const Hr=m.useCallback(()=>{Xt.current&&(clearInterval(Xt.current),Xt.current=null),Pt(null),qe.current&&(Nt.current=qe.current.scrollLeft)},[]),Yo=m.useCallback($=>{yt.current&&(cancelAnimationFrame(yt.current),yt.current=null),Xt.current&&clearInterval(Xt.current),Pt($);const te=()=>{if(qe.current){const{scrollLeft:Q,scrollWidth:be,clientWidth:Te}=qe.current,Be=9;$==="left"&&Q>0?qe.current.scrollLeft-=Be:$==="right"&&Q<be-Te?qe.current.scrollLeft+=Be:Hr()}};te(),Xt.current=setInterval(te,16)},[Hr]);m.useEffect(()=>()=>{Xt.current&&clearInterval(Xt.current),yt.current&&cancelAnimationFrame(yt.current)},[]),m.useEffect(()=>{const $=qe.current;if($&&q)return Wt(),$.addEventListener("scroll",Wt),window.addEventListener("resize",Wt),()=>{$.removeEventListener("scroll",Wt),window.removeEventListener("resize",Wt)}},[Wt,q]),m.useCallback(($,te)=>{if(!q||!qe.current)return;const Q=te.getBoundingClientRect(),be=qe.current.getBoundingClientRect();ot({element:$,rect:Q,containerRect:be})},[q]),m.useCallback(()=>{ot(null)},[]),m.useEffect(()=>{const $=qe.current;if(!$||!Ge)return;const te=()=>{ot(null)};return $.addEventListener("scroll",te),()=>$.removeEventListener("scroll",te)},[Ge]),m.useEffect(()=>{const $=()=>{si(window.innerWidth<=768)};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),m.useEffect(()=>{if(k==="saving"){const $=setTimeout(()=>{N("saved"),T("success","All changes saved"),setTimeout(()=>N("idle"),1e3)},1e3);return()=>clearTimeout($)}},[k,T]),m.useEffect(()=>{const $=te=>{if(te.ctrlKey||te.metaKey)switch(te.key){case"z":te.preventDefault(),te.shiftKey?Ec():Cc();break;case"c":He&&(te.preventDefault(),Xo());break;case"v":te.preventDefault(),_r();break;case"d":He&&(te.preventDefault(),ui());break;case"s":te.preventDefault(),dr();break}(te.key==="Delete"||te.key==="Backspace")&&He&&!te.target?.closest(".inline-editable-input")&&(te.preventDefault(),Er(He.id)),te.key==="Escape"&&(fn(null),Ft(null),u([]))};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[He,Wr,Un]),m.useEffect(()=>()=>{document.removeEventListener("dragover",fo),document.removeEventListener("drop",fo)},[]);const fo=$=>{$.preventDefault()},Rn=()=>{const $=Wr.slice(0,Un+1);$.push({items:{...e},order:[...t]}),Mf($),st($.length-1)},Cc=()=>{Un>0&&(st(Un-1),Wr[Un-1])},Ec=()=>{Un<Wr.length-1&&(st(Un+1),Wr[Un+1])},qs=$=>{if(!$)return{};const te={...$.defaults};for(const Q of Object.keys($.properties)){const be=$.properties[Q];if(be)for(const[Te,Be]of Object.entries(be))Be.default!==void 0&&te[Te]===void 0&&(te[Te]=Be.default)}return te},ci=m.useCallback(($,te,Q)=>{try{const be=Rl($);if(!be){console.warn(`No schema registered for element type: ${$}`);return}const Te=qs(be),Be={id:Ln(),type:$,properties:{...Te,name:Te.name||$+"_"+Date.now().toString(36),label:Te.label||te},children:be.container?[]:void 0};n(Be),u([Be.id]),N("saving"),Rn()}catch(be){console.error("Error adding element:",be),N("error")}},[n,u,e,t]),qo=m.useCallback(($,te,Q=!1)=>{try{zt(!0);const be={type:te.type,label:te.label,icon:te.icon?.name||te.type,keywords:te.keywords,isNew:Q};Tn(be),$.dataTransfer.effectAllowed="move",$.dataTransfer.setData("text/plain",JSON.stringify(be))}catch(be){console.error("Error in drag start:",be),zt(!1),Tn(null)}},[]),ir=m.useCallback(()=>{zt(!1),Tn(null),un(null)},[]),Ks=m.useCallback(($,te)=>{$.preventDefault(),$.stopPropagation(),$.dataTransfer.dropEffect="move",un(te)},[]),po=m.useCallback(($,te)=>{$.preventDefault(),$.stopPropagation();try{let Q=Mt;if(!Q){const be=$.dataTransfer.getData("text/plain");be&&(Q=JSON.parse(be))}if(Q)if(Q.isNew)Ye(Q,te);else{const be=t.indexOf(Q.id);if(be!==te&&be!==-1){const Te=[...t],[Be]=Te.splice(be,1);Te.splice(te,0,Be),l(Te),N("saving"),Rn()}}}catch(Q){console.error("Error in drop handler:",Q),N("error")}ir()},[Mt,t,n,l,ir]),Ye=($,te)=>{const Q=Rl($.type);if(!Q){console.warn(`No schema registered for element type: ${$.type}`);return}const be=qs(Q),Te={id:Ln(),type:$.type,properties:{...be,name:be.name||$.type+"_"+Date.now().toString(36),label:be.label||$.label},children:Q.container?[]:void 0};n(Te,te),u([Te.id]),N("saving"),Rn()},Ko=m.useCallback(($,te)=>{const Q=te?.ctrlKey||te?.metaKey;if(Q?yn(be=>be.includes($)?be.filter(Te=>Te!==$):[...be,$]):(u([$]),yn([]),kr(!1),dn($),Qe([$])),te&&!Q){const be=e[$];if(be){const Be=te.currentTarget.getBoundingClientRect();Ft({element:be,position:{x:Be.left,y:Be.bottom+10},isVisible:!0})}}},[e]),Er=m.useCallback($=>{try{s($),He?.id===$&&(u([]),dn(null),Qe([]),kr(!1)),Qe(te=>te.filter(Q=>Q!==$)),N("saving"),Ft(null),Rn()}catch(te){console.error("Error deleting element:",te),N("error")}},[He,s,u]),lr=m.useCallback(($,te,Q)=>{const be=e[$];if(be)try{i($,{properties:{...be.properties,[te]:Q}}),N("saving"),Rn()}catch(Te){console.error("Error updating element property:",Te),N("error")}},[e,i]),di=m.useCallback(($,te)=>{$.preventDefault(),Ko(te),fn({x:$.clientX,y:$.clientY})},[Ko]),_c=m.useCallback($=>{if(He)try{switch($){case"edit":Ft({element:He,position:Jt||{x:0,y:0}});break;case"duplicate":ui();break;case"copy":Xo();break;case"cut":Xs();break;case"move-up":cr("up");break;case"move-down":cr("down");break;case"delete":Er(He.id);break}}catch(te){console.error("Error in context action:",te),N("error")}fn(null)},[He,Er,Jt]),ui=()=>{if(He){const $={...He,id:Ln(),properties:{...He.properties,label:`${He.properties?.label} (Copy)`}};n($),N("saving"),Rn()}},Xo=()=>{He&&localStorage.setItem("copiedElement",JSON.stringify(He))},Xs=()=>{He&&(Xo(),Er(He.id))},_r=()=>{const $=localStorage.getItem("copiedElement");if($){const Q={...JSON.parse($),id:Ln()};n(Q),N("saving"),Rn()}},cr=$=>{if(He){const te=t.indexOf(He.id),Q=$==="up"?te-1:te+1;if(Q>=0&&Q<t.length){const be=[...t],[Te]=be.splice(te,1);be.splice(Q,0,Te),l(be),N("saving"),Rn()}}},dr=()=>{N("saving")},mo=m.useCallback($=>{console.log("Format text:",$),Df(null)},[]),Jo=$=>{console.log("Restore version:",$),ar(!1)},Tr=$=>{console.log("Export as:",$),Zs(!1)};return r.jsx(AE,{children:r.jsxs("div",{className:"flex flex-col h-screen",children:[r.jsx(KE,{currentFormId:S,onFormSelect:_,formTitle:y,onFormTitleChange:b,devicePreview:g,onDeviceChange:v,showDeviceFrame:V,onToggleDeviceFrame:()=>oe(!V),canUndo:Un>0,canRedo:Un<Wr.length-1,onUndo:Cc,onRedo:Ec,showGrid:P,onToggleGrid:()=>B(!P),zoom:I,onZoomChange:O,showElementsPanel:le,onToggleElementsPanel:()=>de(!le),onShowVersionHistory:()=>ar(!0),onShowSharePanel:()=>ni(!0),onShowExportPanel:()=>Zs(!0),onShowAnalytics:()=>ri(!0),onPreview:()=>{},onSave:dr,onPublish:()=>{},isSaving:k==="saving",isMobile:oi}),r.jsx(CE,{activeTab:p,onTabChange:h}),r.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[p!=="canvas"&&r.jsxs("div",{className:"flex-1 bg-background flex flex-col overflow-hidden",children:[p==="settings"&&r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Form Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Form Name"}),r.jsx(br,{value:y,onChange:b,className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"Form Name"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Form Description"}),r.jsx(br,{value:"",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"Describe what this form is for...",multiline:!0})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Submit Button Text"}),r.jsx(br,{value:"Submit",onChange:()=>{},className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"Submit"})]}),r.jsxs("div",{className:"pt-4 border-t border-border",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Submission Settings"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Require login to submit"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Allow multiple submissions"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Save as draft"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"rounded border-border"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Show progress bar"})]})]})]}),r.jsxs("div",{className:"pt-4 border-t border-border",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Notifications"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Admin Email"}),r.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"admin@example.com"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Thank You Page URL"}),r.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-border rounded-md text-sm",placeholder:"https://example.com/thank-you"})]})]})]})]})]})}),p==="emails"&&r.jsx(m.Suspense,{fallback:r.jsx(Eu,{}),children:r.jsx(JE,{})}),p==="entries"&&r.jsx(n_,{}),p==="automation"&&r.jsx(m.Suspense,{fallback:r.jsx(Eu,{}),children:r.jsx(QE,{formId:parseInt(S)||0})}),p==="style"&&r.jsx(r_,{}),p==="themes"&&r.jsx(m.Suspense,{fallback:r.jsx(Eu,{}),children:r.jsx(e_,{})}),p==="integrations"&&r.jsx(o_,{})]}),p==="canvas"&&r.jsxs("div",{className:"flex-1 flex flex-col overflow-auto bg-muted/30 p-4",style:{paddingBottom:`${Y}px`},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-muted-foreground",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:tn,onChange:$=>cn($.target.checked),className:"rounded border-border"}),r.jsx("span",{children:"Custom Width:"})]}),r.jsx("input",{type:"text",className:"w-24 px-2 py-1 text-sm border border-border rounded-md bg-background disabled:opacity-50",value:Ct,onChange:$=>Kt($.target.value),placeholder:g==="desktop"?"1200px":g==="tablet"?"768px":"375px",disabled:!tn})]}),r.jsx("div",{className:"flex-1 flex items-start justify-center origin-top",style:{transform:`scale(${I})`},children:r.jsxs("div",{ref:kc,className:Le("w-full bg-background rounded-lg shadow-sm border border-border min-h-[400px] relative mx-auto",g==="tablet"&&"max-w-[768px]",g==="mobile"&&"max-w-[375px]",g==="desktop"&&"max-w-[1200px]",V&&"canvas-framed"),style:tn&&Ct?{maxWidth:Ct}:{},children:[r.jsx(HE,{isVisible:P}),V&&g!=="desktop"&&r.jsxs("div",{className:"simple-breadcrumb",style:{position:"absolute",top:"20px",left:"20px",zIndex:25},children:[r.jsx("button",{className:`breadcrumb-root ${Tt?"breadcrumb-current":""}`,onClick:()=>{dn(null),Qe([]),kr(!0),u([]);const $=document.querySelector(".form-wrapper");$&&($.classList.add("element-orange-flash"),setTimeout(()=>{$.classList.remove("element-orange-flash")},1500)),Ft({element:null,position:{x:window.innerWidth/2-200,y:window.innerHeight/2-250}})},children:"Form"}),tt.length>0&&r.jsx(r.Fragment,{children:tt.map(($,te)=>{const Q=e[$];if(!Q)return null;const be=Q.properties?.label||Q.label||Q.type,Te=te===tt.length-1;return r.jsxs(De.Fragment,{children:[r.jsx("span",{className:"breadcrumb-separator",children:">"}),r.jsx("button",{className:`breadcrumb-item ${Te?"breadcrumb-current":""}`,onClick:()=>{const Be=tt.slice(0,te+1);Qe(Be),dn($);const Et=document.querySelector(`[data-element-id="${$}"]`);Et&&(Et.scrollIntoView({behavior:"smooth",block:"center"}),Et.classList.add("element-orange-flash"),setTimeout(()=>{Et.classList.remove("element-orange-flash")},1500))},children:be})]},$)})})]}),V&&g!=="desktop"&&r.jsxs("div",{className:`device-frame device-frame-${g}`,style:{marginTop:"60px"},children:[r.jsx("div",{className:"device-frame-header",children:r.jsx("div",{className:"device-frame-title",children:ex[g].name})}),g==="mobile"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"device-home-button"}),r.jsx("div",{className:"device-speaker"}),r.jsx("div",{className:"device-camera"})]}),g==="tablet"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"device-home-button-tablet"}),r.jsx("div",{className:"device-camera-tablet"})]}),r.jsx("div",{className:"device-screen-overlay",children:r.jsx("div",{className:`form-wrapper ${Tt?"form-wrapper-selected":""}`,style:{background:me.backgroundType==="none"?"transparent":me.backgroundType==="color"?`${me.backgroundColor}${Math.round(me.backgroundOpacity*255).toString(16).padStart(2,"0")}`:me.backgroundImage?`url(${me.backgroundImage})`:me.backgroundColor,backgroundSize:me.backgroundType==="image"?"cover":"auto",backgroundPosition:me.backgroundType==="image"?"center":"auto",backgroundRepeat:me.backgroundType==="image"?"no-repeat":"auto",padding:`${me[g]?.padding?.top||0}px ${me[g]?.padding?.right||0}px ${me[g]?.padding?.bottom||0}px ${me[g]?.padding?.left||0}px`,margin:`${me[g]?.margin?.top||0}px ${me[g]?.margin?.right||0}px ${me[g]?.margin?.bottom||0}px ${me[g]?.margin?.left||0}px`,borderRadius:"var(--radius-lg)",minHeight:"200px",width:"100%",position:"relative"},children:zn.length===0?r.jsxs("div",{className:`drop-zone ${pt?"drop-zone-active":""}`,onDragOver:$=>Ks($,0),onDrop:$=>po($,0),children:[r.jsx(Da,{size:24,className:"mb-2"}),r.jsx("p",{children:"Drag elements from the bottom tray to start building your form"})]}):r.jsxs("div",{children:[zn.map(($,te)=>r.jsxs(De.Fragment,{children:[pt&&Ke===te&&r.jsx("div",{className:"drop-zone drop-zone-hover"}),r.jsxs("div",{className:`form-element ${He?.id===$.id||It.includes($.id)?"form-element-selected":""} ${pt&&Mt?.id===$.id?"form-element-dragging":""}`,"data-element-id":$.id,draggable:!0,onDragStart:Q=>qo(Q,$),onDragEnd:ir,onDragOver:Q=>Ks(Q,te+1),onDrop:Q=>po(Q,te+1),onClick:Q=>Ko($.id,Q),onContextMenu:Q=>di(Q,$.id),children:[r.jsxs("div",{className:"element-controls",children:[r.jsx("button",{className:"element-control-btn",title:"Drag to reorder",children:r.jsx(ru,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Edit Properties",children:r.jsx(pl,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Delete",onClick:Q=>{Q.stopPropagation(),Er($.id)},children:r.jsx(On,{size:16})})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx(br,{value:$.properties?.label||$.label,onChange:Q=>lr($.id,"label",Q),className:"property-label",placeholder:"Field Label",onFormat:mo}),$.properties?.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),$.properties?.helperText&&r.jsx(br,{value:$.properties.helperText,onChange:Q=>lr($.id,"helperText",Q),className:"property-help",placeholder:"Helper text"})]}),r.jsx(og,{element:$,updateElementProperty:lr})]}),pt&&Ke===zn.length&&te===zn.length-1&&r.jsx("div",{className:"drop-zone drop-zone-hover"})]},$.id)),r.jsx("div",{className:"mt-6",children:r.jsx(br,{value:"Submit",onChange:()=>{},className:"w-full px-4 py-2 bg-blue-500 text-white rounded-md font-medium text-center",placeholder:"Submit"})})]})})})]}),(!V||g==="desktop")&&r.jsxs("div",{className:"simple-breadcrumb",children:[r.jsx("button",{className:`breadcrumb-root ${Tt?"breadcrumb-current":""}`,onClick:()=>{dn(null),Qe([]),kr(!0),u([]);const $=document.querySelector(".form-wrapper");$&&($.classList.add("element-orange-flash"),setTimeout(()=>{$.classList.remove("element-orange-flash")},1500)),Ft({element:null,position:{x:window.innerWidth/2-200,y:window.innerHeight/2-250}})},children:"Form"}),tt.length>0&&r.jsx(r.Fragment,{children:tt.map(($,te)=>{const Q=e[$];if(!Q)return null;const be=Q.properties?.label||Q.label||Q.type,Te=te===tt.length-1;return r.jsxs(De.Fragment,{children:[r.jsx("span",{className:"breadcrumb-separator",children:">"}),r.jsx("button",{className:`breadcrumb-item ${Te?"breadcrumb-current":""}`,onClick:()=>{const Be=tt.slice(0,te+1);Qe(Be),dn($);const Et=document.querySelector(`[data-element-id="${$}"]`);Et&&(Et.scrollIntoView({behavior:"smooth",block:"center"}),Et.classList.add("element-orange-flash"),setTimeout(()=>{Et.classList.remove("element-orange-flash")},1500))},children:be})]},$)})})]}),(!V||g==="desktop")&&r.jsx("div",{className:"desktop-form-container",style:{display:"flex",justifyContent:"center",width:"100%",minHeight:"200px"},children:r.jsxs("div",{className:`form-wrapper ${Tt?"form-wrapper-selected":""}`,style:{background:me.backgroundType==="none"?"transparent":me.backgroundType==="color"?`${me.backgroundColor}${Math.round(me.backgroundOpacity*255).toString(16).padStart(2,"0")}`:me.backgroundImage?`url(${me.backgroundImage})`:me.backgroundColor,backgroundSize:me.backgroundType==="image"?"cover":"auto",backgroundPosition:me.backgroundType==="image"?"center":"auto",backgroundRepeat:me.backgroundType==="image"?"no-repeat":"auto",padding:`${me[g]?.padding?.top||0}px ${me[g]?.padding?.right||0}px ${me[g]?.padding?.bottom||0}px ${me[g]?.padding?.left||0}px`,margin:`${me[g]?.margin?.top||0}px ${me[g]?.margin?.right||0}px ${me[g]?.margin?.bottom||0}px ${me[g]?.margin?.left||0}px`,borderRadius:"var(--radius-lg)",minHeight:"200px",width:Sr,position:"relative"},children:[r.jsx(s_,{position:"right",currentWidth:Sr,showInput:Go,onInputVisibilityChange:co,onResize:$=>Cr($),maxWidth:void 0}),zn.length===0?r.jsxs("div",{className:`drop-zone ${pt?"drop-zone-active":""}`,onDragOver:$=>Ks($,0),onDrop:$=>po($,0),children:[r.jsx(Da,{size:24,className:"mb-2"}),r.jsx("p",{children:"Drag elements from the bottom tray to start building your form"})]}):r.jsxs("div",{children:[zn.map(($,te)=>r.jsxs(De.Fragment,{children:[pt&&Ke===te&&r.jsx("div",{className:"drop-zone drop-zone-hover"}),r.jsxs("div",{className:`form-element ${He?.id===$.id||It.includes($.id)?"form-element-selected":""} ${pt&&Mt?.id===$.id?"form-element-dragging":""}`,"data-element-id":$.id,draggable:!0,onDragStart:Q=>qo(Q,$),onDragEnd:ir,onDragOver:Q=>Ks(Q,te+1),onDrop:Q=>po(Q,te+1),onClick:Q=>Ko($.id,Q),onContextMenu:Q=>di(Q,$.id),children:[r.jsxs("div",{className:"element-controls",children:[r.jsx("button",{className:"element-control-btn",title:"Drag to reorder",children:r.jsx(ru,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Edit Properties",children:r.jsx(pl,{size:16})}),r.jsx("button",{className:"element-control-btn",title:"Delete",onClick:Q=>{Q.stopPropagation(),Er($.id)},children:r.jsx(On,{size:16})})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx(br,{value:$.properties?.label||$.label,onChange:Q=>lr($.id,"label",Q),className:"property-label",placeholder:"Field Label",onFormat:mo}),$.properties?.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),$.properties?.helperText&&r.jsx(br,{value:$.properties.helperText,onChange:Q=>lr($.id,"helperText",Q),className:"property-help",placeholder:"Helper text"})]}),r.jsx(og,{element:$,updateElementProperty:lr})]}),pt&&Ke===zn.length&&te===zn.length-1&&r.jsx("div",{className:"drop-zone drop-zone-hover"})]},$.id)),r.jsx("div",{className:"mt-6",children:r.jsx(br,{value:"Submit",onChange:()=>{},className:"w-full px-4 py-2 bg-blue-500 text-white rounded-md font-medium text-center",placeholder:"Submit"})})]})]})})]})})]})]}),r.jsxs(UE,{isCollapsed:re,onToggleCollapse:()=>ke(!re),isMobile:oi,onHeightChange:Xe,children:[r.jsx("div",{className:"flex items-center justify-between px-4 py-2 border-b border-border",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex gap-2",children:!F&&$l.map($=>r.jsx("button",{className:Le("px-3 py-2 rounded-md text-xs font-medium transition-colors",ae===$.id?"bg-primary text-primary-foreground hover:bg-primary/90":"text-muted-foreground bg-transparent hover:bg-accent hover:text-foreground"),onClick:()=>ne($.id),children:$.name},$.id))}),r.jsxs("div",{className:"relative w-[200px]",children:[r.jsx(ys,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"}),r.jsx("input",{type:"text",placeholder:"Search elements...",value:F,onChange:$=>K($.target.value),onKeyDown:$=>{if($.key==="Enter"&&F.trim()){const te=Ys();if(te.length===1){$.preventDefault();const Q=te[0];ci(Q.type,Q.label,Q.icon),K("")}}},className:"w-full h-8 pl-9 pr-8 text-sm border border-border rounded-md bg-background focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary"}),F&&r.jsx("button",{onClick:()=>K(""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-accent text-muted-foreground hover:text-foreground",title:"Clear search",children:r.jsx(Gt,{size:14})})]})]})}),r.jsxs("div",{className:"relative overflow-hidden flex-1",style:{height:`${R}px`},children:[r.jsx("div",{ref:qe,className:Le("h-full overflow-y-auto px-4 py-3",oi&&"tray-elements-mobile"),children:r.jsxs("div",{className:Le("gap-3 items-start",q?"flex flex-nowrap gap-3":"grid grid-cols-[repeat(auto-fill,minmax(120px,1fr))] gap-3"),children:[Ys().map($=>{const Q=Ys().length===1&&F.trim();return r.jsxs("div",{className:Le("flex flex-col items-center justify-center gap-2 p-3 min-w-[120px] min-h-[80px]","bg-white border border-border rounded-lg cursor-grab select-none","transition-all hover:border-primary/30 hover:bg-primary/5 hover:-translate-y-0.5 hover:shadow-sm","active:cursor-grabbing active:-translate-y-0.5",Q&&"bg-primary/10 border-primary/40 shadow-sm"),draggable:!0,onDragStart:be=>qo(be,$,!0),onDragEnd:ir,onClick:()=>ci($.type,$.label,$.icon),children:[r.jsx($.icon,{className:"w-6 h-6 text-primary"}),r.jsx("span",{className:"text-xs font-medium text-foreground text-center leading-tight",children:$.label}),Q&&r.jsx("div",{className:"absolute -top-9 left-1/2 -translate-x-1/2 px-2 py-1 bg-popover border border-border rounded shadow-md text-xs whitespace-nowrap opacity-100 transition-opacity",children:"Press Enter to add"})]},$.type)}),Ys().length===0&&F&&r.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 py-8 text-muted-foreground",children:[r.jsx(ys,{size:24,className:"opacity-50"}),r.jsxs("span",{className:"text-sm font-medium",children:['No elements found for "',F,'"']})]})]})}),q&&r.jsx("button",{className:Le("absolute top-1/2 -translate-y-1/2 left-0 z-[100]","w-10 h-14 flex items-center justify-center","bg-white/95 backdrop-blur-sm border border-border border-l-0","rounded-r-lg pl-2 cursor-pointer","shadow-[0_4px_20px_rgba(0,0,0,0.15),0_1px_3px_rgba(0,0,0,0.1)]","text-foreground transition-all duration-200","hover:bg-primary-50 hover:border-primary-300 hover:text-primary-600 hover:shadow-md",ge?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>Sc("left"),onMouseEnter:()=>Yo("left"),onMouseLeave:Hr,title:"Scroll left",children:r.jsx(Yj,{size:20})}),q&&r.jsx("button",{className:Le("absolute top-1/2 -translate-y-1/2 right-0 z-[100]","w-10 h-14 flex items-center justify-center","bg-white/95 backdrop-blur-sm border border-border border-r-0","rounded-l-lg pr-2 cursor-pointer","shadow-[0_4px_20px_rgba(0,0,0,0.15),0_1px_3px_rgba(0,0,0,0.1)]","text-foreground transition-all duration-200","hover:bg-primary-50 hover:border-primary-300 hover:text-primary-600 hover:shadow-md",Ee?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>Sc("right"),onMouseEnter:()=>Yo("right"),onMouseLeave:Hr,title:"Scroll right",children:r.jsx(to,{size:20})}),q&&r.jsx("div",{className:Le("absolute top-0 bottom-0 left-0 w-10 pointer-events-none z-[50]","bg-gradient-to-r from-black/10 to-transparent","transition-opacity duration-200",ge?"opacity-100":"opacity-0")}),q&&r.jsx("div",{className:Le("absolute top-0 bottom-0 right-0 w-10 pointer-events-none z-[50]","bg-gradient-to-l from-black/10 to-transparent","transition-opacity duration-200",Ee?"opacity-100":"opacity-0")})]})]}),vt&&vt.element&&r.jsx(bE,{element:vt.element,position:vt.position,onClose:()=>Ft(null),onPropertyChange:($,te)=>lr(vt.element.id,$,te),onDelete:()=>Er(vt.element.id)}),vt&&!vt.element&&Tt&&r.jsx(t_,{position:vt.position,settings:me,devicePreview:g,onClose:()=>{Ft(null),kr(!1)},onUpdate:($,te)=>{if($.includes(".")){const[Q,be]=$.split(".");xt(Te=>({...Te,[Q]:{...Te[Q],[be]:te}}))}else xt(Q=>({...Q,[$]:te}))}}),Jt&&r.jsx(WE,{x:Jt.x,y:Jt.y,onClose:()=>fn(null),onAction:_c}),r.jsx(LE,{isOpen:$f,onClose:()=>ar(!1),onRestore:Jo}),r.jsx(RE,{isOpen:wc,onClose:()=>ni(!1)}),r.jsx($E,{isOpen:Pf,onClose:()=>Zs(!1),onExport:Tr}),r.jsx(ME,{isOpen:jc,onClose:()=>ri(!1)}),r.jsx(a_,{isVisible:le,position:he,isCollapsed:Je,onClose:()=>de(!1),onPositionChange:Me,onCollapse:We,onElementClick:$=>{console.log("Element clicked:",$)}}),r.jsx("div",{className:"toast-container",children:E.map($=>r.jsx(qg,{id:$.id,type:$.type,message:$.message,visible:$.visible,hiding:$.hiding,onClose:M},$.id))})]})})},l_=e=>r.jsx(TE,{children:r.jsx(i_,{...e})});window.addEventListener("error",e=>{console.error("SFUI Admin: Global error caught:",e.error)}),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",tx):tx();function tx(){const e=document.getElementById("sfui-admin-root");if(!e)return;if(!window.sfuiData){console.error("SFUI Admin: Data not found on window.sfuiData");return}const{currentPage:t}=window.sfuiData;switch(t){case"super_create_form":Aa(e,r.jsx(lh,{}));break;case"super_form_v2":Aa(e,r.jsx(l_,{}));break;case"super_settings":Aa(e,r.jsx(Dj,{}));break;case"super_entries":Aa(e,r.jsx($j,{}));break;default:Aa(e,r.jsx(lh,{}))}}function Aa(e,t){try{console.log("SFUI Admin: Initializing page:",window.sfuiData?.currentPage),h1.createRoot(e).render(r.jsx(De.StrictMode,{children:t})),console.log("SFUI Admin: Page mounted successfully")}catch(n){console.error("SFUI Admin: Error during initialization:",n)}}const{useDebugValue:c_}=De,{useSyncExternalStoreWithSelector:d_}=Zh,u_=e=>e;function f_(e,t=u_,n){const s=d_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return c_(s),s}const nx=(e,t)=>{const n=Wh(e),s=(i,l=t)=>f_(n,i,l);return Object.assign(s,n),s},rx=(e,t)=>e?nx(e,t):nx,_u={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Tu=new Map,Pl=e=>{const t=Tu.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,s])=>[n,s.getState()])):{}},p_=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const s=Tu.get(n.name);if(s)return{type:"tracked",store:e,...s};const i={connection:t.connect(n),stores:{}};return Tu.set(n.name,i),{type:"tracked",store:e,...i}},ox=(e,t={})=>(n,s,i)=>{const{enabled:l,anonymousActionType:d,store:u,...p}=t;let h;try{h=(l??(_u?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!h)return(_u?"production":void 0)!=="production"&&l&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,s,i);const{connection:g,...v}=p_(u,h,p);let y=!0;i.setState=(N,S,_)=>{const E=n(N,S);if(!y)return E;const w=_===void 0?{type:d||"anonymous"}:typeof _=="string"?{type:_}:_;return u===void 0?(g?.send(w,s()),E):(g?.send({...w,type:`${u}/${w.type}`},{...Pl(p.name),[u]:i.getState()}),E)};const b=(...N)=>{const S=y;y=!1,n(...N),y=S},k=e(i.setState,s,i);if(v.type==="untracked"?g?.init(k):(v.stores[v.store]=i,g?.init(Object.fromEntries(Object.entries(v.stores).map(([N,S])=>[N,N===v.store?k:S.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let N=!1;const S=i.dispatch;i.dispatch=(..._)=>{(_u?"production":void 0)!=="production"&&_[0].type==="__setState"&&!N&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),N=!0),S(..._)}}return g.subscribe(N=>{var S;switch(N.type){case"ACTION":if(typeof N.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return zu(N.payload,_=>{if(_.type==="__setState"){if(u===void 0){b(_.state);return}Object.keys(_.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const E=_.state[u];if(E==null)return;JSON.stringify(i.getState())!==JSON.stringify(E)&&b(E);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(_)});case"DISPATCH":switch(N.payload.type){case"RESET":return b(k),u===void 0?g?.init(i.getState()):g?.init(Pl(p.name));case"COMMIT":if(u===void 0){g?.init(i.getState());return}return g?.init(Pl(p.name));case"ROLLBACK":return zu(N.state,_=>{if(u===void 0){b(_),g?.init(i.getState());return}b(_[u]),g?.init(Pl(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return zu(N.state,_=>{if(u===void 0){b(_);return}JSON.stringify(i.getState())!==JSON.stringify(_[u])&&b(_[u])});case"IMPORT_STATE":{const{nextLiftedState:_}=N.payload,E=(S=_.computedStates.slice(-1)[0])==null?void 0:S.state;if(!E)return;b(u===void 0?E:E[u]),g?.send(null,_);return}case"PAUSE_RECORDING":return y=!y}return}}),k},zu=(e,t)=>{let n;try{n=JSON.parse(e)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}n!==void 0&&t(n)},Es=rx()(ox((e,t)=>({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null,initializeStore:n=>{e({emails:n.emails||[],activeEmailId:n.emails?.[0]?.id||null,translations:n.translations||{}})},addEmail:()=>{const n={id:`email_${Date.now()}`,enabled:!0,description:"New Email",to:"{email}",from_email:"",from_name:"{option_blogname}",subject:"New submission",body:"<p>The following information has been sent:</p>{loop_fields}",attachments:[],reply_to:{enabled:!1,email:"",name:""},cc:"",bcc:"",template:{slug:"none"},conditions:{enabled:!1,f1:"",logic:"==",f2:""},schedule:{enabled:!1,schedules:[]}};e(s=>({emails:[...s.emails,n],activeEmailId:n.id,isDirty:!0}))},removeEmail:n=>{e(s=>{const i=s.emails.filter(d=>d.id!==n),l=s.activeEmailId===n?i[0]?.id||null:s.activeEmailId;return{emails:i,activeEmailId:l,isDirty:!0}})},duplicateEmail:n=>{e(s=>{const i=s.emails.find(p=>p.id===n);if(!i)return s;const l={...i,id:`email_${Date.now()}`,description:`${i.description||"Email"} (Copy)`},d=s.emails.findIndex(p=>p.id===n),u=[...s.emails];return u.splice(d+1,0,l),{emails:u,activeEmailId:l.id,isDirty:!0}})},updateEmail:(n,s)=>{e(i=>({emails:i.emails.map(l=>l.id===n?{...l,...s}:l),isDirty:!0}))},updateEmailField:(n,s,i)=>{e(l=>({emails:l.emails.map(u=>{if(u.id!==n)return u;const p=s.split("."),h={...u};let g=h;for(let v=0;v<p.length-1;v++){const y=p[v];g[y]={...g[y]},g=g[y]}return g[p[p.length-1]]=i,h}),isDirty:!0}))},setActiveEmailId:n=>{e({activeEmailId:n})},getActiveEmail:()=>{const n=t();return n.emails.find(s=>s.id===n.activeEmailId)},setActiveLanguage:n=>{e({activeLanguage:n})},updateTranslation:(n,s,i,l)=>{e(d=>{const u={...d.translations};return u[i]||(u[i]={}),u[i][n]||(u[i][n]={}),u[i][n][s]=l,{translations:u,isDirty:!0}})},reorderEmails:(n,s)=>{e(i=>{const l=[...i.emails],[d]=l.splice(n,1);return l.splice(s,0,d),{emails:l,isDirty:!0}})},save:async(n,s,i)=>{const l=t();e({isSaving:!0,error:null});try{const d=new FormData;d.append("action","super_save_form_emails"),d.append("form_id",String(n)),d.append("nonce",i),d.append("emails",JSON.stringify(l.emails)),d.append("translations",JSON.stringify(l.translations));const u=await fetch(s,{method:"POST",body:d}),p=await u.json();if(!u.ok||!p.success)throw new Error(p.message||"Failed to save");return e({isSaving:!1,isDirty:!1}),{success:!0}}catch(d){const u=d instanceof Error?d.message:"Unknown error";return e({isSaving:!1,error:u}),{success:!1,error:u}}},reset:()=>{e({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null})}})));function m_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>s=>{t.forEach(i=>i(s))},t)}const Ml=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _s(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ru(e){return"nodeType"in e}function an(e){var t,n;return e?_s(e)?e:Ru(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Du(e){const{Document:t}=an(e);return e instanceof t}function Fa(e){return _s(e)?!1:e instanceof an(e).HTMLElement}function sx(e){return e instanceof an(e).SVGElement}function Ts(e){return e?_s(e)?e.document:Ru(e)?Du(e)?e:Fa(e)||sx(e)?e.ownerDocument:document:document:document}const nr=Ml?m.useLayoutEffect:m.useEffect;function Il(e){const t=m.useRef(e);return nr(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t.current==null?void 0:t.current(...s)},[])}function h_(){const e=m.useRef(null),t=m.useCallback((s,i)=>{e.current=setInterval(s,i)},[]),n=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Wa(e,t){t===void 0&&(t=[e]);const n=m.useRef(e);return nr(()=>{n.current!==e&&(n.current=e)},t),n}function Ha(e,t){const n=m.useRef();return m.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Ll(e){const t=Il(e),n=m.useRef(null),s=m.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,s]}function Ol(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let $u={};function Ba(e,t){return m.useMemo(()=>{if(t)return t;const n=$u[e]==null?0:$u[e]+1;return $u[e]=n,e+"-"+n},[e,t])}function ax(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return s.reduce((l,d)=>{const u=Object.entries(d);for(const[p,h]of u){const g=l[p];g!=null&&(l[p]=g+e*h)}return l},{...t})}}const zs=ax(1),Ua=ax(-1);function g_(e){return"clientX"in e&&"clientY"in e}function Al(e){if(!e)return!1;const{KeyboardEvent:t}=an(e.target);return t&&e instanceof t}function x_(e){if(!e)return!1;const{TouchEvent:t}=an(e.target);return t&&e instanceof t}function Fl(e){if(x_(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return g_(e)?{x:e.clientX,y:e.clientY}:null}const wr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[wr.Translate.toString(e),wr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),ix="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function y_(e){return e.matches(ix)?e:e.querySelector(ix)}const v_={display:"none"};function b_(e){let{id:t,value:n}=e;return De.createElement("div",{id:t,style:v_},n)}function w_(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return De.createElement("div",{id:t,style:i,role:"status","aria-live":s,"aria-atomic":!0},n)}function j_(){const[e,t]=m.useState("");return{announce:m.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const lx=m.createContext(null);function N_(e){const t=m.useContext(lx);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function k_(){const[e]=m.useState(()=>new Set),t=m.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[m.useCallback(s=>{let{type:i,event:l}=s;e.forEach(d=>{var u;return(u=d[i])==null?void 0:u.call(d,l)})},[e]),t]}const S_={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},C_={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function E_(e){let{announcements:t=C_,container:n,hiddenTextDescribedById:s,screenReaderInstructions:i=S_}=e;const{announce:l,announcement:d}=j_(),u=Ba("DndLiveRegion"),[p,h]=m.useState(!1);if(m.useEffect(()=>{h(!0)},[]),N_(m.useMemo(()=>({onDragStart(v){let{active:y}=v;l(t.onDragStart({active:y}))},onDragMove(v){let{active:y,over:b}=v;t.onDragMove&&l(t.onDragMove({active:y,over:b}))},onDragOver(v){let{active:y,over:b}=v;l(t.onDragOver({active:y,over:b}))},onDragEnd(v){let{active:y,over:b}=v;l(t.onDragEnd({active:y,over:b}))},onDragCancel(v){let{active:y,over:b}=v;l(t.onDragCancel({active:y,over:b}))}}),[l,t])),!p)return null;const g=De.createElement(De.Fragment,null,De.createElement(b_,{id:s,value:i.draggable}),De.createElement(w_,{id:u,announcement:d}));return n?Do.createPortal(g,n):g}var $t;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})($t||($t={}));function Wl(){}function cx(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function __(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const rr=Object.freeze({x:0,y:0});function dx(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function T_(e,t){const n=Fl(e);if(!n)return"0 0";const s={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return s.x+"% "+s.y+"%"}function ux(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function z_(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function fx(e){let{left:t,top:n,height:s,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+s},{x:t+i,y:n+s}]}function px(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function mx(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Pu=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=mx(t,t.left,t.top),l=[];for(const d of s){const{id:u}=d,p=n.get(u);if(p){const h=dx(mx(p),i);l.push({id:u,data:{droppableContainer:d,value:h}})}}return l.sort(ux)},R_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=fx(t),l=[];for(const d of s){const{id:u}=d,p=n.get(u);if(p){const h=fx(p),g=i.reduce((y,b,k)=>y+dx(h[k],b),0),v=Number((g/4).toFixed(4));l.push({id:u,data:{droppableContainer:d,value:v}})}}return l.sort(ux)};function D_(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),d=i-s,u=l-n;if(s<i&&n<l){const p=t.width*t.height,h=e.width*e.height,g=d*u,v=g/(p+h-g);return Number(v.toFixed(4))}return 0}const $_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const i=[];for(const l of s){const{id:d}=l,u=n.get(d);if(u){const p=D_(u,t);p>0&&i.push({id:d,data:{droppableContainer:l,value:p}})}}return i.sort(z_)};function P_(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function hx(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:rr}function M_(e){return function(n){for(var s=arguments.length,i=new Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return i.reduce((d,u)=>({...d,top:d.top+e*u.y,bottom:d.bottom+e*u.y,left:d.left+e*u.x,right:d.right+e*u.x}),{...n})}}const I_=M_(1);function gx(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function L_(e,t,n){const s=gx(t);if(!s)return e;const{scaleX:i,scaleY:l,x:d,y:u}=s,p=e.left-d-(1-i)*parseFloat(n),h=e.top-u-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),g=i?e.width/i:e.width,v=l?e.height/l:e.height;return{width:g,height:v,top:h,right:p+g,bottom:h+v,left:p}}const O_={ignoreTransform:!1};function Rs(e,t){t===void 0&&(t=O_);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:h,transformOrigin:g}=an(e).getComputedStyle(e);h&&(n=L_(n,h,g))}const{top:s,left:i,width:l,height:d,bottom:u,right:p}=n;return{top:s,left:i,width:l,height:d,bottom:u,right:p}}function xx(e){return Rs(e,{ignoreTransform:!0})}function A_(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function F_(e,t){return t===void 0&&(t=an(e).getComputedStyle(e)),t.position==="fixed"}function W_(e,t){t===void 0&&(t=an(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const l=t[i];return typeof l=="string"?n.test(l):!1})}function Hl(e,t){const n=[];function s(i){if(t!=null&&n.length>=t||!i)return n;if(Du(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Fa(i)||sx(i)||n.includes(i))return n;const l=an(e).getComputedStyle(i);return i!==e&&W_(i,l)&&n.push(i),F_(i,l)?n:s(i.parentNode)}return e?s(e):n}function yx(e){const[t]=Hl(e,1);return t??null}function Mu(e){return!Ml||!e?null:_s(e)?e:Ru(e)?Du(e)||e===Ts(e).scrollingElement?window:Fa(e)?e:null:null}function vx(e){return _s(e)?e.scrollX:e.scrollLeft}function bx(e){return _s(e)?e.scrollY:e.scrollTop}function Iu(e){return{x:vx(e),y:bx(e)}}var At;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(At||(At={}));function wx(e){return!Ml||!e?!1:e===document.scrollingElement}function jx(e){const t={x:0,y:0},n=wx(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,d=e.scrollTop>=s.y,u=e.scrollLeft>=s.x;return{isTop:i,isLeft:l,isBottom:d,isRight:u,maxScroll:s,minScroll:t}}const H_={x:.2,y:.2};function B_(e,t,n,s,i){let{top:l,left:d,right:u,bottom:p}=n;s===void 0&&(s=10),i===void 0&&(i=H_);const{isTop:h,isBottom:g,isLeft:v,isRight:y}=jx(e),b={x:0,y:0},k={x:0,y:0},N={height:t.height*i.y,width:t.width*i.x};return!h&&l<=t.top+N.height?(b.y=At.Backward,k.y=s*Math.abs((t.top+N.height-l)/N.height)):!g&&p>=t.bottom-N.height&&(b.y=At.Forward,k.y=s*Math.abs((t.bottom-N.height-p)/N.height)),!y&&u>=t.right-N.width?(b.x=At.Forward,k.x=s*Math.abs((t.right-N.width-u)/N.width)):!v&&d<=t.left+N.width&&(b.x=At.Backward,k.x=s*Math.abs((t.left+N.width-d)/N.width)),{direction:b,speed:k}}function U_(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:d}=window;return{top:0,left:0,right:l,bottom:d,width:l,height:d}}const{top:t,left:n,right:s,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:i,width:e.clientWidth,height:e.clientHeight}}function Nx(e){return e.reduce((t,n)=>zs(t,Iu(n)),rr)}function V_(e){return e.reduce((t,n)=>t+vx(n),0)}function Z_(e){return e.reduce((t,n)=>t+bx(n),0)}function kx(e,t){if(t===void 0&&(t=Rs),!e)return;const{top:n,left:s,bottom:i,right:l}=t(e);yx(e)&&(i<=0||l<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const G_=[["x",["left","right"],V_],["y",["top","bottom"],Z_]];class Lu{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Hl(n),i=Nx(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,d,u]of G_)for(const p of d)Object.defineProperty(this,p,{get:()=>{const h=u(s),g=i[l]-h;return this.rect[p]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Va{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var i;(i=this.target)==null||i.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function Y_(e){const{EventTarget:t}=an(e);return e instanceof t?e:Ts(e)}function Ou(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var Fn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Fn||(Fn={}));function Sx(e){e.preventDefault()}function q_(e){e.stopPropagation()}var Fe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Fe||(Fe={}));const Cx={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter,Fe.Tab]},K_=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Fe.Right:return{...n,x:n.x+25};case Fe.Left:return{...n,x:n.x-25};case Fe.Down:return{...n,y:n.y+25};case Fe.Up:return{...n,y:n.y-25}}};class Au{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Va(Ts(n)),this.windowListeners=new Va(an(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Fn.Resize,this.handleCancel),this.windowListeners.add(Fn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Fn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&kx(s),n(rr)}handleKeyDown(t){if(Al(t)){const{active:n,context:s,options:i}=this.props,{keyboardCodes:l=Cx,coordinateGetter:d=K_,scrollBehavior:u="smooth"}=i,{code:p}=t;if(l.end.includes(p)){this.handleEnd(t);return}if(l.cancel.includes(p)){this.handleCancel(t);return}const{collisionRect:h}=s.current,g=h?{x:h.left,y:h.top}:rr;this.referenceCoordinates||(this.referenceCoordinates=g);const v=d(t,{active:n,context:s.current,currentCoordinates:g});if(v){const y=Ua(v,g),b={x:0,y:0},{scrollableAncestors:k}=s.current;for(const N of k){const S=t.code,{isTop:_,isRight:E,isLeft:w,isBottom:T,maxScroll:M,minScroll:I}=jx(N),O=U_(N),P={x:Math.min(S===Fe.Right?O.right-O.width/2:O.right,Math.max(S===Fe.Right?O.left:O.left+O.width/2,v.x)),y:Math.min(S===Fe.Down?O.bottom-O.height/2:O.bottom,Math.max(S===Fe.Down?O.top:O.top+O.height/2,v.y))},B=S===Fe.Right&&!E||S===Fe.Left&&!w,V=S===Fe.Down&&!T||S===Fe.Up&&!_;if(B&&P.x!==v.x){const oe=N.scrollLeft+y.x,ue=S===Fe.Right&&oe<=M.x||S===Fe.Left&&oe>=I.x;if(ue&&!y.y){N.scrollTo({left:oe,behavior:u});return}ue?b.x=N.scrollLeft-oe:b.x=S===Fe.Right?N.scrollLeft-M.x:N.scrollLeft-I.x,b.x&&N.scrollBy({left:-b.x,behavior:u});break}else if(V&&P.y!==v.y){const oe=N.scrollTop+y.y,ue=S===Fe.Down&&oe<=M.y||S===Fe.Up&&oe>=I.y;if(ue&&!y.x){N.scrollTo({top:oe,behavior:u});return}ue?b.y=N.scrollTop-oe:b.y=S===Fe.Down?N.scrollTop-M.y:N.scrollTop-I.y,b.y&&N.scrollBy({top:-b.y,behavior:u});break}}this.handleMove(t,zs(Ua(v,this.referenceCoordinates),b))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Au.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=Cx,onActivation:i}=t,{active:l}=n;const{code:d}=e.nativeEvent;if(s.start.includes(d)){const u=l.activatorNode.current;return u&&e.target!==u?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Ex(e){return!!(e&&"distance"in e)}function _x(e){return!!(e&&"delay"in e)}class Fu{constructor(t,n,s){var i;s===void 0&&(s=Y_(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:d}=l;this.props=t,this.events=n,this.document=Ts(d),this.documentListeners=new Va(this.document),this.listeners=new Va(s),this.windowListeners=new Va(an(d)),this.initialCoordinates=(i=Fl(l))!=null?i:rr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Fn.Resize,this.handleCancel),this.windowListeners.add(Fn.DragStart,Sx),this.windowListeners.add(Fn.VisibilityChange,this.handleCancel),this.windowListeners.add(Fn.ContextMenu,Sx),this.documentListeners.add(Fn.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_x(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ex(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:i}=this.props;i(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Fn.Click,q_,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Fn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:i,props:l}=this,{onMove:d,options:{activationConstraint:u}}=l;if(!i)return;const p=(n=Fl(t))!=null?n:rr,h=Ua(i,p);if(!s&&u){if(Ex(u)){if(u.tolerance!=null&&Ou(h,u.tolerance))return this.handleCancel();if(Ou(h,u.distance))return this.handleStart()}if(_x(u)&&Ou(h,u.tolerance))return this.handleCancel();this.handlePending(u,h);return}t.cancelable&&t.preventDefault(),d(p)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const X_={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Wu extends Fu{constructor(t){const{event:n}=t,s=Ts(n.target);super(t,X_,s)}}Wu.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const J_={move:{name:"mousemove"},end:{name:"mouseup"}};var Hu;(function(e){e[e.RightClick=2]="RightClick"})(Hu||(Hu={}));class Q_ extends Fu{constructor(t){super(t,J_,Ts(t.event.target))}}Q_.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===Hu.RightClick?!1:(s?.({event:n}),!0)}}];const Bu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class e4 extends Fu{constructor(t){super(t,Bu)}static setup(){return window.addEventListener(Bu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Bu.move.name,t)};function t(){}}}e4.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:i}=n;return i.length>1?!1:(s?.({event:n}),!0)}}];var Za;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Za||(Za={}));var Bl;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Bl||(Bl={}));function t4(e){let{acceleration:t,activator:n=Za.Pointer,canScroll:s,draggingRect:i,enabled:l,interval:d=5,order:u=Bl.TreeOrder,pointerCoordinates:p,scrollableAncestors:h,scrollableAncestorRects:g,delta:v,threshold:y}=e;const b=r4({delta:v,disabled:!l}),[k,N]=h_(),S=m.useRef({x:0,y:0}),_=m.useRef({x:0,y:0}),E=m.useMemo(()=>{switch(n){case Za.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case Za.DraggableRect:return i}},[n,i,p]),w=m.useRef(null),T=m.useCallback(()=>{const I=w.current;if(!I)return;const O=S.current.x*_.current.x,P=S.current.y*_.current.y;I.scrollBy(O,P)},[]),M=m.useMemo(()=>u===Bl.TreeOrder?[...h].reverse():h,[u,h]);m.useEffect(()=>{if(!l||!h.length||!E){N();return}for(const I of M){if(s?.(I)===!1)continue;const O=h.indexOf(I),P=g[O];if(!P)continue;const{direction:B,speed:V}=B_(I,P,E,t,y);for(const oe of["x","y"])b[oe][B[oe]]||(V[oe]=0,B[oe]=0);if(V.x>0||V.y>0){N(),w.current=I,k(T,d),S.current=V,_.current=B;return}}S.current={x:0,y:0},_.current={x:0,y:0},N()},[t,T,s,N,l,d,JSON.stringify(E),JSON.stringify(b),k,h,M,g,JSON.stringify(y)])}const n4={x:{[At.Backward]:!1,[At.Forward]:!1},y:{[At.Backward]:!1,[At.Forward]:!1}};function r4(e){let{delta:t,disabled:n}=e;const s=Ol(t);return Ha(i=>{if(n||!s||!i)return n4;const l={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[At.Backward]:i.x[At.Backward]||l.x===-1,[At.Forward]:i.x[At.Forward]||l.x===1},y:{[At.Backward]:i.y[At.Backward]||l.y===-1,[At.Forward]:i.y[At.Forward]||l.y===1}}},[n,t,s])}function o4(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Ha(i=>{var l;return t==null?null:(l=s??i)!=null?l:null},[s,t])}function s4(e,t){return m.useMemo(()=>e.reduce((n,s)=>{const{sensor:i}=s,l=i.activators.map(d=>({eventName:d.eventName,handler:t(d.handler,s)}));return[...n,...l]},[]),[e,t])}var Ga;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ga||(Ga={}));var Uu;(function(e){e.Optimized="optimized"})(Uu||(Uu={}));const Tx=new Map;function a4(e,t){let{dragging:n,dependencies:s,config:i}=t;const[l,d]=m.useState(null),{frequency:u,measure:p,strategy:h}=i,g=m.useRef(e),v=S(),y=Wa(v),b=m.useCallback(function(_){_===void 0&&(_=[]),!y.current&&d(E=>E===null?_:E.concat(_.filter(w=>!E.includes(w))))},[y]),k=m.useRef(null),N=Ha(_=>{if(v&&!n)return Tx;if(!_||_===Tx||g.current!==e||l!=null){const E=new Map;for(let w of e){if(!w)continue;if(l&&l.length>0&&!l.includes(w.id)&&w.rect.current){E.set(w.id,w.rect.current);continue}const T=w.node.current,M=T?new Lu(p(T),T):null;w.rect.current=M,M&&E.set(w.id,M)}return E}return _},[e,l,n,v,p]);return m.useEffect(()=>{g.current=e},[e]),m.useEffect(()=>{v||b()},[n,v]),m.useEffect(()=>{l&&l.length>0&&d(null)},[JSON.stringify(l)]),m.useEffect(()=>{v||typeof u!="number"||k.current!==null||(k.current=setTimeout(()=>{b(),k.current=null},u))},[u,v,b,...s]),{droppableRects:N,measureDroppableContainers:b,measuringScheduled:l!=null};function S(){switch(h){case Ga.Always:return!1;case Ga.BeforeDragging:return n;default:return!n}}}function Vu(e,t){return Ha(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function i4(e,t){return Vu(e,t)}function l4(e){let{callback:t,disabled:n}=e;const s=Il(t),i=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,n]);return m.useEffect(()=>()=>i?.disconnect(),[i]),i}function Ul(e){let{callback:t,disabled:n}=e;const s=Il(t),i=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[n]);return m.useEffect(()=>()=>i?.disconnect(),[i]),i}function c4(e){return new Lu(Rs(e),e)}function zx(e,t,n){t===void 0&&(t=c4);const[s,i]=m.useState(null);function l(){i(p=>{if(!e)return null;if(e.isConnected===!1){var h;return(h=p??n)!=null?h:null}const g=t(e);return JSON.stringify(p)===JSON.stringify(g)?p:g})}const d=l4({callback(p){if(e)for(const h of p){const{type:g,target:v}=h;if(g==="childList"&&v instanceof HTMLElement&&v.contains(e)){l();break}}}}),u=Ul({callback:l});return nr(()=>{l(),e?(u?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),d?.disconnect())},[e]),s}function d4(e){const t=Vu(e);return hx(e,t)}const Rx=[];function u4(e){const t=m.useRef(e),n=Ha(s=>e?s&&s!==Rx&&e&&t.current&&e.parentNode===t.current.parentNode?s:Hl(e):Rx,[e]);return m.useEffect(()=>{t.current=e},[e]),n}function f4(e){const[t,n]=m.useState(null),s=m.useRef(e),i=m.useCallback(l=>{const d=Mu(l.target);d&&n(u=>u?(u.set(d,Iu(d)),new Map(u)):null)},[]);return m.useEffect(()=>{const l=s.current;if(e!==l){d(l);const u=e.map(p=>{const h=Mu(p);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,Iu(h)]):null}).filter(p=>p!=null);n(u.length?new Map(u):null),s.current=e}return()=>{d(e),d(l)};function d(u){u.forEach(p=>{const h=Mu(p);h?.removeEventListener("scroll",i)})}},[i,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,d)=>zs(l,d),rr):Nx(e):rr,[e,t])}function Dx(e,t){t===void 0&&(t=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},t),m.useEffect(()=>{const s=e!==rr;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Ua(e,n.current):rr}function p4(e){m.useEffect(()=>{if(!Ml)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function m4(e,t){return m.useMemo(()=>e.reduce((n,s)=>{let{eventName:i,handler:l}=s;return n[i]=d=>{l(d,t)},n},{}),[e,t])}function $x(e){return m.useMemo(()=>e?A_(e):null,[e])}const Px=[];function h4(e,t){t===void 0&&(t=Rs);const[n]=e,s=$x(n?an(n):null),[i,l]=m.useState(Px);function d(){l(()=>e.length?e.map(p=>wx(p)?s:new Lu(t(p),p)):Px)}const u=Ul({callback:d});return nr(()=>{u?.disconnect(),d(),e.forEach(p=>u?.observe(p))},[e]),i}function Mx(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Fa(t)?t:e}function g4(e){let{measure:t}=e;const[n,s]=m.useState(null),i=m.useCallback(h=>{for(const{target:g}of h)if(Fa(g)){s(v=>{const y=t(g);return v?{...v,width:y.width,height:y.height}:y});break}},[t]),l=Ul({callback:i}),d=m.useCallback(h=>{const g=Mx(h);l?.disconnect(),g&&l?.observe(g),s(g?t(g):null)},[t,l]),[u,p]=Ll(d);return m.useMemo(()=>({nodeRef:u,rect:n,setRef:p}),[n,u,p])}const x4=[{sensor:Wu,options:{}},{sensor:Au,options:{}}],y4={current:{}},Vl={draggable:{measure:xx},droppable:{measure:xx,strategy:Ga.WhileDragging,frequency:Uu.Optimized},dragOverlay:{measure:Rs}};class Ya extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const v4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ya,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Wl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Vl,measureDroppableContainers:Wl,windowRect:null,measuringScheduled:!1},Ix={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Wl,draggableNodes:new Map,over:null,measureDroppableContainers:Wl},qa=m.createContext(Ix),Lx=m.createContext(v4);function b4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ya}}}function w4(e,t){switch(t.type){case $t.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case $t.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case $t.DragEnd:case $t.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $t.RegisterDroppable:{const{element:n}=t,{id:s}=n,i=new Ya(e.droppable.containers);return i.set(s,n),{...e,droppable:{...e.droppable,containers:i}}}case $t.SetDroppableDisabled:{const{id:n,key:s,disabled:i}=t,l=e.droppable.containers.get(n);if(!l||s!==l.key)return e;const d=new Ya(e.droppable.containers);return d.set(n,{...l,disabled:i}),{...e,droppable:{...e.droppable,containers:d}}}case $t.UnregisterDroppable:{const{id:n,key:s}=t,i=e.droppable.containers.get(n);if(!i||s!==i.key)return e;const l=new Ya(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function j4(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:i}=m.useContext(qa),l=Ol(s),d=Ol(n?.id);return m.useEffect(()=>{if(!t&&!s&&l&&d!=null){if(!Al(l)||document.activeElement===l.target)return;const u=i.get(d);if(!u)return;const{activatorNode:p,node:h}=u;if(!p.current&&!h.current)return;requestAnimationFrame(()=>{for(const g of[p.current,h.current]){if(!g)continue;const v=y_(g);if(v){v.focus();break}}})}},[s,t,i,d,l]),null}function Ox(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((i,l)=>l({transform:i,...s}),n):n}function N4(e){return m.useMemo(()=>({draggable:{...Vl.draggable,...e?.draggable},droppable:{...Vl.droppable,...e?.droppable},dragOverlay:{...Vl.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function k4(e){let{activeNode:t,measure:n,initialRect:s,config:i=!0}=e;const l=m.useRef(!1),{x:d,y:u}=typeof i=="boolean"?{x:i,y:i}:i;nr(()=>{if(!d&&!u||!t){l.current=!1;return}if(l.current||!s)return;const h=t?.node.current;if(!h||h.isConnected===!1)return;const g=n(h),v=hx(g,s);if(d||(v.x=0),u||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const y=yx(h);y&&y.scrollBy({top:v.y,left:v.x})}},[t,d,u,s,n])}const Zl=m.createContext({...rr,scaleX:1,scaleY:1});var io;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(io||(io={}));const Zu=m.memo(function(t){var n,s,i,l;let{id:d,accessibility:u,autoScroll:p=!0,children:h,sensors:g=x4,collisionDetection:v=$_,measuring:y,modifiers:b,...k}=t;const N=m.useReducer(w4,void 0,b4),[S,_]=N,[E,w]=k_(),[T,M]=m.useState(io.Uninitialized),I=T===io.Initialized,{draggable:{active:O,nodes:P,translate:B},droppable:{containers:V}}=S,oe=O!=null?P.get(O):null,ue=m.useRef({initial:null,translated:null}),Ne=m.useMemo(()=>{var ft;return O!=null?{id:O,data:(ft=oe?.data)!=null?ft:y4,rect:ue}:null},[O,oe]),re=m.useRef(null),[ke,ae]=m.useState(null),[ne,F]=m.useState(null),K=Wa(k,Object.values(k)),q=Ba("DndDescribedBy",d),z=m.useMemo(()=>V.getEnabled(),[V]),R=N4(y),{droppableRects:G,measureDroppableContainers:Y,measuringScheduled:J}=a4(z,{dragging:I,dependencies:[B.x,B.y],config:R.droppable}),xe=o4(P,O),U=m.useMemo(()=>ne?Fl(ne):null,[ne]),ge=Xt(),ze=i4(xe,R.draggable.measure);k4({activeNode:O!=null?P.get(O):null,config:ge.layoutShiftCompensation,initialRect:ze,measure:R.draggable.measure});const Ee=zx(xe,R.draggable.measure,ze),rt=zx(xe?xe.parentElement:null),Ge=m.useRef({activatorEvent:null,active:null,activeNode:xe,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ot=V.getNodeFor((n=Ge.current.over)==null?void 0:n.id),Xe=g4({measure:R.dragOverlay.measure}),Ct=(s=Xe.nodeRef.current)!=null?s:xe,Kt=I?(i=Xe.rect)!=null?i:Ee:null,tn=!!(Xe.nodeRef.current&&Xe.rect),cn=d4(tn?null:Ee),le=$x(Ct?an(Ct):null),de=u4(I?ot??xe:null),he=h4(de),Me=Ox(b,{transform:{x:B.x-cn.x,y:B.y-cn.y,scaleX:1,scaleY:1},activatorEvent:ne,active:Ne,activeNodeRect:Ee,containerNodeRect:rt,draggingNodeRect:Kt,over:Ge.current.over,overlayNodeRect:Xe.rect,scrollableAncestors:de,scrollableAncestorRects:he,windowRect:le}),Je=U?zs(U,B):null,We=f4(de),me=Dx(We),xt=Dx(We,[Ee]),tt=zs(Me,me),Qe=Kt?I_(Kt,Me):null,_n=Ne&&Qe?v({active:Ne,collisionRect:Qe,droppableRects:G,droppableContainers:z,pointerCoordinates:Je}):null,dn=px(_n,"id"),[Tt,kr]=m.useState(null),ei=tn?Me:zs(Me,xt),ti=P_(ei,(l=Tt?.rect)!=null?l:null,Ee),Go=m.useRef(null),co=m.useCallback((ft,Pt)=>{let{sensor:Nt,options:yt}=Pt;if(re.current==null)return;const pt=P.get(re.current);if(!pt)return;const zt=ft.nativeEvent,Mt=new Nt({active:re.current,activeNode:pt,event:zt,options:yt,context:Ge,onAbort(Ke){if(!P.get(Ke))return;const{onDragAbort:It}=K.current,yn={id:Ke};It?.(yn),E({type:"onDragAbort",event:yn})},onPending(Ke,un,It,yn){if(!P.get(Ke))return;const{onDragPending:fn}=K.current,vt={id:Ke,constraint:un,initialCoordinates:It,offset:yn};fn?.(vt),E({type:"onDragPending",event:vt})},onStart(Ke){const un=re.current;if(un==null)return;const It=P.get(un);if(!It)return;const{onDragStart:yn}=K.current,Jt={activatorEvent:zt,active:{id:un,data:It.data,rect:ue}};Do.unstable_batchedUpdates(()=>{yn?.(Jt),M(io.Initializing),_({type:$t.DragStart,initialCoordinates:Ke,active:un}),E({type:"onDragStart",event:Jt}),ae(Go.current),F(zt)})},onMove(Ke){_({type:$t.DragMove,coordinates:Ke})},onEnd:Tn($t.DragEnd),onCancel:Tn($t.DragCancel)});Go.current=Mt;function Tn(Ke){return async function(){const{active:It,collisions:yn,over:Jt,scrollAdjustedTranslate:fn}=Ge.current;let vt=null;if(It&&fn){const{cancelDrop:Ft}=K.current;vt={activatorEvent:zt,active:It,collisions:yn,delta:fn,over:Jt},Ke===$t.DragEnd&&typeof Ft=="function"&&await Promise.resolve(Ft(vt))&&(Ke=$t.DragCancel)}re.current=null,Do.unstable_batchedUpdates(()=>{_({type:Ke}),M(io.Uninitialized),kr(null),ae(null),F(null),Go.current=null;const Ft=Ke===$t.DragEnd?"onDragEnd":"onDragCancel";if(vt){const Vs=K.current[Ft];Vs?.(vt),E({type:Ft,event:vt})}})}}},[P]),Sr=m.useCallback((ft,Pt)=>(Nt,yt)=>{const pt=Nt.nativeEvent,zt=P.get(yt);if(re.current!==null||!zt||pt.dndKit||pt.defaultPrevented)return;const Mt={active:zt};ft(Nt,Pt.options,Mt)===!0&&(pt.dndKit={capturedBy:Pt.sensor},re.current=yt,co(Nt,Pt))},[P,co]),Cr=s4(g,Sr);p4(g),nr(()=>{Ee&&T===io.Initializing&&M(io.Initialized)},[Ee,T]),m.useEffect(()=>{const{onDragMove:ft}=K.current,{active:Pt,activatorEvent:Nt,collisions:yt,over:pt}=Ge.current;if(!Pt||!Nt)return;const zt={active:Pt,activatorEvent:Nt,collisions:yt,delta:{x:tt.x,y:tt.y},over:pt};Do.unstable_batchedUpdates(()=>{ft?.(zt),E({type:"onDragMove",event:zt})})},[tt.x,tt.y]),m.useEffect(()=>{const{active:ft,activatorEvent:Pt,collisions:Nt,droppableContainers:yt,scrollAdjustedTranslate:pt}=Ge.current;if(!ft||re.current==null||!Pt||!pt)return;const{onDragOver:zt}=K.current,Mt=yt.get(dn),Tn=Mt&&Mt.rect.current?{id:Mt.id,rect:Mt.rect.current,data:Mt.data,disabled:Mt.disabled}:null,Ke={active:ft,activatorEvent:Pt,collisions:Nt,delta:{x:pt.x,y:pt.y},over:Tn};Do.unstable_batchedUpdates(()=>{kr(Tn),zt?.(Ke),E({type:"onDragOver",event:Ke})})},[dn]),nr(()=>{Ge.current={activatorEvent:ne,active:Ne,activeNode:xe,collisionRect:Qe,collisions:_n,droppableRects:G,draggableNodes:P,draggingNode:Ct,draggingNodeRect:Kt,droppableContainers:V,over:Tt,scrollableAncestors:de,scrollAdjustedTranslate:tt},ue.current={initial:Kt,translated:Qe}},[Ne,xe,_n,Qe,P,Ct,Kt,G,V,Tt,de,tt]),t4({...ge,delta:B,draggingRect:Qe,pointerCoordinates:Je,scrollableAncestors:de,scrollableAncestorRects:he});const uo=m.useMemo(()=>({active:Ne,activeNode:xe,activeNodeRect:Ee,activatorEvent:ne,collisions:_n,containerNodeRect:rt,dragOverlay:Xe,draggableNodes:P,droppableContainers:V,droppableRects:G,over:Tt,measureDroppableContainers:Y,scrollableAncestors:de,scrollableAncestorRects:he,measuringConfiguration:R,measuringScheduled:J,windowRect:le}),[Ne,xe,Ee,ne,_n,rt,Xe,P,V,G,Tt,Y,de,he,R,J,le]),qe=m.useMemo(()=>({activatorEvent:ne,activators:Cr,active:Ne,activeNodeRect:Ee,ariaDescribedById:{draggable:q},dispatch:_,draggableNodes:P,over:Tt,measureDroppableContainers:Y}),[ne,Cr,Ne,Ee,_,q,P,Tt,Y]);return De.createElement(lx.Provider,{value:w},De.createElement(qa.Provider,{value:qe},De.createElement(Lx.Provider,{value:uo},De.createElement(Zl.Provider,{value:ti},h)),De.createElement(j4,{disabled:u?.restoreFocus===!1})),De.createElement(E_,{...u,hiddenTextDescribedById:q}));function Xt(){const ft=ke?.autoScrollEnabled===!1,Pt=typeof p=="object"?p.enabled===!1:p===!1,Nt=I&&!ft&&!Pt;return typeof p=="object"?{...p,enabled:Nt}:{enabled:Nt}}}),S4=m.createContext(null),Ax="button",C4="Draggable";function Gu(e){let{id:t,data:n,disabled:s=!1,attributes:i}=e;const l=Ba(C4),{activators:d,activatorEvent:u,active:p,activeNodeRect:h,ariaDescribedById:g,draggableNodes:v,over:y}=m.useContext(qa),{role:b=Ax,roleDescription:k="draggable",tabIndex:N=0}=i??{},S=p?.id===t,_=m.useContext(S?Zl:S4),[E,w]=Ll(),[T,M]=Ll(),I=m4(d,t),O=Wa(n);nr(()=>(v.set(t,{id:t,key:l,node:E,activatorNode:T,data:O}),()=>{const B=v.get(t);B&&B.key===l&&v.delete(t)}),[v,t]);const P=m.useMemo(()=>({role:b,tabIndex:N,"aria-disabled":s,"aria-pressed":S&&b===Ax?!0:void 0,"aria-roledescription":k,"aria-describedby":g.draggable}),[s,b,N,S,k,g.draggable]);return{active:p,activatorEvent:u,activeNodeRect:h,attributes:P,isDragging:S,listeners:s?void 0:I,node:E,over:y,setNodeRef:w,setActivatorNodeRef:M,transform:_}}function Fx(){return m.useContext(Lx)}const E4="Droppable",_4={timeout:25};function or(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:i}=e;const l=Ba(E4),{active:d,dispatch:u,over:p,measureDroppableContainers:h}=m.useContext(qa),g=m.useRef({disabled:n}),v=m.useRef(!1),y=m.useRef(null),b=m.useRef(null),{disabled:k,updateMeasurementsFor:N,timeout:S}={..._4,...i},_=Wa(N??s),E=m.useCallback(()=>{if(!v.current){v.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{h(Array.isArray(_.current)?_.current:[_.current]),b.current=null},S)},[S]),w=Ul({callback:E,disabled:k||!d}),T=m.useCallback((P,B)=>{w&&(B&&(w.unobserve(B),v.current=!1),P&&w.observe(P))},[w]),[M,I]=Ll(T),O=Wa(t);return m.useEffect(()=>{!w||!M.current||(w.disconnect(),v.current=!1,w.observe(M.current))},[M,w]),m.useEffect(()=>(u({type:$t.RegisterDroppable,element:{id:s,key:l,disabled:n,node:M,rect:y,data:O}}),()=>u({type:$t.UnregisterDroppable,key:l,id:s})),[s]),m.useEffect(()=>{n!==g.current.disabled&&(u({type:$t.SetDroppableDisabled,id:s,key:l,disabled:n}),g.current.disabled=n)},[s,l,n,u]),{active:d,rect:y,isOver:p?.id===s,node:M,over:p,setNodeRef:I}}function T4(e){let{animation:t,children:n}=e;const[s,i]=m.useState(null),[l,d]=m.useState(null),u=Ol(n);return!n&&!s&&u&&i(u),nr(()=>{if(!l)return;const p=s?.key,h=s?.props.id;if(p==null||h==null){i(null);return}Promise.resolve(t(h,l)).then(()=>{i(null)})},[t,s,l]),De.createElement(De.Fragment,null,n,s?m.cloneElement(s,{ref:d}):null)}const z4={x:0,y:0,scaleX:1,scaleY:1};function R4(e){let{children:t}=e;return De.createElement(qa.Provider,{value:Ix},De.createElement(Zl.Provider,{value:z4},t))}const D4={position:"fixed",touchAction:"none"},$4=e=>Al(e)?"transform 250ms ease":void 0,P4=m.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:i,children:l,className:d,rect:u,style:p,transform:h,transition:g=$4}=e;if(!u)return null;const v=i?h:{...h,scaleX:1,scaleY:1},y={...D4,width:u.width,height:u.height,top:u.top,left:u.left,transform:wr.Transform.toString(v),transformOrigin:i&&s?T_(s,u):void 0,transition:typeof g=="function"?g(s):g,...p};return De.createElement(n,{className:d,style:y,ref:t},l)}),M4={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:wr.Transform.toString(t)},{transform:wr.Transform.toString(n)}]},sideEffects:(e=>t=>{let{active:n,dragOverlay:s}=t;const i={},{styles:l,className:d}=e;if(l!=null&&l.active)for(const[u,p]of Object.entries(l.active))p!==void 0&&(i[u]=n.node.style.getPropertyValue(u),n.node.style.setProperty(u,p));if(l!=null&&l.dragOverlay)for(const[u,p]of Object.entries(l.dragOverlay))p!==void 0&&s.node.style.setProperty(u,p);return d!=null&&d.active&&n.node.classList.add(d.active),d!=null&&d.dragOverlay&&s.node.classList.add(d.dragOverlay),function(){for(const[p,h]of Object.entries(i))n.node.style.setProperty(p,h);d!=null&&d.active&&n.node.classList.remove(d.active)}})({styles:{active:{opacity:"0"}}})};function I4(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:i}=e;return Il((l,d)=>{if(t===null)return;const u=n.get(l);if(!u)return;const p=u.node.current;if(!p)return;const h=Mx(d);if(!h)return;const{transform:g}=an(d).getComputedStyle(d),v=gx(g);if(!v)return;const y=typeof t=="function"?t:L4(t);return kx(p,i.draggable.measure),y({active:{id:l,data:u.data,node:p,rect:i.draggable.measure(p)},draggableNodes:n,dragOverlay:{node:d,rect:i.dragOverlay.measure(h)},droppableContainers:s,measuringConfiguration:i,transform:v})})}function L4(e){const{duration:t,easing:n,sideEffects:s,keyframes:i}={...M4,...e};return l=>{let{active:d,dragOverlay:u,transform:p,...h}=l;if(!t)return;const g={x:u.rect.left-d.rect.left,y:u.rect.top-d.rect.top},v={scaleX:p.scaleX!==1?d.rect.width*p.scaleX/u.rect.width:1,scaleY:p.scaleY!==1?d.rect.height*p.scaleY/u.rect.height:1},y={x:p.x-g.x,y:p.y-g.y,...v},b=i({...h,active:d,dragOverlay:u,transform:{initial:p,final:y}}),[k]=b,N=b[b.length-1];if(JSON.stringify(k)===JSON.stringify(N))return;const S=s?.({active:d,dragOverlay:u,...h}),_=u.node.animate(b,{duration:t,easing:n,fill:"forwards"});return new Promise(E=>{_.onfinish=()=>{S?.(),E()}})}}let Wx=0;function O4(e){return m.useMemo(()=>{if(e!=null)return Wx++,Wx},[e])}const Hx=De.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:i,transition:l,modifiers:d,wrapperElement:u="div",className:p,zIndex:h=999}=e;const{activatorEvent:g,active:v,activeNodeRect:y,containerNodeRect:b,draggableNodes:k,droppableContainers:N,dragOverlay:S,over:_,measuringConfiguration:E,scrollableAncestors:w,scrollableAncestorRects:T,windowRect:M}=Fx(),I=m.useContext(Zl),O=O4(v?.id),P=Ox(d,{activatorEvent:g,active:v,activeNodeRect:y,containerNodeRect:b,draggingNodeRect:S.rect,over:_,overlayNodeRect:S.rect,scrollableAncestors:w,scrollableAncestorRects:T,transform:I,windowRect:M}),B=Vu(y),V=I4({config:s,draggableNodes:k,droppableContainers:N,measuringConfiguration:E}),oe=B?S.setRef:void 0;return De.createElement(R4,null,De.createElement(T4,{animation:V},v&&O?De.createElement(P4,{key:O,id:v.id,ref:oe,as:u,activatorEvent:g,adjustScale:t,className:p,transition:l,rect:B,style:{zIndex:h,...i},transform:P},n):null))});function Bx(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function A4(e,t){return e.reduce((n,s,i)=>{const l=t.get(s);return l&&(n[i]=l),n},Array(e.length))}function Gl(e){return e!==null&&e>=0}function F4(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function W4(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Ux=e=>{let{rects:t,activeIndex:n,overIndex:s,index:i}=e;const l=Bx(t,s,n),d=t[i],u=l[i];return!u||!d?null:{x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height}},Yl={scaleX:1,scaleY:1},Yu=e=>{var t;let{activeIndex:n,activeNodeRect:s,index:i,rects:l,overIndex:d}=e;const u=(t=l[n])!=null?t:s;if(!u)return null;if(i===n){const h=l[d];return h?{x:0,y:n<d?h.top+h.height-(u.top+u.height):h.top-u.top,...Yl}:null}const p=H4(l,i,n);return i>n&&i<=d?{x:0,y:-u.height-p,...Yl}:i<n&&i>=d?{x:0,y:u.height+p,...Yl}:{x:0,y:0,...Yl}};function H4(e,t,n){const s=e[t],i=e[t-1],l=e[t+1];return s?n<t?i?s.top-(i.top+i.height):l?l.top-(s.top+s.height):0:l?l.top-(s.top+s.height):i?s.top-(i.top+i.height):0:0}const Vx="Sortable",Zx=De.createContext({activeIndex:-1,containerId:Vx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ux,disabled:{draggable:!1,droppable:!1}});function qu(e){let{children:t,id:n,items:s,strategy:i=Ux,disabled:l=!1}=e;const{active:d,dragOverlay:u,droppableRects:p,over:h,measureDroppableContainers:g}=Fx(),v=Ba(Vx,n),y=u.rect!==null,b=m.useMemo(()=>s.map(I=>typeof I=="object"&&"id"in I?I.id:I),[s]),k=d!=null,N=d?b.indexOf(d.id):-1,S=h?b.indexOf(h.id):-1,_=m.useRef(b),E=!F4(b,_.current),w=S!==-1&&N===-1||E,T=W4(l);nr(()=>{E&&k&&g(b)},[E,b,k,g]),m.useEffect(()=>{_.current=b},[b]);const M=m.useMemo(()=>({activeIndex:N,containerId:v,disabled:T,disableTransforms:w,items:b,overIndex:S,useDragOverlay:y,sortedRects:A4(b,p),strategy:i}),[N,v,T.draggable,T.droppable,w,b,S,p,y,i]);return De.createElement(Zx.Provider,{value:M},t)}const B4=e=>{let{id:t,items:n,activeIndex:s,overIndex:i}=e;return Bx(n,s,i).indexOf(t)},U4=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:i,items:l,newIndex:d,previousItems:u,previousContainerId:p,transition:h}=e;return!h||!s||u!==l&&i===d?!1:n?!0:d!==i&&t===p},V4={duration:200,easing:"ease"},Gx="transform",Z4=wr.Transition.toString({property:Gx,duration:0,easing:"linear"}),G4={roleDescription:"sortable"};function Y4(e){let{disabled:t,index:n,node:s,rect:i}=e;const[l,d]=m.useState(null),u=m.useRef(n);return nr(()=>{if(!t&&n!==u.current&&s.current){const p=i.current;if(p){const h=Rs(s.current,{ignoreTransform:!0}),g={x:p.left-h.left,y:p.top-h.top,scaleX:p.width/h.width,scaleY:p.height/h.height};(g.x||g.y)&&d(g)}}n!==u.current&&(u.current=n)},[t,n,s,i]),m.useEffect(()=>{l&&d(null)},[l]),l}function Ku(e){let{animateLayoutChanges:t=U4,attributes:n,disabled:s,data:i,getNewIndex:l=B4,id:d,strategy:u,resizeObserverConfig:p,transition:h=V4}=e;const{items:g,containerId:v,activeIndex:y,disabled:b,disableTransforms:k,sortedRects:N,overIndex:S,useDragOverlay:_,strategy:E}=m.useContext(Zx),w=q4(s,b),T=g.indexOf(d),M=m.useMemo(()=>({sortable:{containerId:v,index:T,items:g},...i}),[v,i,T,g]),I=m.useMemo(()=>g.slice(g.indexOf(d)),[g,d]),{rect:O,node:P,isOver:B,setNodeRef:V}=or({id:d,data:M,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...p}}),{active:oe,activatorEvent:ue,activeNodeRect:Ne,attributes:re,setNodeRef:ke,listeners:ae,isDragging:ne,over:F,setActivatorNodeRef:K,transform:q}=Gu({id:d,data:M,attributes:{...G4,...n},disabled:w.draggable}),z=m_(V,ke),R=!!oe,G=R&&!k&&Gl(y)&&Gl(S),Y=!_&&ne,J=Y&&G?q:null,U=G?J??(u??E)({rects:N,activeNodeRect:Ne,activeIndex:y,overIndex:S,index:T}):null,ge=Gl(y)&&Gl(S)?l({id:d,items:g,activeIndex:y,overIndex:S}):T,ze=oe?.id,Ee=m.useRef({activeId:ze,items:g,newIndex:ge,containerId:v}),rt=g!==Ee.current.items,Ge=t({active:oe,containerId:v,isDragging:ne,isSorting:R,id:d,index:T,items:g,newIndex:Ee.current.newIndex,previousItems:Ee.current.items,previousContainerId:Ee.current.containerId,transition:h,wasDragging:Ee.current.activeId!=null}),ot=Y4({disabled:!Ge,index:T,node:P,rect:O});return m.useEffect(()=>{R&&Ee.current.newIndex!==ge&&(Ee.current.newIndex=ge),v!==Ee.current.containerId&&(Ee.current.containerId=v),g!==Ee.current.items&&(Ee.current.items=g)},[R,ge,v,g]),m.useEffect(()=>{if(ze===Ee.current.activeId)return;if(ze&&!Ee.current.activeId){Ee.current.activeId=ze;return}const Ct=setTimeout(()=>{Ee.current.activeId=ze},50);return()=>clearTimeout(Ct)},[ze]),{active:oe,activeIndex:y,attributes:re,data:M,rect:O,index:T,newIndex:ge,items:g,isOver:B,isSorting:R,isDragging:ne,listeners:ae,node:P,overIndex:S,over:F,setNodeRef:z,setActivatorNodeRef:K,setDroppableNodeRef:V,setDraggableNodeRef:ke,transform:ot??U,transition:Xe()};function Xe(){if(ot||rt&&Ee.current.newIndex===T)return Z4;if(!(Y&&!Al(ue)||!h)&&(R||Ge))return wr.Transition.toString({...h,property:Gx})}}function q4(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(s=e?.droppable)!=null?s:t.droppable}}function ql(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const K4=[Fe.Down,Fe.Right,Fe.Up,Fe.Left],X4=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:i,droppableContainers:l,over:d,scrollableAncestors:u}}=t;if(K4.includes(e.code)){if(e.preventDefault(),!n||!s)return;const p=[];l.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const y=i.get(v.id);if(y)switch(e.code){case Fe.Down:s.top<y.top&&p.push(v);break;case Fe.Up:s.top>y.top&&p.push(v);break;case Fe.Left:s.left>y.left&&p.push(v);break;case Fe.Right:s.left<y.left&&p.push(v);break}});const h=R_({collisionRect:s,droppableRects:i,droppableContainers:p});let g=px(h,"id");if(g===d?.id&&h.length>1&&(g=h[1].id),g!=null){const v=l.get(n.id),y=l.get(g),b=y?i.get(y.id):null,k=y?.node.current;if(k&&b&&v&&y){const S=Hl(k).some((I,O)=>u[O]!==I),_=Yx(v,y),E=J4(v,y),w=S||!_?{x:0,y:0}:{x:E?s.width-b.width:0,y:E?s.height-b.height:0},T={x:b.left,y:b.top};return w.x&&w.y?T:Ua(T,w)}}}};function Yx(e,t){return!ql(e)||!ql(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function J4(e,t){return!ql(e)||!ql(t)||!Yx(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function qx({scheduledDate:e,schedule:t,className:n="",size:s="normal"}){const i=t?.enabled&&t?.schedules?.length>0;if(!e&&!i)return null;const l=s==="small";if(i&&!e){const u=t.schedules.length;return r.jsxs("div",{className:pe("inline-flex items-center gap-1",l?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",l?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(er,{className:pe(l?"w-3 h-3":"w-4 h-4")}),r.jsxs("span",{className:"font-medium",children:[u," ",u===1?"Schedule":"Schedules"]})]})}const d=new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return r.jsxs("div",{className:pe("inline-flex items-center gap-1",l?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",l?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(er,{className:pe(l?"w-3 h-3":"w-4 h-4")}),r.jsx("span",{className:"font-medium",children:"Scheduled"}),!l&&r.jsx("span",{className:"text-blue-500",children:""}),!l&&r.jsx("span",{children:d})]})}function Q4({isOpen:e,onClose:t,onSchedule:n,currentSchedule:s}){const[i,l]=m.useState(s?.schedules||[]),[d,u]=m.useState(!1),[p,h]=m.useState(null),[g,v]=m.useState({});De.useEffect(()=>{l(s?.schedules||[])},[s]);const y=()=>{const w={id:Date.now(),baseDate:"",daysOffset:"",executionMethod:"",time:"",offset:""};l([...i,w])},b=w=>{l(i.filter(T=>T.id!==w))},k=(w,T,M)=>{l(i.map(O=>O.id===w?{...O,[T]:M}:O));const I=`${w}_${T}`;g[I]&&v(O=>{const P={...O};return delete P[I],P})},N=(w,T)=>g[`${w}_${T}`]||null,S=(w,T)=>!!g[`${w}_${T}`],_=()=>{const w={};i.forEach((T,M)=>{const I=T.id;!T.daysOffset&&T.daysOffset!=="0"&&(w[`${I}_daysOffset`]="Days offset is required"),T.executionMethod||(w[`${I}_executionMethod`]="Execution method is required"),(T.executionMethod==="time"||T.executionMethod.includes("time"))&&!T.time&&(w[`${I}_time`]='Time is required for "time" execution method'),(T.executionMethod==="offset"||T.executionMethod.includes("offset"))&&!T.offset&&T.offset!=="0"&&(w[`${I}_offset`]='Offset is required for "offset" execution method'),T.baseDate&&!T.baseDate.includes("{")&&(/^\d{2}-\d{2}-\d{4}$/.test(T.baseDate)||(w[`${I}_baseDate`]="Base date must be in DD-MM-YYYY format"))}),v(w),!(Object.keys(w).length>0)&&(n({enabled:i.length>0,schedules:i}),t())},E=()=>{l(s?.schedules||[]),v({}),t()};return e?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:E}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden pointer-events-auto flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between border-b px-6 py-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Schedule Settings"}),r.jsx("button",{onClick:E,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Gt,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Schedules"}),r.jsxs("button",{onClick:y,className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[r.jsx(xs,{className:"w-4 h-4"}),"Add Item"]})]}),r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg flex items-start gap-2",children:[r.jsx(o2,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-xs text-blue-800",children:[r.jsxs("p",{className:"font-medium mb-1",children:["You can use ","{tags}"," to retrieve form values"]}),r.jsxs("p",{children:["Examples: ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date}"}),", ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date;timestamp}"}),", ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{field_name}"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[i.map((w,T)=>r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Schedule ",T+1]}),r.jsx("button",{onClick:()=>b(w.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove schedule",children:r.jsx(Gt,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Base date"}),w.baseDate&&w.baseDate.includes("{")&&r.jsx(ro,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.baseDate,onChange:M=>k(w.id,"baseDate",M.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",S(w.id,"baseDate")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"DD-MM-YYYY or {date;timestamp}"}),N(w.id,"baseDate")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"baseDate")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Days offset"}),w.daysOffset&&w.daysOffset.includes("{")&&r.jsx(ro,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.daysOffset,onChange:M=>k(w.id,"daysOffset",M.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",S(w.id,"daysOffset")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"0, 1, -1, or {tag}"}),N(w.id,"daysOffset")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"daysOffset")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Execution method"}),w.executionMethod&&w.executionMethod.includes("{")&&r.jsx(ro,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.executionMethod,onChange:M=>k(w.id,"executionMethod",M.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",S(w.id,"executionMethod")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"instant, time, offset, or {tag}"}),N(w.id,"executionMethod")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"executionMethod")})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:[r.jsxs("p",{className:"mb-1",children:[r.jsx("strong",{children:"Base date:"})," Leave blank for submission date, or use DD-MM-YYYY format or ","{date;timestamp}"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Days offset:"})," 0 = same day, 1 = next day, -1 = previous day"]})]}),(w.executionMethod==="time"||w.executionMethod.includes("time"))&&r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Time (24h format)"}),w.time&&w.time.includes("{")&&r.jsx(ro,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.time||"",onChange:M=>k(w.id,"time",M.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",S(w.id,"time")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"14:30"}),N(w.id,"time")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"time")}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Use 24h format: 09:00, 14:30, 18:00 or ","{field_name}"]})]}),(w.executionMethod==="offset"||w.executionMethod.includes("offset"))&&r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-1",children:[r.jsx("span",{children:"Offset (in hours)"}),w.offset&&w.offset.includes("{")&&r.jsx(ro,{className:"w-3 h-3 text-blue-600"})]}),r.jsx("input",{type:"text",value:w.offset||"0",onChange:M=>k(w.id,"offset",M.target.value),className:pe("w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent font-mono",S(w.id,"offset")?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"),placeholder:"0"}),N(w.id,"offset")&&r.jsx("p",{className:"mt-1 text-xs text-red-600",children:N(w.id,"offset")}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"0 = instantly, 0.08 = 5 min, 0.5 = 30 min, 2 = 2 hours, -5 = 5 hours before"})]})]},w.id)),i.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(er,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{className:"text-sm",children:"No schedules configured"}),r.jsx("p",{className:"text-xs mt-1",children:'Click "Add Item" to create a schedule'})]})]})]}),r.jsxs("div",{className:"mt-8 border-t pt-6",children:[r.jsxs("button",{onClick:()=>u(!d),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:[d?r.jsx(Sn,{className:"w-4 h-4"}):r.jsx(to,{className:"w-4 h-4"}),r.jsx(Vj,{className:"w-4 h-4"}),"Documentation & Examples"]}),d&&r.jsxs("div",{className:"mt-4 space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Common Use Cases"}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(p==="immediate"?null:"immediate"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-4 h-4 text-blue-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Immediate Confirmation Email"})]}),p==="immediate"?r.jsx(Sn,{className:"w-4 h-4 text-gray-400"}):r.jsx(to,{className:"w-4 h-4 text-gray-400"})]}),p==="immediate"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send a confirmation immediately after form submission."}),r.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[r.jsxs("div",{children:["Base date: ",r.jsx("span",{className:"text-blue-600",children:"(leave empty)"})]}),r.jsxs("div",{children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"0"})]}),r.jsxs("div",{children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"Instant"})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(p==="nextday"?null:"nextday"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hh,{className:"w-4 h-4 text-orange-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Next Day Follow-up"})]}),p==="nextday"?r.jsx(Sn,{className:"w-4 h-4 text-gray-400"}):r.jsx(to,{className:"w-4 h-4 text-gray-400"})]}),p==="nextday"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send a follow-up email the day after submission at 9 AM."}),r.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[r.jsxs("div",{children:["Base date: ",r.jsx("span",{className:"text-blue-600",children:"(leave empty)"})]}),r.jsxs("div",{children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"1"})]}),r.jsxs("div",{children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At specific time"})]}),r.jsxs("div",{children:["Time: ",r.jsx("span",{className:"text-blue-600",children:"09:00"})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(p==="appointment"?null:"appointment"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gj,{className:"w-4 h-4 text-green-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Appointment Reminder"})]}),p==="appointment"?r.jsx(Sn,{className:"w-4 h-4 text-gray-400"}):r.jsx(to,{className:"w-4 h-4 text-gray-400"})]}),p==="appointment"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send reminder 1 day before an appointment date from the form."}),r.jsxs("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:[r.jsxs("div",{children:["Base date: ",r.jsx("span",{className:"text-blue-600",children:"{appointment_date}"})]}),r.jsxs("div",{children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"-1"})]}),r.jsxs("div",{children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At specific time"})]}),r.jsxs("div",{children:["Time: ",r.jsx("span",{className:"text-blue-600",children:"14:00"})]})]})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[r.jsxs("button",{onClick:()=>h(p==="weekly"?null:"weekly"),className:"w-full p-3 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(g2,{className:"w-4 h-4 text-purple-600"}),r.jsx("h5",{className:"text-xs font-semibold text-gray-800",children:"Weekly Follow-up Series"})]}),p==="weekly"?r.jsx(Sn,{className:"w-4 h-4 text-gray-400"}):r.jsx(to,{className:"w-4 h-4 text-gray-400"})]}),p==="weekly"&&r.jsxs("div",{className:"px-3 pb-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Send emails 1, 7, and 14 days after submission."}),r.jsx("div",{className:"bg-gray-100 p-2 rounded text-xs font-mono",children:r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 1:"}),r.jsxs("div",{className:"text-gray-600",children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"1"})]}),r.jsxs("div",{className:"text-gray-600",children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]}),r.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 2:"}),r.jsxs("div",{className:"text-gray-600",children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"7"})]}),r.jsxs("div",{className:"text-gray-600",children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]}),r.jsxs("div",{className:"p-2 bg-white rounded border border-gray-200",children:[r.jsx("div",{className:"font-semibold text-gray-700 mb-1",children:"Schedule 3:"}),r.jsxs("div",{className:"text-gray-600",children:["Days offset: ",r.jsx("span",{className:"text-blue-600",children:"14"})]}),r.jsxs("div",{className:"text-gray-600",children:["Execution: ",r.jsx("span",{className:"text-blue-600",children:"At 09:00"})]})]})]})})]})]})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"How Email Scheduling Works"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"The email scheduler allows you to send emails at specific times relative to form submission. You can create multiple schedules to send follow-up emails, reminders, or notifications."}),r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Base Date:"})," The starting point for calculating when to send (default: form submission date)"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Days Offset:"})," Number of days to add/subtract from the base date"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Execution Method:"})," When exactly on that day to send the email"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(ro,{className:"w-4 h-4"}),"Using Dynamic Tags"]}),r.jsx("p",{className:"text-xs text-gray-700 mb-3",children:"Tags allow you to use form field values dynamically. Any field with a tag icon supports dynamic values."}),r.jsxs("div",{className:"space-y-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:"Current date (25-03-2024 format)"})]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{date;timestamp}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:"Unix timestamp"})]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{field_name}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:'Value from form field with name "field_name"'})]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"{appointment_date}"}),r.jsx("span",{className:"text-gray-600 ml-2",children:"Date from appointment_date field"})]})]})]}),r.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(j2,{className:"w-4 h-4"}),"Time Offset Reference"]}),r.jsx("p",{className:"text-xs text-gray-700 mb-3",children:'When using "Time offset" execution method, specify hours as decimal numbers:'}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0"})," = Instantly"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.08"})," = 5 minutes"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.25"})," = 15 minutes"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"0.5"})," = 30 minutes"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"1"})," = 1 hour"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"2"})," = 2 hours"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"24"})," = 24 hours"]}),r.jsxs("div",{children:[r.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"-1"})," = 1 hour before"]})]})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 border-t px-6 py-4",children:[r.jsx("button",{onClick:E,className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:_,className:pe("px-4 py-2 text-sm font-medium rounded-lg transition-colors","flex items-center gap-2","bg-blue-600 text-white hover:bg-blue-700"),children:[r.jsx(vs,{className:"w-4 h-4"}),"Save Schedule"]})]})]})})]}):null}function jr({variant:e="primary",size:t="md",disabled:n=!1,className:s,children:i,...l}){const d=["inline-flex items-center justify-center gap-x-2","bg-transparent cursor-pointer","font-medium","transition-colors duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2",n&&"opacity-50 cursor-not-allowed pointer-events-none"],u={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base"},p={primary:["rounded-lg border-0 bg-primary-600 text-white shadow-sm","hover:bg-primary-700 hover:text-white","focus:ring-primary-500"],secondary:["rounded-lg bg-white text-gray-700 shadow-sm","border border-gray-300","hover:bg-gray-50 hover:text-gray-800","focus:ring-gray-500"],ghost:["rounded-lg border-0 text-gray-600","hover:bg-gray-100 hover:text-gray-900","focus:ring-gray-500"],danger:["rounded-lg border-0 bg-red-600 text-white shadow-sm","hover:bg-red-700 hover:text-white","focus:ring-red-500"],success:["rounded-lg border-0 bg-green-600 text-white shadow-sm","hover:bg-green-700 hover:text-white","focus:ring-green-500"],link:["border-0 text-primary-600","hover:text-primary-700","focus:ring-0"],pill:["rounded-full bg-white text-gray-700 shadow-sm","border border-gray-300","hover:bg-gray-50 hover:text-gray-800","focus:ring-gray-500"],unstyled:["border-0"],outline:["bg-transparent text-gray-500 rounded-md","border border-gray-300","hover:border-primary-600 hover:text-primary-600","focus:ring-primary-500"],outlineActive:["bg-transparent text-primary-600 rounded-md","border border-primary-600","hover:border-primary-700 hover:text-primary-700","focus:ring-primary-500"]};return r.jsx("button",{type:"button",disabled:n,className:pe(d,u[t],p[e],s),...l,children:i})}function Xu({variant:e="ghost",size:t="md",disabled:n=!1,className:s,children:i,...l}){const d=["inline-flex items-center justify-center","border-0 bg-transparent cursor-pointer","rounded-lg","transition-colors duration-200","focus:outline-none",n&&"opacity-50 cursor-not-allowed pointer-events-none"],u={sm:"p-1",md:"p-1.5",lg:"p-2"},p={ghost:"text-gray-500 hover:text-gray-700 hover:bg-gray-100",danger:"text-red-500 hover:text-red-700 hover:bg-red-50",primary:"text-primary-500 hover:text-primary-700 hover:bg-primary-50"};return r.jsx("button",{type:"button",disabled:n,className:pe(d,u[t],p[e],s),...l,children:i})}function e3({email:e,isActive:t,onSelect:n,onDelete:s,onSchedule:i,onToggle:l,onDuplicate:d}){const[u,p]=m.useState(!1),{attributes:h,listeners:g,setNodeRef:v,transform:y,transition:b,isDragging:k}=Ku({id:e.id}),S={...{transform:wr.Transform.toString(y),transition:b,opacity:k?.5:1},boxShadow:t?"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"};return r.jsx("div",{ref:v,style:S,"data-testid":"email-item-"+e.id,className:pe("relative p-3 rounded-lg cursor-pointer transition-all",t?"bg-blue-50 border-2 border-blue-400 ring-2 ring-blue-200":"bg-white border border-gray-200 hover:border-gray-300",k&&"z-50"),onClick:()=>n(e.id),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{"data-testid":"drag-handle",...h,...g,style:{position:"absolute",left:-4,top:"50%",transform:"translateY(-50%)"},className:pe("w-2 h-10 bg-gray-300 rounded transition-opacity cursor-move hover:bg-gray-400",u?"opacity-100":"opacity-0")}),r.jsx("div",{"data-testid":"toggle-container",className:"flex-shrink-0 flex items-center",children:r.jsx("button",{"data-testid":"email-toggle",type:"button",onClick:_=>{_.stopPropagation(),l(e.id,!e.enabled)},className:pe("relative inline-flex items-center flex-shrink-0 cursor-pointer rounded-full border-0 p-0 m-0 transition-colors duration-200 ease-in-out focus:outline-none",e.enabled?"bg-green-500":"bg-gray-300"),style:{width:36,height:20,minHeight:20,lineHeight:"normal"},title:e.enabled?"Disable email":"Enable email",children:r.jsx("span",{"data-testid":"toggle-knob",className:"pointer-events-none rounded-full bg-white shadow ring-0 transition-transform duration-200 ease-in-out",style:{position:"absolute",top:2,left:2,width:16,height:16,transform:e.enabled?"translateX(16px)":"translateX(0)"}})})}),r.jsxs("div",{"data-testid":"email-info",className:"flex-1 min-w-0 overflow-hidden",children:[r.jsx("span",{"data-testid":"email-name",className:pe("font-medium text-sm block whitespace-nowrap overflow-hidden text-ellipsis",e.enabled?"text-gray-900":"text-gray-400"),children:e.description||"Untitled Email"}),r.jsx("span",{"data-testid":"email-subject",className:pe("text-xs block whitespace-nowrap overflow-hidden text-ellipsis",e.enabled?"text-gray-500":"text-gray-400"),children:e.subject||"No subject"}),(e.scheduled_date||e.schedule)&&r.jsx("div",{"data-testid":"schedule-indicator",className:"mt-1",children:r.jsx(qx,{scheduledDate:e.scheduled_date,schedule:e.schedule,size:"small"})})]}),r.jsxs("div",{"data-testid":"email-actions",className:pe("items-center gap-0.5 flex-shrink-0",u?"flex":"hidden"),children:[r.jsx(Xu,{"data-testid":"duplicate-btn",variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),d(e.id)},className:"text-gray-400 hover:text-gray-600",title:"Duplicate email",children:r.jsx(Ra,{className:"w-4 h-4"})}),r.jsx(Xu,{"data-testid":"schedule-btn",variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),i(e.id)},className:"text-gray-400 hover:text-gray-600",title:"Schedule email",children:r.jsx(er,{className:"w-4 h-4"})}),r.jsx(Xu,{"data-testid":"delete-btn",variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),s(e.id)},className:"text-gray-400 hover:text-red-500",title:"Delete email",children:r.jsx(On,{className:"w-4 h-4"})})]})]})})}function t3(){const{emails:e,activeEmailId:t,setActiveEmailId:n,addEmail:s,removeEmail:i,duplicateEmail:l,reorderEmails:d,updateEmailField:u}=Es(),[p,h]=m.useState(null),[g,v]=m.useState(!1),y=__(cx(Wu,{activationConstraint:{distance:8}}),cx(Au,{coordinateGetter:X4})),b=w=>{const{active:T,over:M}=w;if(T.id!==M.id){const I=e.findIndex(P=>P.id===T.id),O=e.findIndex(P=>P.id===M.id);I!==-1&&O!==-1&&d(I,O)}},k=w=>{window.confirm("Are you sure you want to delete this email?")&&i(w)},N=w=>{h(w),v(!0)},S=(w,T)=>{u(w,"enabled",T)},_=w=>{p&&(u(p,"schedule",w),v(!1),h(null))},E=e.find(w=>w.id===p);return r.jsxs("div",{"data-testid":"email-list",className:"bg-gray-50 rounded-lg p-4 h-full",children:[r.jsx("div",{className:"flex items-center justify-end mb-4",children:r.jsxs(jr,{"data-testid":"add-email-btn",variant:"ghost",onClick:s,children:[r.jsx(xs,{className:"w-4 h-4"}),"Add Email"]})}),e.length>0?r.jsx(Zu,{sensors:y,collisionDetection:Pu,onDragEnd:b,children:r.jsx(qu,{items:e.map(w=>w.id),strategy:Yu,children:r.jsx("div",{className:"space-y-2",children:e.map(w=>r.jsx(e3,{email:w,isActive:w.id===t,onSelect:n,onDelete:k,onSchedule:N,onToggle:S,onDuplicate:l},w.id))})})}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"mt-2 text-sm",children:"No emails configured"}),r.jsx(jr,{variant:"link",onClick:s,className:"mt-3",children:"Add your first email"})]}),r.jsx(Q4,{isOpen:g,onClose:()=>{v(!1),h(null)},onSchedule:_,currentSchedule:E?.schedule})]})}function Kx({email:e}){const s=`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    <style>
      /* Reset styles for email content */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        font-size: 14px;
        line-height: 1.6;
        color: #333333;
      }
      
      p {
        margin: 0 0 10px 0;
      }
      
      h1, h2, h3, h4, h5, h6 {
        margin: 0 0 10px 0;
        font-weight: 600;
      }
      
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      h3 { font-size: 18px; }
      h4 { font-size: 16px; }
      h5 { font-size: 14px; }
      h6 { font-size: 12px; }
      
      a {
        color: #0066cc;
        text-decoration: underline;
      }
      
      img {
        max-width: 100%;
        height: auto;
      }
      
      table {
        border-collapse: collapse;
        width: 100%;
      }
      
      th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
      
      blockquote {
        margin: 0 0 10px 0;
        padding: 10px 20px;
        border-left: 4px solid #ddd;
        background-color: #f9f9f9;
      }
      
      ul, ol {
        margin: 0 0 10px 20px;
        padding: 0;
      }
      
      li {
        margin: 0 0 5px 0;
      }
      
      /* Button styles */
      .button {
        display: inline-block;
        padding: 12px 24px;
        background-color: #0066cc;
        color: #ffffff;
        text-decoration: none;
        border-radius: 4px;
        font-weight: 600;
      }
      
      /* Responsive */
      @media only screen and (max-width: 600px) {
        body {
          font-size: 16px !important;
        }
        
        table {
          width: 100% !important;
        }
        
        .button {
          display: block !important;
          width: 100% !important;
        }
      }
    </style>
  
      </head>
      <body>
        <div style="max-width: 600px; margin: 0 auto;">
          ${e.body||"<p>Email content will appear here...</p>"}
        </div>
      </body>
    </html>
  `;return r.jsx("div",{className:"email-content",children:r.jsx("iframe",{srcDoc:s,className:"w-full h-full border-0",style:{minHeight:"400px"},title:"Email Preview",sandbox:"allow-same-origin"})})}function Ds({value:e,onChange:t,placeholder:n="Click to edit",className:s="",multiline:i=!1,type:l="text",showEditIcon:d=!0,noPadding:u=!1,"data-testid":p}){const[h,g]=m.useState(!1),[v,y]=m.useState(e||""),[b,k]=m.useState(!1),N=m.useRef(null);m.useEffect(()=>{h&&N.current&&(N.current.focus(),N.current.select&&N.current.select())},[h]),m.useEffect(()=>{y(e||"")},[e]);const S=()=>{t&&v!==e&&t(v),g(!1)},_=()=>{y(e||""),g(!1)},E=T=>{T.key==="Enter"&&!i?(T.preventDefault(),S()):T.key==="Escape"&&(T.preventDefault(),_())},w=()=>{h||g(!0)};if(h){const T=i?"textarea":"input";return r.jsxs("div",{"data-testid":p?`${p}-editing`:void 0,className:"inline-flex items-center gap-1",children:[r.jsx(T,{ref:N,type:l,value:v,onChange:M=>y(M.target.value),onKeyDown:E,onBlur:S,className:pe("bg-white border border-gray-300 rounded",!u&&"px-2 py-0.5","outline-none focus:border-blue-500",!u&&"h-[28px]",i&&"resize-none min-h-[60px] h-auto",s),placeholder:n,"data-testid":p?`${p}-input`:void 0}),r.jsxs("div",{"data-testid":p?`${p}-actions`:void 0,className:"flex gap-1",children:[r.jsx("button",{type:"button",onClick:S,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Save","data-testid":p?`${p}-save-btn`:void 0,children:r.jsx(Ta,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:_,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Cancel","data-testid":p?`${p}-cancel-btn`:void 0,children:r.jsx(Gt,{className:"w-4 h-4"})})]})]})}return r.jsxs("span",{"data-testid":p,className:pe("inline-flex items-center gap-1 cursor-pointer group","border border-transparent rounded",!u&&"px-2 py-0.5",!u&&"h-[28px]",s),onClick:w,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),title:"Click to edit",children:[r.jsx("span",{"data-testid":p?`${p}-value`:void 0,className:pe(!e&&"text-gray-400"),children:e||n}),d&&b&&r.jsx(vr,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}function n3({children:e,onRemove:t,variant:n="default",className:s,...i}){const d={display:"inline-flex",alignItems:"center",gap:"4px",padding:"2px 8px",borderRadius:"9999px",fontSize:"12px",fontWeight:500,lineHeight:"1.4",...{default:{background:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb"},email:{background:"#dbeafe",color:"#1d4ed8",border:"1px solid #bfdbfe"},field:{background:"#f3e8ff",color:"#7c3aed",border:"1px solid #e9d5ff"},success:{background:"#dcfce7",color:"#16a34a",border:"1px solid #bbf7d0"},warning:{background:"#fef3c7",color:"#d97706",border:"1px solid #fde68a"},error:{background:"#fee2e2",color:"#dc2626",border:"1px solid #fecaca"}}[n]},u={display:"inline-flex",alignItems:"center",justifyContent:"center",width:"16px",height:"16px",padding:0,margin:0,border:"none",background:"transparent",cursor:"pointer",borderRadius:"50%",color:"inherit",opacity:.6,transition:"opacity 0.15s, color 0.15s"},p=g=>{g.currentTarget.style.opacity="1",g.currentTarget.style.color="#dc2626"},h=g=>{g.currentTarget.style.opacity="0.6",g.currentTarget.style.color="inherit"};return r.jsxs("span",{style:d,className:s,...i,children:[r.jsx("span",{children:e}),t&&r.jsx("button",{type:"button",onClick:t,title:"Remove",style:u,onMouseEnter:p,onMouseLeave:h,children:r.jsx(Gt,{size:12,strokeWidth:2.5})})]})}function r3({value:e="",onChange:t,validate:n,getVariant:s,placeholder:i="Type and press Enter...",className:l,"data-testid":d}){const u=m.useRef(null),[p,h]=m.useState(""),g=e?e.split(",").map(w=>w.trim()).filter(Boolean):[],v=m.useCallback(w=>{const T=w.trim();if(!T)return;if(g.includes(T)){h("");return}if(n&&!n(T))return;const M=[...g,T];t(M.join(", ")),h("")},[g,t,n]),y=m.useCallback(w=>{const T=g.filter((M,I)=>I!==w);t(T.join(", "))},[g,t]),b=m.useCallback(w=>{const T=p.trim();if(w.key==="Enter"||w.key==="Tab"||w.key===",")if(T)w.preventDefault(),v(T);else{if(w.key==="Tab")return;w.preventDefault()}w.key==="Backspace"&&!p&&g.length>0&&y(g.length-1)},[p,v,y,g.length]),k=m.useCallback(w=>{w.preventDefault();const M=w.clipboardData.getData("text").split(",").map(O=>O.trim()).filter(Boolean),I=[...g];M.forEach(O=>{!I.includes(O)&&(!n||n(O))&&I.push(O)}),t(I.join(", "))},[g,t,n]),N=m.useCallback(()=>{p.trim()&&v(p)},[p,v]),S=m.useCallback(w=>s?s(w):"default",[s]),_={display:"flex",flexWrap:"wrap",alignItems:"center",gap:"4px",minHeight:"32px",padding:"4px 8px",background:"transparent",borderRadius:"6px",cursor:"text"},E={flex:1,minWidth:"120px",border:"none",outline:"none",padding:"2px 4px",fontSize:"14px",background:"transparent",fontFamily:"inherit"};return r.jsxs("div",{"data-testid":d,className:l,style:_,onClick:()=>u.current?.focus(),children:[g.map((w,T)=>r.jsx(n3,{"data-testid":d?`${d}-tag-${T}`:void 0,variant:S(w),onRemove:()=>y(T),children:w},`${w}-${T}`)),r.jsx("input",{ref:u,type:"text",value:p,onChange:w=>h(w.target.value),onKeyDown:b,onPaste:k,onBlur:N,placeholder:g.length===0?i:"",style:E,"data-testid":d?`${d}-input`:void 0})]})}function $s({value:e="",onChange:t,placeholder:n="Enter email addresses...",className:s,"data-testid":i}){const l=m.useCallback(u=>{const p=u.trim();return/^\{[a-zA-Z0-9_]+\}$/.test(p)?!0:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p)},[]),d=m.useCallback(u=>/^\{[a-zA-Z0-9_]+\}$/.test(u.trim())?"field":"email",[]);return r.jsx(r3,{value:e,onChange:t,validate:l,getVariant:d,placeholder:n,className:s,"data-testid":i})}let Wn=null;function o3({onSelect:e,onClose:t,title:n="Select Media"}){m.useEffect(()=>{if(typeof wp>"u"||!wp.media){console.error("WordPress media library is not available"),t();return}Wn?Wn.options.title=n:Wn=wp.media({title:n,button:{text:"Select"},multiple:!1}),Wn.off("select"),Wn.off("close");const i=()=>{const d=Wn.state().get("selection").first().toJSON();if(d){const u={id:d.id,title:d.title,filename:d.filename,url:d.url,mime:d.mime||d.type,type:d.mime||d.type,filesizeHumanReadable:d.filesizeHumanReadable||s(d.filesize),filesize:d.filesize};e(u)}},l=()=>{t()};return Wn.on("select",i),Wn.on("close",l),Wn.open(),()=>{Wn&&(Wn.off("select",i),Wn.off("close",l))}},[]);function s(i){if(!i)return"Unknown size";const l=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(i)/Math.log(1024));return Math.round(i/Math.pow(1024,d)*100)/100+" "+l[d]}return null}const s3=De.memo(o3),Xx=({className:e})=>r.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("text",{x:"7",y:"17",fontSize:"8",fontWeight:"600",fill:"currentColor",stroke:"none",children:"PDF"})]});function a3({attachments:e=[],onChange:t,isBuilder:n=!1}){const[s,i]=m.useState(!1),[l,d]=m.useState(null),u=m.useCallback(y=>{const b={id:y.id,name:y.filename||y.title||"Untitled",url:y.url,type:y.mime||y.type||"application/octet-stream",size:y.filesizeHumanReadable||y.filesize||"Unknown size"};if(l!==null){const k=[...e];k[l]=b,t(k),d(null)}else t([...e,b]);i(!1)},[e,t,l]),p=y=>{const b=e.filter((k,N)=>N!==y);t(b)},h=y=>{d(y),i(!0)},g=m.useCallback(()=>{i(!1),d(null)},[]),v=(y,b="")=>{if(y.startsWith("image/"))return sl;if(y.includes("pdf"))return Xx;if(y.includes("spreadsheet")||y.includes("excel")||y.includes("csv"))return al;if(y.includes("video/"))return ll;if(y.includes("audio/"))return rl;if(y.includes("zip")||y.includes("tar")||y.includes("archive"))return nl;if(y.includes("text/plain"))return il;switch(b.split(".").pop()?.toLowerCase()){case"pdf":return Xx;case"csv":case"xls":case"xlsx":case"ods":return al;case"doc":case"docx":case"odt":case"rtf":case"txt":return il;case"mp4":case"avi":case"mov":case"wmv":case"flv":case"webm":return ll;case"mp3":case"wav":case"ogg":case"flac":case"aac":return rl;case"zip":case"rar":case"7z":case"tar":case"gz":return nl;case"js":case"jsx":case"ts":case"tsx":case"html":case"css":case"php":case"py":case"java":case"cpp":case"c":case"json":case"xml":return ol;case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":case"bmp":case"ico":return sl;default:return vh}};return!n&&e.length===0?null:r.jsxs("div",{"data-testid":"attachment-manager",className:"border-t pt-4 mt-2.5",children:[n&&r.jsxs(jr,{"data-testid":"attach-files-btn",variant:"link",size:"sm",onClick:()=>{d(null),i(!0)},className:"mb-3",children:[r.jsx(Ch,{className:"w-3 h-3"}),"Attach files"]}),e.length>0&&r.jsx("div",{"data-testid":"attachment-list",className:"flex flex-wrap gap-2",children:e.map((y,b)=>{const k=v(y.type,y.name);return r.jsxs("div",{"data-testid":`attachment-item-${b}`,className:"group inline-flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#f5f5f5"},children:[r.jsx(k,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer","data-testid":`attachment-link-${b}`,className:"text-sm text-gray-700 group-hover:text-blue-600 transition-colors flex items-center gap-1",children:[r.jsx("span",{"data-testid":`attachment-name-${b}`,children:y.name}),r.jsx(tl,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),r.jsxs("span",{"data-testid":`attachment-size-${b}`,className:"text-xs text-gray-500",children:["(",y.size,")"]}),n&&r.jsxs("div",{"data-testid":`attachment-actions-${b}`,className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{"data-testid":`attachment-edit-btn-${b}`,onClick:()=>h(b),className:"p-1 text-blue-600 hover:text-blue-700",title:"Replace attachment",children:r.jsx(vr,{className:"w-4 h-4"})}),r.jsx("button",{"data-testid":`attachment-remove-btn-${b}`,onClick:()=>p(b),className:"p-1 text-red-600 hover:text-red-700",title:"Remove attachment",children:r.jsx(Gt,{className:"w-4 h-4"})})]})]},`${y.id}-${b}`)})}),s&&r.jsx(s3,{onSelect:u,onClose:g,title:l!==null?"Replace Attachment":"Select Attachment"})]})}const Jx=De.memo(a3);function qt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function Qx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ar(...e){return t=>{let n=!1;const s=e.map(i=>{const l=Qx(i,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let i=0;i<s.length;i++){const l=s[i];typeof l=="function"?l():Qx(e[i],null)}}}}function En(...e){return m.useCallback(Ar(...e),e)}function i3(e,t){const n=m.createContext(t),s=l=>{const{children:d,...u}=l,p=m.useMemo(()=>u,Object.values(u));return r.jsx(n.Provider,{value:p,children:d})};s.displayName=e+"Provider";function i(l){const d=m.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,i]}function Ka(e,t=[]){let n=[];function s(l,d){const u=m.createContext(d),p=n.length;n=[...n,d];const h=v=>{const{scope:y,children:b,...k}=v,N=y?.[e]?.[p]||u,S=m.useMemo(()=>k,Object.values(k));return r.jsx(N.Provider,{value:S,children:b})};h.displayName=l+"Provider";function g(v,y){const b=y?.[e]?.[p]||u,k=m.useContext(b);if(k)return k;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[h,g]}const i=()=>{const l=n.map(d=>m.createContext(d));return function(u){const p=u?.[e]||l;return m.useMemo(()=>({[`__scope${e}`]:{...u,[e]:p}}),[u,p])}};return i.scopeName=e,[s,l3(i,...t)]}function l3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const d=s.reduce((u,{useScope:p,scopeName:h})=>{const v=p(l)[`__scope${h}`];return{...u,...v}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var Ps=globalThis?.document?m.useLayoutEffect:()=>{},c3=_d[" useId ".trim().toString()]||(()=>{}),d3=0;function Kl(e){const[t,n]=m.useState(c3());return Ps(()=>{n(s=>s??String(d3++))},[e]),e||(t?`radix-${t}`:"")}var u3=_d[" useInsertionEffect ".trim().toString()]||Ps;function Ju({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,l,d]=f3({defaultProp:t,onChange:n}),u=e!==void 0,p=u?e:i;{const g=m.useRef(e!==void 0);m.useEffect(()=>{const v=g.current;v!==u&&console.warn(`${s} is changing from ${v?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,s])}const h=m.useCallback(g=>{if(u){const v=p3(g)?g(e):g;v!==e&&d.current?.(v)}else l(g)},[u,e,l,d]);return[p,h]}function f3({defaultProp:e,onChange:t}){const[n,s]=m.useState(e),i=m.useRef(n),l=m.useRef(t);return u3(()=>{l.current=t},[t]),m.useEffect(()=>{i.current!==n&&(l.current?.(n),i.current=n)},[n,i]),[n,s,l]}function p3(e){return typeof e=="function"}function m3(e){const t=h3(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),p=u.find(x3);if(p){const h=p.props.children,g=u.map(v=>v===p?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function h3(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=v3(i),u=y3(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ar(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var g3=Symbol("radix.slottable");function x3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===g3}function y3(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const p=l(...u);return i(...u),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function v3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var b3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],e0=b3.reduce((e,t)=>{const n=m3(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,p=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(p,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function w3(e,t){e&&Do.flushSync(()=>e.dispatchEvent(t))}function Ms(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>t.current?.(...n),[])}function j3(e,t=globalThis?.document){const n=Ms(e);m.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var N3="DismissableLayer",Qu="dismissableLayer.update",k3="dismissableLayer.pointerDownOutside",S3="dismissableLayer.focusOutside",t0,n0=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),r0=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:d,onDismiss:u,...p}=e,h=m.useContext(n0),[g,v]=m.useState(null),y=g?.ownerDocument??globalThis?.document,[,b]=m.useState({}),k=En(t,O=>v(O)),N=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(S),E=g?N.indexOf(g):-1,w=h.layersWithOutsidePointerEventsDisabled.size>0,T=E>=_,M=_3(O=>{const P=O.target,B=[...h.branches].some(V=>V.contains(P));!T||B||(i?.(O),d?.(O),O.defaultPrevented||u?.())},y),I=T3(O=>{const P=O.target;[...h.branches].some(V=>V.contains(P))||(l?.(O),d?.(O),O.defaultPrevented||u?.())},y);return j3(O=>{E===h.layers.size-1&&(s?.(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},y),m.useEffect(()=>{if(g)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(t0=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),o0(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=t0)}},[g,y,n,h]),m.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),o0())},[g,h]),m.useEffect(()=>{const O=()=>b({});return document.addEventListener(Qu,O),()=>document.removeEventListener(Qu,O)},[]),r.jsx(e0.div,{...p,ref:k,style:{pointerEvents:w?T?"auto":"none":void 0,...e.style},onFocusCapture:qt(e.onFocusCapture,I.onFocusCapture),onBlurCapture:qt(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:qt(e.onPointerDownCapture,M.onPointerDownCapture)})});r0.displayName=N3;var C3="DismissableLayerBranch",E3=m.forwardRef((e,t)=>{const n=m.useContext(n0),s=m.useRef(null),i=En(t,s);return m.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),r.jsx(e0.div,{...e,ref:i})});E3.displayName=C3;function _3(e,t=globalThis?.document){const n=Ms(e),s=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const l=u=>{if(u.target&&!s.current){let p=function(){s0(k3,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=p,t.addEventListener("click",i.current,{once:!0})):p()}else t.removeEventListener("click",i.current);s.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",l),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function T3(e,t=globalThis?.document){const n=Ms(e),s=m.useRef(!1);return m.useEffect(()=>{const i=l=>{l.target&&!s.current&&s0(S3,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function o0(){const e=new CustomEvent(Qu);document.dispatchEvent(e)}function s0(e,t,n,{discrete:s}){const i=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?w3(i,l):i.dispatchEvent(l)}function z3(e){const t=R3(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),p=u.find($3);if(p){const h=p.props.children,g=u.map(v=>v===p?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function R3(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=M3(i),u=P3(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ar(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var D3=Symbol("radix.slottable");function $3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===D3}function P3(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const p=l(...u);return i(...u),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function M3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var I3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],L3=I3.reduce((e,t)=>{const n=z3(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,p=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(p,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),ef="focusScope.autoFocusOnMount",tf="focusScope.autoFocusOnUnmount",a0={bubbles:!1,cancelable:!0},O3="FocusScope",i0=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...d}=e,[u,p]=m.useState(null),h=Ms(i),g=Ms(l),v=m.useRef(null),y=En(t,N=>p(N)),b=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let N=function(w){if(b.paused||!u)return;const T=w.target;u.contains(T)?v.current=T:lo(v.current,{select:!0})},S=function(w){if(b.paused||!u)return;const T=w.relatedTarget;T!==null&&(u.contains(T)||lo(v.current,{select:!0}))},_=function(w){if(document.activeElement===document.body)for(const M of w)M.removedNodes.length>0&&lo(u)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const E=new MutationObserver(_);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),E.disconnect()}}},[s,u,b.paused]),m.useEffect(()=>{if(u){d0.add(b);const N=document.activeElement;if(!u.contains(N)){const _=new CustomEvent(ef,a0);u.addEventListener(ef,h),u.dispatchEvent(_),_.defaultPrevented||(A3(U3(l0(u)),{select:!0}),document.activeElement===N&&lo(u))}return()=>{u.removeEventListener(ef,h),setTimeout(()=>{const _=new CustomEvent(tf,a0);u.addEventListener(tf,g),u.dispatchEvent(_),_.defaultPrevented||lo(N??document.body,{select:!0}),u.removeEventListener(tf,g),d0.remove(b)},0)}}},[u,h,g,b]);const k=m.useCallback(N=>{if(!n&&!s||b.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(S&&_){const E=N.currentTarget,[w,T]=F3(E);w&&T?!N.shiftKey&&_===T?(N.preventDefault(),n&&lo(w,{select:!0})):N.shiftKey&&_===w&&(N.preventDefault(),n&&lo(T,{select:!0})):_===E&&N.preventDefault()}},[n,s,b.paused]);return r.jsx(L3.div,{tabIndex:-1,...d,ref:y,onKeyDown:k})});i0.displayName=O3;function A3(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(lo(s,{select:t}),document.activeElement!==n)return}function F3(e){const t=l0(e),n=c0(t,e),s=c0(t.reverse(),e);return[n,s]}function l0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function c0(e,t){for(const n of e)if(!W3(n,{upTo:t}))return n}function W3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function H3(e){return e instanceof HTMLInputElement&&"select"in e}function lo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&H3(e)&&t&&e.select()}}var d0=B3();function B3(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=u0(e,t),e.unshift(t)},remove(t){e=u0(e,t),e[0]?.resume()}}}function u0(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function U3(e){return e.filter(t=>t.tagName!=="A")}function V3(e){const t=Z3(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),p=u.find(Y3);if(p){const h=p.props.children,g=u.map(v=>v===p?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function Z3(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=K3(i),u=q3(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ar(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var G3=Symbol("radix.slottable");function Y3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===G3}function q3(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const p=l(...u);return i(...u),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function K3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var X3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],J3=X3.reduce((e,t)=>{const n=V3(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,p=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(p,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Q3="Portal",f0=m.forwardRef((e,t)=>{const{container:n,...s}=e,[i,l]=m.useState(!1);Ps(()=>l(!0),[]);const d=n||i&&globalThis?.document?.body;return d?Aw.createPortal(r.jsx(J3.div,{...s,ref:t}),d):null});f0.displayName=Q3;function e5(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var Xa=e=>{const{present:t,children:n}=e,s=t5(t),i=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),l=En(s.ref,n5(i));return typeof n=="function"||s.isPresent?m.cloneElement(i,{ref:l}):null};Xa.displayName="Presence";function t5(e){const[t,n]=m.useState(),s=m.useRef(null),i=m.useRef(e),l=m.useRef("none"),d=e?"mounted":"unmounted",[u,p]=e5(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const h=Xl(s.current);l.current=u==="mounted"?h:"none"},[u]),Ps(()=>{const h=s.current,g=i.current;if(g!==e){const y=l.current,b=Xl(h);e?p("MOUNT"):b==="none"||h?.display==="none"?p("UNMOUNT"):p(g&&y!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,p]),Ps(()=>{if(t){let h;const g=t.ownerDocument.defaultView??window,v=b=>{const N=Xl(s.current).includes(CSS.escape(b.animationName));if(b.target===t&&N&&(p("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=b=>{b.target===t&&(l.current=Xl(s.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(h),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:m.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function Xl(e){return e?.animationName||"none"}function n5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function p0(e){const t=r5(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),p=u.find(s5);if(p){const h=p.props.children,g=u.map(v=>v===p?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function r5(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=i5(i),u=a5(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ar(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o5=Symbol("radix.slottable");function s5(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o5}function a5(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const p=l(...u);return i(...u),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function i5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var l5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ja=l5.reduce((e,t)=>{const n=p0(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,p=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(p,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),nf=0;function c5(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??m0()),document.body.insertAdjacentElement("beforeend",e[1]??m0()),nf++,()=>{nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),nf--}},[])}function m0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nr=function(){return Nr=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Nr.apply(this,arguments)};function h0(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function d5(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,l;s<i;s++)(l||!(s in t))&&(l||(l=Array.prototype.slice.call(t,0,s)),l[s]=t[s]);return e.concat(l||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var Jl="right-scroll-bar-position",Ql="width-before-scroll-bar",u5="with-scroll-bars-hidden",f5="--removed-body-scroll-bar-size";function rf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function p5(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var m5=typeof window<"u"?m.useLayoutEffect:m.useEffect,g0=new WeakMap;function h5(e,t){var n=p5(null,function(s){return e.forEach(function(i){return rf(i,s)})});return m5(function(){var s=g0.get(n);if(s){var i=new Set(s),l=new Set(e),d=n.current;i.forEach(function(u){l.has(u)||rf(u,null)}),l.forEach(function(u){i.has(u)||rf(u,d)})}g0.set(n,e)},[e]),n}function g5(e){return e}function x5(e,t){t===void 0&&(t=g5);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var d=t(l,s);return n.push(d),function(){n=n.filter(function(u){return u!==d})}},assignSyncMedium:function(l){for(s=!0;n.length;){var d=n;n=[],d.forEach(l)}n={push:function(u){return l(u)},filter:function(){return n}}},assignMedium:function(l){s=!0;var d=[];if(n.length){var u=n;n=[],u.forEach(l),d=n}var p=function(){var g=d;d=[],g.forEach(l)},h=function(){return Promise.resolve().then(p)};h(),n={push:function(g){d.push(g),h()},filter:function(g){return d=d.filter(g),n}}}};return i}function y5(e){e===void 0&&(e={});var t=x5(null);return t.options=Nr({async:!0,ssr:!1},e),t}var x0=function(e){var t=e.sideCar,n=h0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,Nr({},n))};x0.isSideCarExport=!0;function v5(e,t){return e.useMedium(t),x0}var y0=y5(),of=function(){},ec=m.forwardRef(function(e,t){var n=m.useRef(null),s=m.useState({onScrollCapture:of,onWheelCapture:of,onTouchMoveCapture:of}),i=s[0],l=s[1],d=e.forwardProps,u=e.children,p=e.className,h=e.removeScrollBar,g=e.enabled,v=e.shards,y=e.sideCar,b=e.noRelative,k=e.noIsolation,N=e.inert,S=e.allowPinchZoom,_=e.as,E=_===void 0?"div":_,w=e.gapMode,T=h0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=y,I=h5([n,t]),O=Nr(Nr({},T),i);return m.createElement(m.Fragment,null,g&&m.createElement(M,{sideCar:y0,removeScrollBar:h,shards:v,noRelative:b,noIsolation:k,inert:N,setCallbacks:l,allowPinchZoom:!!S,lockRef:n,gapMode:w}),d?m.cloneElement(m.Children.only(u),Nr(Nr({},O),{ref:I})):m.createElement(E,Nr({},O,{className:p,ref:I}),u))});ec.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ec.classNames={fullWidth:Ql,zeroRight:Jl};var b5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=b5();return t&&e.setAttribute("nonce",t),e}function j5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function N5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var k5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=w5())&&(j5(t,n),N5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},S5=function(){var e=k5();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},v0=function(){var e=S5(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},C5={left:0,top:0,right:0,gap:0},sf=function(e){return parseInt(e||"",10)||0},E5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[sf(n),sf(s),sf(i)]},_5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return C5;var t=E5(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},T5=v0(),Is="data-scroll-locked",z5=function(e,t,n,s){var i=e.left,l=e.top,d=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(u5,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(Is,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jl,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Ql,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Jl," .").concat(Jl,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ql," .").concat(Ql,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Is,`] {
    `).concat(f5,": ").concat(u,`px;
  }
`)},b0=function(){var e=parseInt(document.body.getAttribute(Is)||"0",10);return isFinite(e)?e:0},R5=function(){m.useEffect(function(){return document.body.setAttribute(Is,(b0()+1).toString()),function(){var e=b0()-1;e<=0?document.body.removeAttribute(Is):document.body.setAttribute(Is,e.toString())}},[])},D5=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;R5();var l=m.useMemo(function(){return _5(i)},[i]);return m.createElement(T5,{styles:z5(l,!t,i,n?"":"!important")})},af=!1;if(typeof window<"u")try{var tc=Object.defineProperty({},"passive",{get:function(){return af=!0,!0}});window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{af=!1}var Ls=af?{passive:!1}:!1,$5=function(e){return e.tagName==="TEXTAREA"},w0=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$5(e)&&n[t]==="visible")},P5=function(e){return w0(e,"overflowY")},M5=function(e){return w0(e,"overflowX")},j0=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=N0(e,s);if(i){var l=k0(e,s),d=l[1],u=l[2];if(d>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},I5=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},L5=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},N0=function(e,t){return e==="v"?P5(t):M5(t)},k0=function(e,t){return e==="v"?I5(t):L5(t)},O5=function(e,t){return e==="h"&&t==="rtl"?-1:1},A5=function(e,t,n,s,i){var l=O5(e,window.getComputedStyle(t).direction),d=l*s,u=n.target,p=t.contains(u),h=!1,g=d>0,v=0,y=0;do{if(!u)break;var b=k0(e,u),k=b[0],N=b[1],S=b[2],_=N-S-l*k;(k||_)&&N0(e,u)&&(v+=_,y+=k);var E=u.parentNode;u=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!p&&u!==document.body||p&&(t.contains(u)||t===u));return(g&&Math.abs(v)<1||!g&&Math.abs(y)<1)&&(h=!0),h},nc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},S0=function(e){return[e.deltaX,e.deltaY]},C0=function(e){return e&&"current"in e?e.current:e},F5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},W5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},H5=0,Os=[];function B5(e){var t=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),i=m.useState(H5++)[0],l=m.useState(v0)[0],d=m.useRef(e);m.useEffect(function(){d.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var N=d5([e.lockRef.current],(e.shards||[]).map(C0),!0).filter(Boolean);return N.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=m.useCallback(function(N,S){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!d.current.allowPinchZoom;var _=nc(N),E=n.current,w="deltaX"in N?N.deltaX:E[0]-_[0],T="deltaY"in N?N.deltaY:E[1]-_[1],M,I=N.target,O=Math.abs(w)>Math.abs(T)?"h":"v";if("touches"in N&&O==="h"&&I.type==="range")return!1;var P=j0(O,I);if(!P)return!0;if(P?M=O:(M=O==="v"?"h":"v",P=j0(O,I)),!P)return!1;if(!s.current&&"changedTouches"in N&&(w||T)&&(s.current=M),!M)return!0;var B=s.current||M;return A5(B,S,N,B==="h"?w:T)},[]),p=m.useCallback(function(N){var S=N;if(!(!Os.length||Os[Os.length-1]!==l)){var _="deltaY"in S?S0(S):nc(S),E=t.current.filter(function(M){return M.name===S.type&&(M.target===S.target||S.target===M.shadowParent)&&F5(M.delta,_)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var w=(d.current.shards||[]).map(C0).filter(Boolean).filter(function(M){return M.contains(S.target)}),T=w.length>0?u(S,w[0]):!d.current.noIsolation;T&&S.cancelable&&S.preventDefault()}}},[]),h=m.useCallback(function(N,S,_,E){var w={name:N,delta:S,target:_,should:E,shadowParent:U5(_)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(T){return T!==w})},1)},[]),g=m.useCallback(function(N){n.current=nc(N),s.current=void 0},[]),v=m.useCallback(function(N){h(N.type,S0(N),N.target,u(N,e.lockRef.current))},[]),y=m.useCallback(function(N){h(N.type,nc(N),N.target,u(N,e.lockRef.current))},[]);m.useEffect(function(){return Os.push(l),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",p,Ls),document.addEventListener("touchmove",p,Ls),document.addEventListener("touchstart",g,Ls),function(){Os=Os.filter(function(N){return N!==l}),document.removeEventListener("wheel",p,Ls),document.removeEventListener("touchmove",p,Ls),document.removeEventListener("touchstart",g,Ls)}},[]);var b=e.removeScrollBar,k=e.inert;return m.createElement(m.Fragment,null,k?m.createElement(l,{styles:W5(i)}):null,b?m.createElement(D5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function U5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const V5=v5(y0,B5);var E0=m.forwardRef(function(e,t){return m.createElement(ec,Nr({},e,{ref:t,sideCar:V5}))});E0.classNames=ec.classNames;var Z5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},As=new WeakMap,rc=new WeakMap,oc={},lf=0,_0=function(e){return e&&(e.host||_0(e.parentNode))},G5=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=_0(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Y5=function(e,t,n,s){var i=G5(t,Array.isArray(e)?e:[e]);oc[n]||(oc[n]=new WeakMap);var l=oc[n],d=[],u=new Set,p=new Set(i),h=function(v){!v||u.has(v)||(u.add(v),h(v.parentNode))};i.forEach(h);var g=function(v){!v||p.has(v)||Array.prototype.forEach.call(v.children,function(y){if(u.has(y))g(y);else try{var b=y.getAttribute(s),k=b!==null&&b!=="false",N=(As.get(y)||0)+1,S=(l.get(y)||0)+1;As.set(y,N),l.set(y,S),d.push(y),N===1&&k&&rc.set(y,!0),S===1&&y.setAttribute(n,"true"),k||y.setAttribute(s,"true")}catch(_){console.error("aria-hidden: cannot operate on ",y,_)}})};return g(t),u.clear(),lf++,function(){d.forEach(function(v){var y=As.get(v)-1,b=l.get(v)-1;As.set(v,y),l.set(v,b),y||(rc.has(v)||v.removeAttribute(s),rc.delete(v)),b||v.removeAttribute(n)}),lf--,lf||(As=new WeakMap,As=new WeakMap,rc=new WeakMap,oc={})}},q5=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=Z5(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),Y5(s,i,n,"aria-hidden")):function(){return null}},sc="Dialog",[T0]=Ka(sc),[K5,sr]=T0(sc),z0=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:l,modal:d=!0}=e,u=m.useRef(null),p=m.useRef(null),[h,g]=Ju({prop:s,defaultProp:i??!1,onChange:l,caller:sc});return r.jsx(K5,{scope:t,triggerRef:u,contentRef:p,contentId:Kl(),titleId:Kl(),descriptionId:Kl(),open:h,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(v=>!v),[g]),modal:d,children:n})};z0.displayName=sc;var R0="DialogTrigger",X5=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=sr(R0,n),l=En(t,i.triggerRef);return r.jsx(Ja.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":uf(i.open),...s,ref:l,onClick:qt(e.onClick,i.onOpenToggle)})});X5.displayName=R0;var cf="DialogPortal",[J5,D0]=T0(cf,{forceMount:void 0}),$0=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,l=sr(cf,t);return r.jsx(J5,{scope:t,forceMount:n,children:m.Children.map(s,d=>r.jsx(Xa,{present:n||l.open,children:r.jsx(f0,{asChild:!0,container:i,children:d})}))})};$0.displayName=cf;var ac="DialogOverlay",P0=m.forwardRef((e,t)=>{const n=D0(ac,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,l=sr(ac,e.__scopeDialog);return l.modal?r.jsx(Xa,{present:s||l.open,children:r.jsx(eT,{...i,ref:t})}):null});P0.displayName=ac;var Q5=p0("DialogOverlay.RemoveScroll"),eT=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=sr(ac,n);return r.jsx(E0,{as:Q5,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Ja.div,{"data-state":uf(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Uo="DialogContent",M0=m.forwardRef((e,t)=>{const n=D0(Uo,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,l=sr(Uo,e.__scopeDialog);return r.jsx(Xa,{present:s||l.open,children:l.modal?r.jsx(tT,{...i,ref:t}):r.jsx(nT,{...i,ref:t})})});M0.displayName=Uo;var tT=m.forwardRef((e,t)=>{const n=sr(Uo,e.__scopeDialog),s=m.useRef(null),i=En(t,n.contentRef,s);return m.useEffect(()=>{const l=s.current;if(l)return q5(l)},[]),r.jsx(I0,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qt(e.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:qt(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0;(d.button===2||u)&&l.preventDefault()}),onFocusOutside:qt(e.onFocusOutside,l=>l.preventDefault())})}),nT=m.forwardRef((e,t)=>{const n=sr(Uo,e.__scopeDialog),s=m.useRef(!1),i=m.useRef(!1);return r.jsx(I0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(s.current||n.triggerRef.current?.focus(),l.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=l.target;n.triggerRef.current?.contains(d)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),I0=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,...d}=e,u=sr(Uo,n),p=m.useRef(null),h=En(t,p);return c5(),r.jsxs(r.Fragment,{children:[r.jsx(i0,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,children:r.jsx(r0,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":uf(u.open),...d,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(rT,{titleId:u.titleId}),r.jsx(sT,{contentRef:p,descriptionId:u.descriptionId})]})]})}),df="DialogTitle",L0=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=sr(df,n);return r.jsx(Ja.h2,{id:i.titleId,...s,ref:t})});L0.displayName=df;var O0="DialogDescription",A0=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=sr(O0,n);return r.jsx(Ja.p,{id:i.descriptionId,...s,ref:t})});A0.displayName=O0;var F0="DialogClose",W0=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=sr(F0,n);return r.jsx(Ja.button,{type:"button",...s,ref:t,onClick:qt(e.onClick,()=>i.onOpenChange(!1))})});W0.displayName=F0;function uf(e){return e?"open":"closed"}var H0="DialogTitleWarning",[nM,B0]=i3(H0,{contentName:Uo,titleName:df,docsSlug:"dialog"}),rT=({titleId:e})=>{const t=B0(H0),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},oT="DialogDescriptionWarning",sT=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${B0(oT).contentName}}.`;return m.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},aT=z0,iT=$0,U0=P0,V0=M0,Z0=L0,G0=A0,lT=W0;const ff=aT,cT=iT,Y0=m.forwardRef(({className:e,...t},n)=>r.jsx(U0,{ref:n,className:Le("fixed inset-0 z-[100000] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Y0.displayName=U0.displayName;const ic=m.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(cT,{children:[r.jsx(Y0,{}),r.jsxs(V0,{ref:s,className:Le("fixed left-[50%] top-[50%] z-[100000] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(lT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Gt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ic.displayName=V0.displayName;const lc=({className:e,...t})=>r.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});lc.displayName="DialogHeader";const pf=({className:e,...t})=>r.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pf.displayName="DialogFooter";const cc=m.forwardRef(({className:e,...t},n)=>r.jsx(Z0,{ref:n,className:Le("text-lg font-semibold leading-none tracking-tight",e),...t}));cc.displayName=Z0.displayName;const dc=m.forwardRef(({className:e,...t},n)=>r.jsx(G0,{ref:n,className:Le("text-sm text-muted-foreground",e),...t}));dc.displayName=G0.displayName;var dT=Symbol.for("react.lazy"),uc=_d[" use ".trim().toString()];function uT(e){return typeof e=="object"&&e!==null&&"then"in e}function q0(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===dT&&"_payload"in e&&uT(e._payload)}function K0(e){const t=pT(e),n=m.forwardRef((s,i)=>{let{children:l,...d}=s;q0(l)&&typeof uc=="function"&&(l=uc(l._payload));const u=m.Children.toArray(l),p=u.find(hT);if(p){const h=p.props.children,g=u.map(v=>v===p?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}var fT=K0("Slot");function pT(e){const t=m.forwardRef((n,s)=>{let{children:i,...l}=n;if(q0(i)&&typeof uc=="function"&&(i=uc(i._payload)),m.isValidElement(i)){const d=xT(i),u=gT(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ar(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mT=Symbol("radix.slottable");function hT(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mT}function gT(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const p=l(...u);return i(...u),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function xT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const X0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,J0=pe,mf=(e,t)=>n=>{var s;if(t?.variants==null)return J0(e,n?.class,n?.className);const{variants:i,defaultVariants:l}=t,d=Object.keys(i).map(h=>{const g=n?.[h],v=l?.[h];if(g===null)return null;const y=X0(g)||X0(v);return i[h][y]}),u=n&&Object.entries(n).reduce((h,g)=>{let[v,y]=g;return y===void 0||(h[v]=y),h},{}),p=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,g)=>{let{class:v,className:y,...b}=g;return Object.entries(b).every(k=>{let[N,S]=k;return Array.isArray(S)?S.includes({...l,...u}[N]):{...l,...u}[N]===S})?[...h,v,y]:h},[]);return J0(e,d,p,n?.class,n?.className)},yT=mf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-gray-200 bg-white hover:bg-gray-100 hover:text-gray-900",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ln=m.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},l)=>{const d=s?fT:"button";return r.jsx(d,{className:Le(yT({variant:t,size:n,className:e})),ref:l,...i})});ln.displayName="Button";const fc=m.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));fc.displayName="Input";var vT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bT=vT.reduce((e,t)=>{const n=K0(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,p=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(p,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),wT="Label",Q0=m.forwardRef((e,t)=>r.jsx(bT.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Q0.displayName=wT;var ey=Q0;const jT=mf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fr=m.forwardRef(({className:e,...t},n)=>r.jsx(ey,{ref:n,className:Le(jT(),e),...t}));Fr.displayName=ey.displayName;function NT(e){const t=kT(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),p=u.find(CT);if(p){const h=p.props.children,g=u.map(v=>v===p?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function kT(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=_T(i),u=ET(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ar(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ST=Symbol("radix.slottable");function CT(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ST}function ET(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const p=l(...u);return i(...u),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function _T(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var TT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pc=TT.reduce((e,t)=>{const n=NT(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,p=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(p,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function ty(e){const t=zT(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),p=u.find(DT);if(p){const h=p.props.children,g=u.map(v=>v===p?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function zT(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=PT(i),u=$T(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ar(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RT=Symbol("radix.slottable");function DT(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RT}function $T(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const p=l(...u);return i(...u),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function PT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function MT(e){const t=e+"CollectionProvider",[n,s]=Ka(t),[i,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:S,children:_}=N,E=De.useRef(null),w=De.useRef(new Map).current;return r.jsx(i,{scope:S,itemMap:w,collectionRef:E,children:_})};d.displayName=t;const u=e+"CollectionSlot",p=ty(u),h=De.forwardRef((N,S)=>{const{scope:_,children:E}=N,w=l(u,_),T=En(S,w.collectionRef);return r.jsx(p,{ref:T,children:E})});h.displayName=u;const g=e+"CollectionItemSlot",v="data-radix-collection-item",y=ty(g),b=De.forwardRef((N,S)=>{const{scope:_,children:E,...w}=N,T=De.useRef(null),M=En(S,T),I=l(g,_);return De.useEffect(()=>(I.itemMap.set(T,{ref:T,...w}),()=>void I.itemMap.delete(T))),r.jsx(y,{[v]:"",ref:M,children:E})});b.displayName=g;function k(N){const S=l(e+"CollectionConsumer",N);return De.useCallback(()=>{const E=S.collectionRef.current;if(!E)return[];const w=Array.from(E.querySelectorAll(`[${v}]`));return Array.from(S.itemMap.values()).sort((I,O)=>w.indexOf(I.ref.current)-w.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:d,Slot:h,ItemSlot:b},k,s]}function IT(e){const t=LT(e),n=m.forwardRef((s,i)=>{const{children:l,...d}=s,u=m.Children.toArray(l),p=u.find(AT);if(p){const h=p.props.children,g=u.map(v=>v===p?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:v);return r.jsx(t,{...d,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,g):null})}return r.jsx(t,{...d,ref:i,children:l})});return n.displayName=`${e}.Slot`,n}function LT(e){const t=m.forwardRef((n,s)=>{const{children:i,...l}=n;if(m.isValidElement(i)){const d=WT(i),u=FT(l,i.props);return i.type!==m.Fragment&&(u.ref=s?Ar(s,d):d),m.cloneElement(i,u)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OT=Symbol("radix.slottable");function AT(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OT}function FT(e,t){const n={...t};for(const s in t){const i=e[s],l=t[s];/^on[A-Z]/.test(s)?i&&l?n[s]=(...u)=>{const p=l(...u);return i(...u),p}:i&&(n[s]=i):s==="style"?n[s]={...i,...l}:s==="className"&&(n[s]=[i,l].filter(Boolean).join(" "))}return{...e,...n}}function WT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var HT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ny=HT.reduce((e,t)=>{const n=IT(`Primitive.${t}`),s=m.forwardRef((i,l)=>{const{asChild:d,...u}=i,p=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(p,{...u,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),BT=m.createContext(void 0);function ry(e){const t=m.useContext(BT);return e||t||"ltr"}var hf="rovingFocusGroup.onEntryFocus",UT={bubbles:!1,cancelable:!0},Qa="RovingFocusGroup",[gf,oy,VT]=MT(Qa),[ZT,sy]=Ka(Qa,[VT]),[GT,YT]=ZT(Qa),ay=m.forwardRef((e,t)=>r.jsx(gf.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(gf.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(qT,{...e,ref:t})})}));ay.displayName=Qa;var qT=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:p,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...v}=e,y=m.useRef(null),b=En(t,y),k=ry(l),[N,S]=Ju({prop:d,defaultProp:u??null,onChange:p,caller:Qa}),[_,E]=m.useState(!1),w=Ms(h),T=oy(n),M=m.useRef(!1),[I,O]=m.useState(0);return m.useEffect(()=>{const P=y.current;if(P)return P.addEventListener(hf,w),()=>P.removeEventListener(hf,w)},[w]),r.jsx(GT,{scope:n,orientation:s,dir:k,loop:i,currentTabStopId:N,onItemFocus:m.useCallback(P=>S(P),[S]),onItemShiftTab:m.useCallback(()=>E(!0),[]),onFocusableItemAdd:m.useCallback(()=>O(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>O(P=>P-1),[]),children:r.jsx(ny.div,{tabIndex:_||I===0?-1:0,"data-orientation":s,...v,ref:b,style:{outline:"none",...e.style},onMouseDown:qt(e.onMouseDown,()=>{M.current=!0}),onFocus:qt(e.onFocus,P=>{const B=!M.current;if(P.target===P.currentTarget&&B&&!_){const V=new CustomEvent(hf,UT);if(P.currentTarget.dispatchEvent(V),!V.defaultPrevented){const oe=T().filter(ae=>ae.focusable),ue=oe.find(ae=>ae.active),Ne=oe.find(ae=>ae.id===N),ke=[ue,Ne,...oe].filter(Boolean).map(ae=>ae.ref.current);cy(ke,g)}}M.current=!1}),onBlur:qt(e.onBlur,()=>E(!1))})})}),iy="RovingFocusGroupItem",ly=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:l,children:d,...u}=e,p=Kl(),h=l||p,g=YT(iy,n),v=g.currentTabStopId===h,y=oy(n),{onFocusableItemAdd:b,onFocusableItemRemove:k,currentTabStopId:N}=g;return m.useEffect(()=>{if(s)return b(),()=>k()},[s,b,k]),r.jsx(gf.ItemSlot,{scope:n,id:h,focusable:s,active:i,children:r.jsx(ny.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:qt(e.onMouseDown,S=>{s?g.onItemFocus(h):S.preventDefault()}),onFocus:qt(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:qt(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){g.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=JT(S,g.orientation,g.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let w=y().filter(T=>T.focusable).map(T=>T.ref.current);if(_==="last")w.reverse();else if(_==="prev"||_==="next"){_==="prev"&&w.reverse();const T=w.indexOf(S.currentTarget);w=g.loop?QT(w,T+1):w.slice(T+1)}setTimeout(()=>cy(w))}}),children:typeof d=="function"?d({isCurrentTabStop:v,hasTabStop:N!=null}):d})})});ly.displayName=iy;var KT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XT(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function JT(e,t,n){const s=XT(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return KT[s]}function cy(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function QT(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var ez=ay,tz=ly;function nz(e){const[t,n]=m.useState(void 0);return Ps(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let d,u;if("borderBoxSize"in l){const p=l.borderBoxSize,h=Array.isArray(p)?p[0]:p;d=h.inlineSize,u=h.blockSize}else d=e.offsetWidth,u=e.offsetHeight;n({width:d,height:u})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}function rz(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xf="Radio",[oz,dy]=Ka(xf),[sz,az]=oz(xf),uy=m.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:i=!1,required:l,disabled:d,value:u="on",onCheck:p,form:h,...g}=e,[v,y]=m.useState(null),b=En(t,S=>y(S)),k=m.useRef(!1),N=v?h||!!v.closest("form"):!0;return r.jsxs(sz,{scope:n,checked:i,disabled:d,children:[r.jsx(pc.button,{type:"button",role:"radio","aria-checked":i,"data-state":hy(i),"data-disabled":d?"":void 0,disabled:d,value:u,...g,ref:b,onClick:qt(e.onClick,S=>{i||p?.(),N&&(k.current=S.isPropagationStopped(),k.current||S.stopPropagation())})}),N&&r.jsx(my,{control:v,bubbles:!k.current,name:s,value:u,checked:i,required:l,disabled:d,form:h,style:{transform:"translateX(-100%)"}})]})});uy.displayName=xf;var fy="RadioIndicator",py=m.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...i}=e,l=az(fy,n);return r.jsx(Xa,{present:s||l.checked,children:r.jsx(pc.span,{"data-state":hy(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:t})})});py.displayName=fy;var iz="RadioBubbleInput",my=m.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...i},l)=>{const d=m.useRef(null),u=En(d,l),p=rz(n),h=nz(t);return m.useEffect(()=>{const g=d.current;if(!g)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"checked").set;if(p!==n&&b){const k=new Event("click",{bubbles:s});b.call(g,n),g.dispatchEvent(k)}},[p,n,s]),r.jsx(pc.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});my.displayName=iz;function hy(e){return e?"checked":"unchecked"}var lz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mc="RadioGroup",[cz]=Ka(mc,[sy,dy]),gy=sy(),xy=dy(),[dz,uz]=cz(mc),yy=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:i,value:l,required:d=!1,disabled:u=!1,orientation:p,dir:h,loop:g=!0,onValueChange:v,...y}=e,b=gy(n),k=ry(h),[N,S]=Ju({prop:l,defaultProp:i??null,onChange:v,caller:mc});return r.jsx(dz,{scope:n,name:s,required:d,disabled:u,value:N,onValueChange:S,children:r.jsx(ez,{asChild:!0,...b,orientation:p,dir:k,loop:g,children:r.jsx(pc.div,{role:"radiogroup","aria-required":d,"aria-orientation":p,"data-disabled":u?"":void 0,dir:k,...y,ref:t})})})});yy.displayName=mc;var vy="RadioGroupItem",by=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...i}=e,l=uz(vy,n),d=l.disabled||s,u=gy(n),p=xy(n),h=m.useRef(null),g=En(t,h),v=l.value===i.value,y=m.useRef(!1);return m.useEffect(()=>{const b=N=>{lz.includes(N.key)&&(y.current=!0)},k=()=>y.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",k)}},[]),r.jsx(tz,{asChild:!0,...u,focusable:!d,active:v,children:r.jsx(uy,{disabled:d,required:l.required,checked:v,...p,...i,name:l.name,ref:g,onCheck:()=>l.onValueChange(i.value),onKeyDown:qt(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:qt(i.onFocus,()=>{y.current&&h.current?.click()})})})});by.displayName=vy;var fz="RadioGroupIndicator",wy=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,i=xy(n);return r.jsx(py,{...i,...s,ref:t})});wy.displayName=fz;var jy=yy,Ny=by,pz=wy;const ky=m.forwardRef(({className:e,...t},n)=>r.jsx(jy,{className:Le("grid gap-2",e),...t,ref:n}));ky.displayName=jy.displayName;const yf=m.forwardRef(({className:e,...t},n)=>r.jsx(Ny,{ref:n,className:Le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(pz,{className:"flex items-center justify-center",children:r.jsx(Xj,{className:"h-2.5 w-2.5 fill-current text-current"})})}));yf.displayName=Ny.displayName;function Sy({open:e,onOpenChange:t}){const{activeEmailId:n,emails:s}=Es(),i=s.find(N=>N.id===n),[l,d]=m.useState("dummy"),[u,p]=m.useState(""),[h,g]=m.useState(()=>window.sfuiData?.currentUserEmail||""),[v,y]=m.useState({type:null,message:""}),b=m.useCallback(async()=>{if(!h){y({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)){y({type:"error",message:"Please enter a valid email address"});return}if(!i){y({type:"error",message:"No email selected"});return}const{formId:S,ajaxUrl:_,nonce:E}=window.sfuiData||{};if(!_||!E){y({type:"error",message:"WordPress context not available"});return}y({type:"loading",message:"Sending test email..."});try{const w={from:i.from_email||"",from_name:i.from_name||"",reply:i.reply_to?.email||"",reply_name:i.reply_to?.name||"",cc:i.cc||"",bcc:i.bcc||"",subject:i.subject||"Test Email",body:i.body||"",attachments:i.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},T=new FormData;T.append("action","super_send_test_email"),T.append("nonce",E),T.append("form_id",S||0),T.append("data_type",l),T.append("entry_id",l==="entry"?u:""),T.append("test_recipient",h),Object.entries(w).forEach(([O,P])=>{Array.isArray(P)?P.forEach((B,V)=>{T.append(`email_settings[${O}][${V}]`,B)}):T.append(`email_settings[${O}]`,String(P))});const I=await(await fetch(_,{method:"POST",body:T,credentials:"same-origin"})).json();I.success?(y({type:"success",message:I.data?.message||"Test email sent!"}),setTimeout(()=>{t(!1),y({type:null,message:""})},2e3)):y({type:"error",message:I.data?.message||"Failed to send test email"})}catch(w){console.error("Test email error:",w),y({type:"error",message:"Network error - please try again"})}},[i,l,u,h,t]),k=m.useCallback(N=>{N||y({type:null,message:""}),t(N)},[t]);return r.jsx(ff,{open:e,onOpenChange:k,children:r.jsxs(ic,{className:"sm:max-w-md",children:[r.jsxs(lc,{children:[r.jsx(cc,{children:"Send Test Email"}),r.jsx(dc,{children:"Send a test version of this email to verify it looks correct."})]}),r.jsxs("div",{"data-testid":"recipient-section",className:"grid gap-2",children:[r.jsx(Fr,{htmlFor:"test-recipient",children:"Recipient Email"}),r.jsx(fc,{id:"test-recipient","data-testid":"test-recipient-input",type:"email",value:h,onChange:N=>g(N.target.value),placeholder:"recipient@example.com"})]}),r.jsxs("div",{"data-testid":"data-source-section",className:"grid gap-2",children:[r.jsx(Fr,{children:"Test Data Source"}),r.jsxs(ky,{value:l,onValueChange:d,className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(yf,{value:"dummy",id:"dummy-data","data-testid":"dummy-data-radio"}),r.jsx(Fr,{htmlFor:"dummy-data",className:"font-normal cursor-pointer",children:"Dummy data"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(yf,{value:"entry",id:"entry-data","data-testid":"entry-data-radio"}),r.jsx(Fr,{htmlFor:"entry-data",className:"font-normal cursor-pointer",children:"Entry data"})]})]})]}),l==="entry"&&r.jsxs("div",{"data-testid":"entry-id-section",className:"grid gap-2",children:[r.jsx(Fr,{htmlFor:"entry-id",children:"Entry ID"}),r.jsx(fc,{id:"entry-id","data-testid":"entry-id-input",type:"number",value:u,onChange:N=>p(N.target.value),placeholder:"Leave empty for latest entry",min:1})]}),v.type&&r.jsxs("div",{"data-testid":"status-message",className:Le("flex items-center gap-2 p-3 rounded-md text-sm",v.type==="loading"&&"bg-blue-50 text-blue-700",v.type==="success"&&"bg-green-50 text-green-700",v.type==="error"&&"bg-red-50 text-red-700"),children:[v.type==="loading"&&r.jsx(ul,{className:"w-4 h-4 animate-spin"}),v.type==="success"&&r.jsx(Ji,{className:"w-4 h-4"}),v.type==="error"&&r.jsx(Mo,{className:"w-4 h-4"}),r.jsx("span",{children:v.message})]}),r.jsxs(pf,{className:"sm:justify-start",children:[r.jsxs(ln,{"data-testid":"send-test-btn",onClick:b,disabled:v.type==="loading",children:[v.type==="loading"?r.jsx(ul,{className:"w-4 h-4 animate-spin"}):r.jsx(vs,{className:"w-4 h-4"}),r.jsx("span",{children:"Send Test"})]}),r.jsx(ln,{"data-testid":"cancel-btn",type:"button",variant:"secondary",onClick:()=>k(!1),disabled:v.type==="loading",children:"Close"})]})]})})}function vf({email:e,isMobile:t,isBuilder:n,renderBody:s,updateEmailField:i,activeEmailId:l,isHtmlMode:d,onModeChange:u,onShowTestEmail:p}){const h=e.from_name||"Sender Name",g=e.from_email||"sender@example.com",v=e.subject||"Email Subject",y=e.to||"recipient@example.com",b=e.cc||"",k=e.bcc||"",[N,S]=m.useState(!1),_=new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),E=m.useCallback((w,T)=>{i&&l&&i(l,w,T)},[i,l]);return t?r.jsxs("div",{"data-testid":"gmail-chrome-mobile",className:"h-full bg-white flex flex-col max-w-md mx-auto",children:[r.jsx("div",{"data-testid":"mobile-header",className:"bg-white border-b px-4 py-3",children:r.jsxs("div",{"data-testid":"mobile-header-nav",className:"flex items-center justify-between",children:[r.jsx("button",{"data-testid":"mobile-back-btn",className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsxs("div",{"data-testid":"mobile-header-actions",className:"flex gap-4",children:[n&&r.jsx(ln,{"data-testid":"mobile-reply-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Send Test Email",onClick:()=>S(!0),children:r.jsx(fl,{className:"w-4 h-4"})}),r.jsx(ln,{"data-testid":"mobile-label-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Label",children:r.jsx(ro,{className:"w-4 h-4"})}),r.jsx(ln,{"data-testid":"mobile-more-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"More options",children:r.jsx(yh,{className:"w-4 h-4"})})]})]})}),r.jsx("div",{"data-testid":"mobile-content-scroll",className:"flex-1 overflow-auto",children:r.jsxs("div",{"data-testid":"mobile-content-inner",className:"p-4",children:[n?r.jsx(Ds,{"data-testid":"mobile-subject-field",value:e.subject,onChange:w=>E("subject",w),placeholder:"Email Subject",className:"text-lg font-normal text-gray-900 mb-4",noPadding:!0}):r.jsx("h2",{"data-testid":"mobile-subject-display",className:"text-lg font-normal text-gray-900 mb-4",children:v}),r.jsxs("div",{"data-testid":"mobile-sender-section",className:"flex items-start gap-5 mb-4",children:[r.jsx("div",{"data-testid":"mobile-sender-avatar",className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600",children:r.jsx(Ma,{className:"w-6 h-6"})}),r.jsxs("div",{"data-testid":"mobile-sender-details",className:"flex-1",children:[r.jsxs("div",{"data-testid":"mobile-sender-row",className:"flex items-center gap-2",children:[n?r.jsx(Ds,{"data-testid":"mobile-from-name-field",value:e.from_name,onChange:w=>E("from_name",w),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}):r.jsx("span",{"data-testid":"mobile-from-name-display",className:"font-medium text-gray-900",children:h}),r.jsx("span",{"data-testid":"mobile-date",className:"text-xs text-gray-500",children:_})]}),r.jsx("div",{"data-testid":"mobile-recipients-list",className:"text-sm text-gray-600 space-y-2 mt-2",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"mobile-to-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"mobile-to-label",className:"inline-block w-12 text-gray-500 font-medium",children:"To"}),r.jsx("div",{"data-testid":"mobile-to-field-wrapper",className:"flex-1",children:r.jsx($s,{"data-testid":"mobile-to-field",value:e.to||"",onChange:w=>E("to",w),placeholder:"Add recipients..."})})]}),r.jsxs("div",{"data-testid":"mobile-cc-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"mobile-cc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Cc"}),r.jsx("div",{"data-testid":"mobile-cc-field-wrapper",className:"flex-1",children:r.jsx($s,{"data-testid":"mobile-cc-field",value:e.cc||"",onChange:w=>E("cc",w),placeholder:"Add Cc..."})})]}),r.jsxs("div",{"data-testid":"mobile-bcc-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"mobile-bcc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Bcc"}),r.jsx("div",{"data-testid":"mobile-bcc-field-wrapper",className:"flex-1",children:r.jsx($s,{"data-testid":"mobile-bcc-field",value:e.bcc||"",onChange:w=>E("bcc",w),placeholder:"Add Bcc..."})})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"mobile-to-display",children:["to ",y]}),b&&r.jsxs("div",{"data-testid":"mobile-cc-display",children:["cc: ",b]}),k&&r.jsxs("div",{"data-testid":"mobile-bcc-display",children:["bcc: ",k]})]})})]})]}),r.jsxs("div",{"data-testid":"mobile-attachments-mode-row",className:"flex items-center justify-between gap-2 px-2",children:[r.jsx(Jx,{attachments:e.attachments||[],onChange:w=>E("attachments",w),isBuilder:n}),n&&u&&r.jsxs("div",{"data-testid":"mobile-mode-toggle",className:"flex items-center gap-0.5 bg-gray-100 rounded-md p-0.5",children:[r.jsx("button",{"data-testid":"mobile-visual-mode-btn",onClick:()=>!d||u("visual"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"text-gray-500":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:r.jsx(yr,{className:"w-3 h-3"})}),r.jsx("button",{"data-testid":"mobile-html-mode-btn",onClick:()=>d||u("html"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"bg-white text-gray-900 shadow-sm":"text-gray-500"),title:"HTML Editor",children:r.jsx(Zt,{className:"w-3 h-3"})})]})]}),r.jsx("div",{"data-testid":"mobile-email-container",className:"bg-white p-2",children:r.jsx("div",{"data-testid":"mobile-email-body",className:"bg-white min-h-[200px] p-0",children:n&&s?s():r.jsx(Kx,{email:e})})})]})}),n&&r.jsx(Sy,{open:N,onOpenChange:S})]}):r.jsxs("div",{"data-testid":"gmail-chrome-desktop",className:"h-full bg-white flex flex-col",children:[r.jsx("div",{"data-testid":"gmail-header",className:"border-b border-gray-200 bg-white",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-start gap-5",children:[r.jsx("div",{"data-testid":"sender-avatar",className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 flex-shrink-0",children:r.jsx(Ma,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{"data-testid":"subject-row",className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[n?r.jsx(Ds,{"data-testid":"subject-field",value:e.subject,onChange:w=>E("subject",w),placeholder:"Email Subject",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},noPadding:!0}):r.jsx("h1",{"data-testid":"subject-display",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},children:v}),r.jsx("span",{"data-testid":"inbox-label",className:"px-2 py-0.5 bg-gray-100 text-xs text-gray-600 rounded",children:"Inbox"}),(e.scheduled_date||e.schedule)&&r.jsx(qx,{scheduledDate:e.scheduled_date,schedule:e.schedule})]}),r.jsxs("div",{"data-testid":"subject-row-actions",className:"flex items-center gap-2",children:[r.jsx(ln,{"data-testid":"label-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"Label",children:r.jsx(ro,{className:"w-4 h-4"})}),r.jsx(ln,{"data-testid":"more-btn",variant:"outline",size:"icon",className:"h-8 w-8","aria-label":"More options",children:r.jsx(yh,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{"data-testid":"from-to-section",className:"flex items-center justify-between mt-2",children:[r.jsxs("div",{"data-testid":"sender-recipients",children:[r.jsx("div",{"data-testid":"from-row",className:"flex items-center pb-8",children:n?r.jsxs(r.Fragment,{children:[r.jsx(Ds,{"data-testid":"from-name-field",value:e.from_name,onChange:w=>E("from_name",w),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600 ml-2.5",children:"<"}),r.jsx(Ds,{"data-testid":"from-email-field",value:e.from_email,onChange:w=>E("from_email",w),placeholder:"sender@example.com",type:"email",className:"text-sm text-gray-600",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600",children:">"})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{"data-testid":"from-name-display",className:"font-medium text-gray-900",children:h}),r.jsxs("span",{"data-testid":"from-email-display",className:"text-sm text-gray-600",children:["<",g,">"]})]})}),r.jsx("div",{"data-testid":"recipients-list",className:"text-sm text-gray-600 border-t border-gray-200",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"to-row",className:"flex items-center",children:[r.jsx("span",{"data-testid":"to-label",className:"inline-block w-12 text-gray-500 font-medium",children:"To"}),r.jsx("div",{"data-testid":"to-field-wrapper",className:"flex-1",children:r.jsx($s,{"data-testid":"to-field",value:e.to||"",onChange:w=>E("to",w),placeholder:"Add recipients..."})})]}),r.jsxs("div",{"data-testid":"cc-row",className:"flex items-center border-t border-gray-200",children:[r.jsx("span",{"data-testid":"cc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Cc"}),r.jsx("div",{"data-testid":"cc-field-wrapper",className:"flex-1",children:r.jsx($s,{"data-testid":"cc-field",value:e.cc||"",onChange:w=>E("cc",w),placeholder:"Add Cc recipients..."})})]}),r.jsxs("div",{"data-testid":"bcc-row",className:"flex items-center border-t border-gray-200",children:[r.jsx("span",{"data-testid":"bcc-label",className:"inline-block w-12 text-gray-500 font-medium",children:"Bcc"}),r.jsx("div",{"data-testid":"bcc-field-wrapper",className:"flex-1",children:r.jsx($s,{"data-testid":"bcc-field",value:e.bcc||"",onChange:w=>E("bcc",w),placeholder:"Add Bcc recipients..."})})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{"data-testid":"to-display",className:"py-1",children:["to ",y]}),b&&r.jsxs("div",{"data-testid":"cc-display",className:"py-1 border-t border-gray-200",children:["cc: ",b]}),k&&r.jsxs("div",{"data-testid":"bcc-display",className:"py-1 border-t border-gray-200",children:["bcc: ",k]})]})})]}),r.jsxs("div",{"data-testid":"header-actions",className:"flex items-center gap-2",children:[r.jsx("div",{"data-testid":"email-date",className:"text-sm text-gray-500",children:_}),r.jsx(ln,{"data-testid":"star-btn",variant:"outline",size:"icon",className:"h-8",disabled:!0,children:r.jsx(Ih,{className:"w-4 h-4"})}),n&&r.jsx(ln,{"data-testid":"reply-header-btn",variant:"outline",size:"icon",className:"h-8",onClick:()=>S(!0),title:"Send Test Email",children:r.jsx(fl,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{"data-testid":"attachments-mode-row",className:"flex items-center justify-between gap-4 mt-2",children:[r.jsx(Jx,{attachments:e.attachments||[],onChange:w=>E("attachments",w),isBuilder:n}),n&&u&&r.jsxs("div",{"data-testid":"mode-toggle",className:"flex items-center gap-1",children:[r.jsxs(jr,{"data-testid":"visual-mode-btn",variant:d?"outline":"outlineActive",size:"sm",onClick:()=>!d||u("visual"),title:"Visual Builder",children:[r.jsx(yr,{className:"w-4 h-4"}),r.jsx("span",{children:"Visual"})]}),r.jsxs(jr,{"data-testid":"html-mode-btn",variant:d?"outlineActive":"outline",size:"sm",onClick:()=>d||u("html"),title:"HTML Editor",children:[r.jsx(Zt,{className:"w-4 h-4"}),r.jsx("span",{children:"HTML"})]})]})]})]})]})})}),r.jsx("div",{"data-testid":"email-content-scroll",className:"flex-1 overflow-auto",children:r.jsxs("div",{"data-testid":"email-content-container",className:"max-w-[1000px] mx-auto bg-white",children:[r.jsx("div",{"data-testid":"email-body",className:"bg-white min-h-[200px] p-0",children:n&&s?s():r.jsx(Kx,{email:e})}),r.jsx("div",{"data-testid":"reply-section",className:"border-t border-gray-200 pt-6 pl-6",children:r.jsx("div",{className:"flex gap-3",children:n?r.jsxs(r.Fragment,{children:[r.jsxs(jr,{"data-testid":"reply-btn",variant:"pill",onClick:()=>S(!0),children:[r.jsx(fl,{className:"w-4 h-4"}),"Reply"]}),r.jsxs(jr,{"data-testid":"forward-btn",variant:"pill",onClick:()=>S(!0),children:[r.jsx(bh,{className:"w-4 h-4"}),"Forward"]})]}):r.jsxs(r.Fragment,{children:[r.jsxs(jr,{"data-testid":"reply-btn",variant:"pill",disabled:!0,children:[r.jsx(fl,{className:"w-4 h-4"}),"Reply"]}),r.jsxs(jr,{"data-testid":"forward-btn",variant:"pill",disabled:!0,children:[r.jsx(bh,{className:"w-4 h-4"}),"Forward"]})]})})})]})}),n&&r.jsx(Sy,{open:N,onOpenChange:S})]})}const dt=xl((e,t)=>({elements:[],selectedElementId:null,isDragging:!1,draggedElement:null,editingTextElementId:null,currentTemplate:null,savedTemplates:[],templateCategories:[{id:"welcome",name:"Welcome/Onboarding",count:5},{id:"transactional",name:"Transactional",count:5},{id:"newsletter",name:"Newsletter",count:5},{id:"notification",name:"Notification",count:5},{id:"minimal",name:"Minimal",count:3}],previewClient:"gmail-desktop",previewData:{},elementTypes:{emailWrapper:{id:"emailWrapper",name:"Email Wrapper",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{backgroundColor:"#f5f5f5"}},emailContainer:{id:"emailContainer",name:"Email Container",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{width:"600px",margin:{top:50,right:"auto",bottom:50,left:"auto"},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#e5e5e5",padding:{top:60,right:30,bottom:60,left:30},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",boxShadow:"none",borderRadius:0}},section:{id:"section",name:"Section",icon:"",defaultProps:{margin:{top:0,right:0,bottom:0,left:0},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#000000",padding:{top:20,right:20,bottom:20,left:20},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",fullWidth:!1}},columns:{id:"columns",name:"Columns",icon:"",defaultProps:{columns:2,gap:20,stackOnMobile:!0}},text:{id:"text",name:"Text",icon:"",defaultProps:{content:"Click to edit this text...",fontSize:16,fontFamily:"Arial, sans-serif",color:"#333333",lineHeight:1.6,align:"left",width:"100%",margin:{top:0,right:0,bottom:0,left:0},padding:{top:0,right:0,bottom:0,left:0}}},image:{id:"image",name:"Image",icon:"",defaultProps:{src:"",alt:"",width:"100%",height:"auto",align:"center",link:""}},button:{id:"button",name:"Button",icon:"",defaultProps:{text:"Click Here",href:"#",backgroundColor:"#0066cc",color:"#ffffff",fontSize:16,fontWeight:"bold",padding:{top:12,right:24,bottom:12,left:24},borderRadius:4,align:"center",fullWidth:!1}},divider:{id:"divider",name:"Divider",icon:"",defaultProps:{height:1,color:"#dddddd",style:"solid",margin:{top:20,bottom:20}}},spacer:{id:"spacer",name:"Spacer",icon:"",defaultProps:{height:20}},social:{id:"social",name:"Social Icons",icon:"",defaultProps:{icons:["facebook","twitter","instagram","linkedin"],iconSize:32,iconColor:"#333333",spacing:10,align:"center"}},formData:{id:"formData",name:"Form Data",icon:"",defaultProps:{field:"",fallback:"",format:"text"}},html:{id:"html",name:"HTML",icon:"</>",defaultProps:{content:"<p>Your HTML content here...</p>"}}},addElement:(n,s=null,i=null)=>{console.log(" addElement called:",{type:n,parentId:s,position:i});const{elementTypes:l}=t(),d=l[n];if(!d){console.error(" Element type not found:",n);return}if(d.isSystemElement){console.log(" Skipping system element creation:",n);return}const u={id:Ln(),type:n,props:{...d.defaultProps},children:[]};return console.log(" Created new element:",u),e(p=>{console.log(" Current state before adding:",p.elements);const h=t().ensureSystemElements(p.elements);if(console.log(" State after ensuring system elements:",h),s){console.log(" Adding to parent:",s);const g={elements:Fs(h,s,u,i)};return console.log(" Final state after addToParent:",g.elements),g}else{console.log(" Adding to root - finding email container...");const g=(y,b)=>{for(const k of y){if(k.type===b)return k;if(k.children&&k.children.length>0){const N=g(k.children,b);if(N)return N}}return null},v=g(h,"emailContainer");if(console.log(" Found email container:",v),v){console.log(" Adding to email container:",v.id);const y={elements:Fs(h,v.id,u,i)};return console.log(" Final state after addToParent to container:",y.elements),y}else{console.log(" No email container found, adding to root");const y=[...h];return i!==null?y.splice(i,0,u):y.push(u),console.log(" Final state (root fallback):",y),{elements:y}}}}),console.log(" addElement completed, returning:",u.id),u.id},updateElement:(n,s)=>{e(i=>({elements:wf(i.elements,n,s)}))},deleteElement:n=>{e(s=>({elements:gc(s.elements,n),selectedElementId:s.selectedElementId===n?null:s.selectedElementId}))},moveElement:(n,s,i)=>{e(l=>{let d=[...l.elements],u=null;if(d=gc(d,n,p=>{u=p}),!u)return l;if(u.type==="emailWrapper"||u.type==="emailContainer")return console.log(" Cannot move system elements"),l;if(s)d=Fs(d,s,u,i);else{const p=(g,v)=>{for(const y of g){if(y.type===v)return y;if(y.children&&y.children.length>0){const b=p(y.children,v);if(b)return b}}return null},h=p(d,"emailContainer");if(h)console.log(" Moving to email container:",h.id),d=Fs(d,h.id,u,i);else return console.log(" No email container found, cannot add element"),l}return{elements:d}})},selectElement:n=>{console.log("selectElement called with id:",n),e({selectedElementId:n}),console.log("selectedElementId set to:",n)},clearCanvas:()=>{e({elements:[],selectedElementId:null})},setElements:n=>{const s=t().ensureSystemElements(n||[]);e({elements:s})},ensureSystemElements:n=>{const{elementTypes:s}=t();let i=[...n];const l=(h,g)=>{for(const v of h){if(v.type===g)return v;if(v.children&&v.children.length>0){const y=l(v.children,g);if(y)return y}}return null};let d=i.find(h=>h.type==="emailWrapper");d||(d={id:`email-wrapper-${Date.now()}`,type:"emailWrapper",props:{...s.emailWrapper.defaultProps},children:[]},i.unshift(d));let u=l([d],"emailContainer");u||(u={id:`email-container-${Date.now()}`,type:"emailContainer",props:{...s.emailContainer.defaultProps},children:[]},d.children.unshift(u));const p=i.filter(h=>h.type!=="emailWrapper");return p.length>0&&(u.children.push(...p),i=i.filter(h=>h.type==="emailWrapper")),i},saveAsTemplate:(n,s,i)=>{const{elements:l}=t(),d={id:Ln(),name:n,description:s,category:i,elements:JSON.parse(JSON.stringify(l)),createdAt:new Date().toISOString(),thumbnail:null};return e(u=>({savedTemplates:[...u.savedTemplates,d]})),d},loadTemplate:n=>{const{savedTemplates:s}=t(),i=s.find(l=>l.id===n);i&&e({elements:JSON.parse(JSON.stringify(i.elements)),currentTemplate:i,selectedElementId:null})},deleteTemplate:n=>{e(s=>({savedTemplates:s.savedTemplates.filter(i=>i.id!==n)}))},generateHtml:()=>{const{elements:n}=t();return mz(n)},startDrag:n=>{e({isDragging:!0,draggedElement:n})},endDrag:()=>{e({isDragging:!1,draggedElement:null})},setEditingTextElement:n=>{e({editingTextElementId:n})},moveElementUpDown:(n,s)=>{const i=t(),l=bf(i.elements,n);if(!l){console.log("Element not found:",n);return}const{parent:d,parentId:u,position:p}=l,h=d?d.children:i.elements,g=s==="up"?p-1:p+1;if(g<0||g>=h.length){console.log("Cannot move element beyond bounds");return}const v=u||null;t().moveElement(n,v,g)}})),hc=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.children&&n.children.length>0)if(n.type==="columns")for(const s of n.children){const i=hc(s.children||[],t);if(i)return i}else{const s=hc(n.children,t);if(s)return s}}return null},bf=(e,t,n=null,s=null)=>{for(let i=0;i<e.length;i++){const l=e[i];if(l.id===t)return{parent:n,parentId:s,position:i};if(l.children&&l.children.length>0)if(l.type==="columns")for(const d of l.children){const u=bf(d.children||[],t,d,d.id);if(u)return u}else{const d=bf(l.children,t,l,l.id);if(d)return d}}return null},Vo=()=>{const e=dt(w=>w.selectElement),t=dt(w=>w.updateElement),n=dt(w=>w.addElement),s=dt(w=>w.deleteElement),i=dt(w=>w.moveElement),l=dt(w=>w.setElements),d=dt(w=>w.clearCanvas),u=dt(w=>w.generateHtml),p=dt(w=>w.startDrag),h=dt(w=>w.endDrag),g=dt(w=>w.setEditingTextElement),v=dt(w=>w.moveElementUpDown),y=dt(w=>w.selectedElementId),b=dt(w=>w.isDragging),k=dt(w=>w.draggedElement),N=dt(w=>w.elementTypes),S=dt(w=>w.editingTextElementId),_=dt(w=>w.elements),E=m.useMemo(()=>y?hc(_,y):null,[y,_]);return{elements:_,selectedElementId:y,selectedElement:E,isDragging:b,draggedElement:k,elementTypes:N,editingTextElementId:S,selectElement:e,updateElement:t,addElement:n,deleteElement:s,moveElement:i,setElements:l,clearCanvas:d,generateHtml:u,startDrag:p,endDrag:h,setEditingTextElement:g,moveElementUpDown:v}};Vo.getState=()=>{const e=dt.getState(),t=e.selectedElementId?hc(e.elements,e.selectedElementId):null;return{...e,selectedElement:t}};function Fs(e,t,n,s){if(console.log(" addToParent called:",{parentId:t,newElement:n,position:s}),console.log(" Elements structure:",e),t&&t.includes("-col-")){const[i,,l]=t.split("-"),d=parseInt(l);return e.map(u=>{if(u.id===i&&u.type==="columns"){const p=[...u.children||[]];for(;p.length<=d;)p.push({type:"column",children:[]});const h=[...p[d]?.children||[]];return s!=null?h.splice(s,0,n):h.push(n),p[d]={type:"column",children:h},{...u,children:p}}return u.children&&u.children.length>0?{...u,children:Fs(u.children,t,n,s)}:u})}return e.map(i=>{if(i.id===t){console.log(" Found target parent element:",i);const l=[...i.children];s!=null?(l.splice(s,0,n),console.log(" Added at position",s,"- new children:",l)):(l.push(n),console.log(" Added at end - new children:",l));const d={...i,children:l};return console.log(" Updated parent element:",d),d}return i.children&&i.children.length>0?{...i,children:Fs(i.children,t,n,s)}:i})}function wf(e,t,n){return e.map(s=>s.id===t?typeof n=="function"?n(s):{...s,...n}:s.children&&s.children.length>0?s.type==="columns"?{...s,children:s.children.map(i=>({...i,children:wf(i.children||[],t,n)}))}:{...s,children:wf(s.children,t,n)}:s)}function gc(e,t,n){return e.filter(s=>s.id===t?(n&&n(s),!1):(s.children&&s.children.length>0&&(s.type==="columns"?s.children=s.children.map(i=>({...i,children:gc(i.children||[],t,n)})):s.children=gc(s.children,t,n)),!0))}function mz(e){const t=s=>{switch(s.type){case"section":const i=s.props.margin||{top:0,right:0,bottom:0,left:0},l=s.props.border||{top:0,right:0,bottom:0,left:0},d=s.props.borderStyle||"solid",u=s.props.borderColor||"#000000",p=i.top||i.bottom?`<tr><td style="padding: ${i.top}px ${i.right}px ${i.bottom}px ${i.left}px;"></td></tr>`:"",h=s.props.backgroundImage?`background-image: url('${s.props.backgroundImage}'); background-size: ${s.props.backgroundSize||"cover"}; background-position: ${s.props.backgroundPosition||"center"}; background-repeat: ${s.props.backgroundRepeat||"no-repeat"};`:"",v=l.top>0||l.right>0||l.bottom>0||l.left>0?`border-top: ${l.top}px ${d} ${u}; border-right: ${l.right}px ${d} ${u}; border-bottom: ${l.bottom}px ${d} ${u}; border-left: ${l.left}px ${d} ${u};`:"";return`${p}<tr><td style="padding: ${s.props.padding.top}px ${s.props.padding.right}px ${s.props.padding.bottom}px ${s.props.padding.left}px; background-color: ${s.props.backgroundColor}; ${h} ${v}">
          ${s.children.map(t).join("")}
        </td></tr>`;case"text":return`<div style="font-size: ${s.props.fontSize}px; color: ${s.props.color}; text-align: ${s.props.align}; line-height: ${s.props.lineHeight};">
          ${s.props.content}
        </div>`;case"button":return`<div style="text-align: ${s.props.align};">
          <a href="${s.props.href}" style="display: inline-block; background-color: ${s.props.backgroundColor}; color: ${s.props.color}; padding: ${s.props.padding.top}px ${s.props.padding.right}px ${s.props.padding.bottom}px ${s.props.padding.left}px; text-decoration: none; border-radius: ${s.props.borderRadius}px; font-size: ${s.props.fontSize}px; font-weight: ${s.props.fontWeight};">
            ${s.props.text}
          </a>
        </div>`;case"html":return s.props.content||"";default:return""}};return`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f4f4f4;">
  <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="min-width: 100%;">
    <tr>
      <td align="center">
        <!--[if mso]>
        <table role="presentation" width="600" cellpadding="0" cellspacing="0">
        <tr>
        <td>
        <![endif]-->
        
        <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
          ${e.map(t).join("")}
        </table>
        
        <!--[if mso]>
        </td>
        </tr>
        </table>
        <![endif]-->
      </td>
    </tr>
  </table>
</body>
</html>`}const hz={section:_a,columns:Xd,text:bs,image:tu,button:Mh,divider:kh,spacer:Sh,social:Rh,formData:Qi,html:Zt};function gz({element:e}){const{attributes:t,listeners:n,setNodeRef:s,isDragging:i}=Gu({id:`palette-${e.id}`,data:{type:"new-element",elementType:e.id}}),l=hz[e.id]||_a;return r.jsxs("div",{ref:s,...n,...t,className:pe("flex flex-col items-center justify-center p-3 cursor-move","hover:bg-gray-100 transition-colors rounded-lg group",i&&"opacity-50"),title:e.name,children:[r.jsx(l,{className:"w-5 h-5 mb-1 text-gray-600 group-hover:text-gray-800"}),r.jsx("span",{className:"text-xs text-gray-600 text-center leading-tight group-hover:text-gray-800",children:e.name})]})}function xz(){const{elementTypes:e}=Vo(),t=[{name:"Layout",elements:["section","columns","spacer"]},{name:"Content",elements:["text","image","button","divider","html"]},{name:"Dynamic",elements:["formData","social"]}];return r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Elements:"}),r.jsx("div",{className:"flex items-center gap-6 overflow-x-auto",children:t.map((n,s)=>r.jsxs(De.Fragment,{children:[s>0&&r.jsx("div",{className:"h-8 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase mr-2",children:n.name}),n.elements.map(i=>{const l=e[i];return l?r.jsx(gz,{element:l},l.id):null})]})]},n.name))}),r.jsx("div",{className:"ml-auto text-xs text-gray-500 whitespace-nowrap",children:"Drag to add"})]})})}const yz={emailWrapper:{resizable:!1,background:{color:!0,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,canDelete:!1,isSystemElement:!0,backgroundOnly:!0},display:{showInBuilder:!0,selectable:!0}},emailContainer:{resizable:!1,background:{color:!0,image:!0},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{canDelete:!1,isSystemElement:!0,droppable:!0,widthOptions:["600px","700px"]},effects:{borderRadius:!0,shadow:!0},display:{showInBuilder:!0,selectable:!0}},text:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0,lineHeight:!0,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},display:{showInBuilder:!0,selectable:!0}},button:{resizable:{horizontal:!0,vertical:!1,minWidth:80,maxWidth:400},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!1,lineHeight:!1,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},display:{showInBuilder:!0,selectable:!0}},image:{resizable:{horizontal:!0,vertical:!0,minWidth:50,minHeight:50,maxWidth:1e3,maxHeight:800,aspectRatio:!0},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,alt:!0,title:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},media:{formats:["jpg","png","gif"],maxFileSize:"5MB",optimization:!0},display:{showInBuilder:!0,selectable:!0}},section:{resizable:{horizontal:!0,vertical:!0,minWidth:200,minHeight:50,maxWidth:700,defaultWidth:600},background:{color:!0,image:!0,gradient:!1},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,contained:!0,centered:!0,columns:!0,droppable:!0},container:{maxColumns:4,columnSpacing:!0,verticalAlignment:!0,equalHeight:!0},effects:{borderRadius:!0,shadow:!1}},spacer:{resizable:{horizontal:!1,vertical:!0,minHeight:10,maxHeight:200},background:{color:!1,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,inline:!1},display:{showInBuilder:!0,showInEmail:!1}},divider:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!0,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!0,inline:!1},style:{thickness:!0,style:!0,opacity:!0},display:{showInBuilder:!0,selectable:!0}},social:{resizable:{horizontal:!1,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!1,inline:!0},social:{platforms:["facebook","twitter","linkedin","instagram","youtube"],iconStyle:["default","round","square"],iconSize:["small","medium","large"],showLabels:!0},display:{showInBuilder:!0,selectable:!0}},columns:{resizable:{horizontal:!0,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,droppable:!0},columns:{count:{min:2,max:4},distribution:["equal","custom"],spacing:!0,verticalAlignment:["top","middle","bottom"],responsive:{mobile:"stack",tablet:"maintain",desktop:"maintain"}},display:{showInBuilder:!0,selectable:!0}},formData:{resizable:{horizontal:!0,vertical:!1},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},data:{fields:["name","email","phone","company","custom"],formatting:!0,fallback:!0},display:{showInBuilder:!0,selectable:!0}}};function jf(e){return yz[e]||{}}function Ws(e,t){const n=jf(e),s=t.split(".");let i=n;for(const l of s)if(i&&typeof i=="object"&&l in i)i=i[l];else return!1;return!!i}function Cy({margin:e,border:t,padding:n,backgroundColor:s,backgroundImage:i,borderRadius:l,boxShadow:d,children:u,className:p,isResizing:h=!1}){const g=()=>{const y={};if(e&&(e.top!==void 0&&(y.marginTop=`${e.top}px`),e.right!==void 0&&(y.marginRight=`${e.right}px`),e.bottom!==void 0&&(y.marginBottom=`${e.bottom}px`),e.left!==void 0&&(y.marginLeft=`${e.left}px`)),t&&t.width){const{width:b,style:k="solid",color:N="#000000"}=t;b.top>0&&(y.borderTop=`${b.top}px ${k} ${N}`),b.right>0&&(y.borderRight=`${b.right}px ${k} ${N}`),b.bottom>0&&(y.borderBottom=`${b.bottom}px ${k} ${N}`),b.left>0&&(y.borderLeft=`${b.left}px ${k} ${N}`)}return n&&(n.top!==void 0&&(y.paddingTop=`${n.top}px`),n.right!==void 0&&(y.paddingRight=`${n.right}px`),n.bottom!==void 0&&(y.paddingBottom=`${n.bottom}px`),n.left!==void 0&&(y.paddingLeft=`${n.left}px`)),s&&s!=="transparent"&&(y.backgroundColor=s),i&&i.url&&(y.backgroundImage=`url(${i.url})`,y.backgroundSize=i.size||"cover",y.backgroundPosition=i.position||"center",y.backgroundRepeat=i.repeat||"no-repeat"),l&&l>0&&(y.borderRadius=`${l}px`,y.WebkitBorderRadius=`${l}px`,y.MozBorderRadius=`${l}px`),d&&d!=="none"&&(y.boxShadow=d,y.WebkitBoxShadow=d,y.MozBoxShadow=d),y},v=()=>{const y={};return s&&s!=="transparent"&&(y.bgcolor=s),i&&i.url&&(y.background=i.url),y};return r.jsx("div",{className:pe("spacing-layer",!h&&"transition-all duration-200",p),style:g(),...v(),children:u})}function vz({capabilities:e,isResizing:t=!1,intensity:n="normal"}){const s=()=>{const d="absolute inset-0 pointer-events-none rounded";switch(n){case"subtle":return pe(d,"ring-1 ring-green-400 animate-pulse","transition-all duration-1000");case"strong":return pe(d,"ring-4 ring-green-500 animate-pulse","transition-all duration-500");default:return pe(d,"ring-2 ring-green-500 animate-pulse","transition-all duration-700")}},i=()=>{const d={};return e.effects?.borderRadius&&(d.borderRadius="inherit"),t&&(d.opacity=.3),d},l=()=>{const d=[];return e.resizable?.horizontal&&!t&&d.push(r.jsx("div",{className:"absolute top-1/2 right-0 w-1 h-4 bg-green-500 opacity-40 transform -translate-y-1/2 rounded-l"},"resize-horizontal-hint")),e.resizable?.vertical&&!t&&d.push(r.jsx("div",{className:"absolute bottom-0 left-1/2 w-4 h-1 bg-green-500 opacity-40 transform -translate-x-1/2 rounded-t"},"resize-vertical-hint")),d};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:s(),style:i()}),l(),r.jsx("div",{className:"absolute inset-0 pointer-events-none rounded",style:{boxShadow:"inset 0 0 0 1px rgba(34, 197, 94, 0.3)",borderRadius:"inherit",opacity:t?.2:.6}})]})}function bz({element:e,isSelected:t,isHovered:n,renderElements:s,children:i,onElementUpdate:l,onCapabilityAction:d,onEdit:u,isMobile:p}){const h=m.useRef(null),[g,v]=m.useState(!1),[y,b]=m.useState(null),[k,N]=m.useState(!1),[S,_]=m.useState(null),E=dt(U=>U.updateElement),w=jf(e.type),{margin:T={top:0,right:0,bottom:0,left:0},border:M={top:0,right:0,bottom:0,left:0},borderStyle:I="solid",borderColor:O="#000000",padding:P={top:0,right:0,bottom:0,left:0},backgroundColor:B="transparent",backgroundImage:V="",backgroundSize:oe="cover",backgroundPosition:ue="center",backgroundRepeat:Ne="no-repeat",width:re,height:ke,maxWidth:ae,minWidth:ne,fullWidth:F}=e.props||{},K=(U,ge)=>{ge.preventDefault(),ge.stopPropagation(),v(!0),b(U);const ze=ge.clientX,Ee=ge.clientY,rt=h.current?.offsetWidth||0,Ge=h.current?.offsetHeight||0,ot=Ct=>{const Kt=Ct.clientX-ze,tn=Ct.clientY-Ee;let cn=rt,le=Ge;if(U==="right"||U==="corner"){const de=w.resizable?.minWidth||100,he=w.resizable?.maxWidth||700;cn=Math.max(de,Math.min(he,rt+Kt))}if(U==="bottom"||U==="corner"){const de=w.resizable?.minHeight||50,he=w.resizable?.maxHeight||1e3;le=Math.max(de,Math.min(he,Ge+tn))}E(e.id,{props:{...e.props,...U==="right"||U==="corner"?{width:`${cn}px`}:{},...U==="bottom"||U==="corner"?{height:`${le}px`}:{}}})},Xe=()=>{v(!1),b(null),document.removeEventListener("mousemove",ot),document.removeEventListener("mouseup",Xe)};document.addEventListener("mousemove",ot),document.addEventListener("mouseup",Xe)},q=()=>{v(!1),b(null)},z=U=>{U.stopPropagation(),_(e.props?.backgroundColor||"#ffffff"),N(!0)},R=U=>{_(U),E(e.id,{props:{...e.props,backgroundColor:U}})},G=()=>{S&&E(e.id,{props:{...e.props,backgroundColor:S}}),N(!1),_(null)},Y=()=>{const U=e.props?.backgroundColor||"#ffffff";E(e.id,{props:{...e.props,backgroundColor:U}}),N(!1),_(null)};m.useEffect(()=>{const U=ge=>{k&&h.current&&!h.current.contains(ge.target)&&Y()};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[k]);const J=e.type!=="emailWrapper"&&e.type!=="emailContainer"&&(Ws(e.type,"spacing.margin")||Ws(e.type,"spacing.border")||Ws(e.type,"spacing.padding")),xe=()=>{const U={};return w.resizable?.horizontal&&re&&(U.width=re),w.resizable?.vertical&&ke&&(U.height=ke),ae&&(U.maxWidth=ae),ne&&(U.minWidth=ne),U};return r.jsxs("div",{ref:h,className:pe("universal-element-wrapper","relative",!g&&"transition-all duration-200",t&&"selected",n&&!t&&"hovered ring-2 ring-gray-400 ring-opacity-40",g&&"resizing",w.layout?.fullWidth&&"full-width",w.layout?.inline&&"inline-element"),style:{...xe(),...F?{width:"100%"}:{},...w.layout?.fullWidth&&!re&&!F&&{width:"100%"},...w.layout?.inline&&{display:"inline-block"},...w.layout?.centered&&!F&&{margin:"0 auto"},...e.type==="section"&&!re&&!F&&{width:`${w.resizable?.defaultWidth||600}px`},...e.type==="emailWrapper"&&{width:"100%",minHeight:"200px",display:"block",backgroundColor:B!=="transparent"?B:"#f5f5f5"},...e.type==="emailContainer"&&{width:p?"100%":re||"600px",maxWidth:p?"100%":re||"600px",margin:p?"0":"0 auto",display:"block",minHeight:"200px"}},"data-element-type":e.type,"data-element-id":e.id,"data-component":"UniversalElementWrapper","data-is-system":w.layout?.isSystemElement?"true":"false","data-is-selected":t?"true":"false","data-is-hovered":n?"true":"false","data-debug-env":"production",children:[t&&r.jsx(vz,{capabilities:w,isResizing:g}),(n&&!t||t&&w.layout?.backgroundOnly)&&w.layout?.isSystemElement&&u&&r.jsx("div",{className:"absolute top-1 left-1 z-[60] pointer-events-auto",children:r.jsx("button",{onClick:U=>{U.stopPropagation(),e.type==="emailWrapper"&&w.layout?.backgroundOnly?z(U):u(U)},className:"p-1.5 bg-blue-500 text-white rounded shadow-lg hover:shadow-xl transition-all hover:scale-110",title:e.type==="emailWrapper"?"Change Background Color":`Edit ${e.type==="emailContainer"?"Email Container":e.type}`,children:e.type==="emailWrapper"&&w.layout?.backgroundOnly?r.jsx(yr,{className:"w-3 h-3"}):r.jsx(vr,{className:"w-3 h-3"})})}),t&&w.layout?.isSystemElement&&r.jsx("div",{className:"absolute top-1 left-1 z-10",children:r.jsxs("div",{className:"bg-blue-500 text-white p-1 rounded shadow-sm flex items-center gap-1",children:[r.jsx(vr,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:e.type==="emailWrapper"?"Wrapper":"Container"})]})}),k&&e.type==="emailWrapper"&&r.jsx("div",{className:"absolute top-10 left-1 z-[70] pointer-events-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl border p-3 min-w-[200px]",children:[r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("button",{onClick:Y,className:"flex-1 px-3 py-1.5 text-sm text-gray-600 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"Cancel"}),r.jsx("button",{onClick:G,className:"flex-1 px-3 py-1.5 text-sm text-white bg-blue-500 hover:bg-blue-600 rounded transition-colors",children:"Apply"})]}),r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Background Color"}),r.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:["#ffffff","#f8f9fa","#e9ecef","#dee2e6","#f8f5f0","#fff9e6","#e8f4fd","#e6f7ff","#f0f8f0","#fef7f0","#f5f5f5","#000000"].map(U=>r.jsx("button",{onClick:()=>R(U),className:pe("w-6 h-6 rounded border-2 transition-colors",S===U?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-blue-500"),style:{backgroundColor:U},title:U},U))}),r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Custom Color"}),r.jsx("input",{type:"color",value:S||e.props?.backgroundColor||"#ffffff",onChange:U=>R(U.target.value),className:"w-full h-8 rounded border border-gray-300"})]})}),t&&w.resizable&&r.jsx(wz,{capabilities:w.resizable,onResizeStart:K,onResizeEnd:q,isResizing:g,direction:y}),J?r.jsx(Cy,{margin:Ws(e.type,"spacing.margin")?T:null,border:Ws(e.type,"spacing.border")?{width:M,style:I,color:O}:null,padding:Ws(e.type,"spacing.padding")?P:null,backgroundColor:w.background?.color?B:null,backgroundImage:w.background?.image?{url:V,size:oe,position:ue,repeat:Ne}:null,borderRadius:w.effects?.borderRadius?e.props.borderRadius:null,isResizing:g,children:i}):r.jsx("div",{className:"element-content",children:i})]})}function wz({capabilities:e,onResizeStart:t,onResizeEnd:n,isResizing:s,direction:i}){const l=[];return e.horizontal&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-right","absolute top-0 right-0 w-2 h-full cursor-ew-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",s&&i==="right"&&"opacity-75"),onMouseDown:d=>t("right",d)},"resize-right")),e.vertical&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-bottom","absolute bottom-0 left-0 w-full h-2 cursor-ns-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",s&&i==="bottom"&&"opacity-75"),onMouseDown:d=>t("bottom",d)},"resize-bottom")),e.horizontal&&e.vertical&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-corner","absolute bottom-0 right-0 w-3 h-3 cursor-nw-resize","bg-blue-500 opacity-0 hover:opacity-75 transition-opacity",s&&i==="corner"&&"opacity-100"),onMouseDown:d=>t("corner",d)},"resize-corner")),r.jsx(r.Fragment,{children:l})}function jz({element:e,renderElements:t}){const{children:n=[]}=e;return r.jsx("div",{className:"email-wrapper-content w-full min-h-[200px] relative","data-component":"EmailWrapperElement","data-element-type":"emailWrapper","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?t(n,e.id):r.jsx("div",{className:"p-6 text-center text-gray-400 border-2 border-dashed border-purple-200 rounded-lg min-h-[150px] flex flex-col items-center justify-center",children:r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Email Client Background"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Click to edit the email client background color"}),r.jsx("div",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded text-xs font-medium",children:"Clickable Email Wrapper"})]})})})}function Nz({element:e,renderElements:t}){const{children:n=[]}=e;new Date().toISOString();const{margin:s={top:0,right:0,bottom:0,left:0},padding:i={top:0,right:0,bottom:0,left:0},border:l={top:0,right:0,bottom:0,left:0},borderStyle:d="solid",borderColor:u="#000000",backgroundColor:p,backgroundImage:h,backgroundSize:g="cover",backgroundPosition:v="center",backgroundRepeat:y="no-repeat",borderRadius:b=0,boxShadow:k="none"}=e.props||{},{setNodeRef:N}=or({id:`email-container-main-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-drop"}}),{setNodeRef:S,isOver:_}=or({id:`email-container-empty-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-empty-drop"}});return r.jsx("div",{style:{paddingTop:`${s.top}px`,paddingRight:`${s.right}px`,paddingBottom:`${s.bottom}px`,paddingLeft:`${s.left}px`},children:r.jsx(Cy,{margin:null,padding:i,border:{width:l,style:d,color:u},backgroundColor:p,backgroundImage:h?{url:h,size:g,position:v,repeat:y}:null,borderRadius:b,boxShadow:k,children:r.jsx("div",{className:"email-container-content w-full h-full min-h-[200px] relative","data-component":"EmailContainerElement","data-element-type":"emailContainer","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?r.jsx("div",{ref:N,className:"min-h-full",children:t(n,e.id)}):r.jsxs("div",{ref:S,className:pe("h-full min-h-[150px] flex flex-col items-center justify-center text-gray-400 transition-all",_&&"bg-blue-50 border-2 border-blue-300 border-dashed"),children:[r.jsx(Ao,{className:"w-10 h-10 mb-3"}),r.jsx("p",{className:"text-sm",children:"Drop elements here"}),_&&r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Release to add element"})]})})})})}function kz({element:e,renderElements:t}){const[n,s]=De.useState(!1),{setNodeRef:i,isOver:l}=or({id:`${e.id}-droppable`,data:{parentId:e.id,position:e.children?.length||0}}),{backgroundColor:d="transparent",backgroundImage:u,backgroundSize:p="cover",backgroundPosition:h="center",backgroundRepeat:g="no-repeat"}=e.props;return r.jsx("div",{ref:i,className:pe("element-content min-h-[50px] transition-all",l&&"bg-primary-50"),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{backgroundColor:d!=="transparent"?d:void 0,backgroundImage:u?`url(${u})`:void 0,backgroundSize:p,backgroundPosition:h,backgroundRepeat:g},children:e.children&&e.children.length>0?t(e.children,e.id):r.jsx("div",{className:pe("py-8 text-center text-sm border-2 border-dashed rounded transition-all",n?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop elements here"})})}function Sz({position:e,onFormatText:t,onAlignText:n,onFontSize:s,onTextColor:i,onDelete:l,onMoveUp:d,onMoveDown:u,onStartDrag:p,onSave:h,currentAlign:g="left",currentFontSize:v=16,currentColor:y="#000000",isVisible:b=!1,showElementControls:k=!1}){const N=m.useRef(null);if(m.useEffect(()=>{if(b&&e&&N.current){const w=N.current;w.style.left=`${e.x}px`,w.style.top=`${e.y}px`}},[e,b]),!b)return null;const S=[{icon:gh,command:"bold",title:"Bold (Ctrl+B)"},{icon:Nh,command:"italic",title:"Italic (Ctrl+I)"},{icon:Oh,command:"underline",title:"Underline (Ctrl+U)"},{icon:dl,command:"createLink",title:"Add Link (Ctrl+K)"}],_=[{icon:ph,value:"left",title:"Align Left"},{icon:fh,value:"center",title:"Align Center"},{icon:mh,value:"right",title:"Align Right"}],E=[12,14,16,18,20,24,28,32,36];return r.jsxs("div",{ref:N,className:"fixed z-50 bg-white shadow-lg border border-gray-200 rounded-lg p-2 flex items-center gap-1 pointer-events-auto",style:{position:"fixed",transform:"translateX(-50%)"},children:[k&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),h&&h()},className:"p-2 rounded bg-green-500 hover:bg-green-600 text-white",title:"Save and exit",children:r.jsx(Oo,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation(),p&&p(w)},className:"p-2 rounded hover:bg-gray-100 cursor-move",title:"Drag to move",children:r.jsx(cl,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),d&&d()},className:"p-2 rounded hover:bg-gray-100",title:"Move Up",children:r.jsx(za,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),u&&u()},className:"p-2 rounded hover:bg-gray-100",title:"Move Down",children:r.jsx(Sn,{className:"w-4 h-4 text-gray-700"})}),r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"})]}),r.jsx("div",{className:"flex border-r border-gray-200 pr-2 mr-2",children:S.map(({icon:w,command:T,title:M})=>r.jsx("button",{type:"button",onMouseDown:I=>{I.preventDefault(),I.stopPropagation()},onClick:I=>{I.preventDefault(),I.stopPropagation(),t(T)},className:"p-2 rounded hover:bg-gray-100",title:M,children:r.jsx(w,{className:"w-4 h-4 text-gray-700"})},T))}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(bs,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("select",{value:v,onChange:w=>s(parseInt(w.target.value)),className:"text-sm border border-gray-300 rounded px-2 py-1 min-w-[60px]",children:E.map(w=>r.jsxs("option",{value:w,children:[w,"px"]},w))})]}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(yr,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("input",{type:"color",value:y,onChange:w=>i(w.target.value),className:"w-8 h-8 border border-gray-300 rounded cursor-pointer",title:"Text Color"})]}),r.jsx("div",{className:"flex",children:_.map(({icon:w,value:T,title:M})=>r.jsx("button",{type:"button",onClick:()=>n(T),className:pe("p-2 rounded transition-colors",g===T?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-700"),title:M,children:r.jsx(w,{className:"w-4 h-4"})},T))}),k&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),l&&l()},className:"p-2 rounded hover:bg-red-100",title:"Delete Element",children:r.jsx(On,{className:"w-4 h-4 text-red-600"})})]})]})}function Cz({element:e}){const{content:t,fontSize:n=16,fontFamily:s="Arial, sans-serif",color:i="#000000",lineHeight:l=1.6,align:d="left",width:u="100%",margin:p={top:0,right:0,bottom:16,left:0},padding:h={top:0,right:0,bottom:0,left:0}}=e.props,[g,v]=m.useState(!1),[y,b]=m.useState(null),[k,N]=m.useState(!1),S=m.useRef(null),_=dt.getState().updateElement,E=dt.getState().deleteElement,w=dt.getState().selectElement,{setEditingTextElement:T,moveElementUpDown:M,isDragging:I}=Vo();m.useEffect(()=>{!g&&S.current&&S.current.innerHTML!==(t||"")&&(S.current.innerHTML=t||"")},[t,g]);const O=R=>{R.stopPropagation(),g||(w(e.id),v(!0),T(e.id),S.current&&(S.current.innerHTML=t||""),setTimeout(()=>{if(S.current){S.current.focus();const G=window.getSelection(),Y=document.createRange();Y.selectNodeContents(S.current),Y.collapse(!1),G.removeAllRanges(),G.addRange(Y),B()}},0))};m.useEffect(()=>{const R=G=>{if(g&&S.current&&!S.current.contains(G.target)){const Y=document.querySelector(".fixed.z-50");if(Y&&Y.contains(G.target))return;V()}};return g&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[g]);const P=()=>{g&&B()};m.useEffect(()=>{!I&&g&&S.current&&B()},[I]),m.useEffect(()=>{if(!g||!k)return;const R=()=>{if(S.current){const J=S.current.getBoundingClientRect();b({x:J.left+J.width/2,y:J.top-50-20})}},G=[];let Y=S.current;for(;Y;){const J=window.getComputedStyle(Y);(Y.scrollHeight>Y.clientHeight||J.overflowY==="scroll"||J.overflowY==="auto"||J.overflow==="scroll"||J.overflow==="auto")&&(G.push(Y),Y.addEventListener("scroll",R,{passive:!0})),Y=Y.parentElement}return window.addEventListener("scroll",R,{passive:!0}),window.addEventListener("resize",R,{passive:!0}),R(),()=>{G.forEach(J=>{J.removeEventListener("scroll",R)}),window.removeEventListener("scroll",R),window.removeEventListener("resize",R)}},[g,k]);const B=()=>{if(S.current){const R=S.current.getBoundingClientRect();b({x:R.left+R.width/2,y:R.top-50-20}),N(!0)}},V=()=>{if(S.current){const R=S.current.innerHTML;_(e.id,{props:{...e.props,content:R}})}v(!1),N(!1),b(null),T(null)},oe=R=>{R.key==="Enter"&&(R.ctrlKey||R.metaKey)&&(R.preventDefault(),V()),R.key==="Escape"&&(R.preventDefault(),V())},ue=R=>{if(R==="createLink"){const G=prompt("Enter URL:");G&&document.execCommand("createLink",!1,G)}else document.execCommand(R,!1,null);S.current?.focus()},Ne=R=>{_(e.id,{props:{...e.props,align:R}})},re=R=>{_(e.id,{props:{...e.props,fontSize:R}})},ke=R=>{_(e.id,{props:{...e.props,color:R}})},ae=R=>{const G=R.target.innerHTML;clearTimeout(window.textUpdateTimeout),window.textUpdateTimeout=setTimeout(()=>{_(e.id,{props:{...e.props,content:G}})},300)},ne=()=>{V(),E(e.id)},F=()=>{M(e.id,"up")},K=()=>{M(e.id,"down")},q=R=>{V();const G=R.target.closest('[data-component="SortableElement"]');if(G){const Y=G.querySelector('[data-drag-handle="true"]');if(Y){const J=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:R.clientX,clientY:R.clientY});Y.dispatchEvent(J)}}},z=()=>{V()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:S,className:`min-h-[20px] element-content ${g?"outline-2 outline-blue-500 outline-dashed":""}`,style:{fontSize:`${n}px`,fontFamily:s,color:i,lineHeight:l,textAlign:d,width:u,marginTop:`${p.top}px`,marginRight:`${p.right}px`,marginBottom:`${p.bottom}px`,marginLeft:`${p.left}px`,paddingTop:`${h.top}px`,paddingRight:`${h.right}px`,paddingBottom:`${h.bottom}px`,paddingLeft:`${h.left}px`,cursor:g?"text":"pointer",minHeight:"1em"},contentEditable:g,suppressContentEditableWarning:!0,onClick:O,onKeyDown:g?oe:void 0,onInput:g?ae:void 0,onMouseUp:g?P:void 0,onKeyUp:g?P:void 0,"data-component":"TextElement","data-element-type":"text","data-element-id":e.id,"data-is-editing":g?"true":"false"}),r.jsx(Sz,{position:y,isVisible:k&&g&&!I,onFormatText:ue,onAlignText:Ne,onFontSize:re,onTextColor:ke,onDelete:ne,onMoveUp:F,onMoveDown:K,onStartDrag:q,onSave:z,currentAlign:d,currentFontSize:n,currentColor:i,showElementControls:!0}),g&&r.jsx("div",{className:"absolute bottom-[-30px] left-0 right-0 text-xs text-gray-500 text-center bg-white px-2 py-1 rounded shadow-sm",children:"Press Ctrl+Enter or click outside to finish  ESC to cancel"})]})}function Ez({element:e}){const{text:t="Button",href:n="#",backgroundColor:s="#007cba",color:i="#ffffff",fontSize:l=16,fontWeight:d="normal",borderRadius:u=4,align:p="left",fullWidth:h=!1,target:g="_blank"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:p},children:r.jsx("a",{href:n,target:g,rel:g==="_blank"?"noopener noreferrer":void 0,className:"inline-block no-underline transition-opacity hover:opacity-80",style:{backgroundColor:s,color:i,fontSize:`${l}px`,fontWeight:d,borderRadius:`${u}px`,width:h?"100%":"auto",textAlign:"center",padding:"12px 24px"},children:t})})}function _z({element:e}){const{src:t,alt:n="Image",width:s="auto",height:i="auto",align:l="left",link:d,target:u="_blank"}=e.props,p=r.jsx("img",{src:t||"https://via.placeholder.com/600x300",alt:n,style:{width:s,height:i,maxWidth:"100%",display:"block",border:"0",outline:"none",textDecoration:"none",msInterpolationMode:"bicubic"}});return r.jsx("div",{className:"element-content",style:{textAlign:l},children:d?r.jsx("a",{href:d,target:u,rel:u==="_blank"?"noopener noreferrer":void 0,style:{textDecoration:"none",border:"0",outline:"none"},children:p}):p})}function Tz({element:e}){const{height:t=20}=e.props;return r.jsx("div",{className:"element-content bg-transparent",style:{height:`${t}px`,fontSize:"0",lineHeight:"0"},children:""})}function zz({element:e}){const{height:t=1,color:n="#cccccc",style:s="solid",align:i="center",width:l="100%"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:i},children:r.jsx("hr",{style:{height:`${t}px`,width:l,backgroundColor:s==="solid"?n:"transparent",border:"none",borderTop:s==="dashed"?`${t}px dashed ${n}`:s==="dotted"?`${t}px dotted ${n}`:void 0,margin:0,display:"block",fontSize:"0",lineHeight:"0"}})})}function Rz({element:e,renderElements:t}){const{columns:n=2,gap:s=16,stackOnMobile:i=!0}=e.props,l=Array(n).fill(null).map((d,u)=>e.children?.[u]||{type:"column",children:[]});return r.jsx("div",{className:"element-content flex flex-wrap",style:{gap:`${s}px`},"data-stack-mobile":i,children:l.map((d,u)=>r.jsx(Dz,{columnId:`${e.id}-col-${u}`,parentId:e.id,index:u,width:`${100/n}%`,gap:s,renderElements:t,children:d.children||[]},u))})}function Dz({columnId:e,parentId:t,index:n,width:s,gap:i,renderElements:l,children:d}){const[u,p]=De.useState(!1),{setNodeRef:h,isOver:g}=or({id:e,data:{parentId:t,position:n,isColumn:!0}});return r.jsx("div",{ref:h,className:pe("min-h-[100px] transition-all",g&&"bg-primary-50"),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),style:{flex:`0 0 calc(${s} - ${i}px)`},children:d.length>0?l(d,e):r.jsx("div",{className:pe("h-full flex items-center justify-center text-sm border-2 border-dashed rounded p-4 transition-all",u?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop here"})})}const $z={facebook:{icon:"",defaultUrl:"https://facebook.com",label:"Facebook"},twitter:{icon:"",defaultUrl:"https://twitter.com",label:"Twitter"},instagram:{icon:"",defaultUrl:"https://instagram.com",label:"Instagram"},linkedin:{icon:"",defaultUrl:"https://linkedin.com",label:"LinkedIn"},youtube:{icon:"",defaultUrl:"https://youtube.com",label:"YouTube"},pinterest:{icon:"",defaultUrl:"https://pinterest.com",label:"Pinterest"}};function Pz({element:e}){const{icons:t=["facebook","twitter","instagram"],iconSize:n=32,iconColor:s="#333333",spacing:i=8,align:l="left"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:l},children:r.jsx("div",{className:"inline-flex items-center",style:{gap:`${i}px`},children:t.map(d=>{const u=$z[d];return u?r.jsx("a",{href:u.defaultUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center transition-opacity hover:opacity-70",style:{width:`${n}px`,height:`${n}px`,fontSize:`${n*.6}px`,color:s},title:u.label,children:r.jsx("span",{children:u.icon})},d):null})})})}function Mz({element:e}){const{field:t="email",fallback:n="[Form Field]",format:s="text"}=e.props,i=t?`{${t}}`:n;return r.jsx("div",{className:"element-content inline-block px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:i})}function Iz({element:e}){const{content:t=""}=e.props,[n,s]=m.useState(!1),[i,l]=m.useState(!0),[d,u]=m.useState(t),p=m.useRef(null),h=dt.getState().updateElement;m.useEffect(()=>{n||u(t)},[t,n]),m.useEffect(()=>{n&&p.current&&(p.current.style.height="auto",p.current.style.height=Math.max(100,p.current.scrollHeight)+"px")},[d,n]);const g=b=>{b.stopPropagation(),n||(s(!0),setTimeout(()=>p.current?.focus(),0))},v=()=>{h(e.id,{props:{...e.props,content:d}}),s(!1)},y=b=>{b.key==="Escape"&&(b.preventDefault(),u(t),s(!1)),b.key==="Enter"&&(b.ctrlKey||b.metaKey)&&(b.preventDefault(),v())};return n?r.jsxs("div",{className:"border-2 border-blue-500 rounded overflow-hidden","data-component":"HtmlElement","data-element-id":e.id,"data-is-editing":"true",children:[r.jsxs("div",{className:"bg-gray-800 px-3 py-2 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-300 font-mono",children:"HTML Block"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>l(!i),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors",i?"bg-gray-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[i?r.jsx(Qd,{className:"w-3 h-3"}):r.jsx(Io,{className:"w-3 h-3"}),i?"Hide Preview":"Show Preview"]}),r.jsxs("button",{onClick:v,className:"flex items-center gap-1 bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition-colors",children:[r.jsx(Ta,{className:"w-3 h-3"}),"Save"]})]})]}),r.jsxs("div",{className:pe("flex",i?"flex-row":"flex-col"),children:[r.jsx("div",{className:pe("bg-gray-900",i?"w-1/2":"w-full"),children:r.jsx("textarea",{ref:p,value:d,onChange:b=>u(b.target.value),onKeyDown:y,className:"w-full min-h-[100px] bg-gray-900 text-gray-100 font-mono text-sm p-3 border-0 outline-none resize-none",placeholder:"Enter your HTML code here...",spellCheck:!1})}),i&&r.jsxs("div",{className:"w-1/2 bg-white border-l border-gray-700",children:[r.jsx("div",{className:"bg-gray-100 px-3 py-1 text-xs text-gray-500 border-b",children:"Preview"}),r.jsx("div",{className:"p-3 prose max-w-none min-h-[100px]",children:d?r.jsx("div",{dangerouslySetInnerHTML:{__html:d}}):r.jsx("span",{className:"text-gray-400",children:"Preview will appear here..."})})]})]}),r.jsx("div",{className:"bg-gray-800 px-3 py-1 text-xs text-gray-500 text-center",children:"Ctrl+Enter to save | ESC to cancel"})]}):r.jsxs("div",{onClick:g,className:"relative cursor-pointer group min-h-[40px]","data-component":"HtmlElement","data-element-id":e.id,children:[r.jsxs("div",{className:"absolute top-1 right-1 bg-gray-700 text-white text-xs px-1.5 py-0.5 rounded opacity-60 group-hover:opacity-100 flex items-center gap-1 z-10",children:[r.jsx(Zt,{className:"w-3 h-3"}),r.jsx("span",{children:"HTML"})]}),t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsx("div",{className:"text-gray-400 text-center py-4 border-2 border-dashed border-gray-300 rounded",children:"Click to add HTML code"}),r.jsx("div",{className:"absolute inset-0 bg-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:"Click to edit HTML"})})]})}const Lz={emailWrapper:jz,emailContainer:Nz,section:kz,text:Cz,button:Ez,image:_z,spacer:Tz,divider:zz,columns:Rz,social:Pz,formData:Mz,html:Iz};function Oz({element:e,renderElements:t,isSelected:n,isHovered:s=!1,onElementUpdate:i,onCapabilityAction:l,onEdit:d,isMobile:u}){const p=Lz[e.type];return p?r.jsx(bz,{element:e,isSelected:n,isHovered:s,renderElements:t,onElementUpdate:i,onCapabilityAction:l,onEdit:d,isMobile:u,children:r.jsx(p,{element:e,renderElements:t})}):r.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm",children:["Unknown element type: ",e.type]})}function Ey({element:e,index:t,parentId:n,isSelected:s,onSelect:i,renderElements:l,isMobile:d}){const[u,p]=m.useState(!1),{deleteElement:h,editingTextElementId:g}=Vo(),y=jf(e.type).layout?.isSystemElement,{attributes:b,listeners:k,setNodeRef:N,transform:S,transition:_,isDragging:E}=Ku({id:e.id,disabled:y,data:{type:"canvas-element",elementId:e.id,parentId:n,position:t}}),w={transform:wr.Transform.toString(S),transition:_,opacity:E?.5:void 0},T=B=>{B.stopPropagation(),confirm("Are you sure you want to delete this element?")&&h(e.id)},M=B=>{B.stopPropagation(),i(),e.type==="text"&&setTimeout(()=>{const V=B.target.closest('[data-component="SortableElement"]')?.querySelector('[data-component="TextElement"]');V&&V.click()},50)},I=B=>{if(e.type==="emailWrapper"){B.stopPropagation();return}if(e.type==="emailContainer"){const V=B.currentTarget.getBoundingClientRect(),oe=B.clientX,ue=parseInt(e.props?.width||"600px"),Ne=V.left+(V.width-ue)/2,re=Ne+ue;oe>=Ne&&oe<=re&&(B.stopPropagation(),i());return}B.stopPropagation(),i()},O=(B,V,oe)=>{console.log("Element update:",B,V,oe)},P=(B,V,oe)=>{console.log("Capability action:",B,V,oe)};return r.jsxs("div",{ref:N,style:w,className:pe("relative group transition-all duration-200",E&&"z-50",y&&"cursor-default"),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),"data-component":"SortableElement","data-element-type":e.type,"data-element-id":e.id,"data-is-system":y?"true":"false","data-is-sortable":y?"false":"true","data-is-selected":s?"true":"false","data-is-hovered":u?"true":"false","data-is-dragging":E?"true":"false",children:[u&&!E&&!y&&g!==e.id&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:r.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[r.jsx("button",{onClick:M,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Edit element",children:r.jsx(vr,{className:"w-5 h-5 text-gray-700"})}),r.jsx("button",{onClick:T,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Delete element",children:r.jsx(On,{className:"w-5 h-5 text-red-600"})}),r.jsx("button",{...k,...b,"data-drag-handle":"true",className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110 cursor-move",title:"Drag to reposition",children:r.jsx(cl,{className:"w-5 h-5 text-gray-700"})})]})}),r.jsx("div",{onClick:I,className:"cursor-pointer transition-all",children:r.jsx(Oz,{element:e,renderElements:l,isSelected:s,isHovered:u&&!E,onElementUpdate:O,isMobile:d,onCapabilityAction:P,onEdit:M})})]})}function Az({isMobile:e=!1}){const{elements:t,isDragging:n,selectElement:s,selectedElementId:i,setElements:l}=Vo();De.useEffect(()=>{(!t||t.length===0)&&l([])},[t,l]);const d=(h,g=null)=>{if(!h||h.length===0)return g?null:r.jsx(u,{parentId:null,position:0,children:r.jsxs("div",{className:"py-12 text-center text-gray-400",children:[r.jsx("svg",{className:"w-10 h-10 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("p",{className:"text-sm",children:"Drag elements here to start building"})]})});const v=h.filter(k=>k.type!=="emailWrapper"&&k.type!=="emailContainer").map(k=>k.id),y=h.filter(k=>k.type==="emailWrapper"||k.type==="emailContainer"),b=h.filter(k=>k.type!=="emailWrapper"&&k.type!=="emailContainer");return r.jsxs(r.Fragment,{children:[y.map(k=>r.jsx("div",{className:"system-element-container",children:r.jsx(Ey,{element:k,index:0,parentId:g,isSelected:i===k.id,onSelect:()=>s(k.id),renderElements:d,isMobile:e})},k.id)),r.jsxs(qu,{items:v,strategy:Yu,children:[r.jsx(u,{parentId:g,position:0,elementCount:b.length}),b.map((k,N)=>r.jsxs(De.Fragment,{children:[r.jsx(Ey,{element:k,index:N,parentId:g,isSelected:i===k.id,onSelect:()=>s(k.id),renderElements:d,isMobile:e}),r.jsx(u,{parentId:g,position:N+1,elementCount:b.length})]},k.id))]})]})};function u({parentId:h,position:g,children:v,elementCount:y=0}){const{setNodeRef:b,isOver:k}=or({id:`dropzone-${h||"root"}-${g}`,data:{parentId:h,position:g,type:"dropzone"}}),N=!h||g===0&&h&&h.includes("email-wrapper");return r.jsxs("div",{ref:b,className:pe(N?"min-h-0":"min-h-[4px]","transition-all relative",!N&&n&&"min-h-[8px]",!N&&k&&"min-h-[30px]"),"data-component":"DropZone","data-parent-id":h||"root","data-position":g,"data-is-over":k?"true":"false","data-should-hide":N?"true":"false",children:[!N&&k&&r.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 h-1 bg-blue-500 rounded"}),v]})}const p=h=>{h.target===h.currentTarget&&s(null)};return r.jsx("div",{className:pe("min-h-[100px] transition-colors",n&&"bg-gray-50"),onClick:p,children:d(t)})}function _y(){const{activeEmailId:e,emails:t}=Es(),n=t.find(y=>y.id===e),[s,i]=m.useState("dummy"),[l,d]=m.useState(""),[u,p]=m.useState(()=>window.sfuiData?.currentUserEmail||""),[h,g]=m.useState({type:null,message:""}),v=m.useCallback(async()=>{if(!u){g({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){g({type:"error",message:"Please enter a valid email address"});return}if(!n){g({type:"error",message:"No email selected"});return}const{formId:b,ajaxUrl:k,nonce:N}=window.sfuiData||{};if(!k||!N){g({type:"error",message:"WordPress context not available"});return}g({type:"loading",message:"Sending test email..."});try{const S={from:n.from_email||"",from_name:n.from_name||"",reply:n.reply_to?.email||"",reply_name:n.reply_to?.name||"",cc:n.cc||"",bcc:n.bcc||"",subject:n.subject||"Test Email",body:n.body||"",attachments:n.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},_=new FormData;_.append("action","super_send_test_email"),_.append("nonce",N),_.append("form_id",b||0),_.append("data_type",s),_.append("entry_id",s==="entry"?l:""),_.append("test_recipient",u),Object.entries(S).forEach(([T,M])=>{Array.isArray(M)?M.forEach((I,O)=>{_.append(`email_settings[${T}][${O}]`,I)}):_.append(`email_settings[${T}]`,M)});const w=await(await fetch(k,{method:"POST",body:_,credentials:"same-origin"})).json();w.success?(g({type:"success",message:w.data?.message||"Test email sent!"}),setTimeout(()=>g({type:null,message:""}),5e3)):g({type:"error",message:w.data?.message||"Failed to send test email"})}catch(S){console.error("Test email error:",S),g({type:"error",message:"Network error - please try again"})}},[n,s,l,u]);return n?r.jsx("div",{"data-testid":"test-email-bar",className:"bg-gray-50 border-t border-b border-gray-200 px-4 py-2",children:r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("div",{"data-testid":"data-source-section",className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Test Data:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{"data-testid":"dummy-data-radio",type:"radio",name:"dataType",value:"dummy",checked:s==="dummy",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Dummy data"})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{"data-testid":"entry-data-radio",type:"radio",name:"dataType",value:"entry",checked:s==="entry",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Entry data"})]})]})]}),s==="entry"&&r.jsx("div",{"data-testid":"entry-id-section",className:"flex items-center gap-2",children:r.jsx("input",{"data-testid":"entry-id-input",type:"text",value:l,onChange:y=>d(y.target.value),placeholder:"Entry ID (empty = latest)",className:"w-40 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{"data-testid":"send-section",className:"flex items-center gap-2",children:[r.jsx("input",{"data-testid":"recipient-input",type:"email",value:u,onChange:y=>p(y.target.value),placeholder:"recipient@example.com",className:"w-52 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),r.jsxs("button",{"data-testid":"send-test-btn",type:"button",onClick:v,disabled:h.type==="loading",className:pe("inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded transition-colors",h.type==="loading"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-500 text-white hover:bg-primary-600"),children:[h.type==="loading"?r.jsx(ul,{className:"w-4 h-4 animate-spin"}):r.jsx(vs,{className:"w-4 h-4"}),r.jsx("span",{children:"Send Test"})]})]}),h.type&&h.type!=="loading"&&r.jsxs("div",{"data-testid":"status-message",className:pe("flex items-center gap-1.5 text-sm",h.type==="success"&&"text-green-600",h.type==="error"&&"text-red-600"),children:[h.type==="success"&&r.jsx(Ji,{className:"w-4 h-4"}),h.type==="error"&&r.jsx(Mo,{className:"w-4 h-4"}),r.jsx("span",{children:h.message})]})]})}):null}const Ty=[{id:"desktop",name:"Desktop",icon:$a,component:vf},{id:"mobile",name:"Mobile",icon:Pa,component:vf}];function Fz({value:e,onChange:t}){const[n,s]=m.useState(e||"");m.useEffect(()=>{s(e||"")},[e]);const i=l=>{const d=l.target.value;s(d),clearTimeout(window.htmlEditorTimeout),window.htmlEditorTimeout=setTimeout(()=>{t(d)},300)};return r.jsxs("div",{className:"min-h-[300px] bg-gray-900 rounded overflow-hidden",children:[r.jsx("div",{className:"bg-gray-800 px-3 py-2 text-xs text-gray-400 border-b border-gray-700 font-mono",children:"HTML Source"}),r.jsx("textarea",{value:n,onChange:i,className:"w-full min-h-[300px] bg-gray-900 text-gray-100 font-mono text-sm p-4 border-0 outline-none resize-y",placeholder:"Enter your HTML email content here...",spellCheck:!1})]})}function Wz(){const[e,t]=m.useState("desktop"),[n,s]=m.useState(null),[i,l]=m.useState(!1),{activeEmailId:d,emails:u,updateEmailField:p,activeLanguage:h,translations:g,setActiveLanguage:v}=Es(),{elements:y,setElements:b,isDragging:k,draggedElement:N,startDrag:S,endDrag:_,addElement:E,moveElement:w,generateHtml:T,elementTypes:M}=Vo(),I=u.find(ae=>ae.id===d),O=Ty.find(ae=>ae.id===e)?.component||vf,P=I?.body_type==="html";m.useEffect(()=>{I&&!P&&(I.template&&typeof I.template=="object"&&I.template.elements?b(I.template.elements):b([]))},[I,b,P]),m.useEffect(()=>{if(I&&!P&&y.length>0){const ae=T(),ne=setTimeout(()=>{p(d,"template",{elements:y,html:ae}),p(d,"body",ae)},500);return()=>clearTimeout(ne)}},[y,I,d,T,p,P]);const B=m.useCallback(ae=>{ae==="html"&&!P?s({title:"Switch to HTML Mode",message:"Your visual elements will be converted to raw HTML code. You can edit the HTML directly.",confirmText:"Switch to HTML",onConfirm:()=>{const ne=T();p(d,"body",ne),p(d,"body_type","html"),s(null)},onCancel:()=>s(null)}):ae==="visual"&&P&&s({title:"Switch to Visual Mode",message:"Your HTML content will be placed in an editable HTML block within the visual builder.",confirmText:"Switch to Visual",onConfirm:()=>{const F=[{id:Ln(),type:"html",props:{content:I.body||""},children:[]}];p(d,"body_type","visual"),p(d,"template",{elements:F,html:I.body||""}),b(F),s(null)},onCancel:()=>s(null)})},[P,d,I,T,p,b]),V=ae=>{const{active:ne,over:F}=ae;if(!F){_();return}const K=ne.data.current,q=F.data.current;if(K.type==="new-element"){const z=q?.position!==void 0?q.position:null,R=q?.parentId||null;E(K.elementType,R,z)}else if(K.type==="canvas-element"&&ne.id!==F.id){const z=q?.position!==void 0?q.position:null,R=q?.parentId||null;w(ne.id,R,z)}_()},oe=ae=>{const{active:ne}=ae,F=ne.data.current;if(F.type==="new-element"){const K=Vo.getState().elementTypes[F.elementType];S(K)}};if(!I)return r.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Select an email to preview"})]})});const ue={...I,body:P?I.body:y.length>0?T():I.body},Ne=r.jsx("div",{"data-testid":"email-builder-header",className:"bg-white border-b border-gray-200 px-4 py-2 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{"data-testid":"header-left",className:"flex items-center gap-3",children:[r.jsxs("div",{"data-testid":"email-title-section",className:"flex items-center gap-2",children:[r.jsx(Ds,{"data-testid":"email-description-field",value:I.description,onChange:ae=>p(d,"description",ae),placeholder:"Untitled Email",className:"text-sm font-medium text-gray-700",showEditIcon:!0}),r.jsx("span",{"data-testid":"mode-badge",className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:P?"HTML":"Visual"})]}),g&&Object.keys(g).length>0&&r.jsxs("div",{"data-testid":"language-selector",className:"flex items-center gap-2",children:[r.jsx(eu,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{"data-testid":"language-dropdown",value:h,onChange:ae=>v(ae.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:[r.jsx("option",{value:"default",children:"Default"}),Object.entries(g).map(([ae,ne])=>r.jsx("option",{value:ae,children:ne.name||ae},ae))]})]})]}),r.jsx("div",{"data-testid":"viewport-toggle",className:"flex gap-2",children:Ty.map(ae=>r.jsxs(jr,{"data-testid":"viewport-"+ae.id+"-btn",variant:"unstyled",size:"sm",onClick:()=>t(ae.id),className:pe("hover:text-primary-600",e===ae.id?"text-primary-600":"text-gray-500"),children:[r.jsx(ae.icon,{className:"w-4 h-4"}),r.jsx("span",{children:ae.name})]},ae.id))})]})}),re=n&&r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center overflow-x-hidden overflow-y-auto bg-black/50",children:r.jsxs("div",{className:"bg-white border border-gray-200 shadow-lg rounded-xl max-w-lg w-full mx-4",children:[r.jsx("div",{className:"flex justify-between items-center py-3 px-4 border-b border-gray-200",children:r.jsx("h3",{className:"font-bold text-gray-800",children:n.title})}),r.jsx("div",{className:"p-4",children:r.jsx("p",{className:"text-gray-600",children:n.message})}),r.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:n.onCancel,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"button",onClick:n.onConfirm,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700",children:n.confirmText})]})]})}),ke=()=>P?r.jsx(Fz,{value:I.body,onChange:ae=>p(d,"body",ae)}):r.jsx(Az,{isMobile:e==="mobile"});return P?r.jsxs("div",{"data-testid":"email-builder-html",className:"h-full flex flex-col bg-gray-100",children:[Ne,re,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(O,{email:ue,isMobile:e==="mobile",isBuilder:!0,renderBody:ke,updateEmailField:p,activeEmailId:d,isHtmlMode:P,onModeChange:B,onShowTestEmail:()=>l(!0)})}),i&&r.jsx(_y,{})]})]}):r.jsxs(Zu,{collisionDetection:Pu,onDragEnd:V,onDragStart:oe,children:[r.jsxs("div",{"data-testid":"email-builder-visual",className:"h-full flex flex-col bg-gray-100",children:[Ne,re,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(O,{email:ue,isMobile:e==="mobile",isBuilder:!0,renderBody:ke,updateEmailField:p,activeEmailId:d,isHtmlMode:P,onModeChange:B,onShowTestEmail:()=>l(!0)})}),i&&r.jsx(_y,{}),r.jsx("div",{"data-testid":"element-palette",className:"bg-white border-t",children:r.jsx(xz,{})})]})]}),r.jsx(Hx,{children:N&&r.jsx("div",{className:"bg-white rounded shadow-lg p-3 opacity-90",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:N.icon}),r.jsx("span",{className:"text-sm font-medium",children:N.name})]})})})]})}function Hz({formId:e,emails:t,translations:n,ajaxUrl:s,nonce:i,i18n:l}){const{initializeStore:d,activeEmailId:u,isDirty:p,isSaving:h,save:g}=Es();m.useEffect(()=>{const b=document.querySelector(".super-element-settings");b&&(b.style.display="none");const k=document.querySelector(".super-elements");k&&(k.style.display="none");const N=document.querySelector(".super-tabs-content");return N&&(N.style.width="100%",N.style.float="none"),()=>{b&&(b.style.display=""),k&&(k.style.display=""),N&&(N.style.width="",N.style.float="")}},[]),m.useEffect(()=>{d({emails:t,translations:n})},[]),m.useEffect(()=>{if(p&&!h){const b=setTimeout(()=>{v()},2e3);return()=>clearTimeout(b)}},[p]);const v=async()=>{if(!e||!s||!i)return console.log(" Development mode: Skipping WordPress save (no backend context)"),{success:!0};const b=await g(e,s,i);return b.success&&y(),b},y=()=>{const b=Es.getState(),k=document.querySelector(".super-raw-code-emails-settings textarea");k&&(k.value=JSON.stringify(b.emails,null,2),k.dispatchEvent(new Event("change",{bubbles:!0})))};return r.jsxs("div",{"data-testid":"emails-tab",className:"sfui-emails-tab h-full",children:[r.jsxs("div",{className:"flex h-full gap-4",children:[r.jsx("div",{"data-testid":"email-list-sidebar",className:"w-64 flex-shrink-0",children:r.jsx(t3,{})}),r.jsx("div",{"data-testid":"email-builder-main",className:"flex-1 min-w-0",children:u?r.jsx("div",{"data-testid":"email-builder-container",className:"bg-white rounded-lg border border-gray-200 overflow-hidden h-full",style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:r.jsx(Wz,{})}):r.jsx("div",{"data-testid":"email-placeholder",className:"bg-gray-50 rounded-lg p-8 text-center text-gray-500 h-full flex items-center justify-center",children:r.jsxs("div",{children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"text-lg",children:l?.selectEmail||"Select an email to edit"})]})})})]}),(p||h)&&r.jsx("div",{"data-testid":"save-status",className:"absolute bottom-4 left-4 bg-white rounded-lg shadow-md px-4 py-2 flex items-center gap-2 z-10",children:h?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 text-primary-600",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"text-sm text-gray-600",children:l?.saving||"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Unsaved changes"})]})})]})}const Bz=Object.freeze(Object.defineProperty({__proto__:null,default:Hz},Symbol.toStringTag,{value:"Module"})),xc=20,zy=50;function Uz(){const[e,t]=m.useState([]),[n,s]=m.useState([]),[i,l]=m.useState([]),[d,u]=m.useState({x:0,y:0,zoom:1}),[p,h]=m.useState([]),[g,v]=m.useState([]),[y,b]=m.useState(null),[k,N]=m.useState(!1),[S,_]=m.useState(null),[E,w]=m.useState([]),[T,M]=m.useState(-1),I=m.useRef(1),O=m.useRef(1),P=m.useRef(1),B=m.useCallback((le,de)=>({x:(le-d.x)/d.zoom,y:(de-d.y)/d.zoom}),[d]),V=m.useCallback((le,de)=>({x:le*d.zoom+d.x,y:de*d.zoom+d.y}),[d]),oe=m.useCallback((le,de)=>({x:Math.round(le/xc)*xc,y:Math.round(de/xc)*xc}),[]),ue=m.useCallback(()=>{const le={nodes:e,connections:n,groups:i,viewport:d};w(de=>{const he=de.slice(0,T+1);return he.push(le),he.length>zy&&he.shift(),he}),M(de=>Math.min(de+1,zy-1))},[e,n,i,d,T]),Ne=m.useCallback(()=>{if(T>0){const le=E[T-1];t(le.nodes),s(le.connections),l(le.groups),u(le.viewport),M(T-1)}},[E,T]),re=m.useCallback(()=>{if(T<E.length-1){const le=E[T+1];t(le.nodes),s(le.connections),l(le.groups),u(le.viewport),M(T+1)}},[E,T]),ke=m.useCallback((le,de,he={})=>{const Me=oe(de.x,de.y),Je={id:`node-${I.current++}`,type:le,position:Me,config:he,selected:!1,zIndex:e.length+1};return ue(),t(We=>[...We,Je]),Je.id},[e,oe,ue]),ae=m.useCallback((le,de)=>{ue(),t(he=>he.map(Me=>Me.id===le?{...Me,...de}:Me))},[ue]),ne=m.useCallback(le=>{ue(),t(de=>de.filter(he=>he.id!==le)),s(de=>de.filter(he=>he.from!==le&&he.to!==le))},[ue]),F=m.useCallback(le=>{ue(),t(de=>de.filter(he=>!le.includes(he.id))),s(de=>de.filter(he=>!le.includes(he.from)&&!le.includes(he.to))),h([])},[ue]),K=m.useCallback((le,de,he,Me)=>{if(n.some(me=>me.from===le&&me.fromOutput===de&&me.to===he&&me.toInput===Me))return null;const We={id:`conn-${O.current++}`,from:le,fromOutput:de,to:he,toInput:Me,selected:!1};return ue(),s(me=>[...me,We]),We.id},[n,ue]),q=m.useCallback(le=>{ue(),s(de=>de.filter(he=>he.id!==le))},[ue]),z=m.useCallback((le,de=!1)=>{h(de?he=>he.includes(le)?he.filter(Me=>Me!==le):[...he,le]:[le]),t(he=>he.map(Me=>({...Me,selected:de?Me.id===le?!Me.selected:Me.selected:Me.id===le})))},[]),R=m.useCallback(le=>{h(le),t(de=>de.map(he=>({...he,selected:le.includes(he.id)})))},[]),G=m.useCallback(()=>{h([]),v([]),t(le=>le.map(de=>({...de,selected:!1}))),s(le=>le.map(de=>({...de,selected:!1})))},[]),Y=m.useCallback((le,de)=>{u(he=>({...he,x:he.x+le,y:he.y+de}))},[]),J=m.useCallback((le,de,he)=>{u(Me=>{const Je=le>0?1.05:.95,We=Math.max(.1,Math.min(3,Me.zoom*Je));if(de!==void 0&&he!==void 0){const me=We/Me.zoom,xt=de-(de-Me.x)*me,tt=he-(he-Me.y)*me;return{x:xt,y:tt,zoom:We}}return{...Me,zoom:We}})},[]),xe=m.useCallback(()=>{u({x:0,y:0,zoom:1})},[]),U=m.useCallback(le=>{t(le.nodes),s(le.connections),l(le.groups),u(le.viewport),w([le]),M(0),G()},[G]),ge=m.useCallback(()=>({nodes:e,connections:n,groups:i,viewport:d}),[e,n,i,d]),ze=m.useCallback(()=>{ue(),t([]),s([]),l([]),G()},[ue,G]),Ee=m.useCallback((le,de,he,Me)=>{if(le===he||n.find(xt=>xt.from===le&&xt.fromOutput===de&&xt.to===he&&xt.toInput===Me))return!1;const We=new Set,me=(xt,tt)=>xt===tt?!0:We.has(xt)?!1:(We.add(xt),n.filter(_n=>_n.from===xt).some(_n=>me(_n.to,tt)));return!me(he,le)},[n]),rt=m.useCallback((le,de)=>{console.log("Starting connection from:",le,de),N(!0),_({nodeId:le,outputName:de})},[]),Ge=m.useCallback((le,de)=>{console.log("Ending connection to:",le,de),S&&Ee(S.nodeId,S.outputName,le,de)&&(console.log("Creating connection:",S.nodeId,"->",le),K(S.nodeId,S.outputName,le,de)),console.log("Setting isConnecting to false"),N(!1),_(null)},[S,Ee,K]),ot=m.useCallback(()=>{console.log("Canceling connection"),N(!1),_(null)},[]),Xe=m.useCallback((le,de,he=[])=>{const Me={id:`group-${P.current++}`,name:le,nodeIds:he,bounds:de,color:"rgba(59, 130, 246, 0.3)",zIndex:-1};return l(Je=>[...Je,Me]),ue(),Me.id},[ue]),Ct=m.useCallback((le,de)=>{l(he=>he.map(Me=>Me.id===le?{...Me,...de}:Me))},[]),Kt=m.useCallback(le=>{l(de=>de.filter(he=>he.id!==le)),ue()},[ue]),tn=m.useCallback((le,de,he,Me)=>{const Je=i.find(We=>We.id===le);Je&&(Me==="start"?t(We=>We.map(me=>({...me,isGroupDragging:Je.nodeIds.includes(me.id),groupDragOffset:Je.nodeIds.includes(me.id)?{x:0,y:0}:void 0}))):Me==="move"?t(We=>We.map(me=>Je.nodeIds.includes(me.id)?{...me,groupDragOffset:{x:de,y:he}}:me)):Me==="end"&&(t(We=>We.map(me=>Je.nodeIds.includes(me.id)?{...me,position:{x:me.position.x+de,y:me.position.y+he},isGroupDragging:!1,groupDragOffset:void 0}:me)),l(We=>We.map(me=>me.id===le?{...me,bounds:{...me.bounds,x:me.bounds.x+de,y:me.bounds.y+he}}:me)),ue()))},[i,ue]),cn=m.useCallback(()=>{if(p.length<2)return null;const le=e.filter(Qe=>p.includes(Qe.id));if(le.length===0)return null;const de=20,he=200,Me=100;let Je=1/0,We=1/0,me=-1/0,xt=-1/0;le.forEach(Qe=>{Je=Math.min(Je,Qe.position.x),We=Math.min(We,Qe.position.y),me=Math.max(me,Qe.position.x+he),xt=Math.max(xt,Qe.position.y+Me)});const tt={x:Je-de,y:We-de,width:me-Je+de*2,height:xt-We+de*2};return Xe(`Group ${P.current}`,tt,p)},[p,e,Xe]);return{nodes:e,connections:n,groups:i,viewport:d,selectedNodes:p,selectedConnections:g,dragState:y,isConnecting:k,connectionStart:S,addNode:ke,updateNode:ae,deleteNode:ne,deleteNodes:F,selectNode:z,selectNodes:R,addConnection:K,deleteConnection:q,startConnection:rt,endConnection:Ge,cancelConnection:ot,canConnect:Ee,clearSelection:G,addGroup:Xe,updateGroup:Ct,removeGroup:Kt,moveGroup:tn,createGroupFromSelection:cn,panViewport:Y,zoomViewport:J,resetViewport:xe,screenToCanvas:B,canvasToScreen:V,snapToGrid:oe,undo:Ne,redo:re,canUndo:T>0,canRedo:T<E.length-1,loadWorkflow:U,exportWorkflow:ge,clearWorkflow:ze,setDragState:b}}const Hs={...{"form.submitted":{id:"form.submitted",name:"Form Submitted",category:"event",color:"#10b981",icon:m2,description:"Trigger when a form is submitted",inputs:[],outputs:["entry_data","form_data"],config:{scope:"all",formId:null,includeSpam:!1}},"form.spam_detected":{id:"form.spam_detected",name:"Spam Detected",category:"event",color:"#10b981",icon:Dh,description:"Trigger when spam is detected",inputs:[],outputs:["detection_details"],config:{scope:"all",formId:null,detectionMethods:[]}},"form.duplicate_detected":{id:"form.duplicate_detected",name:"Duplicate Detected",category:"event",color:"#10b981",icon:Mo,description:"Trigger when duplicate submission detected",inputs:[],outputs:["duplicate_data"],config:{scope:"all",formId:null}},"entry.created":{id:"entry.created",name:"Entry Created",category:"event",color:"#10b981",icon:no,description:"Trigger after entry is saved to database",inputs:[],outputs:["entry_id","entry_data"],config:{scope:"all",formId:null}},"entry.updated":{id:"entry.updated",name:"Entry Updated",category:"event",color:"#10b981",icon:Lo,description:"Trigger when entry data is modified",inputs:[],outputs:["entry_id","changes"],config:{scope:"all",formId:null}},"entry.status_changed":{id:"entry.status_changed",name:"Entry Status Changed",category:"event",color:"#10b981",icon:Lo,description:"Trigger when entry status changes",inputs:[],outputs:["entry_id","old_status","new_status"],config:{scope:"all",formId:null}},"entry.deleted":{id:"entry.deleted",name:"Entry Deleted",category:"event",color:"#10b981",icon:Lh,description:"Trigger when entry is deleted",inputs:[],outputs:["entry_id"],config:{scope:"all",formId:null}},"payment.stripe.payment_succeeded":{id:"payment.stripe.payment_succeeded",name:"Stripe Payment Success",category:"event",color:"#10b981",icon:Jd,description:"Trigger when Stripe payment succeeds",inputs:[],outputs:["payment_data"],config:{scope:"all"}},"payment.stripe.payment_failed":{id:"payment.stripe.payment_failed",name:"Stripe Payment Failed",category:"event",color:"#10b981",icon:Kd,description:"Trigger when Stripe payment fails",inputs:[],outputs:["error_data"],config:{scope:"all"}},"payment.paypal.capture_completed":{id:"payment.paypal.capture_completed",name:"PayPal Payment Complete",category:"event",color:"#10b981",icon:Jj,description:"Trigger when PayPal payment completes",inputs:[],outputs:["payment_data"],config:{scope:"all"}},"session.abandoned":{id:"session.abandoned",name:"Session Abandoned",category:"event",color:"#10b981",icon:er,description:"Trigger when form session is abandoned",inputs:[],outputs:["session_data"],config:{scope:"all",formId:null,abandonTime:30}},"file.uploaded":{id:"file.uploaded",name:"File Uploaded",category:"event",color:"#10b981",icon:Ao,description:"Trigger when file is uploaded",inputs:[],outputs:["file_data"],config:{scope:"all",formId:null}}},...{send_email:{id:"send_email",name:"Send Email",category:"action",color:"#3b82f6",icon:Lr,description:"Send an email notification",inputs:["trigger"],outputs:["success"],config:{to:"",subject:"",body:"",bodyType:"html",from:"{admin_email}",replyTo:""}},http_request:{id:"http_request",name:"HTTP Request",category:"action",color:"#3b82f6",icon:eu,description:"Make an HTTP API call",inputs:["trigger"],outputs:["response"],config:{url:"",method:"POST",headers:{},body:"",auth:"none"}},webhook:{id:"webhook",name:"Webhook",category:"action",color:"#3b82f6",icon:hl,description:"Send webhook notification",inputs:["trigger"],outputs:["success"],config:{url:"",method:"POST",headers:{},payload:""}},update_entry_status:{id:"update_entry_status",name:"Update Entry Status",category:"action",color:"#3b82f6",icon:Lo,description:"Change entry status",inputs:["trigger"],outputs:["success"],config:{status:"approved"}},update_entry_field:{id:"update_entry_field",name:"Update Entry Field",category:"action",color:"#3b82f6",icon:no,description:"Modify entry field value",inputs:["trigger"],outputs:["success"],config:{fieldName:"",value:""}},delete_entry:{id:"delete_entry",name:"Delete Entry",category:"action",color:"#3b82f6",icon:Lh,description:"Delete the entry",inputs:["trigger"],outputs:["success"],config:{}},create_post:{id:"create_post",name:"Create Post",category:"action",color:"#3b82f6",icon:no,description:"Create WordPress post",inputs:["trigger"],outputs:["post_id"],config:{postType:"post",postStatus:"publish",postTitle:"",postContent:""}},delay_execution:{id:"delay_execution",name:"Delay",category:"action",color:"#3b82f6",icon:u2,description:"Delay execution for specified time",inputs:["trigger"],outputs:["continue"],config:{duration:60,unit:"minutes"}},abort_submission:{id:"abort_submission",name:"Abort Submission",category:"action",color:"#3b82f6",icon:Kd,description:"Stop form submission",inputs:["trigger"],outputs:[],config:{message:"Submission rejected"}},stop_execution:{id:"stop_execution",name:"Stop Execution",category:"action",color:"#3b82f6",icon:Kd,description:"Stop trigger execution",inputs:["trigger"],outputs:[],config:{}},set_variable:{id:"set_variable",name:"Set Variable",category:"action",color:"#3b82f6",icon:Zt,description:"Set a context variable",inputs:["trigger"],outputs:["continue"],config:{variableName:"",value:""}},log_message:{id:"log_message",name:"Log Message",category:"action",color:"#3b82f6",icon:c2,description:"Write to debug log",inputs:["trigger"],outputs:["continue"],config:{message:"",level:"info"}},"mailpoet.add_subscriber":{id:"mailpoet.add_subscriber",name:"MailPoet Subscribe",category:"action",color:"#3b82f6",icon:lu,description:"Add subscriber to MailPoet",inputs:["trigger"],outputs:["success"],config:{listIds:[],email:"{email}",firstName:"{first_name}",lastName:"{last_name}"}},"woocommerce.add_to_cart":{id:"woocommerce.add_to_cart",name:"WooCommerce Add to Cart",category:"action",color:"#3b82f6",icon:y2,description:"Add product to cart",inputs:["trigger"],outputs:["cart_data"],config:{productId:"",quantity:1}}},...{conditional_action:{id:"conditional_action",name:"If Condition",category:"condition",color:"#f97316",icon:jh,description:"Branch based on conditions",inputs:["trigger"],outputs:["true","false"],config:{operator:"AND",rules:[]}},condition_group:{id:"condition_group",name:"Condition Group",category:"condition",color:"#f97316",icon:wh,description:"Group multiple conditions (AND/OR)",inputs:["trigger"],outputs:["true","false"],config:{operator:"AND",rules:[]}}}};function Vz(e){return Object.values(Hs).filter(t=>t.category===e)}function Zz(e){return Hs[e]}const Gz=m.memo(function({node:t,selected:n,isDragging:s=!1,isConnecting:i=!1,connectionStart:l=null,onConnectionStart:d,onConnectionEnd:u}){const p=Hs[t.type];if(!p)return r.jsx("div",{"data-node-id":t.id,className:"absolute bg-red-100 border-2 border-red-500 rounded-lg p-4 z-30",style:{left:t.position.x,top:t.position.y,zIndex:t.zIndex},children:r.jsxs("p",{className:"text-sm text-red-600",children:["Unknown node: ",t.type]})});const h=p.icon,g=t.config._enabled!==!1,v={event:"border-green-500 bg-green-50",action:"border-blue-500 bg-blue-50",condition:"border-orange-500 bg-orange-50"}[p.category],y=n?"ring-4 ring-blue-300 shadow-xl scale-105":"shadow-md hover:shadow-lg hover:scale-[1.02]",b=s?"":"transition-all duration-200",k=i&&l?.nodeId!==t.id&&p.inputs.length>0,N=S=>{k&&u&&(S.preventDefault(),S.stopPropagation(),u(t.id,p.inputs[0]))};return r.jsxs("div",{"data-node-id":t.id,className:`absolute rounded-lg cursor-move select-none z-30 ${v} ${y} ${b}`,style:{left:t.position.x,top:t.position.y,width:200,zIndex:t.zIndex,border:k?"3px solid #3b82f6":"2px solid",boxShadow:k?"0 0 20px rgba(59, 130, 246, 0.4)":void 0},onMouseUp:N,children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 border-b border-current/20",children:[r.jsx(h,{className:"w-5 h-5 flex-shrink-0",style:{color:p.color}}),r.jsx("span",{className:"font-medium text-sm truncate",children:p.name})]}),r.jsx("div",{className:"p-3 text-xs text-gray-600 space-y-1",children:Object.keys(t.config).length>0?Object.entries(t.config).slice(0,2).map(([S,_])=>r.jsxs("div",{className:"truncate",children:[r.jsxs("span",{className:"font-medium",children:[S,":"]})," ",r.jsx("span",{className:"text-gray-500",children:typeof _=="string"&&_.length>20?_.substring(0,20)+"...":String(_)})]},S)):r.jsx("div",{className:"text-gray-400 italic",children:"Not configured"})}),p.inputs.length>0&&r.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2",style:{zIndex:100},children:p.inputs.map((S,_)=>r.jsxs("div",{style:{marginTop:_*20},className:"relative",children:[r.jsx("div",{"data-port-type":"input","data-port-name":S,className:"w-4 h-4 rounded-full bg-gray-400 border-2 border-white shadow-sm transition-all duration-150",style:{transform:i&&l?.nodeId!==t.id?"scale(1.3)":"scale(1)",backgroundColor:i&&l?.nodeId!==t.id?"#3b82f6":"#9ca3af",boxShadow:i&&l?.nodeId!==t.id?"0 0 12px rgba(59, 130, 246, 0.6)":void 0},title:`Input: ${S}`}),r.jsx("div",{className:"absolute w-6 h-6 -translate-x-1/2 -translate-y-1/2 cursor-pointer",style:{left:"50%",top:"50%",zIndex:30},onMouseDown:E=>{E.preventDefault(),E.stopPropagation()},onMouseUp:E=>{E.preventDefault(),E.stopPropagation(),i&&l?.nodeId!==t.id&&u&&u(t.id,S)}})]},S))}),p.outputs.length>0&&r.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2",style:{zIndex:100},children:p.outputs.map((S,_)=>r.jsx("div",{"data-port-type":"output","data-port-name":S,className:"w-4 h-4 rounded-full border-2 border-white shadow-sm cursor-pointer hover:scale-130 transition-all duration-150",style:{backgroundColor:p.color,marginTop:_*20},title:`Output: ${S}`,onMouseDown:E=>{E.preventDefault(),E.stopPropagation(),d&&d(t.id,S)},onMouseEnter:E=>{const w=E.currentTarget;w.style.transform="scale(1.3)",w.style.boxShadow=`0 0 12px ${p.color}99`},onMouseLeave:E=>{const w=E.currentTarget;w.style.transform="scale(1)",w.style.boxShadow=""}},S))}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500 animate-pulse":"bg-gray-400"}`,title:g?"Enabled":"Disabled"})}),!g&&r.jsx("div",{className:"absolute inset-0 bg-gray-200/50 rounded-lg pointer-events-none flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Paused"})})]})});function Yz({connections:e,nodes:t,viewport:n,selectedConnections:s,onConnectionClick:i,onDeleteConnection:l,isConnecting:d=!1,connectionStart:u=null}){const[p,h]=m.useState({x:0,y:0}),[g,v]=m.useState(null),y=m.useCallback((E,w,T=!1)=>{const M=t.find(ue=>ue.id===E);if(!M)return{x:0,y:0};const I=Hs[M.type];if(!I)return{x:0,y:0};const P=(T?I.outputs:I.inputs).findIndex(ue=>ue===w),B=200,V=100;return T?{x:M.position.x+B,y:M.position.y+V/2+P*20}:{x:M.position.x,y:M.position.y+V/2+P*20}},[t]),b=m.useCallback((E,w)=>{const T=w.x-E.x,M=Math.max(50,Math.abs(T)*.5),I=E.x+M,O=E.y,P=w.x-M,B=w.y;return`M ${E.x} ${E.y} C ${I} ${O}, ${P} ${B}, ${w.x} ${w.y}`},[]),k=m.useCallback((E,w)=>{let M=null,I=30;return t.forEach(O=>{if(O.id===u?.nodeId)return;const P=Hs[O.type];!P?.inputs||P.inputs.length===0||P.inputs.forEach(B=>{const V=y(O.id,B,!1),oe=Math.sqrt(Math.pow(E-V.x,2)+Math.pow(w-V.y,2));oe<I&&(I=oe,M={nodeId:O.id,inputName:B,position:V})})}),M},[t,u,y]);m.useEffect(()=>{if(!d)return;const E=w=>{const T=document.querySelector(".canvas-container");if(!T)return;const M=T.getBoundingClientRect(),I=(w.clientX-M.left-n.x)/n.zoom,O=(w.clientY-M.top-n.y)/n.zoom,P=k(I,O);h(P?P.position:{x:I,y:O})};return document.addEventListener("mousemove",E),()=>{document.removeEventListener("mousemove",E)}},[d,n,k]),m.useEffect(()=>{if(d&&u){const E=y(u.nodeId,u.outputName,!0);h(E)}},[d,u,y]);const N=m.useMemo(()=>e.map(E=>{const w=y(E.from,E.fromOutput,!0),T=y(E.to,E.toInput,!1);return{...E,path:b(w,T),startPos:w,endPos:T}}),[e,y,b]),S=m.useMemo(()=>{if(!d||!u)return null;const E=y(u.nodeId,u.outputName,!0),w={x:p.x,y:p.y};return b(E,w)},[d,u,y,b,p]),_=(E,w)=>{E.stopPropagation(),l?l(w):i?.(w)};return r.jsxs("svg",{className:"connection-overlay absolute pointer-events-none z-10",style:{left:0,top:0,width:"100%",height:"100%",overflow:"visible"},children:[r.jsxs("defs",{children:[r.jsxs("filter",{id:"electric-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),r.jsx("feGaussianBlur",{stdDeviation:"6",result:"outerGlow"}),r.jsx("feGaussianBlur",{stdDeviation:"12",result:"farGlow"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"farGlow"}),r.jsx("feMergeNode",{in:"outerGlow"}),r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("radialGradient",{id:"electric-light",cx:"50%",cy:"50%",r:"50%",children:[r.jsx("stop",{offset:"0%",style:{stopColor:"#ffffff",stopOpacity:1}}),r.jsx("stop",{offset:"30%",style:{stopColor:"#bfdbfe",stopOpacity:.9}}),r.jsx("stop",{offset:"60%",style:{stopColor:"#3b82f6",stopOpacity:.6}}),r.jsx("stop",{offset:"100%",style:{stopColor:"#1d4ed8",stopOpacity:0}})]}),r.jsxs("filter",{id:"glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsxs("filter",{id:"hover-glow",children:[r.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),r.jsxs("feMerge",{children:[r.jsx("feMergeNode",{in:"coloredBlur"}),r.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),r.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#6b7280"})}),r.jsx("marker",{id:"arrowhead-selected",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#3b82f6"})}),r.jsx("marker",{id:"arrowhead-hovered",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#ef4444"})}),r.jsx("marker",{id:"arrowhead-preview",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:r.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#10b981"})})]}),N.map(E=>{const w=s.includes(E.id),T=g===E.id;return r.jsxs("g",{onMouseEnter:()=>v(E.id),onMouseLeave:()=>v(null),children:[r.jsx("path",{d:E.path,stroke:"transparent",strokeWidth:"20",fill:"none",className:"pointer-events-auto cursor-pointer",onClick:M=>_(M,E.id)}),r.jsx("path",{d:E.path,stroke:w?"#3b82f6":T?"#ef4444":"#6b7280",strokeWidth:w?"3":"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",markerEnd:w?"url(#arrowhead-selected)":T?"url(#arrowhead-hovered)":"url(#arrowhead)",className:"pointer-events-none",style:{filter:w?"url(#glow)":T?"url(#hover-glow)":"none"}}),r.jsxs("g",{className:"pointer-events-none",children:[r.jsxs("ellipse",{rx:"10",ry:"3",fill:"url(#electric-light)",filter:"url(#electric-glow)",style:{opacity:.9},children:[r.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:E.path,rotate:"auto"}),r.jsx("animate",{attributeName:"opacity",values:"0.6;1;0.6",dur:"0.4s",repeatCount:"indefinite"})]}),r.jsxs("ellipse",{rx:"5",ry:"1.5",fill:"#ffffff",style:{opacity:.85},children:[r.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:E.path,rotate:"auto"}),r.jsx("animate",{attributeName:"opacity",values:"0.7;1;0.7",dur:"0.25s",repeatCount:"indefinite"})]})]}),r.jsx("text",{x:(E.startPos.x+E.endPos.x)/2,y:(E.startPos.y+E.endPos.y)/2-8,fill:T?"#ef4444":"#9ca3af",fontSize:"10",textAnchor:"middle",className:"pointer-events-none select-none",children:E.fromOutput}),T&&r.jsx("text",{x:(E.startPos.x+E.endPos.x)/2,y:(E.startPos.y+E.endPos.y)/2+12,fill:"#ef4444",fontSize:"9",textAnchor:"middle",className:"pointer-events-none select-none",style:{fontWeight:500},children:"Click to delete"})]},E.id)}),d&&S&&r.jsx("path",{d:S,stroke:"#10b981",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",markerEnd:"url(#arrowhead-preview)",className:"pointer-events-none",style:{animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]})}function qz({group:e,viewport:t,nodes:n,isAnyNodeDragging:s=!1,onUpdateGroup:i,onRemoveGroup:l,onMoveGroup:d}){const{id:u,name:p,bounds:h,color:g}=e,[v,y]=m.useState(!1),[b,k]=m.useState(!1),[N,S]=m.useState(!1),[_,E]=m.useState(null),[w,T]=m.useState({x:0,y:0}),[M,I]=m.useState({width:0,height:0,x:0,y:0}),O=m.useRef({x:0,y:0}),P=m.useRef({width:0,height:0,x:0,y:0}),B=m.useRef({x:0,y:0,initialBounds:h}),V=m.useRef({x:0,y:0,initialBounds:h}),oe=m.useRef(h);m.useEffect(()=>{(h.x!==oe.current.x||h.y!==oe.current.y||h.width!==oe.current.width||h.height!==oe.current.height)&&!b&&!N&&((O.current.x!==0||O.current.y!==0)&&(T({x:0,y:0}),O.current={x:0,y:0}),(P.current.width!==0||P.current.height!==0||P.current.x!==0||P.current.y!==0)&&(I({width:0,height:0,x:0,y:0}),P.current={width:0,height:0,x:0,y:0})),oe.current=h},[h,b,N]);const ue=ne=>{if(ne.type==="blur"||ne.key==="Enter"){const F=ne.target.value.trim();F&&F!==p&&i(u,{name:F}),ne.target.blur()}},Ne=ne=>{ne.stopPropagation(),l(u)},re=m.useCallback(ne=>{if(ne.target.tagName==="INPUT"||ne.target.tagName==="BUTTON")return;ne.stopPropagation(),ne.preventDefault(),k(!0),B.current={x:ne.clientX,y:ne.clientY,initialBounds:{...h}},d(u,0,0,"start");const F=q=>{if(!B.current.initialBounds)return;const z=(q.clientX-B.current.x)/t.zoom,R=(q.clientY-B.current.y)/t.zoom,G=Math.round(z/20)*20,Y=Math.round(R/20)*20,J={x:G,y:Y};T(J),O.current=J,d(u,G,Y,"move")},K=()=>{const q=O.current;k(!1),(q.x!==0||q.y!==0)&&d(u,q.x,q.y,"end"),T({x:0,y:0}),O.current={x:0,y:0},B.current={x:0,y:0,initialBounds:h},document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",K)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",K)},[h,t.zoom,d,u]),ke=m.useCallback((ne,F)=>{ne.stopPropagation(),ne.preventDefault(),S(!0),E(F),V.current={x:ne.clientX,y:ne.clientY,initialBounds:{...h}};const K=z=>{if(!V.current.initialBounds)return;const R=(z.clientX-V.current.x)/t.zoom,G=(z.clientY-V.current.y)/t.zoom,Y=V.current.initialBounds;let J={...Y};if(F==="bottom-right")J.width=Math.max(100,Y.width+R),J.height=Math.max(80,Y.height+G);else if(F==="bottom-left"){const U=Math.max(100,Y.width-R),ge=U-Y.width;J.x=Y.x-ge,J.width=U,J.height=Math.max(80,Y.height+G)}J.x=Math.round(J.x/20)*20,J.y=Math.round(J.y/20)*20,J.width=Math.round(J.width/20)*20,J.height=Math.round(J.height/20)*20;const xe={x:J.x-h.x,y:J.y-h.y,width:J.width-h.width,height:J.height-h.height};I(xe),P.current=xe},q=()=>{const z=P.current;if(S(!1),E(null),z.width!==0||z.height!==0||z.x!==0||z.y!==0){const R={x:h.x+z.x,y:h.y+z.y,width:h.width+z.width,height:h.height+z.height},G=n.filter(Y=>{const J=Y.position.x+200,xe=Y.position.y+100;return Y.position.x>=R.x&&J<=R.x+R.width&&Y.position.y>=R.y&&xe<=R.y+R.height});i(u,{bounds:R,nodeIds:G.map(Y=>Y.id)})}I({width:0,height:0,x:0,y:0}),P.current={width:0,height:0,x:0,y:0},V.current={x:0,y:0,initialBounds:h},document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",q)};document.addEventListener("mousemove",K),document.addEventListener("mouseup",q)},[h,t.zoom,i,u,n]),ae=n&&e.nodeIds.some(ne=>{const F=n.find(K=>K.id===ne);return F&&F.isGroupDragging});return r.jsxs("div",{className:`absolute rounded-lg border group-container ${b||N||ae||s?"":"transition-all duration-200"}`,style:{left:h.x+w.x+M.x,top:h.y+w.y+M.y,width:h.width+M.width,height:h.height+M.height,borderColor:g||"rgba(59, 130, 246, 0.3)",backgroundColor:"rgba(59, 130, 246, 0.05)",borderStyle:"dashed",borderWidth:"2px",zIndex:e.zIndex||-1,pointerEvents:"auto"},onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[r.jsxs("div",{className:"absolute -top-7 left-0 flex items-center gap-1 pointer-events-auto",style:{zIndex:1},children:[r.jsx("div",{className:`cursor-move px-1 py-1 rounded text-center transition-all duration-200 flex items-center justify-center ${v?"bg-blue-100 border border-blue-300":"bg-transparent border border-transparent"}`,style:{width:"24px",height:"24px"},onMouseDown:re,title:"Drag to move group",children:r.jsx("span",{className:"text-blue-500 text-sm leading-none",children:""})}),r.jsx("input",{type:"text",defaultValue:p,className:`text-gray-700 text-sm px-2 py-1 rounded min-w-0 transition-all duration-200 outline-none ${v?"border border-blue-300 bg-blue-50":"border border-transparent bg-transparent"}`,style:{height:"24px",minWidth:"80px"},onKeyDown:ue,onBlur:ue,onClick:ne=>ne.stopPropagation(),onMouseDown:ne=>ne.stopPropagation()}),r.jsx("button",{onClick:Ne,onMouseDown:ne=>ne.stopPropagation(),className:`text-red-400 hover:text-red-500 text-sm px-1 py-1 rounded transition-all duration-200 flex items-center justify-center ${v?"border border-red-300 bg-red-50 opacity-100":"border border-transparent bg-transparent opacity-0"}`,style:{width:"24px",height:"24px"},title:"Delete group",children:""})]}),v&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-nw-resize bg-blue-200 border border-blue-400 rounded-tl-lg",style:{transform:"translate(2px, 2px)",zIndex:2},onMouseDown:ne=>ke(ne,"bottom-right"),title:"Resize group",children:r.jsx("div",{className:"absolute inset-1 border-r border-b border-blue-500"})}),r.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 cursor-ne-resize bg-blue-200 border border-blue-400 rounded-tr-lg",style:{transform:"translate(-2px, 2px)",zIndex:2},onMouseDown:ne=>ke(ne,"bottom-left"),title:"Resize group",children:r.jsx("div",{className:"absolute inset-1 border-l border-b border-blue-500"})})]}),b&&r.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 rounded-lg border-2 border-blue-400 border-opacity-50 pointer-events-none"}),N&&r.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-10 rounded-lg border-2 border-blue-400 border-opacity-50 pointer-events-none"})]})}function Kz({nodes:e,connections:t,groups:n,viewport:s,selectedNodes:i,selectedConnections:l,onNodeClick:d,onNodeDragStart:u,onNodeDrag:p,onNodeDragEnd:h,onCanvasPan:g,onCanvasClick:v,onZoom:y,dragState:b,setDragState:k,isConnecting:N=!1,connectionStart:S=null,onConnectionStart:_,onConnectionEnd:E,onConnectionDropOnCanvas:w,onConnectionClick:T,onDeleteConnection:M,onCancelConnection:I,onSelectNodesInRect:O,onUpdateGroup:P,onRemoveGroup:B,onMoveGroup:V}){const oe=m.useRef(null),ue=m.useRef(!1),Ne=m.useRef({x:0,y:0}),re=m.useRef({startPos:{x:0,y:0},initialViewport:{x:0,y:0,zoom:1},initialNodePositions:new Map}),ke=m.useCallback(z=>{if(z.button!==0)return;const R=z.target,G={x:z.clientX,y:z.clientY};re.current.startPos=G,re.current.initialViewport={...s};const Y=R.closest("[data-node-id]");if(Y){const J=Y.getAttribute("data-node-id"),xe=z.shiftKey||z.metaKey||z.ctrlKey;d(J,xe);const U=i.includes(J)?i:[J];re.current.initialNodePositions.clear(),U.forEach(ge=>{const ze=e.find(Ee=>Ee.id===ge);ze&&re.current.initialNodePositions.set(ge,{...ze.position})}),ue.current=!0,Ne.current=G,u(J,z.clientX,z.clientY),k({type:"node",startX:z.clientX,startY:z.clientY,currentX:z.clientX,currentY:z.clientY,nodeId:J});return}if(z.ctrlKey||z.metaKey){ue.current=!0,Ne.current=G,k({type:"selection",startX:z.clientX,startY:z.clientY,currentX:z.clientX,currentY:z.clientY});return}ue.current=!0,Ne.current=G,k({type:"viewport",startX:z.clientX,startY:z.clientY,currentX:z.clientX,currentY:z.clientY})},[d,u,k,s,i,e]),ae=m.useCallback(z=>{if(!ue.current||!b)return;const R={x:z.clientX,y:z.clientY},G=R.x-re.current.startPos.x,Y=R.y-re.current.startPos.y;if(b.type==="node"){const J=re.current.initialViewport.zoom;re.current.initialNodePositions.forEach((xe,U)=>{const ge={x:xe.x+G/J,y:xe.y+Y/J};ge.x=Math.round(ge.x/20)*20,ge.y=Math.round(ge.y/20)*20,p(U,ge)})}else if(b.type==="viewport"){const J={x:re.current.initialViewport.x+G,y:re.current.initialViewport.y+Y};g(J.x-s.x,J.y-s.y)}Ne.current=R,k({...b,currentX:z.clientX,currentY:z.clientY})},[b,e,p,g,k]),ne=m.useCallback(z=>{if(N&&w){const R=z.target,G=R.closest("[data-node-id]"),Y=R.closest("[data-port-type]");if(!G&&!Y){const J=oe.current?.getBoundingClientRect();if(J){const xe=(z.clientX-J.left-s.x)/s.zoom,U=(z.clientY-J.top-s.y)/s.zoom;w({x:xe,y:U})}}}if(ue.current){if(ue.current=!1,b?.type==="node")h();else if(b?.type==="selection"&&O){const R=oe.current?.getBoundingClientRect();if(R){const G=(b.startX-R.left-s.x)/s.zoom,Y=(b.startY-R.top-s.y)/s.zoom,J=(b.currentX-R.left-s.x)/s.zoom,xe=(b.currentY-R.top-s.y)/s.zoom,U={x:Math.min(G,J),y:Math.min(Y,xe),width:Math.abs(J-G),height:Math.abs(xe-Y)},ge=e.filter(ze=>{const Ge=ze.position.x+200,ot=ze.position.y+100;return ze.position.x<U.x+U.width&&Ge>U.x&&ze.position.y<U.y+U.height&&ot>U.y});ge.length>0&&O(ge.map(ze=>ze.id))}}k(null)}},[b,h,k,N,w,s,e,O]),F=m.useCallback(z=>{const R=z.target;(R===oe.current||R.closest(".canvas-grid"))&&v()},[v]),K=m.useCallback(z=>{z.preventDefault();const R=oe.current?.getBoundingClientRect();if(!R)return;const G=z.clientX-R.left,Y=z.clientY-R.top;y(z.deltaY>0?-1:1,G,Y)},[y]),q=m.useCallback(z=>{if(z)return z.addEventListener("wheel",K,{passive:!1}),()=>{z.removeEventListener("wheel",K)}},[K]);return m.useEffect(()=>{const z=R=>{R.key==="Escape"&&N&&I&&(R.preventDefault(),I())};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[N,I]),r.jsxs("div",{ref:z=>{oe.current=z,q(z)},className:"canvas-container relative w-full h-full bg-gray-50 cursor-grab active:cursor-grabbing",onMouseDown:ke,onMouseMove:ae,onMouseUp:ne,onMouseLeave:ne,onClick:F,children:[r.jsx("div",{className:"canvas-grid absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(156, 163, 175, 0.4) 1px, transparent 0)",backgroundSize:`${20*s.zoom}px ${20*s.zoom}px`,backgroundPosition:`${s.x}px ${s.y}px`}}),r.jsxs("div",{className:"nodes-layer absolute inset-0",style:{transform:`translate(${s.x}px, ${s.y}px) scale(${s.zoom})`,transformOrigin:"0 0"},children:[n.map(z=>r.jsx(qz,{group:z,viewport:s,nodes:e,isAnyNodeDragging:b?.type==="node",onUpdateGroup:P||(()=>{}),onRemoveGroup:B||(()=>{}),onMoveGroup:V||(()=>{})},z.id)),r.jsx(Yz,{connections:t,nodes:e,viewport:s,selectedConnections:l,onConnectionClick:T,onDeleteConnection:M,isConnecting:N,connectionStart:S}),e.map(z=>r.jsx(Gz,{node:z,selected:i.includes(z.id),isDragging:b?.type==="node"&&b.nodeId===z.id,isConnecting:N,connectionStart:S,onConnectionStart:_,onConnectionEnd:E},z.id))]}),b?.type==="selection"&&r.jsx("div",{className:"absolute border-2 border-blue-500 bg-blue-500/10 pointer-events-none z-40",style:{left:Math.min(b.startX,b.currentX)-(oe.current?.getBoundingClientRect().left||0),top:Math.min(b.startY,b.currentY)-(oe.current?.getBoundingClientRect().top||0),width:Math.abs(b.currentX-b.startX),height:Math.abs(b.currentY-b.startY)}}),N&&r.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),r.jsx("span",{className:"text-sm font-medium",children:"Drag to a node input port to connect  Press Escape to cancel"})]}),r.jsxs("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2 bg-white rounded-lg shadow-lg p-2",children:[r.jsx("button",{onClick:()=>y(.1),className:"px-3 py-2 hover:bg-gray-100 rounded text-sm font-medium",title:"Zoom in",children:"+"}),r.jsx("button",{onClick:()=>y(-.1),className:"px-3 py-2 hover:bg-gray-100 rounded text-sm font-medium",title:"Zoom out",children:""}),r.jsxs("button",{onClick:()=>y(0),className:"px-3 py-2 hover:bg-gray-100 rounded text-xs",title:"Reset zoom",children:[Math.round(s.zoom*100),"%"]})]})]})}const Xz=[{id:"event",name:"Events",icon:gl,color:"#10b981"},{id:"action",name:"Actions",icon:au,color:"#3b82f6"},{id:"condition",name:"Conditions",icon:jh,color:"#f97316"}];function Jz({onAddNode:e}){const[t,n]=m.useState("event"),[s,i]=m.useState(""),d=(()=>{const h=Vz(t);if(!s)return h;const g=s.toLowerCase();return h.filter(v=>v.name.toLowerCase().includes(g)||v.description.toLowerCase().includes(g))})(),u=(h,g)=>{h.dataTransfer.setData("application/super-forms-node",g.id),h.dataTransfer.effectAllowed="copy"},p=h=>{e(h.id,{x:Math.random()*200+100,y:Math.random()*200+100})};return r.jsxs("div",{className:"node-palette flex flex-col h-full bg-white border-r border-gray-200",children:[r.jsxs("div",{className:"p-3 border-b border-gray-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Node Library"}),r.jsxs("div",{className:"relative",children:[r.jsx(ys,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",value:s,onChange:h=>i(h.target.value),placeholder:"Search nodes...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsx("div",{className:"flex border-b border-gray-200",children:Xz.map(h=>{const g=h.icon,v=t===h.id;return r.jsx("button",{onClick:()=>n(h.id),className:`flex-1 px-2 py-2 text-xs font-medium transition-colors ${v?"bg-gray-50 text-gray-900 border-b-2":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,style:{borderBottomColor:v?h.color:"transparent"},children:r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[r.jsx(g,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:h.name})]})},h.id)})}),r.jsx("div",{className:"flex-1 overflow-y-auto",style:{maxHeight:"400px"},children:r.jsxs("div",{className:"p-2 space-y-1",children:[d.map(h=>r.jsx(Qz,{node:h,onDragStart:g=>u(g,h),onClick:()=>p(h)},h.id)),d.length===0&&r.jsxs("div",{className:"text-center py-6 text-gray-500",children:[r.jsx(ys,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No nodes found"}),r.jsx("p",{className:"text-xs mt-1",children:"Try a different search term"})]})]})}),r.jsx("div",{className:"p-2 border-t border-gray-200 bg-gray-50",children:r.jsx("p",{className:"text-xs text-gray-500",children:"Drag or click nodes to add them to the canvas"})})]})}function Qz({node:e,onDragStart:t,onClick:n}){const s=e.icon;return r.jsxs("div",{draggable:!0,onDragStart:t,onClick:n,className:"flex items-center gap-2 p-2 rounded-md border border-gray-200 hover:border-gray-300 hover:bg-gray-50 cursor-move transition-all",style:{borderLeftColor:e.color,borderLeftWidth:"3px"},children:[r.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded flex items-center justify-center",style:{backgroundColor:`${e.color}15`},children:r.jsx(s,{className:"w-4 h-4",style:{color:e.color}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-900 truncate",children:e.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.description})]}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[e.inputs.length>0&&r.jsxs("div",{className:"flex items-center gap-0.5",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),r.jsx("span",{children:e.inputs.length})]}),e.outputs.length>0&&r.jsxs("div",{className:"flex items-center gap-0.5",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),r.jsx("span",{children:e.outputs.length})]})]})]})}function eR({selectedNode:e,onUpdateNode:t,onClose:n,onOpenEmailBuilder:s}){if(!e)return r.jsx("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:r.jsx("div",{className:"flex-1 flex items-center justify-center p-8 text-center",children:r.jsxs("div",{children:[r.jsx(pl,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No Node Selected"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Click on a node to view its properties"})]})})});const i=Zz(e.type);if(!i)return r.jsx("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:r.jsx("div",{className:"flex-1 flex items-center justify-center p-8 text-center",children:r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-red-600",children:["Unknown node type: ",e.type]})})})});const l=i.icon,d=(p,h)=>{t(e.id,{config:{...e.config,[p]:h}})},u=(p,h)=>p==="formId"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Form"}),r.jsxs("select",{value:h||"",onChange:g=>d(p,g.target.value?parseInt(g.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Forms"}),window.sfuiData?.forms?.map(g=>r.jsx("option",{value:g.id,children:g.title},g.id))]})]},p):p==="method"&&e.type==="http_request"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"HTTP Method"}),r.jsxs("select",{value:h||"POST",onChange:g=>d(p,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"GET",children:"GET"}),r.jsx("option",{value:"POST",children:"POST"}),r.jsx("option",{value:"PUT",children:"PUT"}),r.jsx("option",{value:"PATCH",children:"PATCH"}),r.jsx("option",{value:"DELETE",children:"DELETE"})]})]},p):p==="bodyType"&&e.type==="send_email"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Body Type"}),r.jsxs("select",{value:h||"html",onChange:g=>d(p,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"html",children:"HTML"}),r.jsx("option",{value:"text",children:"Plain Text"})]})]},p):p==="body"||p==="message"||p==="payload"||p==="postContent"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:p.replace(/([A-Z])/g," $1").trim()}),r.jsx("textarea",{value:h||"",onChange:g=>d(p,g.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"Supports {tags} for dynamic values"}),r.jsxs("p",{className:"text-xs text-gray-500",children:[" Use ","{field_name}"," to insert form field values"]})]},p):typeof h=="number"||p==="duration"||p==="quantity"?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:p.replace(/([A-Z])/g," $1").trim()}),r.jsx("input",{type:"number",value:h||"",onChange:g=>d(p,parseFloat(g.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},p):typeof h=="boolean"?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:`config-${p}`,checked:h,onChange:g=>d(p,g.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("label",{htmlFor:`config-${p}`,className:"text-sm font-medium text-gray-700 capitalize",children:p.replace(/([A-Z])/g," $1").trim()})]},p):Array.isArray(h)?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:p.replace(/([A-Z])/g," $1").trim()}),r.jsx("textarea",{value:JSON.stringify(h,null,2),onChange:g=>{try{const v=JSON.parse(g.target.value);d(p,v)}catch{}},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]},p):typeof h=="object"&&h!==null?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:p.replace(/([A-Z])/g," $1").trim()}),r.jsx("textarea",{value:JSON.stringify(h,null,2),onChange:g=>{try{const v=JSON.parse(g.target.value);d(p,v)}catch{}},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"})]},p):r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:p.replace(/([A-Z])/g," $1").trim()}),r.jsx("input",{type:"text",value:h||"",onChange:g=>d(p,g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Supports {tags}"})]},p);return r.jsxs("div",{className:"properties-panel flex flex-col h-full bg-white border-l border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${i.color}20`},children:r.jsx(l,{className:"w-5 h-5",style:{color:i.color}})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:i.name}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:i.category})]})]}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Gt,{className:"w-4 h-4 text-gray-500"})})]}),r.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:r.jsx("p",{className:"text-sm text-gray-600",children:i.description})}),r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Eh,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Node Enabled"})]}),r.jsx("button",{onClick:()=>t(e.id,{config:{...e.config,_enabled:e.config._enabled===!1}}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${e.config._enabled!==!1?"bg-green-500":"bg-gray-300"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm ${e.config._enabled!==!1?"translate-x-6":"translate-x-1"}`})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.config._enabled!==!1?"This node will execute when triggered":"This node is paused and will be skipped"})]}),e.type==="send_email"&&s&&r.jsxs("div",{className:"p-4 border-b border-gray-200",children:[r.jsxs("button",{onClick:()=>s(e),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Lr,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:"Open Email Builder"}),r.jsx(tl,{className:"w-3 h-3 ml-1"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Design your email template visually"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:Object.keys(e.config).filter(p=>!p.startsWith("_")).length>0?Object.entries(e.config).filter(([p])=>!p.startsWith("_")).map(([p,h])=>u(p,h)):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Zt,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-sm",children:"No configuration needed"}),r.jsx("p",{className:"text-xs mt-1",children:"This node works out of the box"})]})}),r.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[r.jsx("span",{children:"Node ID:"}),r.jsx("code",{className:"font-mono bg-white px-2 py-1 rounded border border-gray-200",children:e.id})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[r.jsx("span",{children:"Type:"}),r.jsx("code",{className:"font-mono bg-white px-2 py-1 rounded border border-gray-200",children:e.type})]})]})]})}function tR({workflowName:e,onWorkflowNameChange:t,onSave:n,onUndo:s,onRedo:i,onClear:l,onTest:d,onPreview:u,canUndo:p,canRedo:h,isSaving:g=!1}){return r.jsxs("div",{className:"toolbar flex items-center justify-between px-4 py-3 bg-white border-b border-gray-200",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("input",{type:"text",value:e,onChange:v=>t(v.target.value),placeholder:"Untitled Workflow",className:"text-lg font-semibold text-gray-900 bg-transparent border-none focus:outline-none focus:ring-0 min-w-[300px]"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:s,disabled:!p,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Undo (Ctrl+Z)",children:r.jsx(N2,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{onClick:i,disabled:!h,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Redo (Ctrl+Y)",children:r.jsx(h2,{className:"w-4 h-4 text-gray-700"})}),r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),r.jsx("button",{onClick:l,className:"p-2 rounded hover:bg-gray-100 transition-colors",title:"Clear Workflow",children:r.jsx(On,{className:"w-4 h-4 text-gray-700"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Io,{className:"w-4 h-4"}),"Preview"]}),r.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(au,{className:"w-4 h-4"}),"Test"]}),r.jsxs("button",{onClick:n,disabled:g,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(Oo,{className:"w-4 h-4"}),g?"Saving...":"Save Workflow"]})]})]})}function nR({isOpen:e,onClose:t,connectionStart:n,position:s,onCreateAndConnect:i}){const[l,d]=m.useState(""),[u,p]=m.useState("all"),h=[{id:"all",name:"All Nodes",icon:""},{id:"action",name:"Actions",icon:""},{id:"condition",name:"Conditions",icon:""}],g=m.useMemo(()=>Object.entries(Hs).map(([k,N])=>({id:k,...N})).filter(k=>{if(!k.inputs||k.inputs.length===0||u!=="all"&&k.category!==u)return!1;if(l){const N=l.toLowerCase();return k.name.toLowerCase().includes(N)||k.description&&k.description.toLowerCase().includes(N)}return!0}),[u,l]),v=b=>{s&&(i(b.id,s),t())},y=b=>{b.key==="Escape"&&t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:r.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-96 max-h-[600px] flex flex-col",onClick:b=>b.stopPropagation(),onKeyDown:y,children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Connect to New Node"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-white transition-colors",title:"Close",children:r.jsx(Gt,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Choose a node to create and connect to"})]}),r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsxs("div",{className:"relative",children:[r.jsx(ys,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search nodes...",value:l,onChange:b=>d(b.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg pl-10 pr-3 py-2 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",autoFocus:!0})]})}),r.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex gap-2",children:h.map(b=>r.jsxs("button",{onClick:()=>p(b.id),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${u===b.id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[b.icon," ",b.name]},b.id))})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:r.jsxs("div",{className:"space-y-2",children:[g.map(b=>{const k=b.icon;return r.jsx("div",{onClick:()=>v(b),className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 cursor-pointer transition-all duration-200 hover:bg-gray-100 dark:hover:bg-gray-700 hover:shadow-lg border border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500",style:{borderLeftColor:b.color,borderLeftWidth:"4px"},children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xl flex-shrink-0",children:r.jsx(k,{className:"w-5 h-5",style:{color:b.color}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-gray-900 dark:text-white font-medium text-sm",children:b.name}),b.description&&r.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-xs",children:b.description}),r.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs",children:[b.inputs&&b.inputs.length>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[b.inputs.length," input",b.inputs.length>1?"s":""]})]}),b.outputs&&b.outputs.length>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),r.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[b.outputs.length," output",b.outputs.length>1?"s":""]})]})]})]})]})},b.id)}),g.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"text-4xl mb-3",children:""}),r.jsx("p",{children:"No matching nodes found"}),r.jsx("p",{className:"text-xs mt-1",children:"Try adjusting your search terms"})]})]})}),r.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:r.jsx("div",{className:"flex justify-end gap-2",children:r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cancel"})})})]})}):null}function Ry({email:e}){const s=`
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    <style>
      /* Reset styles for email content */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        font-size: 14px;
        line-height: 1.6;
        color: #333333;
      }
      
      p {
        margin: 0 0 10px 0;
      }
      
      h1, h2, h3, h4, h5, h6 {
        margin: 0 0 10px 0;
        font-weight: 600;
      }
      
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      h3 { font-size: 18px; }
      h4 { font-size: 16px; }
      h5 { font-size: 14px; }
      h6 { font-size: 12px; }
      
      a {
        color: #0066cc;
        text-decoration: underline;
      }
      
      img {
        max-width: 100%;
        height: auto;
      }
      
      table {
        border-collapse: collapse;
        width: 100%;
      }
      
      th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
      }
      
      blockquote {
        margin: 0 0 10px 0;
        padding: 10px 20px;
        border-left: 4px solid #ddd;
        background-color: #f9f9f9;
      }
      
      ul, ol {
        margin: 0 0 10px 20px;
        padding: 0;
      }
      
      li {
        margin: 0 0 5px 0;
      }
      
      /* Button styles */
      .button {
        display: inline-block;
        padding: 12px 24px;
        background-color: #0066cc;
        color: #ffffff;
        text-decoration: none;
        border-radius: 4px;
        font-weight: 600;
      }
      
      /* Responsive */
      @media only screen and (max-width: 600px) {
        body {
          font-size: 16px !important;
        }
        
        table {
          width: 100% !important;
        }
        
        .button {
          display: block !important;
          width: 100% !important;
        }
      }
    </style>
  
      </head>
      <body>
        <div style="max-width: 600px; margin: 0 auto;">
          ${e.body||"<p>Email content will appear here...</p>"}
        </div>
      </body>
    </html>
  `;return r.jsx("div",{className:"email-content",children:r.jsx("iframe",{srcDoc:s,className:"w-full h-full border-0",style:{minHeight:"400px"},title:"Email Preview",sandbox:"allow-same-origin"})})}function Hn({value:e,onChange:t,placeholder:n="Click to edit",className:s="",multiline:i=!1,type:l="text",showEditIcon:d=!0,noPadding:u=!1}){const[p,h]=m.useState(!1),[g,v]=m.useState(e||""),[y,b]=m.useState(!1),k=m.useRef(null);m.useEffect(()=>{p&&k.current&&(k.current.focus(),k.current.select&&k.current.select())},[p]),m.useEffect(()=>{v(e||"")},[e]);const N=()=>{t&&g!==e&&t(g),h(!1)},S=()=>{v(e||""),h(!1)},_=w=>{w.key==="Enter"&&!i?(w.preventDefault(),N()):w.key==="Escape"&&(w.preventDefault(),S())},E=()=>{p||h(!0)};if(p){const w=i?"textarea":"input";return r.jsxs("div",{className:"inline-flex items-center gap-1",children:[r.jsx(w,{ref:k,type:l,value:g,onChange:T=>v(T.target.value),onKeyDown:_,onBlur:N,className:pe("bg-white border border-gray-300 rounded",!u&&"px-2 py-0.5","outline-none focus:border-blue-500",!u&&"h-[28px]",i&&"resize-none min-h-[60px] h-auto",s),placeholder:n}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{type:"button",onClick:N,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Save",children:r.jsx(Ta,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:S,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Cancel",children:r.jsx(Gt,{className:"w-4 h-4"})})]})]})}return r.jsxs("span",{className:pe("inline-flex items-center gap-1 cursor-pointer group","border border-transparent rounded",!u&&"px-2 py-0.5",!u&&"h-[28px]",s),onClick:E,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),title:"Click to edit",children:[r.jsx("span",{className:pe(!e&&"text-gray-400"),children:e||n}),d&&y&&r.jsx(vr,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}function rR({scheduledDate:e,schedule:t,className:n="",size:s="normal"}){const i=t?.enabled&&t?.schedules?.length>0;if(!e&&!i)return null;const l=s==="small";if(i&&!e){const u=t.schedules.length;return r.jsxs("div",{className:pe("inline-flex items-center gap-1",l?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",l?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(er,{className:pe(l?"w-3 h-3":"w-4 h-4")}),r.jsxs("span",{className:"font-medium",children:[u," ",u===1?"Schedule":"Schedules"]})]})}const d=new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return r.jsxs("div",{className:pe("inline-flex items-center gap-1",l?"text-xs":"text-sm","text-blue-600 bg-blue-50 rounded-full",l?"px-2 py-0.5":"px-3 py-1",n),children:[r.jsx(er,{className:pe(l?"w-3 h-3":"w-4 h-4")}),r.jsx("span",{className:"font-medium",children:"Scheduled"}),!l&&r.jsx("span",{className:"text-blue-500",children:""}),!l&&r.jsx("span",{children:d})]})}let Bn=null;function oR({onSelect:e,onClose:t,title:n="Select Media"}){m.useEffect(()=>{if(typeof wp>"u"||!wp.media){console.error("WordPress media library is not available"),t();return}Bn?Bn.options.title=n:Bn=wp.media({title:n,button:{text:"Select"},multiple:!1}),Bn.off("select"),Bn.off("close");const i=()=>{const d=Bn.state().get("selection").first().toJSON();if(d){const u={id:d.id,title:d.title,filename:d.filename,url:d.url,mime:d.mime||d.type,type:d.mime||d.type,filesizeHumanReadable:d.filesizeHumanReadable||s(d.filesize),filesize:d.filesize};e(u)}},l=()=>{t()};return Bn.on("select",i),Bn.on("close",l),Bn.open(),()=>{Bn&&(Bn.off("select",i),Bn.off("close",l))}},[]);function s(i){if(!i)return"Unknown size";const l=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(i)/Math.log(1024));return Math.round(i/Math.pow(1024,d)*100)/100+" "+l[d]}return null}const sR=De.memo(oR),Dy=({className:e})=>r.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("polyline",{points:"14 2 14 8 20 8"}),r.jsx("text",{x:"7",y:"17",fontSize:"8",fontWeight:"600",fill:"currentColor",stroke:"none",children:"PDF"})]});function aR({attachments:e=[],onChange:t,isBuilder:n=!1}){const[s,i]=m.useState(!1),[l,d]=m.useState(null),u=m.useCallback(y=>{const b={id:y.id,name:y.filename||y.title||"Untitled",url:y.url,type:y.mime||y.type||"application/octet-stream",size:y.filesizeHumanReadable||y.filesize||"Unknown size"};if(l!==null){const k=[...e];k[l]=b,t(k),d(null)}else t([...e,b]);i(!1)},[e,t,l]),p=y=>{const b=e.filter((k,N)=>N!==y);t(b)},h=y=>{d(y),i(!0)},g=m.useCallback(()=>{i(!1),d(null)},[]),v=(y,b="")=>{if(y.startsWith("image/"))return sl;if(y.includes("pdf"))return Dy;if(y.includes("spreadsheet")||y.includes("excel")||y.includes("csv"))return al;if(y.includes("video/"))return ll;if(y.includes("audio/"))return rl;if(y.includes("zip")||y.includes("tar")||y.includes("archive"))return nl;if(y.includes("text/plain"))return il;switch(b.split(".").pop()?.toLowerCase()){case"pdf":return Dy;case"csv":case"xls":case"xlsx":case"ods":return al;case"doc":case"docx":case"odt":case"rtf":case"txt":return il;case"mp4":case"avi":case"mov":case"wmv":case"flv":case"webm":return ll;case"mp3":case"wav":case"ogg":case"flac":case"aac":return rl;case"zip":case"rar":case"7z":case"tar":case"gz":return nl;case"js":case"jsx":case"ts":case"tsx":case"html":case"css":case"php":case"py":case"java":case"cpp":case"c":case"json":case"xml":return ol;case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":case"bmp":case"ico":return sl;default:return vh}};return!n&&e.length===0?null:r.jsxs("div",{className:"border-t pt-4 mt-2.5",children:[n&&r.jsxs("button",{onClick:()=>{d(null),i(!0)},className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1 mb-3",children:[r.jsx(Ch,{className:"w-3 h-3"}),"Attach files"]}),e.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((y,b)=>{const k=v(y.type,y.name);return r.jsxs("div",{className:"group inline-flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#f5f5f5"},children:[r.jsx(k,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-700 group-hover:text-blue-600 transition-colors flex items-center gap-1",children:[r.jsx("span",{children:y.name}),r.jsx(tl,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",y.size,")"]}),n&&r.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:()=>h(b),className:"p-1 text-blue-600 hover:text-blue-700",title:"Replace attachment",children:r.jsx(vr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>p(b),className:"p-1 text-red-600 hover:text-red-700",title:"Remove attachment",children:r.jsx(Gt,{className:"w-4 h-4"})})]})]},`${y.id}-${b}`)})}),s&&r.jsx(sR,{onSelect:u,onClose:g,title:l!==null?"Replace Attachment":"Select Attachment"})]})}const $y=De.memo(aR);function Nf({email:e,isMobile:t,isBuilder:n,renderBody:s,updateEmailField:i,activeEmailId:l,isHtmlMode:d,onModeChange:u}){const p=e.from_name||"Sender Name",h=e.from_email||"sender@example.com",g=e.subject||"Email Subject",v=e.to||"recipient@example.com",y=e.cc||"",b=e.bcc||"",k=new Date().toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),N=m.useCallback((S,_)=>{i&&l&&i(l,S,_)},[i,l]);return t?r.jsxs("div",{className:"h-full bg-white flex flex-col max-w-md mx-auto",children:[r.jsx("div",{className:"bg-white border-b px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("button",{className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),r.jsx("button",{className:"p-2",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]})}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"p-4",children:[n?r.jsx(Hn,{value:e.subject,onChange:S=>N("subject",S),placeholder:"Email Subject",className:"text-lg font-normal text-gray-900 mb-4",noPadding:!0}):r.jsx("h2",{className:"text-lg font-normal text-gray-900 mb-4",children:g}),r.jsxs("div",{className:"flex items-start gap-5 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600",children:r.jsx(Ma,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[n?r.jsx(Hn,{value:e.from_name,onChange:S=>N("from_name",S),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}):r.jsx("span",{className:"font-medium text-gray-900",children:p}),r.jsx("span",{className:"text-xs text-gray-500",children:k})]}),r.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"to"}),r.jsx(Hn,{value:e.to,onChange:S=>N("to",S),placeholder:"recipient@example.com",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"cc"}),r.jsx(Hn,{value:e.cc||"",onChange:S=>N("cc",S),placeholder:"no CC defined",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"bcc"}),r.jsx(Hn,{value:e.bcc||"",onChange:S=>N("bcc",S),placeholder:"no BCC defined",type:"email",className:"text-sm text-gray-600"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["to ",v]}),y&&r.jsxs("div",{children:["cc: ",y]}),b&&r.jsxs("div",{children:["bcc: ",b]})]})})]})]}),r.jsxs("div",{className:"flex items-center justify-between gap-2 px-2",children:[r.jsx($y,{attachments:e.attachments||[],onChange:S=>N("attachments",S),isBuilder:n}),n&&u&&r.jsxs("div",{className:"flex items-center gap-0.5 bg-gray-100 rounded-md p-0.5",children:[r.jsx("button",{onClick:()=>!d||u("visual"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"text-gray-500":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:r.jsx(yr,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>d||u("html"),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-all",d?"bg-white text-gray-900 shadow-sm":"text-gray-500"),title:"HTML Editor",children:r.jsx(Zt,{className:"w-3 h-3"})})]})]}),r.jsx("div",{className:"bg-white p-2",children:r.jsx("div",{className:"bg-white min-h-[200px] p-0",children:n&&s?s():r.jsx(Ry,{email:e})})})]})})]}):r.jsxs("div",{className:"h-full bg-white flex flex-col",children:[r.jsx("div",{className:"border-b bg-white",children:r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-start gap-5",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 flex-shrink-0",children:r.jsx(Ma,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[n?r.jsx(Hn,{value:e.subject,onChange:S=>N("subject",S),placeholder:"Email Subject",className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},noPadding:!0}):r.jsx("h1",{className:"text-[1.375rem] font-normal text-gray-900",style:{fontFamily:'"Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif'},children:g}),r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-xs text-gray-600 rounded",children:"Inbox"}),(e.scheduled_date||e.schedule)&&r.jsx(rR,{scheduledDate:e.scheduled_date,schedule:e.schedule})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center",children:n?r.jsxs(r.Fragment,{children:[r.jsx(Hn,{value:e.from_name,onChange:S=>N("from_name",S),placeholder:"Sender Name",className:"font-medium text-gray-900",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600 ml-2.5",children:"<"}),r.jsx(Hn,{value:e.from_email,onChange:S=>N("from_email",S),placeholder:"sender@example.com",type:"email",className:"text-sm text-gray-600",noPadding:!0}),r.jsx("span",{className:"text-sm text-gray-600",children:">"})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"font-medium text-gray-900",children:p}),r.jsxs("span",{className:"text-sm text-gray-600",children:["<",h,">"]})]})}),r.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"to"}),r.jsx(Hn,{value:e.to,onChange:S=>N("to",S),placeholder:"recipient@example.com",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"cc"}),r.jsx(Hn,{value:e.cc||"",onChange:S=>N("cc",S),placeholder:"no CC defined",type:"email",className:"text-sm text-gray-600"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"inline-block w-12",children:"bcc"}),r.jsx(Hn,{value:e.bcc||"",onChange:S=>N("bcc",S),placeholder:"no BCC defined",type:"email",className:"text-sm text-gray-600"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["to ",v]}),y&&r.jsxs("div",{children:["cc: ",y]}),b&&r.jsxs("div",{children:["bcc: ",b]})]})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-sm text-gray-500",children:k}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})})]})]}),r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsx($y,{attachments:e.attachments||[],onChange:S=>N("attachments",S),isBuilder:n}),n&&u&&r.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-0.5",children:[r.jsxs("button",{onClick:()=>!d||u("visual"),className:pe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all",d?"text-gray-500 hover:text-gray-700":"bg-white text-gray-900 shadow-sm"),title:"Visual Builder",children:[r.jsx(yr,{className:"w-4 h-4"}),r.jsx("span",{children:"Visual"})]}),r.jsxs("button",{onClick:()=>d||u("html"),className:pe("flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all",d?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),title:"HTML Editor",children:[r.jsx(Zt,{className:"w-4 h-4"}),r.jsx("span",{children:"HTML"})]})]})]})]})]})})}),r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsxs("div",{className:"max-w-[1000px] mx-auto bg-white",children:[r.jsx("div",{className:"bg-white min-h-[200px] p-0",children:n&&s?s():r.jsx(Ry,{email:e})}),r.jsx("div",{className:"border-t pt-6 pl-6",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{className:"px-4 py-2 bg-white border rounded-full text-sm font-medium text-gray-700 cursor-not-allowed",disabled:!0,children:[r.jsx("svg",{className:"w-4 h-4 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),"Reply"]}),r.jsxs("button",{className:"px-4 py-2 bg-white border rounded-full text-sm font-medium text-gray-700 cursor-not-allowed",disabled:!0,children:[r.jsx("svg",{className:"w-4 h-4 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),"Forward"]})]})})]})})]})}const ut=xl((e,t)=>({elements:[],selectedElementId:null,isDragging:!1,draggedElement:null,editingTextElementId:null,currentTemplate:null,savedTemplates:[],templateCategories:[{id:"welcome",name:"Welcome/Onboarding",count:5},{id:"transactional",name:"Transactional",count:5},{id:"newsletter",name:"Newsletter",count:5},{id:"notification",name:"Notification",count:5},{id:"minimal",name:"Minimal",count:3}],previewClient:"gmail-desktop",previewData:{},elementTypes:{emailWrapper:{id:"emailWrapper",name:"Email Wrapper",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{backgroundColor:"#f5f5f5"}},emailContainer:{id:"emailContainer",name:"Email Container",icon:"",isSystemElement:!0,canDelete:!1,defaultProps:{width:"600px",margin:{top:50,right:"auto",bottom:50,left:"auto"},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#e5e5e5",padding:{top:60,right:30,bottom:60,left:30},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",boxShadow:"none",borderRadius:0}},section:{id:"section",name:"Section",icon:"",defaultProps:{margin:{top:0,right:0,bottom:0,left:0},border:{top:0,right:0,bottom:0,left:0},borderStyle:"solid",borderColor:"#000000",padding:{top:20,right:20,bottom:20,left:20},backgroundColor:"#ffffff",backgroundImage:"",backgroundImageId:null,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",fullWidth:!1}},columns:{id:"columns",name:"Columns",icon:"",defaultProps:{columns:2,gap:20,stackOnMobile:!0}},text:{id:"text",name:"Text",icon:"",defaultProps:{content:"Click to edit this text...",fontSize:16,fontFamily:"Arial, sans-serif",color:"#333333",lineHeight:1.6,align:"left",width:"100%",margin:{top:0,right:0,bottom:0,left:0},padding:{top:0,right:0,bottom:0,left:0}}},image:{id:"image",name:"Image",icon:"",defaultProps:{src:"",alt:"",width:"100%",height:"auto",align:"center",link:""}},button:{id:"button",name:"Button",icon:"",defaultProps:{text:"Click Here",href:"#",backgroundColor:"#0066cc",color:"#ffffff",fontSize:16,fontWeight:"bold",padding:{top:12,right:24,bottom:12,left:24},borderRadius:4,align:"center",fullWidth:!1}},divider:{id:"divider",name:"Divider",icon:"",defaultProps:{height:1,color:"#dddddd",style:"solid",margin:{top:20,bottom:20}}},spacer:{id:"spacer",name:"Spacer",icon:"",defaultProps:{height:20}},social:{id:"social",name:"Social Icons",icon:"",defaultProps:{icons:["facebook","twitter","instagram","linkedin"],iconSize:32,iconColor:"#333333",spacing:10,align:"center"}},formData:{id:"formData",name:"Form Data",icon:"",defaultProps:{field:"",fallback:"",format:"text"}},html:{id:"html",name:"HTML",icon:"</>",defaultProps:{content:"<p>Your HTML content here...</p>"}}},addElement:(n,s=null,i=null)=>{console.log(" addElement called:",{type:n,parentId:s,position:i});const{elementTypes:l}=t(),d=l[n];if(!d){console.error(" Element type not found:",n);return}if(d.isSystemElement){console.log(" Skipping system element creation:",n);return}const u={id:Ln(),type:n,props:{...d.defaultProps},children:[]};return console.log(" Created new element:",u),e(p=>{console.log(" Current state before adding:",p.elements);const h=t().ensureSystemElements(p.elements);if(console.log(" State after ensuring system elements:",h),s){console.log(" Adding to parent:",s);const g={elements:Bs(h,s,u,i)};return console.log(" Final state after addToParent:",g.elements),g}else{console.log(" Adding to root - finding email container...");const g=(y,b)=>{for(const k of y){if(k.type===b)return k;if(k.children&&k.children.length>0){const N=g(k.children,b);if(N)return N}}return null},v=g(h,"emailContainer");if(console.log(" Found email container:",v),v){console.log(" Adding to email container:",v.id);const y={elements:Bs(h,v.id,u,i)};return console.log(" Final state after addToParent to container:",y.elements),y}else{console.log(" No email container found, adding to root");const y=[...h];return i!==null?y.splice(i,0,u):y.push(u),console.log(" Final state (root fallback):",y),{elements:y}}}}),console.log(" addElement completed, returning:",u.id),u.id},updateElement:(n,s)=>{e(i=>({elements:Sf(i.elements,n,s)}))},deleteElement:n=>{e(s=>({elements:vc(s.elements,n),selectedElementId:s.selectedElementId===n?null:s.selectedElementId}))},moveElement:(n,s,i)=>{e(l=>{let d=[...l.elements],u=null;if(d=vc(d,n,p=>{u=p}),!u)return l;if(u.type==="emailWrapper"||u.type==="emailContainer")return console.log(" Cannot move system elements"),l;if(s)d=Bs(d,s,u,i);else{const p=(g,v)=>{for(const y of g){if(y.type===v)return y;if(y.children&&y.children.length>0){const b=p(y.children,v);if(b)return b}}return null},h=p(d,"emailContainer");if(h)console.log(" Moving to email container:",h.id),d=Bs(d,h.id,u,i);else return console.log(" No email container found, cannot add element"),l}return{elements:d}})},selectElement:n=>{console.log("selectElement called with id:",n),e({selectedElementId:n}),console.log("selectedElementId set to:",n)},clearCanvas:()=>{e({elements:[],selectedElementId:null})},setElements:n=>{const s=t().ensureSystemElements(n||[]);e({elements:s})},ensureSystemElements:n=>{const{elementTypes:s}=t();let i=[...n];const l=(h,g)=>{for(const v of h){if(v.type===g)return v;if(v.children&&v.children.length>0){const y=l(v.children,g);if(y)return y}}return null};let d=i.find(h=>h.type==="emailWrapper");d||(d={id:`email-wrapper-${Date.now()}`,type:"emailWrapper",props:{...s.emailWrapper.defaultProps},children:[]},i.unshift(d));let u=l([d],"emailContainer");u||(u={id:`email-container-${Date.now()}`,type:"emailContainer",props:{...s.emailContainer.defaultProps},children:[]},d.children.unshift(u));const p=i.filter(h=>h.type!=="emailWrapper");return p.length>0&&(u.children.push(...p),i=i.filter(h=>h.type==="emailWrapper")),i},saveAsTemplate:(n,s,i)=>{const{elements:l}=t(),d={id:Ln(),name:n,description:s,category:i,elements:JSON.parse(JSON.stringify(l)),createdAt:new Date().toISOString(),thumbnail:null};return e(u=>({savedTemplates:[...u.savedTemplates,d]})),d},loadTemplate:n=>{const{savedTemplates:s}=t(),i=s.find(l=>l.id===n);i&&e({elements:JSON.parse(JSON.stringify(i.elements)),currentTemplate:i,selectedElementId:null})},deleteTemplate:n=>{e(s=>({savedTemplates:s.savedTemplates.filter(i=>i.id!==n)}))},generateHtml:()=>{const{elements:n}=t();return iR(n)},startDrag:n=>{e({isDragging:!0,draggedElement:n})},endDrag:()=>{e({isDragging:!1,draggedElement:null})},setEditingTextElement:n=>{e({editingTextElementId:n})},moveElementUpDown:(n,s)=>{const i=t(),l=kf(i.elements,n);if(!l){console.log("Element not found:",n);return}const{parent:d,parentId:u,position:p}=l,h=d?d.children:i.elements,g=s==="up"?p-1:p+1;if(g<0||g>=h.length){console.log("Cannot move element beyond bounds");return}const v=u||null;t().moveElement(n,v,g)}})),yc=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.children&&n.children.length>0)if(n.type==="columns")for(const s of n.children){const i=yc(s.children||[],t);if(i)return i}else{const s=yc(n.children,t);if(s)return s}}return null},kf=(e,t,n=null,s=null)=>{for(let i=0;i<e.length;i++){const l=e[i];if(l.id===t)return{parent:n,parentId:s,position:i};if(l.children&&l.children.length>0)if(l.type==="columns")for(const d of l.children){const u=kf(d.children||[],t,d,d.id);if(u)return u}else{const d=kf(l.children,t,l,l.id);if(d)return d}}return null},Zo=()=>{const e=ut(w=>w.selectElement),t=ut(w=>w.updateElement),n=ut(w=>w.addElement),s=ut(w=>w.deleteElement),i=ut(w=>w.moveElement),l=ut(w=>w.setElements),d=ut(w=>w.clearCanvas),u=ut(w=>w.generateHtml),p=ut(w=>w.startDrag),h=ut(w=>w.endDrag),g=ut(w=>w.setEditingTextElement),v=ut(w=>w.moveElementUpDown),y=ut(w=>w.selectedElementId),b=ut(w=>w.isDragging),k=ut(w=>w.draggedElement),N=ut(w=>w.elementTypes),S=ut(w=>w.editingTextElementId),_=ut(w=>w.elements),E=m.useMemo(()=>y?yc(_,y):null,[y,_]);return{elements:_,selectedElementId:y,selectedElement:E,isDragging:b,draggedElement:k,elementTypes:N,editingTextElementId:S,selectElement:e,updateElement:t,addElement:n,deleteElement:s,moveElement:i,setElements:l,clearCanvas:d,generateHtml:u,startDrag:p,endDrag:h,setEditingTextElement:g,moveElementUpDown:v}};Zo.getState=()=>{const e=ut.getState(),t=e.selectedElementId?yc(e.elements,e.selectedElementId):null;return{...e,selectedElement:t}};function Bs(e,t,n,s){if(console.log(" addToParent called:",{parentId:t,newElement:n,position:s}),console.log(" Elements structure:",e),t&&t.includes("-col-")){const[i,,l]=t.split("-"),d=parseInt(l);return e.map(u=>{if(u.id===i&&u.type==="columns"){const p=[...u.children||[]];for(;p.length<=d;)p.push({type:"column",children:[]});const h=[...p[d]?.children||[]];return s!=null?h.splice(s,0,n):h.push(n),p[d]={type:"column",children:h},{...u,children:p}}return u.children&&u.children.length>0?{...u,children:Bs(u.children,t,n,s)}:u})}return e.map(i=>{if(i.id===t){console.log(" Found target parent element:",i);const l=[...i.children];s!=null?(l.splice(s,0,n),console.log(" Added at position",s,"- new children:",l)):(l.push(n),console.log(" Added at end - new children:",l));const d={...i,children:l};return console.log(" Updated parent element:",d),d}return i.children&&i.children.length>0?{...i,children:Bs(i.children,t,n,s)}:i})}function Sf(e,t,n){return e.map(s=>s.id===t?typeof n=="function"?n(s):{...s,...n}:s.children&&s.children.length>0?s.type==="columns"?{...s,children:s.children.map(i=>({...i,children:Sf(i.children||[],t,n)}))}:{...s,children:Sf(s.children,t,n)}:s)}function vc(e,t,n){return e.filter(s=>s.id===t?(n&&n(s),!1):(s.children&&s.children.length>0&&(s.type==="columns"?s.children=s.children.map(i=>({...i,children:vc(i.children||[],t,n)})):s.children=vc(s.children,t,n)),!0))}function iR(e){const t=s=>{switch(s.type){case"section":const i=s.props.margin||{top:0,right:0,bottom:0,left:0},l=s.props.border||{top:0,right:0,bottom:0,left:0},d=s.props.borderStyle||"solid",u=s.props.borderColor||"#000000",p=i.top||i.bottom?`<tr><td style="padding: ${i.top}px ${i.right}px ${i.bottom}px ${i.left}px;"></td></tr>`:"",h=s.props.backgroundImage?`background-image: url('${s.props.backgroundImage}'); background-size: ${s.props.backgroundSize||"cover"}; background-position: ${s.props.backgroundPosition||"center"}; background-repeat: ${s.props.backgroundRepeat||"no-repeat"};`:"",v=l.top>0||l.right>0||l.bottom>0||l.left>0?`border-top: ${l.top}px ${d} ${u}; border-right: ${l.right}px ${d} ${u}; border-bottom: ${l.bottom}px ${d} ${u}; border-left: ${l.left}px ${d} ${u};`:"";return`${p}<tr><td style="padding: ${s.props.padding.top}px ${s.props.padding.right}px ${s.props.padding.bottom}px ${s.props.padding.left}px; background-color: ${s.props.backgroundColor}; ${h} ${v}">
          ${s.children.map(t).join("")}
        </td></tr>`;case"text":return`<div style="font-size: ${s.props.fontSize}px; color: ${s.props.color}; text-align: ${s.props.align}; line-height: ${s.props.lineHeight};">
          ${s.props.content}
        </div>`;case"button":return`<div style="text-align: ${s.props.align};">
          <a href="${s.props.href}" style="display: inline-block; background-color: ${s.props.backgroundColor}; color: ${s.props.color}; padding: ${s.props.padding.top}px ${s.props.padding.right}px ${s.props.padding.bottom}px ${s.props.padding.left}px; text-decoration: none; border-radius: ${s.props.borderRadius}px; font-size: ${s.props.fontSize}px; font-weight: ${s.props.fontWeight};">
            ${s.props.text}
          </a>
        </div>`;case"html":return s.props.content||"";default:return""}};return`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f4f4f4;">
  <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="min-width: 100%;">
    <tr>
      <td align="center">
        <!--[if mso]>
        <table role="presentation" width="600" cellpadding="0" cellspacing="0">
        <tr>
        <td>
        <![endif]-->
        
        <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px;">
          ${e.map(t).join("")}
        </table>
        
        <!--[if mso]>
        </td>
        </tr>
        </table>
        <![endif]-->
      </td>
    </tr>
  </table>
</body>
</html>`}const lR={section:_a,columns:Xd,text:bs,image:tu,button:Mh,divider:kh,spacer:Sh,social:Rh,formData:Qi,html:Zt};function cR({element:e}){const{attributes:t,listeners:n,setNodeRef:s,isDragging:i}=Gu({id:`palette-${e.id}`,data:{type:"new-element",elementType:e.id}}),l=lR[e.id]||_a;return r.jsxs("div",{ref:s,...n,...t,className:pe("flex flex-col items-center justify-center p-3 cursor-move","hover:bg-gray-100 transition-colors rounded-lg group",i&&"opacity-50"),title:e.name,children:[r.jsx(l,{className:"w-5 h-5 mb-1 text-gray-600 group-hover:text-gray-800"}),r.jsx("span",{className:"text-xs text-gray-600 text-center leading-tight group-hover:text-gray-800",children:e.name})]})}function dR(){const{elementTypes:e}=Zo(),t=[{name:"Layout",elements:["section","columns","spacer"]},{name:"Content",elements:["text","image","button","divider","html"]},{name:"Dynamic",elements:["formData","social"]}];return r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Elements:"}),r.jsx("div",{className:"flex items-center gap-6 overflow-x-auto",children:t.map((n,s)=>r.jsxs(De.Fragment,{children:[s>0&&r.jsx("div",{className:"h-8 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase mr-2",children:n.name}),n.elements.map(i=>{const l=e[i];return l?r.jsx(cR,{element:l},l.id):null})]})]},n.name))}),r.jsx("div",{className:"ml-auto text-xs text-gray-500 whitespace-nowrap",children:"Drag to add"})]})})}const uR={emailWrapper:{resizable:!1,background:{color:!0,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,canDelete:!1,isSystemElement:!0,backgroundOnly:!0},display:{showInBuilder:!0,selectable:!0}},emailContainer:{resizable:!1,background:{color:!0,image:!0},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{canDelete:!1,isSystemElement:!0,droppable:!0,widthOptions:["600px","700px"]},effects:{borderRadius:!0,shadow:!0},display:{showInBuilder:!0,selectable:!0}},text:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0,lineHeight:!0,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0}},button:{resizable:{horizontal:!0,vertical:!1,minWidth:80,maxWidth:400},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!1,lineHeight:!1,letterSpacing:!0},alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1}},image:{resizable:{horizontal:!0,vertical:!0,minWidth:50,minHeight:50,maxWidth:1e3,maxHeight:800,aspectRatio:!0},background:{color:!1,image:!1},spacing:{margin:!0,padding:!1,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,alt:!0,title:!0},layout:{fullWidth:!0,inline:!1},effects:{borderRadius:!0,shadow:!1},media:{formats:["jpg","png","gif"],maxFileSize:"5MB",optimization:!0}},section:{resizable:{horizontal:!0,vertical:!0,minWidth:200,minHeight:50,maxWidth:700,defaultWidth:600},background:{color:!0,image:!0,gradient:!1},spacing:{margin:!0,padding:!0,border:!0},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,contained:!0,centered:!0,columns:!0,droppable:!0},container:{maxColumns:4,columnSpacing:!0,verticalAlignment:!0,equalHeight:!0},effects:{borderRadius:!0,shadow:!1}},spacer:{resizable:{horizontal:!1,vertical:!0,minHeight:10,maxHeight:200},background:{color:!1,image:!1},spacing:{margin:!1,padding:!1,border:!1},typography:!1,alignment:!1,interactive:!1,layout:{fullWidth:!0,inline:!1},display:{showInBuilder:!0,showInEmail:!1}},divider:{resizable:{horizontal:!0,vertical:!1,minWidth:50,maxWidth:1e3},background:{color:!0,image:!1},spacing:{margin:!0,padding:!1,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!0,inline:!1},style:{thickness:!0,style:!0,opacity:!0}},social:{resizable:{horizontal:!1,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!1},interactive:{href:!0,target:!0,tracking:!0},layout:{fullWidth:!1,inline:!0},social:{platforms:["facebook","twitter","linkedin","instagram","youtube"],iconStyle:["default","round","square"],iconSize:["small","medium","large"],showLabels:!0}},columns:{resizable:{horizontal:!0,vertical:!1},background:{color:!1,image:!1},spacing:{margin:!0,padding:!0,border:!1},typography:!1,alignment:{horizontal:!0,vertical:!0},interactive:!1,layout:{fullWidth:!0,droppable:!0},columns:{count:{min:2,max:4},distribution:["equal","custom"],spacing:!0,verticalAlignment:["top","middle","bottom"],responsive:{mobile:"stack",tablet:"maintain",desktop:"maintain"}}},formData:{resizable:{horizontal:!0,vertical:!1},background:{color:!0,image:!1},spacing:{margin:!0,padding:!0,border:!0},typography:{font:!0,size:!0,color:!0,weight:!0,style:!0},alignment:{horizontal:!0,vertical:!1},interactive:!1,layout:{fullWidth:!1,inline:!0},data:{fields:["name","email","phone","company","custom"],formatting:!0,fallback:!0}}};function Cf(e){return uR[e]||{}}function Us(e,t){const n=Cf(e),s=t.split(".");let i=n;for(const l of s)if(i&&typeof i=="object"&&l in i)i=i[l];else return!1;return!!i}function Py({margin:e,border:t,padding:n,backgroundColor:s,backgroundImage:i,borderRadius:l,boxShadow:d,children:u,className:p,isResizing:h=!1}){const g=()=>{const y={};if(e&&(e.top!==void 0&&(y.marginTop=`${e.top}px`),e.right!==void 0&&(y.marginRight=`${e.right}px`),e.bottom!==void 0&&(y.marginBottom=`${e.bottom}px`),e.left!==void 0&&(y.marginLeft=`${e.left}px`)),t&&t.width){const{width:b,style:k="solid",color:N="#000000"}=t;b.top>0&&(y.borderTop=`${b.top}px ${k} ${N}`),b.right>0&&(y.borderRight=`${b.right}px ${k} ${N}`),b.bottom>0&&(y.borderBottom=`${b.bottom}px ${k} ${N}`),b.left>0&&(y.borderLeft=`${b.left}px ${k} ${N}`)}return n&&(n.top!==void 0&&(y.paddingTop=`${n.top}px`),n.right!==void 0&&(y.paddingRight=`${n.right}px`),n.bottom!==void 0&&(y.paddingBottom=`${n.bottom}px`),n.left!==void 0&&(y.paddingLeft=`${n.left}px`)),s&&s!=="transparent"&&(y.backgroundColor=s),i&&i.url&&(y.backgroundImage=`url(${i.url})`,y.backgroundSize=i.size||"cover",y.backgroundPosition=i.position||"center",y.backgroundRepeat=i.repeat||"no-repeat"),l&&l>0&&(y.borderRadius=`${l}px`,y.WebkitBorderRadius=`${l}px`,y.MozBorderRadius=`${l}px`),d&&d!=="none"&&(y.boxShadow=d,y.WebkitBoxShadow=d,y.MozBoxShadow=d),y},v=()=>{const y={};return s&&s!=="transparent"&&(y.bgcolor=s),i&&i.url&&(y.background=i.url),y};return r.jsx("div",{className:pe("spacing-layer",!h&&"transition-all duration-200",p),style:g(),...v(),children:u})}function fR({capabilities:e,isResizing:t=!1,intensity:n="normal"}){const s=()=>{const d="absolute inset-0 pointer-events-none rounded";switch(n){case"subtle":return pe(d,"ring-1 ring-green-400 animate-pulse","transition-all duration-1000");case"strong":return pe(d,"ring-4 ring-green-500 animate-pulse","transition-all duration-500");default:return pe(d,"ring-2 ring-green-500 animate-pulse","transition-all duration-700")}},i=()=>{const d={};return e.effects?.borderRadius&&(d.borderRadius="inherit"),t&&(d.opacity=.3),d},l=()=>{const d=[];return e.resizable?.horizontal&&!t&&d.push(r.jsx("div",{className:"absolute top-1/2 right-0 w-1 h-4 bg-green-500 opacity-40 transform -translate-y-1/2 rounded-l"},"resize-horizontal-hint")),e.resizable?.vertical&&!t&&d.push(r.jsx("div",{className:"absolute bottom-0 left-1/2 w-4 h-1 bg-green-500 opacity-40 transform -translate-x-1/2 rounded-t"},"resize-vertical-hint")),d};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:s(),style:i()}),l(),r.jsx("div",{className:"absolute inset-0 pointer-events-none rounded",style:{boxShadow:"inset 0 0 0 1px rgba(34, 197, 94, 0.3)",borderRadius:"inherit",opacity:t?.2:.6}})]})}function pR({element:e,isSelected:t,isHovered:n,renderElements:s,children:i,onElementUpdate:l,onCapabilityAction:d,onEdit:u,isMobile:p}){const h=m.useRef(null),[g,v]=m.useState(!1),[y,b]=m.useState(null),[k,N]=m.useState(!1),[S,_]=m.useState(null),E=ut(U=>U.updateElement),w=Cf(e.type),{margin:T={top:0,right:0,bottom:0,left:0},border:M={top:0,right:0,bottom:0,left:0},borderStyle:I="solid",borderColor:O="#000000",padding:P={top:0,right:0,bottom:0,left:0},backgroundColor:B="transparent",backgroundImage:V="",backgroundSize:oe="cover",backgroundPosition:ue="center",backgroundRepeat:Ne="no-repeat",width:re,height:ke,maxWidth:ae,minWidth:ne,fullWidth:F}=e.props||{},K=(U,ge)=>{ge.preventDefault(),ge.stopPropagation(),v(!0),b(U);const ze=ge.clientX,Ee=ge.clientY,rt=h.current?.offsetWidth||0,Ge=h.current?.offsetHeight||0,ot=Ct=>{const Kt=Ct.clientX-ze,tn=Ct.clientY-Ee;let cn=rt,le=Ge;if(U==="right"||U==="corner"){const de=w.resizable?.minWidth||100,he=w.resizable?.maxWidth||700;cn=Math.max(de,Math.min(he,rt+Kt))}if(U==="bottom"||U==="corner"){const de=w.resizable?.minHeight||50,he=w.resizable?.maxHeight||1e3;le=Math.max(de,Math.min(he,Ge+tn))}E(e.id,{props:{...e.props,...U==="right"||U==="corner"?{width:`${cn}px`}:{},...U==="bottom"||U==="corner"?{height:`${le}px`}:{}}})},Xe=()=>{v(!1),b(null),document.removeEventListener("mousemove",ot),document.removeEventListener("mouseup",Xe)};document.addEventListener("mousemove",ot),document.addEventListener("mouseup",Xe)},q=()=>{v(!1),b(null)},z=U=>{U.stopPropagation(),_(e.props?.backgroundColor||"#ffffff"),N(!0)},R=U=>{_(U),E(e.id,{props:{...e.props,backgroundColor:U}})},G=()=>{S&&E(e.id,{props:{...e.props,backgroundColor:S}}),N(!1),_(null)},Y=()=>{const U=e.props?.backgroundColor||"#ffffff";E(e.id,{props:{...e.props,backgroundColor:U}}),N(!1),_(null)};m.useEffect(()=>{const U=ge=>{k&&h.current&&!h.current.contains(ge.target)&&Y()};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[k]);const J=e.type!=="emailWrapper"&&e.type!=="emailContainer"&&(Us(e.type,"spacing.margin")||Us(e.type,"spacing.border")||Us(e.type,"spacing.padding")),xe=()=>{const U={};return w.resizable?.horizontal&&re&&(U.width=re),w.resizable?.vertical&&ke&&(U.height=ke),ae&&(U.maxWidth=ae),ne&&(U.minWidth=ne),U};return r.jsxs("div",{ref:h,className:pe("universal-element-wrapper","relative",!g&&"transition-all duration-200",t&&"selected",n&&!t&&"hovered ring-2 ring-gray-400 ring-opacity-40",g&&"resizing",w.layout?.fullWidth&&"full-width",w.layout?.inline&&"inline-element"),style:{...xe(),...F?{width:"100%"}:{},...w.layout?.fullWidth&&!re&&!F&&{width:"100%"},...w.layout?.inline&&{display:"inline-block"},...w.layout?.centered&&!F&&{margin:"0 auto"},...e.type==="section"&&!re&&!F&&{width:`${w.resizable?.defaultWidth||600}px`},...e.type==="emailWrapper"&&{width:"100%",minHeight:"200px",display:"block",backgroundColor:B!=="transparent"?B:"#f5f5f5"},...e.type==="emailContainer"&&{width:p?"100%":re||"600px",maxWidth:p?"100%":re||"600px",margin:p?"0":"0 auto",display:"block",minHeight:"200px"}},"data-element-type":e.type,"data-element-id":e.id,"data-component":"UniversalElementWrapper","data-is-system":w.layout?.isSystemElement?"true":"false","data-is-selected":t?"true":"false","data-is-hovered":n?"true":"false","data-debug-env":"production",children:[t&&r.jsx(fR,{capabilities:w,isResizing:g}),(n&&!t||t&&w.layout?.backgroundOnly)&&w.layout?.isSystemElement&&u&&r.jsx("div",{className:"absolute top-1 left-1 z-[60] pointer-events-auto",children:r.jsx("button",{onClick:U=>{U.stopPropagation(),e.type==="emailWrapper"&&w.layout?.backgroundOnly?z(U):u(U)},className:"p-1.5 bg-blue-500 text-white rounded shadow-lg hover:shadow-xl transition-all hover:scale-110",title:e.type==="emailWrapper"?"Change Background Color":`Edit ${e.type==="emailContainer"?"Email Container":e.type}`,children:e.type==="emailWrapper"&&w.layout?.backgroundOnly?r.jsx(yr,{className:"w-3 h-3"}):r.jsx(vr,{className:"w-3 h-3"})})}),t&&w.layout?.isSystemElement&&r.jsx("div",{className:"absolute top-1 left-1 z-10",children:r.jsxs("div",{className:"bg-blue-500 text-white p-1 rounded shadow-sm flex items-center gap-1",children:[r.jsx(vr,{className:"w-3 h-3"}),r.jsx("span",{className:"text-xs font-medium",children:e.type==="emailWrapper"?"Wrapper":"Container"})]})}),k&&e.type==="emailWrapper"&&r.jsx("div",{className:"absolute top-10 left-1 z-[70] pointer-events-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl border p-3 min-w-[200px]",children:[r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("button",{onClick:Y,className:"flex-1 px-3 py-1.5 text-sm text-gray-600 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:"Cancel"}),r.jsx("button",{onClick:G,className:"flex-1 px-3 py-1.5 text-sm text-white bg-blue-500 hover:bg-blue-600 rounded transition-colors",children:"Apply"})]}),r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Background Color"}),r.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:["#ffffff","#f8f9fa","#e9ecef","#dee2e6","#f8f5f0","#fff9e6","#e8f4fd","#e6f7ff","#f0f8f0","#fef7f0","#f5f5f5","#000000"].map(U=>r.jsx("button",{onClick:()=>R(U),className:pe("w-6 h-6 rounded border-2 transition-colors",S===U?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-blue-500"),style:{backgroundColor:U},title:U},U))}),r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Custom Color"}),r.jsx("input",{type:"color",value:S||e.props?.backgroundColor||"#ffffff",onChange:U=>R(U.target.value),className:"w-full h-8 rounded border border-gray-300"})]})}),t&&w.resizable&&r.jsx(mR,{capabilities:w.resizable,onResizeStart:K,onResizeEnd:q,isResizing:g,direction:y}),J?r.jsx(Py,{margin:Us(e.type,"spacing.margin")?T:null,border:Us(e.type,"spacing.border")?{width:M,style:I,color:O}:null,padding:Us(e.type,"spacing.padding")?P:null,backgroundColor:w.background?.color?B:null,backgroundImage:w.background?.image?{url:V,size:oe,position:ue,repeat:Ne}:null,borderRadius:w.effects?.borderRadius?e.props.borderRadius:null,isResizing:g,children:i}):r.jsx("div",{className:"element-content",children:i})]})}function mR({capabilities:e,onResizeStart:t,onResizeEnd:n,isResizing:s,direction:i}){const l=[];return e.horizontal&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-right","absolute top-0 right-0 w-2 h-full cursor-ew-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",s&&i==="right"&&"opacity-75"),onMouseDown:d=>t("right",d)},"resize-right")),e.vertical&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-bottom","absolute bottom-0 left-0 w-full h-2 cursor-ns-resize","bg-blue-500 opacity-0 hover:opacity-50 transition-opacity",s&&i==="bottom"&&"opacity-75"),onMouseDown:d=>t("bottom",d)},"resize-bottom")),e.horizontal&&e.vertical&&l.push(r.jsx("div",{className:pe("resize-handle resize-handle-corner","absolute bottom-0 right-0 w-3 h-3 cursor-nw-resize","bg-blue-500 opacity-0 hover:opacity-75 transition-opacity",s&&i==="corner"&&"opacity-100"),onMouseDown:d=>t("corner",d)},"resize-corner")),r.jsx(r.Fragment,{children:l})}function hR({element:e,renderElements:t}){const{children:n=[]}=e;return r.jsx("div",{className:"email-wrapper-content w-full min-h-[200px] relative","data-component":"EmailWrapperElement","data-element-type":"emailWrapper","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?t(n,e.id):r.jsx("div",{className:"p-6 text-center text-gray-400 border-2 border-dashed border-purple-200 rounded-lg min-h-[150px] flex flex-col items-center justify-center",children:r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Email Client Background"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Click to edit the email client background color"}),r.jsx("div",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded text-xs font-medium",children:"Clickable Email Wrapper"})]})})})}function gR({element:e,renderElements:t}){const{children:n=[]}=e;new Date().toISOString();const{margin:s={top:0,right:0,bottom:0,left:0},padding:i={top:0,right:0,bottom:0,left:0},border:l={top:0,right:0,bottom:0,left:0},borderStyle:d="solid",borderColor:u="#000000",backgroundColor:p,backgroundImage:h,backgroundSize:g="cover",backgroundPosition:v="center",backgroundRepeat:y="no-repeat",borderRadius:b=0,boxShadow:k="none"}=e.props||{},{setNodeRef:N}=or({id:`email-container-main-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-drop"}}),{setNodeRef:S,isOver:_}=or({id:`email-container-empty-drop-${e.id}`,data:{parentId:e.id,position:0,type:"email-container-empty-drop"}});return r.jsx("div",{style:{paddingTop:`${s.top}px`,paddingRight:`${s.right}px`,paddingBottom:`${s.bottom}px`,paddingLeft:`${s.left}px`},children:r.jsx(Py,{margin:null,padding:i,border:{width:l,style:d,color:u},backgroundColor:p,backgroundImage:h?{url:h,size:g,position:v,repeat:y}:null,borderRadius:b,boxShadow:k,children:r.jsx("div",{className:"email-container-content w-full h-full min-h-[200px] relative","data-component":"EmailContainerElement","data-element-type":"emailContainer","data-element-id":e.id,"data-is-system":"true","data-children-count":n.length,children:n.length>0?r.jsx("div",{ref:N,className:"min-h-full",children:t(n,e.id)}):r.jsxs("div",{ref:S,className:pe("h-full min-h-[150px] flex flex-col items-center justify-center text-gray-400 transition-all",_&&"bg-blue-50 border-2 border-blue-300 border-dashed"),children:[r.jsx(Ao,{className:"w-10 h-10 mb-3"}),r.jsx("p",{className:"text-sm",children:"Drop elements here"}),_&&r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Release to add element"})]})})})})}function xR({element:e,renderElements:t}){const[n,s]=De.useState(!1),{setNodeRef:i,isOver:l}=or({id:`${e.id}-droppable`,data:{parentId:e.id,position:e.children?.length||0}}),{backgroundColor:d="transparent",backgroundImage:u,backgroundSize:p="cover",backgroundPosition:h="center",backgroundRepeat:g="no-repeat"}=e.props;return r.jsx("div",{ref:i,className:pe("element-content min-h-[50px] transition-all",l&&"bg-primary-50"),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{backgroundColor:d!=="transparent"?d:void 0,backgroundImage:u?`url(${u})`:void 0,backgroundSize:p,backgroundPosition:h,backgroundRepeat:g},children:e.children&&e.children.length>0?t(e.children,e.id):r.jsx("div",{className:pe("py-8 text-center text-sm border-2 border-dashed rounded transition-all",n?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop elements here"})})}function yR({position:e,onFormatText:t,onAlignText:n,onFontSize:s,onTextColor:i,onDelete:l,onMoveUp:d,onMoveDown:u,onStartDrag:p,onSave:h,currentAlign:g="left",currentFontSize:v=16,currentColor:y="#000000",isVisible:b=!1,showElementControls:k=!1}){const N=m.useRef(null);if(m.useEffect(()=>{if(b&&e&&N.current){const w=N.current;w.style.left=`${e.x}px`,w.style.top=`${e.y}px`}},[e,b]),!b)return null;const S=[{icon:gh,command:"bold",title:"Bold (Ctrl+B)"},{icon:Nh,command:"italic",title:"Italic (Ctrl+I)"},{icon:Oh,command:"underline",title:"Underline (Ctrl+U)"},{icon:dl,command:"createLink",title:"Add Link (Ctrl+K)"}],_=[{icon:ph,value:"left",title:"Align Left"},{icon:fh,value:"center",title:"Align Center"},{icon:mh,value:"right",title:"Align Right"}],E=[12,14,16,18,20,24,28,32,36];return r.jsxs("div",{ref:N,className:"fixed z-50 bg-white shadow-lg border border-gray-200 rounded-lg p-2 flex items-center gap-1 pointer-events-auto",style:{position:"fixed",transform:"translateX(-50%)"},children:[k&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),h&&h()},className:"p-2 rounded bg-green-500 hover:bg-green-600 text-white",title:"Save and exit",children:r.jsx(Oo,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation(),p&&p(w)},className:"p-2 rounded hover:bg-gray-100 cursor-move",title:"Drag to move",children:r.jsx(cl,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),d&&d()},className:"p-2 rounded hover:bg-gray-100",title:"Move Up",children:r.jsx(za,{className:"w-4 h-4 text-gray-700"})}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),u&&u()},className:"p-2 rounded hover:bg-gray-100",title:"Move Down",children:r.jsx(Sn,{className:"w-4 h-4 text-gray-700"})}),r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"})]}),r.jsx("div",{className:"flex border-r border-gray-200 pr-2 mr-2",children:S.map(({icon:w,command:T,title:M})=>r.jsx("button",{type:"button",onMouseDown:I=>{I.preventDefault(),I.stopPropagation()},onClick:I=>{I.preventDefault(),I.stopPropagation(),t(T)},className:"p-2 rounded hover:bg-gray-100",title:M,children:r.jsx(w,{className:"w-4 h-4 text-gray-700"})},T))}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(bs,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("select",{value:v,onChange:w=>s(parseInt(w.target.value)),className:"text-sm border border-gray-300 rounded px-2 py-1 min-w-[60px]",children:E.map(w=>r.jsxs("option",{value:w,children:[w,"px"]},w))})]}),r.jsxs("div",{className:"flex items-center border-r border-gray-200 pr-2 mr-2",children:[r.jsx(yr,{className:"w-4 h-4 text-gray-500 mr-1"}),r.jsx("input",{type:"color",value:y,onChange:w=>i(w.target.value),className:"w-8 h-8 border border-gray-300 rounded cursor-pointer",title:"Text Color"})]}),r.jsx("div",{className:"flex",children:_.map(({icon:w,value:T,title:M})=>r.jsx("button",{type:"button",onClick:()=>n(T),className:pe("p-2 rounded transition-colors",g===T?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-700"),title:M,children:r.jsx(w,{className:"w-4 h-4"})},T))}),k&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-6 bg-gray-300 mx-2"}),r.jsx("button",{type:"button",onMouseDown:w=>{w.preventDefault(),w.stopPropagation()},onClick:w=>{w.preventDefault(),w.stopPropagation(),l&&l()},className:"p-2 rounded hover:bg-red-100",title:"Delete Element",children:r.jsx(On,{className:"w-4 h-4 text-red-600"})})]})]})}function vR({element:e}){const{content:t,fontSize:n=16,fontFamily:s="Arial, sans-serif",color:i="#000000",lineHeight:l=1.6,align:d="left",width:u="100%",margin:p={top:0,right:0,bottom:16,left:0},padding:h={top:0,right:0,bottom:0,left:0}}=e.props,[g,v]=m.useState(!1),[y,b]=m.useState(null),[k,N]=m.useState(!1),S=m.useRef(null),_=ut.getState().updateElement,E=ut.getState().deleteElement,w=ut.getState().selectElement,{setEditingTextElement:T,moveElementUpDown:M,isDragging:I}=Zo();m.useEffect(()=>{!g&&S.current&&S.current.innerHTML!==(t||"")&&(S.current.innerHTML=t||"")},[t,g]);const O=R=>{R.stopPropagation(),g||(w(e.id),v(!0),T(e.id),S.current&&(S.current.innerHTML=t||""),setTimeout(()=>{if(S.current){S.current.focus();const G=window.getSelection(),Y=document.createRange();Y.selectNodeContents(S.current),Y.collapse(!1),G.removeAllRanges(),G.addRange(Y),B()}},0))};m.useEffect(()=>{const R=G=>{if(g&&S.current&&!S.current.contains(G.target)){const Y=document.querySelector(".fixed.z-50");if(Y&&Y.contains(G.target))return;V()}};return g&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[g]);const P=()=>{g&&B()};m.useEffect(()=>{!I&&g&&S.current&&B()},[I]),m.useEffect(()=>{if(!g||!k)return;const R=()=>{if(S.current){const J=S.current.getBoundingClientRect();b({x:J.left+J.width/2,y:J.top-50-20})}},G=[];let Y=S.current;for(;Y;){const J=window.getComputedStyle(Y);(Y.scrollHeight>Y.clientHeight||J.overflowY==="scroll"||J.overflowY==="auto"||J.overflow==="scroll"||J.overflow==="auto")&&(G.push(Y),Y.addEventListener("scroll",R,{passive:!0})),Y=Y.parentElement}return window.addEventListener("scroll",R,{passive:!0}),window.addEventListener("resize",R,{passive:!0}),R(),()=>{G.forEach(J=>{J.removeEventListener("scroll",R)}),window.removeEventListener("scroll",R),window.removeEventListener("resize",R)}},[g,k]);const B=()=>{if(S.current){const R=S.current.getBoundingClientRect();b({x:R.left+R.width/2,y:R.top-50-20}),N(!0)}},V=()=>{if(S.current){const R=S.current.innerHTML;_(e.id,{props:{...e.props,content:R}})}v(!1),N(!1),b(null),T(null)},oe=R=>{R.key==="Enter"&&(R.ctrlKey||R.metaKey)&&(R.preventDefault(),V()),R.key==="Escape"&&(R.preventDefault(),V())},ue=R=>{if(R==="createLink"){const G=prompt("Enter URL:");G&&document.execCommand("createLink",!1,G)}else document.execCommand(R,!1,null);S.current?.focus()},Ne=R=>{_(e.id,{props:{...e.props,align:R}})},re=R=>{_(e.id,{props:{...e.props,fontSize:R}})},ke=R=>{_(e.id,{props:{...e.props,color:R}})},ae=R=>{const G=R.target.innerHTML;clearTimeout(window.textUpdateTimeout),window.textUpdateTimeout=setTimeout(()=>{_(e.id,{props:{...e.props,content:G}})},300)},ne=()=>{V(),E(e.id)},F=()=>{M(e.id,"up")},K=()=>{M(e.id,"down")},q=R=>{V();const G=R.target.closest('[data-component="SortableElement"]');if(G){const Y=G.querySelector('[data-drag-handle="true"]');if(Y){const J=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:R.clientX,clientY:R.clientY});Y.dispatchEvent(J)}}},z=()=>{V()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{ref:S,className:`min-h-[20px] element-content ${g?"outline-2 outline-blue-500 outline-dashed":""}`,style:{fontSize:`${n}px`,fontFamily:s,color:i,lineHeight:l,textAlign:d,width:u,marginTop:`${p.top}px`,marginRight:`${p.right}px`,marginBottom:`${p.bottom}px`,marginLeft:`${p.left}px`,paddingTop:`${h.top}px`,paddingRight:`${h.right}px`,paddingBottom:`${h.bottom}px`,paddingLeft:`${h.left}px`,cursor:g?"text":"pointer",minHeight:"1em"},contentEditable:g,suppressContentEditableWarning:!0,onClick:O,onKeyDown:g?oe:void 0,onInput:g?ae:void 0,onMouseUp:g?P:void 0,onKeyUp:g?P:void 0,"data-component":"TextElement","data-element-type":"text","data-element-id":e.id,"data-is-editing":g?"true":"false"}),r.jsx(yR,{position:y,isVisible:k&&g&&!I,onFormatText:ue,onAlignText:Ne,onFontSize:re,onTextColor:ke,onDelete:ne,onMoveUp:F,onMoveDown:K,onStartDrag:q,onSave:z,currentAlign:d,currentFontSize:n,currentColor:i,showElementControls:!0}),g&&r.jsx("div",{className:"absolute bottom-[-30px] left-0 right-0 text-xs text-gray-500 text-center bg-white px-2 py-1 rounded shadow-sm",children:"Press Ctrl+Enter or click outside to finish  ESC to cancel"})]})}function bR({element:e}){const{text:t="Button",href:n="#",backgroundColor:s="#007cba",color:i="#ffffff",fontSize:l=16,fontWeight:d="normal",borderRadius:u=4,align:p="left",fullWidth:h=!1,target:g="_blank"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:p},children:r.jsx("a",{href:n,target:g,rel:g==="_blank"?"noopener noreferrer":void 0,className:"inline-block no-underline transition-opacity hover:opacity-80",style:{backgroundColor:s,color:i,fontSize:`${l}px`,fontWeight:d,borderRadius:`${u}px`,width:h?"100%":"auto",textAlign:"center",padding:"12px 24px"},children:t})})}function wR({element:e}){const{src:t,alt:n="Image",width:s="auto",height:i="auto",align:l="left",link:d,target:u="_blank"}=e.props,p=r.jsx("img",{src:t||"https://via.placeholder.com/600x300",alt:n,style:{width:s,height:i,maxWidth:"100%",display:"block",border:"0",outline:"none",textDecoration:"none",msInterpolationMode:"bicubic"}});return r.jsx("div",{className:"element-content",style:{textAlign:l},children:d?r.jsx("a",{href:d,target:u,rel:u==="_blank"?"noopener noreferrer":void 0,style:{textDecoration:"none",border:"0",outline:"none"},children:p}):p})}function jR({element:e}){const{height:t=20}=e.props;return r.jsx("div",{className:"element-content bg-transparent",style:{height:`${t}px`,fontSize:"0",lineHeight:"0"},children:""})}function NR({element:e}){const{height:t=1,color:n="#cccccc",style:s="solid",align:i="center",width:l="100%"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:i},children:r.jsx("hr",{style:{height:`${t}px`,width:l,backgroundColor:s==="solid"?n:"transparent",border:"none",borderTop:s==="dashed"?`${t}px dashed ${n}`:s==="dotted"?`${t}px dotted ${n}`:void 0,margin:0,display:"block",fontSize:"0",lineHeight:"0"}})})}function kR({element:e,renderElements:t}){const{columns:n=2,gap:s=16,stackOnMobile:i=!0}=e.props,l=Array(n).fill(null).map((d,u)=>e.children?.[u]||{type:"column",children:[]});return r.jsx("div",{className:"element-content flex flex-wrap",style:{gap:`${s}px`},"data-stack-mobile":i,children:l.map((d,u)=>r.jsx(SR,{columnId:`${e.id}-col-${u}`,parentId:e.id,index:u,width:`${100/n}%`,gap:s,renderElements:t,children:d.children||[]},u))})}function SR({columnId:e,parentId:t,index:n,width:s,gap:i,renderElements:l,children:d}){const[u,p]=De.useState(!1),{setNodeRef:h,isOver:g}=or({id:e,data:{parentId:t,position:n,isColumn:!0}});return r.jsx("div",{ref:h,className:pe("min-h-[100px] transition-all",g&&"bg-primary-50"),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),style:{flex:`0 0 calc(${s} - ${i}px)`},children:d.length>0?l(d,e):r.jsx("div",{className:pe("h-full flex items-center justify-center text-sm border-2 border-dashed rounded p-4 transition-all",u?"text-blue-500 border-blue-300":"text-gray-400 border-gray-300"),children:"Drop here"})})}const CR={facebook:{icon:"",defaultUrl:"https://facebook.com",label:"Facebook"},twitter:{icon:"",defaultUrl:"https://twitter.com",label:"Twitter"},instagram:{icon:"",defaultUrl:"https://instagram.com",label:"Instagram"},linkedin:{icon:"",defaultUrl:"https://linkedin.com",label:"LinkedIn"},youtube:{icon:"",defaultUrl:"https://youtube.com",label:"YouTube"},pinterest:{icon:"",defaultUrl:"https://pinterest.com",label:"Pinterest"}};function ER({element:e}){const{icons:t=["facebook","twitter","instagram"],iconSize:n=32,iconColor:s="#333333",spacing:i=8,align:l="left"}=e.props;return r.jsx("div",{className:"element-content",style:{textAlign:l},children:r.jsx("div",{className:"inline-flex items-center",style:{gap:`${i}px`},children:t.map(d=>{const u=CR[d];return u?r.jsx("a",{href:u.defaultUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center transition-opacity hover:opacity-70",style:{width:`${n}px`,height:`${n}px`,fontSize:`${n*.6}px`,color:s},title:u.label,children:r.jsx("span",{children:u.icon})},d):null})})})}function _R({element:e}){const{field:t="email",fallback:n="[Form Field]",format:s="text"}=e.props,i=t?`{${t}}`:n;return r.jsx("div",{className:"element-content inline-block px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm",children:i})}function TR({element:e}){const{content:t=""}=e.props,[n,s]=m.useState(!1),[i,l]=m.useState(!0),[d,u]=m.useState(t),p=m.useRef(null),h=ut.getState().updateElement;m.useEffect(()=>{n||u(t)},[t,n]),m.useEffect(()=>{n&&p.current&&(p.current.style.height="auto",p.current.style.height=Math.max(100,p.current.scrollHeight)+"px")},[d,n]);const g=b=>{b.stopPropagation(),n||(s(!0),setTimeout(()=>p.current?.focus(),0))},v=()=>{h(e.id,{props:{...e.props,content:d}}),s(!1)},y=b=>{b.key==="Escape"&&(b.preventDefault(),u(t),s(!1)),b.key==="Enter"&&(b.ctrlKey||b.metaKey)&&(b.preventDefault(),v())};return n?r.jsxs("div",{className:"border-2 border-blue-500 rounded overflow-hidden","data-component":"HtmlElement","data-element-id":e.id,"data-is-editing":"true",children:[r.jsxs("div",{className:"bg-gray-800 px-3 py-2 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-300 font-mono",children:"HTML Block"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>l(!i),className:pe("flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors",i?"bg-gray-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[i?r.jsx(Qd,{className:"w-3 h-3"}):r.jsx(Io,{className:"w-3 h-3"}),i?"Hide Preview":"Show Preview"]}),r.jsxs("button",{onClick:v,className:"flex items-center gap-1 bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition-colors",children:[r.jsx(Ta,{className:"w-3 h-3"}),"Save"]})]})]}),r.jsxs("div",{className:pe("flex",i?"flex-row":"flex-col"),children:[r.jsx("div",{className:pe("bg-gray-900",i?"w-1/2":"w-full"),children:r.jsx("textarea",{ref:p,value:d,onChange:b=>u(b.target.value),onKeyDown:y,className:"w-full min-h-[100px] bg-gray-900 text-gray-100 font-mono text-sm p-3 border-0 outline-none resize-none",placeholder:"Enter your HTML code here...",spellCheck:!1})}),i&&r.jsxs("div",{className:"w-1/2 bg-white border-l border-gray-700",children:[r.jsx("div",{className:"bg-gray-100 px-3 py-1 text-xs text-gray-500 border-b",children:"Preview"}),r.jsx("div",{className:"p-3 prose max-w-none min-h-[100px]",children:d?r.jsx("div",{dangerouslySetInnerHTML:{__html:d}}):r.jsx("span",{className:"text-gray-400",children:"Preview will appear here..."})})]})]}),r.jsx("div",{className:"bg-gray-800 px-3 py-1 text-xs text-gray-500 text-center",children:"Ctrl+Enter to save | ESC to cancel"})]}):r.jsxs("div",{onClick:g,className:"relative cursor-pointer group min-h-[40px]","data-component":"HtmlElement","data-element-id":e.id,children:[r.jsxs("div",{className:"absolute top-1 right-1 bg-gray-700 text-white text-xs px-1.5 py-0.5 rounded opacity-60 group-hover:opacity-100 flex items-center gap-1 z-10",children:[r.jsx(Zt,{className:"w-3 h-3"}),r.jsx("span",{children:"HTML"})]}),t?r.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t}}):r.jsx("div",{className:"text-gray-400 text-center py-4 border-2 border-dashed border-gray-300 rounded",children:"Click to add HTML code"}),r.jsx("div",{className:"absolute inset-0 bg-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:"Click to edit HTML"})})]})}const zR={emailWrapper:hR,emailContainer:gR,section:xR,text:vR,button:bR,image:wR,spacer:jR,divider:NR,columns:kR,social:ER,formData:_R,html:TR};function RR({element:e,renderElements:t,isSelected:n,isHovered:s=!1,onElementUpdate:i,onCapabilityAction:l,onEdit:d,isMobile:u}){const p=zR[e.type];return p?r.jsx(pR,{element:e,isSelected:n,isHovered:s,renderElements:t,onElementUpdate:i,onCapabilityAction:l,onEdit:d,isMobile:u,children:r.jsx(p,{element:e,renderElements:t})}):r.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm",children:["Unknown element type: ",e.type]})}function My({element:e,index:t,parentId:n,isSelected:s,onSelect:i,renderElements:l,isMobile:d}){const[u,p]=m.useState(!1),{deleteElement:h,editingTextElementId:g}=Zo(),y=Cf(e.type).layout?.isSystemElement,{attributes:b,listeners:k,setNodeRef:N,transform:S,transition:_,isDragging:E}=Ku({id:e.id,disabled:y,data:{type:"canvas-element",elementId:e.id,parentId:n,position:t}}),w={transform:wr.Transform.toString(S),transition:_,opacity:E?.5:void 0},T=B=>{B.stopPropagation(),confirm("Are you sure you want to delete this element?")&&h(e.id)},M=B=>{B.stopPropagation(),i(),e.type==="text"&&setTimeout(()=>{const V=B.target.closest('[data-component="SortableElement"]')?.querySelector('[data-component="TextElement"]');V&&V.click()},50)},I=B=>{if(e.type==="emailWrapper"){B.stopPropagation();return}if(e.type==="emailContainer"){const V=B.currentTarget.getBoundingClientRect(),oe=B.clientX,ue=parseInt(e.props?.width||"600px"),Ne=V.left+(V.width-ue)/2,re=Ne+ue;oe>=Ne&&oe<=re&&(B.stopPropagation(),i());return}B.stopPropagation(),i()},O=(B,V,oe)=>{console.log("Element update:",B,V,oe)},P=(B,V,oe)=>{console.log("Capability action:",B,V,oe)};return r.jsxs("div",{ref:N,style:w,className:pe("relative group transition-all duration-200",E&&"z-50",y&&"cursor-default"),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),"data-component":"SortableElement","data-element-type":e.type,"data-element-id":e.id,"data-is-system":y?"true":"false","data-is-sortable":y?"false":"true","data-is-selected":s?"true":"false","data-is-hovered":u?"true":"false","data-is-dragging":E?"true":"false",children:[u&&!E&&!y&&g!==e.id&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:r.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[r.jsx("button",{onClick:M,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Edit element",children:r.jsx(vr,{className:"w-5 h-5 text-gray-700"})}),r.jsx("button",{onClick:T,className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110",title:"Delete element",children:r.jsx(On,{className:"w-5 h-5 text-red-600"})}),r.jsx("button",{...k,...b,"data-drag-handle":"true",className:"p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-110 cursor-move",title:"Drag to reposition",children:r.jsx(cl,{className:"w-5 h-5 text-gray-700"})})]})}),r.jsx("div",{onClick:I,className:"cursor-pointer transition-all",children:r.jsx(RR,{element:e,renderElements:l,isSelected:s,isHovered:u&&!E,onElementUpdate:O,isMobile:d,onCapabilityAction:P,onEdit:M})})]})}function DR({isMobile:e=!1}){const{elements:t,isDragging:n,selectElement:s,selectedElementId:i,setElements:l}=Zo();De.useEffect(()=>{(!t||t.length===0)&&l([])},[t,l]);const d=(h,g=null)=>{if(!h||h.length===0)return g?null:r.jsx(u,{parentId:null,position:0,children:r.jsxs("div",{className:"py-12 text-center text-gray-400",children:[r.jsx("svg",{className:"w-10 h-10 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r.jsx("p",{className:"text-sm",children:"Drag elements here to start building"})]})});const v=h.filter(k=>k.type!=="emailWrapper"&&k.type!=="emailContainer").map(k=>k.id),y=h.filter(k=>k.type==="emailWrapper"||k.type==="emailContainer"),b=h.filter(k=>k.type!=="emailWrapper"&&k.type!=="emailContainer");return r.jsxs(r.Fragment,{children:[y.map(k=>r.jsx("div",{className:"system-element-container",children:r.jsx(My,{element:k,index:0,parentId:g,isSelected:i===k.id,onSelect:()=>s(k.id),renderElements:d,isMobile:e})},k.id)),r.jsxs(qu,{items:v,strategy:Yu,children:[r.jsx(u,{parentId:g,position:0,elementCount:b.length}),b.map((k,N)=>r.jsxs(De.Fragment,{children:[r.jsx(My,{element:k,index:N,parentId:g,isSelected:i===k.id,onSelect:()=>s(k.id),renderElements:d,isMobile:e}),r.jsx(u,{parentId:g,position:N+1,elementCount:b.length})]},k.id))]})]})};function u({parentId:h,position:g,children:v,elementCount:y=0}){const{setNodeRef:b,isOver:k}=or({id:`dropzone-${h||"root"}-${g}`,data:{parentId:h,position:g,type:"dropzone"}}),N=!h||g===0&&h&&h.includes("email-wrapper");return r.jsxs("div",{ref:b,className:pe(N?"min-h-0":"min-h-[4px]","transition-all relative",!N&&n&&"min-h-[8px]",!N&&k&&"min-h-[30px]"),"data-component":"DropZone","data-parent-id":h||"root","data-position":g,"data-is-over":k?"true":"false","data-should-hide":N?"true":"false",children:[!N&&k&&r.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 h-1 bg-blue-500 rounded"}),v]})}const p=h=>{h.target===h.currentTarget&&s(null)};return r.jsx("div",{className:pe("min-h-[100px] transition-colors",n&&"bg-gray-50"),onClick:p,children:d(t)})}const Ef=rx(ox((e,t)=>({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null,initializeStore:n=>{e({emails:n.emails||[],activeEmailId:n.emails?.[0]?.id||null,translations:n.translations||{}})},addEmail:()=>{const n={id:`email_${Date.now()}`,enabled:!0,description:"New Email",to:"{email}",from_email:"",from_name:"{option_blogname}",subject:"New submission",body:"<p>The following information has been sent:</p>{loop_fields}",attachments:[],reply_to:{enabled:!1,email:"",name:""},cc:"",bcc:"",template:{slug:"none"},conditions:{enabled:!1,f1:"",logic:"==",f2:""},schedule:{enabled:!1,schedules:[]}};e(s=>({emails:[...s.emails,n],activeEmailId:n.id,isDirty:!0}))},removeEmail:n=>{e(s=>{const i=s.emails.filter(d=>d.id!==n),l=s.activeEmailId===n?i[0]?.id||null:s.activeEmailId;return{emails:i,activeEmailId:l,isDirty:!0}})},updateEmail:(n,s)=>{e(i=>({emails:i.emails.map(l=>l.id===n?{...l,...s}:l),isDirty:!0}))},updateEmailField:(n,s,i)=>{e(l=>({emails:l.emails.map(u=>{if(u.id!==n)return u;const p=s.split("."),h={...u};let g=h;for(let v=0;v<p.length-1;v++){const y=p[v];g[y]={...g[y]},g=g[y]}return g[p[p.length-1]]=i,h}),isDirty:!0}))},setActiveEmailId:n=>{e({activeEmailId:n})},getActiveEmail:()=>{const n=t();return n.emails.find(s=>s.id===n.activeEmailId)},setActiveLanguage:n=>{e({activeLanguage:n})},updateTranslation:(n,s,i,l)=>{e(d=>{const u={...d.translations};return u[i]||(u[i]={}),u[i][n]||(u[i][n]={}),u[i][n][s]=l,{translations:u,isDirty:!0}})},reorderEmails:(n,s)=>{e(i=>{const l=[...i.emails],[d]=l.splice(n,1);return l.splice(s,0,d),{emails:l,isDirty:!0}})},save:async(n,s,i)=>{const l=t();e({isSaving:!0,error:null});try{const d=new FormData;d.append("action","super_save_form_emails"),d.append("form_id",n),d.append("nonce",i),d.append("emails",JSON.stringify(l.emails)),d.append("translations",JSON.stringify(l.translations));const u=await fetch(s,{method:"POST",body:d}),p=await u.json();if(!u.ok||!p.success)throw new Error(p.message||"Failed to save");return e({isSaving:!1,isDirty:!1}),{success:!0}}catch(d){return e({isSaving:!1,error:d.message}),{success:!1,error:d.message}}},reset:()=>{e({emails:[],activeEmailId:null,activeLanguage:"default",translations:{},isDirty:!1,isSaving:!1,error:null})}})));function Iy(){const{activeEmailId:e,emails:t}=Ef(),n=t.find(y=>y.id===e),[s,i]=m.useState("dummy"),[l,d]=m.useState(""),[u,p]=m.useState(()=>window.superEmailsData?.currentUserEmail||""),[h,g]=m.useState({type:null,message:""}),v=m.useCallback(async()=>{if(!u){g({type:"error",message:"Please enter a recipient email address"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){g({type:"error",message:"Please enter a valid email address"});return}if(!n){g({type:"error",message:"No email selected"});return}const{formId:b,ajaxUrl:k,nonce:N}=window.superEmailsData||{};if(!k||!N){g({type:"error",message:"WordPress context not available"});return}g({type:"loading",message:"Sending test email..."});try{const S={from:n.from_email||"",from_name:n.from_name||"",reply:n.reply_to?.email||"",reply_name:n.reply_to?.name||"",cc:n.cc||"",bcc:n.bcc||"",subject:n.subject||"Test Email",body:n.body||"",attachments:n.attachments||[],loop_open:'<table cellpadding="5" style="border-collapse: collapse;">',loop:'<tr><th valign="top" align="right" style="padding: 8px; border-bottom: 1px solid #eee;">{loop_label}</th><td style="padding: 8px; border-bottom: 1px solid #eee;">{loop_value}</td></tr>',loop_close:"</table>",exclude_empty:!0},_=new FormData;_.append("action","super_send_test_email"),_.append("nonce",N),_.append("form_id",b||0),_.append("data_type",s),_.append("entry_id",s==="entry"?l:""),_.append("test_recipient",u),Object.entries(S).forEach(([T,M])=>{Array.isArray(M)?M.forEach((I,O)=>{_.append(`email_settings[${T}][${O}]`,I)}):_.append(`email_settings[${T}]`,M)});const w=await(await fetch(k,{method:"POST",body:_,credentials:"same-origin"})).json();w.success?(g({type:"success",message:w.data?.message||"Test email sent!"}),setTimeout(()=>g({type:null,message:""}),5e3)):g({type:"error",message:w.data?.message||"Failed to send test email"})}catch(S){console.error("Test email error:",S),g({type:"error",message:"Network error - please try again"})}},[n,s,l,u]);return n?r.jsx("div",{className:"bg-gray-50 border-t border-b border-gray-200 px-4 py-2",children:r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Test Data:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"dataType",value:"dummy",checked:s==="dummy",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Dummy data"})]}),r.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"dataType",value:"entry",checked:s==="entry",onChange:y=>i(y.target.value),className:"w-3.5 h-3.5 text-primary-500 border-gray-300 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Entry data"})]})]})]}),s==="entry"&&r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("input",{type:"text",value:l,onChange:y=>d(y.target.value),placeholder:"Entry ID (empty = latest)",className:"w-40 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"email",value:u,onChange:y=>p(y.target.value),placeholder:"recipient@example.com",className:"w-52 px-2.5 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),r.jsxs("button",{type:"button",onClick:v,disabled:h.type==="loading",className:pe("inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded transition-colors",h.type==="loading"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-500 text-white hover:bg-primary-600"),children:[h.type==="loading"?r.jsx(ul,{className:"w-4 h-4 animate-spin"}):r.jsx(vs,{className:"w-4 h-4"}),r.jsx("span",{children:"Send Test"})]})]}),h.type&&h.type!=="loading"&&r.jsxs("div",{className:pe("flex items-center gap-1.5 text-sm",h.type==="success"&&"text-green-600",h.type==="error"&&"text-red-600"),children:[h.type==="success"&&r.jsx(Ji,{className:"w-4 h-4"}),h.type==="error"&&r.jsx(Mo,{className:"w-4 h-4"}),r.jsx("span",{children:h.message})]})]})}):null}const Ly=[{id:"desktop",name:"Desktop",icon:$a,component:Nf},{id:"mobile",name:"Mobile",icon:Pa,component:Nf}];function $R({value:e,onChange:t}){const[n,s]=m.useState(e||"");m.useEffect(()=>{s(e||"")},[e]);const i=l=>{const d=l.target.value;s(d),clearTimeout(window.htmlEditorTimeout),window.htmlEditorTimeout=setTimeout(()=>{t(d)},300)};return r.jsxs("div",{className:"min-h-[300px] bg-gray-900 rounded overflow-hidden",children:[r.jsx("div",{className:"bg-gray-800 px-3 py-2 text-xs text-gray-400 border-b border-gray-700 font-mono",children:"HTML Source"}),r.jsx("textarea",{value:n,onChange:i,className:"w-full min-h-[300px] bg-gray-900 text-gray-100 font-mono text-sm p-4 border-0 outline-none resize-y",placeholder:"Enter your HTML email content here...",spellCheck:!1})]})}function PR(){const[e,t]=m.useState("desktop"),[n,s]=m.useState(null),{activeEmailId:i,emails:l,updateEmailField:d,activeLanguage:u,translations:p,setActiveLanguage:h}=Ef(),{elements:g,setElements:v,isDragging:y,draggedElement:b,startDrag:k,endDrag:N,addElement:S,moveElement:_,generateHtml:E,elementTypes:w}=Zo(),T=l.find(re=>re.id===i),M=Ly.find(re=>re.id===e)?.component||Nf,I=T?.body_type==="html";m.useEffect(()=>{T&&!I&&(T.template&&typeof T.template=="object"&&T.template.elements?v(T.template.elements):v([]))},[T,v,I]),m.useEffect(()=>{if(T&&!I&&g.length>0){const re=E(),ke=setTimeout(()=>{d(i,"template",{elements:g,html:re}),d(i,"body",re)},500);return()=>clearTimeout(ke)}},[g,T,i,E,d,I]);const O=m.useCallback(re=>{re==="html"&&!I?s({title:"Switch to HTML Mode",message:"Your visual elements will be converted to raw HTML code. You can edit the HTML directly.",confirmText:"Switch to HTML",onConfirm:()=>{const ke=E();d(i,"body",ke),d(i,"body_type","html"),s(null)},onCancel:()=>s(null)}):re==="visual"&&I&&s({title:"Switch to Visual Mode",message:"Your HTML content will be placed in an editable HTML block within the visual builder.",confirmText:"Switch to Visual",onConfirm:()=>{const ae=[{id:Ln(),type:"html",props:{content:T.body||""},children:[]}];d(i,"body_type","visual"),d(i,"template",{elements:ae,html:T.body||""}),v(ae),s(null)},onCancel:()=>s(null)})},[I,i,T,E,d,v]),P=re=>{const{active:ke,over:ae}=re;if(!ae){N();return}const ne=ke.data.current,F=ae.data.current;if(ne.type==="new-element"){const K=F?.position!==void 0?F.position:null,q=F?.parentId||null;S(ne.elementType,q,K)}else if(ne.type==="canvas-element"&&ke.id!==ae.id){const K=F?.position!==void 0?F.position:null,q=F?.parentId||null;_(ke.id,q,K)}N()},B=re=>{const{active:ke}=re,ae=ke.data.current;if(ae.type==="new-element"){const ne=Zo.getState().elementTypes[ae.elementType];k(ne)}};if(!T)return r.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Select an email to preview"})]})});const V={...T,body:I?T.body:g.length>0?E():T.body},oe=r.jsx("div",{className:"bg-white border-b px-4 py-2 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hn,{value:T.description,onChange:re=>d(i,"description",re),placeholder:"Untitled Email",className:"text-sm font-medium text-gray-700",showEditIcon:!0}),r.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded",children:I?"HTML":"Visual"})]}),p&&Object.keys(p).length>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(eu,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:u,onChange:re=>h(re.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:[r.jsx("option",{value:"default",children:"Default"}),Object.entries(p).map(([re,ke])=>r.jsx("option",{value:re,children:ke.name||re},re))]})]})]}),r.jsx("div",{className:"flex gap-1",children:Ly.map(re=>{const ke=re.icon;return r.jsxs("button",{onClick:()=>t(re.id),className:pe("px-3 py-1 rounded-md text-sm transition-colors flex items-center gap-1",e===re.id?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:re.name,children:[r.jsx(ke,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:re.name})]},re.id)})})]})}),ue=n&&r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center overflow-x-hidden overflow-y-auto bg-black/50",children:r.jsxs("div",{className:"bg-white border border-gray-200 shadow-lg rounded-xl max-w-lg w-full mx-4",children:[r.jsx("div",{className:"flex justify-between items-center py-3 px-4 border-b border-gray-200",children:r.jsx("h3",{className:"font-bold text-gray-800",children:n.title})}),r.jsx("div",{className:"p-4",children:r.jsx("p",{className:"text-gray-600",children:n.message})}),r.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:n.onCancel,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"button",onClick:n.onConfirm,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700",children:n.confirmText})]})]})}),Ne=()=>I?r.jsx($R,{value:T.body,onChange:re=>d(i,"body",re)}):r.jsx(DR,{isMobile:e==="mobile"});return I?r.jsxs("div",{className:"h-full flex flex-col bg-gray-100",children:[oe,ue,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(M,{email:V,isMobile:e==="mobile",isBuilder:!0,renderBody:Ne,updateEmailField:d,activeEmailId:i,isHtmlMode:I,onModeChange:O})}),r.jsx(Iy,{})]})]}):r.jsxs(Zu,{collisionDetection:Pu,onDragEnd:P,onDragStart:B,children:[r.jsxs("div",{className:"h-full flex flex-col bg-gray-100",children:[oe,ue,r.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"flex-1 overflow-auto",children:r.jsx(M,{email:V,isMobile:e==="mobile",isBuilder:!0,renderBody:Ne,updateEmailField:d,activeEmailId:i,isHtmlMode:I,onModeChange:O})}),r.jsx(Iy,{}),r.jsx("div",{className:"bg-white border-t",children:r.jsx(dR,{})})]})]}),r.jsx(Hx,{children:b&&r.jsx("div",{className:"bg-white rounded shadow-lg p-3 opacity-90",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:b.icon}),r.jsx("span",{className:"text-sm font-medium",children:b.name})]})})})]})}function MR({isOpen:e,onClose:t,node:n,onUpdateNode:s}){const[i,l]=m.useState({to:n.config.to||"",subject:n.config.subject||"",from:n.config.from||"{admin_email}",replyTo:n.config.replyTo||"",template:n.config.template||null}),[d,u]=m.useState(!0),p=n.config._enabled!==!1;m.useEffect(()=>{l({to:n.config.to||"",subject:n.config.subject||"",from:n.config.from||"{admin_email}",replyTo:n.config.replyTo||"",template:n.config.template||null})},[n.id]);const h=m.useCallback(b=>{l(k=>({...k,template:b}))},[]),g=(b,k)=>{l(N=>({...N,[b]:k}))},v=()=>{s(n.id,{config:{...n.config,_enabled:!p}})},y=()=>{s(n.id,{config:{...n.config,...i}}),t()};return r.jsx(ff,{open:e,onOpenChange:b=>!b&&t(),children:r.jsxs(ic,{className:"max-w-[95vw] w-[95vw] h-[90vh] max-h-[90vh] p-0 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-white",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:r.jsx(Lr,{className:"w-5 h-5 text-blue-600"})}),r.jsx("div",{children:r.jsxs(lc,{className:"p-0 space-y-0",children:[r.jsx(cc,{className:"text-lg font-semibold",children:"Send Email"}),r.jsx(dc,{className:"text-sm text-gray-500",children:"Configure the email that will be sent when this action triggers"})]})})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Eh,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:p?"Enabled":"Disabled"}),r.jsx("button",{onClick:v,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${p?"bg-green-500":"bg-gray-300"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm ${p?"translate-x-6":"translate-x-1"}`})})]}),r.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Oo,{className:"w-4 h-4"}),"Save & Close"]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Gt,{className:"w-5 h-5 text-gray-500"})})]})]}),r.jsxs("div",{className:"border-b bg-gray-50",children:[r.jsxs("button",{onClick:()=>u(!d),className:"w-full flex items-center justify-between px-6 py-3 hover:bg-gray-100 transition-colors",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email Settings"}),d?r.jsx(za,{className:"w-4 h-4 text-gray-500"}):r.jsx(Sn,{className:"w-4 h-4 text-gray-500"})]}),d&&r.jsxs("div",{className:"px-6 pb-4 grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To"}),r.jsx("input",{type:"text",value:i.to,onChange:b=>g("to",b.target.value),placeholder:"{email} or recipient@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Use ","{field_name}"," to insert form field values"]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),r.jsx("input",{type:"text",value:i.subject,onChange:b=>g("subject",b.target.value),placeholder:"Email subject line",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From"}),r.jsx("input",{type:"text",value:i.from,onChange:b=>g("from",b.target.value),placeholder:"{admin_email}",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reply-To"}),r.jsx("input",{type:"text",value:i.replyTo,onChange:b=>g("replyTo",b.target.value),placeholder:"Optional reply-to address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsx(IR,{node:n,emailConfig:i,onChange:h})]})})}function IR({node:e,emailConfig:t,onChange:n}){const{initializeStore:s,activeEmailId:i,emails:l,reset:d}=Ef();return m.useEffect(()=>{const u={id:`temp-${e.id}`,description:"Email Template",subject:t.subject,to:t.to,from:t.from,replyTo:t.replyTo,body:t.template?.html||"",body_type:"visual",template:t.template||{elements:[],html:""}};return s({emails:[u]}),()=>{d()}},[e.id,t,s,d]),m.useEffect(()=>{if(i&&l.length>0){const u=l.find(p=>p.id===i);u?.template&&n({elements:u.template.elements||[],html:u.template.html||""})}},[l,i,n]),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx(PR,{})})}function LR({formId:e,automationId:t}){const n=Uz(),[s,i]=m.useState("Untitled Workflow"),[l,d]=m.useState(null),[u,p]=m.useState(!1),h=m.useRef(null),[g,v]=m.useState(!1),[y,b]=m.useState(null),[k,N]=m.useState(!1),[S,_]=m.useState(null);m.useEffect(()=>{t&&E(t)},[t]);const E=async K=>{try{const q=await fetch(`${window.sfuiData.restUrl}/automations/${K}`,{headers:{"X-WP-Nonce":window.sfuiData.restNonce}});if(!q.ok)throw new Error("Failed to load workflow");const z=await q.json();if(i(z.name||"Untitled Workflow"),z.workflow_graph){const R=JSON.parse(z.workflow_graph);n.loadWorkflow(R)}}catch(q){console.error("Failed to load workflow:",q),alert("Failed to load workflow. Please try again.")}},w=async()=>{if(!s.trim()){alert("Please enter a workflow name");return}p(!0);try{const K=n.exportWorkflow();if(!n.nodes.find(J=>J.type.startsWith("form.")||J.type.startsWith("entry.")||J.type.startsWith("payment.")||J.type.startsWith("session."))){alert("Please add at least one trigger node (event) to your workflow"),p(!1);return}const z={name:s,type:"visual",workflow_graph:JSON.stringify(K),enabled:!0},R=t?`${window.sfuiData.restUrl}/automations/${t}`:`${window.sfuiData.restUrl}/automations`,G=await fetch(R,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.sfuiData.restNonce},body:JSON.stringify(z)});if(!G.ok){const J=await G.json();throw new Error(J.message||"Failed to save workflow")}const Y=await G.json();alert("Workflow saved successfully!"),!t&&Y.id&&(window.location.href=`${window.location.pathname}?page=super_create_form&id=${e}&tab=automations&automation_id=${Y.id}`)}catch(K){console.error("Failed to save workflow:",K),alert("Failed to save workflow. Please try again.")}finally{p(!1)}},T=m.useCallback(K=>{K.preventDefault();const q=K.dataTransfer.getData("application/super-forms-node");if(!q||!h.current)return;const z=h.current.getBoundingClientRect(),R=K.clientX-z.left,G=K.clientY-z.top,Y=n.screenToCanvas(R,G);n.addNode(q,Y)},[n]),M=m.useCallback(K=>{K.preventDefault(),K.dataTransfer.dropEffect="copy"},[]),I=m.useCallback((K,q)=>{n.selectNode(K,q),d(K)},[n]),O=m.useCallback((K,q)=>{n.endConnection(K,q)},[n]),P=m.useCallback(K=>{b(K),v(!0)},[]),B=m.useCallback((K,q)=>{const z=n.addNode(K,q);if(z&&n.connectionStart){const G=Object.values(n.nodes).find(Y=>Y.type===K)?.config?.inputs?.[0]||"data";n.endConnection(z,G)}v(!1),b(null)},[n]),V=m.useCallback((K,q,z)=>{},[]),oe=m.useCallback((K,q)=>{n.updateNode(K,{position:q})},[n]),ue=m.useCallback(()=>{},[]),Ne=l&&n.nodes.find(K=>K.id===l)||null,re=m.useCallback(()=>{n.nodes.length!==0&&confirm("Are you sure you want to clear this workflow? This action cannot be undone.")&&(n.clearWorkflow(),d(null))},[n]),ke=m.useCallback(()=>{alert("Test functionality coming soon! This will fire a test event with sample data.")},[]),ae=m.useCallback(()=>{alert("Preview functionality coming soon! This will show the workflow execution flow.")},[]),ne=m.useCallback(K=>{_(K),N(!0)},[]),F=m.useCallback(()=>{N(!1),_(null)},[]);return r.jsxs("div",{className:"visual-builder flex flex-col h-full bg-gray-100",children:[r.jsx(tR,{workflowName:s,onWorkflowNameChange:i,onSave:w,onUndo:n.undo,onRedo:n.redo,onClear:re,onTest:ke,onPreview:ae,canUndo:n.canUndo,canRedo:n.canRedo,isSaving:u}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsx("div",{className:"w-80 flex-shrink-0",children:r.jsx(Jz,{onAddNode:(K,q)=>n.addNode(K,q)})}),r.jsx("div",{ref:h,className:"flex-1 relative",onDrop:T,onDragOver:M,children:r.jsx(Kz,{nodes:n.nodes,connections:n.connections,groups:n.groups,viewport:n.viewport,selectedNodes:n.selectedNodes,selectedConnections:n.selectedConnections,onNodeClick:I,onNodeDragStart:V,onNodeDrag:oe,onNodeDragEnd:ue,onCanvasPan:n.panViewport,onCanvasClick:()=>{n.clearSelection(),d(null)},onZoom:n.zoomViewport,dragState:n.dragState,setDragState:n.setDragState,isConnecting:n.isConnecting,connectionStart:n.connectionStart,onConnectionStart:n.startConnection,onConnectionEnd:O,onConnectionDropOnCanvas:P,onConnectionClick:K=>{},onDeleteConnection:n.deleteConnection,onCancelConnection:n.cancelConnection,onSelectNodesInRect:n.selectNodes,onUpdateGroup:n.updateGroup,onRemoveGroup:n.removeGroup,onMoveGroup:n.moveGroup})}),Ne&&r.jsx("div",{className:"w-96 flex-shrink-0",children:r.jsx(eR,{selectedNode:Ne,onUpdateNode:n.updateNode,onClose:()=>{n.clearSelection(),d(null)},onOpenEmailBuilder:ne})})]}),S&&r.jsx(MR,{isOpen:k,onClose:F,node:S,onUpdateNode:n.updateNode}),r.jsx(nR,{isOpen:g,onClose:()=>{v(!1),b(null),n.cancelConnection()},connectionStart:n.connectionStart,position:y,onCreateAndConnect:B})]})}function Oy({formId:e}){const t=new URLSearchParams(window.location.search),n=t.get("automation_id")?parseInt(t.get("automation_id")):null;return r.jsx("div",{className:"automations-tab h-full",children:r.jsx(LR,{formId:e,automationId:n})})}const OR=Object.freeze(Object.defineProperty({__proto__:null,AutomationsTab:Oy},Symbol.toStringTag,{value:"Module"}));function AR({formId:e,forms:t,restUrl:n,restNonce:s}){return e?r.jsx(Oy,{formId:e}):r.jsx("div",{className:"flex items-center justify-center h-full p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Form Selected"}),r.jsx("p",{className:"text-gray-600",children:"Please select a form to manage automations and workflows."})]})})}const FR=Object.freeze(Object.defineProperty({__proto__:null,default:AR},Symbol.toStringTag,{value:"Module"}));function WR(){return r.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold",children:"Email Notifications"}),r.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:[r.jsx(xs,{size:14}),"Add Email"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure email notifications sent when this form is submitted."}),r.jsxs("div",{className:"border border-dashed border-border rounded-lg p-8 text-center",children:[r.jsx(Lr,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"No email notifications configured yet."}),r.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:'Click "Add Email" to create your first notification.'})]})]})}const HR=Object.freeze(Object.defineProperty({__proto__:null,default:WR},Symbol.toStringTag,{value:"Module"})),BR=mf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ay({className:e,variant:t,...n}){return r.jsx("div",{className:Le(BR({variant:t}),e),...n})}const bc=({theme:e,isActive:t,onApply:n,onDelete:s})=>{const i=!e.is_system&&e.user_id!==null,l=e.is_stub;return r.jsxs("div",{className:Le("relative group rounded-lg border border-border p-4 transition-all","hover:border-primary/50 hover:shadow-sm",t&&"border-primary ring-2 ring-primary/20"),children:[r.jsx("div",{className:"flex gap-1 mb-3",children:e.preview_colors.map((d,u)=>r.jsx("div",{className:"h-8 flex-1 rounded-sm border border-border/50",style:{backgroundColor:d}},u))}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:e.name}),l&&r.jsx(Ay,{variant:"secondary",className:"text-xs",children:"Coming Soon"}),t&&r.jsx(Ay,{variant:"default",className:"text-xs",children:"Active"})]}),e.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.description})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ln,{size:"sm",variant:t?"secondary":"default",className:"flex-1",disabled:l,onClick:()=>n(e.id),children:t?r.jsxs(r.Fragment,{children:[r.jsx(Ta,{className:"h-4 w-4 mr-1"}),"Applied"]}):l?"Coming Soon":"Apply"}),i&&r.jsx(ln,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>s?.(e.id),children:r.jsx(On,{className:"h-4 w-4"})})]})]})},Fy=({themes:e,activeThemeId:t,onApply:n,onDelete:s})=>{const i=e.filter(u=>u.is_system&&!u.is_stub),l=e.filter(u=>u.is_stub),d=e.filter(u=>!u.is_system);return r.jsxs("div",{className:"space-y-8",children:[i.length>0&&r.jsxs("section",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"System Themes"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.map(u=>r.jsx(bc,{theme:u,isActive:u.id===t,onApply:n,onDelete:s},u.id))})]}),l.length>0&&r.jsxs("section",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Coming Soon"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:l.map(u=>r.jsx(bc,{theme:u,onApply:n,onDelete:s},u.id))})]}),d.length>0&&r.jsxs("section",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"My Custom Themes"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:d.map(u=>r.jsx(bc,{theme:u,isActive:u.id===t,onApply:n,onDelete:s},u.id))})]}),e.length===0&&r.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No themes available"})]})},Wy=m.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Wy.displayName="Textarea";const UR=tr(["label","description","input","placeholder","error","required","fieldContainer","heading","paragraph","button","divider","optionLabel","cardContainer"]),_f=Cn({top:Yt().min(0).max(200).default(0),right:Yt().min(0).max(200).default(0),bottom:Yt().min(0).max(200).default(0),left:Yt().min(0).max(200).default(0)}),Tf={top:0,right:0,bottom:0,left:0},zf=Cn({fontSize:Yt().min(8).max(72).optional(),fontFamily:Ze().optional(),fontWeight:tr(["400","500","600","700"]).optional(),fontStyle:tr(["normal","italic"]).optional(),textAlign:tr(["left","center","right"]).optional(),textDecoration:tr(["none","underline","line-through"]).optional(),lineHeight:Yt().min(.5).max(3).optional(),letterSpacing:Yt().min(-2).max(10).optional(),color:Ze().regex(/^#[0-9A-Fa-f]{6}$/).optional(),margin:_f.optional(),padding:_f.optional(),border:_f.optional(),borderStyle:tr(["none","solid","dashed","dotted"]).optional(),borderColor:Ze().regex(/^#[0-9A-Fa-f]{6}$/).optional(),borderRadius:Yt().min(0).max(50).optional(),backgroundColor:Ze().regex(/^#[0-9A-Fa-f]{6}$/).optional(),width:Ze().optional(),minHeight:Yt().min(0).optional()});Cn({fontSize:gt().default(!1),fontFamily:gt().default(!1),fontWeight:gt().default(!1),fontStyle:gt().default(!1),textAlign:gt().default(!1),textDecoration:gt().default(!1),lineHeight:gt().default(!1),letterSpacing:gt().default(!1),color:gt().default(!1),margin:gt().default(!1),padding:gt().default(!1),border:gt().default(!1),borderRadius:gt().default(!1),backgroundColor:gt().default(!1),width:gt().default(!1),minHeight:gt().default(!1)}),Tl(UR,zf.partial()).optional();const VR={label:{fontSize:!0,fontFamily:!0,fontWeight:!0,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!0,letterSpacing:!1,color:!0,margin:!0,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},description:{fontSize:!0,fontFamily:!0,fontWeight:!1,fontStyle:!0,textAlign:!1,textDecoration:!1,lineHeight:!0,letterSpacing:!1,color:!0,margin:!0,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},input:{fontSize:!0,fontFamily:!0,fontWeight:!1,fontStyle:!1,textAlign:!0,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!0,margin:!1,padding:!0,border:!0,borderRadius:!0,backgroundColor:!0,width:!0,minHeight:!0},placeholder:{fontSize:!1,fontFamily:!1,fontWeight:!1,fontStyle:!0,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!0,margin:!1,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},error:{fontSize:!0,fontFamily:!1,fontWeight:!0,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!0,margin:!0,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},required:{fontSize:!0,fontFamily:!1,fontWeight:!0,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!0,margin:!1,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},fieldContainer:{fontSize:!1,fontFamily:!1,fontWeight:!1,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!1,margin:!0,padding:!0,border:!0,borderRadius:!0,backgroundColor:!0,width:!0,minHeight:!1},heading:{fontSize:!0,fontFamily:!0,fontWeight:!0,fontStyle:!1,textAlign:!0,textDecoration:!0,lineHeight:!0,letterSpacing:!0,color:!0,margin:!0,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},paragraph:{fontSize:!0,fontFamily:!0,fontWeight:!1,fontStyle:!0,textAlign:!0,textDecoration:!0,lineHeight:!0,letterSpacing:!1,color:!0,margin:!0,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},button:{fontSize:!0,fontFamily:!0,fontWeight:!0,fontStyle:!1,textAlign:!0,textDecoration:!1,lineHeight:!1,letterSpacing:!0,color:!0,margin:!0,padding:!0,border:!0,borderRadius:!0,backgroundColor:!0,width:!0,minHeight:!0},divider:{fontSize:!1,fontFamily:!1,fontWeight:!1,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!0,margin:!0,padding:!1,border:!0,borderRadius:!1,backgroundColor:!1,width:!0,minHeight:!1},optionLabel:{fontSize:!0,fontFamily:!0,fontWeight:!1,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!0,letterSpacing:!1,color:!0,margin:!1,padding:!1,border:!1,borderRadius:!1,backgroundColor:!1,width:!1,minHeight:!1},cardContainer:{fontSize:!1,fontFamily:!1,fontWeight:!1,fontStyle:!1,textAlign:!1,textDecoration:!1,lineHeight:!1,letterSpacing:!1,color:!1,margin:!0,padding:!0,border:!0,borderRadius:!0,backgroundColor:!0,width:!0,minHeight:!0}};function ZR(e,t){return VR[e]?.[t]??!1}const Hy={label:{fontSize:14,fontFamily:"inherit",fontWeight:"500",lineHeight:1.4,color:"#1f2937",margin:{top:0,right:0,bottom:4,left:0}},description:{fontSize:13,fontFamily:"inherit",fontStyle:"normal",lineHeight:1.4,color:"#6b7280",margin:{top:4,right:0,bottom:0,left:0}},input:{fontSize:14,fontFamily:"inherit",textAlign:"left",color:"#1f2937",padding:{top:8,right:12,bottom:8,left:12},border:{top:1,right:1,bottom:1,left:1},borderStyle:"solid",borderColor:"#d1d5db",borderRadius:6,backgroundColor:"#ffffff",width:"100%",minHeight:40},placeholder:{fontStyle:"normal",color:"#9ca3af"},error:{fontSize:13,fontWeight:"500",color:"#dc2626",margin:{top:4,right:0,bottom:0,left:0}},required:{fontSize:14,fontWeight:"400",color:"#dc2626"},fieldContainer:{margin:{top:0,right:0,bottom:16,left:0},padding:Tf,border:Tf,borderRadius:0,backgroundColor:"#ffffff00",width:"100%"},heading:{fontSize:24,fontFamily:"inherit",fontWeight:"600",textAlign:"left",textDecoration:"none",lineHeight:1.3,letterSpacing:0,color:"#111827",margin:{top:0,right:0,bottom:8,left:0}},paragraph:{fontSize:14,fontFamily:"inherit",fontStyle:"normal",textAlign:"left",textDecoration:"none",lineHeight:1.6,color:"#4b5563",margin:{top:0,right:0,bottom:12,left:0}},button:{fontSize:14,fontFamily:"inherit",fontWeight:"500",textAlign:"center",letterSpacing:0,color:"#ffffff",margin:{top:8,right:0,bottom:0,left:0},padding:{top:10,right:20,bottom:10,left:20},border:Tf,borderRadius:6,backgroundColor:"#2563eb",minHeight:40},divider:{color:"#e5e7eb",margin:{top:16,right:0,bottom:16,left:0},border:{top:1,right:0,bottom:0,left:0},width:"100%"},optionLabel:{fontSize:14,fontFamily:"inherit",lineHeight:1.4,color:"#374151"},cardContainer:{margin:{top:0,right:8,bottom:8,left:0},padding:{top:16,right:16,bottom:16,left:16},border:{top:2,right:2,bottom:2,left:2},borderRadius:8,backgroundColor:"#ffffff",width:"auto",minHeight:80}};function Rf(e){return Hy[e]??{}}class GR{constructor(){us(this,"globalStyles");us(this,"listeners");us(this,"version");this.globalStyles=new Map,this.listeners=new Set,this.version=0,this.resetAllToDefaults()}getGlobalStyle(t){return this.globalStyles.get(t)??Rf(t)}getGlobalProperty(t,n){return this.globalStyles.get(t)?.[n]}getAllGlobalStyles(){const t={};return this.globalStyles.forEach((n,s)=>{t[s]={...n}}),t}getVersion(){return this.version}setGlobalProperty(t,n,s){if(!ZR(t,n)){console.warn(`Node type '${t}' does not support property '${String(n)}'`);return}const l=this.globalStyles.get(t)??{};this.globalStyles.set(t,{...l,[n]:s}),this.incrementVersion(),this.notifyListeners()}setGlobalStyle(t,n){const s=this.globalStyles.get(t)??{};this.globalStyles.set(t,{...s,...n}),this.incrementVersion(),this.notifyListeners()}removeGlobalProperty(t,n){const s=this.globalStyles.get(t);if(!s||!(n in s))return;const i=Rf(t),l={...s};delete l[n],n in i&&Object.assign(l,{[n]:i[n]}),this.globalStyles.set(t,l),this.incrementVersion(),this.notifyListeners()}resetToDefault(t){this.globalStyles.set(t,{...Rf(t)}),this.incrementVersion(),this.notifyListeners()}resetAllToDefaults(){this.globalStyles.clear();for(const[t,n]of Object.entries(Hy))this.globalStyles.set(t,{...n});this.incrementVersion(),this.notifyListeners()}resolveStyle(t,n){const s=this.getGlobalStyle(t);return n?{...s,...n}:{...s}}isPropertyOverridden(t,n,s){const i=this.getGlobalProperty(t,n);return s!==void 0&&s!==i}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notifyListeners(){this.listeners.forEach(t=>{try{t()}catch(n){console.error("Style listener error:",n)}})}incrementVersion(){this.version++}exportStyles(){return JSON.stringify(this.getAllGlobalStyles(),null,2)}importStyles(t){try{const n=JSON.parse(t);for(const[s,i]of Object.entries(n)){const l=zf.partial().safeParse(i);l.success?this.globalStyles.set(s,l.data):console.warn(`Invalid styles for node type '${s}':`,l.error)}return this.incrementVersion(),this.notifyListeners(),!0}catch(n){return console.error("Failed to import styles:",n),!1}}toJSON(){return this.getAllGlobalStyles()}fromJSON(t){try{for(const[n,s]of Object.entries(t)){const i=zf.partial().safeParse(s);i.success&&this.globalStyles.set(n,i.data)}return this.incrementVersion(),this.notifyListeners(),!0}catch(n){return console.error("Failed to load styles:",n),!1}}getStats(){let t=0;return this.globalStyles.forEach(n=>{t+=Object.keys(n).length}),{nodeTypeCount:this.globalStyles.size,totalProperties:t,version:this.version,listenerCount:this.listeners.size}}}const By=new GR,Uy=({open:e,onOpenChange:t,onCreated:n})=>{const[s,i]=m.useState(""),[l,d]=m.useState(""),[u,p]=m.useState("light"),[h,g]=m.useState(!1),[v,y]=m.useState(null),b=async()=>{if(!s.trim()){y("Theme name is required");return}g(!0),y(null);try{const k=By.exportStyles(),N=JSON.parse(k),S=[N.input?.backgroundColor||"#ffffff",N.label?.color||"#1f2937",N.button?.backgroundColor||"#2563eb",N.input?.borderColor||"#d1d5db"];await wp.apiFetch({path:"/super-forms/v1/themes",method:"POST",data:{name:s.trim(),description:l.trim(),category:u,styles:N,preview_colors:S}}),i(""),d(""),p("light"),n()}catch(k){y(k instanceof Error?k.message:"Failed to save theme")}finally{g(!1)}};return r.jsx(ff,{open:e,onOpenChange:t,children:r.jsxs(ic,{className:"sm:max-w-[425px]",children:[r.jsxs(lc,{children:[r.jsx(cc,{children:"Save Current as Theme"}),r.jsx(dc,{children:"Save your current form styling as a reusable theme."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Fr,{htmlFor:"theme-name",children:"Theme Name"}),r.jsx(fc,{id:"theme-name",value:s,onChange:k=>i(k.target.value),placeholder:"My Custom Theme"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Fr,{htmlFor:"theme-description",children:"Description (optional)"}),r.jsx(Wy,{id:"theme-description",value:l,onChange:k=>d(k.target.value),placeholder:"A brief description of this theme...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Fr,{htmlFor:"theme-category",children:"Category"}),r.jsxs("select",{id:"theme-category",value:u,onChange:k=>p(k.target.value),className:"w-full px-3 py-2 border border-border rounded-md text-sm bg-background",children:[r.jsx("option",{value:"light",children:"Light"}),r.jsx("option",{value:"dark",children:"Dark"}),r.jsx("option",{value:"minimal",children:"Minimal"}),r.jsx("option",{value:"corporate",children:"Corporate"}),r.jsx("option",{value:"playful",children:"Playful"})]})]}),v&&r.jsx("p",{className:"text-sm text-destructive",children:v})]}),r.jsxs(pf,{children:[r.jsx(ln,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r.jsx(ln,{onClick:b,disabled:h,children:h?"Saving...":"Save Theme"})]})]})})};function Vy(){const[e,t]=m.useState([]),[n,s]=m.useState(!0),[i,l]=m.useState(null),[d,u]=m.useState(null),p=m.useCallback(async()=>{s(!0),l(null);try{const v=await wp.apiFetch({path:"/super-forms/v1/themes",method:"GET"});t(v)}catch(v){l(v instanceof Error?v.message:"Failed to load themes")}finally{s(!1)}},[]),h=m.useCallback(async v=>{try{const y=e.find(b=>b.id===v);if(!y||y.is_stub)return;By.importStyles(JSON.stringify(y.styles)),u(v)}catch(y){console.error("Failed to apply theme:",y)}},[e]),g=m.useCallback(async v=>{if(confirm("Are you sure you want to delete this theme?"))try{await wp.apiFetch({path:`/super-forms/v1/themes/${v}`,method:"DELETE"}),t(y=>y.filter(b=>b.id!==v))}catch(y){console.error("Failed to delete theme:",y)}},[]);return m.useEffect(()=>{p()},[p]),{themes:e,loading:n,error:i,activeThemeId:d,refresh:p,applyTheme:h,deleteTheme:g}}const YR=Object.freeze(Object.defineProperty({__proto__:null,CreateThemeDialog:Uy,ThemeCard:bc,ThemeGallery:Fy,ThemesTab:()=>{const{themes:e,loading:t,error:n,activeThemeId:s,refresh:i,applyTheme:l,deleteTheme:d}=Vy(),[u,p]=m.useState(!1);return t?r.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"Loading themes..."}):n?r.jsx("div",{className:"p-6 text-center text-destructive",children:n}):r.jsxs("div",{className:"flex-1 flex flex-col overflow-auto",children:[r.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Form Themes"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a preset theme or save your current styling"})]}),r.jsxs(ln,{onClick:()=>p(!0),size:"sm",variant:"outline",children:[r.jsx(xs,{className:"h-4 w-4 mr-2"}),"Save Current as Theme"]})]}),r.jsx("div",{className:"flex-1 overflow-auto p-4",children:r.jsx(Fy,{themes:e,activeThemeId:s??void 0,onApply:l,onDelete:d})}),r.jsx(Uy,{open:u,onOpenChange:p,onCreated:()=>{i(),p(!1)}})]})},useThemes:Vy},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=admin.js.map
